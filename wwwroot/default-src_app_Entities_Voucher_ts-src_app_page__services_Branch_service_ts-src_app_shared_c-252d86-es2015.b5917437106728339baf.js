(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["default-src_app_Entities_Voucher_ts-src_app_page__services_Branch_service_ts-src_app_shared_c-252d86"],{82825:function(t,e,n){"use strict";n.d(e,{qd:function(){return r},V$:function(){return o},B:function(){return i}});class r{constructor(){this.VoucherTypeCode=null,this.BranchID=null,this.UserID=0,this.Language="",this.PageNo=1,this.PageSize=10,this.orderby="",this.typeListOrCount=""}}class o{constructor(){this.ID=null,this.BranchID=null,this.Posted=!1,this.IsActive=!0,this.CurrencyID=null,this.ClassificationCategoryID=null,this.WorkItemID=null,this.WorkItemCode=null,this.SubContractorContractID=null,this.ExchangeRate=1,this.VoucherDetails=[],this.Service=[],this.links=[],this.Approved=!1,this.DeferEntry=!1,this.PaymentTypeId=null,this.PaidAmount=null,this.CashDrawerId=null,this.IsPosExpanceVoucher=!1,this.Prepaid=null,this.CollectionBookId=null,this.CollecterId=null,this.CollectionNumber="",this.CheeckBookID=null,this.DueDate=null,this.ReceiptID=null,this.InvoiceInstallmentsDetailsId=null}}class i{constructor(){this.ID=null,this.VoucherID=null,this.CostcenterID=null,this.AccountNoID=null,this.Debit=0,this.Credit=0,this.DebitForeign=0,this.CreditForeign=0,this.IsActive=!0,this.LocationID=null,this.DepartmentID=null,this.ClassID=null,this.Reconciled=!1,this.Cleared=!1,this.Accountcode="",this.Header=null,this.DivisionID=null}}},30445:function(t,e,n){"use strict";n.d(e,{b:function(){return c}});var r=n(79996),o=n(529),i=n(31572),a=n(29063);let c=(()=>{class t{constructor(t){this.http=t,this.baseUrl=o.N.apiUrl}BranchCreate(t){return this.http.post(this.baseUrl+"/Branch/BranchCreate",t).pipe((0,r.U)(t=>t))}BranchByID(t,e){return this.http.get(`${this.baseUrl}/Branch/GetBranchByID?ID=${t}&lang=${e}`).pipe((0,r.U)(t=>t))}BranchUpdate(t){return this.http.post(this.baseUrl+"/Branch/BranchUpdate",t).pipe((0,r.U)(t=>t))}DeleteBranch(t){return this.http.post(this.baseUrl+"/Branch/DeleteBranch",parseInt(t)).pipe((0,r.U)(t=>t))}BranchList(t,e,n,o,i){return this.http.get(`${this.baseUrl}/Branch/BranchList?SubsidiaryID=${t}&PageNo=${e}&PageSize=${n}&SearchValue=${o}&Orderby=${i}`).pipe((0,r.U)(t=>t))}BranchListCount(t,e){return this.http.get(`${this.baseUrl}/Branch/BranchListCount?SubsidiaryID=${t}&SearchValue=${e}`).pipe((0,r.U)(t=>t))}GetAllBranchBySub(t){return this.http.get(`${this.baseUrl}/Branch/GetAllBranchBySub?SubsidiaryID=${t}`).pipe((0,r.U)(t=>t))}GetAllBranchBySubs(t){return this.http.get(`${this.baseUrl}/Branch/GetAllBranchBySubs?SubsidiaryID=${t}`).pipe((0,r.U)(t=>t))}AllActiveBranchddlbysub(t){return this.http.get(`${this.baseUrl}/Branch/GetAllActiveBranchddlbysub?SubsidiaryID=${t}`).pipe((0,r.U)(t=>t))}GetLastBranchCode(t){return this.http.get(`${this.baseUrl}/Branch/GetLastBranchCode?SubsidiaryID=${t}`).pipe((0,r.U)(t=>t))}CheckCode(t,e,n){return this.http.get(`${this.baseUrl}/Branch/CheckCode?ID=${t}&code=${e}&SubsidiaryID=${n}`).pipe((0,r.U)(t=>t))}GetStore(t){return this.http.get(`${this.baseUrl}/Branch/GetStore?subsidiaryID=${t}`).pipe((0,r.U)(t=>t))}Getcostcenter(t,e,n,o=-1){var i=`${this.baseUrl}/Branch/Getcostcenter?subsidiaryID=${t}&where=${e}&lang=${n}&accountID=${o}`;return null!=e&&null!=e&&""!=e||(i=`${this.baseUrl}/Branch/Getcostcenter?subsidiaryID=${t}&lang=${n}&accountID=${o}`),this.http.get(i).pipe((0,r.U)(t=>t))}GetAllTrancostcenter(t,e){var n=`${this.baseUrl}/Branch/GetAllTrancostcenter?lang=${e}&where=${t}`;return null!=t&&null!=t&&""!=t||(n=`${this.baseUrl}/Branch/GetAllTrancostcenter?lang=${e}`),this.http.get(n).pipe((0,r.U)(t=>t))}IsDefaultActiveBranch(t){return this.http.get(`${this.baseUrl}/Branch/IsDefaultActiveBranch?subId=${t}`).pipe((0,r.U)(t=>t))}GetcostcenterByAccount(t,e,n=-1){return this.http.get(`${this.baseUrl}/Branch/GetcostcenterByAccount?lang=${t}&subsidiaryID=${e}&accountID=${n}`).pipe((0,r.U)(t=>t))}GetAllForDropdown(){return this.http.get(this.baseUrl+"/Branch/GetAllForDropdown").pipe((0,r.U)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](a.eN))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})()},47521:function(t,e,n){"use strict";n.d(e,{K:function(){return c}});var r=n(79996),o=n(529),i=n(31572),a=n(29063);let c=(()=>{class t{constructor(t){this._http=t,this.baseUrl=o.N.apiUrl}VoucherTypeCreate(t){return this._http.post(this.baseUrl+"/VoucherType/VoucherTypeCreate",t).pipe((0,r.U)(t=>t))}VoucherTypeByID(t){return this._http.get(`${this.baseUrl}/VoucherType/GetVoucherTypeByID?ID=${t}`).pipe((0,r.U)(t=>t))}VoucherTypeUpdate(t){return this._http.post(this.baseUrl+"/VoucherType/VoucherTypeUpdate",t).pipe((0,r.U)(t=>t))}DeleteVoucherType(t){return this._http.post(this.baseUrl+"/VoucherType/DeleteVoucherType",t).pipe((0,r.U)(t=>t))}VoucherTypesList(t,e,n){return this._http.get(`${this.baseUrl}/VoucherType/VoucherTypeList?PageNo=${t}&PageSize=${e}&SearchValue=${n}`).pipe((0,r.U)(t=>t))}VoucherTypesListCount(t){return this._http.get(`${this.baseUrl}/VoucherType/VoucherTypeCount?SearchValue=${t}`).pipe((0,r.U)(t=>t))}GetVoucherTypeNextNumber(){return this._http.get(`${this.baseUrl}/VoucherType/GetVoucherTypeNextNumber`).pipe((0,r.U)(t=>t))}CheckVoucherTypeRelation(t){return this._http.get(`${this.baseUrl}/VoucherType/CheckVoucherTypeRelation?ID=${t}`).pipe((0,r.U)(t=>t))}Core_GetVoucherTypebyCode(t){return this._http.get(`${this.baseUrl}/VoucherType/Core_GetVoucherTypebyCode?code=${t}`).pipe((0,r.U)(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275inject"](a.eN))},t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac}),t})()},38088:function(t,e,n){"use strict";n.d(e,{e:function(){return P}});var r=n(31572),o=n(16073),i=n(16676),a=n(22501),c=n.n(a),s=n(47521),h=n(3148),l=n(62120),u=n(48160),d=n(96898),g=n(63567),p=n(61511);const C=["input"];function b(t,e){1&t&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&t&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"Please enter code")," "))}function m(t,e){1&t&&(r["\u0275\u0275elementStart"](0,"span",11),r["\u0275\u0275text"](1),r["\u0275\u0275pipe"](2,"translate"),r["\u0275\u0275elementEnd"]()),2&t&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](2,1,"Please enter right code")," "))}function f(t,e){if(1&t&&(r["\u0275\u0275elementStart"](0,"span",8),r["\u0275\u0275template"](1,b,3,3,"span",9),r["\u0275\u0275template"](2,m,3,3,"span",10),r["\u0275\u0275elementEnd"]()),2&t){const t=r["\u0275\u0275nextContext"](2);r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.entrynoForm.get("Code").errors.required),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.entrynoForm.get("Code").errors.incorrect)}}function y(t,e){if(1&t&&(r["\u0275\u0275elementStart"](0,"span",6),r["\u0275\u0275elementStart"](1,"span",2),r["\u0275\u0275text"](2,"*"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,f,3,2,"span",7),r["\u0275\u0275elementEnd"]()),2&t){const t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!t.entrynoForm.get("Code").errors.valid)}}const _={provide:o.JU,useExisting:(0,r.forwardRef)(()=>P),multi:!0};let P=(()=>{class t{constructor(t,e,n,r,i,a,c){this.fb=t,this.cd=e,this._translateGlobalService=n,this.translate=r,this._voucherService=i,this._router=a,this._VoucherTypesService=c,this.c=new o.NI,this.VoucherID=0,this.inCode=null,this.swalEntrynoText="",this.swalEntrynoConfirmButton="",this.swalEntrynoCancel="",this.swalTitleEntryno="",this.errors=["*"],this.innerValue="",this.propagateChange=t=>{},this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(t=>{this.lang=t.lang,this.translate.use(t.lang)}),this.ngTransUnsubscribe=this.translate.get(["swalEntrynoText","swalEntrynoConfirmButton","swalEntrynoCancel","swalTitleEntryno"]).subscribe(t=>{this.swalEntrynoText=t.swalEntrynoText,this.swalEntrynoConfirmButton=t.swalEntrynoConfirmButton,this.swalEntrynoCancel=t.swalEntrynoCancel,this.swalTitleEntryno=t.swalTitleEntryno})}ngOnInit(){this.setEntrynoForm()}ngOnChanges(t){console.log(t,"parmsss"),this.VoucherID>0&&null!=t.inCode&&this.setVoucherCode(),null==t.subsidiaryID&&null==t.BranchID&&null==t.VoucherTypeCode&&null==t.VoucherID||this.GetVoucherCode()}ngAfterViewInit(){this.c.valueChanges.subscribe(()=>{""!=this.c.value&&null!=this.c.value&&null!=this.c.value||(this.innerValue="",this.inputRef.nativeElement.value="")})}setEntrynoForm(){this.entrynoForm=this.fb.group({Code:[this.inCode,[o.kI.required]]})}setVoucherCode(){this.entrynoForm.patchValue({Code:this.inCode})}onFocusOut(){let t=this.entrynoForm.controls.Code.value;null!=t&&null!=t&&""!=t.toString().trim()&&t!=this.inCode&&(this.codeVoucherUnsubscribe=this._voucherService.CheckVoucherNumberAndIsStandAlone(this.VoucherID,t,this.subsidiaryID,this.VoucherTypeCode,this.BranchID).subscribe(t=>{null!=t&&(this.entrynoForm.get("Code").setErrors({incorrect:!0}),10==this.VoucherTypeCode||11==this.VoucherTypeCode||12==this.VoucherTypeCode?(10==this.VoucherTypeCode&&c().fire({title:this.swalTitleEntryno,text:this.swalEntrynoText,footer:`<a class="btn btn-warning" href="/page/payables/vendorpayment/${t.id}" target="_blank">${this.swalEntrynoConfirmButton}</a>`,icon:"warning",confirmButtonColor:"#F55252",confirmButtonText:this.swalEntrynoCancel,customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1}).then(t=>{if(t.isConfirmed&&1==t.isConfirmed)return this.entrynoForm.get("Code").patchValue(this.inCode),void this.cd.markForCheck()}),11==this.VoucherTypeCode&&c().fire({title:this.swalTitleEntryno,text:this.swalEntrynoText,footer:`<a class="btn btn-warning" href="/page/receivables/customerreceipts/${t.id}" target="_blank">${this.swalEntrynoConfirmButton}</a>`,icon:"warning",confirmButtonColor:"#F55252",confirmButtonText:this.swalEntrynoCancel,customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1}).then(t=>{if(t.isConfirmed&&1==t.isConfirmed)return this.entrynoForm.get("Code").patchValue(this.inCode),void this.cd.markForCheck()}),12==this.VoucherTypeCode&&c().fire({title:this.swalTitleEntryno,text:this.swalEntrynoText,footer:`<a class="btn btn-warning" href="/page/receivables/creditnote/${t.id}" target="_blank">${this.swalEntrynoConfirmButton}</a>`,icon:"warning",confirmButtonColor:"#F55252",confirmButtonText:this.swalEntrynoCancel,customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1}).then(t=>{if(t.isConfirmed&&1==t.isConfirmed)return this.entrynoForm.get("Code").patchValue(this.inCode),void this.cd.markForCheck()})):20==this.VoucherTypeCode?c().fire({title:this.swalTitleEntryno,text:this.swalEntrynoText,footer:`<a class="btn btn-warning" href="/page/financial/moneytransfer/${t.id}" target="_blank">${this.swalEntrynoConfirmButton}</a>`,icon:"warning",confirmButtonColor:"#F55252",confirmButtonText:this.swalEntrynoCancel,customClass:{confirmButton:"btn btn-danger"},buttonsStyling:!1}).then(t=>{if(t.isConfirmed&&1==t.isConfirmed)return this.entrynoForm.get("Code").patchValue(this.inCode),void this.cd.markForCheck()}):c().fire({title:this.swalTitleEntryno,text:this.swalEntrynoText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalEntrynoConfirmButton,cancelButtonText:this.swalEntrynoCancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{if(e.value){let e="";"voucher"==this.formType&&(e="/page/financial/voucher/"+t.code+"/"+t.id),"cheque"==this.formType&&(e="/page/financial/checkvoucher/"+t.id),this._router.navigate([e]).then(()=>{window.location.reload()})}else this.entrynoForm.get("Code").patchValue(this.inCode)}))}))}GetVoucherCode(){if(0==this.VoucherID){let t,e=null!=this.BranchID?this.BranchID:0;this._VoucherTypesService.Core_GetVoucherTypebyCode(this.VoucherTypeCode).subscribe(n=>{var r;n&&n.length>0&&(t=null===(r=n[0])||void 0===r?void 0:r.vouchertypeserialcode),this.GetVoucherCodeParms(e,this.VoucherTypeCode)})}}GetVoucherCodeParms(t,e){this.codeVoucherUnsubscribe=this._voucherService.VoucherCodeBySubIDVouchertype(this.subsidiaryID,t,e).subscribe(t=>{this.inCode=t.length>0?(parseFloat(t[0].code)+1).toString():"1",this.entrynoForm.controls.Code.patchValue(this.inCode),console.log(this.entrynoForm.controls.Code.value,"Code"),this.cd.markForCheck()})}GetVoucherCodeParmsNotStandAlone(t,e,n){let r=this._voucherService.VoucherCodeBySubIDVouchertype(this.subsidiaryID,t,e),o=this._voucherService.VoucherCodeBySubIDVouchertype(this.subsidiaryID,t,n);(0,h.D)([r,o]).subscribe(([t,e])=>{let n=0,r=0,o=0;t.length>0&&(n=parseFloat(t[0].code)),e.length>0&&(r=parseFloat(e[0].code)),o=r>=n?r:n,this.inCode=(o+1).toString(),this.entrynoForm.patchValue({Code:this.inCode}),this.cd.markForCheck()})}onChange(t,e){for(var n in this.innerValue=e,this.propagateChange(this.innerValue),this.innerValue%1!=0&&(this.c.setErrors({incorrect:!0}),this.entrynoForm.get("Code").setErrors({incorrect:!0})),this.errors=[],this.c.errors)this.c.errors.hasOwnProperty(n)&&this.errors.push("required"===n?"This field is required":this.c.errors[n])}get value(){return this.innerValue}set value(t){t!==this.innerValue&&(this.innerValue=t)}writeValue(t){this.innerValue=t}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}ngOnDestroy(){null!=this.ngTransUnsubscribe&&(this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()),null!=this.codeVoucherUnsubscribe&&(this.codeVoucherUnsubscribe.next(),this.codeVoucherUnsubscribe.complete())}}return t.\u0275fac=function(e){return new(e||t)(r["\u0275\u0275directiveInject"](o.qu),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef),r["\u0275\u0275directiveInject"](l.K),r["\u0275\u0275directiveInject"](u.sK),r["\u0275\u0275directiveInject"](i.H),r["\u0275\u0275directiveInject"](d.F0),r["\u0275\u0275directiveInject"](s.K))},t.\u0275cmp=r["\u0275\u0275defineComponent"]({type:t,selectors:[["entryno-code"]],viewQuery:function(t,e){if(1&t&&r["\u0275\u0275viewQuery"](C,5),2&t){let t;r["\u0275\u0275queryRefresh"](t=r["\u0275\u0275loadQuery"]())&&(e.inputRef=t.first)}},inputs:{c:"c",formType:"formType",subsidiaryID:"subsidiaryID",BranchID:"BranchID",VoucherID:"VoucherID",controlvouchernumanddate:"controlvouchernumanddate",VoucherTypeCode:"VoucherTypeCode",inCode:"inCode"},features:[r["\u0275\u0275ProvidersFeature"]([_,i.H,s.K]),r["\u0275\u0275NgOnChangesFeature"]],decls:9,vars:9,consts:[[3,"formGroup"],[1,"mb-1"],[2,"color","red","font-weight","bold"],["type","number","min","1","formControlName","Code","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"readonly","stepallow","focusout","blur"],["input",""],["class","help-block",4,"ngIf"],[1,"help-block"],["class","has-error",4,"ngIf"],[1,"has-error"],[4,"ngIf"],["style","font-size: 14px;",4,"ngIf"],[2,"font-size","14px"]],template:function(t,e){if(1&t){const t=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"label",1),r["\u0275\u0275text"](2),r["\u0275\u0275pipe"](3,"translate"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"span",2),r["\u0275\u0275text"](5,"*"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"input",3,4),r["\u0275\u0275listener"]("focusout",function(){return e.onFocusOut()})("blur",function(n){r["\u0275\u0275restoreView"](t);const o=r["\u0275\u0275reference"](7);return e.onChange(n,o.value)}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,y,4,1,"span",5),r["\u0275\u0275elementEnd"]()}2&t&&(r["\u0275\u0275property"]("formGroup",e.entrynoForm),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](r["\u0275\u0275pipeBind1"](3,7,"VoucherNumber")),r["\u0275\u0275advance"](4),r["\u0275\u0275classProp"]("has-error",e.entrynoForm.get("Code").errors),r["\u0275\u0275property"]("readonly",0==e.controlvouchernumanddate)("stepallow",1),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",(e.entrynoForm.get("Code").touched||e.entrynoForm.get("Code").dirty)&&!e.entrynoForm.get("Code").valid))},directives:[o.JL,o.sg,o.qQ,o.wV,o.Fj,o.JJ,o.u,g.L,p.O5],pipes:[u.X$],styles:[".has-error[_ngcontent-%COMP%]{border:1px solid red}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}"],changeDetection:0}),t})()},573:function(t,e,n){"use strict";n.d(e,{_:function(){return f}});var r=n(22501),o=n.n(r),i=n(31572),a=n(16676),c=n(25181),s=n(96898),h=n(7427),l=n(48160),u=n(62120),d=n(16073),g=n(61511),p=n(82270);function C(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.name)}}function b(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"span"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&t){const t=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.name_ar)}}function m(t,e){if(1&t&&(i["\u0275\u0275elementStart"](0,"option",17),i["\u0275\u0275template"](1,C,2,1,"span",18),i["\u0275\u0275template"](2,b,2,1,"span",18),i["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("value",t.id),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"!=n.lang),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf","ar"==n.lang)}}let f=(()=>{class t{constructor(t,e,n,r,o,i,a,c){this._VoucherService=t,this.cd=e,this.toastr=n,this._router=r,this._generalService=o,this.translate=i,this._translateGlobalService=a,this.BranchID=0,this.BranchList=[],this.BranchIDSelected=null,this.voucherPage=0,this.SelectBranchMsg="",this.EntryNumberMsg="",this.EntryNumNotExist="",this.VoucherNumber="",this.Cancel="",this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(t=>{this.lang=t.lang,this.dir=t.dir,this.translate.use(t.lang),this.ngTransUnsubscribe=this.translate.get(["SelectBranchError","EntryNumberMsg","EntryNumNotExist","VoucherNumber","Cancel"]).subscribe(t=>{this.SelectBranchMsg=t.SelectBranchError,this.EntryNumberMsg=t.EntryNumberMsg,this.EntryNumNotExist=t.EntryNumNotExist,this.VoucherNumber=t.VoucherNumber,this.Cancel=t.Cancel})})}set VoucherTypeCodeProperty(t){this.VoucherTypeCode=t}set BranchListProperty(t){this.BranchList=t}set subsidiaryIDProperty(t){this.subsidiaryID=t}set codeProperty(t){this.code=t}set BranchIDProperty(t){this.BranchID=t,this.BranchIDSelected=this.BranchID}set voucherPageProperty(t){this.voucherPage=t}SearchVouchers(){null==this.BranchIDSelected?this.toastr.warning(this.SelectBranchMsg):null!=this._VoucherNumber&&null!=this._VoucherNumber?this._VoucherService.SearchVouchersByCode(this.subsidiaryID,this.VoucherTypeCode,this.BranchIDSelected,this._VoucherNumber).subscribe(t=>{if(t.length>0){let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this.BranchIDSelected})),0==this.voucherPage&&this._router.navigate(["/page/financial/voucher/"+this.VoucherTypeCode+"/"+t[0].id]).then(()=>{window.location.reload()}),1==this.voucherPage&&this._router.navigate(["/page/financial/checkvoucher/"+t[0].id]).then(()=>{window.location.reload()}),2==this.voucherPage&&this._router.navigate(["/page/financial/moneytransfer/"+t[0].id]).then(()=>{window.location.reload()}),3==this.voucherPage&&this._router.navigate(["/page/receivables/reconciliation/"+t[0].id]).then(()=>{window.location.reload()}),4==this.voucherPage&&this._router.navigate(["/page/receivables/customerreceipts/"+t[0].id]).then(()=>{window.location.reload()}),5==this.voucherPage&&this._router.navigate(["/page/receivables/creditnote/"+t[0].id]).then(()=>{window.location.reload()}),10==this.voucherPage&&this._router.navigate(["/page/payables/vendorpayment/"+t[0].id]).then(()=>{window.location.reload()}),14==this.voucherPage&&this._router.navigate(["/page/payables/debitnote/"+t[0].id]).then(()=>{window.location.reload()})}else o().fire({title:this.VoucherNumber,text:this.EntryNumNotExist,confirmButtonColor:"#2F8BE6",confirmButtonText:"Ok",customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1})}):o().fire({title:this.VoucherNumber,text:this.EntryNumberMsg,confirmButtonColor:"#2F8BE6",confirmButtonText:"Ok",customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1})}SearchVouchersfirstlast(t){null!=this.BranchID&&null!=this.BranchID&&this.BranchID>0?this._VoucherService.SearchVouchersfirstlast(this.subsidiaryID,this.VoucherTypeCode,this.BranchID,t).subscribe(t=>{t.length>0&&(0==this.voucherPage&&this._router.navigate(["/page/financial/voucher/"+this.VoucherTypeCode+"/"+t[0].id]).then(()=>{window.location.reload()}),1==this.voucherPage&&this._router.navigate(["/page/financial/checkvoucher/"+t[0].id]).then(()=>{window.location.reload()}),2==this.voucherPage&&this._router.navigate(["/page/financial/moneytransfer/"+t[0].id]).then(()=>{window.location.reload()}),3==this.voucherPage&&this._router.navigate(["/page/receivables/reconciliation/"+t[0].id]).then(()=>{window.location.reload()}),4==this.voucherPage&&this._router.navigate(["/page/receivables/customerreceipts/"+t[0].id]).then(()=>{window.location.reload()}),5==this.voucherPage&&this._router.navigate(["/page/receivables/creditnote/"+t[0].id]).then(()=>{window.location.reload()}),10==this.voucherPage&&this._router.navigate(["/page/payables/vendorpayment/"+t[0].id]).then(()=>{window.location.reload()}),14==this.voucherPage&&this._router.navigate(["/page/payables/debitnote/"+t[0].id]).then(()=>{window.location.reload()}))}):this.toastr.warning(this.SelectBranchMsg)}SearchVouchersPreviousNext(t){null!=this.BranchID&&null!=this.BranchID&&this.BranchID>0?this._VoucherService.SearchPreviousNextVoucher(this.subsidiaryID,this.VoucherTypeCode,this.BranchID,this.code,t).subscribe(t=>{t.length>0&&(0==this.voucherPage&&this._router.navigate(["/page/financial/voucher/"+this.VoucherTypeCode+"/"+t[0].id]).then(()=>{window.location.reload()}),1==this.voucherPage&&this._router.navigate(["/page/financial/checkvoucher/"+t[0].id]).then(()=>{window.location.reload()}),2==this.voucherPage&&this._router.navigate(["/page/financial/moneytransfer/"+t[0].id]).then(()=>{window.location.reload()}),3==this.voucherPage&&this._router.navigate(["/page/receivables/reconciliation/"+t[0].id]).then(()=>{window.location.reload()}),4==this.voucherPage&&this._router.navigate(["/page/receivables/customerreceipts/"+t[0].id]).then(()=>{window.location.reload()}),5==this.voucherPage&&this._router.navigate(["/page/receivables/creditnote/"+t[0].id]).then(()=>{window.location.reload()}),10==this.voucherPage&&this._router.navigate(["/page/payables/vendorpayment/"+t[0].id]).then(()=>{window.location.reload()}),14==this.voucherPage&&this._router.navigate(["/page/payables/debitnote/"+t[0].id]).then(()=>{window.location.reload()}))}):this.toastr.warning(this.SelectBranchMsg)}ngOnDestroy(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](a.H),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](c._W),i["\u0275\u0275directiveInject"](s.F0),i["\u0275\u0275directiveInject"](h.m),i["\u0275\u0275directiveInject"](l.sK),i["\u0275\u0275directiveInject"](u.K),i["\u0275\u0275directiveInject"](s.gz))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["SearchVoucher-AddEdit"]],inputs:{VoucherTypeCodeProperty:["VoucherTypeCode","VoucherTypeCodeProperty"],BranchListProperty:["Branch","BranchListProperty"],subsidiaryIDProperty:["subsidiary","subsidiaryIDProperty"],codeProperty:["code","codeProperty"],BranchIDProperty:["BranchID","BranchIDProperty"],voucherPageProperty:["voucherPage","voucherPageProperty"]},decls:28,vars:9,consts:[[1,"row"],[1,"col-md-6","col-xs-12"],[1,"form-group"],["for","Branch",1,"mb-1"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange"],["Branch","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","VoucherNumber",1,"mb-1"],["type","number","id","VoucherNumber","name","VoucherNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["VoucherNumber","ngModel"],[1,"col-xl-12","col-lg-4","col-md-5","col-xs-12","searchBarSection","text-center"],["type","button",1,"btn","mx-1","btn-light",3,"click"],[1,"fa","fa-angle-double-left"],[1,"fa","fa-angle-left"],["aria-hidden","true",1,"fa","fa-search"],["aria-hidden","true",1,"fa","fa-angle-right"],["aria-hidden","true",1,"fa","fa-angle-double-right"],[3,"value"],[4,"ngIf"]],template:function(t,e){1&t&&(i["\u0275\u0275elementStart"](0,"form"),i["\u0275\u0275elementStart"](1,"div",0),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275elementStart"](3,"div",2),i["\u0275\u0275elementStart"](4,"label",3),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"select",4,5),i["\u0275\u0275listener"]("ngModelChange",function(t){return e.BranchIDSelected=t}),i["\u0275\u0275template"](9,m,3,3,"option",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"div",1),i["\u0275\u0275elementStart"](11,"div",2),i["\u0275\u0275elementStart"](12,"label",7),i["\u0275\u0275text"](13),i["\u0275\u0275pipe"](14,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"input",8,9),i["\u0275\u0275listener"]("ngModelChange",function(t){return e._VoucherNumber=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",10),i["\u0275\u0275elementStart"](18,"button",11),i["\u0275\u0275listener"]("click",function(){return e.SearchVouchersfirstlast(1)}),i["\u0275\u0275element"](19,"i",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](20,"button",11),i["\u0275\u0275listener"]("click",function(){return e.SearchVouchersPreviousNext(1)}),i["\u0275\u0275element"](21,"i",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"button",11),i["\u0275\u0275listener"]("click",function(){return e.SearchVouchers()}),i["\u0275\u0275element"](23,"i",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"button",11),i["\u0275\u0275listener"]("click",function(){return e.SearchVouchersPreviousNext(2)}),i["\u0275\u0275element"](25,"i",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"button",11),i["\u0275\u0275listener"]("click",function(){return e.SearchVouchersfirstlast(2)}),i["\u0275\u0275element"](27,"i",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&t&&(i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](6,5,"Branch")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.BranchIDSelected),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.BranchList),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](14,7,"VoucherNumber")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e._VoucherNumber))},directives:[d._Y,d.JL,d.F,d.EJ,d.Q7,d.JJ,d.On,g.sg,d.qQ,d.wV,d.Fj,p.K,d.YN,d.Kr,g.O5],pipes:[l.X$],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}']}),t})()}}]);
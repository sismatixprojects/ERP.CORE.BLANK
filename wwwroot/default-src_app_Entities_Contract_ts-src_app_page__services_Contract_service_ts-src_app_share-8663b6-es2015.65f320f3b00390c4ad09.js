(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["default-src_app_Entities_Contract_ts-src_app_page__services_Contract_service_ts-src_app_share-8663b6"],{62216:function(e,t,n){"use strict";n.d(t,{ji:function(){return l},VP:function(){return i},K$:function(){return a}});class l{constructor(){this.subsidiaryid=null,this.receiptid="",this.branchid=null,this.userid=0,this.entryno=null,this.RealState=!1,this.orderby="",this.lang="",this.pageno=1,this.pagesize=10}}class i{constructor(){this.BranchID=null,this.FromDateString="",this.ToDateString=""}}class a{constructor(){this.filter=!1,this.filterby=0}}},67901:function(e,t,n){"use strict";n.d(t,{M:function(){return l},$:function(){return i}});class l{constructor(){this.id=null,this.name="",this.deposit=null,this.deposittype=!0,this.installmentcounts=1,this.period=1,this.periodtypeid=1,this.name_ar="",this.installmentvalue=0,this.firstdueperiod=1,this.profitpercentage=null,this.SearchValue="",this.installmenttypesfilecategory=[]}}class i{constructor(){this.id=0,this.installmenttypeid=0,this.archivingfilecategoryid=0,this.required=!0}}},78183:function(e,t,n){"use strict";n.d(t,{U:function(){return s}});var l=n(79996),i=n(529),a=n(31572),r=n(29063);let s=(()=>{class e{constructor(e){this.http=e,this.baseUrl=i.N.apiUrl}GetAllReceiptList(e){return this.http.post(this.baseUrl+"/Contract/GetAllReceiptList",e).pipe((0,l.U)(e=>(console.log(e),e)))}GetAllReceiptListCount(e){return this.http.post(this.baseUrl+"/Contract/GetReceiptListCount",e).pipe((0,l.U)(e=>(console.log(e),e)))}GetsubsidiaryDateFormate(e){return this.http.get(`${this.baseUrl}/Subsidiary/GetSubsidiariesDetailsByID?ID=${e}`).pipe((0,l.U)(e=>e))}AllActiveUserBranchddl(e){return this.http.get(`${this.baseUrl}/Branch/AllActiveUserBranchddl?SubsidiaryID=${e}`).pipe((0,l.U)(e=>e))}GetAllApprovalStatus(e){return this.http.get(`${this.baseUrl}/Contract/GetAllApprovalStatus?subid=${e}`).pipe((0,l.U)(e=>e))}GetContractById(e,t){return this.http.get(`${this.baseUrl}/Contract/ContractByID?ContractID=${e}&subsidiaryID=${t}`).pipe((0,l.U)(e=>e))}ContractInsert(e){return this.http.post(this.baseUrl+"/Contract/ContractInsert",e).pipe((0,l.U)(e=>e))}ContractUpdate(e){return this.http.post(this.baseUrl+"/Contract/ContractUpdate",e).pipe((0,l.U)(e=>e))}DeleteContractById(e){return this.http.get(`${this.baseUrl}/Contract/ContractDelete?id=${e}`).pipe((0,l.U)(e=>e))}GetAllContractTasksList(e){return this.http.get(`${this.baseUrl}/Contract/GetAllContractTaskList?userid=${e}`).pipe((0,l.U)(e=>e))}GetAllContractTasksCount(e){return this.http.get(`${this.baseUrl}/Contract/GetAllContractTaskList?userid=${e}`).pipe((0,l.U)(e=>e))}GetContractTaskById(e){return this.http.get(`${this.baseUrl}/Contract/GetContractTaskbyID?ID=${e}`).pipe((0,l.U)(e=>e))}ContractTaskCreate(e){return this.http.post(this.baseUrl+"/Contract/ContractTaskCreate",e).pipe((0,l.U)(e=>e))}ContractTaskUpdate(e){return this.http.post(this.baseUrl+"/Contract/ContractTaskUpdate",e).pipe((0,l.U)(e=>e))}DeleteContractTaskById(e){return this.http.get(`${this.baseUrl}/Contract/DeleteContractTask?ID=${e}`).pipe((0,l.U)(e=>e))}GetContractList(e,t){return this.http.get(`${this.baseUrl}/Contract/GetContracts?subsidiaryID=${e}&where=${t}`).pipe((0,l.U)(e=>e))}GetAllInstallmentTypes(){return this.http.get(`${this.baseUrl}/CreditSalesInstallments/GetAllInstallmentTypesList`).pipe((0,l.U)(e=>e))}GetContractAndDetailsByID(e){return this.http.get(`${this.baseUrl}/Contract/GetContractAndDetailsByID?ReceiptID=${e}`).pipe((0,l.U)(e=>e))}GetRSContractAndDetailsByID(e){return this.http.get(`${this.baseUrl}/Contract/GetRSContractAndDetailsByID?ReceiptID=${e}`).pipe((0,l.U)(e=>e))}CustomerAndContractList(e,t){return this.http.get(`${this.baseUrl}/Contract/CustomerAndContractList?SubsidiaryID=${e}&SearchValue=${t}`).pipe((0,l.U)(e=>e))}ReceiptToCustomer(e,t,n){return this.http.get(`${this.baseUrl}/Contract/ReceiptToCustomer?SubId=${e}&CustomerId=${t}&ReceiptNo=${n}`).pipe((0,l.U)(e=>e))}GetUnitDataDetailsLists(e,t){return this.http.get(`${this.baseUrl}/Contract/GetUnitDataDetailsLists?SubsidiaryID=${e}&ItemID=${t}`).pipe((0,l.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](r.eN))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},64861:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var l=n(79996),i=n(529),a=n(31572),r=n(29063);let s=(()=>{class e{constructor(e){this.http=e,this.baseUrl=i.N.apiUrl}GetAllInstallmentTypes(){return this.http.get(`${this.baseUrl}/CreditSalesInstallments/GetAllInstallmentTypesList`).pipe((0,l.U)(e=>e))}GetCurrency(e){return this.http.get(`${this.baseUrl}/CreditSalesInstallments/GetCurrency?SubsidaryID=${e}`).pipe((0,l.U)(e=>e))}GetInstallmentSettings(e,t){return this.http.get(`${this.baseUrl}/CreditSalesInstallments/GetInstallmentSettings?InvoiceID=${e}&SubsidaryID=${t}`).pipe((0,l.U)(e=>e))}GetInvoiceInstallmentByID(e){return this.http.get(`${this.baseUrl}/CreditSalesInstallments/GetInvoiceInstallmentByID?InvoiceInstallmentsId=${e}`).pipe((0,l.U)(e=>e))}GetTotalPaid(e){return this.http.get(`${this.baseUrl}/CreditSalesInstallments/GetTotalPaid?InvoiceID=${e}`).pipe((0,l.U)(e=>e))}GenerateInvoiceInstallments(e){return this.http.post(`${this.baseUrl}/CreditSalesInstallments/GenerateInvoiceInstallments`,e).pipe((0,l.U)(e=>e))}GenerateSubInstallments(e){return this.http.post(`${this.baseUrl}/CreditSalesInstallments/GenerateSubInstallments`,e).pipe((0,l.U)(e=>e))}GetarchivingFileCategories(e){return this.http.get(`${this.baseUrl}/CreditSalesInstallments/GetarchivingFileCategories?InstallmentsTypeID=${e}`).pipe((0,l.U)(e=>e))}DeleteInstallments(e,t){return this.http.get(`${this.baseUrl}/CreditSalesInstallments/DeleteInstallments?installmentId=${e}&Lang=${t}`).pipe((0,l.U)(e=>e))}EditInvoiceInstallmentsDetails(e){return this.http.post(`${this.baseUrl}/CreditSalesInstallments/EditInvoiceInstallmentsDetails`,e).pipe((0,l.U)(e=>e))}ApproveInvoiceInstallments(e,t){return this.http.get(`${this.baseUrl}/CreditSalesInstallments/ApproveInvoiceInstallments?ID=${e}&Lang=${t}`).pipe((0,l.U)(e=>e))}CreditSalesInstallmentsSave(e){return this.http.post(`${this.baseUrl}/CreditSalesInstallments/CreditSalesInstallmentsSave`,e).pipe((0,l.U)(e=>e))}SaveInstallmentsDetails(e){return this.http.post(`${this.baseUrl}/CreditSalesInstallments/SaveInstallmentsDetails`,e).pipe((0,l.U)(e=>e))}GetVendorCreditAndCurrency(e,t,n,i){return this.http.get(`${this.baseUrl}/CreditSalesInstallments/GetVendorCreditAndCurrency?InvoiceID=${e}&CurrencyID=${t}&VendorID=${n}&SubsidaryID=${i}`).pipe((0,l.U)(e=>e))}getCurrencyById(e){return this.http.get(`${this.baseUrl}/Currency/getCurrencyById?id=${e}`).pipe((0,l.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](r.eN))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},64010:function(e,t,n){"use strict";n.d(t,{j:function(){return ce}});var l=n(31572),i=n(22501),a=n.n(i),r=n(64861),s=n(7427),o=n(83801),d=n(67901),c=n(82589),p=n(96898),u=n(48160),m=n(62120),h=n(5851),g=n(25181),v=n(61511),I=n(16073),C=n(63567),y=n(20590);function f(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name)}}function b(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name_ar)}}function x(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"option",36),l["\u0275\u0275template"](1,f,2,1,"span",22),l["\u0275\u0275template"](2,b,2,1,"span",22),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275property"]("selected",e.id==n.InstallmentsTypeID),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"!=n.lang),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const S=function(e){return{readonlyDiv:e}};function P(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"div",9),l["\u0275\u0275elementStart"](2,"div",10),l["\u0275\u0275elementStart"](3,"label",11),l["\u0275\u0275text"](4),l["\u0275\u0275pipe"](5,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",13),l["\u0275\u0275elementStart"](7,"input",37),l["\u0275\u0275listener"]("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).installment.currency=t}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"div",10),l["\u0275\u0275elementStart"](9,"label",11),l["\u0275\u0275text"](10),l["\u0275\u0275pipe"](11,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"div",13),l["\u0275\u0275elementStart"](13,"div",38),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2)._generalService.onFocusControl("profitvalueforeign")}),l["\u0275\u0275text"](14),l["\u0275\u0275pipe"](15,"numberFormat"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"input",39),l["\u0275\u0275listener"]("keyup",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).ProfitValueForeignChange(t)})("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).installment.profitvalueforeign=t})("focusout",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2)._generalService.onFocusoutControl("profitvalueforeign")}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](17,"br"),l["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](5,7,"Currency")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngModel",e.installment.currency),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](11,9,"ProfitValueForeign")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](14,S,1==e.installment.currencyrate||e.installmentid>0&&e.invoiceinstallmentsdetailscount>0)),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](15,11,e.installment.profitvalueforeign,e.CurrencyPrecision)," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",e.installment.profitvalueforeign),l["\u0275\u0275attribute"]("readonly",1==e.installment.currencyrate||e.installmentid>0&&e.invoiceinstallmentsdetailscount>0||null)}}function M(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",10),l["\u0275\u0275elementStart"](1,"button",41),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"](3);return t.generateInstallment(t.installment)}),l["\u0275\u0275element"](2,"i",42),l["\u0275\u0275text"](3),l["\u0275\u0275pipe"](4,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"](3);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("disabled",(null==e.vouchercount?null:e.vouchercount.vouchercount)>0||null),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](4,2,"Generate Installment")," ")}}function D(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",10),l["\u0275\u0275elementStart"](1,"button",43),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"](3),n=l["\u0275\u0275reference"](7);return t.OpenModal(n,2)}),l["\u0275\u0275element"](2,"i",42),l["\u0275\u0275text"](3),l["\u0275\u0275pipe"](4,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}2&e&&(l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](4,1,"Installment Generation")," "))}function E(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"div",10),l["\u0275\u0275elementStart"](2,"button",44),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](3).deleteAllInstallment()}),l["\u0275\u0275element"](3,"i",45),l["\u0275\u0275text"](4),l["\u0275\u0275pipe"](5,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",10),l["\u0275\u0275elementStart"](7,"button",46),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](3).addInstallment()}),l["\u0275\u0275element"](8,"i",47),l["\u0275\u0275text"](9),l["\u0275\u0275pipe"](10,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"div",10),l["\u0275\u0275elementStart"](12,"button",33),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](3).SaveInsatllments()}),l["\u0275\u0275text"](13),l["\u0275\u0275pipe"](14,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"](3);l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("disabled",(null==e.vouchercount?null:e.vouchercount.vouchercount)>0||null),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](5,4,"Delete All Installment")," "),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](10,6,"Add New Installment")," "),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](14,8,"Save")," ")}}function _(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div",9),l["\u0275\u0275template"](1,M,5,4,"div",40),l["\u0275\u0275template"](2,D,5,3,"div",40),l["\u0275\u0275template"](3,E,15,10,"ng-container",22),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",0==e.EnableRealState),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",1==e.EnableRealState),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.IsGenerateInstallment)}}function F(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name)}}function O(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name_ar)}}function V(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"option",36),l["\u0275\u0275template"](1,F,2,1,"span",22),l["\u0275\u0275template"](2,O,2,1,"span",22),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"]().$implicit,i=l["\u0275\u0275nextContext"](3);l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275property"]("selected",n.installmentdetailtypeid==e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"!=i.lang),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function w(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name)}}function T(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name_ar)}}function k(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"option",36),l["\u0275\u0275template"](1,w,2,1,"span",22),l["\u0275\u0275template"](2,T,2,1,"span",22),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"]().$implicit,i=l["\u0275\u0275nextContext"](3);l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275property"]("selected",n.installmentstypeid==e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"!=i.lang),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function G(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name)}}function $(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name_ar)}}function B(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"option",36),l["\u0275\u0275template"](1,G,2,1,"span",22),l["\u0275\u0275template"](2,$,2,1,"span",22),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"]().$implicit,i=l["\u0275\u0275nextContext"](3);l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275property"]("selected",n.statusid==e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"!=i.lang),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"==i.lang)}}const U=function(e){return{addDisplayNone:e}};function L(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"button",68),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"](),n=t.$implicit,i=t.index;return l["\u0275\u0275nextContext"](3).EditValue(n,i)}),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"button",69),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"](),n=t.$implicit,i=t.index;return l["\u0275\u0275nextContext"](3).SaveValue(n,i)}),l["\u0275\u0275text"](5),l["\u0275\u0275pipe"](6,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](8,U,!(null!=e&&e.isdisabled))),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](3,4,"EditValue")," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](10,U,null==e?null:e.isdisabled)),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](6,6,"SaveValue")," ")}}function A(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"button",70),l["\u0275\u0275text"](1),l["\u0275\u0275pipe"](2,"translate"),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](2,1,"EditValue")," "))}function R(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"button",71),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"](),n=t.$implicit,i=t.index;return l["\u0275\u0275nextContext"](3).deleteRow(n,i)}),l["\u0275\u0275element"](2,"i",72),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()}}function j(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"button",73),l["\u0275\u0275element"](1,"i",72),l["\u0275\u0275elementEnd"]())}const N=function(e){return{"custom-input":e}};function z(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275elementStart"](4,"input",58,59),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentdate=e}),l["\u0275\u0275pipe"](6,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"td"),l["\u0275\u0275elementStart"](8,"div",60),l["\u0275\u0275listener"]("click",function(){const t=l["\u0275\u0275restoreView"](e).index;return l["\u0275\u0275nextContext"](3)._generalService.onFocusControl("generatedinstallmentvalue"+t)}),l["\u0275\u0275text"](9),l["\u0275\u0275pipe"](10,"numberFormat"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"input",61),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentvalue=e})("keyup",function(t){const n=l["\u0275\u0275restoreView"](e).$implicit,i=l["\u0275\u0275nextContext"](3);return i.installmentValueChange(n,i.index,t)})("focusout",function(){const t=l["\u0275\u0275restoreView"](e).index;return l["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("generatedinstallmentvalue"+t)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"td"),l["\u0275\u0275elementStart"](13,"select",62,63),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentdetailtypeid=e}),l["\u0275\u0275template"](15,V,3,4,"option",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"td"),l["\u0275\u0275elementStart"](17,"select",62,63),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentstypeid=e}),l["\u0275\u0275template"](19,k,3,4,"option",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"td"),l["\u0275\u0275elementStart"](21,"select",62,64),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.statusid=e}),l["\u0275\u0275template"](23,B,3,4,"option",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](24,"td"),l["\u0275\u0275template"](25,L,7,12,"ng-container",65),l["\u0275\u0275template"](26,A,3,3,"ng-template",null,66,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"td"),l["\u0275\u0275template"](29,R,3,0,"ng-container",65),l["\u0275\u0275template"](30,j,2,0,"ng-template",null,67,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=l["\u0275\u0275reference"](27),a=l["\u0275\u0275reference"](31),r=l["\u0275\u0275nextContext"](3);l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](n+1),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",l["\u0275\u0275pipeBind2"](6,31,e.installmentdate,"yyyy-MM-dd")),l["\u0275\u0275attribute"]("disabled",0!=(null==e?null:e.vouchercount)||null),l["\u0275\u0275advance"](4),l["\u0275\u0275propertyInterpolate1"]("id","Display_generatedinstallmentvalue",n,""),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](37,S,(null==e?null:e.isdisabled)&&!(null!=e&&e.isaddednew))),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](10,34,e.installmentvalue,r.CurrencyPrecision)," "),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate1"]("id","generatedinstallmentvalue",n,""),l["\u0275\u0275propertyInterpolate1"]("name","generatedinstallmentvalue",n,""),l["\u0275\u0275propertyInterpolate"]("value",e.installmentvalue),l["\u0275\u0275property"]("ngModel",e.installmentvalue)("hidden",!0)("readonly",!(null==e||!e.isdisabled||null!=e&&e.isaddednew)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",e.installmentdetailtypeid)("ngClass",l["\u0275\u0275pureFunction1"](39,N,!(null!=e&&e.isaddednew))),l["\u0275\u0275attribute"]("readonly",null==e||!e.isaddednew||null)("disabled",null==e||!e.isaddednew||null),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",r.InstallmentDetailsType),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",e.installmentstypeid)("ngClass",l["\u0275\u0275pureFunction1"](41,N,!(null!=e&&e.isaddednew))),l["\u0275\u0275attribute"]("readonly",null==e||!e.isaddednew||null)("disabled",null==e||!e.isaddednew||null),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",r.InstallmentTypes),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",e.statusid)("ngClass",l["\u0275\u0275pureFunction1"](43,N,!(null!=e&&e.isaddednew))),l["\u0275\u0275attribute"]("readonly",null==e||!e.isaddednew||null)("disabled",null==e||!e.isaddednew||null),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",r.InstallmentDetailsStatusesList),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",0==(null==e?null:e.vouchercount)&&1!=(null==e?null:e.statusid))("ngIfElse",i),l["\u0275\u0275advance"](4),l["\u0275\u0275property"]("ngIf",0==(null==e?null:e.vouchercount))("ngIfElse",a)}}function W(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"div",48),l["\u0275\u0275elementStart"](2,"table",49),l["\u0275\u0275elementStart"](3,"thead"),l["\u0275\u0275elementStart"](4,"tr"),l["\u0275\u0275elementStart"](5,"th",50),l["\u0275\u0275text"](6),l["\u0275\u0275pipe"](7,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"th",51),l["\u0275\u0275text"](9),l["\u0275\u0275pipe"](10,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"th",51),l["\u0275\u0275text"](12),l["\u0275\u0275pipe"](13,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"th",52),l["\u0275\u0275text"](15),l["\u0275\u0275pipe"](16,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"th",52),l["\u0275\u0275text"](18),l["\u0275\u0275pipe"](19,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"th",52),l["\u0275\u0275text"](21),l["\u0275\u0275pipe"](22,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](23,"th",53),l["\u0275\u0275element"](24,"th"),l["\u0275\u0275element"](25,"th",54),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"tbody"),l["\u0275\u0275template"](27,z,32,45,"tr",55),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"tfoot"),l["\u0275\u0275elementStart"](29,"tr",56),l["\u0275\u0275element"](30,"td"),l["\u0275\u0275elementStart"](31,"td"),l["\u0275\u0275text"](32),l["\u0275\u0275pipe"](33,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](34,"td"),l["\u0275\u0275elementStart"](35,"label"),l["\u0275\u0275text"](36),l["\u0275\u0275pipe"](37,"numberFormat"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](38,"td",57),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](39,"tr",56),l["\u0275\u0275element"](40,"td"),l["\u0275\u0275elementStart"](41,"td"),l["\u0275\u0275text"](42),l["\u0275\u0275pipe"](43,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](44,"td"),l["\u0275\u0275elementStart"](45,"label"),l["\u0275\u0275text"](46),l["\u0275\u0275pipe"](47,"numberFormat"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](48,"td",57),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](7,11,"SerialNum")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](10,13,"Date")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](13,15,"Value")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](16,17,"Type")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](19,19,"InstallmentType")),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](22,21,"Status")," "),l["\u0275\u0275advance"](6),l["\u0275\u0275property"]("ngForOf",e.generatedInstallmentsList),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](33,23,"TotalPaid")),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind2"](37,25,e.TotalPaid,e.CurrencyPrecision)),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](43,28,"TotalUnPaid")),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind2"](47,30,e.TotalUnPaid,e.CurrencyPrecision))}}function q(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",3),l["\u0275\u0275elementStart"](1,"h6",4),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"button",5),l["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),l["\u0275\u0275elementStart"](5,"span",6),l["\u0275\u0275text"](6,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"div"),l["\u0275\u0275element"](8,"br"),l["\u0275\u0275elementStart"](9,"div",7),l["\u0275\u0275elementStart"](10,"fieldset",8),l["\u0275\u0275elementStart"](11,"div",9),l["\u0275\u0275elementStart"](12,"div",10),l["\u0275\u0275elementStart"](13,"label",11),l["\u0275\u0275text"](14),l["\u0275\u0275pipe"](15,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"span",12),l["\u0275\u0275text"](17," *"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"div",13),l["\u0275\u0275elementStart"](19,"select",14,15),l["\u0275\u0275listener"]("change",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().changeInstallmentsTypeID(t)})("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().installment.installmentstypeid=t}),l["\u0275\u0275template"](21,x,3,4,"option",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"div",10),l["\u0275\u0275elementStart"](23,"label",11),l["\u0275\u0275text"](24),l["\u0275\u0275pipe"](25,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](26,"span",12),l["\u0275\u0275text"](27," *"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"div",13),l["\u0275\u0275elementStart"](29,"input",17,18),l["\u0275\u0275listener"]("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().installment.startdate=t}),l["\u0275\u0275pipe"](31,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](32,"br"),l["\u0275\u0275elementStart"](33,"div",9),l["\u0275\u0275elementStart"](34,"div",10),l["\u0275\u0275elementStart"](35,"label",11),l["\u0275\u0275text"](36),l["\u0275\u0275pipe"](37,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](38,"span",12),l["\u0275\u0275text"](39," *"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](40,"div",13),l["\u0275\u0275elementStart"](41,"div",19),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]()._generalService.onFocusControl("InvoiceValue")}),l["\u0275\u0275text"](42),l["\u0275\u0275pipe"](43,"numberFormat"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](44,"input",20),l["\u0275\u0275listener"]("focusout",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]()._generalService.onFocusoutControl("InvoiceValue")})("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().installment.invoicevalue=t}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](45,"div",10),l["\u0275\u0275elementStart"](46,"label",11),l["\u0275\u0275text"](47),l["\u0275\u0275pipe"](48,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](49,"div",13),l["\u0275\u0275elementStart"](50,"input",21),l["\u0275\u0275listener"]("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().installment.status=t}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](51,"br"),l["\u0275\u0275template"](52,P,18,16,"ng-container",22),l["\u0275\u0275elementStart"](53,"div",9),l["\u0275\u0275elementStart"](54,"div",10),l["\u0275\u0275elementStart"](55,"label",11),l["\u0275\u0275text"](56),l["\u0275\u0275pipe"](57,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](58,"div",13),l["\u0275\u0275elementStart"](59,"input",23),l["\u0275\u0275listener"]("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().installment.profitpercentage=t})("keyup",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().ProfitPercentageChange(t)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](60,"div",10),l["\u0275\u0275elementStart"](61,"label",11),l["\u0275\u0275text"](62),l["\u0275\u0275pipe"](63,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](64,"div",13),l["\u0275\u0275elementStart"](65,"div",24),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]()._generalService.onFocusControl("profitvalue")}),l["\u0275\u0275text"](66),l["\u0275\u0275pipe"](67,"numberFormat"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](68,"input",25),l["\u0275\u0275listener"]("keyup",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().ProfitValuesChange(t)})("focusout",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]()._generalService.onFocusoutControl("profitvalue")})("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().installment.profitvalue=t}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](69,"br"),l["\u0275\u0275elementStart"](70,"div",9),l["\u0275\u0275elementStart"](71,"div",10),l["\u0275\u0275elementStart"](72,"label",11),l["\u0275\u0275text"](73),l["\u0275\u0275pipe"](74,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](75,"span",12),l["\u0275\u0275text"](76," *"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](77,"div",13),l["\u0275\u0275elementStart"](78,"div",26),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]()._generalService.onFocusControl("previouslypaid")}),l["\u0275\u0275text"](79),l["\u0275\u0275pipe"](80,"numberFormat"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](81,"input",27),l["\u0275\u0275listener"]("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().installment.previouslypaid=t}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](82,"div",28),l["\u0275\u0275elementStart"](83,"input",29),l["\u0275\u0275listener"]("change",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().installment.takepreviouslypaid=t.target.checked})("checkedChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().installment.takepreviouslypaid=t}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](84,"label",30),l["\u0275\u0275text"](85),l["\u0275\u0275pipe"](86,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](87,"br"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](88,_,4,3,"div",31),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](89,W,49,33,"ng-container",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](90,"div",32),l["\u0275\u0275elementStart"](91,"button",33),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().SaveInsatllments()}),l["\u0275\u0275text"](92),l["\u0275\u0275pipe"](93,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](94,"button",34),l["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),l["\u0275\u0275element"](95,"i",35),l["\u0275\u0275text"](96),l["\u0275\u0275pipe"](97,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](3,38,"ContractInstallments")),l["\u0275\u0275advance"](8),l["\u0275\u0275property"]("disabled",!!e.IsGenerateInstallment||null),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](15,40,"Type")),l["\u0275\u0275advance"](5),l["\u0275\u0275classProp"]("custom-input",e.installmentid>0&&e.invoiceinstallmentsdetailscount>0||null),l["\u0275\u0275property"]("ngModel",e.installment.installmentstypeid)("ngClass",l["\u0275\u0275pureFunction1"](72,N,e.IsGenerateInstallment)),l["\u0275\u0275attribute"]("disabled",e.installmentid>0&&e.invoiceinstallmentsdetailscount>0||null)("readonly",e.installmentid>0&&e.invoiceinstallmentsdetailscount>0||null),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",e.InstallmentTypes),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](25,42,"Date")),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngModel",l["\u0275\u0275pipeBind2"](31,44,e.installment.startdate,"yyyy-MM-dd")),l["\u0275\u0275attribute"]("readonly",e.installmentid>0&&e.invoiceinstallmentsdetailscount>0||null),l["\u0275\u0275advance"](7),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](37,47,"Invoice Value")),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](43,49,null==e.installment?null:e.installment.invoicevalue,e.CurrencyPrecision)," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",e.installment.invoicevalue),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](48,52,"Status")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngModel",e.installment.status),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",""!=e.installment.currency),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](57,54,"Profit Percentage")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngModel",e.installment.profitpercentage),l["\u0275\u0275attribute"]("readonly",e.installmentid>0&&e.invoiceinstallmentsdetailscount>0||null),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](63,56,"ProfitValues")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](74,S,1!=e.installment.currencyrate||e.installmentid>0&&e.invoiceinstallmentsdetailscount>0)),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](67,58,e.installment.profitvalue,e.CurrencyPrecision)," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",e.installment.profitvalue),l["\u0275\u0275attribute"]("readonly",1!=e.installment.currencyrate||e.installmentid>0&&e.invoiceinstallmentsdetailscount>0||null),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](74,61,"PreviouslyPaid")),l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](80,63,e.installment.previouslypaid,e.CurrencyPrecision)," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",e.installment.previouslypaid),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("checked",e.installment.takepreviouslypaid)("ngClass",l["\u0275\u0275pureFunction1"](76,N,e.IsGenerateInstallment)),l["\u0275\u0275attribute"]("readonly",e.installmentid>0&&e.invoiceinstallmentsdetailscount>0||null),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](86,66,"Take Previously Paid in Installments")),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",null==e.installment.creditreturnreceiptid||0==e.installment.creditreturnreceiptid),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.IsGenerateInstallment),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](93,68,"Save")," "),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"]("",l["\u0275\u0275pipeBind1"](97,70,"Cancel")," ")}}function K(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name)}}function J(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name_ar)}}function Q(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"option",36),l["\u0275\u0275template"](1,K,2,1,"span",22),l["\u0275\u0275template"](2,J,2,1,"span",22),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"](2);l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275property"]("selected",e.id==n.SubInstallment.installmentstypeid),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"!=n.lang),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function X(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"div",74),l["\u0275\u0275elementStart"](2,"button",80),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](3).deleteAllInstallment(2)}),l["\u0275\u0275element"](3,"i",45),l["\u0275\u0275text"](4),l["\u0275\u0275pipe"](5,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](6,"div",74),l["\u0275\u0275elementStart"](7,"button",33),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](3).SaveSubInstallment()}),l["\u0275\u0275text"](8),l["\u0275\u0275pipe"](9,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()}2&e&&(l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](5,2,"Delete All Installment")," "),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](9,4,"Save")," "))}function Y(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",9),l["\u0275\u0275elementStart"](1,"div",74),l["\u0275\u0275elementStart"](2,"button",41),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275nextContext"](2);return t.generateInstallment(t.SubInstallment,2)}),l["\u0275\u0275element"](3,"i",42),l["\u0275\u0275text"](4),l["\u0275\u0275pipe"](5,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](6,X,10,6,"ng-container",22),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("disabled",(null==e.vouchercount?null:e.vouchercount.vouchercount)>0||null),l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](5,3,"Generate Installment")," "),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",e.SubInstallmentDetails.length>0)}}function H(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name)}}function Z(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name_ar)}}function ee(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"option",36),l["\u0275\u0275template"](1,H,2,1,"span",22),l["\u0275\u0275template"](2,Z,2,1,"span",22),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"]().$implicit,i=l["\u0275\u0275nextContext"](3);l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275property"]("selected",n.installmentdetailtypeid==e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"!=i.lang),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function te(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name)}}function ne(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name_ar)}}function le(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"option",36),l["\u0275\u0275template"](1,te,2,1,"span",22),l["\u0275\u0275template"](2,ne,2,1,"span",22),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"]().$implicit,i=l["\u0275\u0275nextContext"](3);l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275property"]("selected",n.installmentstypeid==e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"!=i.lang),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ie(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name)}}function ae(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"span"),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]().$implicit;l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate"](null==e?null:e.name_ar)}}function re(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"option",36),l["\u0275\u0275template"](1,ie,2,1,"span",22),l["\u0275\u0275template"](2,ae,2,1,"span",22),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=l["\u0275\u0275nextContext"]().$implicit,i=l["\u0275\u0275nextContext"](3);l["\u0275\u0275propertyInterpolate"]("value",e.id),l["\u0275\u0275property"]("selected",n.statusid==e.id),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"!=i.lang),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function se(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"tr"),l["\u0275\u0275elementStart"](1,"td"),l["\u0275\u0275text"](2),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"td"),l["\u0275\u0275elementStart"](4,"input",58,59),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentdate=e}),l["\u0275\u0275pipe"](6,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"td"),l["\u0275\u0275elementStart"](8,"div",60),l["\u0275\u0275listener"]("click",function(){const t=l["\u0275\u0275restoreView"](e).index;return l["\u0275\u0275nextContext"](3)._generalService.onFocusControl("Subgeneratedinstallmentvalue"+t)}),l["\u0275\u0275text"](9),l["\u0275\u0275pipe"](10,"numberFormat"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"input",81),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentvalue=e})("keyup",function(t){const n=l["\u0275\u0275restoreView"](e).$implicit,i=l["\u0275\u0275nextContext"](3);return i.installmentValueChange(n,i.index,t)})("focusout",function(){const t=l["\u0275\u0275restoreView"](e).index;return l["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("Subgeneratedinstallmentvalue"+t)}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"td"),l["\u0275\u0275elementStart"](13,"select",62,63),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentdetailtypeid=e}),l["\u0275\u0275template"](15,ee,3,4,"option",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"td"),l["\u0275\u0275elementStart"](17,"select",62,63),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.installmentstypeid=e}),l["\u0275\u0275template"](19,le,3,4,"option",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"td"),l["\u0275\u0275elementStart"](21,"select",62,64),l["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.statusid=e}),l["\u0275\u0275template"](23,re,3,4,"option",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=l["\u0275\u0275nextContext"](3);l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](n+1),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",l["\u0275\u0275pipeBind2"](6,27,e.installmentdate,"yyyy-MM-dd")),l["\u0275\u0275attribute"]("disabled",0!=(null==e?null:e.vouchercount)||null),l["\u0275\u0275advance"](4),l["\u0275\u0275propertyInterpolate1"]("id","Display_Subgeneratedinstallmentvalue",n,""),l["\u0275\u0275property"]("ngClass",l["\u0275\u0275pureFunction1"](33,S,(null==e?null:e.isdisabled)&&!(null!=e&&e.isaddednew))),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind2"](10,30,e.installmentvalue,i.CurrencyPrecision)," "),l["\u0275\u0275advance"](2),l["\u0275\u0275propertyInterpolate"]("value",e.installmentvalue),l["\u0275\u0275propertyInterpolate1"]("id","Subgeneratedinstallmentvalue",n,""),l["\u0275\u0275propertyInterpolate1"]("name","Subgeneratedinstallmentvalue",n,""),l["\u0275\u0275property"]("ngModel",e.installmentvalue)("hidden",!0)("readonly",!(null==e||!e.isdisabled||null!=e&&e.isaddednew)),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",e.installmentdetailtypeid)("ngClass",l["\u0275\u0275pureFunction1"](35,N,!(null!=e&&e.isaddednew))),l["\u0275\u0275attribute"]("readonly",null==e||!e.isaddednew||null)("disabled",null==e||!e.isaddednew||null),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",i.InstallmentDetailsType),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",e.installmentstypeid)("ngClass",l["\u0275\u0275pureFunction1"](37,N,!(null!=e&&e.isaddednew))),l["\u0275\u0275attribute"]("readonly",null==e||!e.isaddednew||null)("disabled",null==e||!e.isaddednew||null),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",i.InstallmentTypes),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngModel",e.statusid)("ngClass",l["\u0275\u0275pureFunction1"](39,N,!(null!=e&&e.isaddednew))),l["\u0275\u0275attribute"]("readonly",null==e||!e.isaddednew||null)("disabled",null==e||!e.isaddednew||null),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",i.InstallmentDetailsStatusesList)}}function oe(e,t){if(1&e&&(l["\u0275\u0275elementContainerStart"](0),l["\u0275\u0275elementStart"](1,"div",48),l["\u0275\u0275elementStart"](2,"table",49),l["\u0275\u0275elementStart"](3,"thead"),l["\u0275\u0275elementStart"](4,"tr"),l["\u0275\u0275elementStart"](5,"th",50),l["\u0275\u0275text"](6),l["\u0275\u0275pipe"](7,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"th",51),l["\u0275\u0275text"](9),l["\u0275\u0275pipe"](10,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"th",51),l["\u0275\u0275text"](12),l["\u0275\u0275pipe"](13,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](14,"th",52),l["\u0275\u0275text"](15),l["\u0275\u0275pipe"](16,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"th",52),l["\u0275\u0275text"](18),l["\u0275\u0275pipe"](19,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"th",52),l["\u0275\u0275text"](21),l["\u0275\u0275pipe"](22,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"tbody"),l["\u0275\u0275template"](24,se,24,41,"tr",55),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerEnd"]()),2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](6),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](7,7,"SerialNum")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](10,9,"Date")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](13,11,"Value")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](16,13,"Type")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](19,15,"InstallmentType")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](22,17,"Status")," "),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngForOf",e.SubInstallmentDetails)}}function de(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",3),l["\u0275\u0275elementStart"](1,"h6",4),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"button",5),l["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),l["\u0275\u0275elementStart"](5,"span",6),l["\u0275\u0275text"](6,"\xd7"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](7,"div"),l["\u0275\u0275element"](8,"br"),l["\u0275\u0275elementStart"](9,"div",7),l["\u0275\u0275elementStart"](10,"fieldset"),l["\u0275\u0275elementStart"](11,"div",9),l["\u0275\u0275elementStart"](12,"label"),l["\u0275\u0275text"](13),l["\u0275\u0275pipe"](14,"translate"),l["\u0275\u0275pipe"](15,"numberFormat"),l["\u0275\u0275pipe"](16,"translate"),l["\u0275\u0275pipe"](17,"numberFormat"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](18,"div",9),l["\u0275\u0275elementStart"](19,"div",74),l["\u0275\u0275elementStart"](20,"label",11),l["\u0275\u0275text"](21),l["\u0275\u0275pipe"](22,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](23,"span",12),l["\u0275\u0275text"](24," *"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](25,"div",75),l["\u0275\u0275elementStart"](26,"select",76,15),l["\u0275\u0275listener"]("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().SubInstallment.installmentstypeid=t})("change",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().ChangeSubType(t)}),l["\u0275\u0275template"](28,Q,3,4,"option",16),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](29,"div",9),l["\u0275\u0275elementStart"](30,"div",74),l["\u0275\u0275elementStart"](31,"label",11),l["\u0275\u0275text"](32),l["\u0275\u0275pipe"](33,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](34,"span",12),l["\u0275\u0275text"](35," *"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](36,"div",75),l["\u0275\u0275elementStart"](37,"input",17,18),l["\u0275\u0275listener"]("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().SubInstallment.startdate=t}),l["\u0275\u0275pipe"](39,"date"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](40,"br"),l["\u0275\u0275elementStart"](41,"div",9),l["\u0275\u0275elementStart"](42,"div",74),l["\u0275\u0275elementStart"](43,"label",11),l["\u0275\u0275text"](44),l["\u0275\u0275pipe"](45,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](46,"span",12),l["\u0275\u0275text"](47," *"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](48,"div",75),l["\u0275\u0275elementStart"](49,"input",77),l["\u0275\u0275listener"]("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().SubInstallmentType.installmentvalue=t}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](50,"div",9),l["\u0275\u0275elementStart"](51,"div",74),l["\u0275\u0275elementStart"](52,"label",11),l["\u0275\u0275text"](53),l["\u0275\u0275pipe"](54,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](55,"span",12),l["\u0275\u0275text"](56," *"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](57,"div",75),l["\u0275\u0275elementStart"](58,"input",78),l["\u0275\u0275listener"]("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().SubInstallmentType.period=t}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](59,"br"),l["\u0275\u0275elementStart"](60,"div",9),l["\u0275\u0275elementStart"](61,"div",74),l["\u0275\u0275elementStart"](62,"label",11),l["\u0275\u0275text"](63),l["\u0275\u0275pipe"](64,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](65,"span",12),l["\u0275\u0275text"](66," *"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](67,"div",75),l["\u0275\u0275elementStart"](68,"input",79),l["\u0275\u0275listener"]("ngModelChange",function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().SubInstallmentType.installmentcounts=t}),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](69,"br"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](70,Y,7,5,"div",31),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](71,oe,25,19,"ng-container",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](72,"div",32),l["\u0275\u0275elementStart"](73,"button",33),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().SaveSubInstallment()}),l["\u0275\u0275text"](74),l["\u0275\u0275pipe"](75,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](76,"button",34),l["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),l["\u0275\u0275element"](77,"i",35),l["\u0275\u0275text"](78),l["\u0275\u0275pipe"](79,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](3,20,"Installment Generation")),l["\u0275\u0275advance"](11),l["\u0275\u0275textInterpolate4"](" ",l["\u0275\u0275pipeBind1"](14,22,"TotalGenerate")," : ",l["\u0275\u0275pipeBind2"](15,24,e.TotalGenerate,e.CurrencyPrecision)," ",l["\u0275\u0275pipeBind1"](16,27,"From")," : ",l["\u0275\u0275pipeBind2"](17,29,null==e.installment?null:e.installment.invoicevalue,e.CurrencyPrecision),""),l["\u0275\u0275advance"](8),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](22,32,"Type")),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngModel",e.SubInstallment.installmentstypeid),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngForOf",e.InstallmentTypes),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](33,34,"Date")),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngModel",l["\u0275\u0275pipeBind2"](39,36,e.SubInstallment.startdate,"yyyy-MM-dd")),l["\u0275\u0275advance"](7),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](45,39,"Installment Value")),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngModel",e.SubInstallmentType.installmentvalue),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](54,41,"Lead")),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngModel",e.SubInstallmentType.period),l["\u0275\u0275advance"](5),l["\u0275\u0275textInterpolate"](l["\u0275\u0275pipeBind1"](64,43,"Installment Counts")),l["\u0275\u0275advance"](5),l["\u0275\u0275property"]("ngModel",e.SubInstallmentType.installmentcounts),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("ngIf",null==e.SubInstallment.creditreturnreceiptid||0==e.SubInstallment.creditreturnreceiptid),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.IsGenerateInstallment),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](75,45,"Save")," "),l["\u0275\u0275advance"](4),l["\u0275\u0275textInterpolate1"]("",l["\u0275\u0275pipeBind1"](79,47,"Cancel")," ")}}let ce=(()=>{class e{constructor(e,t,n,i,a,r,s,o,c,p,u){this.spinner=e,this._CreditSalesInstallmentsService=t,this.cd=n,this._router=i,this.translate=r,this._translateGlobalService=s,this.modalService=o,this.toastr=c,this.datepipe=p,this._generalService=u,this.InstallmentList=[],this.InvoiceID=0,this.custID=0,this.subsidiaryID=0,this.InvoiceValue=0,this.InvoiceValueForeign=0,this.InvoiceCurrencyID=0,this.InvoiceCurrencyRate=1,this.InvoiceDate=new Date,this.CurrencyPrecision=3,this.CurrencyID=0,this.invoice={},this.installmentObj={},this.vouchercount={},this.generatedInstallments=[],this.generatedInstallmentsList=[],this.SubInstallmentDetails=[],this.installment=null,this.SubInstallment=null,this.SubInstallmentType=new d.M,this.invoiceinstallmentsdetailscount=0,this.IsGenerateInstallment=!1,this.InstallmentsTypeID=0,this.installmentid=0,this.DepositValue=0,this.TotalValue=0,this.TotalPaid=0,this.TotalUnPaid=0,this.TotalGenerate=0,this.OriginalInvoiceValue=0,this.EnableRealState=!1,this.VoucherID=null,this.SaveMsg="",this.InstallmentDetailList=new l.EventEmitter,this.MsgErrorSelectFrist="",this.Status="",this.TotalInstallmentsValueWarning="",this.InstallmentDateVSInvoiceDateModal="",this.ValidateInstallmentDateModal="",this.InvalidProfitPercentage="",this.InvalidProfitValue="",this.InvalidInvoiceValue="",this.InvalidInstallmentsTypeDepositValue="",this.InvalidInstallmentType="",this.InvalidStartDate="",this.InvalidPreviouslyPaid="",this.DeleteErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.swalDetlateCancel="",this.ApproveInvoiceInstallmentsInvalid="",this.InstallmentTypes=[],this.InstallmentDetailsType=[],this.InstallmentDetailsStatusesList=[],this._linkedList=[],this.InvoiceCurrencyPrecision=0,this.SubInstallmentTotal=0,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["SelectFristCustomerFrist","Draft","TotalInstallmentsValueWarning","InstallmentDateVSInvoiceDateModal","ValidateInstallmentDateModal","InvalidProfitPercentage","InvalidProfitValue","InvalidInvoiceValue","InvalidInstallmentsTypeDepositValue","InvalidInstallmentType","InvalidStartDate","InvalidPreviouslyPaid","DeleteErrorMsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Cancel","ApproveInvoiceInstallmentsInvalid","SaveMsg"]).subscribe(e=>{this.MsgErrorSelectFrist=e.SelectFristCustomerFrist,this.Status=e.Draft,this.TotalInstallmentsValueWarning=e.TotalInstallmentsValueWarning,this.InstallmentDateVSInvoiceDateModal=e.InstallmentDateVSInvoiceDateModal,this.ValidateInstallmentDateModal=e.ValidateInstallmentDateModal,this.InvalidProfitPercentage=e.InvalidProfitPercentage,this.InvalidProfitValue=e.InvalidProfitValue,this.InvalidInvoiceValue=e.InvalidInvoiceValue,this.InvalidInstallmentsTypeDepositValue=e.InvalidInstallmentsTypeDepositValue,this.InvalidInstallmentType=e.InvalidInstallmentType,this.InvalidStartDate=e.InvalidStartDate,this.InvalidPreviouslyPaid=e.InvalidPreviouslyPaid,this.DeleteErrorMsg=e.DeleteErrorMsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.swalDetlateCancel=e.Cancel,this.ApproveInvoiceInstallmentsInvalid=e.ApproveInvoiceInstallmentsInvalid,this.SaveMsg=e.SaveMsg})})}set ReciptIdProperty(e){null!=e&&""!=e&&(this.InvoiceID=e)}set custIDProperty(e){this.custID=e,null!=e&&""!=e&&this.GetInstallmentSettings()}set subsidiaryIDProperty(e){this.subsidiaryID=e,null!=e&&""!=e&&(this.FillDropDownLists(),this.GetCurrency())}set InvoiceValueProperty(e){null!=e&&(this.InvoiceValue=e,this.GetInstallmentSettings())}set iInvoiceValueForeignProperty(e){null!=e&&(this.InvoiceValueForeign=e)}set InvoiceCurrencyIDProperty(e){null!=e&&(this.InvoiceCurrencyID=e,this.GetInstallmentSettings())}set InvoiceCurrencyRateProperty(e){this.InvoiceCurrencyRate=null!=e?e:1}set InvoiceDateProperty(e){null!=e&&(this.InvoiceDate=e)}set InstallmentProperty(e){null!=e&&(this.installment=e)}set EnableRealStateProperty(e){this.EnableRealState=e}FillDropDownLists(){this.GetAllInstallmentTypes(),this.GetAllInstallmentDetailsType(),this.GetInstallmentDetailsStatusesList()}GetCurrency(){this._CreditSalesInstallmentsService.GetCurrency(this.subsidiaryID).subscribe(e=>{e&&null!=e?(this.CurrencyPrecision=e.currencyprecision,this.CurrencyID=e.id):(this.CurrencyPrecision=3,this.CurrencyID=0),this.cd.markForCheck()})}GetAllInstallmentTypes(){this._CreditSalesInstallmentsService.GetAllInstallmentTypes().subscribe(e=>{this.InstallmentTypes=[],this.InstallmentTypes=e,this.cd.markForCheck()})}GetAllInstallmentDetailsType(){this.InstallmentDetailsType=[{name:"Deposit ",name_ar:"\u0627\u0644\u062f\u0641\u0639\u0629 \u0627\u0644\u0645\u0642\u062f\u0645\u0629",id:1},{name:"Installment",name_ar:"\u0642\u0633\u0637",id:2}]}GetInstallmentDetailsStatusesList(){this.InstallmentDetailsStatusesList=[{name:"Paid",name_ar:"\u0645\u0633\u062f\u062f",id:1},{name:"UnPaid",name_ar:"\u063a\u064a\u0631 \u0645\u0633\u062f\u062f",id:2},{name:"Partly Paid",name_ar:"\u0645\u0633\u062f\u062f \u062c\u0632\u0626\u064a\u0627",id:3}]}ngOnInit(){}OpenModal(e,t=1){null==this.custID||0==this.custID||null==this.custID?this.toastr.error(this.MsgErrorSelectFrist):2==t?(this.SubInstallmentTotal=0,this.SubInstallment=new o.WT,this.SubInstallment.startdate=this.InvoiceDate,this.SubInstallment.currency=this.installment.currency,this.SubInstallment.currencyrate=this.installment.currencyrate,this.SubInstallment.status=this.installment.status,this.SubInstallment.installmentstypeid=this.InstallmentTypes[0].id,this.SubInstallment.invoicevalue=this.installment.invoicevalue,this.SubInstallment.invoiceid=parseInt(this.InvoiceID.toString()),this.SubInstallmentType=this.InstallmentTypes[0],this.SubInstallmentDetails=[],this.modalReference=this.modalService.open(e,{size:"lg",backdrop:"static"})):this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}GetInstallmentSettings(){this._CreditSalesInstallmentsService.GetVendorCreditAndCurrency(this.InvoiceID,this.InvoiceCurrencyID,this.custID,this.subsidiaryID).subscribe(e=>{var t,n;let l=e.invoicecurrency,i=null!==(t=e.credit)&&void 0!==t?t:{credit:0},a={entry_date:this.InvoiceDate,code:87,currency_id:parseFloat(this.InvoiceCurrencyID.toString()),netvalueforeign:parseFloat(this.InvoiceValueForeign.toString()),currency_rate:parseFloat(this.InvoiceCurrencyRate.toString()),netvalue:parseFloat(this.InvoiceValue.toString())};this.vouchercount=e.vouchercount;let r=this.installment;if(0==r.invoiceInstallmentsDetails.length){if(this.installment=new o.WT,this.installment.status=this.Status,this.installment.currency="",this.installment.startdate=null!==(n=null==a?void 0:a.entry_date)&&void 0!==n?n:new Date,this.installment.installmentstypeid=this.InstallmentTypes[0].id,this.InstallmentsTypeID=this.InstallmentTypes[0].id,this.generatedInstallments=[],this.generatedInstallmentsList=[],this.installmentid=0,this.invoiceinstallmentsdetailscount=0,this.checkInvoice(a,l,i),console.log(this.InstallmentsTypeID),this.InstallmentsTypeID&&this.InstallmentsTypeID>0){let e=this.GetInstallmentTypeProfit(this.InstallmentsTypeID,a,r);console.log("returnObj",e),null!=e&&(this.installment.profitvalue=e.ProfitValue,this.installment.invoicevalue=e.newInvoiceValue,this.installment.profitpercentage=e.ProfitPercentage,this.installment.profitvalueforeign=e.ProfitValueForeign,this.DepositValue=e.DepositValue),this.IsGenerateInstallment=!1}}else if(this.InstallmentsTypeID=this.installment.installmentstypeid,this.generatedInstallments=this.installment.invoiceInstallmentsDetails,this.generatedInstallmentsList=this.installment.invoiceInstallmentsDetails,this.installmentid=null==r?void 0:r.id,this.invoiceinstallmentsdetailscount=this.generatedInstallments.length,this.installment.previouslypaid>0&&this.installment.takepreviouslypaid&&(i={credit:this.installment.previouslypaid}),this.checkInvoice(a,l,i),this.invoiceinstallmentsdetailscount>0){this.TotalValue=this.calcTotalValue(this.generatedInstallments);let e=this.generatedInstallments[0];null!=e?e.id>0&&this.GetInvoiceInstallments(e.invoiceinstallmentsid):this.GetTotalPaid()}else this.IsGenerateInstallment=!1;this.installment.invoiceid=parseInt(this.InvoiceID.toString()),this.OriginalInvoiceValue=this.installment.invoicevalue,this.cd.markForCheck()})}checkInvoice(e,t,n){var l,i,a,r;let s="";if(null!=e){if(e.currency_id!=this.CurrencyID?(s="en"==this.lang?null==t?void 0:t.name:null==t?void 0:t.name_ar,this.installment.invoicevalue=parseFloat(e.netvalueforeign.toFixed(null==t?void 0:t.currencyprecision)),this.installment.currency=s,this.installment.currencyrate=parseFloat(null==e?void 0:e.currency_rate)):(this.installment.invoicevalue=parseFloat(e.netvalue.toFixed(null==t?void 0:t.currencyprecision)),this.installment.currency="",this.installment.currencyrate=1),this.installment.invoicedate=null==e?void 0:e.entry_date,null===(l=this.installment)||void 0===l?void 0:l.profitvalueforeign){let e=null===(i=this.installment)||void 0===i?void 0:i.profitvalueforeign;this.installment.profitvalueforeign=parseFloat(e.toFixed(null==t?void 0:t.currencyprecision))}if(null===(a=this.installment)||void 0===a?void 0:a.profitvalue){let e=null===(r=this.installment)||void 0===r?void 0:r.profitvalue;this.installment.profitvalue=parseFloat(e.toFixed(null==t?void 0:t.currencyprecision))}this.installment.previouslypaid=null!=n?parseFloat(null==n?void 0:n.credit.toFixed(null==t?void 0:t.currencyprecision)):0,this.VoucherID=null!=n?null==n?void 0:n.voucherid:null,this.InvoiceCurrencyPrecision=null==t?void 0:t.currencyprecision}}GetInstallmentTypeProfit(e,t,n){if(console.log(e),e>0){let a=this.InstallmentTypes.find(t=>t.id==e);console.log(a);let r=0;null!=t&&(r=t.currency_id!=this.CurrencyID?parseFloat(null==t?void 0:t.netvalueforeign):parseFloat(null==t?void 0:t.netvalue));let s=0;if(s=1==(null==a?void 0:a.deposittype)?r*(parseFloat(null==a?void 0:a.deposit)/100):parseFloat(a.deposit),null==n){if(null!=(null==a?void 0:a.profitpercentage)&&(null==a?void 0:a.profitpercentage)>0){if(null!=t){if(t.currency_id==this.CurrencyID){if((null==a?void 0:a.profitpercentage)>1){let e=parseFloat((r*((null==a?void 0:a.profitpercentage)/100)).toFixed(this.InvoiceCurrencyPrecision)),t=parseFloat(e.toFixed(this.CurrencyPrecision));return{ProfitValue:e,newInvoiceValue:parseFloat((r+e).toFixed(this.CurrencyPrecision)),ProfitValueForeign:t,ProfitPercentage:null==a?void 0:a.profitpercentage,DepositValue:s}}{let e=parseFloat((r*(null==a?void 0:a.profitpercentage)).toFixed(this.CurrencyPrecision));return parseFloat(e.toFixed(this.CurrencyPrecision)),{ProfitValue:e,newInvoiceValue:parseFloat((r+e).toFixed(this.CurrencyPrecision)),ProfitPercentage:null==a?void 0:a.profitpercentage,DepositValue:s}}}if((null==a?void 0:a.profitpercentage)>1){var l=parseFloat((r*((null==a?void 0:a.profitpercentage)/100)).toFixed(this.CurrencyPrecision));return{ProfitValue:i=parseFloat((l/t.currency_rate).toFixed(this.CurrencyPrecision)),newInvoiceValue:parseFloat((r+l).toFixed(this.CurrencyPrecision)),ProfitValueForeign:l,ProfitPercentage:null==a?void 0:a.profitpercentage,DepositValue:s}}var i=parseFloat((r*(null==a?void 0:a.profitpercentage)).toFixed(this.CurrencyPrecision));return l=parseFloat((i*t.currency_rate).toFixed(this.CurrencyPrecision)),{ProfitValue:i,newInvoiceValue:parseFloat((r+l).toFixed(this.CurrencyPrecision)),ProfitValueForeign:l,ProfitPercentage:null==a?void 0:a.profitpercentage,DepositValue:s}}return null}return{ProfitValue:0,ProfitValueForeign:0,newInvoiceValue:r,ProfitPercentage:0,DepositValue:s}}{let e=parseFloat(n.profitvalue.toFixed(this.CurrencyPrecision)),t=parseFloat(n.profitvalueforeign.toFixed(this.CurrencyPrecision));return{ProfitValue:e,newInvoiceValue:parseFloat(n.invoicevalue.toFixed(this.CurrencyPrecision)),ProfitValueForeign:t,ProfitPercentage:null==a?void 0:a.ProfitPercentage,DepositValue:s}}}}GetTotalPaid(e=0){console.log(e,"inv"),this._CreditSalesInstallmentsService.GetTotalPaid(e).subscribe(e=>{null!=e.totalpaid?(this.TotalPaid=parseFloat(e.totalpaid.toFixed(this.CurrencyPrecision)),this.TotalUnPaid=parseFloat((this.TotalValue-this.TotalPaid).toFixed(this.CurrencyPrecision)),parseFloat((this.TotalValue-this.TotalPaid).toFixed(this.CurrencyPrecision))):(this.TotalPaid=0,this.TotalUnPaid=parseFloat((this.TotalValue-this.TotalPaid).toFixed(this.CurrencyPrecision))),this.CalculteGeneratedValue(),this.IsGenerateInstallment=!0,this.spinner.hide(),this.cd.markForCheck()})}calcTotalValue(e){let t=0;return e.forEach(e=>{t+=e.installmentvalue}),t}GetInvoiceInstallments(e){this._CreditSalesInstallmentsService.GetInvoiceInstallmentByID(e).subscribe(e=>{let t=0;null!=e&&(t=e.invoiceid),console.log(t),0!=t?this.GetTotalPaid(t):(this.TotalPaid=0,this.TotalUnPaid=parseFloat((this.TotalValue-this.TotalPaid).toFixed(this.CurrencyPrecision)),this.IsGenerateInstallment=!0,this.spinner.hide()),this.cd.markForCheck()})}CalculteGeneratedValue(){this.TotalGenerate=0,this.generatedInstallmentsList.forEach(e=>{this.TotalGenerate+=e.installmentvalue}),this.TotalGenerate=parseFloat(this.TotalGenerate.toFixed(this.CurrencyPrecision))}SaveInsatllments(){let e=this.GetTotalInstallmentsValues(),t=this.installment.invoicevalue;if(parseFloat((Math.round(100*e)/100).toFixed(this.CurrencyPrecision))==parseFloat((Math.round(100*t)/100).toFixed(this.CurrencyPrecision))){let e=this.GetInvoiceInstallmentDetailsList(null,1);this.installment.invoiceInstallmentsDetails=e.sort((e,t)=>{let n=new Date(e.installmentdate),l=new Date(t.installmentdate);return n.valueOf()-l.valueOf()}),this.toastr.success(this.SaveMsg),this.InstallmentDetailList.emit({list:this.installment}),this.CloseModal()}else a().fire(this.TotalInstallmentsValueWarning,"","error");this.CalculteGeneratedValue()}SaveSubInstallment(e=2){let t=this.GetTotalInstallmentsValues(2),n=this.SubInstallment.invoicevalue,l=(parseFloat((Math.round(100*t)/100).toFixed(this.CurrencyPrecision)),parseFloat((Math.round(100*n)/100).toFixed(this.CurrencyPrecision)),this.GetInvoiceInstallmentDetailsList(null,e));if(this.SubInstallmentDetails.forEach(e=>{this.generatedInstallments.push(e),this.generatedInstallmentsList=this.generatedInstallments.sort((e,t)=>{let n=new Date(e.installmentdate),l=new Date(t.installmentdate);return n.valueOf()-l.valueOf()})}),this.generatedInstallments.length>0){this.TotalValue=this.calcTotalValue(this.generatedInstallments);let t=this.generatedInstallments[0];null!=t?this.GetInvoiceInstallments(t.invoiceinstallmentsid):this.GetTotalPaid(e),this.CalculteGeneratedValue()}this.SubInstallment.invoiceInstallmentsDetails=l,this.CloseModal()}deleteAllInstallment(e=1){a().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.swalDetlateCancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{var n;t.isConfirmed&&1==t.isConfirmed&&(this.installment.id>0?0==(null===(n=this.vouchercount)||void 0===n?void 0:n.vouchercount)?this.DeleteInstallmentsRows(e):a().fire(this.DeleteErrorMsg,"","error"):this.DeleteInstallmentsRows(e),this.CalculteGeneratedValue(),this.cd.markForCheck())})}addInstallment(e=1){let t=new o.Wt;t.installmentdetailtypeid=2,t.statusid=2,t.isdisabled=!0,t.vouchercount=0,t.isaddednew=!0,t.id=null,t.invoiceinstallmentsid=null,t.installmentdate=new Date("0001-01-01"),t.installmentvalue=1,t.comment=null,t.returnvalue=0,this.generatedInstallmentsList.push(t),2==e&&this.SubInstallmentDetails.push(t),this.cd.markForCheck()}deleteRow(e,t){a().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.swalDetlateCancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{if(e.isConfirmed&&1==e.isConfirmed){if(this.generatedInstallmentsList.splice(t,1),this.generatedInstallments.length>0){this.TotalValue=this.calcTotalValue(this.generatedInstallments);let e=this.generatedInstallments[0];null!=e?this.GetInvoiceInstallments(e.invoiceinstallmentsid):this.GetTotalPaid(1)}this.CalculteGeneratedValue(),this.cd.markForCheck()}})}EditValue(e,t){this.generatedInstallmentsList[t].isdisabled=!1,this.cd.markForCheck()}SaveValue(e,t,n=1){if(this.spinner.show(),0==this.EnableRealState){let l=this.preSaveValue(e,t,n);this._CreditSalesInstallmentsService.EditInvoiceInstallmentsDetails(l).subscribe(t=>{if(console.log(t,"res s"),(null==t?void 0:t.generatedlist.length)>0&&(1==n&&0==this.EnableRealState?(this.generatedInstallmentsList=t.generatedlist,this.generatedInstallments=t.generatedlist):(e.isaddednew=!1,e.isdisabled=!0)),this.generatedInstallments.length>0){this.TotalValue=this.calcTotalValue(this.generatedInstallments);let e=this.generatedInstallments[0];null!=e?this.GetInvoiceInstallments(e.invoiceinstallmentsid):this.GetTotalPaid(n)}this.cd.markForCheck(),this.spinner.hide()})}else{var l=0;this.generatedInstallmentsList.forEach(e=>{l+=e.installmentvalue}),this.CalculteGeneratedValue();var i=this.TotalGenerate<=this.installment.invoicevalue?this.TotalGenerate-l:this.installment.invoicevalue-l;if(i>0){let e=new o.Wt;e.installmentdetailtypeid=2,e.statusid=2,e.isdisabled=!0,e.vouchercount=0,e.isaddednew=!0,e.id=null,e.installmentstypeid=this.installment.installmentstypeid,e.installmentdate=new Date("0001-01-01"),e.installmentvalue=i,e.comment=null,e.returnvalue=0,e.isaddednew=!1,e.isdisabled=!0,this.generatedInstallmentsList.push(e)}if(this.generatedInstallments.length>0){this.TotalValue=this.calcTotalValue(this.generatedInstallments);let e=this.generatedInstallments[0];null!=e?this.GetInvoiceInstallments(e.invoiceinstallmentsid):this.GetTotalPaid(n)}e.isaddednew=!1,e.isdisabled=!0,this.cd.markForCheck(),this.spinner.hide()}}preSaveValue(e,t,n=1){e.installmentdate||(e.installmentdate=new Date("0001-01-01"));let l=this.GetInvoiceInstallmentDetailsList(this.installment.id,n),i=this.installment.installmentstypeid,a=this.installment.invoicevalue;2==n&&(i=this.SubInstallment.installmentstypeid,a=this.SubInstallment.invoicevalue);let r={invoiceinstallmentsdetailslst:l,installmenttypeid:i,invoicevalue:a};return this.cd.markForCheck(),r}GetInvoiceInstallmentDetailsList(e,t=1){let n=[];return 1==t?this.generatedInstallmentsList.forEach(t=>{var l;n.push({id:null!==(l=t.id)&&void 0!==l?l:0,invoiceinstallmentsid:e,installmentdate:t.installmentdate,installmentvalue:t.installmentvalue,installmentstypeid:t.installmentstypeid,installmentdetailtypeid:t.installmentdetailtypeid,statusid:t.statusid,comment:t.comment,returnvalue:t.returnvalue,isdisabled:t.isdisabled,isaddednew:t.isaddednew,voucherid:t.voucherid})}):this.SubInstallmentDetails.forEach(t=>{var l;n.push({id:null!==(l=t.id)&&void 0!==l?l:0,invoiceinstallmentsid:e,installmentdate:t.installmentdate,installmentvalue:t.installmentvalue,installmentstypeid:this.SubInstallment.installmentstypeid,installmentdetailtypeid:t.installmentdetailtypeid,statusid:t.statusid,comment:t.comment,returnvalue:t.returnvalue,isdisabled:t.isdisabled,isaddednew:t.isaddednew,voucherid:t.voucherid})}),n.sort((e,t)=>{let n=new Date(e.installmentdate),l=new Date(t.installmentdate);return n.valueOf()-l.valueOf()})}installmentValueChange(e,t,n){setTimeout(()=>{n.target.value<=0&&(e.installmentvalue=1)},1e3)}DeleteInstallmentsRows(e=2){if(1==e){var t=this.generatedInstallmentsList.filter(e=>0==e.isdisabled);if(null!=t&&null!=t&&0!=t.length||(this.invoiceinstallmentsdetailscount=0),this.generatedInstallments=[],this.generatedInstallmentsList=[],this.IsGenerateInstallment=!1,this.generatedInstallments.length>0){this.TotalValue=this.calcTotalValue(this.generatedInstallments);let t=this.generatedInstallments[0];null!=t?this.GetInvoiceInstallments(t.invoiceinstallmentsid):this.GetTotalPaid(e)}}else this.SubInstallmentTotal=0,this.SubInstallmentDetails=[];this.installment.invoiceInstallmentsDetails=this.generatedInstallmentsList,this.installment.startdate=this.InvoiceDate,this.CalculteGeneratedValue(),this.spinner.hide(),this.InstallmentDetailList.emit({list:this.installment})}generateInstallment(e,t=1){if(e.profitpercentage&&e.profitpercentage<0)return void a().fire(this.InvalidProfitPercentage,"","error");if(this.installment.profitvalue&&this.installment.profitvalue<0)return void a().fire(this.InvalidProfitValue,"","error");if(e.invoicevalue<=0)return a().fire(this.InvalidInvoiceValue,"","error"),!1;if(this.DepositValue>e.invoicevalue)return a().fire(this.InvalidInstallmentsTypeDepositValue,"","error"),!1;if(this.InstallmentsTypeID<=0)return a().fire(this.InvalidInstallmentType,"","error"),!1;if(null==e.startdate||!e.startdate)return a().fire(this.InvalidStartDate,"","error"),!1;if(e.previouslypaid>e.invoicevalue&&e.takepreviouslypaid)return a().fire(this.InvalidPreviouslyPaid,"","error"),!1;let n={InvoiceValue:e.invoicevalue,InstallmentTypeID:e.installmentstypeid,StartDate:e.startdate,PreviouslyPaid:e.previouslypaid,TakePreviouslyPaid:e.takepreviouslypaid,VoucherID:this.VoucherID};1==t?this.GenerateInvoiceInstallments(n,t):this.GenerateSubInstallments(n,t)}GenerateSubInstallments(e,t){var n={Installment:e,installmentType:this.SubInstallmentType};null!=this.SubInstallmentType.installmentcounts&&null!=this.SubInstallmentType.installmentvalue&&null!=this.SubInstallmentType.period?(this.spinner.show(),this._CreditSalesInstallmentsService.GenerateSubInstallments(n).subscribe(e=>{if(console.log("res",e),0==e.length)return this.toastr.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0639\u062f\u062f \u0627\u0644\u0627\u0642\u0633\u0627\u0637 \u0644\u0627\u0646 \u0646\u0648\u0639 \u0627\u0644\u0642\u0633\u0637 \u0644\u0627 \u064a\u062d\u062a\u0648\u064a \u0639\u0644\u0649 \u0627\u064a \u062f\u0641\u0639\u0629 \u0645\u0642\u062f\u0645\u0647"),void this.spinner.hide();if(1==t){if(this.generatedInstallments=e,this.generatedInstallmentsList=e,this.generatedInstallments.length>0){this.TotalValue=this.calcTotalValue(this.generatedInstallments);let e=this.generatedInstallments[0];null!=e?this.GetInvoiceInstallments(e.invoiceinstallmentsid):this.GetTotalPaid(t)}}else if(this.SubInstallmentDetails=e,this.SubInstallmentDetails.length>0){let e=this.generatedInstallments[0];null!=e?this.GetInvoiceInstallments(e.invoiceinstallmentsid):this.GetTotalPaid(t)}this.CalculteGeneratedValue(),this.cd.markForCheck()})):this.toastr.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u062f\u062e\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629")}GenerateInvoiceInstallments(e,t=1){console.log("obj",e),this.spinner.show(),this._CreditSalesInstallmentsService.GenerateInvoiceInstallments(e).subscribe(e=>{if(console.log("res",e),1==t?(this.generatedInstallments=e,this.generatedInstallmentsList=e):(this.SubInstallmentDetails=e,e.forEach(e=>{this.generatedInstallments.push(e),this.generatedInstallmentsList.push(e)})),this.generatedInstallments.length>0){this.TotalValue=this.calcTotalValue(this.generatedInstallments);let e=this.generatedInstallments[0];null!=e?this.GetInvoiceInstallments(e.invoiceinstallmentsid):this.GetTotalPaid(t),console.log("generatedInstallments",this.generatedInstallments),console.log("generatedInstallments",this.SubInstallmentDetails),this.cd.markForCheck()}})}changeInstallmentsTypeID(e){if(null!=e.target.value&&null!=e.target.value&&0!=e.target.value&&(this.InstallmentsTypeID=e.target.value,null==this.installment.id||null==this.installment.id||0==this.installment.id)){let e=this.GetInstallmentTypeProfit(this.InstallmentsTypeID,this.invoice,this.installmentObj);console.log("returnObj",e),null!=e&&(this.installment.profitvalue=e.ProfitValue,this.installment.invoicevalue=e.newInvoiceValue,this.installment.profitpercentage=e.ProfitPercentage,this.installment.profitvalueforeign=e.ProfitValueForeign,this.DepositValue=e.DepositValue)}}ChangeSubType(e){this.SubInstallmentType=this.InstallmentTypes.find(t=>t.id==e.target.value),this.SubInstallment.installmentstypeid=this.SubInstallmentType.id}ProfitPercentageChange(e){let t=e.target.value,n=this.installment.currencyrate,l=this.installment.currency,i=this.OriginalInvoiceValue;if(t>0&&t<1){let e=parseFloat(t)*i;this.installment.invoicevalue=parseFloat((e+i).toFixed(this.CurrencyPrecision)),""!=l&&null!=l?(this.installment.profitvalueforeign=parseFloat(e.toFixed(this.CurrencyPrecision)),this.installment.profitvalue=parseFloat((e/n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=this.installment.profitvalueforeign+parseFloat(i.toFixed(this.CurrencyPrecision))):(this.installment.profitvalue=parseFloat(e.toFixed(this.CurrencyPrecision)),this.installment.profitvalueforeign=parseFloat((e*n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=this.installment.profitvalue+parseFloat(i.toFixed(this.CurrencyPrecision)))}else if(t>0){let e=parseFloat(t)/100*i;""!=l&&null!=l?(this.installment.profitvalueforeign=parseFloat(e.toFixed(this.CurrencyPrecision)),this.installment.profitvalue=parseFloat((e/n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=this.installment.profitvalueforeign+parseFloat(i.toFixed(this.CurrencyPrecision))):(this.installment.profitvalue=parseFloat(e.toFixed(this.CurrencyPrecision)),this.installment.profitvalueforeign=parseFloat((e*n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=this.installment.profitvalue+parseFloat(i.toFixed(this.CurrencyPrecision)))}else this.installment.profitvalue=0,this.installment.profitvalueforeign=0,this.installment.invoicevalue=parseFloat(i.toFixed(this.CurrencyPrecision))}ProfitValuesChange(e){let t=e.target.value,n=this.installment.currencyrate,l=this.installment.currency,i=this.OriginalInvoiceValue;if(t>0){let e=parseFloat(t)/i;this.installment.profitpercentage=parseFloat(e.toFixed(2)),this.installment.invoicevalue=parseFloat((parseFloat(t)+i).toFixed(this.CurrencyPrecision)),""!=l&&null!=l&&(this.installment.profitvalueforeign=parseFloat((t*n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=parseFloat((this.installment.profitvalueforeign+i).toFixed(this.CurrencyPrecision)))}}ProfitValueForeignChange(e){let t=e.target.value,n=this.installment.currencyrate,l=this.installment.currency,i=this.OriginalInvoiceValue;if(this.installment.profitvalue>0){let e=parseFloat(t)/i;this.installment.profitpercentage=parseFloat(e.toFixed(2)),this.installment.invoicevalue=parseFloat((parseFloat(t)+i).toFixed(this.CurrencyPrecision)),""!=l&&null!=l&&(this.installment.profitvalue=parseFloat((t/n).toFixed(this.CurrencyPrecision)),this.installment.invoicevalue=parseFloat((this.installment.profitvalueforeign+i).toFixed(this.CurrencyPrecision)))}}CreditSalesInstallment(){if(this.preCreditSalesInstallment()){let e=this.GetTotalInstallmentsValues(),t=this.installment.invoicevalue;if(parseFloat((Math.round(100*e)/100).toFixed(this.CurrencyPrecision))==parseFloat((Math.round(100*t)/100).toFixed(this.CurrencyPrecision))){let e={subsidiaryID:this.subsidiaryID,model:this.installment,language:"en"==this.lang?"en-US":this.lang};console.log(e,"modeltosave"),this.spinner.show(),this._CreditSalesInstallmentsService.CreditSalesInstallmentsSave(e).subscribe(e=>{console.log(e),null!=e&&null!=e.result&&("NeedProofs"!=e.result?this.SaveInstallmentsDetails(e.result):this.spinner.hide())})}else a().fire(this.TotalInstallmentsValueWarning,"","error")}}preCreditSalesInstallment(){let e=this.GetInvoiceInstallmentDetailsList(0,1);return console.log(new Date(e[0].installmentdate),"installmentdate"),console.log(new Date(new Date(this.installment.invoicedate).toDateString()),"invoicedate"),new Date(e[0].installmentdate)<new Date(new Date(this.installment.invoicedate).toDateString())?(a().fire(this.InstallmentDateVSInvoiceDateModal,"","error"),!1):!this.search(e)||(a().fire(this.ValidateInstallmentDateModal,"","error"),!1)}search(e){for(var t=0;t<e.length;t++)if(!e[t].installmentdate)return!0;return!1}GetTotalInstallmentsValues(e=1){let t=0;return t=this.GetInvoiceInstallmentDetailsList(0,e).reduce((e,t)=>e+t.installmentvalue,0),t}SaveInstallmentsDetails(e){this.GetInvoiceInstallmentDetailsList(e,1)}ApproveInvoiceInstallments(){this.preApproveInvoiceInstallments()&&this.installment.id>0&&(this.spinner.show(),this._CreditSalesInstallmentsService.ApproveInvoiceInstallments(this.installment.id,this.lang).subscribe(e=>{console.log(e,"rees a"),this.spinner.hide(),this.CloseModal()}))}preApproveInvoiceInstallments(){return"Approved"!=this.installment.status||(a().fire(this.ApproveInvoiceInstallmentsInvalid,"","error"),!1)}ngOnDestroy(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](c.t2),l["\u0275\u0275directiveInject"](r.j),l["\u0275\u0275directiveInject"](l.ChangeDetectorRef),l["\u0275\u0275directiveInject"](p.F0),l["\u0275\u0275directiveInject"](p.gz),l["\u0275\u0275directiveInject"](u.sK),l["\u0275\u0275directiveInject"](m.K),l["\u0275\u0275directiveInject"](h.FF),l["\u0275\u0275directiveInject"](g._W),l["\u0275\u0275directiveInject"](v.uU),l["\u0275\u0275directiveInject"](s.m))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["Installments"]],inputs:{ReciptIdProperty:["ReciptId","ReciptIdProperty"],custIDProperty:["custID","custIDProperty"],subsidiaryIDProperty:["subsidiaryID","subsidiaryIDProperty"],InvoiceValueProperty:["InvoiceValue","InvoiceValueProperty"],iInvoiceValueForeignProperty:["InvoiceValueForeign","iInvoiceValueForeignProperty"],InvoiceCurrencyIDProperty:["InvoiceCurrencyID","InvoiceCurrencyIDProperty"],InvoiceCurrencyRateProperty:["InvoiceCurrencyRate","InvoiceCurrencyRateProperty"],InvoiceDateProperty:["InvoiceDate","InvoiceDateProperty"],InstallmentProperty:["Installment","InstallmentProperty"],EnableRealStateProperty:["EnableRealState","EnableRealStateProperty"]},outputs:{InstallmentDetailList:"InstallmentDetailList"},features:[l["\u0275\u0275ProvidersFeature"]([r.j,s.m])],decls:8,vars:3,consts:[["type","button",1,"btn","btn-primary",3,"click"],["InstallModel",""],["InstallmentGeneration",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"card-header"],[3,"disabled"],[1,"row"],[1,"col-md-2"],[1,"mb-1"],[2,"color","red","font-weight","bold"],[1,"col-md-3"],[1,"form-control",3,"ngModel","ngClass","change","ngModelChange"],["Type","ngModel"],[3,"value","selected",4,"ngFor","ngForOf"],["type","date","id","StartDate","name","StartDate",1,"form-control",3,"ngModel","ngModelChange"],["StartDate","ngModel"],["id","Display_InvoiceValue",1,"form-control","readonlyDiv",3,"click"],["type","number","id","InvoiceValue","name","InvoiceValue","hidden","true","readonly","","required","","min","0",1,"form-control",3,"ngModel","focusout","ngModelChange"],["type","text","id","Status","name","Status","readonly","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","number","min","0","step","0.01","id","ProfitPercentage","name","ProfitPercentage","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"ngModel","ngModelChange","keyup"],["id","Display_profitvalue",1,"form-control",3,"ngClass","click"],["type","number","min","0","step","0.001","id","profitvalue","name","profitvalue","hidden","true","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"ngModel","keyup","focusout","ngModelChange"],["id","Display_previouslypaid",1,"form-control","readonlyDiv",3,"click"],["type","number","readonly","","required","","min","0","PositiveNumbersOrDecimalOnly","","hidden","true","id","previouslypaid","name","previouslypaid",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-5"],["type","checkbox","id","TakePreviouslyPaid","name","TakePreviouslyPaid",1,"",3,"checked","ngClass","change","checkedChange"],[1,"m-1"],["class","row",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],[3,"value","selected"],["type","text","id","Currency","name","Currency","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["id","Display_profitvalueforeign",1,"form-control",3,"ngClass","click"],["type","number","min","0","step","0.001","id","profitvalueforeign","name","profitvalueforeign","hidden","true","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"ngModel","keyup","ngModelChange","focusout"],["class","col-md-2",4,"ngIf"],[1,"btn","btn-success","custom-button",3,"disabled","click"],[1,""],[1,"btn","btn-success","custom-button",3,"click"],[1,"btn","btn-danger","custom-button",3,"disabled","click"],[1,"fa","fa-trash"],[1,"btn","btn-info","custom-button",3,"click"],[1,"fa","fa-plus"],[1,"card-body","table-responsive"],[1,"table","m-0","table"],[2,"width","3%"],[2,"width","15%"],[2,"width","20%"],[2,"width","11%"],[2,"width","16%"],[4,"ngFor","ngForOf"],[2,"border","1px"],["colspan","5"],["type","date","id","InstallmentDate","name","InstallmentDate",1,"form-control",3,"ngModel","ngModelChange"],["InstallmentDate","ngModel"],[1,"form-control",3,"id","ngClass","click"],["type","number","min","1","step","0.001","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"ngModel","id","name","hidden","value","readonly","ngModelChange","keyup","focusout"],[1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","ngModel"],["status","ngModel"],[4,"ngIf","ngIfElse"],["editsavevalueelse",""],["deleteelse",""],["type","button",1,"btn","btn-sm","btn-warning",2,"width","100%",3,"ngClass","click"],["type","button",1,"btn","btn-sm","btn-success",2,"width","100%",3,"ngClass","click"],["type","button","disabled","",1,"btn","btn-sm","btn-warning",2,"width","100%"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"icon-trash"],["type","button","disabled","",1,"btn","btn-sm","btn-danger"],[1,"col-md-4"],[1,"col-md-6"],[1,"form-control",3,"ngModel","ngModelChange","change"],["type","number","id","installmentvalue","name","installmentvalue","required","","min","0",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","period","name","period","required","","PositiveNumbersOrDecimalOnly","","min","0",1,"form-control",3,"ngModel","ngModelChange"],["type","number","min","0","id","installmentcounts","name","installmentcounts","PositiveNumbersOrDecimalOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-danger","custom-button",3,"click"],["type","number","min","1","step","0.001","PositiveNumbersOrDecimalOnly","",1,"form-control",3,"ngModel","value","hidden","id","name","readonly","ngModelChange","keyup","focusout"]],template:function(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275elementStart"](1,"button",0),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const n=l["\u0275\u0275reference"](5);return t.OpenModal(n)}),l["\u0275\u0275text"](2),l["\u0275\u0275pipe"](3,"translate"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](4,q,98,78,"ng-template",null,1,l["\u0275\u0275templateRefExtractor"]),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](6,de,80,49,"ng-template",null,2,l["\u0275\u0275templateRefExtractor"])}2&e&&(l["\u0275\u0275advance"](2),l["\u0275\u0275textInterpolate1"](" ",l["\u0275\u0275pipeBind1"](3,1,"Installments")," "))},directives:[I.EJ,I.JJ,I.On,v.mk,v.sg,I.Fj,I.qQ,I.wV,I.Q7,v.O5,C.L,I.YN,I.Kr],pipes:[u.X$,v.uU,y.p],styles:[".btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.readonlyDiv[_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1;pointer-events:none}.custom-card[_ngcontent-%COMP%]{box-shadow:-8px 8px 14px 0 rgba(25,42,70,.11);border:1px solid #e7e3e3}input[_ngcontent-%COMP%]:-moz-read-only{cursor:no-drop;background-color:#e4e4e4;border:1px solid #ccc;color:#000;opacity:1}input[_ngcontent-%COMP%]:read-only{cursor:no-drop;background-color:#e4e4e4;border:1px solid #ccc;color:#000;opacity:1}.custom-input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:disabled{cursor:no-drop;background-color:#e4e4e4;border:1px solid #ccc;color:#000;opacity:1}.custom-button[_ngcontent-%COMP%]{width:100%;font-size:11px;font-weight:500}.addDisplayNone[_ngcontent-%COMP%]{display:none}.has-error[_ngcontent-%COMP%]{border:1px solid red}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.list-group-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:35px;margin:0}.list-group-item[_ngcontent-%COMP%]   .img-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:35px}.buttons-ds[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.4rem .6rem}@media (max-width:767px){.btn-mds[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{min-width:100%;margin-bottom:15px}.btn-mds[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:last-child{margin-bottom:0}}"],changeDetection:0}),e})()}}]);
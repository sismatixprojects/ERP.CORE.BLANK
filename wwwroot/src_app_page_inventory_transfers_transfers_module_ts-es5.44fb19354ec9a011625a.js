!function(){function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(l){c=!0,r=l}finally{try{o||null==n.return||n.return()}finally{if(c)throw r}}return a}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["src_app_page_inventory_transfers_transfers_module_ts"],{878:function(e,t,n){"use strict";n.d(t,{WW:function(){return i},np:function(){return r},pM:function(){return a},do:function(){return c},br:function(){return l},Oy:function(){return s},ov:function(){return d},DY:function(){return p},al:function(){return m},HQ:function(){return u},z8:function(){return h},Pp:function(){return _},WB:function(){return g},BR:function(){return f},hi:function(){return v}});var i=function e(){o(this,e),this.selectedNodesLabels="",this.Subsidiary_ID=0,this.ID=0,this.Code="",this.Name="",this.Description="",this.IsActive=!1,this.ImagePath="",this.Notes="",this.IsAutoCode=!1,this.ImageName="",this.Inventory_UnitId=null,this.Purchasing_UnitId=null,this.Selling_UnitId=null,this.Item_Type=1,this.allowtax=!0,this.TaxTypeid=null,this.Service_Item_Cost=0,this.CostingModel_ID=null,this.ItemDimensionsID=null,this.StorageDimensionsID=null,this.Name_AR="",this.IsRequireSerial=1,this.AllowDecimals=!1,this.StopSales=!1,this.StopInventoryTransactions=!1,this.POSFeatured=!1,this.DisableItemDimensions=!1,this.displaycomponentsasitemsinPOS=!1,this.DisableStorageDimensions=!1,this.AccountID=null,this.IsEditPrice=!1,this.CanBeRented=!1,this.AvailableForSale=null,this.AvailableForSaleFromDate=null,this.AvailableForSaleToDate=null,this.SpecialPrice=null,this.SpecialPriceFromDate=null,this.SpecialPriceToDate=null,this.SpecialPriceFromTime="",this.SpecialPriceToTime="",this.SpecialPriceValue=null,this.ReceipeQty=null,this.hasAccount=!1,this.ProductionUnitId=null,this.Wastage=0,this.hasWarrenty=!1,this.OtherSalesAccount=!1,this.consignment=!1,this.consignment_commission=null,this.warranty_duration=null,this.PercentageOrValue_consignment_commission=null,this.Weigth=null,this.GoldClovesWeigth=null,this.IsUploadedFromPos=!1,this.GoldCaliber="",this.Service=null,this.LoyalityBalance=null,this.IsMemebership=!1,this.OtherCostAccount=!1,this.OtherCostAccountId=null,this.IndirectExpensesUnit=0,this.Color="",this.Size="",this.Brand="",this.MadeIn="",this.Composition="",this.Season="",this.ConfigurableItemId=null,this.ShowColor=!1,this.ShowSize=!1,this.SetAttrToName=!1,this.Model="",this.RestockOnReturn=!1,this.ConsignmentBalanceType=null,this.GlobalBarcode="",this.SlackTime=1,this.OtherContractAccount=!1,this.OtherContractAccountId=null,this.itemsbarcode=[],this.itemscategories=[],this.vendors=[],this.itemsalternative=[],this.unititem=[],this.limitstore=[],this.component=[],this.customattributeheader=[],this.salespostingaccounts=[],this.configurationitemslist=[],this.itemproducts=[],this.orginalitemproducts=[],this.itemsemployees=[],this.orginalitemsemployees=[],this.UnitDetails=null,this.sale_price=0,this.assetLinked=!1,this.assetId=null},r=function e(){o(this,e),this.Item_ID=0,this.ItemCategory_ID=0},a=function e(){o(this,e),this.ID=0,this.Item_ID=0,this.itembarcode="",this.isactivebarcode=!0},c=function e(){o(this,e),this.id=0,this.itemid=0,this.vendorid=0,this.unitid=0,this.lastqty=0,this.price=0,this.currencyid=0,this.ismainvendor=!1,this.price2=0,this.lastprice=0,this.vendoritemcode="",this.code="",this.currencyname="",this.currencynamear="",this.unitname="",this.unitnamear="",this.vendorname="",this.vendornamear=""},l=function e(){o(this,e),this.id=0,this.item_id=0,this.alternative_item_id=0,this.periority=0,this.itemname="",this.itemname_ar=""},s=function e(){o(this,e),this.id=0,this.item_id=0,this.unit_id=0,this.subunit_id=0,this.conv=null,this.barcode="",this.sale_price1=0,this.sale_price2=0,this.sale_price3=0,this.sale_price4=0,this.finalconv=null,this.pos=!0,this.istransactionunit=!1},d=function e(){o(this,e),this.oldLimitStore=[],this.newLimitStore=[]},p=function e(){o(this,e),this.id=0,this.item_id=0,this.store_id=0,this.reorder_qty=0,this.min_qty=0,this.location="",this.first_qty=0,this.first_cost=0,this.first_conv=1,this.first_unit=null,this.name="",this.name_ar="",this.invalidreorderqty=!1,this.flagforbalance=!1,this.qty=0,this.avrcost=0,this.finalconv=1,this.cost_conv=1,this.reserved_qty=0,this.orderd_qty=0,this.max_qty=0,this.last_sales_qty=0,this.flagforedit=!1,this.sold=!1},m=function e(){o(this,e),this.id=0,this.customattributetypeid=0,this.itemid=0,this.title="",this.isactive=!1,this.isrequired=!1,this.sortorder=0,this.automaticcode=0,this.isdeleted=!1,this.maxoptions=0,this.itemcustomattributedetail=[]},u=function e(){o(this,e),this.id=0,this.customattributeheaderid=null,this.title="",this.price=null,this.sku="",this.sortorder=null,this.allowedfileextensions="",this.minimagewidth=null,this.minimageheigth=null,this.automaticcode=null,this.isdeleted=!1,this.qty=null,this.itemid=null,this.deductionitemid=null,this.deductionsku="",this.unitid=null,this.imgpath="",this.iunitid=null,this.iunitname="",this.iunitnamear="",this.headerpricesign=1,this.proportionweight=null},h=function e(){o(this,e),this.id=0,this.item_id=0,this.itemcomponentid=0,this.itemcomponentunitid=0,this.itemcomponentconv=0,this.itemcomponentqty=1,this.itemcomponentrecipeqty=0,this.averagecost=0,this.componentprice=0,this.unitname="",this.unitnamear="",this.name="",this.name_ar="",this.itemname="",this.itemnamear="",this.iunitid=null,this.disconv=!1},_=function e(){o(this,e),this.id=0,this.itemid=0,this.accountid=null,this.percentage=0,this.complement=!1},g=function e(){o(this,e),this.id=0,this.valid=!1,this.serial=1,this.qty=1,this.storeid=null,this.storename="",this.storename_ar="",this.batchno="",this.date=null,this.isdublicatebatch=!1,this.isused=!1,this.inv_receipt_d_id=null,this.solidquantity=null,this.previtemserialid=null,this.availableqty=null,this.fromOutSide=!1,this.patchconfirmation="",this.final_conv=null,this.readonlyavailableqtywithsmallunit=null,this.readonlyavailableqtywithfinal_conv=null},f=function e(){o(this,e),this.id=null,this.item_id=0,this.product_item_id=0,this.costratio=0,this.itemproductqty=0,this.itemproductsconv=0,this.itemproductunitid=0,this.itemname="",this.itemname_ar=""},v=function e(){o(this,e),this.id=null,this.unitid=null,this.subsidiaryid=null,this.rooms=0,this.bathroom=0,this.finishing=null,this.view=null,this.floor="",this.floors=0,this.land_size="",this.size_in_metres="",this.units_number=0,this.paymentid=null,this.year=(new Date).getFullYear(),this.currency_id=null}},67148:function(n,i,r){"use strict";r.r(i),r.d(i,{InventoryTransfersModule:function(){return Ho},childLoaderFactory:function(){return Jo}});var c=r(61511),l=r(59218),s=r(16073),d=r(29063),p=r(53544),m=r(96898),u=r(48160),h=r(20180),_=r(45593),g=r(73619),f=r(48747),v=r(22684),y=r(27961),C=r(83801),R=r(61900),S=r(13395),b=r(31572),x=r(25181),I=r(7427),M=r(62120),E=r(82589),O=r(72796),k=r(71825),P=r(76757),w=r(77915),D=r(82270),B=r(5851);function F(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"h1",5),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function L(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function q(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function T(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",53),b["\u0275\u0275template"](1,L,2,1,"span",1),b["\u0275\u0275template"](2,q,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275propertyInterpolate"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function N(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",54),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OnAdd()}),b["\u0275\u0275element"](1,"i",27),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function V(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",55),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OnPrint()}),b["\u0275\u0275element"](1,"i",27),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"Print")," "))}function A(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function U(e,t){1&e&&b["\u0275\u0275element"](0,"i",57)}function G(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",49),b["\u0275\u0275template"](2,A,1,0,"i",50),b["\u0275\u0275template"](3,U,1,0,"i",51),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function $(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function j(e,t){1&e&&b["\u0275\u0275element"](0,"i",57)}function W(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",49),b["\u0275\u0275template"](2,$,1,0,"i",50),b["\u0275\u0275template"](3,j,1,0,"i",51),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function z(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function J(e,t){1&e&&b["\u0275\u0275element"](0,"i",57)}function Q(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",49),b["\u0275\u0275template"](2,z,1,0,"i",50),b["\u0275\u0275template"](3,J,1,0,"i",51),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","FromStoreName"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","FromStoreName"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","FromStoreName"==n.sortColumn&&"desc"==n.sortDirection)}}function Y(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function H(e,t){1&e&&b["\u0275\u0275element"](0,"i",57)}function Z(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",49),b["\u0275\u0275template"](2,Y,1,0,"i",50),b["\u0275\u0275template"](3,H,1,0,"i",51),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","FromStoreNameAR"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","FromStoreNameAR"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","FromStoreNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function K(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function X(e,t){1&e&&b["\u0275\u0275element"](0,"i",57)}function ee(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",49),b["\u0275\u0275template"](2,K,1,0,"i",50),b["\u0275\u0275template"](3,X,1,0,"i",51),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","ToStoreName"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ToStoreName"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ToStoreName"==n.sortColumn&&"desc"==n.sortDirection)}}function te(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function ne(e,t){1&e&&b["\u0275\u0275element"](0,"i",57)}function ie(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",49),b["\u0275\u0275template"](2,te,1,0,"i",50),b["\u0275\u0275template"](3,ne,1,0,"i",51),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","ToStoreNameAR"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ToStoreNameAR"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ToStoreNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function re(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function ae(e,t){1&e&&b["\u0275\u0275element"](0,"i",57)}function oe(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function ce(e,t){1&e&&b["\u0275\u0275element"](0,"i",57)}function le(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function se(e,t){1&e&&b["\u0275\u0275element"](0,"i",57)}function de(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",49),b["\u0275\u0275template"](2,le,1,0,"i",50),b["\u0275\u0275template"](3,se,1,0,"i",51),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","UserName"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","UserName"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","UserName"==n.sortColumn&&"desc"==n.sortDirection)}}function pe(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function me(e,t){1&e&&b["\u0275\u0275element"](0,"i",57)}function ue(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",49),b["\u0275\u0275template"](2,pe,1,0,"i",50),b["\u0275\u0275template"](3,me,1,0,"i",51),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","UserNameAR"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","UserNameAR"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","UserNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function he(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function _e(e,t){1&e&&b["\u0275\u0275element"](0,"i",57)}function ge(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th"),b["\u0275\u0275text"](1,"\xa0"),b["\u0275\u0275elementEnd"]())}function fe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function ve(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function ye(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.fromstorename)}}function Ce(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",null==n?null:n.fromstorenamear," ")}}function Re(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.tostorename)}}function Se(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.tostorenamear)}}function be(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.username)}}function xe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.usernamear)}}function Ie(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713"),b["\u0275\u0275elementEnd"]())}function Me(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function Ee(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td",62),b["\u0275\u0275elementStart"](1,"a",63),b["\u0275\u0275element"](2,"i",64),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransfers/transfergood/",null==n?null:n.id,"")}}function Oe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275template"](1,fe,2,1,"td",1),b["\u0275\u0275template"](2,ve,2,1,"td",1),b["\u0275\u0275template"](3,ye,2,1,"td",1),b["\u0275\u0275template"](4,Ce,2,1,"td",1),b["\u0275\u0275template"](5,Re,2,1,"td",1),b["\u0275\u0275template"](6,Se,2,1,"td",1),b["\u0275\u0275elementStart"](7,"td"),b["\u0275\u0275text"](8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"td"),b["\u0275\u0275text"](10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,be,2,1,"td",1),b["\u0275\u0275template"](12,xe,2,1,"td",1),b["\u0275\u0275elementStart"](13,"td"),b["\u0275\u0275template"](14,Ie,2,0,"span",1),b["\u0275\u0275template"](15,Me,2,0,"span",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](16,Ee,3,1,"td",59),b["\u0275\u0275elementStart"](17,"td"),b["\u0275\u0275elementStart"](18,"a",60),b["\u0275\u0275elementStart"](19,"span"),b["\u0275\u0275element"](20,"i",61),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.receiving)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.receiving)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(630)),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransfers/transfergood/",null==n?null:n.id,"/show")}}function ke(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,Oe,21,14,"tr",58),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.ReceiptList)}}function Pe(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275elementStart"](1,"tr",65),b["\u0275\u0275elementStart"](2,"td",66),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](4,1,"NoData")))}function we(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",67),b["\u0275\u0275elementStart"](1,"ngb-pagination",68),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",69),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).PageSize=e}),b["\u0275\u0275elementStart"](5,"option",70),b["\u0275\u0275text"](6,"10 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",71),b["\u0275\u0275text"](8,"50 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",72),b["\u0275\u0275text"](10,"100 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",i.PageSize)}}function De(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"div",6),b["\u0275\u0275elementStart"](2,"div",7),b["\u0275\u0275elementStart"](3,"div",8),b["\u0275\u0275elementStart"](4,"h6",9),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",10),b["\u0275\u0275elementStart"](8,"div",11),b["\u0275\u0275elementStart"](9,"section"),b["\u0275\u0275elementStart"](10,"div",4),b["\u0275\u0275elementStart"](11,"div",12),b["\u0275\u0275elementStart"](12,"form",13,14),b["\u0275\u0275listener"]("ngSubmit",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",15),b["\u0275\u0275elementStart"](16,"div",16),b["\u0275\u0275elementStart"](17,"label",17),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"select",18,19),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),b["\u0275\u0275elementStart"](22,"option",20),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](25,T,3,3,"option",21),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"div",15),b["\u0275\u0275elementStart"](27,"div",16),b["\u0275\u0275elementStart"](28,"label",22),b["\u0275\u0275text"](29),b["\u0275\u0275pipe"](30,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"input",23,24),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"div",25),b["\u0275\u0275elementStart"](34,"button",26),b["\u0275\u0275element"](35,"i",27),b["\u0275\u0275text"](36),b["\u0275\u0275pipe"](37,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"button",28),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ShowAll()}),b["\u0275\u0275element"](39,"i",27),b["\u0275\u0275text"](40),b["\u0275\u0275pipe"](41,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](42,"div",29),b["\u0275\u0275elementStart"](43,"div",30),b["\u0275\u0275elementStart"](44,"div",31),b["\u0275\u0275template"](45,N,4,3,"button",32),b["\u0275\u0275template"](46,V,4,3,"button",33),b["\u0275\u0275elementStart"](47,"button",34),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnPrint(1)}),b["\u0275\u0275element"](48,"i",27),b["\u0275\u0275text"](49),b["\u0275\u0275pipe"](50,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"button",35),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnExcel()}),b["\u0275\u0275element"](52,"i",27),b["\u0275\u0275text"](53),b["\u0275\u0275pipe"](54,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](55,"div",36),b["\u0275\u0275elementStart"](56,"div",37),b["\u0275\u0275elementStart"](57,"label",38),b["\u0275\u0275text"](58),b["\u0275\u0275pipe"](59,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](60,"input",39,40),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ChangePropFinish()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](62,"div",4),b["\u0275\u0275elementStart"](63,"div",41),b["\u0275\u0275elementStart"](64,"div",42),b["\u0275\u0275elementStart"](65,"div",43),b["\u0275\u0275elementStart"](66,"div",44),b["\u0275\u0275elementStart"](67,"table",45),b["\u0275\u0275elementStart"](68,"thead",46),b["\u0275\u0275elementStart"](69,"tr",47),b["\u0275\u0275elementStart"](70,"th",48),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),b["\u0275\u0275text"](71),b["\u0275\u0275pipe"](72,"translate"),b["\u0275\u0275template"](73,G,4,3,"ng-container",1),b["\u0275\u0275template"](74,W,4,3,"ng-container",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](75,"th",48),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("FromStoreName")}),b["\u0275\u0275text"](76),b["\u0275\u0275pipe"](77,"translate"),b["\u0275\u0275template"](78,Q,4,3,"ng-container",1),b["\u0275\u0275template"](79,Z,4,3,"ng-container",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](80,"th",48),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("ToStoreName")}),b["\u0275\u0275text"](81),b["\u0275\u0275pipe"](82,"translate"),b["\u0275\u0275template"](83,ee,4,3,"ng-container",1),b["\u0275\u0275template"](84,ie,4,3,"ng-container",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](85,"th",48),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),b["\u0275\u0275text"](86),b["\u0275\u0275pipe"](87,"translate"),b["\u0275\u0275elementContainerStart"](88),b["\u0275\u0275element"](89,"i",49),b["\u0275\u0275template"](90,re,1,0,"i",50),b["\u0275\u0275template"](91,ae,1,0,"i",51),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](92,"th",48),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),b["\u0275\u0275text"](93),b["\u0275\u0275pipe"](94,"translate"),b["\u0275\u0275elementContainerStart"](95),b["\u0275\u0275element"](96,"i",49),b["\u0275\u0275template"](97,oe,1,0,"i",50),b["\u0275\u0275template"](98,ce,1,0,"i",51),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](99,"th",48),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("UserName")}),b["\u0275\u0275text"](100),b["\u0275\u0275pipe"](101,"translate"),b["\u0275\u0275template"](102,de,4,3,"ng-container",1),b["\u0275\u0275template"](103,ue,4,3,"ng-container",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](104,"th",48),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("Reciving")}),b["\u0275\u0275text"](105),b["\u0275\u0275pipe"](106,"translate"),b["\u0275\u0275elementContainerStart"](107),b["\u0275\u0275element"](108,"i",49),b["\u0275\u0275template"](109,he,1,0,"i",50),b["\u0275\u0275template"](110,_e,1,0,"i",51),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](111,ge,2,0,"th",1),b["\u0275\u0275elementStart"](112,"th"),b["\u0275\u0275text"](113,"\xa0"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](114,ke,2,1,"tbody",1),b["\u0275\u0275template"](115,Pe,5,3,"tbody",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](116,we,12,7,"div",52),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,43,"Transfer Good"),""),b["\u0275\u0275advance"](13),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,45,"Branch")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](24,47,"All")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",i.BranchList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](30,49,"EntryNo")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](37,51,"Search")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](41,53,"All")," "),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(326)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(331)),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](50,55,"pdf")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](54,57,"Excel")," "),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](59,59,"Search")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),b["\u0275\u0275advance"](11),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](72,61,"Branch")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](77,63,"FromStore")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](82,65,"ToStore")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](87,67,"EntryNo")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](94,69,"Date")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](101,71,"UserName")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](106,73,"Received")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("hidden","Reciving"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Reciving"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Reciving"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(630)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",i.ReceiptList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var Be=function(){var e=function(){function e(t,n,i,r,a,c,l,s,d,p,m,u,h,_,g){var f=this;o(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=c,this._translateGlobalService=l,this.spinner=s,this._ReceiptSharedService=p,this._authService=m,this._printService=u,this._Excel=h,this._convertToPDF=_,this._VerifyReportsService=g,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){f.lang=e.lang,f.dir=e.dir,f.translate.use(e.lang),f.ngTransUnsubscribe=f.translate.get("SelectBranchError").subscribe(function(e){f.SelectBranchMsg=e}),f.ngTransUnsubscribe=f.translate.get("EntryNumberMsg").subscribe(function(e){f.EntryNumberMsg=e})}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),f._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):f._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Transfer Good"]).subscribe(function(e){f.title=e["Transfer Good"],document.title=f.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){f.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==f.subsidiaryID&&(f.subsidiaryID=f._generalService.SubsidiaryID,f.ReceiptSearch()),f.subsidiaryID!=f._generalService.SubsidiaryID&&f.subsidiaryID>0){f.subsidiaryID=f._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),f._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:f._ReceiptSearch.BranchID})),f._ReceiptSearch.PageNo=1,f._ReceiptSearch.PageSize=10,f.GetBranchList(),f.ReceiptSearch()}})}return a(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="81",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/inventorytransfers/transfergood/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransfers/transfergood/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/inventorytransfers/transfergood/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/inventorytransfers/transfergood/".concat(e.id),this._router.navigate([t])}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0625\u0644\u0649 \u0645\u062e\u0632\u0646":"To store",o="ar"==this.lang?"\u0645\u0646 \u0645\u062e\u0632\u0646":"From store",c="ar"==this.lang?"\u0623\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"User Name",l="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",s="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(d){e.cd.markForCheck(),n='\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>').concat(r,"</th>\n                     <th>").concat(o,"</th>\n                     <th>").concat(a,"</th>\n                     <th>").concat(s,"</th>\n                     <th>").concat(l,"</th>\n                     <th>").concat(c,"</th>\n\n\n                   </tr>\n                 </thead>\n             <tbody>\n         "),d.map(function(t){n+="\n        <tr>\n         <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n         <td>").concat("ar"==e.lang?t.fromstorenamear:t.fromstorename,"</td>\n         <td>").concat("ar"==e.lang?t.tostorenamear:t.tostorename,"</td>\n         <td>").concat(t.entry_no,"</td>\n         <td>").concat(t.entry_date,"</td>\n         <td>").concat("ar"==e.lang?t.usernamear:t.username,"</td>\n\n\n        </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0645\u0646 \u0645\u062e\u0632\u0646":n.fromstorenamear,"\u0627\u0644\u0649 \u0645\u062e\u0632\u0646":n.tostorenamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":n.usernamear}:{Branch:n.branchname,"From store":n.fromstorename,"To store":n.tostorename,"Entry No":n.entry_no,Date:n.entry_date,"User Name":n.username})}),e._Excel.exportAsExcelFile(t,"transfergoods")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.n),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](x._W),b["\u0275\u0275directiveInject"](m.F0),b["\u0275\u0275directiveInject"](I.m),b["\u0275\u0275directiveInject"](u.sK),b["\u0275\u0275directiveInject"](M.K),b["\u0275\u0275directiveInject"](E.t2),b["\u0275\u0275directiveInject"](m.gz),b["\u0275\u0275directiveInject"](R.t),b["\u0275\u0275directiveInject"](O.e),b["\u0275\u0275directiveInject"](k.$),b["\u0275\u0275directiveInject"](P.x),b["\u0275\u0275directiveInject"](w.z),b["\u0275\u0275directiveInject"](S.J))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-transfer-good"]],features:[b["\u0275\u0275ProvidersFeature"]([y.n,R.t,S.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right","pt-3"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped","table-accountdetails"],[2,"background-color","#80808030"],[2,"color","#7b809a"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["class","text-truncate",4,"ngIf"],["href","javascript:;",1,"primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"routerLink"],[1,"ft-edit","mr-2"],[2,"background-color","#b0bed9"],["colspan","9"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,F,4,3,"div",0),b["\u0275\u0275template"](1,De,117,75,"div",1),b["\u0275\u0275elementStart"](2,"ngx-spinner",2),b["\u0275\u0275elementStart"](3,"p",3),b["\u0275\u0275text"](4,"Loading..."),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngIf",!t.checkRoleParms(328)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(328)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("fullScreen",!0))},directives:[c.O5,E.Ro,s._Y,s.JL,s.F,s.EJ,s.Q7,s.JJ,s.On,s.YN,s.Kr,c.sg,s.qQ,s.wV,s.Fj,D.K,m.yS,B.N9],pipes:[u.X$],encapsulation:2}),e}(),Fe=r(22501),Le=r.n(Fe),qe=r(3148),Te=r(75700),Ne=r(16676),Ve=r(529),Ae=r(79996),Ue=function(){var e=function(){function e(t){o(this,e),this._http=t,this.baseUrl=Ve.N.apiUrl}return a(e,[{key:"GetAllActiveStoreBySubsID",value:function(e,t){var n="".concat(this.baseUrl,"/Items/GetAllActiveStoreBySubsID?SubsidiaryID=").concat(e,"&where=").concat(t);return null!=t&&null!=t&&""!=t||(n="".concat(this.baseUrl,"/Items/GetAllActiveStoreBySubsID?SubsidiaryID=").concat(e)),this._http.get(n).pipe((0,Ae.U)(function(e){return e}))}},{key:"GetAllActiveStoreBySubsIDAndUser",value:function(e,t){var n="".concat(this.baseUrl,"/TransferApproval/GetAllActiveStoreBySubsIDAndUser?SubsidiaryID=").concat(e,"&where=").concat(t);return null!=t&&null!=t&&""!=t||(n="".concat(this.baseUrl,"/TransferApproval/GetAllActiveStoreBySubsIDAndUser?SubsidiaryID=").concat(e)),this._http.get(n).pipe((0,Ae.U)(function(e){return e}))}},{key:"AllEmployee",value:function(e){return this._http.get("".concat(this.baseUrl,"/Expense/GetAllEmployeesList?SubId=").concat(e,"&PageNo=1&PageSize=100")).pipe((0,Ae.U)(function(e){return e}))}},{key:"RtrieveItembyNetsales",value:function(e,t,n,i){return this._http.get("".concat(this.baseUrl,"/TransferApproval/RtrieveItembyNetsales?branchid=").concat(e,"&storeid=").concat(t,"&fromdate=").concat(n,"&todate=").concat(i)).pipe((0,Ae.U)(function(e){return e}))}},{key:"RtrieveItembyReplenshMinQty",value:function(e,t){return this._http.get("".concat(this.baseUrl,"/TransferApproval/RtrieveItembyReplenshMinQty?SubId=").concat(e,"&storeid=").concat(t)).pipe((0,Ae.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](d.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),Ge=r(878),$e=r(14348),je=r(63567),We=r(15463),ze=r(29743),Je=r(71309),Qe=r(52529),Ye=r(88706),He=r(32161),Ze=["serialModel"],Ke=["RForm"];function Xe(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",6),b["\u0275\u0275elementStart"](1,"h1",7),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function et(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",84),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).DocumentAction()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function tt(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",85),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).PrintPreview(0)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function nt(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",88),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).onPrint()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](3);b["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function it(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",88),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).DupilcateAction()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](3);b["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function rt(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",88),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).CheckBalanceForItemInStoreBeforeDelete(0,!0)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](4);b["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function at(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275template"](1,rt,3,4,"button",86),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function ot(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275template"](1,nt,3,4,"button",86),b["\u0275\u0275elementStart"](2,"email-popup",87),b["\u0275\u0275listener"]("_savedemailobj",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).sendEmail(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](3,it,3,4,"button",86),b["\u0275\u0275template"](4,at,2,1,"div",1),b["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(331)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("entryno",i._Receipt.entry_no),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(326)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(330))}}function ct(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",89),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]())}function lt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",89),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]())}function st(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function dt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function pt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",90),b["\u0275\u0275template"](1,st,2,1,"span",1),b["\u0275\u0275template"](2,dt,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var mt=function(){return{standalone:!0}};function ut(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",91),b["\u0275\u0275elementStart"](1,"div",92),b["\u0275\u0275elementStart"](2,"input",93),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2)._Receipt.receiving=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"label",94),b["\u0275\u0275elementStart"](4,"span"),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("checked",i._Receipt.receiving)("ngModelOptions",b["\u0275\u0275pureFunction0"](6,mt))("ngModel",i._Receipt.receiving),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](6,4,"Receiving"))}}function ht(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",89),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]())}function _t(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",89),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]())}function gt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sug,"")}}function ft(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sugar,"")}}function vt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",90),b["\u0275\u0275template"](1,gt,2,1,"span",1),b["\u0275\u0275template"](2,ft,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function yt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",89),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]())}function Ct(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",89),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]())}function Rt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sug,"")}}function St(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sugar,"")}}function bt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",90),b["\u0275\u0275template"](1,Rt,2,1,"span",1),b["\u0275\u0275template"](2,St,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function xt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.entry_no)}}function It(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.sugar)}}function Mt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.sug)}}function Et(e,t){if(1&e&&(b["\u0275\u0275template"](0,It,2,1,"div",1),b["\u0275\u0275template"](1,Mt,2,1,"div",1)),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("ngIf","ar"==n.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ot(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",99),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function kt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Pt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function wt(e,t){if(1&e&&(b["\u0275\u0275template"](0,kt,2,1,"div",1),b["\u0275\u0275template"](1,Pt,2,1,"div",1)),2&e){var n=b["\u0275\u0275nextContext"](4);b["\u0275\u0275property"]("ngIf","ar"==n.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Dt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Bt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Ft(e,t){if(1&e&&(b["\u0275\u0275template"](0,Dt,2,1,"div",1),b["\u0275\u0275template"](1,Bt,2,1,"div",1)),2&e){var n=b["\u0275\u0275nextContext"](4);b["\u0275\u0275property"]("ngIf","ar"==n.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var Lt=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function qt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",129),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275nextContext"](2);var i=b["\u0275\u0275reference"](4);b["\u0275\u0275property"]("ngClass",b["\u0275\u0275pureFunction2"](2,Lt,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function Tt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",129),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275nextContext"](2);var i=b["\u0275\u0275reference"](4);b["\u0275\u0275property"]("ngClass",b["\u0275\u0275pureFunction2"](2,Lt,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function Nt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",122),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function Vt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",122),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function At(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Ut(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Gt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",130),b["\u0275\u0275template"](1,At,2,1,"span",1),b["\u0275\u0275template"](2,Ut,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"]().$implicit,r=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=r.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==r.lang)}}var $t=function(e,t){return{"invalid-data":e,"valid-data":t}};function jt(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275elementStart"](1,"input",131,132),b["\u0275\u0275listener"]("keyup",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().index;return b["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().$implicit.conv=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](2),r=b["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;b["\u0275\u0275nextContext"](2);var c=b["\u0275\u0275reference"](4),l=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),b["\u0275\u0275propertyInterpolate1"]("name","item_conv",a,""),b["\u0275\u0275property"]("readonly",3==(null==o?null:o.item_type)&&null!=(null==o?null:o.item_id))("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",o.conv)("required",null!=(null==o?null:o.item_id))("ngClass",b["\u0275\u0275pureFunction2"](9,$t,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Wt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1,"Select"),b["\u0275\u0275elementEnd"]())}function zt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1,"\u0623\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]())}function Jt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.itemname)}}function Qt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.itemname_ar)}}function Yt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",90),b["\u0275\u0275template"](1,Jt,2,1,"div",1),b["\u0275\u0275template"](2,Qt,2,1,"div",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](4);b["\u0275\u0275propertyInterpolate"]("value",n.item_id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Ht(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"a",134),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"](2).index,t=b["\u0275\u0275nextContext"](3),i=b["\u0275\u0275reference"](8);return t.OnSerialItems(e,i)}),b["\u0275\u0275element"](1,"i",135),b["\u0275\u0275elementEnd"]()}}function Zt(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275template"](1,Ht,2,0,"a",133),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1!=n.CashCustomerSetting.dispensingpolicy)}}var Kt=function(e){return{item_id:e}};function Xt(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td",106),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"td"),b["\u0275\u0275elementStart"](4,"p-autoComplete",107,108),b["\u0275\u0275listener"]("onFocus",function(e){var t=b["\u0275\u0275restoreView"](n).index,i=b["\u0275\u0275reference"](5),r=b["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275template"](7,wt,2,2,"ng-template",109),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"td"),b["\u0275\u0275elementStart"](9,"p-autoComplete",110,111),b["\u0275\u0275listener"]("onFocus",function(e){var t=b["\u0275\u0275restoreView"](n).index,i=b["\u0275\u0275reference"](10),r=b["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).onClearItems(e)}),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275template"](12,Ft,2,2,"ng-template",112),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"td",113),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return b["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),b["\u0275\u0275template"](14,qt,2,5,"div",114),b["\u0275\u0275template"](15,Tt,2,5,"div",114),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"td"),b["\u0275\u0275elementStart"](17,"select",115,116),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),b["\u0275\u0275template"](19,Nt,2,1,"option",117),b["\u0275\u0275template"](20,Vt,2,1,"option",117),b["\u0275\u0275template"](21,Gt,3,4,"option",118),b["\u0275\u0275pipe"](22,"filterby"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](23,jt,3,12,"td",1),b["\u0275\u0275elementStart"](24,"td"),b["\u0275\u0275elementStart"](25,"input",119,120),b["\u0275\u0275listener"]("keyup",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"td"),b["\u0275\u0275elementStart"](28,"select",121),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.batchorderitemid=e}),b["\u0275\u0275elementStart"](29,"option",122),b["\u0275\u0275template"](30,Wt,2,0,"span",1),b["\u0275\u0275template"](31,zt,2,0,"span",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](32,Yt,3,3,"option",42),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"td"),b["\u0275\u0275elementStart"](34,"a",123),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).index,t=b["\u0275\u0275nextContext"](3),i=b["\u0275\u0275reference"](6);return t.OnEditItemsNotes(e,i)}),b["\u0275\u0275elementStart"](35,"span",124),b["\u0275\u0275element"](36,"i",125),b["\u0275\u0275element"](37,"i",126),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"a",127),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).DeleteItems(e)}),b["\u0275\u0275element"](39,"i",128),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](40,Zt,2,1,"ng-container",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=t.index,o=b["\u0275\u0275reference"](18),c=b["\u0275\u0275reference"](26);b["\u0275\u0275nextContext"](2);var l=b["\u0275\u0275reference"](4),s=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](a+1),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),b["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!0)("suggestions",s.FromStoreList)("showEmptyMessage",!0)("emptyMessage",b["\u0275\u0275pipeBind1"](6,38,"NoResultsFound"))("forceSelection",!0),b["\u0275\u0275advance"](5),b["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),b["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",b["\u0275\u0275pipeBind1"](11,40,"NoResultsFound"))("forceSelection",!0),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf","ar"!=s.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==s.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),b["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",b["\u0275\u0275pureFunction2"](45,$t,o.invalid&&l.submitted,o.valid&&l.submitted)),b["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||null),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=s.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==s.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",b["\u0275\u0275pipeBind2"](22,42,s.ItemUnitsList,b["\u0275\u0275pureFunction1"](48,Kt,null==i?null:i.item_id))),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),b["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",b["\u0275\u0275pureFunction2"](50,$t,c.invalid&&l.submitted,c.valid&&l.submitted)),b["\u0275\u0275advance"](3),b["\u0275\u0275propertyInterpolate1"]("id","BatchOrderItemId",r,""),b["\u0275\u0275propertyInterpolate1"]("name","BatchOrderItemId",r,""),b["\u0275\u0275property"]("ngModel",i.batchorderitemid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=s.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==s.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",s.batchOrderItems),b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",(2==i.isrequireserial||3==i.isrequireserial)&&1==s.CashCustomerSetting.salesreturneffect)}}var en=function(e){return{"table-for-autocomplete":e}};function tn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",95),b["\u0275\u0275elementStart"](1,"div",81),b["\u0275\u0275elementStart"](2,"div",96),b["\u0275\u0275elementStart"](3,"table",97),b["\u0275\u0275elementStart"](4,"thead"),b["\u0275\u0275elementStart"](5,"tr"),b["\u0275\u0275element"](6,"th"),b["\u0275\u0275elementStart"](7,"th",98),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"th",99),b["\u0275\u0275text"](11),b["\u0275\u0275pipe"](12,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"th",99),b["\u0275\u0275text"](14),b["\u0275\u0275pipe"](15,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"th",100),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](19,Ot,3,3,"th",101),b["\u0275\u0275elementStart"](20,"th",99),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"th",99),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"th",102),b["\u0275\u0275text"](27," \xa0 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](28,"tbody"),b["\u0275\u0275elementStart"](29,"tbody"),b["\u0275\u0275template"](30,Xt,41,53,"tr",103),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"button",104),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).AddItems()}),b["\u0275\u0275text"](32),b["\u0275\u0275pipe"](33,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](34,"button",105),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]();var e=b["\u0275\u0275reference"](153);return b["\u0275\u0275nextContext"]().patch(e)}),b["\u0275\u0275text"](35),b["\u0275\u0275pipe"](36,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngClass",b["\u0275\u0275pureFunction1"](28,en,i.isType)),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](9,12,"Store")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](18,18,"Unit")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](22,20,"qty")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,22,"BatchOrderItems")," "),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](33,24,"Add")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](36,26,"ImportPatchItems")," ")}}function nn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",136),b["\u0275\u0275elementStart"](1,"h6",137),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"button",138),b["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),b["\u0275\u0275elementStart"](5,"span",139),b["\u0275\u0275text"](6,"\xd7"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",140),b["\u0275\u0275elementStart"](8,"div",141),b["\u0275\u0275elementStart"](9,"label",58),b["\u0275\u0275text"](10),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"div",142),b["\u0275\u0275elementStart"](13,"input",143,144),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).BatchNoText=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"div",145),b["\u0275\u0275elementStart"](16,"button",146),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).SavePatchModal()}),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,4,"ImportPatchItems")," "),b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](11,6,"PatchNumber")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngModel",i.BatchNoText),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](18,8,"ok")," ")}}function rn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",99),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function an(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function on(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function cn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",122),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function ln(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",122),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function sn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function dn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function pn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",90),b["\u0275\u0275template"](1,sn,2,1,"span",1),b["\u0275\u0275template"](2,dn,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](5);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function mn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275elementStart"](1,"input",153),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().$implicit.conv=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",r,""),b["\u0275\u0275property"]("readonly",!0)("ngModel",a.conv)}}function un(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td"),b["\u0275\u0275elementStart"](2,"input",148),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"td"),b["\u0275\u0275elementStart"](4,"input",148),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"td"),b["\u0275\u0275template"](6,an,2,1,"div",1),b["\u0275\u0275template"](7,on,2,1,"div",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"td"),b["\u0275\u0275elementStart"](9,"select",149),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),b["\u0275\u0275template"](10,cn,2,1,"option",117),b["\u0275\u0275template"](11,ln,2,1,"option",117),b["\u0275\u0275template"](12,pn,3,3,"option",42),b["\u0275\u0275pipe"](13,"filterby"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](14,mn,2,3,"td",1),b["\u0275\u0275elementStart"](15,"td"),b["\u0275\u0275elementStart"](16,"input",150),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"td"),b["\u0275\u0275elementStart"](18,"input",151,152),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"td"),b["\u0275\u0275elementStart"](21,"input",150),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=b["\u0275\u0275reference"](19);b["\u0275\u0275nextContext"](3);var a=b["\u0275\u0275reference"](4),o=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","storecode_c",i,""),b["\u0275\u0275property"]("readonly",!0)("ngModel",n.storecode),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",i,""),b["\u0275\u0275property"]("readonly",!0)("ngModel",n.itemcode),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=o.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==o.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",i,""),b["\u0275\u0275property"]("ngModel",n.unit_id),b["\u0275\u0275attribute"]("disabled",!0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=o.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==o.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",b["\u0275\u0275pipeBind2"](13,27,o.ItemComponentUnitsList,b["\u0275\u0275pureFunction1"](30,Kt,n.item_id))),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowpack)),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",i,""),b["\u0275\u0275property"]("ngModel",n.qty)("readonly",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","item_price_c",i,""),b["\u0275\u0275property"]("ngModel",n.price)("readonly",!0)("Min",0)("CheckMin",null!=(null==n?null:n.item_id))("ngClass",b["\u0275\u0275pureFunction2"](32,$t,r.invalid&&a.submitted,r.valid&&a.submitted)),b["\u0275\u0275advance"](3),b["\u0275\u0275propertyInterpolate1"]("name","item_total_c",i,""),b["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}var hn=function(e){return{finishedproductid:e}};function _n(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",95),b["\u0275\u0275elementStart"](1,"div",81),b["\u0275\u0275elementStart"](2,"div",82),b["\u0275\u0275elementStart"](3,"table",97),b["\u0275\u0275elementStart"](4,"thead"),b["\u0275\u0275elementStart"](5,"tr"),b["\u0275\u0275elementStart"](6,"th",98),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"th",99),b["\u0275\u0275text"](10),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"th",99),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"th",100),b["\u0275\u0275text"](16),b["\u0275\u0275pipe"](17,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](18,rn,3,3,"th",101),b["\u0275\u0275elementStart"](19,"th",99),b["\u0275\u0275text"](20),b["\u0275\u0275pipe"](21,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"th",99),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"th",99),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"tbody"),b["\u0275\u0275template"](29,un,22,35,"tr",147),b["\u0275\u0275pipe"](30,"filterby"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](8,9,"Store")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](17,15,"Unit")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n.CashCustomerSetting?null:n.CashCustomerSetting.allowpack)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](21,17,"qty")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](24,19,"Price")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](27,21,"Total")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",0==n.show_all_component?b["\u0275\u0275pipeBind2"](30,23,n.ItemsComponentList,b["\u0275\u0275pureFunction1"](26,hn,null==n.SelectedItem?null:n.SelectedItem.item_id)):n.ItemsComponentList)}}function gn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"li",78),b["\u0275\u0275elementStart"](1,"a",74),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,_n,31,28,"ng-template",75),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngbNavItem",2),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"Components")))}function fn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",89),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]())}function vn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",89),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]())}function yn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Cn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Rn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",90),b["\u0275\u0275template"](1,yn,2,1,"span",1),b["\u0275\u0275template"](2,Cn,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](4);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Sn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",122),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function bn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",122),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function xn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function In(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function Mn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",90),b["\u0275\u0275template"](1,xn,2,1,"span",1),b["\u0275\u0275template"](2,In,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](4);b["\u0275\u0275property"]("value",n.code),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function En(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td"),b["\u0275\u0275elementStart"](2,"select",154),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),b["\u0275\u0275template"](3,fn,2,0,"option",32),b["\u0275\u0275template"](4,vn,2,0,"option",32),b["\u0275\u0275template"](5,Rn,3,3,"option",42),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"select",154),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),b["\u0275\u0275template"](8,Sn,2,1,"option",117),b["\u0275\u0275template"](9,bn,2,1,"option",117),b["\u0275\u0275template"](10,Mn,3,3,"option",42),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"input",155,156),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"td"),b["\u0275\u0275elementStart"](15,"a",157),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),b["\u0275\u0275element"](16,"i",158),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"td"),b["\u0275\u0275elementStart"](18,"a",134),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),b["\u0275\u0275element"](19,"i",159),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"td"),b["\u0275\u0275elementStart"](21,"a",127),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),b["\u0275\u0275element"](22,"i",128),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),b["\u0275\u0275property"]("ngModel",i.branch_id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",a.BranchList),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),b["\u0275\u0275property"]("ngModel",i.code),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),b["\u0275\u0275property"]("ngModel",i.entry_no),b["\u0275\u0275advance"](3),b["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function On(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",95),b["\u0275\u0275elementStart"](1,"div",81),b["\u0275\u0275elementStart"](2,"div",82),b["\u0275\u0275elementStart"](3,"table",97),b["\u0275\u0275elementStart"](4,"thead"),b["\u0275\u0275elementStart"](5,"tr"),b["\u0275\u0275elementStart"](6,"th",99),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"th",99),b["\u0275\u0275text"](10),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"th",99),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"th",102),b["\u0275\u0275text"](16," \xa0 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"th",102),b["\u0275\u0275text"](18," \xa0 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"th",102),b["\u0275\u0275text"](20," \xa0 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"tbody"),b["\u0275\u0275template"](22,En,23,13,"tr",147),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"button",104),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](8,5,"Branch")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),b["\u0275\u0275advance"](9),b["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function kn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",95),b["\u0275\u0275elementStart"](1,"div",81),b["\u0275\u0275elementStart"](2,"Signature",160),b["\u0275\u0275listener"]("signatureoutput",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("signature",i._Receipt.signature)}}function Pn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275element"](1,"Item-StoreQty",161,162),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function wn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",8),b["\u0275\u0275elementStart"](2,"div",6),b["\u0275\u0275elementStart"](3,"form",9,10),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](4);return b["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),b["\u0275\u0275elementStart"](5,"div",11),b["\u0275\u0275elementStart"](6,"div",12),b["\u0275\u0275elementStart"](7,"div",13),b["\u0275\u0275elementStart"](8,"div",14),b["\u0275\u0275elementStart"](9,"h6",15),b["\u0275\u0275text"](10),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"div",6),b["\u0275\u0275elementStart"](13,"div",16),b["\u0275\u0275elementStart"](14,"button",17),b["\u0275\u0275element"](15,"i",18),b["\u0275\u0275text"](16),b["\u0275\u0275pipe"](17,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"button",19),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().CreateNewAction()}),b["\u0275\u0275text"](19),b["\u0275\u0275pipe"](20,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](21,et,3,4,"button",20),b["\u0275\u0275template"](22,tt,3,4,"button",21),b["\u0275\u0275elementStart"](23,"button",22),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().BackAction()}),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"div",23),b["\u0275\u0275elementStart"](27,"button",24),b["\u0275\u0275text"](28),b["\u0275\u0275pipe"](29,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"div",25),b["\u0275\u0275template"](31,ot,5,4,"ng-container",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](32,"hr"),b["\u0275\u0275elementStart"](33,"div",6),b["\u0275\u0275elementStart"](34,"div",26),b["\u0275\u0275elementStart"](35,"div",27),b["\u0275\u0275elementStart"](36,"label",28),b["\u0275\u0275text"](37),b["\u0275\u0275pipe"](38,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"span",29),b["\u0275\u0275text"](40,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"select",30,31),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().changeBranch(e)}),b["\u0275\u0275template"](43,ct,2,0,"option",32),b["\u0275\u0275template"](44,lt,2,0,"option",32),b["\u0275\u0275template"](45,pt,3,3,"option",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](46,"div",34),b["\u0275\u0275elementStart"](47,"div",27),b["\u0275\u0275elementStart"](48,"label",35),b["\u0275\u0275text"](49),b["\u0275\u0275pipe"](50,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"span",29),b["\u0275\u0275text"](52,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](53,"input",36,37),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](55,ut,7,7,"div",38),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](56,"div",6),b["\u0275\u0275elementStart"](57,"div",34),b["\u0275\u0275elementStart"](58,"div",27),b["\u0275\u0275elementStart"](59,"label",39),b["\u0275\u0275text"](60),b["\u0275\u0275pipe"](61,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](62,"span",29),b["\u0275\u0275text"](63,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](64,"select",40,41),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.fromstoreid=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().changeFromStoreType(e)})("focusout",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().FromStorFocus()}),b["\u0275\u0275template"](66,ht,2,0,"option",32),b["\u0275\u0275template"](67,_t,2,0,"option",32),b["\u0275\u0275template"](68,vt,3,3,"option",42),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](69,"div",34),b["\u0275\u0275elementStart"](70,"div",27),b["\u0275\u0275elementStart"](71,"label",43),b["\u0275\u0275text"](72),b["\u0275\u0275pipe"](73,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](74,"span",29),b["\u0275\u0275text"](75,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](76,"select",44,45),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.tostoreid=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().changeToStoreType(e)})("focusout",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ToStorFocus()}),b["\u0275\u0275template"](78,yt,2,0,"option",32),b["\u0275\u0275template"](79,Ct,2,0,"option",32),b["\u0275\u0275template"](80,bt,3,3,"option",42),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](81,"div",34),b["\u0275\u0275elementStart"](82,"div",27),b["\u0275\u0275elementStart"](83,"label",46),b["\u0275\u0275text"](84),b["\u0275\u0275pipe"](85,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](86,"span",29),b["\u0275\u0275text"](87,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](88,"input",47,48),b["\u0275\u0275listener"]("ngModelChange",function(e){b["\u0275\u0275restoreView"](n);var t=b["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),b["\u0275\u0275pipe"](90,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](91,"div",34),b["\u0275\u0275elementStart"](92,"div",27),b["\u0275\u0275elementStart"](93,"label",49),b["\u0275\u0275text"](94),b["\u0275\u0275pipe"](95,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](96,"span",29),b["\u0275\u0275text"](97,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](98,"input",50,51),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](100,"div",6),b["\u0275\u0275elementStart"](101,"div",34),b["\u0275\u0275elementStart"](102,"div",27),b["\u0275\u0275elementStart"](103,"label",52),b["\u0275\u0275text"](104),b["\u0275\u0275pipe"](105,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](106,"input",53,54),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.memo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](108,"div",34),b["\u0275\u0275elementStart"](109,"div",27),b["\u0275\u0275elementStart"](110,"label",55),b["\u0275\u0275text"](111),b["\u0275\u0275pipe"](112,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](113,"input",56,57),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](115,"div",34),b["\u0275\u0275elementStart"](116,"div",27),b["\u0275\u0275elementStart"](117,"label",58),b["\u0275\u0275text"](118),b["\u0275\u0275pipe"](119,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](120,"p-autoComplete",59,60),b["\u0275\u0275listener"]("onFocus",function(e){b["\u0275\u0275restoreView"](n);var t=b["\u0275\u0275reference"](121);return b["\u0275\u0275nextContext"]().onFocusInBatchOrder(e),t.show()})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.batchorder_no=e})("onSelect",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().BatchOrderSelectEvent(e)})("completeMethod",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().BatchOrderChangeSearch(e)})("onClear",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onClearBatchOrder(e)}),b["\u0275\u0275pipe"](122,"translate"),b["\u0275\u0275template"](123,xt,2,1,"ng-template",61),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](124,"div",6),b["\u0275\u0275elementStart"](125,"div",34),b["\u0275\u0275elementStart"](126,"div",27),b["\u0275\u0275elementStart"](127,"label",58),b["\u0275\u0275text"](128),b["\u0275\u0275pipe"](129,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](130,"p-autoComplete",62,63),b["\u0275\u0275listener"]("onFocus",function(e){b["\u0275\u0275restoreView"](n);var t=b["\u0275\u0275reference"](131);return b["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(e)})("onClear",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onClearCustomer(e)}),b["\u0275\u0275pipe"](132,"translate"),b["\u0275\u0275template"](133,Et,2,2,"ng-template",64),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](134,"div",34),b["\u0275\u0275elementStart"](135,"div",27),b["\u0275\u0275elementStart"](136,"label",65),b["\u0275\u0275text"](137),b["\u0275\u0275pipe"](138,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](139,"input",66,67),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](141,"div",68),b["\u0275\u0275elementStart"](142,"div",69),b["\u0275\u0275elementStart"](143,"div",6),b["\u0275\u0275elementStart"](144,"div",70),b["\u0275\u0275elementStart"](145,"ul",71,72),b["\u0275\u0275listener"]("activeIdChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().activeNav=e}),b["\u0275\u0275elementStart"](147,"li",73),b["\u0275\u0275elementStart"](148,"a",74),b["\u0275\u0275text"](149),b["\u0275\u0275pipe"](150,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](151,tn,37,30,"ng-template",75),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](152,nn,19,10,"ng-template",null,76,b["\u0275\u0275templateRefExtractor"]),b["\u0275\u0275template"](154,gn,5,4,"li",77),b["\u0275\u0275elementStart"](155,"li",78),b["\u0275\u0275elementStart"](156,"a",74),b["\u0275\u0275text"](157),b["\u0275\u0275pipe"](158,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](159,On,26,13,"ng-template",75),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](160,"li",78),b["\u0275\u0275elementStart"](161,"a",74),b["\u0275\u0275text"](162),b["\u0275\u0275pipe"](163,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](164,kn,3,1,"ng-template",75),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](165,"div",79),b["\u0275\u0275elementStart"](166,"div",6),b["\u0275\u0275elementStart"](167,"div",80),b["\u0275\u0275elementStart"](168,"div",81),b["\u0275\u0275element"](169,"div",82),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](170,"div",83),b["\u0275\u0275template"](171,Pn,3,1,"div",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](4),r=b["\u0275\u0275reference"](42),a=b["\u0275\u0275reference"](54),o=b["\u0275\u0275reference"](65),c=b["\u0275\u0275reference"](77),l=b["\u0275\u0275reference"](89),s=b["\u0275\u0275reference"](146),d=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](10),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](11,77,"Transfer Good")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275attribute"]("disabled",d.VouchersLinkedCount>0||1==d.ShowModeReceipt||1==d.DuringSaveDisable||d.ReceiptID>0&&!d.checkRoleParms(630)||0==d.ReceiptID&&!d.checkRoleParms(326)||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](17,79,"Save")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275attribute"]("disabled",!d.checkRoleParms(326)||1==d.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](20,81,"CreateNew")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",d.ReceiptID>0&&0==d.VouchersLinkedCount),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",d.ReceiptID>0&&d.checkRoleParms(331)),b["\u0275\u0275advance"](1),b["\u0275\u0275attribute"]("disabled",1==d.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,83,"Exit")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](29,85,"Action Menu")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",d.ReceiptID>0),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](38,87,"Branch")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",d._Receipt.branch_id)("ngClass",b["\u0275\u0275pureFunction2"](122,$t,r.invalid&&i.submitted,r.valid&&i.submitted)),b["\u0275\u0275attribute"]("disabled",d.ReceiptID>0||null),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=d.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==d.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",d.BranchList)("ngForTrackBy",d.customTrackBy),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](50,89,"Entry#")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("stepallow",1)("ngModel",d._Receipt.entry_no)("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",b["\u0275\u0275pureFunction2"](125,$t,a.invalid&&i.submitted,a.valid&&i.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==d.InventorySetting[0].receivetransfers),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](61,91,"FromStore")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",d._Receipt.fromstoreid)("disabled",d.ReceiptID>0)("ngClass",b["\u0275\u0275pureFunction2"](128,$t,o.invalid&&i.submitted,o.valid&&i.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=d.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==d.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",d.FromStoreList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](73,93,"ToStore")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",d._Receipt.tostoreid)("ngClass",b["\u0275\u0275pureFunction2"](131,$t,c.invalid&&i.submitted,c.valid&&i.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=d.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==d.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",d.UserToStoreList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](85,95,"Date")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](90,97,d._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngClass",b["\u0275\u0275pureFunction2"](134,$t,l.invalid&&i.submitted||0==d.ValidPeriod,l.valid&&i.submitted)),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](95,100,"time")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("readonly",0==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.controlvouchernumanddate)||d.VouchersLinkedCount>0||1==d.LockedRecepit)("ngModel",d._Receipt.entry_time),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](105,102,"Memo")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",d._Receipt.memo),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](112,104,"ReferenceNo")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",d._Receipt.reference_no),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](119,106,"BatchOrderNo")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",d._Receipt.batchorder_no)("suggestions",d.BatchOrderList)("showEmptyMessage",!0)("emptyMessage",b["\u0275\u0275pipeBind1"](122,108,"NoResultsFound"))("forceSelection",!0),b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](129,110,"Customer#")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",d._Receipt.cashcustomer_vendor_code)("suggestions",d.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",b["\u0275\u0275pipeBind1"](132,112,"NoResultsFound"))("forceSelection",!0),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](138,114,"CustomerName")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",d._Receipt.cashcustomer_vendor_name)("readonly",!0),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("activeId",d.activeNav)("destroyOnHide",!1),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngbNavItem",1),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](150,116,"Items")),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",null==d.CurrentUserSetting?null:d.CurrentUserSetting.showreceiptitemcomponent),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngbNavItem",3),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](158,118,"LinkedReceipt")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngbNavItem",4),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](163,120,"Signature")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngbNavOutlet",s),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",d.itemqtyview)}}var Dn=function(){return{height:"150px"}};function Bn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",136),b["\u0275\u0275elementStart"](1,"h6",137),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"button",138),b["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),b["\u0275\u0275elementStart"](5,"span",139),b["\u0275\u0275text"](6,"\xd7"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",163),b["\u0275\u0275elementStart"](8,"div",164),b["\u0275\u0275elementStart"](9,"label",165),b["\u0275\u0275text"](10),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"input",166,167),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().DescriptionItem.customitemname=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"div",168),b["\u0275\u0275elementStart"](15,"div",164),b["\u0275\u0275elementStart"](16,"quill-editor",169),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().DescriptionItem.detailshtml=e})("onContentChanged",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onContentChanged(e)}),b["\u0275\u0275text"](17,' [modules]="quillConfig" > '),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"div",145),b["\u0275\u0275elementStart"](19,"button",104),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().SaveNotes()}),b["\u0275\u0275text"](20),b["\u0275\u0275pipe"](21,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"button",170),b["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),b["\u0275\u0275element"](23,"i",171),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,8,"Description")),b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](11,10,"Item")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",i.DescriptionItem.customitemname),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("styles",b["\u0275\u0275pureFunction0"](16,Dn))("ngModel",i.DescriptionItem.detailshtml)("ngModelOptions",b["\u0275\u0275pureFunction0"](17,mt)),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](21,12,"Save")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](25,14,"Cancel")," ")}}function Fn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h6",137),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Ln(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h6",137),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function qn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th"),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function Tn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th"),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Nn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th"),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Vn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",178),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function An(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",178),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function Un(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"date"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind2"](2,1,null==n?null:n.expire_date,"yyyy-MM-dd")," ")}}function Gn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",182),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}var $n=function(e){return{"invalid-data":e}};function jn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275elementStart"](1,"input",180),b["\u0275\u0275listener"]("change",function(e){b["\u0275\u0275restoreView"](n);var t=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"](2).ChangeBatchQty(t,e.target.value)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](2,Gn,3,3,"span",181),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;b["\u0275\u0275nextContext"]();var o=b["\u0275\u0275reference"](7);b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),b["\u0275\u0275property"]("value",null==a?null:a.qty)("ngClass",b["\u0275\u0275pureFunction1"](4,$n,(null==a?null:a.qty)>(null==a?null:a.availableqty)+(null==a?null:a.oldqty)&&o.submitted)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",(null==a?null:a.qty)>(null==a?null:a.availableqty)+(null==a?null:a.oldqty)&&o.submitted)}}function Wn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td"),b["\u0275\u0275element"](2,"input",179),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"td"),b["\u0275\u0275text"](4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](5,Un,3,4,"td",1),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275text"](7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"td"),b["\u0275\u0275text"](9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](10,jn,3,6,"td",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","Vaild",i,""),b["\u0275\u0275property"]("checked",null==n?null:n.valid),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ","ar"!=r.lang?null==n?null:n.name:null==n?null:n.name_ar," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",3==r.requiredserial),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",null==n?null:n.serial," "),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](null==n?null:n.availableqty),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",3==r.requiredserial)}}function zn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",136),b["\u0275\u0275template"](1,Fn,3,3,"h6",172),b["\u0275\u0275template"](2,Ln,3,3,"h6",172),b["\u0275\u0275elementStart"](3,"button",138),b["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross\n      click")}),b["\u0275\u0275elementStart"](4,"span",139),b["\u0275\u0275text"](5,"\xd7"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"form",9,10),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](7);return b["\u0275\u0275nextContext"]().saveserial(e)}),b["\u0275\u0275elementStart"](8,"div",163),b["\u0275\u0275elementStart"](9,"div",173),b["\u0275\u0275elementStart"](10,"div",6),b["\u0275\u0275elementStart"](11,"form"),b["\u0275\u0275elementStart"](12,"div",174),b["\u0275\u0275elementStart"](13,"h6",137),b["\u0275\u0275text"](14),b["\u0275\u0275pipe"](15,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"table",97),b["\u0275\u0275elementStart"](17,"thead"),b["\u0275\u0275elementStart"](18,"tr"),b["\u0275\u0275elementStart"](19,"th"),b["\u0275\u0275text"](20),b["\u0275\u0275pipe"](21,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"th",175),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](25,qn,3,3,"th",1),b["\u0275\u0275template"](26,Tn,3,3,"th",1),b["\u0275\u0275template"](27,Nn,3,3,"th",1),b["\u0275\u0275template"](28,Vn,3,3,"th",176),b["\u0275\u0275template"](29,An,3,3,"th",176),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"tbody"),b["\u0275\u0275template"](31,Wn,11,7,"tr",103),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"div",145),b["\u0275\u0275elementStart"](33,"button",177),b["\u0275\u0275text"](34),b["\u0275\u0275pipe"](35,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",2==i.requiredserial),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",3==i.requiredserial),b["\u0275\u0275advance"](12),b["\u0275\u0275textInterpolate2"](" ",b["\u0275\u0275pipeBind1"](15,14,"qty")," : ",i._batchqty," "),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](21,16,"Choose")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](24,18,"Store")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",3==i.requiredserial),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",2==i.requiredserial),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",3==i.requiredserial),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",3==i.requiredserial),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",3==i.requiredserial),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",i.BatchesListForEatchRow)("ngForTrackBy",i.trackByFn),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](35,20,"save")," ")}}var Jn=function(){return[328,329,330,331,630]},Qn=function(){var n=function(){function n(e,t,i,r,a,c,l,s,d,p,m,u,h,_,g,f,v,y,R){var S=this;o(this,n),this._CustomerService=e,this._ReceiptSharedService=t,this._TransferService=i,this._VoucherService=r,this.cd=a,this.toastr=c,this._router=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this._activeRoute=m,this.modalService=u,this.spinner=h,this._authService=_,this._printService=g,this._VerifyReportsService=f,this.datepipe=v,this.location=y,this._ProductionService=R,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=81,this.Transaction_move=0,this._Receipt=new C.tY,this._ReceiptOriginal=new C.tY,this._ReceiptOriginalWithoutTo=new C.tY,this._Receipt_h_Edit=new C.Iu,this._CashSalesDetailsReceipt=new C.hm,this.ItemsComponentList=new Array,this._OppositDetailsReceipt=new Array,this.OppositItemsComponentList=new Array,this.DescriptionItem=new C.tH,this._LinkedReceipt=new C.Cb,this._Currencyprecision=3,this.BatchNoText="",this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.CustomerAccountsList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CurrencyList=[],this.FromStoreList=[],this.UserToStoreList=[],this.UserStoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.reporturl="",this.reportdomainUrl=Ve.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.ShowWarrantyDateCols=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.Receiptnoitems="",this.NoUnits="",this.qtyErrorSaveMsg="",this.ItemWarrantyValidMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.CustomerPricelistMsg="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.ToStoreErrorMsg="",this.FromStoreErrorMsg="",this.RelatedwithSerialsOrBatches="",this.QtyIsValidWithAvailableQty="",this.InValidNumberOfBatch="",this.InValidQty="",this.DeleteUsedBatchesOrSerials="",this.InValidQtyForBatch="",this.BranchApplyTax=!0,this.TaxPercentage=0,this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemqtyList=new Array,this._totalcost=0,this.selectedindex=0,this.requiredserial=2,this._batchqty=0,this.BatchesListForEatchRow=[],this.salesReturnEffectDispensingPolicyError=!1,this.RecivingError="",this.ReceivingPermis=!0,this.BatchOrderList=[],this.batchOrderItems=[],m.params.subscribe(function(e){S.ReceiptID=e.id,S.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,S.LockedRecepit=S.ShowModeReceipt,S.StoreId=e.storeid,S.VendorId=e.vendorid,S.ItemListIds=e.items,S.subsidiaryID=S._generalService.SubsidiaryID,S._UserLogin=S._authService.userInfo(),S.subsidiaryID>0&&S.SetInitialMethods()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){0==S.subsidiaryID&&(S.subsidiaryID=S._generalService.SubsidiaryID,S.SetInitialMethods()),S.subsidiaryID!=S._generalService.SubsidiaryID&&S.subsidiaryID>0&&(S.subsidiaryID=S._generalService.SubsidiaryID,S._router.navigate(["/page/inventorytransfers/transfergood/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){S.lang=e.lang,S.dir=e.dir,S.translate.use(e.lang),S.ngTransUnsubscribe=S.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","Transfer Good","ToStoreErrorMsg","FromStoreErrorMsg","No","swalNewActionTitle","swalNewActionText","NOComponents","CostPostingPeriodMessage","RelatedwithSerialsOrBatches","QtyIsValidWithAvailableQty","InValidNumberOfBatch","InValidQty","DeleteUsedBatchesOrSerials","InValidQtyForBatch","cantNotDuplicateItem","RecivingError"]).subscribe(function(e){document.title=e["Transfer Good"],S.Cancel=e.Cancel,S.swalTitleEntry=e.swalTitleEntryno,S.swalTextEntry=e.swalEntrynoText,S.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,S.WarningInfoLost=e.WarningInfoLost,S.warning=e.warning,S.Yes=e.Yes,S.No=e.No,S.NOComponents=e.NOComponents,S.swalNewActionTitle=e.swalNewActionTitle,S.swalNewActionText=e.swalNewActionText,S.CustomerPricelistMsg=e.CustomerPricelistMsg,S.mailmsg=e.mailmsg,S.swalDeleteTitle=e.swalDeleteTitle,S.swalDetlateText=e.swalDetlateText,S.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,S.DeleteRelationmsg=e.DeleteRelationmsg,S.toastrSuccessDelete=e.successMsg,S.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,S.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,S.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,S.ReceiptNotFound=e.ReceiptNotFound,S.Receiptnoitems=e.Receiptnoitems,S.NoUnits=e.NoUnits,S.FinancialPeriodMsg=e.FinancialPeriodMsg,S.StopInventoryErrorMsg=e.StopInventoryErrorMsg,S.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,S.Close=e.Close,S.qtyErrorMsg=e.qtyErrorMsg,S.qtyErrorSaveMsg=e.qtyErrorSaveMsg,S.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,S.SaveMsg=e.SaveMsg,S.ToStoreErrorMsg=e.ToStoreErrorMsg,S.FromStoreErrorMsg=e.FromStoreErrorMsg,S.CostPostingPeriodMessage=e.CostPostingPeriodMessage,S.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,S.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,S.InValidNumberOfBatch=e.InValidNumberOfBatch,S.InValidQty=e.InValidQty,S.DeleteUsedBatchesOrSerials=e.DeleteUsedBatchesOrSerials,S.InValidQtyForBatch=e.InValidQtyForBatch,S.cantNotDuplicateItem=e.cantNotDuplicateItem,S.RecivingError=e.RecivingError})})}return a(n,[{key:"ngOnInit",value:function(){}},{key:"SetInitialMethods",value:function(){this._Receipt=new C.tY,this.GetFromStoreList(""),this.GetCurrentUserSetting(),this.GetUserStoreList(""),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,n=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,qe.D)([n,i]).subscribe(function(n){var i=t(n,2),r=i[0],a=i[1];e.ReceiptCodeList=r,e.InventorySetting=a,e.UserToStoreList=0==e.InventorySetting[0].transferuserpermissions?e.FromStoreList:e.UserStoreList,e.Transaction_move=-1,e.GetReceipt(),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"GetReceipt",value:function(){var t=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.createdbyid=this._UserLogin.id,this._Receipt.customersalesprice=0,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.receiving=!0,this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&(this._Receipt.branch_id="null"==n.branchId||0==n.branchId?null:n.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(function(){t._ReceiptOriginal=JSON.parse(JSON.stringify(t._Receipt)),console.log(t._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(function(n){if(null!=n.receipt){t.VouchersLinkedCount=n.voucherslinkedcount.voucherslinkedcount,t._Receipt.id=n.receipt.id,t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.code=n.receipt.code,t._Receipt.entry_no=n.receipt.entry_no,t._Receipt.branch_id=n.receipt.branch_id,t.BranchApplyTax=n.receipt.applytax,t._Receipt.transaction_code=n.receipt.transaction_code,t._Receipt.customersalesprice=n.receipt.customersalesprice,t._Receipt.entry_date=t.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),t._Receipt.entry_time=n.receipt.entry_time,t._Receipt.reservedflag=n.receipt.reservedflag,t._Receipt.payment_type=n.receipt.payment_type,t._Receipt.vendor_id=n.receipt.vendor_id,t._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.vendornamear:n.receipt.vendorname,t.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=t._Receipt.cashcustomerid&&(t._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername),t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.customerdeliverdate=t.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),t._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,t._Receipt.ordertype=n.receipt.ordertype,t._Receipt.empoyee_id=n.receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._Receipt.salestypeid=n.receipt.salestypeid,t._Receipt.commisionaccountid=n.receipt.commisionaccountid,t._Receipt.commisionaccountfieldname="ar"==t.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},t._Receipt.commissiontype=n.receipt.commissiontype,t._Receipt.commission=n.receipt.commission,t._Receipt.commissionnet=n.receipt.commissionnet,t._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,t._Receipt.commisionaccountfieldname1="ar"==t.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},t._Receipt.commissiontype1=n.receipt.commissiontype1,t._Receipt.commission1=n.receipt.commission1,t._Receipt.commissionnet1=n.receipt.commissionnet1,t._Receipt.costcenterid=n.receipt.costcenterid,t._Receipt.costcenterfieldname=null!=t._Receipt.costcenterid?"ar"==t.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,t._Receipt.classid=n.receipt.classid,t._Receipt.classfieldname=null!=t._Receipt.classid?"ar"==t.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,t._Receipt.locationid=n.receipt.locationid,t._Receipt.locationfieldname=null!=t._Receipt.locationid?"ar"==t.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,t._Receipt.departmentid=n.receipt.departmentid,t._Receipt.departmentfieldname=null!=t._Receipt.departmentid?"ar"==t.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,t._Receipt.carid=n.receipt.carid,t._Receipt.driverid=n.receipt.driverid,t._Receipt.valueforeign=n.receipt.valueforeign,t._Receipt.value=n.receipt.value,t._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,t._Receipt.discount_percent=n.receipt.discount_percent,t._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,t._Receipt.discount_value=n.receipt.discount_value,t._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,t._Receipt.deliveryfees=n.receipt.deliveryfees,t._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,t._Receipt.surchargevalue=n.receipt.surchargevalue,t._Receipt.surchargepercent=n.receipt.surchargepercent,t._Receipt.netvalueforeign=n.receipt.netvalueforeign,t._Receipt.netvalue=n.receipt.netvalue,t._Receipt.signature=n.receipt.signature,t._Receipt.related_voucher_type=n.receipt.related_voucher_type,t._Receipt.related_voucher_code=n.receipt.related_voucher_code,t._Receipt.status_id=n.receipt.status_id,t._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,t._Receipt.costing_rate=n.receipt.costing_rate,t._Receipt.approvedby_id=n.receipt.approvedby_id,t._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,t._Receipt.paymentterm_id=n.receipt.paymentterm_id,t._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,t._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,t._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,t._Receipt.deliverylocation=n.receipt.deliverylocation,t._Receipt.contactedperson=n.receipt.contactedperson,t._Receipt.othernotes=n.receipt.othernotes,t._Receipt.cashdrawerid=n.receipt.cashdrawerid,t._Receipt.leadid=n.receipt.leadid,t._Receipt.deliverynotes=n.receipt.deliverynotes,t._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,t._Receipt.is_canceled=n.receipt.is_canceled,t._Receipt.fromstoreid=n.receipt.fromstoreid,t._Receipt.tostoreid=n.receipt.tostoreid,t._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,t._Receipt.printcount=n.receipt.printcount,t._Receipt.iskitchendone=n.receipt.iskitchendone,t._Receipt.paidamount=n.receipt.paidamount,t._Receipt.isholded=n.receipt.isholded,t._Receipt.branchtableid=n.receipt.branchtableid,t._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,t._Receipt.deliverystatusid=n.receipt.deliverystatusid,t._Receipt.deposite=n.receipt.deposite,t._Receipt.paymentandconditions=n.receipt.paymentandconditions,t._Receipt.notes=n.receipt.notes,t._Receipt.chefid=n.receipt.chefid,t._Receipt.changeamount=n.receipt.changeamount,t._Receipt.divisionid=n.receipt.divisionid,t._Receipt.courierid=n.receipt.courierid,t._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,t._Receipt.creationdate=n.receipt.creationdate,t._Receipt.lastupdatedate=n.receipt.lastupdatedate,t._Receipt.createdbyid=n.receipt.createdbyid,t._Receipt.updatedbyid=n.receipt.updatedbyid,t._Receipt.receiptattributeid=n.receipt.receiptattributeid,t._Receipt.costposted=n.receipt.costposted,t._Receipt.lcaccountid=n.receipt.lcaccountid,t._Receipt.lcno=n.receipt.lcno,t._Receipt.lcbank=n.receipt.lcbank,t._Receipt.lcstartdate=n.receipt.lcstartdate,t._Receipt.lcenddate=n.receipt.lcenddate,t._Receipt.lcrenewdate=n.receipt.lcrenewdate,t._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,t._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,t._Receipt.lcpolicyno=n.receipt.lcpolicyno,t._Receipt.insurancedate=n.receipt.insurancedate,t._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,t._Receipt.lccondition=n.receipt.lccondition,t._Receipt.shippingmethod=n.receipt.shippingmethod,t._Receipt.exportport=n.receipt.exportport,t._Receipt.shipname=n.receipt.shipname,t._Receipt.lcnotes=n.receipt.lcnotes,t._Receipt.quotationcustomername=n.receipt.quotationcustomername,t._Receipt.duedate=n.receipt.duedate,t._Receipt.schedule_date=n.receipt.schedule_date,t._Receipt.storetype=n.receipt.storetype,t._Receipt.quotationenddate=n.receipt.quotationenddate,t._Receipt.wostatusid=n.receipt.wostatusid,t._Receipt.parentreceiptid=n.receipt.parentreceiptid,t._Receipt.isapproved=n.receipt.isapproved,t._Receipt.replenshimenttype=n.receipt.replenshimenttype,t._Receipt.reference=n.receipt.reference,t._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,t._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,t._Receipt.cancelreasonid=n.receipt.cancelreasonid,t._Receipt.contractstartdate=n.receipt.contractstartdate,t._Receipt.contractenddate=n.receipt.contractenddate,t._Receipt.previouscontractid=n.receipt.previouscontractid,t._Receipt.erpstatus=n.receipt.erpstatus,t._Receipt.loyalitybalance=n.receipt.loyalitybalance,t._Receipt.cpno=n.receipt.cpno,t._Receipt.accounttype=n.receipt.accounttype,t._Receipt.printing=n.receipt.printing,t._Receipt.storedelivery=n.receipt.storedelivery,t._Receipt.customerrecieve=n.receipt.customerrecieve,t._Receipt.promotionid=n.receipt.promotionid,t._Receipt.promotionpercent=n.receipt.promotionpercent,t._Receipt.promotionvalue=n.receipt.promotionvalue,t._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,t._Receipt.urgent=n.receipt.urgent,t._Receipt.quotationstatusid=n.receipt.quotationstatusid,t._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,t._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,t._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,t._Receipt.totalproductioncost=n.receipt.totalproductioncost,t._Receipt.totalvouchercost=n.receipt.totalvouchercost,t._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,t._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,t._Receipt.taxvalue=n.receipt.taxvalue,t._Receipt.sourceid=n.receipt.sourceid,t._Receipt.contractid=n.receipt.contractid,t._Receipt.type_id=n.receipt.type_id,t._Receipt.productionlineid=n.receipt.productionlineid,t._Receipt.linescheduleddate=n.receipt.linescheduleddate,t._Receipt.inchargepersonname=n.receipt.inchargepersonname,t._Receipt.inchargephoneno=n.receipt.inchargephoneno,t._Receipt.receiving=n.receipt.receiving,null!=n.receipt.batchorder_id&&(t._Receipt.batchorder_id=n.receipt.batchorder_id,t._Receipt.batchorder_no={entry_no:n.receipt.batchordercode,id:t._Receipt.batchorder_id},t.GetBatchOrderDetailsById(t._Receipt.batchorder_id,"details")),t._Receipt.details=n.items,t._Receipt.details.forEach(function(e){e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),t._Receipt.itemscomponent=n.itemcomponents,t._Receipt.itemscomponent.forEach(function(e){e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),t.ItemUnitsList=n.itemunits,t.ItemComponentUnitsList=n.componentsunits,t._Receipt.linkedreceipts=n.linkedreceipts,t._Receipt.receiptmultipayment=n.receiptmultipayment,t.originalSalesPrice=t._Receipt.customersalesprice,t.ItemsComponentList=JSON.parse(JSON.stringify(t._Receipt.itemscomponent)),t._ReceiptOriginalWithoutTo=JSON.parse(JSON.stringify(t._Receipt));var i=JSON.parse(JSON.stringify(t._ReceiptOriginalWithoutTo.details)),r=JSON.parse(JSON.stringify(t._ReceiptOriginalWithoutTo.itemscomponent));t._Receipt.details=i.filter(function(e){return e.store_id==t._Receipt.fromstoreid}),t.ItemsComponentList=r.filter(function(e){return e.store_id==t._Receipt.fromstoreid}),t._Receipt.itemscomponent=r.filter(function(e){return e.store_id==t._Receipt.fromstoreid}),t._Receipt.details.forEach(function(i){if(3==i.isrequireserial){i.batcheslist=new Array;var r=n.batches.filter(function(e){return e.inv_receipt_d_id==i.id});i.batcheslist=e(r),t.ItemUnitsList.filter(function(e){return e.item_id==i.item_id&&e.id==i.unit_id}),i.batcheslist.forEach(function(e){e.qty=e.qty})}}),t.entry_no=t._Receipt.entry_no,t.originalSalesPrice=t._Receipt.customersalesprice,t._ReceiptOriginal=JSON.parse(JSON.stringify(t._Receipt)),t.ReceivingPermis=-1!=t.UserStoreList.findIndex(function(e){return e.id==t._Receipt.tostoreid}),t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency,1==!t.ShowModeReceipt&&t.CheckValidDateBySubsidaryID(),t.OnSelectedItem(t._Receipt.details[0],0,"selected",!0),t.cd.markForCheck()}})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){if(null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{if(!(t._Receipt.details[e].qty>0))return i=e,{v:void t.toastr.error(t.qtyZeroErrorSaveMsg)};0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}i=e},i=0;i<this._Receipt.details.length;i++){var r=n(i);if("object"==typeof r)return r.v}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(var a=function(e){if(t._Receipt.itemscomponent[e].qty>0){0!=t._Receipt.value?(t._Receipt.itemscomponent[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty%(1/0)||0,t._Receipt.itemscomponent[e].h_discount_percentage=100*(t._Receipt.itemscomponent[e].h_discount_value/(t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty)%(1/0)||0)):(t._Receipt.itemscomponent[e].h_discount_value=0,t._Receipt.itemscomponent[e].h_discount_percentage=0);var n=t.ItemComponentUnitsList.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id&&n.id==t._Receipt.itemscomponent[e].unit_id});t._Receipt.itemscomponent[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.itemscomponent[e].conv/n.conv):t._Receipt.itemscomponent[e].conv,t._Receipt.itemscomponent[e].final_conv=0==t._Receipt.itemscomponent[e].final_conv?1:t._Receipt.itemscomponent[e].final_conv}},o=0;o<this._Receipt.itemscomponent.length;o++)a(o);this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod()}},{key:"SaveReceipt",value:function(){var e=this;if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),1==this.CashCustomerSetting.salesreturneffect){var t=[];if(this._Receipt.details.forEach(function(n){if(3==n.isrequireserial){n.allowqtyselectforitem=!0,0==n.batcheslist.length?(n.allowqtyselectforitem=!1,t.push(!1)):0==n.validrow&&(n.allowqtyselectforitem=!1,t.push(!0));var i=[],r=[],a=e._Receipt.details.filter(function(e){return e.item_id==n.item_id});if(null!=a&&a.length>1){a.forEach(function(e){var t=e.final_conv;e.batcheslist.forEach(function(e){var n=new Ge.WB;n.availableqty=e.availableqty*t,n.qty=e.qty*t,n.serial=e.serial,n.batchno=e.batchno,i.push(n)})}),console.log("serialdata:",i),i.forEach(function(e){var t=i.filter(function(t){return t.batchno==e.batchno&&t.serial==e.serial}).map(function(e){return e.qty}).reduce(function(e,t){return e+t});r.push({serial:e.batchno,qty:t,availableqty:e.availableqty})}),console.log("sum:",r);var o=r.filter(function(e){return e.qty>e.availableqty});null!=o&&o.length>0&&(n.validrow=!1,n.allowqtyselectforitem=!1,t.push(!1))}console.log("end:",n.validrow)}}),console.log("_isValidArr:",t),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),t.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(t=[],this._Receipt.details.forEach(function(e){if(3==e.isrequireserial)if(e.allowqtyselectforitem=!0,0==e.batcheslist.length)e.allowqtyselectforitem=!1,t.push(!1);else{var n=0;e.batcheslist.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=e.qty&&(e.allowqtyselectforitem=!1,t.push(!1))}}),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}if(this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();if(this._ReceiptOriginalWithoutTo.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();if(console.log("con..."),this.DuringSaveDisable=!0,0==this.ReceivingPermis&&1==this._Receipt.receiving&&(null==this._Receipt.id||0==this._Receipt.id)&&1==this.InventorySetting[0].receivetransfers)return this.DuringSaveDisable=!1,this.toastr.error(this.RecivingError);if(this._Receipt.receiving!=this._ReceiptOriginal.receiving&&this._Receipt.id>0&&1==this.InventorySetting[0].receivetransfers&&0==this.ReceivingPermis&&1==this._Receipt.receiving)return this.DuringSaveDisable=!1,this.toastr.error(this.RecivingError);1==this._Receipt.receiving&&1==this.InventorySetting[0].receivetransfers||0==this.InventorySetting[0].receivetransfers||null==this.InventorySetting[0].receivetransfers?(this._Receipt.details.forEach(function(e){return e.transaction_move=-1}),this._Receipt.itemscomponent.forEach(function(e){return e.transaction_move=-1}),this.OppositItemsComponentList=this._Receipt.itemscomponent.map(function(t){return Object.assign({},t,{store_id:e._Receipt.tostoreid,transaction_move:1,id:null})}),this._OppositDetailsReceipt=this._Receipt.details.map(function(t){return Object.assign({},t,{store_id:e._Receipt.tostoreid,transaction_move:1,rowno:0,id:null})}),this._OppositDetailsReceipt.forEach(function(t){e._Receipt.details.push(t)}),this.OppositItemsComponentList.forEach(function(t){null==t.id&&e._Receipt.itemscomponent.push(t)})):(this._Receipt.details.forEach(function(e){return e.transaction_move=0}),this._Receipt.itemscomponent.forEach(function(e){return e.transaction_move=0}),this.OppositItemsComponentList=this._Receipt.itemscomponent.map(function(t){return Object.assign({},t,{store_id:e._Receipt.tostoreid,transaction_move:0})}),this._OppositDetailsReceipt=this._Receipt.details.map(function(t){return Object.assign({},t,{store_id:e._Receipt.tostoreid,transaction_move:0,rowno:0,id:null})}),this._OppositDetailsReceipt.forEach(function(t){e._Receipt.details.push(t)}),this.OppositItemsComponentList.forEach(function(t){null==t.id&&e._Receipt.itemscomponent.push(t)}));for(var n=0;n<this._Receipt.linkedreceipts.length;n++)0==this._Receipt.linkedreceipts[n].fire&&(this._Receipt.linkedreceipts.splice(n,1),n--);null==this._Receipt.id||0==this._Receipt.id?this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,e._router.navigate(["/page/inventorytransfers/transfergood/"+e.ReceiptID]).then(function(){window.location.reload()})}):(this._Receipt_h_Edit=new C.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginalWithoutTo,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/inventorytransfers/transfergood/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t&&e.ChangeEntryDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Le().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/inventorytransfers/transfergood/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)Le().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}this.onClearBatchOrder(e)}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];1==i&&(this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==n&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(n){if(n.length>0?(t.StoreCostCenterSetting=n[0],t.BranchApplyTax=n[0].applytax):t.StoreCostCenterSetting={storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=t.StoreCostCenterSetting.storeid){if(t._Receipt.fromstoreid=t.StoreCostCenterSetting.storeid,t.StoreCode=t.StoreCostCenterSetting.storecode,0==t._Receipt.details.length){t._CashSalesDetailsReceipt=new C.hm,t._CashSalesDetailsReceipt.transaction_move=t.Transaction_move;var r=Math.max.apply(Math,e(t._Receipt.details.map(function(e){return e.rowno})).concat([0]));t._CashSalesDetailsReceipt.rowno=r+1,t._Receipt.details.push(t._CashSalesDetailsReceipt),t._Receipt.details[0].store_id=t.StoreCostCenterSetting.storeid,t._Receipt.details[0].storecode={code:t.StoreCostCenterSetting.storecode}}1==i&&t._Receipt.details.length>0&&(t._Receipt.details.forEach(function(e){e.store_id=t.StoreCostCenterSetting.storeid,e.storecode={code:t.StoreCostCenterSetting.storecode}}),t._Receipt.itemscomponent.forEach(function(e){e.store_id=t.StoreCostCenterSetting.storeid,e.storecode={code:t.StoreCostCenterSetting.storecode}}),t.CheckBalanceForItemInStore(0,!0))}null!=t.StoreCostCenterSetting.costcenterid&&(t._Receipt.costcenterid=t.StoreCostCenterSetting.costcenterid,t._Receipt.costcenterfieldname={costcenterfieldname:"ar"==t.lang?t.StoreCostCenterSetting.costcentername_ar:t.StoreCostCenterSetting.costcentername}),t.cd.markForCheck()})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t,e.SetCustomerSalesPriceList()})}},{key:"GetUserStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._TransferService.GetAllActiveStoreBySubsIDAndUser(this.subsidiaryID,t).subscribe(function(t){e.UserStoreList=[],e.UserStoreList=t,e.cd.markForCheck()})}},{key:"SetCustomerSalesPriceList",value:function(){var e=this.CurrentUserSetting.salespricepolicy;if(null==e||0==e){this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"},{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"},{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}];var t=JSON.parse(localStorage.getItem("SalesPricePolicy"));this._Receipt.customersalesprice=null!=t&&null!=t?parseInt(t.SalesPricePolicy):this.CustomerSalesPriceList[0].id}else 1==e?this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"}]:2==e?this.CustomerSalesPriceList=[{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"}]:3==e?this.CustomerSalesPriceList=[{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"}]:4==e?this.CustomerSalesPriceList=[{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"}]:5==e&&(this.CustomerSalesPriceList=[{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}]),this._Receipt.customersalesprice=this.CustomerSalesPriceList[0].id;this.originalSalesPrice=this._Receipt.customersalesprice}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:1,allowpack:!1,dispensingpolicy:1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t,e.cd.markForCheck()})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeCurrency",value:function(e){var t,n=this;(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.Calculate_Total_Tax_Net(),n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(var e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Le().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Le().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){var t=this;1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?Le().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?(t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.vendor_id=e.accountid,t._Receipt.cashcustomer_vendor_name="ar"!=t.lang?e.name:e.name_ar,t.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(t._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(t._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(t._Receipt.reference_no=e.internalreferencenum),null!=t._Receipt.fromstoreid&&0==t._Receipt.details.length&&(t._CashSalesDetailsReceipt=new C.hm,t._CashSalesDetailsReceipt.transaction_move=t.Transaction_move,t._Receipt.details.push(t._CashSalesDetailsReceipt),t._Receipt.details[0].store_id=t._Receipt.fromstoreid,t._Receipt.details[0].storecode={code:t.StoreCode})):(t._Receipt.vendor_id=null,t._Receipt.cashcustomerid=null,t._Receipt.cashcustomer_vendor_code=null,t._Receipt.cashcustomer_vendor_name=null,t._Receipt.costcenterid=null,t._Receipt.costcenterfieldname=null,null!=t._Receipt.fromstoreid&&0==t._Receipt.details.length&&(t._CashSalesDetailsReceipt=new C.hm,t._CashSalesDetailsReceipt.transaction_move=t.Transaction_move,t._Receipt.details.push(t._CashSalesDetailsReceipt),t._Receipt.details[0].store_id=t._Receipt.fromstoreid,t._Receipt.details[0].storecode={code:t.StoreCode}))}):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),null!=this._Receipt.fromstoreid&&0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this._Receipt.fromstoreid,this._Receipt.details[0].storecode={code:this.StoreCode}))}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.CustomerAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"onClearCustomer",value:function(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_id=null}},{key:"GetFromStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._TransferService.GetAllActiveStoreBySubsID(this.subsidiaryID,t).subscribe(function(t){e.FromStoreList=[],e.FromStoreList=t,e.cd.markForCheck()})}},{key:"onClearItems",value:function(t){var n=this._Receipt.details[t];if(3==n.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==n.item_id}).length>0)if(null!=n.id)for(var i=0;i<this._Receipt.itemscomponent.length;i++)this._Receipt.itemscomponent[i].finishedproductid==n.item_id&&this._Receipt.itemscomponent[i].finishedreceipt_did==n.id&&(this._Receipt.itemscomponent.splice(i,1),i--);else null==n.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=n.rowno}));if(null!=this._Receipt.details[t].id){var r=Math.max.apply(Math,e(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._Receipt.details[t].rowno=r+1}this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].item_id=null,this._Receipt.details[t].itemname=null,this._Receipt.details[t].itemname_ar=null}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(function(t){return t.item_id==e.id})?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new C.hm,0==this._Receipt.id||null==this._Receipt.id?(this._Receipt.details[t].store_id=this._Receipt.fromstoreid,this._Receipt.details[t].storecode={code:this.StoreCode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),1!=this.CashCustomerSetting.salesreturneffect||1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"duplicateItemSwalPopUp",value:function(e){var t=this;Le().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(n){t.onClearItems(e),t._Receipt.details[e].itemcode=null,t.cd.markForCheck()})}},{key:"DispensingPolicy",value:function(e){}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";0==this.PriceListItemsOnly||null==this._Receipt.vendor_id?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new C.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,0==n._Receipt.id||null==n._Receipt.id?(n._Receipt.details[t].store_id=n._Receipt.fromstoreid,n._Receipt.details[t].storecode={code:n.StoreCode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):3==e.item_type&&0==i.itemcomponents.length?(n._Receipt.details[t]=new C.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,0==n._Receipt.id||null==n._Receipt.id?(n._Receipt.details[t].store_id=n._Receipt.fromstoreid,n._Receipt.details[t].storecode={code:n.StoreCode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NOComponents)):(n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n._Receipt.details[t].haswarrenty=i.item.haswarrenty,n._Receipt.details[t].warrantydate=i.item.haswarrenty?n.getwarrantydateDate():null,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.inventory_unitid,i.componentsunits.length>0&&(n.ItemComponentUnitsList=n.ItemComponentUnitsList.concat(i.componentsunits)),i.itemcomponents.length>0&&i.itemcomponents.forEach(function(e){var i=new C.hm;i.item_id=e.itemcomponentid,i.finishedproductid=e.item_id,i.itemname=e.itemname,i.itemname_ar=e.itemname_ar,i.itemcode=e.itemcode,i.unit_id=e.itemcomponentunitid,i.qty=e.itemcomponentqty,i.basicqtycomponent=e.itemcomponentqty,i.conv=e.itemcomponentconv,i.itemcode=e.itemcode,i.price=0,i.total=i.price*i.qty,i.store_id=n._Receipt.details[t].store_id,i.transaction_move=n.Transaction_move,i.item_type=e.item_type,i.storecode=null!=n._Receipt.details[t].storecode?n._Receipt.details[t].storecode.code:null,i.parentrowno=n._Receipt.details[t].rowno,n._Receipt.itemscomponent.push(i)}),n.ChangeItemUnits(e.inventory_unitid,t)),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){var n=this;e.toString().includes(":")&&(e=e.split(":")[1].trim());var i=this._Receipt.details[t].item_id,r=this.ItemUnitsList.filter(function(t){return t.item_id==i&&t.id==e});null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(e){console.log(e),e.length>0?(n._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)):(n._Receipt.details[t].price=Number((0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)),1!=n.CashCustomerSetting.salesreturneffect||1!=n.CashCustomerSetting.dispensingpolicy||2!=n._Receipt.details[t].isrequireserial&&3!=n._Receipt.details[t].isrequireserial||n.OnSerialItems(t,n.serialModel)}),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});n=r[0].conv,t._ReceiptSharedService.GetItemCostAtDateStore(t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,0,t._Receipt.entry_date+" "+t._Receipt.entry_time).subscribe(function(r){console.log(r),r.length>0?(i=Number((r[0].avgcost||0).toFixed(t._Currencyprecision)),t._Receipt.details[e].price=i*t._Receipt.details[e].conv/n,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)):(i=0,t._Receipt.details[e].price=i*t._Receipt.details[e].conv/n,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)),1!=t.CashCustomerSetting.salesreturneffect||1!=t.CashCustomerSetting.dispensingpolicy||2!=t._Receipt.details[e].isrequireserial&&3!=t._Receipt.details[e].isrequireserial||t.OnSerialItems(e,t.serialModel)}),t.cd.markForCheck()},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){if(t.timeout=null,3==t._Receipt.details[e].item_type)if(t.ItemsComponentList=new Array,null!=t._Receipt.details[e].id)!function(){for(var n=t._Receipt.details[e],i=function(e){if(t._Receipt.itemscomponent[e].finishedproductid==n.item_id&&t._Receipt.itemscomponent[e].finishedreceipt_did==n.id){var i=t._ReceiptOriginalWithoutTo.details.find(function(e){return e.id==n.id}).qty||0,r=t._ReceiptOriginalWithoutTo.itemscomponent.find(function(i){return i.finishedreceipt_did==n.id&&i.id==t._Receipt.itemscomponent[e].id}).qty;t._Receipt.itemscomponent[e].basicqtycomponent=r/i,t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].basicqtycomponent*n.qty,t._Receipt.itemscomponent[e].store_id==t._Receipt.fromstoreid&&t.ItemsComponentList.push(t._Receipt.itemscomponent[e])}},r=0;r<t._Receipt.itemscomponent.length;r++)i(r)}();else if(null==t._Receipt.details[e].id)for(var n=t._Receipt.details[e],i=0;i<t._Receipt.itemscomponent.length;i++)t._Receipt.itemscomponent[i].finishedproductid==n.item_id&&null==t._Receipt.itemscomponent[i].id&&t._Receipt.itemscomponent[i].parentrowno==n.rowno&&(t._Receipt.itemscomponent[i].qty=t._Receipt.itemscomponent[i].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[i]));t.StockBalances(e),t.CheckBalanceForItemInStore(e),t.CalaculteValuesItemsRow(e),1!=t.CashCustomerSetting.salesreturneffect||1!=t.CashCustomerSetting.dispensingpolicy||2!=t._Receipt.details[e].isrequireserial&&3!=t._Receipt.details[e].isrequireserial||t.OnSerialItems(e,t.serialModel)},1e3)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){var r=e;if(null!=r.id)for(var a=0;a<this._Receipt.itemscomponent.length;a++)this._Receipt.itemscomponent[a].finishedproductid==r.item_id&&this._Receipt.itemscomponent[a].finishedreceipt_did==r.id&&this._Receipt.itemscomponent[a].store_id==this._Receipt.fromstoreid&&this.ItemsComponentList.push(this._Receipt.itemscomponent[a]);else null==r.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==r.item_id&&null==e.id&&e.parentrowno==r.rowno}))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}},{key:"AddItems",value:function(){this._CashSalesDetailsReceipt=new C.hm,this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id||null==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this._Receipt.fromstoreid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode),this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;var t=Math.max.apply(Math,e(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=t+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){this.itemqtyview=!1;var t=this._Receipt.details[e];if(console.log(t,"obj"),null==t.batcheslist||-1==t.batcheslist.findIndex(function(e){return e.solidquantity>0})){if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==t.item_id}).length>0)if(null!=t.id)for(var n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=t.rowno}));1==this._Receipt.details.filter(function(e){return e.item_id==t.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id})),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this.OnSelectedItem(null),this.cd.markForCheck()}else this.toastr.error(this.DeleteUsedBatchesOrSerials)}},{key:"OnEditItemsNotes",value:function(e,t){this.DescriptionItem=new C.tH,this.DescriptionItem.index=e,this.DescriptionItem.detailshtml=this._Receipt.details[e].detailshtml,this.DescriptionItem.customitemname=this._Receipt.details[e].customitemname,this.OpenModal(t)}},{key:"SaveNotes",value:function(){this._Receipt.details[this.DescriptionItem.index].customitemname=this.DescriptionItem.customitemname,this._Receipt.details[this.DescriptionItem.index].detailshtml=this.DescriptionItem.detailshtml,this._Receipt.details[this.DescriptionItem.index].salesmanid=this.DescriptionItem.salesmanid,this.CloseModal()}},{key:"onContentChanged",value:function(e){this._Receipt.details[this.DescriptionItem.index].notes=e.text}},{key:"CalaculteValuesItemsRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;var n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"ReCalaculteValuesChangeItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t,e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt}),e.Transaction_move=-1,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(n){if(t.spinner.hide(),null==n.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(n.items.length>0)if(1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.customersalesprice=n.receipt.customersalesprice,t._Receipt.payment_type=n.receipt.payment_type,t._Receipt.vendor_id=n.receipt.vendor_id,t._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.vendornamear:n.receipt.vendorname,t._Receipt.vendor_balance=n.receipt.vendor_balance,t.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=t._Receipt.cashcustomerid&&(t._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,t.PriceListItemsOnly=!1),t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.empoyee_id=n.receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),0==t.PriceListItemsOnly||n.receipt.vendor_id==t._Receipt.vendor_id){if(t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=n.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id,null!=n.receipt.fromstoreid){t._Receipt.fromstoreid=n.receipt.fromstoreid;var i=t.FromStoreList.find(function(e){return e.id==t._Receipt.fromstoreid});t.StoreCode=i.storecode,0==t._Receipt.details.length&&(t._CashSalesDetailsReceipt=new C.hm,t._CashSalesDetailsReceipt.transaction_move=t.Transaction_move,t._Receipt.details.push(t._CashSalesDetailsReceipt),t._Receipt.details[0].store_id=i.id,t._Receipt.details[0].storecode={code:i.storecode}),t._Receipt.details.length>0&&(t._Receipt.details.forEach(function(e){e.store_id=i.id,e.storecode={code:i.storecode}}),t._Receipt.itemscomponent.forEach(function(e){e.store_id=i.id,e.storecode={code:i.storecode}}))}null!=n.receipt.tostoreid&&(t._Receipt.tostoreid=n.receipt.tostoreid);for(var r=0;r<t._Receipt.details.length;r++)null==t._Receipt.details[r].item_id&&(t._Receipt.details.splice(r,1),r--);n.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),n.itemcomponents.length>0&&(t.ItemComponentsLinkedReceipt=n.itemcomponents,81==n.receipt.code&&(t.ItemComponentsLinkedReceipt=t.ItemComponentsLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.ItemComponentUnitsList=t.ItemComponentUnitsList.concat(n.componentsunits)),t.ItemLinkedReceipt=n.items,81==n.receipt.code&&(t.ItemLinkedReceipt=t.ItemLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0])}else t._Receipt.linkedreceipts[e].fire=0,t.toastr.info(t.CustomerPricelistMsg);else t.spinner.hide(),t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;this._CashSalesDetailsReceipt=new C.hm;var r=this._Receipt.details.findIndex(function(e){return e.item_id==i.item_id&&e.unit_id==i.unit_id&&e.conv==i.conv&&e.price==i.price});if(-1==r){if(this._Receipt.details.length>0)this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;else{var a=this.FromStoreList.find(function(e){return e.id==t._Receipt.fromstoreid});this._CashSalesDetailsReceipt.store_id=this._Receipt.fromstoreid,this._CashSalesDetailsReceipt.storecode={code:a.storecode}}this._CashSalesDetailsReceipt.item_id=i.item_id,this._CashSalesDetailsReceipt.itemcode={code:i.itemcode},this._CashSalesDetailsReceipt.itemname=i.itemname,this._CashSalesDetailsReceipt.itemname_ar=i.itemname_ar,this._CashSalesDetailsReceipt.unit_id=i.unit_id,this._CashSalesDetailsReceipt.conv=i.conv,this._CashSalesDetailsReceipt.qty=i.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=i.isrequireserial,this._CashSalesDetailsReceipt.item_type=i.item_type,this._CashSalesDetailsReceipt.notes=i.notes,this._CashSalesDetailsReceipt.haswarrenty=i.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=i.warrantydate,this._CashSalesDetailsReceipt.detailshtml=i.detailshtml,this._CashSalesDetailsReceipt.customitemname=i.customitemname,this._CashSalesDetailsReceipt.salesmanid=i.salesmanid,this._CashSalesDetailsReceipt.price=0!=i.priceafterincrease&&null!=i.priceafterincrease?i.priceafterincrease:i.price,this._CashSalesDetailsReceipt.discount_percent=i.discount_percent,this._CashSalesDetailsReceipt.discount_value=i.discount_value,this._CashSalesDetailsReceipt.total=i.total;var o=Math.max.apply(Math,e(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=o+1,3==i.item_type&&(this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id}).forEach(function(e){var n=new C.hm;n.store_id=t._CashSalesDetailsReceipt.store_id,n.storecode=t._CashSalesDetailsReceipt.storecode.code,n.item_id=e.item_id,n.itemcode=e.itemcode,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.unit_id=e.unit_id,n.conv=e.conv,n.qty=e.qty,n.basicqtycomponent=e.qty/t._CashSalesDetailsReceipt.qty||0,n.price=e.price,n.discount_value=e.discount_value,n.discount_percent=e.discount_percent,n.total=e.total,n.transaction_move=t.Transaction_move,n.finishedproductid=e.finishedproductid,n.item_type=e.item_type,n.notes=e.notes,n.haswarrenty=e.haswarrenty,n.warrantydate=e.warrantydate,n.detailshtml=e.detailshtml,n.customitemname=e.customitemname,n.salesmanid=e.salesmanid,n.parentrowno=t._CashSalesDetailsReceipt.rowno,t._Receipt.itemscomponent.push(n)}),this.cd.markForCheck()),this.ItemUnitsList.filter(function(e){return e.item_id==i.item_id&&e.id==i.unit_id}),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished()}else{if(this._Receipt.details[r].qty=this._Receipt.details[r].qty+parseFloat(i.qty),3==i.item_type){var c=this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id});if(null!=this._Receipt.details[r].id)for(var l=this._Receipt.details[r],s=function(e){t._Receipt.itemscomponent[e].finishedproductid==l.item_id&&t._Receipt.itemscomponent[e].finishedreceipt_did==l.id&&(p=c.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id}),t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].qty+parseFloat(p.qty))},d=0;d<this._Receipt.itemscomponent.length;d++){var p;s(d)}else if(null==this._Receipt.details[r].id)for(var m=this._Receipt.details[r],u=function(e){t._Receipt.itemscomponent[e].finishedproductid==m.item_id&&null==t._Receipt.itemscomponent[e].id&&t._Receipt.itemscomponent[e].parentrowno==m.rowno&&(p=c.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id}),t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].qty+parseFloat(p.qty))},h=0;h<this._Receipt.itemscomponent.length;h++)u(h)}this.CalaculteValuesItemsRow(r),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished()}}},{key:"SetLinkReceiptItemFinished",value:function(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;var e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0);this.cd.markForCheck()}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"Calculate_Total_Tax_Net",value:function(){var e=0;this._Receipt.details.forEach(function(t){e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this.CalculateTax_Net(e)}},{key:"CalculateTax_Net",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this._itemstoreqtyobj.StoreID=this._Receipt.fromstoreid,this._itemstoreqtyobj.ToStoreID=this._Receipt.tostoreid,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==i&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var r=!0,a=new C.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id,console.log(a),this.ReceiptCodeList.filter(function(e){return e.code==t.BasicCodeReceipt});var o=-1,c=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==o||1==o&&this._Receipt.details[e].id>0)&&1==c?this._ReceiptSharedService.CheckBalanceForItemInStore(a).subscribe(function(a){var c=0,l=0,s=0,d=[],p=!0;if(0==a.consignment.consignment){if(null!=a.totalqty.totalqty){if(c=a.totalqty.totalqty,d=a.itemcomponent,t._Receipt.details.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.store_id==t._Receipt.fromstoreid}).forEach(function(e){var n=t.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,a=e.conv;l=parseFloat(l.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),3!=t._Receipt.details[e].item_type&&function(){t._Receipt.itemscomponent.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&null!=n.id&&n.store_id==t._Receipt.fromstoreid}).forEach(function(e){var n=t.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=(null!=n.finalconv?n.finalconv:1)*(e.conv/(null!=n.conv?n.conv:1))*parseFloat(e.qty.toString());l=parseFloat(l.toString())+i}});for(var n=[],i=t._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id&&e.store_id==t._Receipt.fromstoreid}),r=function(r){n=[],n=t._Receipt.itemscomponent.filter(function(n){return n.parentrowno==i[r].rowno&&n.finishedproductid==i[r].item_id&&null==n.id&&n.item_id==t._Receipt.details[e].item_id&&n.store_id==t._Receipt.fromstoreid});for(var a=function(e){var i=n[e].qty,r=t.ItemComponentUnitsList.find(function(t){return t.item_id==n[e].item_id&&t.id==n[e].unit_id});if(null!=r){var a=(null!=r.finalconv?r.finalconv:1)*(n[e].conv/(null!=r.conv?r.conv:1))*parseFloat(i.toString());l=parseFloat(l.toString())+a}},o=0;o<n.length;o++)a(o)},a=0;a<i.length;a++)r(a)}(),-1==o?(s=c-l,console.log(s,c,l)):1==o&&(s=c+l),3==t._Receipt.details[e].item_type)for(var m=function(e){if(2!=d[e].item_type){var n=function(){var n=t._Receipt.details.filter(function(n){return n.item_id==d[e].item_id&&n.store_id==t._Receipt.fromstoreid}),i=0;n.forEach(function(e){var n=t.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var r=null!=n.finalconv?n.finalconv:1,a=null!=n.conv?n.conv:1,o=e.conv;i=parseFloat(i.toString())+r*(o/a)*parseFloat(e.qty.toString())}}),t._Receipt.itemscomponent.filter(function(n){return n.item_id==d[e].item_id&&null!=n.id&&n.store_id==t._Receipt.fromstoreid}).forEach(function(e){var n=t.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var r=(null!=n.finalconv?n.finalconv:1)*(e.conv/(null!=n.conv?n.conv:1))*parseFloat(e.qty.toString());i=parseFloat(i.toString())+r}});for(var r=[],a=t._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id&&e.store_id==t._Receipt.fromstoreid}),o=function(n){r=[],r=t._Receipt.itemscomponent.filter(function(i){return i.parentrowno==a[n].rowno&&i.finishedproductid==a[n].item_id&&null==i.id&&i.item_id==d[e].item_id&&i.store_id==t._Receipt.fromstoreid});for(var o=function(e){var n=r[e].qty,a=t.ItemComponentUnitsList.find(function(t){return t.item_id==r[e].item_id&&t.id==r[e].unit_id});if(null!=a){var o=(null!=a.finalconv?a.finalconv:1)*(r[e].conv/(null!=a.conv?a.conv:1))*parseFloat(n.toString());i=parseFloat(i.toString())+o}},c=0;c<r.length;c++)o(c)},c=0;c<a.length;c++)o(c);if(!(i<=d[e].totalqty))return p=!1,{v:"break"};p=!0}();if("object"==typeof n)return n.v}},u=0;u<d.length;u++){if("break"===m(u))break}r=3!=t._Receipt.details[e].item_type?s>=0:1==p}else r=!1;0==r?(t._Receipt.details[e].allowqtyselectforitem=!1,t.cd.markForCheck(),t.toastr.warning(t.qtyErrorMsg+c)):(t._Receipt.details[e].allowqtyselectforitem=!0,t.cd.markForCheck())}1==n&&e+1<t._Receipt.details.length?t.CheckBalanceForItemInStore(e+1,!0,i):1!=i||0!=t._Receipt.id&&null!=t._Receipt.id?1==i&&t._Receipt.id>0&&t.CheckBlanceInToStore(0,!0,i):t.SaveReceipt()}):1==n&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,i):1!=i||0!=this._Receipt.id&&null!=this._Receipt.id?1==i&&this._Receipt.id>0&&this.CheckBlanceInToStore(0,!0,i):this.SaveReceipt()}else 1==n&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,i):1!=i||0!=this._Receipt.id&&null!=this._Receipt.id?1==i&&this._Receipt.id>0&&this.CheckBlanceInToStore(0,!0,i):this.SaveReceipt()}},{key:"CheckBlanceInToStore",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!0,a=new C.I$;if(null==this._ReceiptOriginalWithoutTo.details[e].item_id||this._ReceiptOriginalWithoutTo.details[e].store_id==this._Receipt.fromstoreid&&3!=this._ReceiptOriginalWithoutTo.details[e].item_type)1==n&&e+1<this._ReceiptOriginalWithoutTo.details.length?this.CheckBlanceInToStore(e+1,!0,i):1==i&&this.SaveReceipt();else{a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._ReceiptOriginalWithoutTo.branch_id,a.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,a.Unit_ID=this._ReceiptOriginalWithoutTo.details[e].unit_id,a.conv=this._ReceiptOriginalWithoutTo.details[e].conv,a.Qty=0,a.itemid=this._ReceiptOriginalWithoutTo.details[e].item_id,a.StoreID=this._ReceiptOriginalWithoutTo.tostoreid,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._ReceiptOriginalWithoutTo.id,console.log(a);var o=1,c=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._ReceiptOriginalWithoutTo.details[e].item_type&&(-1==o||1==o&&this._ReceiptOriginalWithoutTo.details[e].id>0)&&1==c?this._ReceiptSharedService.GetTotalQtyForIteminStoreToStore(a).subscribe(function(a){var c=0,l=0,s=0,d=[],p=!0,m=t._Receipt.details.find(function(n){return n.item_id==t._ReceiptOriginalWithoutTo.details[e].item_id&&n.store_id==t._ReceiptOriginalWithoutTo.fromstoreid});if(0==a.consignment.consignment){if(null!=a.totalqty.totalqty)if(c=a.totalqty.totalqty,d=a.itemcomponent,null!=m||null!=m){if(t._Receipt.details.filter(function(n){return n.item_id==t._ReceiptOriginalWithoutTo.details[e].item_id&&n.store_id==t._ReceiptOriginalWithoutTo.fromstoreid}).forEach(function(e){var n=t.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,a=e.conv;l=parseFloat(l.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),3!=t._ReceiptOriginalWithoutTo.details[e].item_type&&t._Receipt.itemscomponent.filter(function(n){return n.item_id==t._ReceiptOriginalWithoutTo.details[e].item_id&&null!=n.id&&n.store_id==t._ReceiptOriginalWithoutTo.tostoreid}).forEach(function(e){var n=t.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=(null!=n.finalconv?n.finalconv:1)*(e.conv/(null!=n.conv?n.conv:1))*parseFloat(e.qty.toString());l=parseFloat(l.toString())+i}}),-1==o?s=c-l:1==o&&(s=c+l),3==t._ReceiptOriginalWithoutTo.details[e].item_type)for(var u=0;u<d.length;u++){if(!(d[u].totalqty>=0)){p=!1;break}p=!0}r=s>=0&&1==p}else{if(l=0,3!=t._ReceiptOriginalWithoutTo.details[e].item_type&&t._Receipt.itemscomponent.filter(function(n){return n.item_id==t._ReceiptOriginalWithoutTo.details[e].item_id&&null!=n.id&&n.store_id==t._Receipt.tostoreid}).forEach(function(e){var n=t.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=(null!=n.finalconv?n.finalconv:1)*(e.conv/(null!=n.conv?n.conv:1))*parseFloat(e.qty.toString());l=parseFloat(l.toString())+i}}),-1==o?s=c-l:1==o&&(s=c+l),3==t._ReceiptOriginalWithoutTo.details[e].item_type)for(var h=0;h<d.length;h++){if(!(d[h].totalqty>=0)){p=!1;break}p=!0}r=s>=0&&1==p}else r=!1;0==r?(null!=m||null!=m?m.qty<t._ReceiptOriginalWithoutTo.details[e].qty&&(m.allowqtyselectforitem=!1,t.toastr.warning(t.qtyErrorMsg+c)):(t._ReceiptOriginalWithoutTo.details[e].allowqtyselectforitem=!1,t.toastr.warning(t.qtyErrorMsg+c)),t.cd.markForCheck()):null==m&&null==m||0!=m.allowqtyselectforitem?(null==m&&null==m||(m.allowqtyselectforitem=!0),t.cd.markForCheck()):m.allowqtyselectforitem=!1}1==n&&e+1<t._ReceiptOriginalWithoutTo.details.length?t.CheckBlanceInToStore(e+1,!0,i):1==i&&t.SaveReceipt()}):1==n&&e+1<this._ReceiptOriginalWithoutTo.details.length?this.CheckBlanceInToStore(e+1,!0,i):1==i&&this.SaveReceipt()}}},{key:"CheckBalanceForItemInStoreBeforeDelete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!0,r=new C.I$;if(this._ReceiptOriginalWithoutTo.details.length>0)if(null==this._ReceiptOriginalWithoutTo.details[e].item_id||this._ReceiptOriginalWithoutTo.details[e].store_id==this._Receipt.fromstoreid&&3!=this._ReceiptOriginalWithoutTo.details[e].item_type)1==n&&e+1<this._ReceiptOriginalWithoutTo.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction();else{r.ReceiptCode=this.BasicCodeReceipt,r.BranchID=this._ReceiptOriginalWithoutTo.branch_id,r.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,r.Unit_ID=this._ReceiptOriginalWithoutTo.details[e].unit_id,r.conv=this._ReceiptOriginalWithoutTo.details[e].conv,r.Qty=0,r.itemid=this._ReceiptOriginalWithoutTo.details[e].item_id,r.StoreID=this._ReceiptOriginalWithoutTo.tostoreid,r.subsidairyid=this.subsidiaryID,r.ReceiptID=this._ReceiptOriginalWithoutTo.id;var a=1,o=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._ReceiptOriginalWithoutTo.details[e].item_type&&1==a&&this._ReceiptOriginalWithoutTo.details[e].id>0&&1==o?this._ReceiptSharedService.GetTotalQtyForIteminStoreToStore(r).subscribe(function(r){var o,c=0,l=0,s=0,d=[],p=!0;if(0==r.consignment.consignment)if(null!=r.totalqty.totalqty){if(c=r.totalqty.totalqty,d=r.itemcomponent,t._ReceiptOriginalWithoutTo.details.filter(function(n){return n.item_id==t._ReceiptOriginalWithoutTo.details[e].item_id&&n.store_id==t._ReceiptOriginalWithoutTo.fromstoreid}).forEach(function(e){var n=t.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,a=e.conv;l=parseFloat(l.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),3!=t._ReceiptOriginalWithoutTo.details[e].item_type&&t._ReceiptOriginalWithoutTo.itemscomponent.filter(function(n){return n.item_id==t._ReceiptOriginalWithoutTo.details[e].item_id&&null!=n.id&&n.store_id==t._Receipt.tostoreid}).forEach(function(e){var n=t.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=(null!=n.finalconv?n.finalconv:1)*(e.conv/(null!=n.conv?n.conv:1))*parseFloat(e.qty.toString());l=parseFloat(l.toString())+i}}),-1==a?s=c-l:1==a&&(s=c+l),3==t._ReceiptOriginalWithoutTo.details[e].item_type)for(var m=0;m<d.length;m++){if(!(d[m].totalqty>=0)){p=!1;break}p=!0}i=s>=0&&1==p}else i=!1;else i=!0;0==i?(null==(o=t._Receipt.details.find(function(n){return n.item_id==t._ReceiptOriginalWithoutTo.details[e].item_id}))&&null==o||(o.allowqtyselectforitem=!1),t.cd.markForCheck(),t.toastr.warning(t.qtyErrorMsg+c)):(null==(o=t._Receipt.details.find(function(n){return n.item_id==t._ReceiptOriginalWithoutTo.details[e].item_id}))&&null==o||(o.allowqtyselectforitem=!0),t.cd.markForCheck(),1==n&&e+1<t._ReceiptOriginalWithoutTo.details.length?t.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):t.DeleteAction())}):1==n&&e+1<this._ReceiptOriginalWithoutTo.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else this.DeleteAction()}},{key:"CreateNewAction",value:function(){var e=this;console.log(this._Receipt,this._ReceiptOriginal),JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(630)?this._router.navigate(["/page/inventorytransfers/transfergood/0"]).then(function(){window.location.reload()}):Le().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",allowOutsideClick:!0,showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Le().DismissReason.cancel&&e._router.navigate(["/page/inventorytransfers/transfergood/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Le().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&(e._Receipt.linkedreceipts.length>0&&(e._Receipt.linkedreceipts[0].code=80)&&e._ReceiptSharedService.UpdateTransferStatus(e._Receipt.linkedreceipts[0].receiptid,1).subscribe(function(e){}),e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransfers/transfergood"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)}))})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){Date.parse(t[0].maxpostingdate.toString())<Date.parse(e._Receipt.entry_date.toString())?(e.ShowModeReceipt=!1,e.ValidPeriod=!0):(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,console.log(e._Receipt.entry_time);var n=Date.parse((e._Receipt.entry_date+""+e._Receipt.entry_time).toString());console.log(e._Receipt.entry_date+""+e._Receipt.entry_time,n),e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/inventorytransfers/transfergood/0"),e.ReceiptID=0,e._Receipt.id=null,e.VouchersLinkedCount=0,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/transfergood"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){var e=this._authService.userInfo().clientdatabase,t="",n="";"ar"==this.lang&&(n="_ar");var i={reportName:t="P_I_81_TransferGoods"+n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return e.indexOf("darshgf")>-1?t="P_All_Inv_Receipt_gl_web_darshgf"+n:e.indexOf("maisara")>-1?t="P_I_81_TransferGoods_Ar":e.indexOf("alromaih")>-1?t="P_I_60_IssueVoucher_GL_WEB_alromaih":e.indexOf("nojoom")>-1&&(t="P_I_81_TransferGoods"+n),i.reportName=t,i.toEmail=this._emailobj.email,i.Subject=this._emailobj.subject,i}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(630)||0==this.ReceiptID&&!this.checkRoleParms(326)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransfers/transfergood"]):Le().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Le().DismissReason.cancel&&e._router.navigate(["/page/inventorytransfers/transfergood"])})}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"getwarrantydateDate",value:function(){var e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"changeToStoreType",value:function(e){var t=this;this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this.toastr.error(this.ToStoreErrorMsg),this.cd.markForCheck()),this.ReceivingPermis=-1!=this.UserStoreList.findIndex(function(e){return e.id==t._Receipt.tostoreid})}},{key:"ToStorFocus",value:function(){var e=this;this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this._Receipt.tostoreid=null,this.cd.markForCheck()),this.ReceivingPermis=-1!=this.UserStoreList.findIndex(function(t){return t.id==e._Receipt.tostoreid})}},{key:"changeFromStoreType",value:function(e){var t=this;if(this._Receipt.fromstoreid==this._Receipt.tostoreid)this.toastr.error(this.FromStoreErrorMsg),this.cd.markForCheck();else{var n=this.FromStoreList.find(function(e){return e.id==t._Receipt.fromstoreid});this.StoreCode=n.storecode,0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=n.id,this._Receipt.details[0].storecode={code:n.storecode}),this._Receipt.details.length>0&&(this._Receipt.details.forEach(function(e){e.store_id=n.id,e.storecode={code:n.storecode}}),this._Receipt.itemscomponent.forEach(function(e){e.store_id=n.id,e.storecode={code:n.storecode}}),this.ItemsComponentList.forEach(function(e){e.store_id=n.id,e.storecode={code:n.storecode}}),this.CheckBalanceForItemInStore(0,!0))}}},{key:"FromStorFocus",value:function(){this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this._Receipt.fromstoreid=null,this.cd.markForCheck())}},{key:"OnSerialItems",value:function(t,n){var i,r=this;if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItem=this._Receipt.details[t],this.selectedindex=t,this._Receipt.details[t].qty<=0)this.toastr.error(this.InValidQty);else{this.requiredserial=this._Receipt.details[t].isrequireserial;var a=this.ItemUnitsList.filter(function(e){return e.item_id==r._Receipt.details[t].item_id&&e.id==r._Receipt.details[t].unit_id}),o=this._Receipt.details[t].conv*a[0].finalconv/a[0].conv;this._batchqty=this._Receipt.details[t].qty,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[t].item_id,this._Receipt.details[t].store_id,null!==(i=this._Receipt.id)&&void 0!==i?i:0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(i){r.BatchesListForEatchRow=[];var a=[];if(i.seriallist.forEach(function(e){null!=r._Receipt.id&&0!=r._Receipt.id&&null!=r._ReceiptOriginal.details[r.selectedindex]&&r._ReceiptOriginal.details[r.selectedindex].unit_id!=r._Receipt.details[r.selectedindex].unit_id&&(e.availableqty=e.availableqty+r._ReceiptOriginal.details[t].qty*r._ReceiptOriginal.details[t].final_conv-r._Receipt.details[t].qty*r._Receipt.details[t].final_conv),e.availableqtywithsmallestunit=e.availableqty,e.availableqty=parseFloat((e.availableqty/o).toFixed(4))}),a=i.seriallist,console.log(i.seriallist,"d.seriallist"),r._Receipt.details[r.selectedindex].batcheslist.forEach(function(e){var t=a.findIndex(function(t){return t.id==e.previtemserialid});-1!=t&&(e.inv_receipt_d_id>0?null==r._Receipt.details[r.selectedindex].validrow||1==r._Receipt.details[r.selectedindex].validrow?(a[t].qty=e.qty,a[t].oldqty=e.qty,r._ReceiptOriginal.details[r.selectedindex].unit_id!=r._Receipt.details[r.selectedindex].unit_id&&(a[t].qty=r._Receipt.details[r.selectedindex].qty,a[t].oldqty=r._Receipt.details[r.selectedindex].qty),r._Receipt.details[r.selectedindex].validrow=!0):a[t].availableqty=a[t].availableqty+e.qty:1==r._Receipt.details[r.selectedindex].validrow&&(a[t].qty=e.qty,a[t].oldqty=e.qty,a[t].availableqty=parseFloat((a[t].availableqty-e.qty).toFixed(4)),r._Receipt.details[r.selectedindex].validrow=!0))}),r._Receipt.id>0)for(var c=0;c<a.length;c++)null==a[c].qty&&0==a[c].availableqty||r.BatchesListForEatchRow.push(a[c]);else r.BatchesListForEatchRow=e(a);if(1==r.CashCustomerSetting.salesreturneffect&&1==r.CashCustomerSetting.dispensingpolicy){if(r._Receipt.details[r.selectedindex].id>0&&r.ReceiptID>0){console.log(r.BatchesListForEatchRow);for(var l=0;l<r.BatchesListForEatchRow.length;l++)r.BatchesListForEatchRow[l].availableqty+=r.BatchesListForEatchRow[l].oldqty,r.BatchesListForEatchRow[l].qty=0,r.BatchesListForEatchRow[l].solidquantity=0}var s=0;if(r.BatchesListForEatchRow.forEach(function(e){s+=e.availableqty}),console.log(s,r._Receipt.details[t].qty),r._Receipt.details[t].qty>s)return void r.toastr.error(r.InValidQtyForBatch);if(r._Receipt.details[t].qty==s)r.BatchesListForEatchRow.forEach(function(e){e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),r.saveSerialOnSalesReturnEffectDispensingPolicy();else{var d=r._Receipt.details[t].qty;r.BatchesListForEatchRow.forEach(function(e){0!=d&&(e.availableqty>=d?(e.qty=d,e.oldqty=d,e.availableqty=parseFloat((e.availableqty-d).toFixed(4)),d=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,d-=e.availableqty,e.availableqty=0))}),r.saveSerialOnSalesReturnEffectDispensingPolicy()}}else r.OpenModal(n);1==r.CashCustomerSetting.salesreturneffect&&1==r.CashCustomerSetting.dispensingpolicy&&r.OpenModal(n)})}}},{key:"saveSerialOnSalesReturnEffectDispensingPolicy",value:function(){var e=this;if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var t,n=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var i=1;this.BatchesListForEatchRow.map(function(n){if(i++,n.qty>0){var r=e._Receipt.details[e.selectedindex].batcheslist.findIndex(function(e){return e.previtemserialid==n.id});-1!=r?e._Receipt.details[e.selectedindex].batcheslist[r].qty=+n.qty.toString():((t=new Ge.WB).id=0,t.qty=+n.qty,t.storeid=n.storeid,t.storename=n.name,t.storename_ar=n.name_ar,t.batchno=n.serial,t.date=n.expire_date,t.previtemserialid=n.id,t.serial=i,t.valid=!1,t.isdublicatebatch=!1,t.isused=!1,t.inv_receipt_d_id=null,t.availableqty=n.availableqty+n.qty,t.solidquantity=null,e._Receipt.details[e.selectedindex].batcheslist.push(t)),e._Receipt.details[e.selectedindex].validrow=!0}else{var a=e._Receipt.details[e.selectedindex].batcheslist.findIndex(function(e){return e.previtemserialid==n.id});-1!=a&&e._Receipt.details[e.selectedindex].batcheslist.splice(a,1)}}),console.log(this._Receipt.details,"this._Receipt.details")}},{key:"saveserial",value:function(e){var t=this;if(e.valid){if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var n,i=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0}),i!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var r=1;this.BatchesListForEatchRow.map(function(e){if(r++,e.qty>0){var i=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=i?t._Receipt.details[t.selectedindex].batcheslist[i].qty=+e.qty.toString():((n=new Ge.WB).id=0,n.qty=+e.qty,n.storeid=e.storeid,n.storename=e.name,n.storename_ar=e.name_ar,n.batchno=e.serial,n.date=e.expire_date,n.previtemserialid=e.id,n.serial=r,n.valid=!1,n.isdublicatebatch=!1,n.isused=!1,n.inv_receipt_d_id=null,n.availableqty=e.availableqty+e.qty,n.solidquantity=null,t._Receipt.details[t.selectedindex].batcheslist.push(n)),t._Receipt.details[t.selectedindex].validrow=!0}else{var a=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=a&&t._Receipt.details[t.selectedindex].batcheslist.splice(a,1)}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}},{key:"ChangeBatchQty",value:function(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}},{key:"dealWith",value:function(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}},{key:"CheckShowWarrantyDateCols",value:function(){var e=this._Receipt.details.filter(function(e){return 1==e.haswarrenty});this.ShowWarrantyDateCols=e.length>0,this.cd.markForCheck()}},{key:"patch",value:function(e){this.modalReference=this.modalService.open(e,{size:"md",backdrop:"static"})}},{key:"ClosePatchModal",value:function(){this.modalReference.close()}},{key:"SavePatchModal",value:function(){var e,t=this;this._ReceiptSharedService.GetItemBatchDetailsLists(this.subsidiaryID,this.BatchNoText,this._Receipt.entry_date+" "+this._Receipt.entry_time,this._Receipt.details[0].store_id,null!==(e=this._Receipt.id)&&void 0!==e?e:0).subscribe(function(e){e.item.forEach(function(n){var i=new C.hm;if(i.item_id=n.id,i.itemcode={code:n.code},i.itemname=n.name,i.itemname_ar=n.name_ar,0==e.itemunits.length)i.isrequireserial=n.isrequireserial,i.allowtax=n.allowtax,null==t._Receipt.id||0==t._Receipt.id?(i.store_id=t.StoreCostCenterSetting.storeid,i.storecode={code:t.StoreCostCenterSetting.storecode}):(i.store_id=t._ReceiptOriginal.details[0].store_id,i.storecode=t._ReceiptOriginal.details[0].storecode),t.toastr.error(t.NoUnits);else if(3==n.item_type&&0==e.itemcomponents.length)i.isrequireserial=e.item.isrequireserial,i.allowtax=e.item.allowtax,null==t._Receipt.id||0==t._Receipt.id?(i.store_id=t.StoreCostCenterSetting.storeid,i.storecode={code:t.StoreCostCenterSetting.storecode}):(i.store_id=t._ReceiptOriginal.details[0].store_id,i.storecode=t._ReceiptOriginal.details[0].storecode),t.toastr.error(t.NOComponents);else{i.isrequireserial=n.isrequireserial,i.allowtax=n.allowtax,i.notes=n.notes,i.item_type=n.item_type,i.qty=1,i.haswarrenty=n.haswarrenty,i.warrantydate=n.haswarrenty?t.getwarrantydateDate():null,null==t._Receipt.id||0==t._Receipt.id?(i.store_id=t.StoreCostCenterSetting.storeid,i.storecode={code:t.StoreCostCenterSetting.storecode}):(i.store_id=t._ReceiptOriginal.details[0].store_id,i.storecode=t._ReceiptOriginal.details[0].storecode),t.ItemUnitsList.length>0?0==t.ItemUnitsList.filter(function(e){return e.item_id==n.id}).length&&(t.ItemUnitsList=t.ItemUnitsList.concat(e.itemunits.filter(function(e){return e.item_id==n.id}))):t.ItemUnitsList=t.ItemUnitsList.concat(e.itemunits.filter(function(e){return e.item_id==n.id})),i.unit_id=n.selling_unitid,t.CheckShowWarrantyDateCols(),e.componentsunits.filter(function(e){return e.item_id==n.id}).length>0&&(t.ItemComponentUnitsList=t.ItemComponentUnitsList.concat(e.componentsunits.filter(function(e){return e.item_id==n.id}))),e.itemcomponents.filter(function(e){return e.item_id==n.id}).length>0&&e.itemcomponents.filter(function(e){return e.item_id==n.id}).forEach(function(e){var n=new C.hm;n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode=e.itemcode,n.unit_id=e.itemcomponentunitid,n.qty=e.itemcomponentqty,n.basicqtycomponent=e.itemcomponentqty,n.conv=e.itemcomponentconv,n.itemcode=e.itemcode,n.price=0,n.total=n.price*n.qty,n.store_id=i.store_id,n.transaction_move=t.Transaction_move,n.item_type=e.item_type,n.storecode=null!=i.storecode?i.storecode.code:null,n.parentrowno=i.rowno,t._Receipt.itemscomponent.push(n)});for(var r=0;r<t._Receipt.details.length;r++)null==t._Receipt.details[r].item_id&&(t._Receipt.details.splice(r,1),r--);t._Receipt.details.push(i),t.ClosePatchModal(),t.ChangeItemUnits(n.selling_unitid,t._Receipt.details.length-1);var a=e.itemunits.filter(function(e){return e.item_id==n.id&&e.id==n.selling_unitid});null!=a&&a.length>0&&(t._Receipt.details[t._Receipt.details.length-1].conv=a[0].conv,t._Receipt.details[t._Receipt.details.length-1].final_conv=a[0].final_conv);var o=e.seriallist.filter(function(e){return e.itemid==n.id});t.OnSerialItemsImported(t._Receipt.details.length-1,o),t.CloseModal()}}),t.cd.markForCheck(),t.CloseModal()})}},{key:"OnSerialItemsImported",value:function(t,n){var i=this;if(this._Receipt.details[t].batcheslist=[],this._Receipt.details.filter(function(e){return e.item_id==i._Receipt.details[t].item_id}),this.SelectedItem=this._Receipt.details[t],this.selectedindex=t,this._Receipt.details[t].qty<=0)this.toastr.error(this.InValidQty);else{this.requiredserial=this._Receipt.details[t].isrequireserial;var r=this.ItemUnitsList.filter(function(e){return e.item_id==i._Receipt.details[t].item_id&&e.id==i._Receipt.details[t].unit_id}),a=this._Receipt.details[t].conv*r[0].finalconv/r[0].conv;this._batchqty=this._Receipt.details[t].qty;var o=this.BatchNoText.split("/",1);this.BatchesListForEatchRow=[];var c=[];if((c=n).forEach(function(e){e.availableqtywithsmallestunit=e.availableqty,e.availableqty=parseFloat((e.availableqty/a).toFixed(4))}),this._Receipt.details[this.selectedindex].batcheslist.forEach(function(e){var t=c.findIndex(function(t){return t.id==e.previtemserialid});-1!=t&&(e.inv_receipt_d_id>0?null==i._Receipt.details[i.selectedindex].validrow||1==i._Receipt.details[i.selectedindex].validrow?(c[t].qty=e.qty,c[t].oldqty=e.qty,i._Receipt.details[i.selectedindex].validrow=!0):c[t].availableqty=c[t].availableqty+e.qty:1==i._Receipt.details[i.selectedindex].validrow&&(c[t].qty=e.qty,c[t].oldqty=e.qty,c[t].availableqty=c[t].availableqty-e.qty,i._Receipt.details[i.selectedindex].validrow=!0))}),this._Receipt.id>0)for(var l=0;l<c.length;l++)null==c[l].qty&&0==c[l].availableqty||this.BatchesListForEatchRow.push(c[l]);else this.BatchesListForEatchRow=e(c);var s=0;if(this.BatchesListForEatchRow.forEach(function(e){o.length>0&&e.serial==o[0]&&(s+=e.availableqty,i._Receipt.details[t].qty=s,i.ChangeQty(t))}),console.log(s,this._Receipt.details[t].qty),this._Receipt.details[t].qty>s)return this._Receipt.details[this.selectedindex].validrow=!1,this.toastr.error(this.InValidQtyForBatch),!1;var d=this._Receipt.details[t].qty;this._batchqty=d;this.BatchesListForEatchRow.forEach(function(e){e.solidquantity=e.availableqty,o.length>0&&e.serial==o[0]&&0!=d&&(e.availableqty>=d?(e.qty=d,e.oldqty=d,e.availableqty=parseFloat((e.availableqty-d).toFixed(4)),d=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,d-=e.availableqty,e.availableqty=0))}),this.cd.markForCheck(),this.saveSerialOnSalesReturnEffectDispensingPolicy()}}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}},{key:"GetBatchOrderDetailsById",value:function(t,n){var i=this;this._ReceiptSharedService.GetBatchOrderDetailsById(t).subscribe(function(t){console.log("BatchOrderDetails",t),null!=t.data.receipt&&("SelectEvent"===n?(i._Receipt.vendor_id=t.data.receipt.vendor_id,null!=i._Receipt.vendor_id&&(i._Receipt.cashcustomer_vendor_code={code:t.data.receipt.vendorcode},i._Receipt.cashcustomer_vendor_name="ar"==i.lang?t.data.receipt.vendornamear:t.data.receipt.vendorname,i.PriceListItemsOnly=t.data.receipt.pricelistitemsonly),null!=t.data.items?(i.batchOrderItems=[],i.batchOrderItems=[].concat(e(i.batchOrderItems),e(t.data.items))):i.batchOrderItems=[]):"details"===n&&null!=i._Receipt.batchorder_id&&(null!=t.data.items?(i.batchOrderItems=[],i.batchOrderItems=[].concat(e(i.batchOrderItems),e(t.data.items))):i.batchOrderItems=[]))})}},{key:"onFocusInBatchOrder",value:function(e){this.GetBatchOrderList("")}},{key:"BatchOrderChangeSearch",value:function(e){this.GetBatchOrderList(e.query.trim())}},{key:"GetBatchOrderList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ProductionService.GetBatchOrderBySub(this.subsidiaryID,this._Receipt.branch_id,t).subscribe(function(t){e.BatchOrderList=[],e.BatchOrderList=t,e.cd.markForCheck()})}},{key:"BatchOrderSelectEvent",value:function(e){this._Receipt.batchorder_id=e.id,this.GetBatchOrderDetailsById(this._Receipt.batchorder_id,"SelectEvent")}},{key:"onClearBatchOrder",value:function(e){this._Receipt.batchorder_id=null,this._Receipt.cashcustomer_vendor_code={},this._Receipt.cashcustomer_vendor_name="",this._Receipt.batchorder_no={}}}]),n}();return n.\u0275fac=function(e){return new(e||n)(b["\u0275\u0275directiveInject"](Te.v),b["\u0275\u0275directiveInject"](R.t),b["\u0275\u0275directiveInject"](Ue),b["\u0275\u0275directiveInject"](Ne.H),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](x._W),b["\u0275\u0275directiveInject"](m.F0),b["\u0275\u0275directiveInject"](I.m),b["\u0275\u0275directiveInject"](u.sK),b["\u0275\u0275directiveInject"](M.K),b["\u0275\u0275directiveInject"](m.gz),b["\u0275\u0275directiveInject"](B.FF),b["\u0275\u0275directiveInject"](E.t2),b["\u0275\u0275directiveInject"](O.e),b["\u0275\u0275directiveInject"](k.$),b["\u0275\u0275directiveInject"](S.J),b["\u0275\u0275directiveInject"](c.uU),b["\u0275\u0275directiveInject"](c.Ye),b["\u0275\u0275directiveInject"]($e.g))},n.\u0275cmp=b["\u0275\u0275defineComponent"]({type:n,selectors:[["app-transfer-good-details"]],viewQuery:function(e,t){var n;(1&e&&(b["\u0275\u0275viewQuery"](Ze,5),b["\u0275\u0275viewQuery"](Ke,5)),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.serialModel=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[b["\u0275\u0275ProvidersFeature"]([y.n,Te.v,R.t,c.uU,Ne.H,S.J,Ue,$e.g])],decls:9,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["DescriptionItemModel",""],["serialModel",""],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"col-md-12","col-lg-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","btn-md","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],["class","btn btn-primary btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-md","mr-2","mb-2",3,"click"],[1,"btn-group"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle","btn-md","mr-2","mb-2"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],["class","col-md-2 mt-4",4,"ngIf"],["for","fromstoreid",1,"col-form-label"],["name","fromstoreid","required","",1,"form-control",3,"ngModel","disabled","ngClass","ngModelChange","change","focusout"],["fromstoreid","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","tostoreid",1,"col-form-label"],["name","tostoreid","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change","focusout"],["tostoreid","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],[1,"col-form-label"],["delay","0","minLength","0","field","entry_no","name","BatchOrder",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoBatchOrder",""],["pTemplate","BatchOrderTemplate"],["minLength","0","delay","0","field","code","name","CreditAccount",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts",""],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"activeId","destroyOnHide","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["PatchModal",""],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","btn-md","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","btn-md","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],["Value","null"],[3,"value"],[1,"col-md-2","mt-4"],[1,"checkbox"],["type","checkbox","id","receiving",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","receiving"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],[1,"table"],["scope","col",2,"width","5%"],["scope","col"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-primary","mr-3","ml-3",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],[1,"form-control",3,"ngModel","id","name","ngModelChange"],[3,"ngValue"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],[1,"fa-stack","fa-lg","addNotesIcon"],[1,"fa","fa-plus","fa-stack-1x"],[1,"fa","fa-sticky-note","fa-stack-2x"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],[3,"ngClass"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"row","mb-3","p-2"],[1,"col-md-3"],[1,"col-md-8"],["type","text","id","BatchNoTxt","name","BatchNoTxt",1,"form-control","batch-input",3,"ngModel","ngModelChange"],["BatchNoTxt","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-success","mr-2","ml-2",3,"click"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"signature","signatureoutput"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-body"],[1,"col-md-12","form-group"],["for","customitemname",1,"col-form-label"],["type","text","id","customitemname","name","customitemname",1,"form-control",3,"ngModel","ngModelChange"],["customitemname","ngModel"],[1,"col-md-12","row"],[3,"styles","ngModel","ngModelOptions","ngModelChange","onContentChanged"],["type","button",1,"btn","btn-danger","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],["class","modal-title",4,"ngIf"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","20%"],["style","width: 15%",4,"ngIf"],["type","submit",1,"btn","btn-success"],[2,"width","15%"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOrDecimalOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,Xe,4,3,"div",0),b["\u0275\u0275template"](1,wn,172,137,"ng-container",1),b["\u0275\u0275elementStart"](2,"ngx-spinner",2),b["\u0275\u0275elementStart"](3,"p",3),b["\u0275\u0275text"](4,"Loading..."),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](5,Bn,26,18,"ng-template",null,4,b["\u0275\u0275templateRefExtractor"]),b["\u0275\u0275template"](7,zn,36,22,"ng-template",null,5,b["\u0275\u0275templateRefExtractor"])),2&e&&(b["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(328)||t.checkRoleParms(329)||t.checkRoleParms(330)||t.checkRoleParms(630)||t.checkRoleParms(331))),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRolesParms(b["\u0275\u0275pureFunction0"](3,Jn))),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("fullScreen",!0))},directives:[c.O5,E.Ro,s._Y,s.JL,s.F,s.EJ,s.Q7,s.JJ,s.On,c.mk,c.sg,s.Fj,je.L,We.a,p.Qc,ze.jx,B.Pz,B.nv,B.Vx,B.uN,B.tO,Je.k,s.YN,s.Kr,s.Wl,s.wV,D.K,Qe.t,Ye.T,f.g6],pipes:[u.X$,c.uU,He.N],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.addNotesIcon[_ngcontent-%COMP%]{vertical-align:text-bottom}.addNotesIcon[_ngcontent-%COMP%], .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}.addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}.addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}.addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}.addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}"]}),n}();function Yn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"h1",5),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Hn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Zn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Kn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",52),b["\u0275\u0275template"](1,Hn,2,1,"span",1),b["\u0275\u0275template"](2,Zn,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275propertyInterpolate"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Xn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",53),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OnAdd()}),b["\u0275\u0275element"](1,"i",27),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function ei(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",54),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OnPrint()}),b["\u0275\u0275element"](1,"i",27),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"Print")," "))}function ti(e,t){1&e&&b["\u0275\u0275element"](0,"i",55)}function ni(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function ii(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",48),b["\u0275\u0275template"](2,ti,1,0,"i",49),b["\u0275\u0275template"](3,ni,1,0,"i",50),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function ri(e,t){1&e&&b["\u0275\u0275element"](0,"i",55)}function ai(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function oi(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",48),b["\u0275\u0275template"](2,ri,1,0,"i",49),b["\u0275\u0275template"](3,ai,1,0,"i",50),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function ci(e,t){1&e&&b["\u0275\u0275element"](0,"i",55)}function li(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function si(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",48),b["\u0275\u0275template"](2,ci,1,0,"i",49),b["\u0275\u0275template"](3,li,1,0,"i",50),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","FromStoreName"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","FromStoreName"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","FromStoreName"==n.sortColumn&&"desc"==n.sortDirection)}}function di(e,t){1&e&&b["\u0275\u0275element"](0,"i",55)}function pi(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function mi(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",48),b["\u0275\u0275template"](2,di,1,0,"i",49),b["\u0275\u0275template"](3,pi,1,0,"i",50),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","FromStoreNameAR"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","FromStoreNameAR"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","FromStoreNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function ui(e,t){1&e&&b["\u0275\u0275element"](0,"i",55)}function hi(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function _i(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",48),b["\u0275\u0275template"](2,ui,1,0,"i",49),b["\u0275\u0275template"](3,hi,1,0,"i",50),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","ToStoreName"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ToStoreName"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ToStoreName"==n.sortColumn&&"desc"==n.sortDirection)}}function gi(e,t){1&e&&b["\u0275\u0275element"](0,"i",55)}function fi(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function vi(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",48),b["\u0275\u0275template"](2,gi,1,0,"i",49),b["\u0275\u0275template"](3,fi,1,0,"i",50),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","ToStoreNameAR"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ToStoreNameAR"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ToStoreNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function yi(e,t){1&e&&b["\u0275\u0275element"](0,"i",55)}function Ci(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function Ri(e,t){1&e&&b["\u0275\u0275element"](0,"i",55)}function Si(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function bi(e,t){1&e&&b["\u0275\u0275element"](0,"i",55)}function xi(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function Ii(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",48),b["\u0275\u0275template"](2,bi,1,0,"i",49),b["\u0275\u0275template"](3,xi,1,0,"i",50),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","UserName"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","UserName"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","UserName"==n.sortColumn&&"desc"==n.sortDirection)}}function Mi(e,t){1&e&&b["\u0275\u0275element"](0,"i",55)}function Ei(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function Oi(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"i",48),b["\u0275\u0275template"](2,Mi,1,0,"i",49),b["\u0275\u0275template"](3,Ei,1,0,"i",50),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("hidden","UserNameAR"==n.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","UserNameAR"==n.sortColumn&&"asc"==n.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","UserNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function ki(e,t){1&e&&b["\u0275\u0275element"](0,"i",55)}function Pi(e,t){1&e&&b["\u0275\u0275element"](0,"i",56)}function wi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th"),b["\u0275\u0275text"](1,"\xa0"),b["\u0275\u0275elementEnd"]())}function Di(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function Bi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function Fi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.fromstorename)}}function Li(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",null==n?null:n.fromstorenamear," ")}}function qi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.tostorename)}}function Ti(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.tostorenamear)}}function Ni(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.username)}}function Vi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.usernamear)}}function Ai(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.text," ")}}function Ui(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.text_ar," ")}}function Gi(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275template"](1,Ai,2,1,"td",1),b["\u0275\u0275template"](2,Ui,2,1,"td",1),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"]().$implicit,r=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",n.id===i.approvalid&&"ar"!=r.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",n.id===i.approvalid&&"ar"==r.lang)}}function $i(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1,"\xa0"),b["\u0275\u0275elementEnd"]())}function ji(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"a",63),b["\u0275\u0275element"](1,"i",64),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2).$implicit;b["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransfers/transferrequest/",null==n?null:n.id,"")}}function Wi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"a",63),b["\u0275\u0275element"](1,"i",64),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2).$implicit;b["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransfers/transferrequest/",null==n?null:n.id,"/show")}}function zi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td",61),b["\u0275\u0275template"](1,ji,2,1,"a",62),b["\u0275\u0275template"](2,Wi,2,1,"a",62),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==n.approvalid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",3==n.approvalid)}}function Ji(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275template"](1,Di,2,1,"td",1),b["\u0275\u0275template"](2,Bi,2,1,"td",1),b["\u0275\u0275template"](3,Fi,2,1,"td",1),b["\u0275\u0275template"](4,Li,2,1,"td",1),b["\u0275\u0275template"](5,qi,2,1,"td",1),b["\u0275\u0275template"](6,Ti,2,1,"td",1),b["\u0275\u0275elementStart"](7,"td"),b["\u0275\u0275text"](8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"td"),b["\u0275\u0275text"](10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,Ni,2,1,"td",1),b["\u0275\u0275template"](12,Vi,2,1,"td",1),b["\u0275\u0275template"](13,Gi,3,2,"ng-container",57),b["\u0275\u0275template"](14,$i,2,0,"td",1),b["\u0275\u0275template"](15,zi,3,2,"td",58),b["\u0275\u0275elementStart"](16,"td"),b["\u0275\u0275elementStart"](17,"a",59),b["\u0275\u0275elementStart"](18,"span"),b["\u0275\u0275element"](19,"i",60),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",i.ERPStatusList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!n.approvalid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(629)),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransfers/transferrequest/",null==n?null:n.id,"/show")}}function Qi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,Ji,20,14,"tr",57),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.ReceiptList)}}function Yi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275elementStart"](1,"tr",65),b["\u0275\u0275elementStart"](2,"td",66),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Hi(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",67),b["\u0275\u0275elementStart"](1,"ngb-pagination",68),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",69),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).PageSize=e}),b["\u0275\u0275elementStart"](5,"option",70),b["\u0275\u0275text"](6,"10 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",71),b["\u0275\u0275text"](8,"50 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",72),b["\u0275\u0275text"](10,"100 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",i.PageSize)}}function Zi(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"div",6),b["\u0275\u0275elementStart"](2,"div",7),b["\u0275\u0275elementStart"](3,"div",8),b["\u0275\u0275elementStart"](4,"h6",9),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",10),b["\u0275\u0275elementStart"](8,"div",11),b["\u0275\u0275elementStart"](9,"section"),b["\u0275\u0275elementStart"](10,"div",4),b["\u0275\u0275elementStart"](11,"div",12),b["\u0275\u0275elementStart"](12,"form",13,14),b["\u0275\u0275listener"]("ngSubmit",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",15),b["\u0275\u0275elementStart"](16,"div",16),b["\u0275\u0275elementStart"](17,"label",17),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"select",18,19),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),b["\u0275\u0275elementStart"](22,"option",20),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](25,Kn,3,3,"option",21),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"div",15),b["\u0275\u0275elementStart"](27,"div",16),b["\u0275\u0275elementStart"](28,"label",22),b["\u0275\u0275text"](29),b["\u0275\u0275pipe"](30,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"input",23,24),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"div",25),b["\u0275\u0275elementStart"](34,"button",26),b["\u0275\u0275element"](35,"i",27),b["\u0275\u0275text"](36),b["\u0275\u0275pipe"](37,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"button",28),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ShowAll()}),b["\u0275\u0275element"](39,"i",27),b["\u0275\u0275text"](40),b["\u0275\u0275pipe"](41,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](42,"div",29),b["\u0275\u0275elementStart"](43,"div",30),b["\u0275\u0275elementStart"](44,"div",31),b["\u0275\u0275template"](45,Xn,4,3,"button",32),b["\u0275\u0275template"](46,ei,4,3,"button",33),b["\u0275\u0275elementStart"](47,"button",34),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnPrint(1)}),b["\u0275\u0275element"](48,"i",27),b["\u0275\u0275text"](49),b["\u0275\u0275pipe"](50,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"button",35),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnExcel()}),b["\u0275\u0275element"](52,"i",27),b["\u0275\u0275text"](53),b["\u0275\u0275pipe"](54,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](55,"div",36),b["\u0275\u0275elementStart"](56,"div",37),b["\u0275\u0275elementStart"](57,"label",38),b["\u0275\u0275text"](58),b["\u0275\u0275pipe"](59,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](60,"input",39,40),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ChangePropFinish()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](62,"div",4),b["\u0275\u0275elementStart"](63,"div",41),b["\u0275\u0275elementStart"](64,"div",42),b["\u0275\u0275element"](65,"div",43),b["\u0275\u0275elementStart"](66,"div",44),b["\u0275\u0275elementStart"](67,"div",45),b["\u0275\u0275elementStart"](68,"table",46),b["\u0275\u0275elementStart"](69,"thead"),b["\u0275\u0275elementStart"](70,"tr"),b["\u0275\u0275elementStart"](71,"th",47),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),b["\u0275\u0275text"](72),b["\u0275\u0275pipe"](73,"translate"),b["\u0275\u0275template"](74,ii,4,3,"ng-container",1),b["\u0275\u0275template"](75,oi,4,3,"ng-container",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](76,"th",47),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("FromStoreName")}),b["\u0275\u0275text"](77),b["\u0275\u0275pipe"](78,"translate"),b["\u0275\u0275template"](79,si,4,3,"ng-container",1),b["\u0275\u0275template"](80,mi,4,3,"ng-container",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](81,"th",47),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("ToStoreName")}),b["\u0275\u0275text"](82),b["\u0275\u0275pipe"](83,"translate"),b["\u0275\u0275template"](84,_i,4,3,"ng-container",1),b["\u0275\u0275template"](85,vi,4,3,"ng-container",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](86,"th",47),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),b["\u0275\u0275text"](87),b["\u0275\u0275pipe"](88,"translate"),b["\u0275\u0275elementContainerStart"](89),b["\u0275\u0275element"](90,"i",48),b["\u0275\u0275template"](91,yi,1,0,"i",49),b["\u0275\u0275template"](92,Ci,1,0,"i",50),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](93,"th",47),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),b["\u0275\u0275text"](94),b["\u0275\u0275pipe"](95,"translate"),b["\u0275\u0275elementContainerStart"](96),b["\u0275\u0275element"](97,"i",48),b["\u0275\u0275template"](98,Ri,1,0,"i",49),b["\u0275\u0275template"](99,Si,1,0,"i",50),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](100,"th",47),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("UserName")}),b["\u0275\u0275text"](101),b["\u0275\u0275pipe"](102,"translate"),b["\u0275\u0275template"](103,Ii,4,3,"ng-container",1),b["\u0275\u0275template"](104,Oi,4,3,"ng-container",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](105,"th",47),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetReceiptList("Status")}),b["\u0275\u0275text"](106),b["\u0275\u0275pipe"](107,"translate"),b["\u0275\u0275elementContainerStart"](108),b["\u0275\u0275element"](109,"i",48),b["\u0275\u0275template"](110,ki,1,0,"i",49),b["\u0275\u0275template"](111,Pi,1,0,"i",50),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](112,wi,2,0,"th",1),b["\u0275\u0275elementStart"](113,"th"),b["\u0275\u0275text"](114,"\xa0"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](115,Qi,2,1,"tbody",1),b["\u0275\u0275template"](116,Yi,5,3,"tbody",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](117,Hi,12,7,"div",51),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,43,"Transfer Request"),""),b["\u0275\u0275advance"](13),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,45,"Branch")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](24,47,"All")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",i.BranchList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](30,49,"EntryNo")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](37,51,"Search")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](41,53,"All")," "),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(320)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(325)),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](50,55,"pdf")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](54,57,"Excel")," "),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](59,59,"Search")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),b["\u0275\u0275advance"](12),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](73,61,"Branch")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](78,63,"FromStore")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](83,65,"ToStore")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](88,67,"EntryNo")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](95,69,"Date")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](102,71,"UserName")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](107,73,"Status")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("hidden","Status"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Status"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Status"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(629)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",i.ReceiptList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var Ki=function(){var e=function(){function e(t,n,i,r,a,c,l,s,d,p,m,u,h,_,g){var f=this;o(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=c,this._translateGlobalService=l,this.spinner=s,this._ReceiptSharedService=p,this._authService=m,this._printService=u,this._Excel=h,this._convertToPDF=_,this._VerifyReportsService=g,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.ERPStatusList=[{id:1,text:"New",text_ar:"\u062c\u062f\u064a\u062f"},{id:2,text:"PartiallyReceived",text_ar:"\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"},{id:3,text:"Received",text_ar:"\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"}],this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){f.lang=e.lang,f.dir=e.dir,f.translate.use(e.lang),f.ngTransUnsubscribe=f.translate.get("SelectBranchError").subscribe(function(e){f.SelectBranchMsg=e}),f.ngTransUnsubscribe=f.translate.get("EntryNumberMsg").subscribe(function(e){f.EntryNumberMsg=e})}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),f._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):f._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Transfer Request"]).subscribe(function(e){f.title=e["Transfer Request"],document.title=f.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){f.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==f.subsidiaryID&&(f.subsidiaryID=f._generalService.SubsidiaryID,f.ReceiptSearch()),f.subsidiaryID!=f._generalService.SubsidiaryID&&f.subsidiaryID>0){f.subsidiaryID=f._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),f._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:f._ReceiptSearch.BranchID})),f._ReceiptSearch.PageNo=1,f._ReceiptSearch.PageSize=10,f.GetBranchList(),f.ReceiptSearch()}})}return a(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="80",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/inventorytransfers/transferrequest/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/inventorytransfers/transferrequest/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/inventorytransfers/transferrequest/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/inventorytransfers/transferrequest/".concat(e.id),this._router.navigate([t])}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0625\u0644\u0649 \u0645\u062e\u0632\u0646":"To store",o="ar"==this.lang?"\u0645\u0646 \u0645\u062e\u0632\u0646":"From store",c="ar"==this.lang?"\u0623\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"User Name",l="ar"==this.lang?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status",s="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",d="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(p){e.cd.markForCheck(),n='\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>').concat(r,"</th>\n                     <th>").concat(o,"</th>\n                     <th>").concat(a,"</th>\n                     <th>").concat(d,"</th>\n                     <th>").concat(s,"</th>\n                     <th>").concat(c,"</th>\n                     <th>").concat(l,"</th>\n\n\n                   </tr>\n                 </thead>\n             <tbody>\n         "),p.map(function(t){var i="",r="";1==t.erpstatus?(i="New",r="\u062c\u062f\u064a\u062f "):2==t.erpstatus?(i="PartiallyReceived",r="\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"):3==t.erpstatus?(i="Received",r="\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"):(i="",r=""),n+="\n        <tr>\n         <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n         <td>").concat("ar"==e.lang?t.fromstorenamear:t.fromstorename,"</td>\n         <td>").concat("ar"==e.lang?t.tostorenamear:t.tostorename,"</td>\n         <td>").concat(t.entry_no,"</td>\n         <td>").concat(t.entry_date,"</td>\n         <td>").concat("ar"==e.lang?t.usernamear:t.username,"</td>\n         <td>").concat("ar"==e.lang?r:i,"</td>\n\n\n        </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){var i="",r="";1==n.erpstatus?(i="New",r="\u062c\u062f\u064a\u062f "):2==n.erpstatus?(i="PartiallyReceived",r="\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"):3==n.erpstatus?(i="Received",r="\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"):(i="",r=""),t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0645\u0646 \u0645\u062e\u0632\u0646":n.fromstorenamear,"\u0627\u0644\u0649 \u0645\u062e\u0632\u0646":n.tostorenamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":n.usernamear,"\u0627\u0644\u062d\u0627\u0644\u0629":r}:{Branch:n.branchname,"From store":n.fromstorename,"To store":n.tostorename,"Entry No":n.entry_no,Date:n.entry_date,"User Name":n.username,Status:i})}),e._Excel.exportAsExcelFile(t,"transferrequests")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.n),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](x._W),b["\u0275\u0275directiveInject"](m.F0),b["\u0275\u0275directiveInject"](I.m),b["\u0275\u0275directiveInject"](u.sK),b["\u0275\u0275directiveInject"](M.K),b["\u0275\u0275directiveInject"](E.t2),b["\u0275\u0275directiveInject"](m.gz),b["\u0275\u0275directiveInject"](R.t),b["\u0275\u0275directiveInject"](O.e),b["\u0275\u0275directiveInject"](k.$),b["\u0275\u0275directiveInject"](P.x),b["\u0275\u0275directiveInject"](w.z),b["\u0275\u0275directiveInject"](S.J))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-transfer-request"]],features:[b["\u0275\u0275ProvidersFeature"]([y.n,R.t,S.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-sm-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-content"],[1,"card-body","table-responsive"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["class","text-truncate",4,"ngIf"],["href","javascript:;",1,"primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;","class","primary p-0",3,"routerLink",4,"ngIf"],["href","javascript:;",1,"primary","p-0",3,"routerLink"],[1,"ft-edit","mr-2"],[2,"background-color","#B0BED9"],["colspan","8"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,Yn,4,3,"div",0),b["\u0275\u0275template"](1,Zi,118,75,"div",1),b["\u0275\u0275elementStart"](2,"ngx-spinner",2),b["\u0275\u0275elementStart"](3,"p",3),b["\u0275\u0275text"](4,"Loading..."),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngIf",!t.checkRoleParms(323)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(323)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("fullScreen",!0))},directives:[c.O5,E.Ro,s._Y,s.JL,s.F,s.EJ,s.Q7,s.JJ,s.On,s.YN,s.Kr,c.sg,s.qQ,s.wV,s.Fj,D.K,m.yS,B.N9],pipes:[u.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}(),Xi=r(29609),er=["RForm"],tr=["PaymentMethodModel"];function nr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"h1",5),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function ir(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",81),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).DocumentAction()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function rr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",82),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).PrintPreview(0)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function ar(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",85),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).onPrint()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](3);b["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function or(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",85),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).DupilcateAction()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](3);b["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function cr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",85),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).DeleteAction()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](4);b["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function lr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275template"](1,cr,3,4,"button",83),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount&&3!=n._Receipt.erpstatus)}}function sr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275template"](1,ar,3,4,"button",83),b["\u0275\u0275elementStart"](2,"email-popup",84),b["\u0275\u0275listener"]("_savedemailobj",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).sendEmail(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](3,or,3,4,"button",83),b["\u0275\u0275template"](4,lr,2,1,"div",1),b["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(325)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("entryno",i._Receipt.entry_no),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(320)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(324))}}function dr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]())}function pr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]())}function mr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function ur(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function hr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,mr,2,1,"span",1),b["\u0275\u0275template"](2,ur,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function _r(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.text,"")}}function gr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.text_ar,"")}}function fr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,_r,2,1,"span",1),b["\u0275\u0275template"](2,gr,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function vr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.text,"")}}function yr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.text_ar,"")}}function Cr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,vr,2,1,"span",1),b["\u0275\u0275template"](2,yr,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var Rr=function(e,t){return{"invalid-data":e,"valid-data":t}};function Sr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",32),b["\u0275\u0275elementStart"](1,"div",25),b["\u0275\u0275elementStart"](2,"label",93),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"span",27),b["\u0275\u0275text"](6,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"input",94,95),b["\u0275\u0275listener"]("focusout",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).CheckReplenshimentDate(e)})("ngModelChange",function(e){b["\u0275\u0275restoreView"](n);var t=b["\u0275\u0275nextContext"](3);return t._Receipt.replenshimentfromdate=e,t.CheckReplenshimentDate(e)}),b["\u0275\u0275pipe"](9,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](8);b["\u0275\u0275nextContext"](2);var r=b["\u0275\u0275reference"](4),a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](4,3,"From")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](9,5,a._Receipt.replenshimentfromdate,"yyyy-MM-dd"))("ngClass",b["\u0275\u0275pureFunction2"](8,Rr,i.invalid&&r.submitted,i.valid&&r.submitted))}}function br(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",32),b["\u0275\u0275elementStart"](1,"div",25),b["\u0275\u0275elementStart"](2,"label",96),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"span",27),b["\u0275\u0275text"](6,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"input",97,98),b["\u0275\u0275listener"]("focusout",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).CheckReplenshimentDate(e)})("ngModelChange",function(e){b["\u0275\u0275restoreView"](n);var t=b["\u0275\u0275nextContext"](3);return t._Receipt.replenshimenttodate=e,t.CheckReplenshimentDate(e)}),b["\u0275\u0275pipe"](9,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](8);b["\u0275\u0275nextContext"](2);var r=b["\u0275\u0275reference"](4),a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](4,3,"To")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](9,5,a._Receipt.replenshimenttodate,"yyyy-MM-dd"))("ngClass",b["\u0275\u0275pureFunction2"](8,Rr,i.invalid&&r.submitted,i.valid&&r.submitted))}}function xr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"div",32),b["\u0275\u0275elementStart"](2,"div",25),b["\u0275\u0275elementStart"](3,"label",88),b["\u0275\u0275text"](4),b["\u0275\u0275pipe"](5,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"span",27),b["\u0275\u0275text"](7,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"select",89,90),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2)._Receipt.replenshimenttype=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).changeReplenshimentType(e)}),b["\u0275\u0275template"](10,Cr,3,3,"option",39),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,Sr,10,11,"div",43),b["\u0275\u0275template"](12,br,10,11,"div",43),b["\u0275\u0275elementStart"](13,"div",32),b["\u0275\u0275elementStart"](14,"button",91),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).Search()}),b["\u0275\u0275element"](15,"i",92),b["\u0275\u0275text"](16),b["\u0275\u0275pipe"](17,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](9);b["\u0275\u0275nextContext"]();var r=b["\u0275\u0275reference"](4),a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](5,7,"replenshimenttype")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",a._Receipt.replenshimenttype)("ngClass",b["\u0275\u0275pureFunction2"](11,Rr,i.invalid&&r.submitted,i.valid&&r.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",a.ReplenshimentTypeList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==a._Receipt.replenshimenttype),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==a._Receipt.replenshimenttype),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](17,9,"Search")," ")}}function Ir(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.text,"")}}function Mr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.text_ar,"")}}function Er(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,Ir,2,1,"span",1),b["\u0275\u0275template"](2,Mr,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Or(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]())}function kr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]())}function Pr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sug,"")}}function wr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sugar,"")}}function Dr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,Pr,2,1,"span",1),b["\u0275\u0275template"](2,wr,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Br(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",32),b["\u0275\u0275elementStart"](1,"div",25),b["\u0275\u0275elementStart"](2,"label",99),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"span",27),b["\u0275\u0275text"](6,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"select",100,101),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2)._Receipt.tostoreid=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).changeToStoreType(e)})("focusout",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).ToStorFocus()}),b["\u0275\u0275template"](9,Or,2,0,"option",30),b["\u0275\u0275template"](10,kr,2,0,"option",30),b["\u0275\u0275template"](11,Dr,3,3,"option",39),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](8);b["\u0275\u0275nextContext"]();var r=b["\u0275\u0275reference"](4),a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](4,6,"ToStore")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",a._Receipt.tostoreid)("ngClass",b["\u0275\u0275pureFunction2"](8,Rr,i.invalid&&r.submitted,i.valid&&r.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",a.UserToStoreList)}}function Fr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]())}function Lr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]())}function qr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sug,"")}}function Tr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sugar,"")}}function Nr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,qr,2,1,"span",1),b["\u0275\u0275template"](2,Tr,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Vr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]())}function Ar(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]())}function Ur(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sug,"")}}function Gr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sugar,"")}}function $r(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,Ur,2,1,"span",1),b["\u0275\u0275template"](2,Gr,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function jr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",32),b["\u0275\u0275elementStart"](1,"div",25),b["\u0275\u0275elementStart"](2,"label",99),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"span",27),b["\u0275\u0275text"](6,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"select",100,101),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2)._Receipt.tostoreid=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).changeToStoreType(e)})("focusout",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).ToStorFocus()}),b["\u0275\u0275template"](9,Vr,2,0,"option",30),b["\u0275\u0275template"](10,Ar,2,0,"option",30),b["\u0275\u0275template"](11,$r,3,3,"option",39),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](8);b["\u0275\u0275nextContext"]();var r=b["\u0275\u0275reference"](4),a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](4,6,"ToStore")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",a._Receipt.tostoreid)("ngClass",b["\u0275\u0275pureFunction2"](8,Rr,i.invalid&&r.submitted,i.valid&&r.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",a.UserToStoreList)}}function Wr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]())}function zr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]())}function Jr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.text,"")}}function Qr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.text_ar,"")}}function Yr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,Jr,2,1,"span",1),b["\u0275\u0275template"](2,Qr,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Hr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]())}function Zr(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]())}function Kr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Xr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function ea(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,Kr,2,1,"span",1),b["\u0275\u0275template"](2,Xr,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ta(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",107),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function na(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",107),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Available")," "))}function ia(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",107),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ReorderQty")," "))}function ra(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",107),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Netsales")," "))}function aa(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",107),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"QtyDiff")," "))}function oa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function ca(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function la(e,t){if(1&e&&(b["\u0275\u0275template"](0,oa,2,1,"div",1),b["\u0275\u0275template"](1,ca,2,1,"div",1)),2&e){var n=b["\u0275\u0275nextContext"](4);b["\u0275\u0275property"]("ngIf","ar"==n.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function sa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function da(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function pa(e,t){if(1&e&&(b["\u0275\u0275template"](0,sa,2,1,"div",1),b["\u0275\u0275template"](1,da,2,1,"div",1)),2&e){var n=b["\u0275\u0275nextContext"](4);b["\u0275\u0275property"]("ngIf","ar"==n.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var ma=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function ua(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",130),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275nextContext"](2);var i=b["\u0275\u0275reference"](4);b["\u0275\u0275property"]("ngClass",b["\u0275\u0275pureFunction2"](2,ma,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function ha(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",130),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275nextContext"](2);var i=b["\u0275\u0275reference"](4);b["\u0275\u0275property"]("ngClass",b["\u0275\u0275pureFunction2"](2,ma,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function _a(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",131),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function ga(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",131),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function fa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function va(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function ya(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",132),b["\u0275\u0275template"](1,fa,2,1,"span",1),b["\u0275\u0275template"](2,va,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"]().$implicit,r=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=r.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==r.lang)}}function Ca(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275elementStart"](1,"input",133,134),b["\u0275\u0275listener"]("keyup",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().index;return b["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().$implicit.conv=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](2),r=b["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;b["\u0275\u0275nextContext"](2);var c=b["\u0275\u0275reference"](4),l=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),b["\u0275\u0275propertyInterpolate1"]("name","item_conv",a,""),b["\u0275\u0275property"]("readonly",3==(null==o?null:o.item_type)&&null!=(null==o?null:o.item_id))("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",o.conv)("required",null!=(null==o?null:o.item_id))("ngClass",b["\u0275\u0275pureFunction2"](9,Rr,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Ra(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275elementStart"](1,"input",135,136),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().$implicit.netsales=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](2),r=b["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;b["\u0275\u0275nextContext"](2);var c=b["\u0275\u0275reference"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate1"]("name","netsales",a,""),b["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("ngModel",o.netsales)("ngClass",b["\u0275\u0275pureFunction2"](5,Rr,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Sa(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275elementStart"](1,"input",135,137),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().$implicit.replenshdiff=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](2),r=b["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;b["\u0275\u0275nextContext"](2);var c=b["\u0275\u0275reference"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate1"]("name","replenshdiff",a,""),b["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("ngModel",o.replenshdiff)("ngClass",b["\u0275\u0275pureFunction2"](5,Rr,i.invalid&&c.submitted,i.valid&&c.submitted))}}function ba(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275elementStart"](1,"input",135,138),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().$implicit.availableqty=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](2),r=b["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;b["\u0275\u0275nextContext"](2);var c=b["\u0275\u0275reference"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate1"]("name","availableqty",a,""),b["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("ngModel",o.availableqty)("ngClass",b["\u0275\u0275pureFunction2"](5,Rr,i.invalid&&c.submitted,i.valid&&c.submitted))}}function xa(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275elementStart"](1,"input",135,139),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().$implicit.reorderqty=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](2),r=b["\u0275\u0275nextContext"](),a=r.index,o=r.$implicit;b["\u0275\u0275nextContext"](2);var c=b["\u0275\u0275reference"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate1"]("name","reorderqty",a,""),b["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==o?null:o.item_id))("ngModel",o.reorderqty)("ngClass",b["\u0275\u0275pureFunction2"](5,Rr,i.invalid&&c.submitted,i.valid&&c.submitted))}}var Ia=function(e){return{item_id:e}};function Ma(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td",113),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"td"),b["\u0275\u0275elementStart"](4,"p-autoComplete",114,115),b["\u0275\u0275listener"]("onFocus",function(e){var t=b["\u0275\u0275restoreView"](n).index,i=b["\u0275\u0275reference"](5),r=b["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275template"](7,la,2,2,"ng-template",116),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"td"),b["\u0275\u0275elementStart"](9,"p-autoComplete",117,118),b["\u0275\u0275listener"]("onFocus",function(e){var t=b["\u0275\u0275restoreView"](n).index,i=b["\u0275\u0275reference"](10),r=b["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).onClearItems(e)}),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275template"](12,pa,2,2,"ng-template",119),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"td",120),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return b["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),b["\u0275\u0275template"](14,ua,2,5,"div",121),b["\u0275\u0275template"](15,ha,2,5,"div",121),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"td"),b["\u0275\u0275elementStart"](17,"select",122,123),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),b["\u0275\u0275template"](19,_a,2,1,"option",124),b["\u0275\u0275template"](20,ga,2,1,"option",124),b["\u0275\u0275template"](21,ya,3,4,"option",125),b["\u0275\u0275pipe"](22,"filterby"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](23,Ca,3,12,"td",1),b["\u0275\u0275elementStart"](24,"td"),b["\u0275\u0275elementStart"](25,"input",126,127),b["\u0275\u0275listener"]("keyup",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](27,Ra,3,8,"td",1),b["\u0275\u0275template"](28,Sa,3,8,"td",1),b["\u0275\u0275template"](29,ba,3,8,"td",1),b["\u0275\u0275template"](30,xa,3,8,"td",1),b["\u0275\u0275elementStart"](31,"td"),b["\u0275\u0275elementStart"](32,"a",128),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).DeleteItems(e)}),b["\u0275\u0275element"](33,"i",129),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=t.index,o=b["\u0275\u0275reference"](18),c=b["\u0275\u0275reference"](26);b["\u0275\u0275nextContext"](2);var l=b["\u0275\u0275reference"](4),s=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](a+1),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),b["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!0)("suggestions",s.FromStoreList)("showEmptyMessage",!0)("emptyMessage",b["\u0275\u0275pipeBind1"](6,34,"NoResultsFound"))("forceSelection",!0),b["\u0275\u0275advance"](5),b["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),b["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",b["\u0275\u0275pipeBind1"](11,36,"NoResultsFound"))("forceSelection",!0),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf","ar"!=s.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==s.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),b["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",b["\u0275\u0275pureFunction2"](41,Rr,o.invalid&&l.submitted,o.valid&&l.submitted)),b["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||null),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=s.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==s.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",b["\u0275\u0275pipeBind2"](22,38,s.ItemUnitsList,b["\u0275\u0275pureFunction1"](44,Ia,null==i?null:i.item_id))),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),b["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",b["\u0275\u0275pureFunction2"](46,Rr,c.invalid&&l.submitted,c.valid&&l.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",86==s._Receipt.code&&1==s._Receipt.replenshimenttype),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",86==s._Receipt.code&&1==s._Receipt.replenshimenttype),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",86==s._Receipt.code&&2==s._Receipt.replenshimenttype),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",86==s._Receipt.code&&2==s._Receipt.replenshimenttype)}}var Ea=function(e){return{"table-for-autocomplete":e}};function Oa(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",102),b["\u0275\u0275elementStart"](1,"div",103),b["\u0275\u0275elementStart"](2,"div",104),b["\u0275\u0275elementStart"](3,"table",105),b["\u0275\u0275elementStart"](4,"thead"),b["\u0275\u0275elementStart"](5,"tr"),b["\u0275\u0275element"](6,"th"),b["\u0275\u0275elementStart"](7,"th",106),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"th",107),b["\u0275\u0275text"](11),b["\u0275\u0275pipe"](12,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"th",107),b["\u0275\u0275text"](14),b["\u0275\u0275pipe"](15,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"th",108),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](19,ta,3,3,"th",109),b["\u0275\u0275elementStart"](20,"th",107),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](23,na,3,3,"th",109),b["\u0275\u0275template"](24,ia,3,3,"th",109),b["\u0275\u0275template"](25,ra,3,3,"th",109),b["\u0275\u0275template"](26,aa,3,3,"th",109),b["\u0275\u0275elementStart"](27,"th",110),b["\u0275\u0275text"](28," \xa0 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"tbody"),b["\u0275\u0275template"](30,Ma,34,49,"tr",111),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"button",112),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).AddItems()}),b["\u0275\u0275text"](32),b["\u0275\u0275pipe"](33,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngClass",b["\u0275\u0275pureFunction1"](26,Ea,i.isType)),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](9,14,"Store")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](12,16,"ItemCode")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](15,18,"ItemDescription")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](18,20,"Unit")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](22,22,"qty")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",86==i._Receipt.code&&2==i._Receipt.replenshimenttype),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",86==i._Receipt.code&&2==i._Receipt.replenshimenttype),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",86==i._Receipt.code&&1==i._Receipt.replenshimenttype),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",86==i._Receipt.code&&1==i._Receipt.replenshimenttype),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](33,24,"Add")," ")}}function ka(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",107),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Pa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function wa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function Da(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",131),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function Ba(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",131),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function Fa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function La(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function qa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,Fa,2,1,"span",1),b["\u0275\u0275template"](2,La,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](5);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Ta(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275elementStart"](1,"input",147),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().$implicit.conv=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](),r=i.index,a=i.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",r,""),b["\u0275\u0275property"]("readonly",!0)("ngModel",a.conv)}}function Na(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td"),b["\u0275\u0275elementStart"](2,"input",142),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"td"),b["\u0275\u0275elementStart"](4,"input",142),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"td"),b["\u0275\u0275template"](6,Pa,2,1,"div",1),b["\u0275\u0275template"](7,wa,2,1,"div",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"td"),b["\u0275\u0275elementStart"](9,"select",143),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),b["\u0275\u0275template"](10,Da,2,1,"option",124),b["\u0275\u0275template"](11,Ba,2,1,"option",124),b["\u0275\u0275template"](12,qa,3,3,"option",39),b["\u0275\u0275pipe"](13,"filterby"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](14,Ta,2,3,"td",1),b["\u0275\u0275elementStart"](15,"td"),b["\u0275\u0275elementStart"](16,"input",144),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"td"),b["\u0275\u0275elementStart"](18,"input",145,146),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"td"),b["\u0275\u0275elementStart"](21,"input",144),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=b["\u0275\u0275reference"](19);b["\u0275\u0275nextContext"](3);var a=b["\u0275\u0275reference"](4),o=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","storecode_c",i,""),b["\u0275\u0275property"]("readonly",!0)("ngModel",n.storecode),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",i,""),b["\u0275\u0275property"]("readonly",!0)("ngModel",n.itemcode),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=o.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==o.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",i,""),b["\u0275\u0275property"]("ngModel",n.unit_id),b["\u0275\u0275attribute"]("disabled",!0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=o.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==o.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",b["\u0275\u0275pipeBind2"](13,27,o.ItemComponentUnitsList,b["\u0275\u0275pureFunction1"](30,Ia,n.item_id))),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowpack)),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",i,""),b["\u0275\u0275property"]("ngModel",n.qty)("readonly",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","item_price_c",i,""),b["\u0275\u0275property"]("ngModel",n.price)("Min",0)("CheckMin",null!=(null==n?null:n.item_id))("readonly",!0)("ngClass",b["\u0275\u0275pureFunction2"](32,Rr,r.invalid&&a.submitted,r.valid&&a.submitted)),b["\u0275\u0275advance"](3),b["\u0275\u0275propertyInterpolate1"]("name","item_total_c",i,""),b["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}var Va=function(e){return{finishedproductid:e}};function Aa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",102),b["\u0275\u0275elementStart"](1,"div",103),b["\u0275\u0275elementStart"](2,"div",140),b["\u0275\u0275elementStart"](3,"table",105),b["\u0275\u0275elementStart"](4,"thead"),b["\u0275\u0275elementStart"](5,"tr"),b["\u0275\u0275elementStart"](6,"th",107),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"th",107),b["\u0275\u0275text"](10),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"th",107),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"th",108),b["\u0275\u0275text"](16),b["\u0275\u0275pipe"](17,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](18,ka,3,3,"th",109),b["\u0275\u0275elementStart"](19,"th",107),b["\u0275\u0275text"](20),b["\u0275\u0275pipe"](21,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"th",107),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"th",107),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"tbody"),b["\u0275\u0275template"](29,Na,22,35,"tr",141),b["\u0275\u0275pipe"](30,"filterby"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](8,9,"Store")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](17,15,"Unit")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n.CashCustomerSetting?null:n.CashCustomerSetting.allowpack)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](21,17,"qty")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](24,19,"Price")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](27,21,"Total")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",0==n.show_all_component?b["\u0275\u0275pipeBind2"](30,23,n.ItemsComponentList,b["\u0275\u0275pureFunction1"](26,Va,null==n.SelectedItem?null:n.SelectedItem.item_id)):n.ItemsComponentList)}}function Ua(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"li",74),b["\u0275\u0275elementStart"](1,"a",75),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,Aa,31,28,"ng-template",76),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngbNavItem",2),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"Components")))}function Ga(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]())}function $a(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",86),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]())}function ja(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Wa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function za(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,ja,2,1,"span",1),b["\u0275\u0275template"](2,Wa,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](4);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Ja(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",131),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function Qa(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",131),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function Ya(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function Ha(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function Za(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",87),b["\u0275\u0275template"](1,Ya,2,1,"span",1),b["\u0275\u0275template"](2,Ha,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](4);b["\u0275\u0275property"]("value",n.code),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Ka(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td"),b["\u0275\u0275elementStart"](2,"select",148),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),b["\u0275\u0275template"](3,Ga,2,0,"option",30),b["\u0275\u0275template"](4,$a,2,0,"option",30),b["\u0275\u0275template"](5,za,3,3,"option",39),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"select",148),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),b["\u0275\u0275template"](8,Ja,2,1,"option",124),b["\u0275\u0275template"](9,Qa,2,1,"option",124),b["\u0275\u0275template"](10,Za,3,3,"option",39),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"input",149,150),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"td"),b["\u0275\u0275elementStart"](15,"a",151),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),b["\u0275\u0275element"](16,"i",152),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"td"),b["\u0275\u0275elementStart"](18,"a",153),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),b["\u0275\u0275element"](19,"i",154),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"td"),b["\u0275\u0275elementStart"](21,"a",128),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).index;return b["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),b["\u0275\u0275element"](22,"i",129),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),b["\u0275\u0275property"]("ngModel",i.branch_id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",a.BranchList),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),b["\u0275\u0275property"]("ngModel",i.code),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",a.ReceiptCodeList),b["\u0275\u0275advance"](2),b["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),b["\u0275\u0275property"]("ngModel",i.entry_no),b["\u0275\u0275advance"](3),b["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function Xa(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",102),b["\u0275\u0275elementStart"](1,"div",103),b["\u0275\u0275elementStart"](2,"div",140),b["\u0275\u0275elementStart"](3,"table",105),b["\u0275\u0275elementStart"](4,"thead"),b["\u0275\u0275elementStart"](5,"tr"),b["\u0275\u0275elementStart"](6,"th",107),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"th",107),b["\u0275\u0275text"](10),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"th",107),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"th",110),b["\u0275\u0275text"](16," \xa0 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"th",110),b["\u0275\u0275text"](18," \xa0 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"th",110),b["\u0275\u0275text"](20," \xa0 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"tbody"),b["\u0275\u0275template"](22,Ka,23,13,"tr",141),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"button",112),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](8,5,"Branch")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),b["\u0275\u0275advance"](9),b["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function eo(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",102),b["\u0275\u0275elementStart"](1,"div",103),b["\u0275\u0275elementStart"](2,"Signature",155),b["\u0275\u0275listener"]("signatureoutput",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("signature",i._Receipt.signature)}}function to(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"Item-StoreQty",156,157),b["\u0275\u0275listener"]("BalancesList",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).GetBalnce(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("wrappe",i._itemstoreqtyobj)}}function no(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",6),b["\u0275\u0275elementStart"](2,"div",4),b["\u0275\u0275elementStart"](3,"form",7,8),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](4);return b["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),b["\u0275\u0275elementStart"](5,"div",9),b["\u0275\u0275elementStart"](6,"div",10),b["\u0275\u0275elementStart"](7,"div",11),b["\u0275\u0275elementStart"](8,"div",12),b["\u0275\u0275elementStart"](9,"h6",13),b["\u0275\u0275text"](10),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"div",4),b["\u0275\u0275elementStart"](13,"div",14),b["\u0275\u0275elementStart"](14,"button",15),b["\u0275\u0275element"](15,"i",16),b["\u0275\u0275text"](16),b["\u0275\u0275pipe"](17,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"button",17),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().CreateNewAction()}),b["\u0275\u0275text"](19),b["\u0275\u0275pipe"](20,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](21,ir,3,4,"button",18),b["\u0275\u0275template"](22,rr,3,4,"button",19),b["\u0275\u0275elementStart"](23,"button",20),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().BackAction()}),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"div",21),b["\u0275\u0275elementStart"](27,"button",22),b["\u0275\u0275text"](28),b["\u0275\u0275pipe"](29,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"div",23),b["\u0275\u0275template"](31,sr,5,4,"ng-container",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](32,"hr"),b["\u0275\u0275elementStart"](33,"div",4),b["\u0275\u0275elementStart"](34,"div",24),b["\u0275\u0275elementStart"](35,"div",25),b["\u0275\u0275elementStart"](36,"label",26),b["\u0275\u0275text"](37),b["\u0275\u0275pipe"](38,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"span",27),b["\u0275\u0275text"](40,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"select",28,29),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().changeBranch(e)}),b["\u0275\u0275template"](43,dr,2,0,"option",30),b["\u0275\u0275template"](44,pr,2,0,"option",30),b["\u0275\u0275template"](45,hr,3,3,"option",31),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](46,"div",32),b["\u0275\u0275elementStart"](47,"div",25),b["\u0275\u0275elementStart"](48,"label",33),b["\u0275\u0275text"](49),b["\u0275\u0275pipe"](50,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"span",27),b["\u0275\u0275text"](52,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](53,"input",34,35),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](55,"div",32),b["\u0275\u0275elementStart"](56,"div",25),b["\u0275\u0275elementStart"](57,"label",36),b["\u0275\u0275text"](58),b["\u0275\u0275pipe"](59,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](60,"span",27),b["\u0275\u0275text"](61,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](62,"select",37,38),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.code=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().changeEntryType(e)}),b["\u0275\u0275template"](64,fr,3,3,"option",39),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](65,xr,18,14,"div",0),b["\u0275\u0275elementStart"](66,"div",4),b["\u0275\u0275elementStart"](67,"div",32),b["\u0275\u0275elementStart"](68,"div",25),b["\u0275\u0275elementStart"](69,"label",40),b["\u0275\u0275text"](70),b["\u0275\u0275pipe"](71,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](72,"span",27),b["\u0275\u0275text"](73,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](74,"select",41,42),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.storetype=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().changeStoreType(e)}),b["\u0275\u0275template"](76,Er,3,3,"option",39),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](77,Br,12,11,"div",43),b["\u0275\u0275elementStart"](78,"div",32),b["\u0275\u0275elementStart"](79,"div",25),b["\u0275\u0275elementStart"](80,"label",44),b["\u0275\u0275text"](81),b["\u0275\u0275pipe"](82,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](83,"span",27),b["\u0275\u0275text"](84,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](85,"select",45,46),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.fromstoreid=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().changeFromStoreType(e)})("focusout",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().FromStorFocus()}),b["\u0275\u0275template"](87,Fr,2,0,"option",30),b["\u0275\u0275template"](88,Lr,2,0,"option",30),b["\u0275\u0275template"](89,Nr,3,3,"option",39),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](90,jr,12,11,"div",43),b["\u0275\u0275elementStart"](91,"div",32),b["\u0275\u0275elementStart"](92,"div",25),b["\u0275\u0275elementStart"](93,"label",47),b["\u0275\u0275text"](94),b["\u0275\u0275pipe"](95,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](96,"span",27),b["\u0275\u0275text"](97,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](98,"select",48,49),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.erpstatus=e}),b["\u0275\u0275template"](100,Wr,2,0,"option",30),b["\u0275\u0275template"](101,zr,2,0,"option",30),b["\u0275\u0275template"](102,Yr,3,3,"option",39),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](103,"div",4),b["\u0275\u0275elementStart"](104,"div",32),b["\u0275\u0275elementStart"](105,"div",25),b["\u0275\u0275elementStart"](106,"label",50),b["\u0275\u0275text"](107),b["\u0275\u0275pipe"](108,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](109,"span",27),b["\u0275\u0275text"](110,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](111,"input",51,52),b["\u0275\u0275listener"]("ngModelChange",function(e){b["\u0275\u0275restoreView"](n);var t=b["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),b["\u0275\u0275pipe"](113,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](114,"div",32),b["\u0275\u0275elementStart"](115,"div",25),b["\u0275\u0275elementStart"](116,"label",50),b["\u0275\u0275text"](117),b["\u0275\u0275pipe"](118,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](119,"input",53,54),b["\u0275\u0275listener"]("ngModelChange",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ChangePropFinish("SchedualDate",2)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](121,"div",32),b["\u0275\u0275elementStart"](122,"div",25),b["\u0275\u0275elementStart"](123,"label",55),b["\u0275\u0275text"](124),b["\u0275\u0275pipe"](125,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](126,"span",27),b["\u0275\u0275text"](127,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](128,"input",56,57),b["\u0275\u0275listener"]("ngModelChange",function(e){b["\u0275\u0275restoreView"](n);var t=b["\u0275\u0275nextContext"]();return t._Receipt.schedule_date=e,t.ChangePropFinish("SchedualDate",2)}),b["\u0275\u0275pipe"](130,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](131,"div",32),b["\u0275\u0275elementStart"](132,"div",25),b["\u0275\u0275elementStart"](133,"label",55),b["\u0275\u0275text"](134),b["\u0275\u0275pipe"](135,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](136,"input",58,59),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.schedule_time=e})("ngModelChange",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ChangePropFinish("SchedualDate",2)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](138,"div",4),b["\u0275\u0275elementStart"](139,"div",32),b["\u0275\u0275elementStart"](140,"div",25),b["\u0275\u0275elementStart"](141,"label",60),b["\u0275\u0275text"](142),b["\u0275\u0275pipe"](143,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](144,"span",27),b["\u0275\u0275text"](145,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](146,"select",61,62),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.createdbyid=e}),b["\u0275\u0275template"](148,Hr,2,0,"option",30),b["\u0275\u0275template"](149,Zr,2,0,"option",30),b["\u0275\u0275template"](150,ea,3,3,"option",39),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](151,"div",32),b["\u0275\u0275elementStart"](152,"div",25),b["\u0275\u0275elementStart"](153,"label",63),b["\u0275\u0275text"](154),b["\u0275\u0275pipe"](155,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](156,"input",64,65),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](158,"div",32),b["\u0275\u0275elementStart"](159,"div",25),b["\u0275\u0275elementStart"](160,"label",66),b["\u0275\u0275text"](161),b["\u0275\u0275pipe"](162,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](163,"input",67,68),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Receipt.memo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](165,"div",69),b["\u0275\u0275elementStart"](166,"div",70),b["\u0275\u0275elementStart"](167,"div",4),b["\u0275\u0275elementStart"](168,"div",71),b["\u0275\u0275elementStart"](169,"ul",72,73),b["\u0275\u0275listener"]("activeIdChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().activeNav=e}),b["\u0275\u0275elementStart"](171,"li",74),b["\u0275\u0275elementStart"](172,"a",75),b["\u0275\u0275text"](173),b["\u0275\u0275pipe"](174,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](175,Oa,34,28,"ng-template",76),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](176,Ua,5,4,"li",77),b["\u0275\u0275elementStart"](177,"li",74),b["\u0275\u0275elementStart"](178,"a",75),b["\u0275\u0275text"](179),b["\u0275\u0275pipe"](180,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](181,Xa,26,13,"ng-template",76),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](182,"li",74),b["\u0275\u0275elementStart"](183,"a",75),b["\u0275\u0275text"](184),b["\u0275\u0275pipe"](185,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](186,eo,3,1,"ng-template",76),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](187,"div",78),b["\u0275\u0275elementStart"](188,"div",4),b["\u0275\u0275element"](189,"div",79),b["\u0275\u0275elementStart"](190,"div",80),b["\u0275\u0275template"](191,to,3,1,"div",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=b["\u0275\u0275reference"](4),r=b["\u0275\u0275reference"](42),a=b["\u0275\u0275reference"](54),o=b["\u0275\u0275reference"](63),c=b["\u0275\u0275reference"](75),l=b["\u0275\u0275reference"](86),s=b["\u0275\u0275reference"](99),d=b["\u0275\u0275reference"](112),p=b["\u0275\u0275reference"](147),m=b["\u0275\u0275reference"](170),u=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](10),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](11,86,"Transfer Request"),""),b["\u0275\u0275advance"](4),b["\u0275\u0275attribute"]("disabled",u.VouchersLinkedCount>0||1==u.ShowModeReceipt||1==u.DuringSaveDisable||3==u._Receipt.erpstatus||u.ReceiptID>0&&!u.checkRoleParms(629)||0==u.ReceiptID&&!u.checkRoleParms(320)||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](17,88,"Save")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275attribute"]("disabled",!u.checkRoleParms(320)||1==u.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](20,90,"CreateNew")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",u.ReceiptID>0&&0==u.VouchersLinkedCount),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",u.ReceiptID>0&&u.checkRoleParms(325)),b["\u0275\u0275advance"](1),b["\u0275\u0275attribute"]("disabled",1==u.DuringSaveDisable||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,92,"Exit")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](29,94,"Action Menu")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",u.ReceiptID>0),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](38,96,"Branch")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",u._Receipt.branch_id)("ngClass",b["\u0275\u0275pureFunction2"](134,Rr,r.invalid&&i.submitted,r.valid&&i.submitted)),b["\u0275\u0275attribute"]("disabled",u.ReceiptID>0||null),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=u.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==u.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",u.BranchList)("ngForTrackBy",u.customTrackBy),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](50,98,"Entry#")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("stepallow",1)("ngModel",u._Receipt.entry_no)("readonly",0==(null==u.CurrentUserSetting?null:u.CurrentUserSetting.controlvouchernumanddate)||u.VouchersLinkedCount>0||1==u.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",b["\u0275\u0275pureFunction2"](137,Rr,a.invalid&&i.submitted,a.valid&&i.submitted)),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](59,100,"Entry_Type")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",u._Receipt.code)("ngClass",b["\u0275\u0275pureFunction2"](140,Rr,o.invalid&&i.submitted,o.valid&&i.submitted)),b["\u0275\u0275attribute"]("disabled",u.ReceiptID>0||null),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",u.EntryTypeList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",86==u._Receipt.code),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](71,102,"storetype")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",u._Receipt.storetype)("ngClass",b["\u0275\u0275pureFunction2"](143,Rr,c.invalid&&i.submitted,c.valid&&i.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",u.StoreTypeList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",2==u._Receipt.storetype),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](82,104,"FromStore")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",u._Receipt.fromstoreid)("ngClass",b["\u0275\u0275pureFunction2"](146,Rr,l.invalid&&i.submitted,l.valid&&i.submitted)),b["\u0275\u0275attribute"]("disabled",u.ReceiptID>0||null),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=u.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==u.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",u.FromStoreList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==u._Receipt.storetype),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](95,106,"status")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",u._Receipt.erpstatus)("ngClass",b["\u0275\u0275pureFunction2"](149,Rr,s.invalid&&i.submitted,s.valid&&i.submitted)),b["\u0275\u0275attribute"]("disabled",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=u.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==u.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",u.ERPStatusList),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](108,108,"Date")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](113,110,u._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==u.CurrentUserSetting?null:u.CurrentUserSetting.controlvouchernumanddate)||u.VouchersLinkedCount>0||1==u.LockedRecepit)("ngClass",b["\u0275\u0275pureFunction2"](152,Rr,d.invalid&&i.submitted||0==u.ValidPeriod,d.valid&&i.submitted)),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](118,113,"Time")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("readonly",0==(null==u.CurrentUserSetting?null:u.CurrentUserSetting.controlvouchernumanddate)||u.VouchersLinkedCount>0||1==u.LockedRecepit)("ngModel",u._Receipt.entry_time),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](125,115,"Schedule_Date")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](130,117,u._Receipt.schedule_date,"yyyy-MM-dd"))("ngClass",b["\u0275\u0275pureFunction2"](155,Rr,0==u.ScheduledateValid,1==u.ScheduledateValid)),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](135,120,"Time")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",u._Receipt.schedule_time)("ngClass",b["\u0275\u0275pureFunction2"](158,Rr,0==u.ScheduledateValid,1==u.ScheduledateValid)),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](143,122,"createdby")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",u._Receipt.createdbyid)("ngClass",b["\u0275\u0275pureFunction2"](161,Rr,p.invalid&&i.submitted,p.valid&&i.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=u.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==u.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",u.EmployeesList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](155,124,"ReferenceNo")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",u._Receipt.reference_no),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](162,126,"Memo")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",u._Receipt.memo),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("destroyOnHide",!1)("activeId",u.activeNav),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngbNavItem",1),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](174,128,"Items")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",null==u.CurrentUserSetting?null:u.CurrentUserSetting.showreceiptitemcomponent),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngbNavItem",3),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](180,130,"LinkedReceipt")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngbNavItem",4),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](185,132,"Signature")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngbNavOutlet",m),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",u.itemqtyview)}}var io=function(){return[320,323,324,325,629]},ro=function(){var n=function(){function n(e,t,i,r,a,c,l,s,d,p,m,u,h,_,g,f,v,y,R){var S=this;o(this,n),this._cashsalesService=e,this._CustomerService=t,this._TransferService=i,this._ReceiptSharedService=r,this._VoucherService=a,this.cd=c,this.toastr=l,this._router=s,this._generalService=d,this.translate=p,this._translateGlobalService=m,this._activeRoute=u,this.modalService=h,this.spinner=_,this._authService=g,this._printService=f,this._VerifyReportsService=v,this.datepipe=y,this.location=R,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=80,this.Transaction_move=0,this._Receipt=new C.tY,this._ReceiptOriginal=new C.tY,this._Receipt_h_Edit=new C.Iu,this._CashSalesDetailsReceipt=new C.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new C.tH,this._LinkedReceipt=new C.Cb,this.ShowWarrantyDateCols=!1,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.MultiPaymentypeShow=!1,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.ScheduledateValid=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.PaymentTypeList=[],this.MultiPaymentMethodsList=[],this.CustomerAccountsList=[],this.CashCustomerList=[],this.EmployeesList=[],this.SalesTypesList=[],this.CostCenterList=[],this.SalesManlist=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CarsList=[],this.DriversList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.FromStoreList=[],this.UserToStoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.ERPStatusList=[{id:1,text:"New",text_ar:"\u062c\u062f\u064a\u062f"},{id:2,text:"PartiallyReceived",text_ar:"\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"},{id:3,text:"Received",text_ar:"\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"}],this.StoreTypeList=[{id:1,text:"From Store",text_ar:"\u0645\u0646 \u0645\u062e\u0632\u0646"},{id:2,text:"To Store",text_ar:" \u0627\u0644\u0649 \u0645\u062e\u0632\u0646"}],this.ReplenshimentTypeList=[{id:1,text:"Net sales",text_ar:"\u0635\u0627\u0641\u0649 \u0627\u0644\u0645\u0628\u064a\u0639\u0627\u062a"},{id:2,text:"Reorder Point and minimum",text_ar:"\u0631\u0635\u064a\u062f \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0637\u0644\u0628 \u0648\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649"}],this.EntryTypeList=[{id:80,text:"Direct",text_ar:" \u0645\u0628\u0627\u0634\u0631\u0629"},{id:86,text:"Replenshiment",text_ar:"\u0627\u0644\u0627\u0633\u062a\u0639\u0627\u0636\u0629"}],this.reporturl="",this.reportdomainUrl=Ve.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.ScheduleDateError="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.dateErrorMsg="",this.SelectBranchError="",this.RepItemnotfoundMsg="",this.ToStoreErrorMsg="",this.FromStoreErrorMsg="",this.BalancList=[],this.SearchBtnDisablead=!1,this.RelatedwithSerialsOrBatches="",this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemqtyList=new Array,this._totalcost=0,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.ngUnsubscribe=d.proadCastSubsidiaryID.subscribe(function(e){0==S.subsidiaryID&&(S.subsidiaryID=S._generalService.SubsidiaryID,S.SetInitialMethods()),S.subsidiaryID!=S._generalService.SubsidiaryID&&S.subsidiaryID>0&&(S.subsidiaryID=S._generalService.SubsidiaryID,S._router.navigate(["/page/inventorytransfers/transferrequest/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){S.lang=e.lang,S.dir=e.dir,S.translate.use(e.lang),S.ngTransUnsubscribe=S.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","ScheduleDateError","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","dateErrorMsg","RepItemnotfoundMsg","ToStoreErrorMsg","FromStoreErrorMsg","SelectBranchError","No","swalNewActionTitle","swalNewActionText","NOComponents","Transfer Request","RelatedwithSerialsOrBatches","cantNotDuplicateItem"]).subscribe(function(e){document.title=e["Transfer Request"],S.Cancel=e.Cancel,S.swalTitleEntry=e.swalTitleEntryno,S.swalTextEntry=e.swalEntrynoText,S.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,S.WarningInfoLost=e.WarningInfoLost,S.warning=e.warning,S.Yes=e.Yes,S.No=e.No,S.NOComponents=e.NOComponents,S.swalNewActionTitle=e.swalNewActionTitle,S.swalNewActionText=e.swalNewActionText,S.mailmsg=e.mailmsg,S.swalDeleteTitle=e.swalDeleteTitle,S.swalDetlateText=e.swalDetlateText,S.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,S.DeleteRelationmsg=e.DeleteRelationmsg,S.toastrSuccessDelete=e.successMsg,S.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,S.MultiPayErrorMsg=e.MultiPayErrorMsg,S.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,S.ReceiptNotFound=e.ReceiptNotFound,S.CustomerPricelistMsg=e.CustomerPricelistMsg,S.Receiptnoitems=e.Receiptnoitems,S.NoUnits=e.NoUnits,S.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,S.FinancialPeriodMsg=e.FinancialPeriodMsg,S.StopInventoryErrorMsg=e.StopInventoryErrorMsg,S.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,S.Close=e.Close,S.ScheduleDateError=e.ScheduleDateError,S.qtyErrorMsg=e.qtyErrorMsg,S.qtyErrorSaveMsg=e.qtyErrorSaveMsg,S.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,S.SaveMsg=e.SaveMsg,S.dateErrorMsg=e.dateErrorMsg,S.RepItemnotfoundMsg=e.RepItemnotfoundMsg,S.ToStoreErrorMsg=e.ToStoreErrorMsg,S.FromStoreErrorMsg=e.FromStoreErrorMsg,S.SelectBranchError=e.SelectBranchError,S.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,S.cantNotDuplicateItem=e.cantNotDuplicateItem})}),u.params.subscribe(function(e){S.ReceiptID=e.id,S.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,S.LockedRecepit=S.ShowModeReceipt,S.subsidiaryID=S._generalService.SubsidiaryID,S._UserLogin=S._authService.userInfo(),S.subsidiaryID>0&&S.SetInitialMethods()})}return a(n,[{key:"ngOnInit",value:function(){}},{key:"SetInitialMethods",value:function(){this._Receipt=new C.tY,this.GetFromStoreList(""),this.GetEmployeesList(),this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,n=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,qe.D)([n,i]).subscribe(function(n){var i=t(n,2),r=i[0],a=i[1];e.ReceiptCodeList=r,e.InventorySetting=a,0==e.InventorySetting[0].transferuserpermissions?e.UserToStoreList=e.FromStoreList:e.GetUserToStoreList();var o=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=o.items,e.GetReceipt(),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.customersalesprice=0,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.schedule_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.storetype=1,this._Receipt.erpstatus=1,this._Receipt.createdbyid=this._UserLogin.id,this._Receipt.code=(this._Receipt.replenshimenttype=3)?80:86,this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow(),this._Receipt.schedule_time=this.SetTimeNow();var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&(this._Receipt.branch_id="null"==t.branchId||0==t.branchId?null:t.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(function(t){null!=t.receipt&&(e.VouchersLinkedCount=t.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=t.receipt.id,e._Receipt.subsidiaryid=t.receipt.subsidiaryid,e._Receipt.code=t.receipt.code,e._Receipt.entry_no=t.receipt.entry_no,e._Receipt.branch_id=t.receipt.branch_id,e._Receipt.transaction_code=t.receipt.transaction_code,e._Receipt.customersalesprice=t.receipt.customersalesprice,e._Receipt.entry_date=e.datepipe.transform(t.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=t.receipt.entry_time,e._Receipt.reservedflag=t.receipt.reservedflag,e._Receipt.payment_type=t.receipt.payment_type,e._Receipt.vendor_id=t.receipt.vendor_id,e._Receipt.cashcustomerid=t.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?t.receipt.vendornamear:t.receipt.vendorname),null!=e._Receipt.cashcustomerid&&(e._Receipt.cashcustomer_vendor_code={phonenumber:t.receipt.phonenumber},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?t.receipt.cashcustomername_ar:t.receipt.cashcustomername),e._Receipt.currency_id=t.receipt.currency_id,e._Receipt.currency_rate=t.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(t.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=t.receipt.customerdeliverdate_time,e._Receipt.ordertype=t.receipt.ordertype,e._Receipt.empoyee_id=t.receipt.empoyee_id,e._Receipt.memo=t.receipt.memo,e._Receipt.reference_no=t.receipt.reference_no,e._Receipt.salestypeid=t.receipt.salestypeid,e._Receipt.commisionaccountid=t.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:t.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:t.receipt.commisionaccount_sug},e._Receipt.commissiontype=t.receipt.commissiontype,e._Receipt.commission=t.receipt.commission,e._Receipt.commissionnet=t.receipt.commissionnet,e._Receipt.commisionaccountid1=t.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:t.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:t.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=t.receipt.commissiontype1,e._Receipt.commission1=t.receipt.commission1,e._Receipt.commissionnet1=t.receipt.commissionnet1,e._Receipt.costcenterid=t.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:t.receipt.costcenter_sug_ar}:{costcenterfieldname:t.receipt.costcenter_sug}:null,e._Receipt.classid=t.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:t.receipt.classes_sug_ar}:{classfieldname:t.receipt.classes_sug}:null,e._Receipt.locationid=t.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:t.receipt.location_sug_ar}:{locationfieldname:t.receipt.location_sug}:null,e._Receipt.departmentid=t.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:t.receipt.department_sug_ar}:{departmentfieldname:t.receipt.department_sug}:null,e._Receipt.carid=t.receipt.carid,e._Receipt.driverid=t.receipt.driverid,e._Receipt.valueforeign=t.receipt.valueforeign,e._Receipt.value=t.receipt.value,e._Receipt.discount_foreignpercent=t.receipt.discount_foreignpercent,e._Receipt.discount_percent=t.receipt.discount_percent,e._Receipt.discount_foreignvalue=t.receipt.discount_foreignvalue,e._Receipt.discount_value=t.receipt.discount_value,e._Receipt.deliveryfeesforeign=t.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=t.receipt.deliveryfees,e._Receipt.surchargevalueforeign=t.receipt.surchargevalueforeign,e._Receipt.surchargevalue=t.receipt.surchargevalue,e._Receipt.surchargepercent=t.receipt.surchargepercent,e._Receipt.netvalueforeign=t.receipt.netvalueforeign,e._Receipt.netvalue=t.receipt.netvalue,e._Receipt.signature=t.receipt.signature,e._Receipt.related_voucher_type=t.receipt.related_voucher_type,e._Receipt.related_voucher_code=t.receipt.related_voucher_code,e._Receipt.status_id=t.receipt.status_id,e._Receipt.approvalstatus_id=t.receipt.approvalstatus_id,e._Receipt.costing_rate=t.receipt.costing_rate,e._Receipt.approvedby_id=t.receipt.approvedby_id,e._Receipt.shipmentterm_id=t.receipt.shipmentterm_id,e._Receipt.paymentterm_id=t.receipt.paymentterm_id,e._Receipt.supplieraccount_id=t.receipt.supplieraccount_id,e._Receipt.planneddeliverydate=t.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=t.receipt.actualdeliverydate,e._Receipt.deliverylocation=t.receipt.deliverylocation,e._Receipt.contactedperson=t.receipt.contactedperson,e._Receipt.othernotes=t.receipt.othernotes,e._Receipt.cashdrawerid=t.receipt.cashdrawerid,e._Receipt.leadid=t.receipt.leadid,e._Receipt.deliverynotes=t.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=t.receipt.cashcustomerdetailid,e._Receipt.is_canceled=t.receipt.is_canceled,e._Receipt.fromstoreid=t.receipt.fromstoreid,e._Receipt.tostoreid=t.receipt.tostoreid,e._Receipt.isdeliveryprint=t.receipt.isdeliveryprint,e._Receipt.printcount=t.receipt.printcount,e._Receipt.iskitchendone=t.receipt.iskitchendone,e._Receipt.paidamount=t.receipt.paidamount,e._Receipt.isholded=t.receipt.isholded,e._Receipt.branchtableid=t.receipt.branchtableid,e._Receipt.customeractualdeliverdate=t.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=t.receipt.deliverystatusid,e._Receipt.deposite=t.receipt.deposite,e._Receipt.paymentandconditions=t.receipt.paymentandconditions,e._Receipt.notes=t.receipt.notes,e._Receipt.chefid=t.receipt.chefid,e._Receipt.changeamount=t.receipt.changeamount,e._Receipt.divisionid=t.receipt.divisionid,e._Receipt.courierid=t.receipt.courierid,e._Receipt.depositepaymenttypeid=t.receipt.depositepaymenttypeid,e._Receipt.creationdate=t.receipt.creationdate,e._Receipt.lastupdatedate=t.receipt.lastupdatedate,e._Receipt.createdbyid=t.receipt.createdbyid,e._Receipt.updatedbyid=t.receipt.updatedbyid,e._Receipt.receiptattributeid=t.receipt.receiptattributeid,e._Receipt.costposted=t.receipt.costposted,e._Receipt.lcaccountid=t.receipt.lcaccountid,e._Receipt.lcno=t.receipt.lcno,e._Receipt.lcbank=t.receipt.lcbank,e._Receipt.lcstartdate=t.receipt.lcstartdate,e._Receipt.lcenddate=t.receipt.lcenddate,e._Receipt.lcrenewdate=t.receipt.lcrenewdate,e._Receipt.lcrenewenddate=t.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=t.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=t.receipt.lcpolicyno,e._Receipt.insurancedate=t.receipt.insurancedate,e._Receipt.gooddeliverydate=t.receipt.gooddeliverydate,e._Receipt.lccondition=t.receipt.lccondition,e._Receipt.shippingmethod=t.receipt.shippingmethod,e._Receipt.exportport=t.receipt.exportport,e._Receipt.shipname=t.receipt.shipname,e._Receipt.lcnotes=t.receipt.lcnotes,e._Receipt.quotationcustomername=t.receipt.quotationcustomername,e._Receipt.duedate=t.receipt.duedate,e._Receipt.schedule_date=t.receipt.schedule_date,e._Receipt.schedule_time=t.receipt.schedule_time,e._Receipt.storetype=t.receipt.storetype,e._Receipt.quotationenddate=t.receipt.quotationenddate,e._Receipt.wostatusid=t.receipt.wostatusid,e._Receipt.parentreceiptid=t.receipt.parentreceiptid,e._Receipt.isapproved=t.receipt.isapproved,e._Receipt.replenshimenttype=t.receipt.replenshimenttype,e._Receipt.reference=t.receipt.reference,e._Receipt.replenshimentfromdate=t.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=t.receipt.replenshimenttodate,e._Receipt.cancelreasonid=t.receipt.cancelreasonid,e._Receipt.contractstartdate=t.receipt.contractstartdate,e._Receipt.contractenddate=t.receipt.contractenddate,e._Receipt.previouscontractid=t.receipt.previouscontractid,e._Receipt.erpstatus=t.receipt.erpstatus,e._Receipt.loyalitybalance=t.receipt.loyalitybalance,e._Receipt.cpno=t.receipt.cpno,e._Receipt.accounttype=t.receipt.accounttype,e._Receipt.printing=t.receipt.printing,e._Receipt.storedelivery=t.receipt.storedelivery,e._Receipt.customerrecieve=t.receipt.customerrecieve,e._Receipt.promotionid=t.receipt.promotionid,e._Receipt.promotionpercent=t.receipt.promotionpercent,e._Receipt.promotionvalue=t.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=t.receipt.purchaserequeststatusid,e._Receipt.urgent=t.receipt.urgent,e._Receipt.quotationstatusid=t.receipt.quotationstatusid,e._Receipt.salesorderstatusid=t.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=t.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=t.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=t.receipt.totalproductioncost,e._Receipt.totalvouchercost=t.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=t.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=t.receipt.totalvouchercostforeign,e._Receipt.taxvalue=t.receipt.taxvalue,e._Receipt.sourceid=t.receipt.sourceid,e._Receipt.contractid=t.receipt.contractid,e._Receipt.type_id=t.receipt.type_id,e._Receipt.productionlineid=t.receipt.productionlineid,e._Receipt.linescheduleddate=t.receipt.linescheduleddate,e._Receipt.inchargepersonname=t.receipt.inchargepersonname,e._Receipt.inchargephoneno=t.receipt.inchargephoneno,e._Receipt.details=t.items,e._Receipt.details.forEach(function(e){e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e._Receipt.itemscomponent=t.itemcomponents,e._Receipt.itemscomponent.forEach(function(e){e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e.ItemUnitsList=t.itemunits,e.ItemComponentUnitsList=t.componentsunits,e._Receipt.linkedreceipts=t.linkedreceipts,e._Receipt.receiptmultipayment=t.receiptmultipayment,e.ItemsComponentList=JSON.parse(JSON.stringify(e._Receipt.itemscomponent)),e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),console.log(e._ReceiptOriginal),console.log(e._Receipt),e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.cd.markForCheck())})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid)if((this._Receipt.code=80)?this._Receipt.replenshimenttype=3:this._Receipt.code=80,0!=this.ValidPeriod)if(0!=this.ScheduledateValid){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){if(null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{if(!(t._Receipt.details[e].qty>0))return i=e,{v:void t.toastr.error(t.qtyZeroErrorSaveMsg)};0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}i=e},i=0;i<this._Receipt.details.length;i++){var r=n(i);if("object"==typeof r)return r.v}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(var a=function(e){if(t._Receipt.itemscomponent[e].qty>0){0!=t._Receipt.value?(t._Receipt.itemscomponent[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty%(1/0)||0,t._Receipt.itemscomponent[e].h_discount_percentage=100*(t._Receipt.itemscomponent[e].h_discount_value/(t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty)%(1/0)||0)):(t._Receipt.itemscomponent[e].h_discount_value=0,t._Receipt.itemscomponent[e].h_discount_percentage=0);var n=t.ItemComponentUnitsList.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id&&n.id==t._Receipt.itemscomponent[e].unit_id});t._Receipt.itemscomponent[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.itemscomponent[e].conv/n.conv):t._Receipt.itemscomponent[e].conv,t._Receipt.itemscomponent[e].final_conv=0==t._Receipt.itemscomponent[e].final_conv?1:t._Receipt.itemscomponent[e].final_conv}},o=0;o<this._Receipt.itemscomponent.length;o++)a(o);this.CheckBalanceForItemInStore(0,!0,!0)}else this.toastr.error(this.ScheduleDateError);else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status?5:1}},{key:"SaveReceipt",value:function(){var e=this;if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0;for(var t=0;t<this._Receipt.linkedreceipts.length;t++)0==this._Receipt.linkedreceipts[t].fire&&(this._Receipt.linkedreceipts.splice(t,1),t--);""==this._Receipt.schedule_date||null==this._Receipt.schedule_date||""==this._Receipt.entry_time||null==this._Receipt.entry_time||""!=this._Receipt.schedule_time&&null!=this._Receipt.schedule_time||(this._Receipt.schedule_time=this._Receipt.entry_time),null==this._Receipt.id||0==this._Receipt.id?this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,e._router.navigate(["/page/inventorytransfers/transferrequest/"+e.ReceiptID]).then(function(){window.location.reload()})}):(this._Receipt_h_Edit=new C.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/inventorytransfers/transferrequest/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t?e.ChangeEntryDate():"SchedualDate"==t&&e.CheckScheduleDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Le().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/inventorytransfers/transferrequest/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)Le().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];1==i&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==n&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(n){if(t.StoreCostCenterSetting=n.length>0?n[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=t.StoreCostCenterSetting.storeid)if(1==t._Receipt.storetype){if(t._Receipt.fromstoreid=t.StoreCostCenterSetting.storeid,t.StoreCode=t.StoreCostCenterSetting.storecode,0==t._Receipt.details.length){t._CashSalesDetailsReceipt=new C.hm,t._CashSalesDetailsReceipt.transaction_move=t.Transaction_move;var r=Math.max.apply(Math,e(t._Receipt.details.map(function(e){return e.rowno})).concat([0]));t._CashSalesDetailsReceipt.rowno=r+1,t._Receipt.details.push(t._CashSalesDetailsReceipt),t._Receipt.details[0].store_id=t.StoreCostCenterSetting.storeid,t._Receipt.details[0].storecode={code:t.StoreCostCenterSetting.storecode}}1==i&&t._Receipt.details.length>0&&(t._Receipt.details.forEach(function(e){e.store_id=t.StoreCostCenterSetting.storeid,e.storecode={code:t.StoreCostCenterSetting.storecode}}),t._Receipt.itemscomponent.forEach(function(e){e.store_id=t.StoreCostCenterSetting.storeid,e.storecode={code:t.StoreCostCenterSetting.storecode}}),t.CheckBalanceForItemInStore(0,!0))}else t._Receipt.tostoreid=t.StoreCostCenterSetting.storeid;null!=t.StoreCostCenterSetting.costcenterid&&(t._Receipt.costcenterid=t.StoreCostCenterSetting.costcenterid,t._Receipt.costcenterfieldname={costcenterfieldname:"ar"==t.lang?t.StoreCostCenterSetting.costcentername_ar:t.StoreCostCenterSetting.costcentername}),t.cd.markForCheck()})}},{key:"GetEmployeesList",value:function(){var e=this;this._TransferService.AllEmployee(this.subsidiaryID).subscribe(function(t){e.EmployeesList=t,0==e.ReceiptID&&e.EmployeesList.length>0&&(e.EmployeesList.find(function(t){return t.id==e._UserLogin.id}),e._Receipt.createdbyid=e._UserLogin.id),e.cd.markForCheck()})}},{key:"GetUserToStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._TransferService.GetAllActiveStoreBySubsIDAndUser(this.subsidiaryID,t).subscribe(function(t){e.UserToStoreList=[],e.UserToStoreList=t,e.cd.markForCheck()})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(6)),e.cd.markForCheck())})}},{key:"changeCurrency",value:function(e){var t,n=this;(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(6):Number(1..toFixed(6)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.Calculate_Total_Tax_Net(),n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID(),this.CheckScheduleDate();for(var e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}},{key:"CheckScheduleDate",value:function(){if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=this._Receipt.schedule_date&&""!=this._Receipt.schedule_date&&null!=this._Receipt.schedule_date){var e=Xi("".concat(this._Receipt.entry_date," ").concat(this._Receipt.entry_time),"YYYY-MM-DD HH:mm").format(),t=Xi("".concat(this._Receipt.schedule_date," ").concat(this._Receipt.schedule_time),"YYYY-MM-DD HH:mm").format();0==Xi(e).isSameOrBefore(t)?(this.ScheduledateValid=!1,this.toastr.error(this.ScheduleDateError)):this.ScheduledateValid=!0}}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?e.ValidPeriod=!0:(e.ValidPeriod=!1,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowPopUpFinancialPeriod()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Le().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetFromStoreList("")}},{key:"StoreChangeSearch",value:function(e,t){this.GetFromStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}},{key:"GetFromStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._TransferService.GetAllActiveStoreBySubsID(this.subsidiaryID,t).subscribe(function(t){e.FromStoreList=[],e.FromStoreList=t,e.cd.markForCheck()})}},{key:"onClearItems",value:function(t){var n=this._Receipt.details[t];if(3==n.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==n.item_id}).length>0)if(null!=n.id)for(var i=0;i<this._Receipt.itemscomponent.length;i++)this._Receipt.itemscomponent[i].finishedproductid==n.item_id&&this._Receipt.itemscomponent[i].finishedreceipt_did==n.id&&(this._Receipt.itemscomponent.splice(i,1),i--);else null==n.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=n.rowno}));if(null!=this._Receipt.details[t].id){var r=Math.max.apply(Math,e(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._Receipt.details[t].rowno=r+1}this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].item_id=null,this._Receipt.details[t].itemname=null,this._Receipt.details[t].itemname_ar=null}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(function(t){return t.item_id==e.id})?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this._Receipt.fromstoreid,this._Receipt.details[t].storecode={code:this.StoreCode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"duplicateItemSwalPopUp",value:function(e){var t=this;Le().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(n){t.onClearItems(e),t._Receipt.details[e].itemcode=null,t.cd.markForCheck()})}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;null!=e.item_id&&(e.id=e.item_id),this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new C.hm,0==n._Receipt.id?(n._Receipt.details[t].store_id=n._Receipt.fromstoreid,n._Receipt.details[t].storecode={code:n.StoreCode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):3==e.item_type&&0==i.itemcomponents.length?(n._Receipt.details[t]=new C.hm,0==n._Receipt.id||null==n._Receipt.id?(n._Receipt.details[t].store_id=n._Receipt.fromstoreid,n._Receipt.details[t].storecode={code:n.StoreCode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NOComponents)):(n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n._Receipt.details[t].haswarrenty=i.item.haswarrenty,n._Receipt.details[t].warrantydate=i.item.haswarrenty?n.getwarrantydateDate():null,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.inventory_unitid,i.componentsunits.length>0&&(n.ItemComponentUnitsList=n.ItemComponentUnitsList.concat(i.componentsunits)),i.itemcomponents.length>0&&i.itemcomponents.forEach(function(e){var i=new C.hm;i.item_id=e.itemcomponentid,i.finishedproductid=e.item_id,i.itemname=e.itemname,i.itemname_ar=e.itemname_ar,i.itemcode=e.itemcode,i.unit_id=e.itemcomponentunitid,i.qty=e.itemcomponentqty,i.basicqtycomponent=e.itemcomponentqty,i.conv=e.itemcomponentconv,i.itemcode=e.itemcode,i.price=0,i.total=i.price*i.qty,i.store_id=n._Receipt.details[t].store_id,i.transaction_move=n.Transaction_move,i.item_type=e.item_type,i.storecode=null!=n._Receipt.details[t].storecode?n._Receipt.details[t].storecode.code:null,i.parentrowno=n._Receipt.details[t].rowno,n._Receipt.itemscomponent.push(i)}),n.ChangeItemUnits(e.inventory_unitid,t)),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){var n=this;e.toString().includes(":")&&(e=e.split(":")[1].trim());var i=this._Receipt.details[t].item_id,r=this.ItemUnitsList.filter(function(t){return t.item_id==i&&t.id==e});null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(e){console.log(e),e.length>0?(n._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t)):(n._Receipt.details[t].price=Number((0).toFixed(n._Currencyprecision)),n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv,n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t))}),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});n=r[0].conv,t._ReceiptSharedService.GetItemCostAtDateStore(t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,0,t._Receipt.entry_date+" "+t._Receipt.entry_time).subscribe(function(r){console.log(r),r.length>0?(i=Number((r[0].avgcost||0).toFixed(t._Currencyprecision)),t._Receipt.details[e].price=i*t._Receipt.details[e].conv/n,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e)):(i=0,t._Receipt.details[e].price=i*t._Receipt.details[e].conv/n,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e))}),t.cd.markForCheck()},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){if(t.timeout=null,3==t._Receipt.details[e].item_type)if(t.ItemsComponentList=new Array,null!=t._Receipt.details[e].id)!function(){for(var n=t._Receipt.details[e],i=function(e){if(t._Receipt.itemscomponent[e].finishedproductid==n.item_id&&t._Receipt.itemscomponent[e].finishedreceipt_did==n.id){var i=t._ReceiptOriginal.details.find(function(e){return e.id==n.id}).qty,r=t._ReceiptOriginal.itemscomponent.find(function(i){return i.finishedreceipt_did==n.id&&i.id==t._Receipt.itemscomponent[e].id}).qty;t._Receipt.itemscomponent[e].basicqtycomponent=r/i,t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[e])}},r=0;r<t._Receipt.itemscomponent.length;r++)i(r)}();else if(null==t._Receipt.details[e].id)for(var n=t._Receipt.details[e],i=0;i<t._Receipt.itemscomponent.length;i++)t._Receipt.itemscomponent[i].finishedproductid==n.item_id&&null==t._Receipt.itemscomponent[i].id&&t._Receipt.itemscomponent[i].parentrowno==n.rowno&&(t._Receipt.itemscomponent[i].qty=t._Receipt.itemscomponent[i].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[i]));t.StockBalances(e),t.CheckBalanceForItemInStore(e),t.CalaculteValuesItemsRow(e)},1e3)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){var r=e;if(null!=r.id)for(var a=0;a<this._Receipt.itemscomponent.length;a++)this._Receipt.itemscomponent[a].finishedproductid==r.item_id&&this._Receipt.itemscomponent[a].finishedreceipt_did==r.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[a]);else null==r.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==r.item_id&&null==e.id&&e.parentrowno==r.rowno}))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}},{key:"AddItems",value:function(){this._CashSalesDetailsReceipt=new C.hm,this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id||null==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this._Receipt.fromstoreid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode),this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;var t=Math.max.apply(Math,e(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=t+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){this.itemqtyview=!1;var t=this._Receipt.details[e];if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==t.item_id}).length>0)if(null!=t.id)for(var n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=t.rowno}));1==this._Receipt.details.filter(function(e){return e.item_id==t.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id})),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this.OnSelectedItem(null),this.cd.markForCheck()}},{key:"OnSerialItems",value:function(e){}},{key:"CalaculteValuesItemsRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;var n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"ReCalaculteValuesChangeItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(n){if(t.spinner.hide(),null==n.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(n.items.length>0)if(1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.customersalesprice=n.receipt.customersalesprice,t._Receipt.payment_type=n.receipt.payment_type,t._Receipt.vendor_id=n.receipt.vendor_id,t._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.vendornamear:n.receipt.vendorname,t._Receipt.vendor_balance=n.receipt.vendor_balance,t.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=t._Receipt.cashcustomerid&&(t._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,t.PriceListItemsOnly=!1),t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.empoyee_id=n.receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),0==t.PriceListItemsOnly||n.receipt.vendor_id==t._Receipt.vendor_id){if(t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=n.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id,null!=n.receipt.fromstoreid){t._Receipt.fromstoreid=n.receipt.fromstoreid;var i=t.FromStoreList.find(function(e){return e.id==t._Receipt.fromstoreid});t.StoreCode=i.storecode,0==t._Receipt.details.length&&(t._CashSalesDetailsReceipt=new C.hm,t._CashSalesDetailsReceipt.transaction_move=t.Transaction_move,t._Receipt.details.push(t._CashSalesDetailsReceipt),t._Receipt.details[0].store_id=i.id,t._Receipt.details[0].storecode={code:i.storecode}),t._Receipt.details.length>0&&(t._Receipt.details.forEach(function(e){e.store_id=i.id,e.storecode={code:i.storecode}}),t._Receipt.itemscomponent.forEach(function(e){e.store_id=i.id,e.storecode={code:i.storecode}}))}null!=n.receipt.tostoreid&&(t._Receipt.tostoreid=n.receipt.tostoreid);for(var r=0;r<t._Receipt.details.length;r++)null==t._Receipt.details[r].item_id&&(t._Receipt.details.splice(r,1),r--);n.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),n.itemcomponents.length>0&&(t.ItemComponentsLinkedReceipt=n.itemcomponents,81==n.receipt.code&&(t.ItemComponentsLinkedReceipt=t.ItemComponentsLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.ItemComponentUnitsList=t.ItemComponentUnitsList.concat(n.componentsunits)),t.ItemLinkedReceipt=n.items,81==n.receipt.code&&(t.ItemLinkedReceipt=t.ItemLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0])}else t._Receipt.linkedreceipts[e].fire=0,t.toastr.info(t.CustomerPricelistMsg);else t.spinner.hide(),t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;this._CashSalesDetailsReceipt=new C.hm;var r=this._Receipt.details.findIndex(function(e){return e.item_id==i.item_id&&e.unit_id==i.unit_id&&e.conv==i.conv&&e.price==i.price});if(-1==r){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=i.store_id,this._CashSalesDetailsReceipt.storecode={code:i.storecode}),this._CashSalesDetailsReceipt.item_id=i.item_id,this._CashSalesDetailsReceipt.itemcode={code:i.itemcode},this._CashSalesDetailsReceipt.itemname=i.itemname,this._CashSalesDetailsReceipt.itemname_ar=i.itemname_ar,this._CashSalesDetailsReceipt.unit_id=i.unit_id,this._CashSalesDetailsReceipt.conv=i.conv,this._CashSalesDetailsReceipt.qty=i.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=i.isrequireserial,this._CashSalesDetailsReceipt.item_type=i.item_type,this._CashSalesDetailsReceipt.notes=i.notes,this._CashSalesDetailsReceipt.haswarrenty=i.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=i.warrantydate,this._CashSalesDetailsReceipt.detailshtml=i.detailshtml,this._CashSalesDetailsReceipt.customitemname=i.customitemname,this._CashSalesDetailsReceipt.salesmanid=i.salesmanid,this._CashSalesDetailsReceipt.price=0!=i.priceafterincrease&&null!=i.priceafterincrease?i.priceafterincrease:i.price,this._CashSalesDetailsReceipt.discount_percent=i.discount_percent,this._CashSalesDetailsReceipt.discount_value=i.discount_value,this._CashSalesDetailsReceipt.total=i.total;var a=Math.max.apply(Math,e(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._CashSalesDetailsReceipt.rowno=a+1,3==i.item_type&&(this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id}).forEach(function(e){var n=new C.hm;n.store_id=t._CashSalesDetailsReceipt.store_id,n.storecode=t._CashSalesDetailsReceipt.storecode.code,n.item_id=e.item_id,n.itemcode=e.itemcode,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.unit_id=e.unit_id,n.conv=e.conv,n.qty=e.qty,n.basicqtycomponent=e.qty/t._CashSalesDetailsReceipt.qty||0,n.price=e.price,n.discount_value=e.discount_value,n.discount_percent=e.discount_percent,n.total=e.total,n.transaction_move=t.Transaction_move,n.finishedproductid=e.finishedproductid,n.item_type=e.item_type,n.notes=e.notes,n.haswarrenty=e.haswarrenty,n.warrantydate=e.warrantydate,n.detailshtml=e.detailshtml,n.customitemname=e.customitemname,n.salesmanid=e.salesmanid,n.parentrowno=t._CashSalesDetailsReceipt.rowno,t._Receipt.itemscomponent.push(n)}),this.cd.markForCheck()),this.ItemUnitsList.filter(function(e){return e.item_id==i.item_id&&e.id==i.unit_id}),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished()}else{if(this._Receipt.details[r].qty=this._Receipt.details[r].qty+parseFloat(i.qty),3==i.item_type){var o=this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id});if(null!=this._Receipt.details[r].id)for(var c=this._Receipt.details[r],l=function(e){t._Receipt.itemscomponent[e].finishedproductid==c.item_id&&t._Receipt.itemscomponent[e].finishedreceipt_did==c.id&&(d=o.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id}),t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].qty+parseFloat(d.qty))},s=0;s<this._Receipt.itemscomponent.length;s++){var d;l(s)}else if(null==this._Receipt.details[r].id)for(var p=this._Receipt.details[r],m=function(e){t._Receipt.itemscomponent[e].finishedproductid==p.item_id&&null==t._Receipt.itemscomponent[e].id&&t._Receipt.itemscomponent[e].parentrowno==p.rowno&&(d=o.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id}),t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].qty+parseFloat(d.qty))},u=0;u<this._Receipt.itemscomponent.length;u++)m(u)}this.CalaculteValuesItemsRow(r),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):this.SetLinkReceiptItemFinished()}}},{key:"SetLinkReceiptItemFinished",value:function(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;var e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0);this.cd.markForCheck()}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"Calculate_Total_Tax_Net",value:function(){var e=0;this._Receipt.details.forEach(function(t){e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this.CalculateTax_Net(e)}},{key:"CalculateTax_Net",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this._itemstoreqtyobj.StoreID=this._Receipt.fromstoreid,this._itemstoreqtyobj.ToStoreID=this._Receipt.tostoreid,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==r&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var a=!0,o=new C.I$;if(null!=this._Receipt.details[e].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._Receipt.branch_id,o.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,o.Unit_ID=this._Receipt.details[e].unit_id,o.conv=this._Receipt.details[e].conv,o.Qty=0,o.itemid=this._Receipt.details[e].item_id,o.StoreID=this._Receipt.details[e].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._Receipt.id,console.log(o);var c=null!==(t=this.ReceiptCodeList.filter(function(e){return e.code==n.BasicCodeReceipt})[0].items)&&void 0!==t?t:-1,l=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==c||1==c&&this._Receipt.details[e].id>0)&&1==l?this._ReceiptSharedService.CheckBalanceForItemInStore(o).subscribe(function(t){var o=0,l=0,s=0,d=[],p=!0;if(0==t.consignment.consignment){if(null!=t.totalqty.totalqty){if(o=t.totalqty.totalqty,d=t.itemcomponent,n._Receipt.details.filter(function(t){return t.item_id==n._Receipt.details[e].item_id}).forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;l=parseFloat(l.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),3!=n._Receipt.details[e].item_type&&function(){n._Receipt.itemscomponent.filter(function(t){return t.item_id==n._Receipt.details[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());l=parseFloat(l.toString())+i}});for(var t=[],i=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),r=function(r){t=[],t=n._Receipt.itemscomponent.filter(function(t){return t.parentrowno==i[r].rowno&&t.finishedproductid==i[r].item_id&&null==t.id&&t.item_id==n._Receipt.details[e].item_id});for(var a=function(e){var i=t[e].qty,r=n.ItemComponentUnitsList.find(function(n){return n.item_id==t[e].item_id&&n.id==t[e].unit_id});if(null!=r){var a=(null!=r.finalconv?r.finalconv:1)*(t[e].conv/(null!=r.conv?r.conv:1))*parseFloat(i.toString());l=parseFloat(l.toString())+a}},o=0;o<t.length;o++)a(o)},a=0;a<i.length;a++)r(a)}(),-1==c?s=o-l:1==c&&(s=o+l),3==n._Receipt.details[e].item_type)for(var m=function(e){if(2!=d[e].item_type){var t=function(){var t=n._Receipt.details.filter(function(t){return t.item_id==d[e].item_id}),i=0;t.forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=null!=t.finalconv?t.finalconv:1,a=null!=t.conv?t.conv:1,o=e.conv;i=parseFloat(i.toString())+r*(o/a)*parseFloat(e.qty.toString())}}),n._Receipt.itemscomponent.filter(function(t){return t.item_id==d[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());i=parseFloat(i.toString())+r}});for(var r=[],a=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),o=function(t){r=[],r=n._Receipt.itemscomponent.filter(function(n){return n.parentrowno==a[t].rowno&&n.finishedproductid==a[t].item_id&&null==n.id&&n.item_id==d[e].item_id});for(var o=function(e){var t=r[e].qty,a=n.ItemComponentUnitsList.find(function(t){return t.item_id==r[e].item_id&&t.id==r[e].unit_id});if(null!=a){var o=(null!=a.finalconv?a.finalconv:1)*(r[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());i=parseFloat(i.toString())+o}},c=0;c<r.length;c++)o(c)},c=0;c<a.length;c++)o(c);if(!(i<=d[e].totalqty))return p=!1,{v:"break"};p=!0}();if("object"==typeof t)return t.v}},u=0;u<d.length;u++){if("break"===m(u))break}a=s>=0&&1==p}else a=!1;0==a?(n._Receipt.details[e].allowqtyselectforitem=!1,n.cd.markForCheck(),n.toastr.warning(n.qtyErrorMsg+o)):(n._Receipt.details[e].allowqtyselectforitem=!0,n.cd.markForCheck())}1==i&&e+1<n._Receipt.details.length?n.CheckBalanceForItemInStore(e+1,!0,r):1==r&&n.SaveReceipt()}):1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}else 1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"getwarrantydateDate",value:function(){var e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||3==this._Receipt.erpstatus||this.ReceiptID>0&&!this.checkRoleParms(629)?this._router.navigate(["/page/inventorytransfers/transferrequest/0"]).then(function(){window.location.reload()}):Le().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Le().DismissReason.cancel&&e._router.navigate(["/page/inventorytransfers/transferrequest/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Le().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/inventorytransfers/transferrequest"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e._Receipt.erpstatus=1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/inventorytransfers/transferrequest/0"),e.ReceiptID=0,e._Receipt.id=null,e.VouchersLinkedCount=0,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/transferrequest"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){var e=this._authService.userInfo(),t="";"ar"==this.lang&&(t="_ar");var n={reportName:"P_I_80_TransferRequest"+t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return e.clientdatabase.indexOf("alnasaem")>-1&&"P_I_80_TransferRequest_Print"+t,n.toEmail=this._emailobj.email,n.Subject=this._emailobj.subject,n}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(629)||0==this.ReceiptID&&!this.checkRoleParms(323)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransfers/transferrequest"]):Le().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Le().DismissReason.cancel&&e._router.navigate(["/page/inventorytransfers/transferrequest"])})}},{key:"changeEntryType",value:function(e){86==this._Receipt.code?(this._Receipt.replenshimenttype=1,this._Receipt.replenshimentfromdate=new Date,this._Receipt.replenshimenttodate=new Date):this._Receipt.replenshimenttype=null,this.BasicCodeReceipt=this._Receipt.code}},{key:"changeStoreType",value:function(e){}},{key:"changeToStoreType",value:function(e){this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this.toastr.error(this.ToStoreErrorMsg),this.cd.markForCheck())}},{key:"ToStorFocus",value:function(){this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this._Receipt.tostoreid=null,this.cd.markForCheck())}},{key:"changeFromStoreType",value:function(e){var t=this;if(this._Receipt.fromstoreid==this._Receipt.tostoreid)this.toastr.error(this.FromStoreErrorMsg),this.cd.markForCheck();else{var n=this.FromStoreList.find(function(e){return e.id==t._Receipt.fromstoreid});this.StoreCode=n.storecode,0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=n.id,this._Receipt.details[0].storecode={code:n.storecode}),this._Receipt.details.length>0&&(this._Receipt.details.forEach(function(e){e.store_id=n.id,e.storecode={code:n.storecode}}),this._Receipt.itemscomponent.forEach(function(e){e.store_id=n.id,e.storecode={code:n.storecode}}),this.ItemsComponentList.forEach(function(e){e.store_id=n.id,e.storecode={code:n.storecode}}),this.CheckBalanceForItemInStore(0,!0))}}},{key:"FromStorFocus",value:function(){this._Receipt.fromstoreid==this._Receipt.tostoreid&&(this._Receipt.fromstoreid=null,this.cd.markForCheck())}},{key:"changeReplenshimentType",value:function(e){1==this._Receipt.replenshimenttype?(this._Receipt.replenshimentfromdate=new Date,this._Receipt.replenshimenttodate=new Date):(this._Receipt.replenshimentfromdate=null,this._Receipt.replenshimenttodate=null)}},{key:"CheckReplenshimentDate",value:function(e){this._Receipt.replenshimentfromdate>this._Receipt.replenshimenttodate&&(this.toastr.error(this.dateErrorMsg),this.SearchBtnDisablead=!0,this.cd.markForCheck())}},{key:"Search",value:function(){var e=this;if(1==this._Receipt.replenshimenttype){var t=this.datepipe.transform(this._Receipt.replenshimentfromdate,"yyyy-MM-dd"),n=this.datepipe.transform(this._Receipt.replenshimenttodate,"yyyy-MM-dd");this._TransferService.RtrieveItembyNetsales(this._Receipt.branch_id,this.StoreCostCenterSetting.storeid,t,n).subscribe(function(t){null==t||0==t.length?e.toastr.error(e.RepItemnotfoundMsg):(e._Receipt.details=t,e._Receipt.details.forEach(function(t,n){t.storecode={code:t.storecode},t.itemcode={code:t.itemcode},t.allowqtyselectforitem=!0,e.GetItemDataDetailsLists(t,n)}))})}else this._TransferService.RtrieveItembyReplenshMinQty(this.subsidiaryID,this.StoreCostCenterSetting.storeid).subscribe(function(t){0==t.length?e.toastr.error(e.RepItemnotfoundMsg):(e._Receipt.details=t,e._Receipt.details.forEach(function(n,i){new C.I$,n.storecode={code:n.storecode},n.itemcode={code:n.itemcode},n.allowqtyselectforitem=!0,e.ChangeItemUnits(t[i].inventory_unitid,i)}))})}},{key:"GetBalnce",value:function(e){this.BalancList=[],this.BalancList=e.list;var t=this.BalancList.find(function(e){});this._Receipt.details.forEach(function(e,n){e.item_id==t.itemid&&(e.availableqty=t.available)})}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}}]),n}();return n.\u0275fac=function(e){return new(e||n)(b["\u0275\u0275directiveInject"](y.n),b["\u0275\u0275directiveInject"](Te.v),b["\u0275\u0275directiveInject"](Ue),b["\u0275\u0275directiveInject"](R.t),b["\u0275\u0275directiveInject"](Ne.H),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](x._W),b["\u0275\u0275directiveInject"](m.F0),b["\u0275\u0275directiveInject"](I.m),b["\u0275\u0275directiveInject"](u.sK),b["\u0275\u0275directiveInject"](M.K),b["\u0275\u0275directiveInject"](m.gz),b["\u0275\u0275directiveInject"](B.FF),b["\u0275\u0275directiveInject"](E.t2),b["\u0275\u0275directiveInject"](O.e),b["\u0275\u0275directiveInject"](k.$),b["\u0275\u0275directiveInject"](S.J),b["\u0275\u0275directiveInject"](c.uU),b["\u0275\u0275directiveInject"](c.Ye))},n.\u0275cmp=b["\u0275\u0275defineComponent"]({type:n,selectors:[["app-transfer-request-details"]],viewQuery:function(e,t){var n;(1&e&&(b["\u0275\u0275viewQuery"](er,5),b["\u0275\u0275viewQuery"](tr,5)),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.RForm=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.PaymentMethodModel=n.first))},features:[b["\u0275\u0275ProvidersFeature"]([y.n,Te.v,R.t,c.uU,Ne.H,S.J,Ue])],decls:5,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-md-12","col-lg-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],["for","Code",1,"col-form-label"],["name","Code","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Code","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","storetype",1,"col-form-label"],["name","storetype","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["storetype","ngModel"],["class","col-12 col-md-3 mb-2 mb-md-0",4,"ngIf"],["for","fromstoreid",1,"col-form-label"],["name","fromstoreid","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change","focusout"],["fromstoreid","ngModel"],["for","erpstatus",1,"col-form-label"],["name","erpstatus","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["erpstatus","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","Schedule_Date",1,"col-form-label"],["type","date","id","Schedule_Date","name","Schedule_Date","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["Schedule_Date","ngModel"],["type","time","id","Schedule_time","name","Schedule_time",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["Schedule_time","ngModel"],["for","createdbyid",1,"col-form-label"],["name","createdbyid","required","","disabled","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["createdbyid","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],["Value","null"],[3,"value"],["for","replenshimenttype",1,"col-form-label"],["name","replenshimenttype","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["replenshimenttype","ngModel"],["type","button",1,"btn","btn-primary","mt-3",3,"click"],[1,""],["for","replenshimentfromdate",1,"col-form-label"],["type","date","id","replenshimentfromdate","name","replenshimentfromdate","required","",1,"form-control",3,"ngModel","ngClass","focusout","ngModelChange"],["replenshimentfromdate","ngModel"],["for","replenshimenttodate",1,"col-form-label"],["type","date","id","replenshimenttodate","name","replenshimenttodate","required","",1,"form-control",3,"ngModel","ngClass","focusout","ngModelChange"],["replenshimenttodate","ngModel"],["for","tostoreid",1,"col-form-label"],["name","tostoreid","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change","focusout"],["tostoreid","ngModel"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],[1,"table"],["scope","col",2,"width","5%"],["scope","col"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["disabled","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","ngModelChange"],["netsales","ngModel"],["replenshdiff","ngModel"],["availableqty","ngModel"],["reorderqty","ngModel"],[1,"table-responsive","table","table-accountdetails"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text","customMin","",1,"form-control",3,"ngModel","name","Min","CheckMin","readonly","ngClass","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["href","javascript:;",1,"info","p-0",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"signature","signatureoutput"],[3,"wrappe","BalancesList"],["ItemStoreQty",""]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,nr,4,3,"div",0),b["\u0275\u0275template"](1,no,192,164,"ng-container",1),b["\u0275\u0275elementStart"](2,"ngx-spinner",2),b["\u0275\u0275elementStart"](3,"p",3),b["\u0275\u0275text"](4,"Loading..."),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(320)||t.checkRoleParms(323)||t.checkRoleParms(324)||t.checkRoleParms(629)||t.checkRoleParms(325))),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRolesParms(b["\u0275\u0275pureFunction0"](3,io))),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("fullScreen",!0))},directives:[c.O5,E.Ro,s._Y,s.JL,s.F,s.EJ,s.Q7,s.JJ,s.On,c.mk,c.sg,s.Fj,je.L,We.a,B.Pz,B.nv,B.Vx,B.uN,B.tO,Je.k,s.YN,s.Kr,p.Qc,ze.jx,s.wV,D.K,Qe.t,Ye.T],pipes:[u.X$,c.uU,He.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),n}(),ao=function(){var e=function(){function e(t){o(this,e),this._http=t,this.baseUrl=Ve.N.apiUrl}return a(e,[{key:"GetAllActiveStoreBySubsID",value:function(e,t){var n="".concat(this.baseUrl,"/TransferApproval/GetAllActiveStoreBySubsIDAndUser?SubsidiaryID=").concat(e,"&where=").concat(t);return null!=t&&null!=t&&""!=t||(n="".concat(this.baseUrl,"/TransferApproval/GetAllActiveStoreBySubsIDAndUser?SubsidiaryID=").concat(e)),this._http.get(n).pipe((0,Ae.U)(function(e){return e}))}},{key:"TransferApprovalList",value:function(e){return this._http.post(this.baseUrl+"/TransferApproval/TransferApprovalList",e).pipe((0,Ae.U)(function(e){return e}))}},{key:"TransferApprovalCount",value:function(e){return this._http.post(this.baseUrl+"/TransferApproval/TransferApprovalListCount",e).pipe((0,Ae.U)(function(e){return e}))}},{key:"GetReceiptDetails",value:function(e){return this._http.get(this.baseUrl+"/TransferApproval/GetReceiptDetails?ReceiptId=".concat(e)).pipe((0,Ae.U)(function(e){return e}))}},{key:"Approval",value:function(e,t){return this._http.get(this.baseUrl+"/TransferApproval/Approval?ReceiptId=".concat(e,"&physicalnegativeinventoryid=").concat(t)).pipe((0,Ae.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](d.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),oo=function e(){o(this,e),this.SubsidaryId=0,this.UserID=0,this.fromDate="",this.toDate="",this.fromScheduleDate="",this.toScheduleDate="",this.fromStore=null,this.toStore=null,this.EntryNo=null,this.id=null,this.skip=1,this.take=10,this.lang="",this.searchValue="",this.orderby=""};function co(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"h1",5),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function lo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",57),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]())}function so(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",57),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]())}function po(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sug,"")}}function mo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sugar,"")}}function uo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",58),b["\u0275\u0275template"](1,po,2,1,"span",1),b["\u0275\u0275template"](2,mo,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ho(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",57),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]())}function _o(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",57),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]())}function go(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sug,"")}}function fo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.sugar,"")}}function vo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",58),b["\u0275\u0275template"](1,go,2,1,"span",1),b["\u0275\u0275template"](2,fo,2,1,"span",1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function yo(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",59),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OnPrint()}),b["\u0275\u0275element"](1,"i",38),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"Print")," "))}function Co(e,t){1&e&&b["\u0275\u0275element"](0,"img",60)}function Ro(e,t){1&e&&b["\u0275\u0275element"](0,"i",70)}function So(e,t){1&e&&b["\u0275\u0275element"](0,"i",71)}function bo(e,t){1&e&&b["\u0275\u0275element"](0,"i",70)}function xo(e,t){1&e&&b["\u0275\u0275element"](0,"i",71)}function Io(e,t){1&e&&b["\u0275\u0275element"](0,"i",70)}function Mo(e,t){1&e&&b["\u0275\u0275element"](0,"i",71)}function Eo(e,t){1&e&&b["\u0275\u0275element"](0,"i",70)}function Oo(e,t){1&e&&b["\u0275\u0275element"](0,"i",71)}function ko(e,t){1&e&&b["\u0275\u0275element"](0,"i",70)}function Po(e,t){1&e&&b["\u0275\u0275element"](0,"i",71)}function wo(e,t){1&e&&b["\u0275\u0275element"](0,"i",70)}function Do(e,t){1&e&&b["\u0275\u0275element"](0,"i",71)}function Bo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",79),b["\u0275\u0275text"](1," new "),b["\u0275\u0275elementEnd"]())}function Fo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",79),b["\u0275\u0275text"](1," \u062c\u062f\u064a\u062f "),b["\u0275\u0275elementEnd"]())}function Lo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function qo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function To(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.uname,"")}}function No(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.uname_ar,"")}}function Vo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td"),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](3,Lo,2,1,"td",1),b["\u0275\u0275template"](4,qo,2,1,"td",1),b["\u0275\u0275elementStart"](5,"td"),b["\u0275\u0275template"](6,To,2,1,"span",1),b["\u0275\u0275template"](7,No,2,1,"span",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"td"),b["\u0275\u0275text"](9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"td"),b["\u0275\u0275text"](11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=b["\u0275\u0275nextContext"](5);b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](n.itemcode),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](n.conv),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](n.qty)}}function Ao(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td",73),b["\u0275\u0275elementStart"](2,"table",74),b["\u0275\u0275elementStart"](3,"tr",75),b["\u0275\u0275elementStart"](4,"td",76),b["\u0275\u0275elementStart"](5,"div",77),b["\u0275\u0275elementStart"](6,"div"),b["\u0275\u0275elementStart"](7,"input",78),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).$implicit;return b["\u0275\u0275nextContext"](4).showItemFun(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"div",79),b["\u0275\u0275text"](9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",79),b["\u0275\u0275text"](11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"div",79),b["\u0275\u0275text"](13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"div",79),b["\u0275\u0275text"](15),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"div",79),b["\u0275\u0275text"](17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](18,Bo,2,0,"div",80),b["\u0275\u0275template"](19,Fo,2,0,"div",80),b["\u0275\u0275elementStart"](20,"div",79),b["\u0275\u0275elementStart"](21,"button",81),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).$implicit;return b["\u0275\u0275nextContext"](4).Approval(e)}),b["\u0275\u0275text"](22),b["\u0275\u0275pipe"](23,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"tr",75),b["\u0275\u0275elementStart"](25,"td",82),b["\u0275\u0275elementStart"](26,"div",83),b["\u0275\u0275elementStart"](27,"div",4),b["\u0275\u0275elementStart"](28,"div",79),b["\u0275\u0275elementStart"](29,"div",84),b["\u0275\u0275elementStart"](30,"div",85),b["\u0275\u0275elementStart"](31,"table"),b["\u0275\u0275elementStart"](32,"thead"),b["\u0275\u0275elementStart"](33,"tr",86),b["\u0275\u0275elementStart"](34,"th",64),b["\u0275\u0275text"](35),b["\u0275\u0275pipe"](36,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](37,"th",64),b["\u0275\u0275text"](38),b["\u0275\u0275pipe"](39,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](40,"th",64),b["\u0275\u0275text"](41),b["\u0275\u0275pipe"](42,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"th",64),b["\u0275\u0275text"](44),b["\u0275\u0275pipe"](45,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](46,"th",64),b["\u0275\u0275text"](47),b["\u0275\u0275pipe"](48,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](49,"tbody"),b["\u0275\u0275template"](50,Vo,12,7,"tr",72),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,a=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("src",i.imgSrc,b["\u0275\u0275sanitizeUrl"]),b["\u0275\u0275attribute"]("data-target","#demo"+r),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](null==i?null:i.fromstore),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](null==i?null:i.date),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](null==i?null:i.billno),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](null==i?null:i.username),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](null==i?null:i.totalqty),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang&&1==(null==i?null:i.erpstatus)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang&&1==(null==i?null:i.erpstatus)),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](23,17,"Approval")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275propertyInterpolate1"]("id","demo",r,""),b["\u0275\u0275advance"](9),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](36,19,"ItemCode")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](39,21,"ItemDescription")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](42,23,"Unit")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](45,25,"Pack")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](48,27,"qty")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",i.details)}}function Uo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,Ao,51,29,"tr",72),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.TransferApprovallist)}}function Go(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275elementStart"](1,"tr",87),b["\u0275\u0275elementStart"](2,"td",88),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](4,1,"NoData")))}function $o(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"table",61),b["\u0275\u0275elementStart"](1,"thead",62),b["\u0275\u0275elementStart"](2,"tr",63),b["\u0275\u0275elementStart"](3,"th",64),b["\u0275\u0275text"](4,"\xa0"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"th",65),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).TransferApprovalList("FromStore")}),b["\u0275\u0275elementContainerStart"](6),b["\u0275\u0275element"](7,"i",66),b["\u0275\u0275template"](8,Ro,1,0,"i",67),b["\u0275\u0275template"](9,So,1,0,"i",68),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275text"](10),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](12,"th",65),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).TransferApprovalList("Date")}),b["\u0275\u0275elementContainerStart"](13),b["\u0275\u0275element"](14,"i",66),b["\u0275\u0275template"](15,bo,1,0,"i",67),b["\u0275\u0275template"](16,xo,1,0,"i",68),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"th",65),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).TransferApprovalList("BillNo")}),b["\u0275\u0275elementContainerStart"](20),b["\u0275\u0275element"](21,"i",66),b["\u0275\u0275template"](22,Io,1,0,"i",67),b["\u0275\u0275template"](23,Mo,1,0,"i",68),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"th",65),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).TransferApprovalList("UserName")}),b["\u0275\u0275elementContainerStart"](27),b["\u0275\u0275element"](28,"i",66),b["\u0275\u0275template"](29,Eo,1,0,"i",67),b["\u0275\u0275template"](30,Oo,1,0,"i",68),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275text"](31),b["\u0275\u0275pipe"](32,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"th",65),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).TransferApprovalList("totalQty")}),b["\u0275\u0275elementContainerStart"](34),b["\u0275\u0275element"](35,"i",66),b["\u0275\u0275template"](36,ko,1,0,"i",67),b["\u0275\u0275template"](37,Po,1,0,"i",68),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275text"](38),b["\u0275\u0275pipe"](39,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](40,"th",65),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).TransferApprovalList("erpStatus")}),b["\u0275\u0275elementContainerStart"](41),b["\u0275\u0275element"](42,"i",66),b["\u0275\u0275template"](43,wo,1,0,"i",67),b["\u0275\u0275template"](44,Do,1,0,"i",68),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275text"](45),b["\u0275\u0275pipe"](46,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](47,"th",69),b["\u0275\u0275text"](48,"\xa0"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](49,Uo,2,1,"tbody",1),b["\u0275\u0275template"](50,Go,5,3,"tbody",1),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("hidden","FromStore"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","FromStore"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","FromStore"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](11,26,"FromStore")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("hidden","Date"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Date"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","Date"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](18,28,"SchedualeDate")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("hidden","BillNo"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","BillNo"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","BillNo"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,30,"EntryNo")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("hidden","UserName"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","UserName"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","UserName"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](32,32,"UserName")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("hidden","totalQty"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","totalQty"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","totalQty"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](39,34,"TotalQty")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("hidden","erpStatus"==i.sortColumn),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","erpStatus"==i.sortColumn&&"asc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","erpStatus"==i.sortColumn&&"desc"==i.sortDirection),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](46,36,"Status")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",i.TransferApprovallist.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==i.TransferApprovallist.length)}}function jo(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",89),b["\u0275\u0275elementStart"](1,"ngb-pagination",90),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",91),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).PageSize=e}),b["\u0275\u0275elementStart"](5,"option",92),b["\u0275\u0275text"](6,"10 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",93),b["\u0275\u0275text"](8,"50 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",94),b["\u0275\u0275text"](10,"100 "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",i.PageSize)}}function Wo(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"div",6),b["\u0275\u0275elementStart"](2,"div",7),b["\u0275\u0275elementStart"](3,"div",8),b["\u0275\u0275elementStart"](4,"h6",9),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",10),b["\u0275\u0275elementStart"](8,"div",11),b["\u0275\u0275elementStart"](9,"section"),b["\u0275\u0275elementStart"](10,"div",4),b["\u0275\u0275elementStart"](11,"div",11),b["\u0275\u0275elementStart"](12,"form",12,13),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",14),b["\u0275\u0275elementStart"](16,"div",15),b["\u0275\u0275elementStart"](17,"label",16),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"select",17,18),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Wrapper.fromStore=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().changeFromStoreType(e)}),b["\u0275\u0275template"](22,lo,2,0,"option",19),b["\u0275\u0275template"](23,so,2,0,"option",19),b["\u0275\u0275template"](24,uo,3,3,"option",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"div",14),b["\u0275\u0275elementStart"](26,"div",15),b["\u0275\u0275elementStart"](27,"label",21),b["\u0275\u0275text"](28),b["\u0275\u0275pipe"](29,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"select",22,23),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Wrapper.toStore=e})("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().changeToStoreType(e)}),b["\u0275\u0275template"](32,ho,2,0,"option",19),b["\u0275\u0275template"](33,_o,2,0,"option",19),b["\u0275\u0275template"](34,vo,3,3,"option",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"div",4),b["\u0275\u0275elementStart"](36,"div",14),b["\u0275\u0275elementStart"](37,"div",15),b["\u0275\u0275elementStart"](38,"label",24),b["\u0275\u0275text"](39),b["\u0275\u0275pipe"](40,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"input",25,26),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Wrapper.fromDate=e}),b["\u0275\u0275pipe"](43,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"div",14),b["\u0275\u0275elementStart"](45,"div",15),b["\u0275\u0275elementStart"](46,"label",27),b["\u0275\u0275text"](47),b["\u0275\u0275pipe"](48,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](49,"input",28,29),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Wrapper.toDate=e}),b["\u0275\u0275pipe"](51,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"div",14),b["\u0275\u0275elementStart"](54,"div",15),b["\u0275\u0275elementStart"](55,"label",30),b["\u0275\u0275text"](56),b["\u0275\u0275pipe"](57,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"input",31,32),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Wrapper.fromScheduleDate=e}),b["\u0275\u0275pipe"](60,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](61,"div",14),b["\u0275\u0275elementStart"](62,"div",15),b["\u0275\u0275elementStart"](63,"label",33),b["\u0275\u0275text"](64),b["\u0275\u0275pipe"](65,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](66,"input",34,35),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Wrapper.toScheduleDate=e}),b["\u0275\u0275pipe"](68,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](69,"div",4),b["\u0275\u0275elementStart"](70,"div",36),b["\u0275\u0275elementStart"](71,"button",37),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().preview()}),b["\u0275\u0275element"](72,"i",38),b["\u0275\u0275text"](73),b["\u0275\u0275pipe"](74,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](75,"div",39),b["\u0275\u0275elementStart"](76,"div",40),b["\u0275\u0275elementStart"](77,"div",41),b["\u0275\u0275template"](78,yo,4,3,"button",42),b["\u0275\u0275elementStart"](79,"button",43),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnPrint(1)}),b["\u0275\u0275element"](80,"i",38),b["\u0275\u0275text"](81),b["\u0275\u0275pipe"](82,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](83,"button",44),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnExcel()}),b["\u0275\u0275element"](84,"i",38),b["\u0275\u0275text"](85),b["\u0275\u0275pipe"](86,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](87,"div",45),b["\u0275\u0275elementStart"](88,"div",46),b["\u0275\u0275elementStart"](89,"label",47),b["\u0275\u0275text"](90),b["\u0275\u0275pipe"](91,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](92,"input",48,49),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._Wrapper.searchValue=e})("keyup",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().TransferApprovalSearch()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](94,"div",4),b["\u0275\u0275elementStart"](95,"div",50),b["\u0275\u0275elementStart"](96,"div",51),b["\u0275\u0275elementStart"](97,"div",52),b["\u0275\u0275elementStart"](98,"div",53),b["\u0275\u0275template"](99,Co,1,0,"img",54),b["\u0275\u0275template"](100,$o,51,38,"table",55),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](101,jo,12,7,"div",56),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,28,"Transfer Approval"),""),b["\u0275\u0275advance"](13),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,30,"FromStore")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",i._Wrapper.fromStore),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",i.StoreList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](29,32,"ToStore")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",i._Wrapper.toStore),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",i.StoreList),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](40,34,"fromDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](43,36,i._Wrapper.fromDate,"yyyy-MM-dd")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](48,39,"toDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](51,41,i._Wrapper.toDate,"yyyy-MM-dd")),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](57,44,"fromScheduleDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](60,46,i._Wrapper.fromScheduleDate,"yyyy-MM-dd")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](65,49,"toSchedule_Date")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](68,51,i._Wrapper.toScheduleDate,"yyyy-MM-dd")),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](74,54,"Search")," "),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(8813)),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](82,56,"pdf")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](86,58,"Excel")," "),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](91,60,"Search"),":"),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",i._Wrapper.searchValue),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngIf",i.isloading),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!i.isloading),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var zo=function(){var e=function(){function e(t,n,i,r,a,c,l,s,d,p,m,u,h,_,g,f){var v=this;o(this,e),this._TransferApprovalService=t,this._ReceiptSharedService=n,this.cd=i,this.toastr=r,this._generalService=a,this.translate=c,this._translateGlobalService=l,this.spinner=s,this._router=p,this._authService=m,this._printService=u,this._Excel=h,this._convertToPDF=_,this.datepipe=g,this.location=f,this.subsidiaryID=0,this.StoreList=[],this.TransferApprovallist=[],this.isloading=!1,this.SaveMsg="",this.swalSubmitConfirmButtonText="",this.PageSize=10,this.totalCount=0,this.PageNo=1,this.title="",this.invalidDateMsg="",this.NoDataMsg="",this.ToStoreErrorMsg="",this.FromStoreErrorMsg="",this.dateErrorMsg="",this.imgSrc="../../../../assets/img/datatables/details_open.png",this.ApproveSucc="",this.Cancel="",this.Warning23="",this.qtyErrorMsg="",this.close="",this._Wrapper=new oo,this.filterData=new oo,this._Receipt=new C.tY,this.LinkedReceipt=new C.Cb,this.subsidiaryID=this._generalService.SubsidiaryID,this.GetStoreList(),this.GetAllInventroySettingsBySubSidary(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang)}),this._UserLogin=this._authService.userInfo(),d.params.subscribe(function(e){v._Wrapper.toStore=null!=e.tostore?e.tostore:null,v.preview()}),this.ngTransUnsubscribe=this.translate.get(["Transfer Approval","invalidDateMsg","swalSubmitConfirmButtonText","SaveMsg","NoDataMsg","dateErrorMsg","ToStoreErrorMsg","FromStoreErrorMsg","ApproveSucc","Cancel","Warning23","TransferTransactionHasNegativeQtyMessage","Close"]).subscribe(function(e){v.title=e["Transfer Approval"],document.title=v.title,v.invalidDateMsg=e.invalidDateMsg,v.swalSubmitConfirmButtonText=e.swalSubmitConfirmButtonText,v.SaveMsg=e.SaveMsg,v.NoDataMsg=e.NoDataMsg,v.dateErrorMsg=e.dateErrorMsg,v.ToStoreErrorMsg=e.ToStoreErrorMsg,v.FromStoreErrorMsg=e.FromStoreErrorMsg,v.ApproveSucc=e.ApproveSucc,v.Cancel=e.Cancel,v.Warning23=e.Warning23,v.qtyErrorMsg=e.TransferTransactionHasNegativeQtyMessage,v.close=e.Close}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){v.subsidiaryID=v._generalService.SubsidiaryID,v.GetAllInventroySettingsBySubSidary()})}return a(e,[{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t})}},{key:"preview",value:function(){this._Wrapper.lang=this.lang,this._Wrapper.SubsidaryId=this.subsidiaryID,this.filterData=Object.assign({},this._Wrapper),this._Wrapper.toDate<this._Wrapper.fromDate&&""!=this._Wrapper.fromDate&&""!=this._Wrapper.toDate||this._Wrapper.toScheduleDate<this._Wrapper.fromScheduleDate&&""!=this._Wrapper.fromScheduleDate&&""!=this._Wrapper.toScheduleDate?this.toastr.error(this.invalidDateMsg):(null!=this._Wrapper.fromStore&&"null"!=this._Wrapper.fromStore||(this.filterData.fromStore=0),null!=this._Wrapper.toStore&&"null"!=this._Wrapper.toStore||(this.filterData.toStore=0),this.totalCount=0,this.PageNo=1,this.PageSize=10,this.TransferApprovalList(),this.TransferApprovalCount())}},{key:"TransferApprovalSearch",value:function(){this._Wrapper.lang=this.lang,this.filterData&&(this.filterData.searchValue=this._Wrapper.searchValue.trim(),this.TransferApprovalList(),this.TransferApprovalCount())}},{key:"TransferApprovalList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;0!==Object.keys(this.filterData).length&&(this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc",null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this.filterData.orderby=this.sortColumn+"."+this.sortDirection),this.isloading=!0,this._TransferApprovalService.TransferApprovalList(this.filterData).subscribe(function(t){e.TransferApprovallist=t,console.log(t),e.TransferApprovallist.map(function(t){console.log(t),t.imgSrc=e.imgSrc}),e.isloading=!1,e.cd.markForCheck()}))}},{key:"TransferApprovalCount",value:function(){var e=this;this._TransferApprovalService.TransferApprovalCount(this.filterData).subscribe(function(t){e.totalCount=t[0].total,console.log(t),e.cd.markForCheck()})}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._TransferApprovalService.GetAllActiveStoreBySubsID(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],console.log(e.StoreList),e.StoreList=t,e.cd.markForCheck()})}},{key:"changeToStoreType",value:function(e){this._Wrapper.fromStore==this._Wrapper.toStore&&(this.toastr.error(this.ToStoreErrorMsg),this._Wrapper.toStore=null,this.cd.markForCheck())}},{key:"changeFromStoreType",value:function(e){this._Wrapper.fromStore==this._Wrapper.toStore&&(this.toastr.error(this.FromStoreErrorMsg),this._Wrapper.fromStore=null,this.cd.markForCheck())}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0645\u0646 \u0645\u062e\u0632\u0646":"FromStore",a="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062c\u062f\u0648\u0644 \u0627\u0644\u0632\u0645\u0646\u064a":"Scheduale Date",c="ar"==this.lang?"\u0623\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":"User Name",l="ar"==this.lang?"\u0625\u062c\u0645\u0627\u0644\u0649 \u0627\u0644\u0643\u0645\u064a\u0629":"Total Qty",s="ar"==this.lang?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status";this.filterData.EntryNo=null==this.filterData.EntryNo?0:this.filterData.EntryNo,this._TransferApprovalService.TransferApprovalList(this.filterData).subscribe(function(d){e.cd.markForCheck(),n='\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>').concat(r,"</th>\n                     <th>").concat(o,"</th>\n                     <th>").concat(a,"</th>\n                     <th>").concat(c,"</th>\n                     <th>").concat(l,"</th>\n                     <th>").concat(s,"</th>\n                   </tr>\n                 </thead>\n             <tbody>\n         "),d.map(function(t){var i="",r="";1==t.erpstatus?(i="New",r="\u062c\u062f\u064a\u062f "):2==t.erpstatus?(i="PartiallyReceived",r="\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"):3==t.erpstatus?(i="Received",r="\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"):(i="",r=""),n+="\n        <tr>\n         <td>".concat(t.fromstore,"</td>\n         <td>").concat(t.date,"</td>\n         <td>").concat(t.billno,"</td>\n         <td>").concat(t.username,"</td>\n         <td>").concat(t.totalqty,"</td>\n         <td>").concat("ar"==e.lang?r:i,"</td>\n        </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this.filterData.take=this.totalCount,this.filterData.EntryNo=null==this.filterData.EntryNo?0:this.filterData.EntryNo,this._TransferApprovalService.TransferApprovalList(this.filterData).subscribe(function(n){n.forEach(function(n){var i="";1==n.erpstatus?("New",i="\u062c\u062f\u064a\u062f "):2==n.erpstatus?("PartiallyReceived",i="\u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645 \u0627\u0644\u062c\u0632\u0626\u064a"):3==n.erpstatus?("Received",i="\u062a\u0645 \u0627\u0644\u0627\u0633\u062a\u0644\u0627\u0645"):("",i=""),t.push("ar"==e.lang?{"\u0645\u0646 \u0645\u062e\u0632\u0646":n.fromstore,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062c\u062f\u0648\u0644 \u0627\u0644\u0632\u0645\u0646\u064a":n.date,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.billno,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645":n.username,"\u0627\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0643\u0645\u064a\u0629":n.totalqty,"\u0627\u0644\u062d\u0627\u0644\u0629":i}:{"From Store":n.fromstore,"Scheduale Date":n.date,"Entry No":n.billno,"User Name":n.username,"Total Qty":n.totalqty,Status:i})}),e._Excel.exportAsExcelFile(t,"transferrequests")})}},{key:"showItemFun",value:function(e){"../../../../assets/img/datatables/details_open.png"==e.imgSrc?(e.imgSrc="../../../../assets/img/datatables/details_close.png",this.GetReceiptDetails(e)):e.imgSrc="../../../../assets/img/datatables/details_open.png"}},{key:"GetReceiptDetails",value:function(e){var t=this;this._TransferApprovalService.GetReceiptDetails(e.id).subscribe(function(n){e.details=n,t.cd.markForCheck()})}},{key:"Approval",value:function(e){var t=this;this.spinner.show(),this._TransferApprovalService.Approval(e.id,this.InventorySetting[0].physicalnegativeinventoryid).subscribe(function(n){"ValidQty"==n?(t.spinner.hide(),Le().fire({text:t.qtyErrorMsg,showCancelButton:!1,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:t.close,customClass:{confirmButton:"btn btn-danger",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){})):null!=n.reciptdata?(t._Receipt=n.reciptdata.receipt,t._Receipt.receiving=1!=t.InventorySetting[0].receivetransfers,t.ReceiptID=t._Receipt.id,t.LinkedReceipt.code=80,t.LinkedReceipt.branch_id=t._Receipt.branch_id,t.LinkedReceipt.subsidiaryid=t._Receipt.subsidiaryid,t.LinkedReceipt.entry_no=t._Receipt.entry_no,t.LinkedReceipt.receiptid=t.ReceiptID,t._Receipt.linkedreceipts=[],t._Receipt.linkedreceipts.push(t.LinkedReceipt),t._Receipt.entry_date=t.datepipe.transform(n.newprop.newentry_date,"yyyy-MM-dd"),t._Receipt.entry_time=t.datepipe.transform(n.newprop.newentry_date,"HH:mm:aa"),t._Receipt.entry_no=n.newprop.newentry_no,t._Receipt.code=81,n.reciptdata.items.forEach(function(e,i){e.rowno=i,3==e.item_type&&n.reciptdata.itemcomponents.filter(function(t){return t.finishedproductid==e.item_id&&t.finishedreceipt_did==e.id}).forEach(function(e,n){e.rowno=n,e.parentrowno=i,e.id=null,e.parent_id=null,e.transaction_move=1==t.InventorySetting[0].receivetransfers?0:-1,e.finishedreceipt_did=null}),e.id=null,e.parent_id=null,e.transaction_move=1==t.InventorySetting[0].receivetransfers?0:-1}),t._Receipt.details=n.reciptdata.items,t._Receipt.itemscomponent=n.reciptdata.itemcomponents,t._Receipt.receiptmultipayment=n.reciptdata.receiptmultipayment,t.SaveReceipt(),console.log(n,"Result"),t.cd.markForCheck()):(t._ReceiptSharedService.UpdateTransferStatus(e.id,t.subsidiaryID).subscribe(function(e){t.spinner.hide(),alert("Something is wrong"),t.TransferApprovalSearch()}),console.log(n))})}},{key:"SaveReceipt",value:function(){var e=this;this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US");var t=this._Receipt.details.filter(function(e){return 3!=e.item_type});this._OppositDetailsReceipt=t.map(function(t){return Object.assign({},t,{store_id:e._Receipt.tostoreid,transaction_move:1==e.InventorySetting[0].receivetransfers?0:1,id:null})}),this.OppositItemsComponentList=this._Receipt.itemscomponent.map(function(t){return Object.assign({},t,{store_id:e._Receipt.tostoreid,transaction_move:1==e.InventorySetting[0].receivetransfers?0:1,id:null})}),this._OppositDetailsReceipt.forEach(function(t){e._Receipt.details.push(t)}),this.OppositItemsComponentList.forEach(function(t){e._Receipt.itemscomponent.push(t)}),this._Receipt.id=0,null!=this._Receipt.id&&0!=this._Receipt.id||this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.spinner.hide(),Le().fire({text:e.ApproveSucc,showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.Warning23,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?(window.open("/page/inventorytransfers/transfergood/".concat(t.id),"_blank"),e.TransferApprovalSearch(),e.cd.markForCheck()):(e.TransferApprovalSearch(),e.cd.markForCheck())})})}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"onPageChange",value:function(e){this.filterData.skip=e,this.PageNo=e,this.TransferApprovalSearch()}},{key:"onPageSizeChange",value:function(e){this.filterData.take=e,this.PageSize=e,this.TransferApprovalSearch()}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](ao),b["\u0275\u0275directiveInject"](R.t),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](x._W),b["\u0275\u0275directiveInject"](I.m),b["\u0275\u0275directiveInject"](u.sK),b["\u0275\u0275directiveInject"](M.K),b["\u0275\u0275directiveInject"](E.t2),b["\u0275\u0275directiveInject"](m.gz),b["\u0275\u0275directiveInject"](m.F0),b["\u0275\u0275directiveInject"](O.e),b["\u0275\u0275directiveInject"](k.$),b["\u0275\u0275directiveInject"](P.x),b["\u0275\u0275directiveInject"](w.z),b["\u0275\u0275directiveInject"](c.uU),b["\u0275\u0275directiveInject"](c.Ye))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-transferapproval"]],features:[b["\u0275\u0275ProvidersFeature"]([ao,S.J,R.t,c.uU])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],["method","POST","role","form"],["RForm","ngForm"],[1,"col-lg-6","col-md-6","col-sm-12"],[1,"form-group"],["for","fromStore",1,"col-form-label"],["name","fromStore",1,"form-control",3,"ngModel","ngModelChange","change"],["fromStore","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","toStore",1,"col-form-label"],["name","toStore",1,"form-control",3,"ngModel","ngModelChange","change"],["toStore","ngModel"],["for","fromDate"],["type","date","id","fromDate","name","fromDate",1,"form-control",3,"ngModel","ngModelChange"],["fromDate","ngModel"],["for","toDate"],["type","date","id","toDate","name","toDate",1,"form-control",3,"ngModel","ngModelChange"],["toDate","ngModel"],["for","fromScheduleDate"],["type","date","id","fromScheduleDate","name","fromScheduleDate",1,"form-control",3,"ngModel","ngModelChange"],["fromScheduleDate","ngModel"],["for","toScheduleDate"],["type","date","id","toScheduleDate","name","toScheduleDate",1,"form-control",3,"ngModel","ngModelChange"],["toScheduleDate","ngModel"],[1,"search-filter"],["type","button",1,"btn","btn-success","mt-3","btn-md","btn-block",3,"click"],[1,""],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-warning mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],["src","../../../../assets/img/loading/loading.gif",4,"ngIf"],["class","table text-center m-0 table table-striped","id","Transfer",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],["Value","null"],[3,"value"],[1,"btn","btn-warning","mb-0","ng-star-inserted",3,"click"],["src","../../../../assets/img/loading/loading.gif"],["id","Transfer",1,"table","text-center","m-0","table","table-striped"],[2,"background-color","#80808030"],[2,"color","#7b809a"],["scope","col"],["scope","col",3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["scope","col","width","18%"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["colspan","12"],[1,"col",2,"border","none","padding","0","margin","0","background","none !important"],[2,"border","none","padding","0","margin","0","background","none !important"],["colspan","12",2,"border","none","padding","0","margin","0","background","none !important"],[1,"row","col"],["type","image","data-toggle","collapse",3,"src","click"],[1,"col"],["class","col",4,"ngIf"],[1,"btn","btn-success",3,"click"],["colspan","4",2,"border","none !important"],[1,"collapse","multi-collapse",3,"id"],[1,"card","card-body"],[1,"col-sm-8"],[2,"background","#e9f1f5","color","cornflowerblue"],[2,"background-color","#b0bed9"],["colspan","8"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,co,4,3,"div",0),b["\u0275\u0275template"](1,Wo,102,62,"div",1),b["\u0275\u0275elementStart"](2,"ngx-spinner",2),b["\u0275\u0275elementStart"](3,"p",3),b["\u0275\u0275text"](4,"Loading..."),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngIf",!t.checkRoleParms(8754)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(8754)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("fullScreen",!0))},directives:[c.O5,E.Ro,s._Y,s.JL,s.F,s.EJ,s.JJ,s.On,c.sg,s.Fj,s.YN,s.Kr,B.N9],pipes:[u.X$,c.uU],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}td.details-control[_ngcontent-%COMP%]{cursor:pointer}div.col[_ngcontent-%COMP%]{padding:0;margin:0}th[_ngcontent-%COMP%]{padding-left:0;margin-left:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.search-filter[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:10%}']}),e}();function Jo(e){return new h.z(e,[{prefix:"assets/i18n/Inventory/",suffix:".json"},{prefix:"assets/i18n/Receivable/",suffix:".json"},{prefix:"assets/i18n/shared/",suffix:".json"}])}var Qo,Yo=[{path:"transfergood",component:Be},{path:"transfergood/:id",component:Qn},{path:"transfergood/:id/:show",component:Qn},{path:"transfergood/:id/:storeid/:vendorid/:items",component:Qn},{path:"transferrequest",component:Ki},{path:"transferrequest/:id",component:ro},{path:"transferrequest/:id/:show",component:ro},{path:"transferapproval",component:zo},{path:"transferapproval/:tostore",component:zo}],Ho=((Qo=function e(){o(this,e)}).\u0275fac=function(e){return new(e||Qo)},Qo.\u0275mod=b["\u0275\u0275defineNgModule"]({type:Qo}),Qo.\u0275inj=b["\u0275\u0275defineInjector"]({providers:[u.gM,u.sK,c.uU],imports:[[s.u5,c.ez,l.m,s.UX,p.WN,g.o6,u.aw.forChild({loader:{provide:u.Zw,useFactory:Jo,deps:[d.eN]},extend:!0}),m.Bz.forChild(Yo),_.xc,v.d,f.fi.forRoot()]]}),Qo)}}])}();
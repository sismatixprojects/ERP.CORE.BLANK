(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["src_app_page_HR_ManageVacationsModule_HrManageVacations_module_ts"],{64093:function(e,t,n){"use strict";n.r(t),n.d(t,{HrManageVacationsModule:function(){return Wn},childLoaderFactory:function(){return $n}});var a=n(61511),i=n(59218),l=n(45593),o=n(16073),r=n(29063),s=n(53544),c=n(88402),d=n(96898),p=n(48160),m=n(20180),h=n(64802),u=n(33398),y=n(93559),g=n(25122),f=n(31572);let v=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-vacations-home"]],decls:3,vars:0,consts:[[1,"sub-home-page-cont"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",0),f["\u0275\u0275element"](1,"br"),f["\u0275\u0275element"](2,"br"),f["\u0275\u0275elementEnd"]())},styles:[""]}),e})();var S=n(529),D=n(79996);let b=(()=>{class e{constructor(e){this.http=e,this.baseUrl=S.N.apiUrl}GetAll(e){return this.http.post(this.baseUrl+"/StartUpVacationsBalances/GetAll",e).pipe((0,D.U)(e=>e))}CountOfStartUpVacationsBalances(e){return this.http.post(this.baseUrl+"/StartUpVacationsBalances/CountOfStartUpVacationsBalances",e).pipe((0,D.U)(e=>e))}GetStaticValues(e){return this.http.get(this.baseUrl+`/StartUpVacationsBalances/GetStaticValues?listDescription=${e}`).pipe((0,D.U)(e=>e))}Update(e){return this.http.post(this.baseUrl+"/StartUpVacationsBalances/Update",e).pipe((0,D.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275inject"](r.eN))},e.\u0275prov=f["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var x=n(97441),V=n(78216),E=n(30445),I=n(57897),C=n(40925);class B{constructor(){this.workingstatuss=[],this.jobsites=[],this.sections=[],this.departments=[],this.contracttypes=[],this.employees=[],this.subsidaryid=null,this.pagenum=null,this.pagesize=null,this.searchvalue="",this.orderby=""}}var O=n(66687),_=n(22501),M=n.n(_),k=n(7427),P=n(25181),w=n(71825),T=n(76757),N=n(77915),F=n(72796),L=n(62120),A=n(16395),R=n(4705),G=n(63567),U=n(5851);function j(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",2),f["\u0275\u0275elementStart"](1,"h1"),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function $(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",39),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).OnSave()}),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()}2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"Save")," "))}function Y(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",40),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).OnPrint()}),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()}2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"Print")," "))}function W(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",41),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).OnPrint(1)}),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()}2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"pdf")," "))}function z(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",42),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).OnExcel()}),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()}2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"Excel")," "))}function q(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function H(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function K(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,q,1,0,"i",44),f["\u0275\u0275template"](3,H,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.Code),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.Code&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.Code&&"desc"==e.sortDirection)}}function J(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function Q(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function X(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,J,1,0,"i",44),f["\u0275\u0275template"](3,Q,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.Code),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.Code&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.Code&&"desc"==e.sortDirection)}}function Z(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function ee(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function te(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,Z,1,0,"i",44),f["\u0275\u0275template"](3,ee,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.FullName_ar),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.FullName_ar&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.FullName_ar&&"desc"==e.sortDirection)}}function ne(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function ae(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function ie(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,ne,1,0,"i",44),f["\u0275\u0275template"](3,ae,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.FullName_ar),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.FullName_ar&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.FullName_ar&&"desc"==e.sortDirection)}}function le(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function oe(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function re(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,le,1,0,"i",44),f["\u0275\u0275template"](3,oe,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.VacationDaysBalance),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationDaysBalance&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationDaysBalance&&"desc"==e.sortDirection)}}function se(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function ce(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function de(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,se,1,0,"i",44),f["\u0275\u0275template"](3,ce,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.VacationDaysBalance),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationDaysBalance&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationDaysBalance&&"desc"==e.sortDirection)}}function pe(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function me(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function he(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,pe,1,0,"i",44),f["\u0275\u0275template"](3,me,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.VacationSalary),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationSalary&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationSalary&&"desc"==e.sortDirection)}}function ue(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function ye(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function ge(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,ue,1,0,"i",44),f["\u0275\u0275template"](3,ye,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.VacationSalary),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationSalary&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationSalary&&"desc"==e.sortDirection)}}function fe(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function ve(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function Se(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,fe,1,0,"i",44),f["\u0275\u0275template"](3,ve,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.BalanceAmounts),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.BalanceAmounts&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.BalanceAmounts&&"desc"==e.sortDirection)}}function De(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function be(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function xe(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,De,1,0,"i",44),f["\u0275\u0275template"](3,be,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.BalanceAmounts),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.BalanceAmounts&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.BalanceAmounts&&"desc"==e.sortDirection)}}function Ve(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function Ee(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function Ie(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,Ve,1,0,"i",44),f["\u0275\u0275template"](3,Ee,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.VacationSTPDaysSubtracted),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationSTPDaysSubtracted&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationSTPDaysSubtracted&&"desc"==e.sortDirection)}}function Ce(e,t){1&e&&f["\u0275\u0275element"](0,"i",46)}function Be(e,t){1&e&&f["\u0275\u0275element"](0,"i",47)}function Oe(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275element"](1,"i",43),f["\u0275\u0275template"](2,Ce,1,0,"i",44),f["\u0275\u0275template"](3,Be,1,0,"i",45),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("hidden",e.sortColumn==e.VacationSTPDaysSubtracted),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationSTPDaysSubtracted&&"asc"==e.sortDirection),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.sortColumn==e.VacationSTPDaysSubtracted&&"desc"==e.sortDirection)}}function _e(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](null==e?null:e.fullname_ar)}}function Me(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](null==e?null:e.fullname_en)}}function ke(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275elementStart"](1,"tr",48),f["\u0275\u0275elementStart"](2,"td"),f["\u0275\u0275elementStart"](3,"div"),f["\u0275\u0275elementStart"](4,"span"),f["\u0275\u0275text"](5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"td"),f["\u0275\u0275elementStart"](7,"div"),f["\u0275\u0275template"](8,_e,2,1,"span",1),f["\u0275\u0275template"](9,Me,2,1,"span",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](10,"td"),f["\u0275\u0275elementStart"](11,"div"),f["\u0275\u0275elementStart"](12,"input",49),f["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.vacationdaysbalance=e})("change",function(){const t=f["\u0275\u0275restoreView"](e).$implicit;return f["\u0275\u0275nextContext"](2).clculateBalanceAmounts(t)}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"td"),f["\u0275\u0275elementStart"](14,"div"),f["\u0275\u0275elementStart"](15,"input",50),f["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.vacationsalary=e})("change",function(){const t=f["\u0275\u0275restoreView"](e).$implicit;return f["\u0275\u0275nextContext"](2).clculateBalanceAmounts(t)}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](16,"td"),f["\u0275\u0275elementStart"](17,"div",51),f["\u0275\u0275elementStart"](18,"span"),f["\u0275\u0275text"](19),f["\u0275\u0275pipe"](20,"number"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](21,"td"),f["\u0275\u0275elementStart"](22,"div"),f["\u0275\u0275elementStart"](23,"input",52),f["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.vacationstpdayssubtracted=e})("change",function(){const t=f["\u0275\u0275restoreView"](e).$implicit;return f["\u0275\u0275nextContext"](2).formateVacationstpDaysSubtracted(t)}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](null==e?null:e.code),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngModel",e.vacationdaysbalance),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngModel",e.vacationsalary),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind2"](20,7,null==e?null:e.balanceamounts,"1.3-3")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngModel",e.vacationstpdayssubtracted)}}function Pe(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",53),f["\u0275\u0275elementStart"](1,"ngb-pagination",54),f["\u0275\u0275listener"]("pageChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).PageNoChange(t)})("pageChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).PageNo=t}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](2,"p"),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"select",55),f["\u0275\u0275listener"]("change",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).PageSize=t}),f["\u0275\u0275elementStart"](5,"option",56),f["\u0275\u0275text"](6,"10 items per page"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"option",57),f["\u0275\u0275text"](8,"20 items per page"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"option",58),f["\u0275\u0275text"](10,"50 items per page"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](11,"option",59),f["\u0275\u0275text"](12,"100 items per page"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](13,"br"),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngModel",e.PageSize)}}const we=function(){return{minWidth:"100%",maxWidth:"100%"}};function Te(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"section"),f["\u0275\u0275elementStart"](1,"div",3),f["\u0275\u0275elementStart"](2,"div",4),f["\u0275\u0275elementStart"](3,"div",5),f["\u0275\u0275elementStart"](4,"h6",6),f["\u0275\u0275text"](5),f["\u0275\u0275pipe"](6,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"div",7),f["\u0275\u0275elementStart"](8,"div",8),f["\u0275\u0275elementStart"](9,"div",9),f["\u0275\u0275elementStart"](10,"div",10),f["\u0275\u0275elementStart"](11,"div",11),f["\u0275\u0275elementStart"](12,"label",12),f["\u0275\u0275text"](13),f["\u0275\u0275pipe"](14,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"p-multiSelect",13),f["\u0275\u0275listener"]("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().workingstatuss=t}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](16,"div",10),f["\u0275\u0275elementStart"](17,"div",11),f["\u0275\u0275elementStart"](18,"label",14),f["\u0275\u0275text"](19),f["\u0275\u0275pipe"](20,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](21,"p-multiSelect",15),f["\u0275\u0275listener"]("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().jobsites=t}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](22,"div",10),f["\u0275\u0275elementStart"](23,"div",11),f["\u0275\u0275elementStart"](24,"label",16),f["\u0275\u0275text"](25),f["\u0275\u0275pipe"](26,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](27,"p-multiSelect",17),f["\u0275\u0275listener"]("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().sections=t}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](28,"div",10),f["\u0275\u0275elementStart"](29,"div",11),f["\u0275\u0275elementStart"](30,"label",18),f["\u0275\u0275text"](31),f["\u0275\u0275pipe"](32,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](33,"p-multiSelect",19),f["\u0275\u0275listener"]("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().departments=t}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](34,"div",10),f["\u0275\u0275elementStart"](35,"div",11),f["\u0275\u0275elementStart"](36,"label",20),f["\u0275\u0275text"](37),f["\u0275\u0275pipe"](38,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](39,"p-multiSelect",21),f["\u0275\u0275listener"]("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().contracttypes=t}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](40,"div",10),f["\u0275\u0275elementStart"](41,"div",11),f["\u0275\u0275elementStart"](42,"label",22),f["\u0275\u0275text"](43),f["\u0275\u0275pipe"](44,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](45,"p-multiSelect",23),f["\u0275\u0275listener"]("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().employees=t}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](46,"div",24),f["\u0275\u0275elementStart"](47,"button",25),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().NotToMissData("search")}),f["\u0275\u0275text"](48),f["\u0275\u0275pipe"](49,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](50,"button",25),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().NotToMissData("reset")}),f["\u0275\u0275text"](51),f["\u0275\u0275pipe"](52,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](53,$,3,3,"button",26),f["\u0275\u0275template"](54,Y,3,3,"button",27),f["\u0275\u0275template"](55,W,3,3,"button",28),f["\u0275\u0275template"](56,z,3,3,"button",29),f["\u0275\u0275elementStart"](57,"div",30),f["\u0275\u0275elementStart"](58,"div",31),f["\u0275\u0275elementStart"](59,"label",32),f["\u0275\u0275text"](60),f["\u0275\u0275pipe"](61,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](62,"input",33,34),f["\u0275\u0275listener"]("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().searchValue=t})("keyup",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().OnKeyupFinish()}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](64,"table",35),f["\u0275\u0275elementStart"](65,"thead"),f["\u0275\u0275elementStart"](66,"th",36),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().SortBy("Code")}),f["\u0275\u0275text"](67),f["\u0275\u0275pipe"](68,"translate"),f["\u0275\u0275template"](69,K,4,3,"ng-container",1),f["\u0275\u0275template"](70,X,4,3,"ng-container",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](71,"th",36),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().SortBy("FullName_ar")}),f["\u0275\u0275text"](72),f["\u0275\u0275pipe"](73,"translate"),f["\u0275\u0275template"](74,te,4,3,"ng-container",1),f["\u0275\u0275template"](75,ie,4,3,"ng-container",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](76,"th",36),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().SortBy("VacationDaysBalance")}),f["\u0275\u0275text"](77),f["\u0275\u0275pipe"](78,"translate"),f["\u0275\u0275template"](79,re,4,3,"ng-container",1),f["\u0275\u0275template"](80,de,4,3,"ng-container",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](81,"th",36),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().SortBy("VacationSalary")}),f["\u0275\u0275text"](82),f["\u0275\u0275pipe"](83,"translate"),f["\u0275\u0275template"](84,he,4,3,"ng-container",1),f["\u0275\u0275template"](85,ge,4,3,"ng-container",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](86,"th",36),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().SortBy("BalanceAmounts")}),f["\u0275\u0275text"](87),f["\u0275\u0275pipe"](88,"translate"),f["\u0275\u0275template"](89,Se,4,3,"ng-container",1),f["\u0275\u0275template"](90,xe,4,3,"ng-container",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](91,"th",36),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().SortBy("VacationSTPDaysSubtracted")}),f["\u0275\u0275text"](92),f["\u0275\u0275pipe"](93,"translate"),f["\u0275\u0275template"](94,Ie,4,3,"ng-container",1),f["\u0275\u0275template"](95,Oe,4,3,"ng-container",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](96,"tbody"),f["\u0275\u0275template"](97,ke,24,10,"ng-container",37),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](98,Pe,14,7,"div",38),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](6,70,"StartUpVacationsBalances")," "),f["\u0275\u0275advance"](8),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](14,72,"workingstatus")),f["\u0275\u0275advance"](2),f["\u0275\u0275styleMap"](f["\u0275\u0275pureFunction0"](102,we)),f["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==e.lang?"name_ar":"name"),f["\u0275\u0275property"]("ngModel",e.workingstatuss)("options",e.EmployeeStatusList)("filter",!1),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](20,74,"BanksBranch")),f["\u0275\u0275advance"](2),f["\u0275\u0275styleMap"](f["\u0275\u0275pureFunction0"](103,we)),f["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==e.lang?"name_ar":"name"),f["\u0275\u0275property"]("ngModel",e.jobsites)("options",e.jobSiteList)("filter",!1),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](26,76,"sectionid")),f["\u0275\u0275advance"](2),f["\u0275\u0275styleMap"](f["\u0275\u0275pureFunction0"](104,we)),f["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==e.lang?"name_ar":"name"),f["\u0275\u0275property"]("ngModel",e.sections)("options",e.sectionList)("filter",!1),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](32,78,"department")),f["\u0275\u0275advance"](2),f["\u0275\u0275styleMap"](f["\u0275\u0275pureFunction0"](105,we)),f["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==e.lang?"name_ar":"name"),f["\u0275\u0275property"]("ngModel",e.departments)("options",e.departmentList)("filter",!1),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](38,80,"contracttypeid")),f["\u0275\u0275advance"](2),f["\u0275\u0275styleMap"](f["\u0275\u0275pureFunction0"](106,we)),f["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==e.lang?"name_ar":"name"),f["\u0275\u0275property"]("ngModel",e.contracttypes)("options",e.contractTypeList)("filter",!1),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](44,82,"employeeid")),f["\u0275\u0275advance"](2),f["\u0275\u0275styleMap"](f["\u0275\u0275pureFunction0"](107,we)),f["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==e.lang?"name_ar":"name"),f["\u0275\u0275property"]("ngModel",e.employees)("options",e.employeeList),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](49,84,"Search")," "),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](52,86,"Reset")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",e.checkRoleParms(416)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.checkRoleParms(417)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.checkRoleParms(418)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.checkRoleParms(419)),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](61,88,"Search")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",e.searchValue),f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](68,90,"code")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf","ar"!=e.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==e.lang),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](73,92,"name")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf","ar"!=e.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==e.lang),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](78,94,"VacationDaysBalance")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf","ar"!=e.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==e.lang),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](83,96,"VacationSalary")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf","ar"!=e.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==e.lang),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](88,98,"BalanceAmounts")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf","ar"!=e.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==e.lang),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](93,100,"VacationSTPDaysSubtracted")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf","ar"!=e.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==e.lang),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",e.StartUpBalanceList),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let Ne=(()=>{class e{constructor(e,t,n,a,i,l,o,r,s,c,d,p,m,h,u,y,g){this._startUpVacationsBalancesService=e,this._generalService=t,this.router=n,this.route=a,this.toastr=i,this.cdr=l,this._printService=o,this._Excel=r,this._convertToPDF=s,this._authService=c,this._TranslateGlobalService=d,this.translate=p,this._sectionsService=m,this._contractTypesService=h,this._branchService=u,this._departmentService=y,this._employeesService=g,this.totalCount=0,this.subsidaryid=0,this.ID=0,this.errormsg="",this.Cancel="",this.DataSavedsuccessfully="",this.NoDataToSave="",this.Yes="",this.No="",this.MissData="",this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this._StartUpVacationsBalanceSearchParameters=new B,this._searchModel=new C.h,this._filterAttribute=new O.M,this.StartUpBalanceList=[],this.OldStartUpBalanceList="[]",this.workingstatuss=[],this.jobsites=[],this.sections=[],this.departments=[],this.contracttypes=[],this.employees=[],this.EmployeeStatusList=[],this.jobSiteList=[],this.departmentList=[],this.sectionList=[],this.contractTypeList=[],this.employeeList=[],this.timeout=null,this._filterAttribute.totalCount=this.totalCount,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang)}),this.ngTransUnsubscribe=this.translate.get(["Cancel","SaveMsg","checkname","DataSavedsuccessfully","NoDataToSave","No","MissData","savedChanges","Yes"]).subscribe(e=>{this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.NoDataToSave=e.NoDataToSave,this.Cancel=e.Cancel,this.SaveMsg=e.SaveMsg,this.errormsg=e.checkname,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges}),this.subsidaryid=this._generalService.SubsidiaryID,this.GetEmployeeStatus(),this.GetJobSites(),this.GetDepartments(),this.GetSections(),this.GetContractTypes(),this.GetEmployees(),this.ngUnsubscribe=t.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidaryid&&(this.subsidaryid=this._generalService.SubsidiaryID,this.cdr.markForCheck()),this.subsidaryid!=this._generalService.SubsidiaryID&&this.subsidaryid>0&&(this.subsidaryid=this._generalService.SubsidiaryID,this.cdr.markForCheck())})}GetEmployeeStatus(){this._startUpVacationsBalancesService.GetStaticValues("EmployeeStatus").subscribe(e=>{this.EmployeeStatusList=e,this.EmployeeStatusList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),e.length>0&&this.workingstatuss.push(this.EmployeeStatusList.filter(e=>1==e.isdefaultselection)[0].id),this.cdr.markForCheck()})}GetJobSites(){this._branchService.GetAllForDropdown().subscribe(e=>{this.jobSiteList=e,this.jobSiteList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),this.jobsites.push(0),this.cdr.markForCheck()})}GetDepartments(){this._departmentService.GetAllForDropdown().subscribe(e=>{this.departmentList=e,this.departmentList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),this.departments.push(0),this.cdr.markForCheck()})}GetSections(){this._sectionsService.GetAllForDropdown().subscribe(e=>{this.sectionList=e,this.sectionList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),this.sections.push(0),this.cdr.markForCheck()})}GetContractTypes(){this._contractTypesService.GetAllForDropdown().subscribe(e=>{this.contractTypeList=e,this.contractTypeList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),this.contracttypes.push(0),this.cdr.markForCheck()})}GetEmployees(){this._employeesService.getHrEmployees(this.subsidaryid).subscribe(e=>{this.employeeList=e,this.employeeList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),this.employees.push(0),this.cdr.markForCheck()})}ngOnInit(){}SearchClick(){this.GetData()}Reset(){this.workingstatuss=[],this.workingstatuss.push(0),this.jobsites=[],this.jobsites.push(0),this.departments=[],this.departments.push(0),this.sections=[],this.sections.push(0),this.contracttypes=[],this.contracttypes.push(0),this.employees=[],this.employees.push(0),this._searchModel.searchValue="",this._searchModel.orderby="",this.StartUpBalanceList=[],this.OldStartUpBalanceList="[]",this.totalCount=0}PrepareSearchObject(){this._StartUpVacationsBalanceSearchParameters.workingstatuss=this.workingstatuss,this._StartUpVacationsBalanceSearchParameters.jobsites=this.jobsites,this._StartUpVacationsBalanceSearchParameters.sections=this.sections,this._StartUpVacationsBalanceSearchParameters.departments=this.departments,this._StartUpVacationsBalanceSearchParameters.contracttypes=this.contracttypes,this._StartUpVacationsBalanceSearchParameters.employees=this.employees,this._StartUpVacationsBalanceSearchParameters.subsidaryid=this.subsidaryid,this._StartUpVacationsBalanceSearchParameters.pagenum=this._searchModel.pageNo,this._StartUpVacationsBalanceSearchParameters.pagesize=this._searchModel.pageSize,this._StartUpVacationsBalanceSearchParameters.searchvalue=this._searchModel.searchValue,this._StartUpVacationsBalanceSearchParameters.orderby=this._searchModel.orderby}GetData(){this.PrepareSearchObject(),this._startUpVacationsBalancesService.GetAll(this._StartUpVacationsBalanceSearchParameters).subscribe(e=>{this.StartUpBalanceList=e,this.OldStartUpBalanceList=JSON.stringify(this.StartUpBalanceList);for(let t=0;t<this.StartUpBalanceList.length;t++)this.clculateBalanceAmounts(this.StartUpBalanceList[t]),this.formateVacationstpDaysSubtracted(this.StartUpBalanceList[t]);this.cdr.markForCheck()}),this._startUpVacationsBalancesService.CountOfStartUpVacationsBalances(this._StartUpVacationsBalanceSearchParameters).subscribe(e=>{this.totalCount=e[0].total})}clculateBalanceAmounts(e){e.balanceamounts=0==e.daysofmonthvacation?0:e.vacationsalary/e.daysofmonthvacation*e.vacationdaysbalance,e.vacationdaysbalance=e.vacationdaysbalance.toFixed(3),e.vacationsalary=e.vacationsalary.toFixed(3)}formateVacationstpDaysSubtracted(e){e.vacationstpdayssubtracted=e.vacationstpdayssubtracted.toFixed(3)}OnSave(){this.StartUpBalanceList.length>0?this._startUpVacationsBalancesService.Update(this.StartUpBalanceList).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.cdr.markForCheck()}):this.toastr.success(this.NoDataToSave)}NotToMissData(e){this.OldStartUpBalanceList!==JSON.stringify(this.StartUpBalanceList)?M().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?(this.OnSave(),"search"==e?this.SearchClick():this.Reset()):"search"==e?this.SearchClick():this.Reset()}):"search"==e?this.SearchClick():this.Reset()}OnKeyupFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this._filterAttribute.searchValue=this.searchValue,this.Search()},1e3*e)}Search(){this._filterAttribute.pageNo=1,this.PageNo=1,Object.assign(this._searchModel,this._filterAttribute),this.GetData()}SortBy(e){this.sortDirection="asc"==this.sortDirection?"desc":"asc",this._filterAttribute.sortDirection=this.sortDirection,this._filterAttribute.filterCoulmn=e,this._filterAttribute.orderby=e+"."+this.sortDirection,this._filterAttribute.pageNo=1,this.PageNo=1,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}OnPrint(e=0){let t=" ",n="ar"==this.lang?"rtl":"ltr",a="ar"==this.lang?"\u0623\u0631\u0635\u062f\u0629 \u0627\u062c\u0627\u0632\u0627\u062a \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u062a\u0634\u063a\u064a\u0644":"Start-up Vacations Balances",i="ar"==this.lang?"\u0643\u0648\u062f \u0627\u0644\u0645\u0648\u0638\u0641":"Employee Code",l="ar"==this.lang?"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641":"Employee Name",o="ar"==this.lang?"\u0627\u0644\u0631\u0635\u064a\u062f \u0628\u0627\u0644\u0623\u064a\u0627\u0645":"Days Balance",r="ar"==this.lang?" \u0627\u0644\u0631\u0627\u062a\u0628":"The Salary",s="ar"==this.lang?"\u0627\u0644\u0631\u0635\u064a\u062f \u0645\u0628\u0627\u0644\u063a":"Balance Amounts",c="ar"==this.lang?"\u0623\u064a\u0627\u0645 \u062a\u064f\u0637\u0631\u062d \u0645\u0646 \u0645\u062f\u0629 \u0627\u0644\u062e\u062f\u0645\u0629":"Days are subtracted from the service period";this.PrepareSearchObject(),this._startUpVacationsBalancesService.GetAll(this._StartUpVacationsBalanceSearchParameters).subscribe(d=>{this.cdr.markForCheck(),t=`\n       <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;" >${a}</div>\n            <table class="table text-center m-0 table table-striped"  border="1px"  dir=${n}>\n            <thead>\n             <tr style="background: #e9f1f5;color: cornflowerblue;">\n               <th>${i}</th>\n               <th>${l}</th>\n               <th>${o}</th>\n               <th>${r}</th>\n               <th>${s}</th>\n               <th>${c}</th>\n             </tr>\n            </thead>\n            <tbody>\n       `,d.map(e=>{t+=`\n           <tr>\n           <td>${e.code}</td>\n             <td>${"ar"==this.lang?e.fullname_ar:e.fullname_en}</td>\n             <td>${e.vacationdaysbalance}</td>             \n             <td>${e.vacationsalary}</td>\n             <td>${e.balanceamounts}</td>             \n             <td>${e.vacationstpdayssubtracted}</td>\n           </tr>\n         `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t,"ar"==this.lang?"\u0623\u0631\u0635\u062f\u0629 \u0627\u062c\u0627\u0632\u0627\u062a \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u062a\u0634\u063a\u064a\u0644":"Start-up Vacations Balances"):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this.PrepareSearchObject(),this._startUpVacationsBalancesService.GetAll(this._StartUpVacationsBalanceSearchParameters).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0643\u0648\u062f \u0627\u0644\u0645\u0648\u0638\u0641":t.code,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641":t.fullname_ar,"\u0627\u0644\u0631\u0635\u064a\u062f \u0628\u0627\u0644\u0623\u064a\u0627\u0645":t.vacationdaysbalance," \u0627\u0644\u0631\u0627\u062a\u0628":t.VacationSalary,"\u0627\u0644\u0631\u0635\u064a\u062f \u0645\u0628\u0627\u0644\u063a":t.balanceamounts,"\u0623\u064a\u0627\u0645 \u062a\u064f\u0637\u0631\u062d \u0645\u0646 \u0645\u062f\u0629 \u0627\u0644\u062e\u062f\u0645\u0629":t.vacationstpdayssubtracted}:{"Employee Code":t.code,"Employee Name":t.fullname_ar,"Days Balance":t.vacationdaysbalance,"The Salary":t.VacationSalary,"Balance Amounts":t.balanceamounts,"Days are subtracted from the service period":t.vacationstpdayssubtracted})}),this._Excel.exportAsExcelFile(e,"ar"==this.lang?"\u0623\u0631\u0635\u062f\u0629 \u0627\u062c\u0627\u0632\u0627\u062a \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u062a\u0634\u063a\u064a\u0644":"Start-up Vacations Balances")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](b),f["\u0275\u0275directiveInject"](k.m),f["\u0275\u0275directiveInject"](d.F0),f["\u0275\u0275directiveInject"](d.gz),f["\u0275\u0275directiveInject"](P._W),f["\u0275\u0275directiveInject"](f.ChangeDetectorRef),f["\u0275\u0275directiveInject"](w.$),f["\u0275\u0275directiveInject"](T.x),f["\u0275\u0275directiveInject"](N.z),f["\u0275\u0275directiveInject"](F.e),f["\u0275\u0275directiveInject"](L.K),f["\u0275\u0275directiveInject"](p.sK),f["\u0275\u0275directiveInject"](x.J),f["\u0275\u0275directiveInject"](V.x),f["\u0275\u0275directiveInject"](E.b),f["\u0275\u0275directiveInject"](I.n),f["\u0275\u0275directiveInject"](A.M))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-start-up-vacations-balance"]],features:[f["\u0275\u0275ProvidersFeature"]([])],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"row","mt-3"],[1,"col-lg-2","col-md-2","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","workingstatus",1,"col-form-label"],["name","workingstatuss","optionValue","id",3,"ngModel","options","optionLabel","filter","ngModelChange"],["id","jobsite",1,"col-form-label"],["name","jobsites","optionValue","id",3,"ngModel","options","optionLabel","filter","ngModelChange"],["id","sectionid",1,"col-form-label"],["name","sections","optionValue","id",3,"ngModel","options","optionLabel","filter","ngModelChange"],["id","department",1,"col-form-label"],["name","departments","optionValue","id",3,"ngModel","options","optionLabel","filter","ngModelChange"],["id","contracttypeid",1,"col-form-label"],["name","contracttypes","optionValue","id",3,"ngModel","options","optionLabel","filter","ngModelChange"],["id","employeeid",1,"col-form-label"],["name","employees","optionValue","id",3,"ngModel","options","optionLabel","ngModelChange"],[1,"mt-3"],[1,"btn","btn-primary","mb-0","me-3","ng-star-inserted",3,"click"],["type","submit","class","btn btn-success mb-0 me-3 btn-md",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-danger mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-success mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"mt-4","table"],[1,"",3,"click"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],["type","submit",1,"btn","btn-success","mb-0","me-3","btn-md",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[1,"pl-4",2,"height","50px"],["PositiveNumbersOrDecimalOnly","","type","number","name","vacationdaysbalance",1,"form-control",2,"text-align","right",3,"ngModel","ngModelChange","change"],["PositiveNumbersOrDecimalOnly","","type","number","name","vacationsalary",1,"form-control",2,"text-align","right",3,"ngModel","ngModelChange","change"],[2,"text-align","right"],["PositiveNumbersOrDecimalOnly","","type","text","name","vacationstpdayssubtracted",1,"form-control",2,"text-align","right",3,"ngModel","ngModelChange","change"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(f["\u0275\u0275template"](0,j,4,3,"div",0),f["\u0275\u0275template"](1,Te,99,108,"section",1)),2&e&&(f["\u0275\u0275property"]("ngIf",!t.checkRoleParms(415)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.checkRoleParms(415)))},directives:[a.O5,R.NU,o.JJ,o.On,o.Fj,a.sg,o.wV,G.L,U.N9,o.EJ,o.YN,o.Kr],pipes:[p.X$,a.JJ],styles:[""]}),e})();var Fe=n(64762),Le=n(37516),Ae=n(29743);class Re{constructor(){this.id=0,this.code="",this.startdate=null,this.enddate=null,this.typeid=null,this.methodofpayingdues=null,this.immediatepaymentinclusions=null,this.workingdaysvaluebeforevacation=null,this.vacationsbalancededucteddays=null,this.fridayseffectonvacationsbalance=null,this.officialholidayseffectonvacationdues=null,this.monthofduespayment=null,this.referenceno="",this.vacationreason="",this.phonenumberduringvacation="",this.notes="",this.classificationid=1,this.subsidaryid=null}}var Ge=n(98794);const Ue=["VacationRForm"];function je(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function $e(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterWorkStartDate")," "))}function Ye(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterLastEndDate")," "))}function We(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function ze(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"EndDateGreaterStartDate")," "))}function qe(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name_ar)}}function He(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name)}}function Ke(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",52),f["\u0275\u0275template"](1,qe,2,1,"div",45),f["\u0275\u0275template"](2,He,2,1,"div",45),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("value",e.id),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Je(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Qe(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"PeriodNotCompleted")," "))}function Xe(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"TimesTakenYearlyExceed")," "))}const Ze=function(e){return{param:e}};function et(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind2"](2,1,"AnnualUpperLimitExceed",f["\u0275\u0275pureFunction1"](4,Ze,e.AnnualUpperLimitAllowedPeriod))," ")}}function tt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name_ar)}}function nt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name)}}function at(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",52),f["\u0275\u0275template"](1,tt,2,1,"div",45),f["\u0275\u0275template"](2,nt,2,1,"div",45),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("value",e.id),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function it(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function lt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name_ar)}}function ot(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name)}}function rt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",52),f["\u0275\u0275template"](1,lt,2,1,"div",45),f["\u0275\u0275template"](2,ot,2,1,"div",45),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("value",e.id),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function st(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function ct(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name_ar)}}function dt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name)}}function pt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",52),f["\u0275\u0275template"](1,ct,2,1,"div",45),f["\u0275\u0275template"](2,dt,2,1,"div",45),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275property"]("value",e.id),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function mt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}const ht=function(e,t){return{"invalid-data":e,"valid-data":t}};function ut(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",4),f["\u0275\u0275elementStart"](1,"label",53),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementStart"](4,"span",27),f["\u0275\u0275text"](5,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"select",54,55),f["\u0275\u0275listener"]("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]()._employeeVacationDependingOnBalance.workingdaysvaluebeforevacation=t}),f["\u0275\u0275elementStart"](8,"option",25),f["\u0275\u0275text"](9),f["\u0275\u0275pipe"](10,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](11,pt,3,3,"option",21),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](12,mt,3,3,"span",11),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275reference"](7),t=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](3,9,"ValueWorkingDaysBeforeVacation")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.workingdaysvaluebeforevacation)("ngClass",f["\u0275\u0275pureFunction2"](13,ht,e.invalid&&t.manuallySubmitted,e.valid&&t.manuallySubmitted))("required",1==t._employeeVacationDependingOnBalance.methodofpayingdues)("disabled",1!=t._employeeVacationDependingOnBalance.methodofpayingdues),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngValue",null),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](10,11,"Select")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",t.WorkingDaysValueBeforeVacationList),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted)}}function yt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name_ar)}}function gt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name)}}function ft(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",52),f["\u0275\u0275template"](1,yt,2,1,"div",45),f["\u0275\u0275template"](2,gt,2,1,"div",45),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("value",e.id),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function vt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name_ar)}}function St(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name)}}function Dt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",52),f["\u0275\u0275template"](1,vt,2,1,"div",45),f["\u0275\u0275template"](2,St,2,1,"div",45),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("value",e.id),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function bt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name_ar)}}function xt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name)}}function Vt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",52),f["\u0275\u0275template"](1,bt,2,1,"div",45),f["\u0275\u0275template"](2,xt,2,1,"div",45),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("value",e.id),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Et(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function It(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"MonthOfDuesPaymentGreaterWorkStartDate")," "))}function Ct(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"MonthDuesPaymentDateRangeExceed")," "))}function Bt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Ot(e,t){1&e&&f["\u0275\u0275element"](0,"br")}function _t(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"FieldMinNumber")," 4 "))}function Mt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function kt(e,t){1&e&&f["\u0275\u0275element"](0,"br")}function Pt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"span",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"FieldMinNumber")," 8 "))}let wt=(()=>{class e{constructor(e,t,n,a,i,l,o,r,s,c){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=o,this._generalService=r,this._employeesService=s,this._employeeVacationsService=c,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this._employeeVacationDependingOnBalance=new Re,this._oldEmployeeVacationDependingOnBalance="",this.VactionTypeList=[],this.MethodOfPayingDuesList=[],this.ImmediatePaymentInclusionsList=[],this.WorkingDaysValueBeforeVacationList=[],this.VacationsBalanceDeductedDaysList=[],this.FridaysEffectOnVacationsBalanceList=[],this.OfficialHolidaysEffectOnVacationDuesList=[],this.parentGetData=new f.EventEmitter,this.NetServicePeriodAtVacationStartDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeVacationSTPDaysSubtracted=null,this.EmployeeReligionId=null,this.EmployeeGender=null,this.EmployeeVacationDependingOnBalanceDate=null,this.isVacationStartDateValid=!0,this.isVacationStartDateValidWithLastDate=!0,this.isVacationEndDateValid=!0,this.isPeriodNotCompleted=!1,this.isTimesTakenYearlyExceed=!1,this.ReasonIsMandatory=!1,this.PhoneNumberIsMandatory=!1,this.isAnnualUpperLimitExceed=!1,this.AnnualUpperLimitAllowedPeriod=0,this.isMonthOfDuesPaymentValid=!0,this.isMonthDuesPaymentDateRangeExceed=!1,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})}),this.NetServicePeriodAtVacationStartDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}ngOnInit(){this._employeeVacationDependingOnBalance.employeeid=this.employeeid,this._employeeVacationDependingOnBalance.id=this.employeeVacationID,this.GetVacationsBalanceDeductedDays(),this.GetEmployeeDataForValidation(),this.GetVactionTypes(),this.GetMethodOfPayingDues(),this.GetImmediatePaymentInclusions(),this.GetWorkingDaysValueBeforeVacations()}GetEmployeeDataForValidation(){this._employeeVacationsService.GetEmployeeDataForValidation(this.employeeid).subscribe(e=>{null!=e&&(null!=e.workstartdate&&(this.EmployeeWorkStartDate=e.workstartdate,this.EmployeeVacationSTPDaysSubtracted=e.vacationstpdayssubtracted,this.EmployeeReligionId=e.religionid,this.EmployeeGender=e.gender),null!=e.dependingonbalancedate&&(this.EmployeeVacationDependingOnBalanceDate=e.dependingonbalancedate))})}GetVactionTypes(){this._employeeVacationsService.GetVacationsTypesDependingOnBalanceForDropdown(this.subsidiaryID).subscribe(e=>{this.VactionTypeList=e,this.cd.markForCheck()})}GetMethodOfPayingDues(){this._employeesService.GetStaticValues("MethodOfPayingDues").subscribe(e=>{this.MethodOfPayingDuesList=e,this.cd.markForCheck()})}GetImmediatePaymentInclusions(){this._employeesService.GetStaticValues("ImmediatePaymentInclusions").subscribe(e=>{this.ImmediatePaymentInclusionsList=e,this.cd.markForCheck()})}GetWorkingDaysValueBeforeVacations(){this._employeesService.GetStaticValues("WorkingDaysValueBeforeVacation").subscribe(e=>{this.WorkingDaysValueBeforeVacationList=e,this.cd.markForCheck()})}GetVacationsBalanceDeductedDays(){this._employeesService.GetStaticValues("VacationsBalanceDeductedDays").subscribe(e=>{this.VacationsBalanceDeductedDaysList=e,this._employeeVacationDependingOnBalance.vacationsbalancededucteddays=this.VacationsBalanceDeductedDaysList.filter(e=>1==e.isdefaultselection)[0].id,this.cd.markForCheck(),this._employeesService.GetStaticValues("FridaysEffectOnVacationsBalance").subscribe(e=>{this.FridaysEffectOnVacationsBalanceList=e,this._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance=this.FridaysEffectOnVacationsBalanceList.filter(e=>1==e.isdefaultselection)[0].id,this.cd.markForCheck(),this._employeesService.GetStaticValues("OfficialHolidaysEffectOnVacationDues").subscribe(e=>{this.OfficialHolidaysEffectOnVacationDuesList=e,this._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues=this.OfficialHolidaysEffectOnVacationDuesList.filter(e=>1==e.isdefaultselection)[0].id,this.cd.markForCheck(),this.GetData()})})})}GetEmployeeVacationTypeCountServicePeriod(){var e=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].timestaken,t=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].timestakentype;null!=e&&null!=t&&1==t&&this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypeCountServicePeriod(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid).subscribe(t=>{t.vacationcount>=e&&M().fire({icon:"error",title:this.Erorr,text:this.NumberOfTimesAllocatedVacation,confirmButtonText:this.Approval}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&(this._employeeVacationDependingOnBalance.typeid=null)})})}GetEmployeeVacationTypeCountYearly(){if(this.isTimesTakenYearlyExceed=!1,null!=this._employeeVacationDependingOnBalance.typeid&&null!=this._employeeVacationDependingOnBalance.startdate&&this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var e=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].timestaken,t=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].timestakentype;if(null!=e&&null!=t&&2==t){var n=new Date(this.EmployeeWorkStartDate),a=new Date(n);do{if(n=new Date(a),a.setFullYear(a.getFullYear()+1),new Date(this._employeeVacationDependingOnBalance.startdate)>=n&&new Date(this._employeeVacationDependingOnBalance.startdate)<=a)break}while(new Date(this._employeeVacationDependingOnBalance.startdate)<n||new Date(this._employeeVacationDependingOnBalance.startdate)>a);this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypeCountYearly(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid,n.toISOString(),a.toISOString()).subscribe(t=>{this.isTimesTakenYearlyExceed=t.vacationcount>=e})}}}GetEmployeeVacationTypePeriod(){if(this.isAnnualUpperLimitExceed=!1,null!=this._employeeVacationDependingOnBalance.typeid&&null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.enddate&&this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var e=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].annualupperlimit,t=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].timestakentype,n=new Date(this._employeeVacationDependingOnBalance.enddate).getDate()-new Date(this._employeeVacationDependingOnBalance.startdate).getDate()+1;if(null!=e&&null!=t)if(2==t){var a=new Date(this.EmployeeWorkStartDate),i=new Date(a);do{if(a=new Date(i),i.setFullYear(i.getFullYear()+1),new Date(this._employeeVacationDependingOnBalance.startdate)>=a&&new Date(this._employeeVacationDependingOnBalance.startdate)<=i)break}while(new Date(this._employeeVacationDependingOnBalance.startdate)<a||new Date(this._employeeVacationDependingOnBalance.startdate)>i);this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypePeriodYearly(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid,a.toISOString(),i.toISOString()).subscribe(t=>{t.vacationperiod+n>=e?(this.isAnnualUpperLimitExceed=!0,this.AnnualUpperLimitAllowedPeriod=e-t.vacationperiod):this.isAnnualUpperLimitExceed=!1})}else 1==t&&this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypePeriodServicePeriod(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid).subscribe(t=>{t.vacationperiod+n>=e?(this.isAnnualUpperLimitExceed=!0,this.AnnualUpperLimitAllowedPeriod=e-t.vacationperiod):this.isAnnualUpperLimitExceed=!1})}}GetData(){0==this.employeeVacationID?this._employeeVacationsService.GetMaxCodeDependingOnBalance(this.subsidiaryID).subscribe(e=>{this._employeeVacationDependingOnBalance.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this._oldEmployeeVacationDependingOnBalance=JSON.stringify(this._employeeVacationDependingOnBalance),this.cd.markForCheck()}):this._employeeVacationsService.GetDependingOnBalanceById(this.employeeVacationID).subscribe(e=>{this._employeeVacationDependingOnBalance.id=e.id,this._employeeVacationDependingOnBalance.code=e.code,this._employeeVacationDependingOnBalance.employeeid=e.employeeid,this._employeeVacationDependingOnBalance.startdate=e.startdate,this._employeeVacationDependingOnBalance.enddate=e.enddate,this._employeeVacationDependingOnBalance.typeid=e.typeid,this._employeeVacationDependingOnBalance.methodofpayingdues=e.methodofpayingdues,this._employeeVacationDependingOnBalance.immediatepaymentinclusions=e.immediatepaymentinclusions,this._employeeVacationDependingOnBalance.workingdaysvaluebeforevacation=e.workingdaysvaluebeforevacation,this._employeeVacationDependingOnBalance.vacationsbalancededucteddays=e.vacationsbalancededucteddays,this._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance=e.fridayseffectonvacationsbalance,this._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues=e.officialholidayseffectonvacationdues,this._employeeVacationDependingOnBalance.monthofduespayment=e.monthofduespayment,this._employeeVacationDependingOnBalance.referenceno=e.referenceno,this._employeeVacationDependingOnBalance.vacationreason=e.vacationreason,this._employeeVacationDependingOnBalance.phonenumberduringvacation=e.phonenumberduringvacation,this._employeeVacationDependingOnBalance.notes=e.notes,this._employeeVacationDependingOnBalance.classificationid=e.classificationid,this._employeeVacationDependingOnBalance.subsidaryid=e.subsidaryid,this._oldEmployeeVacationDependingOnBalance=JSON.stringify(this._employeeVacationDependingOnBalance),this.cd.markForCheck()})}getDateDifferences(e,t,n){const a=new Date(t);a.setDate(a.getDate()-Math.ceil(n));let i=Math.round(Math.abs((a.getTime()-e.getTime())/864e5)),l=a.getFullYear()-e.getFullYear();const o=12*l+a.getMonth()-e.getMonth();l=Math.floor(o/12),a.getMonth()===e.getMonth()&&a.getDate()<e.getDate()&&l--;let r=Math.abs(o%12);a.getDate()<e.getDate()&&r--;let s=a.getDate()-e.getDate();if(s<0&&(s+=new Date(a.getFullYear(),a.getMonth(),0).getDate()),n>0){const t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();i>t&&(i=t)}this.NetServicePeriodAtVacationStartDate="ar"==this.lang?l+" \u0633\u0646\u0629 \u0648 "+r+" \u0634\u0647\u0631 \u0648 "+s+" \u064a\u0648\u0645":l+" Year , "+r+" Month , "+s+" Day"}CalculateNetServicePeriodAtVacationStartDate(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeVacationDependingOnBalance.startdate),this.EmployeeVacationSTPDaysSubtracted)}validateMonthDuesPaymentDateRange(){if(this.isMonthDuesPaymentDateRangeExceed=!1,null!=this._employeeVacationDependingOnBalance.monthofduespayment&&null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.enddate){var e=new Date(this._employeeVacationDependingOnBalance.startdate);e.setMonth(new Date(this._employeeVacationDependingOnBalance.startdate).getMonth()-3),e.setDate(1),e.setHours(1);var t=new Date(this._employeeVacationDependingOnBalance.enddate);t.setMonth(new Date(this._employeeVacationDependingOnBalance.enddate).getMonth()+3),t.setDate(1),t.setHours(1);var n=new Date(this._employeeVacationDependingOnBalance.monthofduespayment);n.setHours(1),this.isMonthDuesPaymentDateRangeExceed=!(n>=e&&n<=t)}}onVacationStartDateChange(){null==this.EmployeeVacationDependingOnBalanceDate?this.isVacationStartDateValid=!(this.EmployeeWorkStartDate>this._employeeVacationDependingOnBalance.startdate):this.isVacationStartDateValidWithLastDate=!(this.EmployeeVacationDependingOnBalanceDate>this._employeeVacationDependingOnBalance.startdate),this.onVacationEndDateChange(),this.CalculateNetServicePeriodAtVacationStartDate(),this.checkOnVacationEarnedAfterDate(),this.GetEmployeeVacationTypeCountYearly(),this.GetEmployeeVacationTypePeriod(),this.validateMonthDuesPaymentDateRange()}onVacationEndDateChange(){this.isVacationEndDateValid=!(this._employeeVacationDependingOnBalance.enddate<this._employeeVacationDependingOnBalance.startdate),this.GetEmployeeVacationTypePeriod(),this.validateMonthDuesPaymentDateRange()}onVacationTypeChange(){if(this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var e=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].genderid,t=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].religionid;(null!==e&&e!==this.EmployeeGender||null!==t&&t!==this.EmployeeReligionId)&&M().fire({icon:"error",title:this.Erorr,text:this.PersonalDataNotComply,confirmButtonText:this.Approval}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&(this._employeeVacationDependingOnBalance.typeid=null)}),this.GetEmployeeVacationTypeCountServicePeriod()}this.checkOnVacationEarnedAfterDate(),this.GetEmployeeVacationTypeCountYearly(),this.GetEmployeeVacationTypePeriod(),this.ReasonIsMandatory=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].reasonismandatory,this.PhoneNumberIsMandatory=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].phonenumberismandatory}checkOnVacationEarnedAfterDate(){if(null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.typeid){var e=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].earnedafter,t=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].earnedaftertype;if(null!=e&&null!=t){const n=new Date(this.EmployeeWorkStartDate);1==t?n.setMonth(n.getMonth()+e):n.setDate(n.getDate()+e),this.isPeriodNotCompleted=n>new Date(this._employeeVacationDependingOnBalance.startdate)}}}onMonthOfDuesPaymentChange(){this.isMonthOfDuesPaymentValid=!(this.EmployeeWorkStartDate>this._employeeVacationDependingOnBalance.monthofduespayment),this.validateMonthDuesPaymentDateRange()}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(){this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.isVacationStartDateValid&&this.isVacationStartDateValidWithLastDate&&!this.isPeriodNotCompleted&&!this.isTimesTakenYearlyExceed&&!this.isAnnualUpperLimitExceed&&this.isVacationEndDateValid&&this.isMonthOfDuesPaymentValid&&!this.isMonthDuesPaymentDateRangeExceed&&(!this.ReasonIsMandatory||this._employeeVacationDependingOnBalance.vacationreason.length>=4&&this.ReasonIsMandatory)&&(!this.PhoneNumberIsMandatory||this._employeeVacationDependingOnBalance.phonenumberduringvacation.length>=4&&this.PhoneNumberIsMandatory)&&(this._employeeVacationDependingOnBalance.employeeid=this.employeeid,this._employeeVacationDependingOnBalance.subsidaryid=this.subsidiaryID,this._employeeVacationDependingOnBalance.id>0?this._employeeVacationsService.UpdateDependingOnBalance(this._employeeVacationDependingOnBalance).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}):this._employeeVacationsService.CreateDependingOnBalance(this._employeeVacationDependingOnBalance).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}),this.manuallySubmitted=!1)}NotToMissData(e){return(0,Fe.mG)(this,void 0,void 0,function*(){if(this._oldEmployeeVacationDependingOnBalance!==JSON.stringify(this._employeeVacationDependingOnBalance)){const e=yield M().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});return!e.isConfirmed||1!=e.isConfirmed}return!0})}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](d.F0),f["\u0275\u0275directiveInject"](d.gz),f["\u0275\u0275directiveInject"](L.K),f["\u0275\u0275directiveInject"](p.sK),f["\u0275\u0275directiveInject"](f.ChangeDetectorRef),f["\u0275\u0275directiveInject"](F.e),f["\u0275\u0275directiveInject"](P._W),f["\u0275\u0275directiveInject"](k.m),f["\u0275\u0275directiveInject"](A.M),f["\u0275\u0275directiveInject"](Le.C))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-depending-on-balance-form"]],viewQuery:function(e,t){if(1&e&&f["\u0275\u0275viewQuery"](Ue,5),2&e){let e;f["\u0275\u0275queryRefresh"](e=f["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid",employeeVacationID:"employeeVacationID",annualVacationTypeId:"annualVacationTypeId",calculatingDuesDays:"calculatingDuesDays"},outputs:{parentGetData:"parentGetData"},decls:161,vars:149,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","TransactionNo",1,"col-form-label"],["type","text","name","TransactionNo","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","VacationStartDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","VacationStartDate","name","VacationStartDate",1,"form-control",3,"required","ngModel","ngClass","ngModelChange","change"],["DateVacationStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","VacationEndDate",1,"col-form-label"],["type","Date","id","VacationEndDate","name","VacationEndDate",1,"form-control",3,"required","ngModel","ngClass","ngModelChange","change"],["DateVacationEndDate","ngModel"],["id","NetServicePeriodAtVacationStartDate",1,"col-form-label"],["type","text","name","NetServicePeriodAtVacationStartDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","VacationType",1,"col-form-label"],["name","VacationType",1,"form-control",3,"ngModel","required","ngClass","ngModelChange","change"],["VacationTypeID","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","MethodPayingDues",1,"col-form-label"],["name","MethodPayingDues",1,"form-control",3,"ngModel","required","ngClass","ngModelChange","change"],["MethodPayingDuesID","ngModel"],["disabled","",3,"ngValue"],["id","ImmediatePaymentInclusions",1,"col-form-label"],[2,"color","blue","font-weight","bold"],["name","ImmediatePaymentInclusions",1,"form-control",3,"ngModel","ngClass","required","disabled","ngModelChange"],["ImmediatePaymentInclusionsID","ngModel"],["class","form-group",4,"ngIf"],["id","DaysDeductedFromVacationsBalance",1,"col-form-label"],["name","DaysDeductedFromVacationsBalance",1,"form-control",3,"ngModel","ngModelChange"],["id","EffectofFridaysonvacationperiod",1,"col-form-label"],["name","EffectofFridaysonvacationperiod",1,"form-control",3,"ngModel","ngModelChange"],["id","EffectOfficialHolidaysVacationDues",1,"col-form-label"],["name","EffectOfficialHolidaysVacationDues",1,"form-control",3,"ngModel","ngModelChange"],["id","MonthDuesPayment",1,"col-form-label"],["type","month","id","MonthDuesPayment","name","MonthDuesPayment",1,"form-control",3,"required","ngModel","ngClass","ngModelChange","change"],["MonthDuesPaymentDate","ngModel"],["id","ReferenceNo",1,"col-form-label"],["type","text","name","ReferenceNo",1,"form-control",3,"ngModel","ngModelChange"],["id","VacationReason",1,"col-form-label"],["type","text","name","VacationReason",1,"form-control",3,"ngModel","required","ngClass","ngModelChange"],["VacationReasonText","ngModel"],[4,"ngIf"],["id","PhoneNumberDuringVacation",1,"col-form-label"],["type","text","name","PhoneNumberDuringVacation","NumbersWithSpacialChars","",1,"form-control",3,"ngModel","required","ngClass","ngModelChange"],["PhoneNumberDuringVacationText","ngModel"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],["id","ValueWorkingDaysBeforeVacation",1,"col-form-label"],["name","ValueWorkingDaysBeforeVacation",1,"form-control",3,"ngModel","ngClass","required","disabled","ngModelChange"],["ValueWorkingDaysBeforeVacationID","ngModel"]],template:function(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"section"),f["\u0275\u0275elementStart"](1,"form",0,1),f["\u0275\u0275elementStart"](3,"div",2),f["\u0275\u0275elementStart"](4,"div",3),f["\u0275\u0275elementStart"](5,"div",4),f["\u0275\u0275elementStart"](6,"label",5),f["\u0275\u0275text"](7),f["\u0275\u0275pipe"](8,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"input",6),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.code=e}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](10,"div",3),f["\u0275\u0275elementStart"](11,"div",4),f["\u0275\u0275elementStart"](12,"label",7),f["\u0275\u0275text"](13),f["\u0275\u0275pipe"](14,"translate"),f["\u0275\u0275elementStart"](15,"span",8),f["\u0275\u0275text"](16,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](17,"input",9,10),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.startdate=e})("change",function(){return t.onVacationStartDateChange()}),f["\u0275\u0275pipe"](19,"date"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](20,je,3,3,"span",11),f["\u0275\u0275template"](21,$e,3,3,"span",11),f["\u0275\u0275template"](22,Ye,3,3,"span",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](23,"div",3),f["\u0275\u0275elementStart"](24,"div",4),f["\u0275\u0275elementStart"](25,"label",12),f["\u0275\u0275text"](26),f["\u0275\u0275pipe"](27,"translate"),f["\u0275\u0275elementStart"](28,"span",8),f["\u0275\u0275text"](29,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](30,"input",13,14),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.enddate=e})("change",function(){return t.onVacationEndDateChange()}),f["\u0275\u0275pipe"](32,"date"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](33,We,3,3,"span",11),f["\u0275\u0275template"](34,ze,3,3,"span",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](35,"div",3),f["\u0275\u0275elementStart"](36,"div",4),f["\u0275\u0275elementStart"](37,"label",15),f["\u0275\u0275text"](38),f["\u0275\u0275pipe"](39,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](40,"input",16),f["\u0275\u0275listener"]("ngModelChange",function(e){return t.NetServicePeriodAtVacationStartDate=e}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](41,"div",2),f["\u0275\u0275elementStart"](42,"div",3),f["\u0275\u0275elementStart"](43,"div",4),f["\u0275\u0275elementStart"](44,"label",17),f["\u0275\u0275text"](45),f["\u0275\u0275pipe"](46,"translate"),f["\u0275\u0275elementStart"](47,"span",8),f["\u0275\u0275text"](48,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](49,"select",18,19),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.typeid=e})("change",function(){return t.onVacationTypeChange()}),f["\u0275\u0275elementStart"](51,"option",20),f["\u0275\u0275text"](52),f["\u0275\u0275pipe"](53,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](54,Ke,3,3,"option",21),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](55,Je,3,3,"span",11),f["\u0275\u0275template"](56,Qe,3,3,"span",11),f["\u0275\u0275template"](57,Xe,3,3,"span",11),f["\u0275\u0275template"](58,et,3,6,"span",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](59,"div",3),f["\u0275\u0275elementStart"](60,"div",4),f["\u0275\u0275elementStart"](61,"label",22),f["\u0275\u0275text"](62),f["\u0275\u0275pipe"](63,"translate"),f["\u0275\u0275elementStart"](64,"span",8),f["\u0275\u0275text"](65,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](66,"select",23,24),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.methodofpayingdues=e})("change",function(){return t._employeeVacationDependingOnBalance.immediatepaymentinclusions=null,t._employeeVacationDependingOnBalance.workingdaysvaluebeforevacation=null}),f["\u0275\u0275elementStart"](68,"option",25),f["\u0275\u0275text"](69),f["\u0275\u0275pipe"](70,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](71,at,3,3,"option",21),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](72,it,3,3,"span",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](73,"div",3),f["\u0275\u0275elementStart"](74,"div",4),f["\u0275\u0275elementStart"](75,"label",26),f["\u0275\u0275text"](76),f["\u0275\u0275pipe"](77,"translate"),f["\u0275\u0275elementStart"](78,"span",27),f["\u0275\u0275text"](79,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](80,"select",28,29),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.immediatepaymentinclusions=e}),f["\u0275\u0275elementStart"](82,"option",25),f["\u0275\u0275text"](83),f["\u0275\u0275pipe"](84,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](85,rt,3,3,"option",21),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](86,st,3,3,"span",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](87,"div",3),f["\u0275\u0275template"](88,ut,13,16,"div",30),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](89,"div",2),f["\u0275\u0275elementStart"](90,"div",3),f["\u0275\u0275elementStart"](91,"div",4),f["\u0275\u0275elementStart"](92,"label",31),f["\u0275\u0275text"](93),f["\u0275\u0275pipe"](94,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](95,"select",32),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.vacationsbalancededucteddays=e}),f["\u0275\u0275template"](96,ft,3,3,"option",21),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](97,"div",3),f["\u0275\u0275elementStart"](98,"div",4),f["\u0275\u0275elementStart"](99,"label",33),f["\u0275\u0275text"](100),f["\u0275\u0275pipe"](101,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](102,"select",34),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance=e}),f["\u0275\u0275template"](103,Dt,3,3,"option",21),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](104,"div",3),f["\u0275\u0275elementStart"](105,"div",4),f["\u0275\u0275elementStart"](106,"label",35),f["\u0275\u0275text"](107),f["\u0275\u0275pipe"](108,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](109,"select",36),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues=e}),f["\u0275\u0275template"](110,Vt,3,3,"option",21),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](111,"div",3),f["\u0275\u0275elementStart"](112,"div",4),f["\u0275\u0275elementStart"](113,"label",37),f["\u0275\u0275text"](114),f["\u0275\u0275pipe"](115,"translate"),f["\u0275\u0275elementStart"](116,"span",8),f["\u0275\u0275text"](117,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](118,"input",38,39),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.monthofduespayment=e})("change",function(){return t.onMonthOfDuesPaymentChange()}),f["\u0275\u0275pipe"](120,"date"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](121,Et,3,3,"span",11),f["\u0275\u0275template"](122,It,3,3,"span",11),f["\u0275\u0275template"](123,Ct,3,3,"span",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](124,"div",2),f["\u0275\u0275elementStart"](125,"div",3),f["\u0275\u0275elementStart"](126,"div",4),f["\u0275\u0275elementStart"](127,"label",40),f["\u0275\u0275text"](128),f["\u0275\u0275pipe"](129,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](130,"input",41),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.referenceno=e}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](131,"div",3),f["\u0275\u0275elementStart"](132,"div",4),f["\u0275\u0275elementStart"](133,"label",42),f["\u0275\u0275text"](134),f["\u0275\u0275pipe"](135,"translate"),f["\u0275\u0275elementStart"](136,"span",27),f["\u0275\u0275text"](137,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](138,"input",43,44),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.vacationreason=e}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](140,Bt,3,3,"span",11),f["\u0275\u0275template"](141,Ot,1,0,"br",45),f["\u0275\u0275template"](142,_t,3,3,"span",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](143,"div",3),f["\u0275\u0275elementStart"](144,"div",4),f["\u0275\u0275elementStart"](145,"label",46),f["\u0275\u0275text"](146),f["\u0275\u0275pipe"](147,"translate"),f["\u0275\u0275elementStart"](148,"span",27),f["\u0275\u0275text"](149,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](150,"input",47,48),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.phonenumberduringvacation=e}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](152,Mt,3,3,"span",11),f["\u0275\u0275template"](153,kt,1,0,"br",45),f["\u0275\u0275template"](154,Pt,3,3,"span",11),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](155,"div",3),f["\u0275\u0275elementStart"](156,"div",4),f["\u0275\u0275elementStart"](157,"label",49),f["\u0275\u0275text"](158),f["\u0275\u0275pipe"](159,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](160,"input",50),f["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.notes=e}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275reference"](18),n=f["\u0275\u0275reference"](31),a=f["\u0275\u0275reference"](50),i=f["\u0275\u0275reference"](67),l=f["\u0275\u0275reference"](81),o=f["\u0275\u0275reference"](119),r=f["\u0275\u0275reference"](139),s=f["\u0275\u0275reference"](151);f["\u0275\u0275advance"](7),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](8,80,"TransactionNo")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.code),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](14,82,"VacationStartDate")," "),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("required",!0)("ngModel",f["\u0275\u0275pipeBind2"](19,84,t._employeeVacationDependingOnBalance.startdate,"yyyy-MM-dd"))("ngClass",f["\u0275\u0275pureFunction2"](125,ht,e.invalid&&t.manuallySubmitted||!t.isVacationStartDateValid||t.isPeriodNotCompleted||t.isTimesTakenYearlyExceed||t.isAnnualUpperLimitExceed||!t.isVacationStartDateValidWithLastDate,e.valid&&t.manuallySubmitted&&t.isVacationStartDateValid&&!t.isPeriodNotCompleted&&!t.isTimesTakenYearlyExceed&&!t.isAnnualUpperLimitExceed&&t.isVacationStartDateValidWithLastDate)),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!t.isVacationStartDateValid),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!t.isVacationStartDateValidWithLastDate),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](27,87,"VacationEndDate")," "),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("required",!0)("ngModel",f["\u0275\u0275pipeBind2"](32,89,t._employeeVacationDependingOnBalance.enddate,"yyyy-MM-dd"))("ngClass",f["\u0275\u0275pureFunction2"](128,ht,n.invalid&&t.manuallySubmitted||!t.isVacationEndDateValid||t.isAnnualUpperLimitExceed,n.valid&&t.manuallySubmitted&&t.isVacationEndDateValid&&!t.isAnnualUpperLimitExceed)),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!t.isVacationEndDateValid),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](39,92,"NetServicePeriodAtVacationStartDate")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.NetServicePeriodAtVacationStartDate),f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](46,94,"VacationType")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.typeid)("required",!0)("ngClass",f["\u0275\u0275pureFunction2"](131,ht,a.invalid&&t.manuallySubmitted||t.isPeriodNotCompleted||t.isTimesTakenYearlyExceed||t.isAnnualUpperLimitExceed,a.valid&&t.manuallySubmitted&&!t.isPeriodNotCompleted&&!t.isTimesTakenYearlyExceed&&!t.isAnnualUpperLimitExceed)),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngValue",null),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](53,96,"Select")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",t.VactionTypeList),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.isPeriodNotCompleted),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.isTimesTakenYearlyExceed),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.isAnnualUpperLimitExceed),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](63,98,"MethodPayingDues")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.methodofpayingdues)("required",!0)("ngClass",f["\u0275\u0275pureFunction2"](134,ht,i.invalid&&t.manuallySubmitted,i.valid&&t.manuallySubmitted)),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngValue",null),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](70,100,"Select")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",t.MethodOfPayingDuesList),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",i.invalid&&t.manuallySubmitted),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](77,102,"ImmediatePaymentInclusions")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.immediatepaymentinclusions)("ngClass",f["\u0275\u0275pureFunction2"](137,ht,l.invalid&&t.manuallySubmitted,l.valid&&t.manuallySubmitted))("required",1==t._employeeVacationDependingOnBalance.methodofpayingdues)("disabled",1!=t._employeeVacationDependingOnBalance.methodofpayingdues),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngValue",null),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](84,104,"Select")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",t.ImmediatePaymentInclusionsList),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",l.invalid&&t.manuallySubmitted),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",!t.calculatingDuesDays),f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](94,106,"DaysDeductedFromVacationsBalance")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.vacationsbalancededucteddays),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",t.VacationsBalanceDeductedDaysList),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](101,108,"EffectofFridaysonvacationperiod")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",t.FridaysEffectOnVacationsBalanceList),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](108,110,"EffectOfficialHolidaysVacationDues")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",t.OfficialHolidaysEffectOnVacationDuesList),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](115,112,"MonthDuesPayment"),""),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("required",!0)("ngModel",f["\u0275\u0275pipeBind2"](120,114,t._employeeVacationDependingOnBalance.monthofduespayment,"yyyy-MM"))("ngClass",f["\u0275\u0275pureFunction2"](140,ht,o.invalid&&t.manuallySubmitted||!t.isMonthOfDuesPaymentValid||t.isMonthDuesPaymentDateRangeExceed,o.valid&&t.manuallySubmitted&&t.isMonthOfDuesPaymentValid&&!t.isMonthDuesPaymentDateRangeExceed)),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",o.invalid&&t.manuallySubmitted),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!t.isMonthOfDuesPaymentValid),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.isMonthDuesPaymentDateRangeExceed),f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](129,117,"ReferenceNo")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.referenceno),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](135,119,"VacationReason")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.vacationreason)("required",t.ReasonIsMandatory)("ngClass",f["\u0275\u0275pureFunction2"](143,ht,r.invalid&&t.manuallySubmitted||t._employeeVacationDependingOnBalance.vacationreason.length<4&&t.manuallySubmitted&&t.ReasonIsMandatory,r.valid&&t.manuallySubmitted&&(!t.ReasonIsMandatory||t._employeeVacationDependingOnBalance.vacationreason.length>=4&&t.manuallySubmitted&&t.ReasonIsMandatory))),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",r.invalid&&t.manuallySubmitted),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",r.invalid&&t.manuallySubmitted),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t._employeeVacationDependingOnBalance.vacationreason.length<4&&t.manuallySubmitted&&t.ReasonIsMandatory),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](147,121,"PhoneNumberDuringVacation")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.phonenumberduringvacation)("required",t.PhoneNumberIsMandatory)("ngClass",f["\u0275\u0275pureFunction2"](146,ht,s.invalid&&t.manuallySubmitted||t._employeeVacationDependingOnBalance.phonenumberduringvacation.length<8&&t.manuallySubmitted&&t.PhoneNumberIsMandatory,s.valid&&t.manuallySubmitted&&(!t.PhoneNumberIsMandatory||t._employeeVacationDependingOnBalance.phonenumberduringvacation.length>=4&&t.manuallySubmitted&&t.PhoneNumberIsMandatory))),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",s.invalid&&t.manuallySubmitted),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",s.invalid&&t.manuallySubmitted),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t._employeeVacationDependingOnBalance.phonenumberduringvacation.length<8&&t.manuallySubmitted&&t.PhoneNumberIsMandatory),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](159,123,"Notes")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.notes)}},directives:[o._Y,o.JL,o.F,o.Fj,o.JJ,o.On,o.Q7,a.mk,a.O5,o.EJ,o.YN,o.Kr,a.sg,Ge.f],pipes:[p.X$,a.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();const Tt=["VacationRForm"];let Nt=(()=>{class e{constructor(e,t,n,a,i,l,o,r,s,c){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=o,this._generalService=r,this._employeesService=s,this._employeeVacationsService=c,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this._employeeVacationDependingOnBalance=new Re,this._oldEmployeeVacationDependingOnBalance="",this.VactionTypeList=[],this.MethodOfPayingDuesList=[],this.ImmediatePaymentInclusionsList=[],this.WorkingDaysValueBeforeVacationList=[],this.VacationsBalanceDeductedDaysList=[],this.FridaysEffectOnVacationsBalanceList=[],this.OfficialHolidaysEffectOnVacationDuesList=[],this.parentGetData=new f.EventEmitter,this.NetServicePeriodAtVacationStartDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeVacationSTPDaysSubtracted=null,this.EmployeeReligionId=null,this.EmployeeGender=null,this.EmployeeVacationDependingOnBalanceDate=null,this.isVacationStartDateValid=!0,this.isVacationStartDateValidWithLastDate=!0,this.isVacationEndDateValid=!0,this.isPeriodNotCompleted=!1,this.isTimesTakenYearlyExceed=!1,this.ReasonIsMandatory=!1,this.PhoneNumberIsMandatory=!1,this.isAnnualUpperLimitExceed=!1,this.AnnualUpperLimitAllowedPeriod=0,this.isMonthOfDuesPaymentValid=!0,this.isMonthDuesPaymentDateRangeExceed=!1,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})}),this.NetServicePeriodAtVacationStartDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}ngOnInit(){this._employeeVacationDependingOnBalance.employeeid=this.employeeid,this._employeeVacationDependingOnBalance.id=this.employeeVacationID,this.GetVacationsBalanceDeductedDays(),this.GetEmployeeDataForValidation(),this.GetVactionTypes(),this.GetMethodOfPayingDues(),this.GetImmediatePaymentInclusions(),this.GetWorkingDaysValueBeforeVacations()}GetEmployeeDataForValidation(){this._employeeVacationsService.GetEmployeeDataForValidation(this.employeeid).subscribe(e=>{null!=e&&(null!=e.workstartdate&&(this.EmployeeWorkStartDate=e.workstartdate,this.EmployeeVacationSTPDaysSubtracted=e.vacationstpdayssubtracted,this.EmployeeReligionId=e.religionid,this.EmployeeGender=e.gender),null!=e.dependingonbalancedate&&(this.EmployeeVacationDependingOnBalanceDate=e.dependingonbalancedate))})}GetVactionTypes(){this._employeeVacationsService.GetVacationsTypesDependingOnBalanceForDropdown(this.subsidiaryID).subscribe(e=>{this.VactionTypeList=e,this.cd.markForCheck()})}GetMethodOfPayingDues(){this._employeesService.GetStaticValues("MethodOfPayingDues").subscribe(e=>{this.MethodOfPayingDuesList=e,this.cd.markForCheck()})}GetImmediatePaymentInclusions(){this._employeesService.GetStaticValues("ImmediatePaymentInclusions").subscribe(e=>{this.ImmediatePaymentInclusionsList=e,this.cd.markForCheck()})}GetWorkingDaysValueBeforeVacations(){this._employeesService.GetStaticValues("WorkingDaysValueBeforeVacation").subscribe(e=>{this.WorkingDaysValueBeforeVacationList=e,this.cd.markForCheck()})}GetVacationsBalanceDeductedDays(){this._employeesService.GetStaticValues("VacationsBalanceDeductedDays").subscribe(e=>{this.VacationsBalanceDeductedDaysList=e,this._employeeVacationDependingOnBalance.vacationsbalancededucteddays=this.VacationsBalanceDeductedDaysList.filter(e=>1==e.isdefaultselection)[0].id,this.cd.markForCheck(),this._employeesService.GetStaticValues("FridaysEffectOnVacationsBalance").subscribe(e=>{this.FridaysEffectOnVacationsBalanceList=e,this._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance=this.FridaysEffectOnVacationsBalanceList.filter(e=>1==e.isdefaultselection)[0].id,this.cd.markForCheck(),this._employeesService.GetStaticValues("OfficialHolidaysEffectOnVacationDues").subscribe(e=>{this.OfficialHolidaysEffectOnVacationDuesList=e,this._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues=this.OfficialHolidaysEffectOnVacationDuesList.filter(e=>1==e.isdefaultselection)[0].id,this.cd.markForCheck(),this.GetData()})})})}GetEmployeeVacationTypeCountServicePeriod(){var e=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].timestaken,t=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].timestakentype;null!=e&&null!=t&&1==t&&this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypeCountServicePeriod(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid).subscribe(t=>{t.vacationcount>=e&&M().fire({icon:"error",title:this.Erorr,text:this.NumberOfTimesAllocatedVacation,confirmButtonText:this.Approval}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&(this._employeeVacationDependingOnBalance.typeid=null)})})}GetEmployeeVacationTypeCountYearly(){if(this.isTimesTakenYearlyExceed=!1,null!=this._employeeVacationDependingOnBalance.typeid&&null!=this._employeeVacationDependingOnBalance.startdate&&this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var e=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].timestaken,t=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].timestakentype;if(null!=e&&null!=t&&2==t){var n=new Date(this.EmployeeWorkStartDate),a=new Date(n);do{if(n=new Date(a),a.setFullYear(a.getFullYear()+1),new Date(this._employeeVacationDependingOnBalance.startdate)>=n&&new Date(this._employeeVacationDependingOnBalance.startdate)<=a)break}while(new Date(this._employeeVacationDependingOnBalance.startdate)<n||new Date(this._employeeVacationDependingOnBalance.startdate)>a);this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypeCountYearly(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid,n.toISOString(),a.toISOString()).subscribe(t=>{this.isTimesTakenYearlyExceed=t.vacationcount>=e})}}}GetEmployeeVacationTypePeriod(){if(this.isAnnualUpperLimitExceed=!1,null!=this._employeeVacationDependingOnBalance.typeid&&null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.enddate&&this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var e=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].annualupperlimit,t=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].timestakentype,n=new Date(this._employeeVacationDependingOnBalance.enddate).getDate()-new Date(this._employeeVacationDependingOnBalance.startdate).getDate()+1;if(null!=e&&null!=t)if(2==t){var a=new Date(this.EmployeeWorkStartDate),i=new Date(a);do{if(a=new Date(i),i.setFullYear(i.getFullYear()+1),new Date(this._employeeVacationDependingOnBalance.startdate)>=a&&new Date(this._employeeVacationDependingOnBalance.startdate)<=i)break}while(new Date(this._employeeVacationDependingOnBalance.startdate)<a||new Date(this._employeeVacationDependingOnBalance.startdate)>i);this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypePeriodYearly(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid,a.toISOString(),i.toISOString()).subscribe(t=>{t.vacationperiod+n>=e?(this.isAnnualUpperLimitExceed=!0,this.AnnualUpperLimitAllowedPeriod=e-t.vacationperiod):this.isAnnualUpperLimitExceed=!1})}else 1==t&&this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypePeriodServicePeriod(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid).subscribe(t=>{t.vacationperiod+n>=e?(this.isAnnualUpperLimitExceed=!0,this.AnnualUpperLimitAllowedPeriod=e-t.vacationperiod):this.isAnnualUpperLimitExceed=!1})}}GetData(){0==this.employeeVacationID?this._employeeVacationsService.GetMaxCodeDependingOnBalance(this.subsidiaryID).subscribe(e=>{this._employeeVacationDependingOnBalance.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this._oldEmployeeVacationDependingOnBalance=JSON.stringify(this._employeeVacationDependingOnBalance),this.cd.markForCheck()}):this._employeeVacationsService.GetDependingOnBalanceById(this.employeeVacationID).subscribe(e=>{this._employeeVacationDependingOnBalance.id=e.id,this._employeeVacationDependingOnBalance.code=e.code,this._employeeVacationDependingOnBalance.employeeid=e.employeeid,this._employeeVacationDependingOnBalance.startdate=e.startdate,this._employeeVacationDependingOnBalance.enddate=e.enddate,this._employeeVacationDependingOnBalance.typeid=e.typeid,this._employeeVacationDependingOnBalance.methodofpayingdues=e.methodofpayingdues,this._employeeVacationDependingOnBalance.immediatepaymentinclusions=e.immediatepaymentinclusions,this._employeeVacationDependingOnBalance.workingdaysvaluebeforevacation=e.workingdaysvaluebeforevacation,this._employeeVacationDependingOnBalance.vacationsbalancededucteddays=e.vacationsbalancededucteddays,this._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance=e.fridayseffectonvacationsbalance,this._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues=e.officialholidayseffectonvacationdues,this._employeeVacationDependingOnBalance.monthofduespayment=e.monthofduespayment,this._employeeVacationDependingOnBalance.referenceno=e.referenceno,this._employeeVacationDependingOnBalance.vacationreason=e.vacationreason,this._employeeVacationDependingOnBalance.phonenumberduringvacation=e.phonenumberduringvacation,this._employeeVacationDependingOnBalance.notes=e.notes,this._employeeVacationDependingOnBalance.classificationid=e.classificationid,this._employeeVacationDependingOnBalance.subsidaryid=e.subsidaryid,this._oldEmployeeVacationDependingOnBalance=JSON.stringify(this._employeeVacationDependingOnBalance),this.cd.markForCheck()})}getDateDifferences(e,t,n){const a=new Date(t);a.setDate(a.getDate()-Math.ceil(n));let i=Math.round(Math.abs((a.getTime()-e.getTime())/864e5)),l=a.getFullYear()-e.getFullYear();const o=12*l+a.getMonth()-e.getMonth();l=Math.floor(o/12),a.getMonth()===e.getMonth()&&a.getDate()<e.getDate()&&l--;let r=Math.abs(o%12);a.getDate()<e.getDate()&&r--;let s=a.getDate()-e.getDate();if(s<0&&(s+=new Date(a.getFullYear(),a.getMonth(),0).getDate()),n>0){const t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();i>t&&(i=t)}this.NetServicePeriodAtVacationStartDate="ar"==this.lang?l+" \u0633\u0646\u0629 \u0648 "+r+" \u0634\u0647\u0631 \u0648 "+s+" \u064a\u0648\u0645":l+" Year , "+r+" Month , "+s+" Day"}CalculateNetServicePeriodAtVacationStartDate(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeVacationDependingOnBalance.startdate),this.EmployeeVacationSTPDaysSubtracted)}validateMonthDuesPaymentDateRange(){if(this.isMonthDuesPaymentDateRangeExceed=!1,null!=this._employeeVacationDependingOnBalance.monthofduespayment&&null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.enddate){var e=new Date(this._employeeVacationDependingOnBalance.startdate);e.setMonth(new Date(this._employeeVacationDependingOnBalance.startdate).getMonth()-3),e.setDate(1),e.setHours(1);var t=new Date(this._employeeVacationDependingOnBalance.enddate);t.setMonth(new Date(this._employeeVacationDependingOnBalance.enddate).getMonth()+3),t.setDate(1),t.setHours(1);var n=new Date(this._employeeVacationDependingOnBalance.monthofduespayment);n.setHours(1),this.isMonthDuesPaymentDateRangeExceed=!(n>=e&&n<=t)}}onVacationStartDateChange(){null==this.EmployeeVacationDependingOnBalanceDate?this.isVacationStartDateValid=!(this.EmployeeWorkStartDate>this._employeeVacationDependingOnBalance.startdate):this.isVacationStartDateValidWithLastDate=!(this.EmployeeVacationDependingOnBalanceDate>this._employeeVacationDependingOnBalance.startdate),this.onVacationEndDateChange(),this.CalculateNetServicePeriodAtVacationStartDate(),this.checkOnVacationEarnedAfterDate(),this.GetEmployeeVacationTypeCountYearly(),this.GetEmployeeVacationTypePeriod(),this.validateMonthDuesPaymentDateRange()}onVacationEndDateChange(){this.isVacationEndDateValid=!(this._employeeVacationDependingOnBalance.enddate<this._employeeVacationDependingOnBalance.startdate),this.GetEmployeeVacationTypePeriod(),this.validateMonthDuesPaymentDateRange()}onVacationTypeChange(){if(this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var e=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].genderid,t=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].religionid;(null!==e&&e!==this.EmployeeGender||null!==t&&t!==this.EmployeeReligionId)&&M().fire({icon:"error",title:this.Erorr,text:this.PersonalDataNotComply,confirmButtonText:this.Approval}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&(this._employeeVacationDependingOnBalance.typeid=null)}),this.GetEmployeeVacationTypeCountServicePeriod()}this.checkOnVacationEarnedAfterDate(),this.GetEmployeeVacationTypeCountYearly(),this.GetEmployeeVacationTypePeriod(),this.ReasonIsMandatory=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].reasonismandatory,this.PhoneNumberIsMandatory=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].phonenumberismandatory}checkOnVacationEarnedAfterDate(){if(null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.typeid){var e=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].earnedafter,t=this.VactionTypeList.filter(e=>e.id==this._employeeVacationDependingOnBalance.typeid)[0].earnedaftertype;if(null!=e&&null!=t){const n=new Date(this.EmployeeWorkStartDate);1==t?n.setMonth(n.getMonth()+e):n.setDate(n.getDate()+e),this.isPeriodNotCompleted=n>new Date(this._employeeVacationDependingOnBalance.startdate)}}}onMonthOfDuesPaymentChange(){this.isMonthOfDuesPaymentValid=!(this.EmployeeWorkStartDate>this._employeeVacationDependingOnBalance.monthofduespayment),this.validateMonthDuesPaymentDateRange()}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(){this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.isVacationStartDateValid&&this.isVacationStartDateValidWithLastDate&&!this.isPeriodNotCompleted&&!this.isTimesTakenYearlyExceed&&!this.isAnnualUpperLimitExceed&&this.isVacationEndDateValid&&this.isMonthOfDuesPaymentValid&&!this.isMonthDuesPaymentDateRangeExceed&&(!this.ReasonIsMandatory||this._employeeVacationDependingOnBalance.vacationreason.length>=4&&this.ReasonIsMandatory)&&(!this.PhoneNumberIsMandatory||this._employeeVacationDependingOnBalance.phonenumberduringvacation.length>=4&&this.PhoneNumberIsMandatory)&&(this._employeeVacationDependingOnBalance.employeeid=this.employeeid,this._employeeVacationDependingOnBalance.subsidaryid=this.subsidiaryID,this._employeeVacationDependingOnBalance.id>0?this._employeeVacationsService.UpdateDependingOnBalance(this._employeeVacationDependingOnBalance).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}):this._employeeVacationsService.CreateDependingOnBalance(this._employeeVacationDependingOnBalance).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}),this.manuallySubmitted=!1)}NotToMissData(e){return(0,Fe.mG)(this,void 0,void 0,function*(){if(this._oldEmployeeVacationDependingOnBalance!==JSON.stringify(this._employeeVacationDependingOnBalance)){const e=yield M().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});return!e.isConfirmed||1!=e.isConfirmed}return!0})}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](d.F0),f["\u0275\u0275directiveInject"](d.gz),f["\u0275\u0275directiveInject"](L.K),f["\u0275\u0275directiveInject"](p.sK),f["\u0275\u0275directiveInject"](f.ChangeDetectorRef),f["\u0275\u0275directiveInject"](F.e),f["\u0275\u0275directiveInject"](P._W),f["\u0275\u0275directiveInject"](k.m),f["\u0275\u0275directiveInject"](A.M),f["\u0275\u0275directiveInject"](Le.C))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-data-summary-form"]],viewQuery:function(e,t){if(1&e&&f["\u0275\u0275viewQuery"](Tt,5),2&e){let e;f["\u0275\u0275queryRefresh"](e=f["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid",employeeVacationID:"employeeVacationID",annualVacationTypeId:"annualVacationTypeId",calculatingDuesDays:"calculatingDuesDays"},outputs:{parentGetData:"parentGetData"},decls:109,vars:48,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row",2,"background-color","aliceblue"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","BalanceDue",1,"col-form-label"],["type","text","name","BalanceDue","disabled","",1,"form-control"],["id","ActualVacationPeriod",1,"col-form-label"],["type","text","name","ActualVacationPeriod","disabled","",1,"form-control"],["id","Fridays",1,"col-form-label"],["type","text","name","Fridays","disabled","",1,"form-control"],["id","OfficialHolidays",1,"col-form-label"],["type","text","name","OfficialHolidays","disabled","",1,"form-control"],["id","NetVacationDays",1,"col-form-label"],["type","text","name","NetVacationDays","disabled","",1,"form-control"],["id","DeductedFromBalance",1,"col-form-label"],["type","text","name","DeductedFromBalance","disabled","",1,"form-control"],["id","DaysWithoutPay",1,"col-form-label"],["type","text","name","DaysWithoutPay","disabled","",1,"form-control"],["id","RemainingBalance",1,"col-form-label"],["type","text","name","RemainingBalance","disabled","",1,"form-control"],["id","GrantDaysNonDeductible",1,"col-form-label"],["type","text","name","GrantDaysNonDeductible","disabled","",1,"form-control"],["id","WorkdaysBeforeLeave",1,"col-form-label"],["type","text","name","WorkdaysBeforeLeave","disabled","",1,"form-control"],["id","PaidPeriodUntil",1,"col-form-label"],["type","text","name","PaidPeriodUntil","disabled","",1,"form-control"],["id","SalaryAndAllowances",1,"col-form-label"],["type","text","name","SalaryAndAllowances","disabled","",1,"form-control"],["id","NetReceivable",1,"col-form-label"],["type","text","name","NetReceivable","disabled","",1,"form-control"],["id","ReturnStatus",1,"col-form-label"],["type","text","name","ReturnStatus","disabled","",1,"form-control"],["id","Plannedenddate",1,"col-form-label"],["type","text","name","Plannedenddate","disabled","",1,"form-control"],["id","ReturnDaysDifference",1,"col-form-label"],["type","text","name","ReturnDaysDifference","disabled","",1,"form-control"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"section"),f["\u0275\u0275elementStart"](1,"form",0,1),f["\u0275\u0275elementStart"](3,"div",2),f["\u0275\u0275elementStart"](4,"div",3),f["\u0275\u0275elementStart"](5,"div",4),f["\u0275\u0275elementStart"](6,"div",5),f["\u0275\u0275elementStart"](7,"div",6),f["\u0275\u0275elementStart"](8,"label",7),f["\u0275\u0275text"](9),f["\u0275\u0275pipe"](10,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](11,"input",8),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](12,"div",5),f["\u0275\u0275elementStart"](13,"div",6),f["\u0275\u0275elementStart"](14,"label",9),f["\u0275\u0275text"](15),f["\u0275\u0275pipe"](16,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](17,"input",10),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](18,"div",5),f["\u0275\u0275elementStart"](19,"div",6),f["\u0275\u0275elementStart"](20,"label",11),f["\u0275\u0275text"](21),f["\u0275\u0275pipe"](22,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](23,"input",12),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](24,"div",5),f["\u0275\u0275elementStart"](25,"div",6),f["\u0275\u0275elementStart"](26,"label",13),f["\u0275\u0275text"](27),f["\u0275\u0275pipe"](28,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](29,"input",14),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](30,"div",3),f["\u0275\u0275elementStart"](31,"div",4),f["\u0275\u0275elementStart"](32,"div",5),f["\u0275\u0275elementStart"](33,"div",6),f["\u0275\u0275elementStart"](34,"label",15),f["\u0275\u0275text"](35),f["\u0275\u0275pipe"](36,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](37,"input",16),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](38,"div",5),f["\u0275\u0275elementStart"](39,"div",6),f["\u0275\u0275elementStart"](40,"label",17),f["\u0275\u0275text"](41),f["\u0275\u0275pipe"](42,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](43,"input",18),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](44,"div",5),f["\u0275\u0275elementStart"](45,"div",6),f["\u0275\u0275elementStart"](46,"label",19),f["\u0275\u0275text"](47),f["\u0275\u0275pipe"](48,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](49,"input",20),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](50,"div",5),f["\u0275\u0275elementStart"](51,"div",6),f["\u0275\u0275elementStart"](52,"label",21),f["\u0275\u0275text"](53),f["\u0275\u0275pipe"](54,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](55,"input",22),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](56,"div",2),f["\u0275\u0275elementStart"](57,"div",3),f["\u0275\u0275elementStart"](58,"div",4),f["\u0275\u0275elementStart"](59,"div",5),f["\u0275\u0275elementStart"](60,"div",6),f["\u0275\u0275elementStart"](61,"label",23),f["\u0275\u0275text"](62),f["\u0275\u0275pipe"](63,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](64,"input",24),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](65,"div",5),f["\u0275\u0275elementStart"](66,"div",6),f["\u0275\u0275elementStart"](67,"label",25),f["\u0275\u0275text"](68),f["\u0275\u0275pipe"](69,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](70,"input",26),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](71,"div",5),f["\u0275\u0275elementStart"](72,"div",6),f["\u0275\u0275elementStart"](73,"label",27),f["\u0275\u0275text"](74),f["\u0275\u0275pipe"](75,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](76,"input",28),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](77,"div",5),f["\u0275\u0275elementStart"](78,"div",6),f["\u0275\u0275elementStart"](79,"label",29),f["\u0275\u0275text"](80),f["\u0275\u0275pipe"](81,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](82,"input",30),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](83,"div",3),f["\u0275\u0275elementStart"](84,"div",4),f["\u0275\u0275elementStart"](85,"div",5),f["\u0275\u0275elementStart"](86,"div",6),f["\u0275\u0275elementStart"](87,"label",31),f["\u0275\u0275text"](88),f["\u0275\u0275pipe"](89,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](90,"input",32),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](91,"div",5),f["\u0275\u0275elementStart"](92,"div",6),f["\u0275\u0275elementStart"](93,"label",33),f["\u0275\u0275text"](94),f["\u0275\u0275pipe"](95,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](96,"input",34),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](97,"div",5),f["\u0275\u0275elementStart"](98,"div",6),f["\u0275\u0275elementStart"](99,"label",35),f["\u0275\u0275text"](100),f["\u0275\u0275pipe"](101,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](102,"input",36),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](103,"div",5),f["\u0275\u0275elementStart"](104,"div",6),f["\u0275\u0275elementStart"](105,"label",37),f["\u0275\u0275text"](106),f["\u0275\u0275pipe"](107,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](108,"input",38),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](9),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](10,16,"BalanceDue")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](16,18,"ActualVacationPeriod")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](22,20,"Fridays")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](28,22,"OfficialHolidays")),f["\u0275\u0275advance"](8),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](36,24,"NetVacationDays")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](42,26,"DeductedFromBalance")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](48,28,"DaysWithoutPay")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](54,30,"RemainingBalance")),f["\u0275\u0275advance"](9),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](63,32,"GrantDaysNonDeductible")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](69,34,"WorkdaysBeforeLeave")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](75,36,"PaidPeriodUntil")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](81,38,"SalaryAndAllowances")),f["\u0275\u0275advance"](8),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](89,40,"NetReceivable")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](95,42,"ReturnStatus")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](101,44,"Plannedenddate")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](107,46,"ReturnDaysDifference")))},directives:[o._Y,o.JL,o.F],pipes:[p.X$],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();const Ft=["dependingOnBalance"];function Lt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",2),f["\u0275\u0275elementStart"](1,"h1"),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function At(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",2),f["\u0275\u0275elementStart"](1,"h1"),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](3,1,"NecessarySettingsMissing")," "))}function Rt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function Gt(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Ut(e,t){if(1&e&&(f["\u0275\u0275template"](0,Rt,2,1,"div",1),f["\u0275\u0275template"](1,Gt,2,1,"div",1)),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275property"]("ngIf","ar"==e.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function jt(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",21),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).OnSave()}),f["\u0275\u0275element"](1,"i",22),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementEnd"]()}2&e&&(f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](3,1,"Save")," "))}function $t(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",23),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).onAddClick()}),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()}2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"Add")," "))}function Yt(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"button",24),f["\u0275\u0275listener"]("click",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).onDeleteClick()}),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()}2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"Delete")," "))}function Wt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"button",25),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"Print")," "))}const zt=function(e,t){return{"invalid-data":e,"valid-data":t}};function qt(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"section"),f["\u0275\u0275elementStart"](1,"div",3),f["\u0275\u0275elementStart"](2,"div",4),f["\u0275\u0275elementStart"](3,"div",5),f["\u0275\u0275elementStart"](4,"h6",6),f["\u0275\u0275text"](5),f["\u0275\u0275pipe"](6,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"div",7),f["\u0275\u0275elementStart"](8,"div",8),f["\u0275\u0275elementStart"](9,"div",9),f["\u0275\u0275elementStart"](10,"div",10),f["\u0275\u0275elementStart"](11,"label",11),f["\u0275\u0275text"](12),f["\u0275\u0275pipe"](13,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](14,"p-autoComplete",12,13),f["\u0275\u0275listener"]("completeMethod",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().onCompleteEmployeeAuto(t)})("onFocus",function(t){f["\u0275\u0275restoreView"](e);const n=f["\u0275\u0275reference"](15);return f["\u0275\u0275nextContext"]().onFocusInAutoEmployeeComplete(t),n.show()})("onSelect",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().onSelectEmployeeAuto(t)})("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().selectedEmployee=t}),f["\u0275\u0275template"](16,Ut,2,2,"ng-template",14),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](17,"div",15),f["\u0275\u0275elementStart"](18,"div",16),f["\u0275\u0275template"](19,jt,4,3,"button",17),f["\u0275\u0275template"](20,$t,3,3,"button",18),f["\u0275\u0275template"](21,Yt,3,3,"button",19),f["\u0275\u0275template"](22,Wt,3,3,"button",20),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](6,13,"VacationRegistration")," "),f["\u0275\u0275advance"](7),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](13,15,"employeeid")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",e.selectedEmployee)("suggestions",e.employeeList)("dataKey","ar"==e.lang?"name_ar":"name")("field","ar"==e.lang?"name_ar":"name")("ngClass",f["\u0275\u0275pureFunction2"](17,zt,e.employeeTextboxInvalid,!e.employeeTextboxInvalid)),f["\u0275\u0275advance"](4),f["\u0275\u0275styleMap"]("ar"==e.lang?"text-align: left;":"text-align: right;"),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.checkRoleParms(425)||e.checkRoleParms(426)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.checkRoleParms(425)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.checkRoleParms(428)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.checkRoleParms(429))}}function Ht(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275elementStart"](1,"app-depending-on-balance-form",45,46),f["\u0275\u0275listener"]("parentGetData",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](4).GetData()}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"](4);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("employeeid",e.employeeid)("employeeVacationID",e.employeeVacationID)("annualVacationTypeId",e.annualVacationTypeId)("calculatingDuesDays",e.calculatingduesdays)}}function Kt(e,t){if(1&e&&f["\u0275\u0275template"](0,Ht,3,4,"div",1),2&e){const e=f["\u0275\u0275nextContext"](3);f["\u0275\u0275property"]("ngIf",(e.isAddMode||e.isEditMode)&&1==e.employeeVacationIDClassificationID)}}function Jt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"li",42),f["\u0275\u0275elementStart"](1,"a",43),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](4,Kt,1,1,"ng-template",44),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275property"]("ngbNavItem",1),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](3,2,"DependingOnBalance")))}function Qt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1," 2 "),f["\u0275\u0275elementEnd"]())}function Xt(e,t){if(1&e&&f["\u0275\u0275template"](0,Qt,2,0,"div",1),2&e){const e=f["\u0275\u0275nextContext"](3);f["\u0275\u0275property"]("ngIf",(e.isAddMode||e.isEditMode)&&2==e.employeeVacationIDClassificationID)}}function Zt(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"li",42),f["\u0275\u0275elementStart"](1,"a",43),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](4,Xt,1,1,"ng-template",44),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275property"]("ngbNavItem",2),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](3,2,"Notaffectbalance")))}function en(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1," 4 "),f["\u0275\u0275elementEnd"]())}function tn(e,t){if(1&e&&f["\u0275\u0275template"](0,en,2,0,"div",1),2&e){const e=f["\u0275\u0275nextContext"](3);f["\u0275\u0275property"]("ngIf",(e.isAddMode||e.isEditMode)&&4==e.employeeVacationIDClassificationID)}}function nn(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"li",42),f["\u0275\u0275elementStart"](1,"a",43),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](4,tn,1,1,"ng-template",44),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275property"]("ngbNavItem",4),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](3,2,"SickVacation")))}function an(e,t){1&e&&f["\u0275\u0275element"](0,"app-data-summary-form")}function ln(e,t){1&e&&f["\u0275\u0275text"](0," 2 ")}function on(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"button",51),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"RecalculateValues")," "))}function rn(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275elementStart"](1,"ul",27,48),f["\u0275\u0275listener"]("activeIdChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](3).subActiveId=t})("navChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](3).onNavSubChange(t)}),f["\u0275\u0275elementStart"](3,"li",42),f["\u0275\u0275elementStart"](4,"a",43),f["\u0275\u0275text"](5),f["\u0275\u0275pipe"](6,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](7,an,1,0,"ng-template",44),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](8,"li",42),f["\u0275\u0275elementStart"](9,"a",43),f["\u0275\u0275text"](10),f["\u0275\u0275pipe"](11,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](12,ln,1,0,"ng-template",44),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"li",49),f["\u0275\u0275template"](14,on,3,3,"button",50),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](15,"div",30),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275reference"](2),t=f["\u0275\u0275nextContext"](3);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("activeId",t.subActiveId),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngbNavItem",1),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](6,10,"DataSummary")),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngbNavItem",2),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](11,12,"DuesDetails")),f["\u0275\u0275advance"](3),f["\u0275\u0275styleMap"]("ar"==t.lang?"text-align: left;":"text-align: right;"),f["\u0275\u0275property"]("ngbNavItem",3),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.checkRoleParms(427)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngbNavOutlet",e)}}function sn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",47),f["\u0275\u0275template"](1,rn,16,14,"div",1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.isAddMode||e.isEditMode)}}function cn(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",52),f["\u0275\u0275elementStart"](1,"div",53),f["\u0275\u0275elementStart"](2,"div",8),f["\u0275\u0275elementStart"](3,"div",15),f["\u0275\u0275elementStart"](4,"div",10),f["\u0275\u0275elementStart"](5,"label",54),f["\u0275\u0275text"](6),f["\u0275\u0275pipe"](7,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](8,"input",55),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"div",15),f["\u0275\u0275elementStart"](10,"div",10),f["\u0275\u0275elementStart"](11,"label",56),f["\u0275\u0275text"](12),f["\u0275\u0275pipe"](13,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](14,"input",57),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"div",15),f["\u0275\u0275elementStart"](16,"div",10),f["\u0275\u0275elementStart"](17,"label",58),f["\u0275\u0275text"](18),f["\u0275\u0275pipe"](19,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](20,"input",59),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](21,"div",15),f["\u0275\u0275elementStart"](22,"div",10),f["\u0275\u0275elementStart"](23,"label",60),f["\u0275\u0275text"](24),f["\u0275\u0275pipe"](25,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](26,"input",61),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](27,"div",53),f["\u0275\u0275elementStart"](28,"div",8),f["\u0275\u0275elementStart"](29,"div",15),f["\u0275\u0275elementStart"](30,"div",10),f["\u0275\u0275elementStart"](31,"label",62),f["\u0275\u0275text"](32),f["\u0275\u0275pipe"](33,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](34,"input",63),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](35,"div",15),f["\u0275\u0275elementStart"](36,"div",10),f["\u0275\u0275elementStart"](37,"label",64),f["\u0275\u0275text"](38),f["\u0275\u0275pipe"](39,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](40,"input",65),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](41,"div",15),f["\u0275\u0275elementStart"](42,"div",10),f["\u0275\u0275elementStart"](43,"label",66),f["\u0275\u0275text"](44),f["\u0275\u0275pipe"](45,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](46,"input",67),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](47,"div",15),f["\u0275\u0275elementStart"](48,"div",10),f["\u0275\u0275elementStart"](49,"label",68),f["\u0275\u0275text"](50),f["\u0275\u0275pipe"](51,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](52,"input",69),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](7,8,"WorkStartDate")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](13,10,"VacationTo")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](19,12,"VacationAfterThat")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](25,14,"CurrentBasicSalary")),f["\u0275\u0275advance"](8),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](33,16,"LeaveRelatedAllowances")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](39,18,"StartDateOfLastLeave")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](45,20,"LastReturnDate")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](51,22,"DepletedBalance")))}function dn(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",70),f["\u0275\u0275elementStart"](1,"div",71),f["\u0275\u0275elementStart"](2,"div",10),f["\u0275\u0275elementStart"](3,"input",72),f["\u0275\u0275listener"]("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).ViewVacationsAllClassifications=t})("change",function(){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).OnViewVacationsAllClassificationsChange()}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"label",73),f["\u0275\u0275text"](5),f["\u0275\u0275pipe"](6,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngModel",e.ViewVacationsAllClassifications),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](6,2,"ViewVacationsAllClassifications"))}}function pn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](null==e?null:e.classificationname_ar)}}function mn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](null==e?null:e.classificationname_en)}}function hn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](null==e?null:e.vacationstypename_ar)}}function un(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](null==e?null:e.vacationstypename_en)}}function yn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](null==e?null:e.methodofpayingdues_ar)}}function gn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"span"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](null==e?null:e.methodofpayingdues_en)}}function fn(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"span"),f["\u0275\u0275elementStart"](1,"button",75),f["\u0275\u0275listener"]("click",function(){f["\u0275\u0275restoreView"](e);const t=f["\u0275\u0275nextContext"]().$implicit;return f["\u0275\u0275nextContext"](2).onEditClick(t.id,t.classificationid,t.classificationrowno)}),f["\u0275\u0275element"](2,"i",76),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}}function vn(e,t){if(1&e&&(f["\u0275\u0275elementContainerStart"](0),f["\u0275\u0275elementStart"](1,"tr",74),f["\u0275\u0275elementStart"](2,"td",36),f["\u0275\u0275elementStart"](3,"div"),f["\u0275\u0275elementStart"](4,"span"),f["\u0275\u0275text"](5),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](6,"td"),f["\u0275\u0275elementStart"](7,"div"),f["\u0275\u0275template"](8,pn,2,1,"span",1),f["\u0275\u0275template"](9,mn,2,1,"span",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](10,"td"),f["\u0275\u0275elementStart"](11,"div"),f["\u0275\u0275template"](12,hn,2,1,"span",1),f["\u0275\u0275template"](13,un,2,1,"span",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](14,"td"),f["\u0275\u0275elementStart"](15,"div"),f["\u0275\u0275elementStart"](16,"span"),f["\u0275\u0275text"](17),f["\u0275\u0275pipe"](18,"date"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](19,"td"),f["\u0275\u0275elementStart"](20,"div"),f["\u0275\u0275elementStart"](21,"span"),f["\u0275\u0275text"](22),f["\u0275\u0275pipe"](23,"date"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](24,"td"),f["\u0275\u0275elementStart"](25,"div"),f["\u0275\u0275element"](26,"span"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](27,"td"),f["\u0275\u0275elementStart"](28,"div"),f["\u0275\u0275element"](29,"span"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](30,"td",37),f["\u0275\u0275elementStart"](31,"div"),f["\u0275\u0275elementStart"](32,"span"),f["\u0275\u0275text"](33),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](34,"td",37),f["\u0275\u0275elementStart"](35,"div"),f["\u0275\u0275element"](36,"span"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](37,"td",38),f["\u0275\u0275elementStart"](38,"div"),f["\u0275\u0275element"](39,"span"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](40,"td",38),f["\u0275\u0275elementStart"](41,"div"),f["\u0275\u0275element"](42,"span"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](43,"td"),f["\u0275\u0275elementStart"](44,"div"),f["\u0275\u0275elementStart"](45,"div"),f["\u0275\u0275template"](46,yn,2,1,"span",1),f["\u0275\u0275template"](47,gn,2,1,"span",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](48,"td",39),f["\u0275\u0275elementStart"](49,"div"),f["\u0275\u0275template"](50,fn,3,0,"span",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](null==e?null:e.rowno),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind2"](18,11,null==e?null:e.startdate,"dd/MM/yyyy")),f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind2"](23,14,null==e?null:e.enddate,"dd/MM/yyyy")),f["\u0275\u0275advance"](11),f["\u0275\u0275textInterpolate"](null==e?null:e.vacationperiod),f["\u0275\u0275advance"](13),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngIf",n.checkRoleParms(426))}}function Sn(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div",77),f["\u0275\u0275elementStart"](1,"ngb-pagination",78),f["\u0275\u0275listener"]("pageChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).PageNoChange(t)})("pageChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).PageNo=t}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](2,"p"),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"select",79),f["\u0275\u0275listener"]("change",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).PageSize=t}),f["\u0275\u0275elementStart"](5,"option",80),f["\u0275\u0275text"](6,"10 items per page"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"option",81),f["\u0275\u0275text"](8,"20 items per page"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"option",82),f["\u0275\u0275text"](10,"50 items per page"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](11,"option",83),f["\u0275\u0275text"](12,"100 items per page"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](13,"br"),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngModel",e.PageSize)}}function Dn(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"section"),f["\u0275\u0275elementStart"](1,"div",26),f["\u0275\u0275elementStart"](2,"div",8),f["\u0275\u0275elementStart"](3,"ul",27,28),f["\u0275\u0275listener"]("activeIdChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().activeId=t})("navChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().onNavChange(t)}),f["\u0275\u0275template"](5,Jt,5,4,"li",29),f["\u0275\u0275template"](6,Zt,5,4,"li",29),f["\u0275\u0275template"](7,nn,5,4,"li",29),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](8,"div",30),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](9,sn,2,1,"div",31),f["\u0275\u0275elementStart"](10,"div",32),f["\u0275\u0275elementStart"](11,"div",5),f["\u0275\u0275elementStart"](12,"h6",6),f["\u0275\u0275text"](13),f["\u0275\u0275pipe"](14,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](15,cn,53,24,"div",33),f["\u0275\u0275template"](16,dn,7,4,"div",34),f["\u0275\u0275elementStart"](17,"div"),f["\u0275\u0275elementStart"](18,"table",35),f["\u0275\u0275elementStart"](19,"thead"),f["\u0275\u0275elementStart"](20,"th",36),f["\u0275\u0275text"](21),f["\u0275\u0275pipe"](22,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](23,"th"),f["\u0275\u0275text"](24),f["\u0275\u0275pipe"](25,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](26,"th"),f["\u0275\u0275text"](27),f["\u0275\u0275pipe"](28,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](29,"th"),f["\u0275\u0275text"](30),f["\u0275\u0275pipe"](31,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](32,"th"),f["\u0275\u0275text"](33),f["\u0275\u0275pipe"](34,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](35,"th"),f["\u0275\u0275text"](36),f["\u0275\u0275pipe"](37,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](38,"th"),f["\u0275\u0275text"](39),f["\u0275\u0275pipe"](40,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](41,"th",37),f["\u0275\u0275text"](42),f["\u0275\u0275pipe"](43,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](44,"th",37),f["\u0275\u0275text"](45),f["\u0275\u0275pipe"](46,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](47,"th",38),f["\u0275\u0275text"](48),f["\u0275\u0275pipe"](49,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](50,"th",38),f["\u0275\u0275text"](51),f["\u0275\u0275pipe"](52,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](53,"th"),f["\u0275\u0275text"](54),f["\u0275\u0275pipe"](55,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](56,"th",39),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](57,"tbody"),f["\u0275\u0275template"](58,vn,51,17,"ng-container",40),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](59,Sn,14,7,"div",41),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275reference"](4),t=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("activeId",t.activeId),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",t.checkRoleParms(421)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.checkRoleParms(422)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.checkRoleParms(424)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngbNavOutlet",e),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.checkRoleParms(421)||t.checkRoleParms(422)||t.checkRoleParms(423)||t.checkRoleParms(424)),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](14,23,"EmployeeVacations")," "),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",t.employeeid>0),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.employeeid>0),f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](22,25,"SerialShort")),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](25,27,"VacationClassification")),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](28,29,"VacationType")),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](31,31,"StartDate")),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](34,33,"EndDate")),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](37,35,"ReturnDate")),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](40,37,"ReturnStatus")),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](43,39,"VacationPeriod")),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](46,41,"NetPeriod")),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](49,43,"Paiddays")),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](52,45,"DaysWithoutPay")),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](55,47,"MethodOfPayingDues")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("ngForOf",t.EmployeeVacationsList),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.totalCount>0)}}let bn=(()=>{class e{constructor(e,t,n,a,i,l,o,r,s,c,d,p,m){this._generalService=e,this.router=t,this.route=n,this.toastr=a,this.cdr=i,this._printService=l,this._Excel=o,this._convertToPDF=r,this._authService=s,this._TranslateGlobalService=c,this.translate=d,this._employeesService=p,this._employeeVacationsService=m,this.totalCount=0,this.subsidaryid=0,this.ID=0,this.errormsg="",this.Cancel="",this.DataSavedsuccessfully="",this.ChooseEmployeeFirst="",this.ChooseVacationFirst="",this.EmploymentDataIncomplete="",this.VacationsAfterDateDelete="",this.ClassificationHasNotPermission="",this.NoDataToSave="",this.Yes="",this.No="",this.MissData="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this._searchModel=new C.h,this._filterAttribute=new O.M,this.selectedEmployee={},this.previousSelectedEmployee={},this.employeeid=0,this.previousEmployeeID=0,this.employeeList=[],this.activeId=1,this.subActiveId=1,this.isEditMode=!1,this.isAddMode=!1,this.ViewVacationsAllClassifications=!0,this.employeeVacationID=0,this.employeeVacationIDClassificationID=0,this.employeeVacationIDClassificationRowNo=0,this.MissingSystemSettingData=!0,this.annualVacationTypeId=0,this.calculatingduesdays=!1,this.WorkStartDate=null,this.EmployeeVacationsList=[],this.employeeTextboxInvalid=!1,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang)}),this.ngTransUnsubscribe=this.translate.get(["Cancel","SaveMsg","checkname","DataSavedsuccessfully","NoDataToSave","No","MissData","savedChanges","Yes","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","ChooseEmployeeFirst","ChooseVacationFirst","EmploymentDataIncomplete","VacationsAfterDateDelete","ClassificationHasNotPermission"]).subscribe(e=>{this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.NoDataToSave=e.NoDataToSave,this.Cancel=e.Cancel,this.SaveMsg=e.SaveMsg,this.errormsg=e.checkname,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.ChooseEmployeeFirst=e.ChooseEmployeeFirst,this.ChooseVacationFirst=e.ChooseVacationFirst,this.EmploymentDataIncomplete=e.EmploymentDataIncomplete,this.VacationsAfterDateDelete=e.VacationsAfterDateDelete,this.ClassificationHasNotPermission=e.ClassificationHasNotPermission}),this.subsidaryid=this._generalService.SubsidiaryID,this.ngUnsubscribe=e.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidaryid&&(this.subsidaryid=this._generalService.SubsidiaryID,this.cdr.markForCheck()),this.subsidaryid!=this._generalService.SubsidiaryID&&this.subsidaryid>0&&(this.subsidaryid=this._generalService.SubsidiaryID,this.cdr.markForCheck())}),this.GetSystemSettingDataForValidation()}GetSystemSettingDataForValidation(){this._employeeVacationsService.GetSystemSettingDataForValidation(this.subsidaryid).subscribe(e=>{null!=e&&(e.annualvacationtypeid>0&&null!=e.datebeginningbalances&&(this.MissingSystemSettingData=!1,this.annualVacationTypeId=e.annualvacationtypeid),this.calculatingduesdays=null!=e.calculatingduesdays&&e.calculatingduesdays),this.cdr.markForCheck()})}GetEmployeeDataForValidation(){this.WorkStartDate=null,this._employeeVacationsService.GetEmployeeDataForValidation(this.employeeid).subscribe(e=>{null!=e&&null!=e.workstartdate&&(this.WorkStartDate=e.workstartdate)})}onCompleteEmployeeAuto(e){let t="";t=e.query?e.query.trim():"",this._employeesService.getHrEmployees(this.subsidaryid,t).subscribe(e=>{this.employeeList=[],this.employeeList=[...this.employeeList,...e],this.cdr.markForCheck()})}onFocusInAutoEmployeeComplete(e){let t=e.target.value;null!=t&&""!=t||this.onCompleteEmployeeAuto(e),this.onCompleteEmployeeAuto(e)}onSelectEmployeeAuto(e){return(0,Fe.mG)(this,void 0,void 0,function*(){this.employeeTextboxInvalid=!1,this.dependingOnBalance?(yield this.dependingOnBalance.NotToMissData("Change Employee"))?(this.DestroyDependingOnBalance(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData()):(this.employeeid=this.previousEmployeeID,this.selectedEmployee=this.previousSelectedEmployee):(this.DestroyDependingOnBalance(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData())})}onNavChange(e){return(0,Fe.mG)(this,void 0,void 0,function*(){e.preventDefault(),this.dependingOnBalance?(yield this.dependingOnBalance.NotToMissData("Change tab"))&&(this.activeId=e.nextId,this.GetData()):(this.activeId=e.nextId,this.GetData())})}onNavSubChange(e){3===e.nextId&&e.preventDefault()}ngOnInit(){}DestroyDependingOnBalance(){this.isAddMode=!1,this.isEditMode=!1}onAddClick(){return(0,Fe.mG)(this,void 0,void 0,function*(){this.dependingOnBalance?(yield this.dependingOnBalance.NotToMissData("Add click"))&&(this.DestroyDependingOnBalance(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(()=>{this.isAddMode=!0,this.isEditMode=!1,this.employeeVacationID=0,this.employeeVacationIDClassificationID=this.activeId,this.employeeVacationIDClassificationRowNo=0,this.cdr.markForCheck()},0))):(this.DestroyDependingOnBalance(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(()=>{this.isAddMode=!0,this.isEditMode=!1,this.employeeVacationID=0,this.employeeVacationIDClassificationID=this.activeId,this.employeeVacationIDClassificationRowNo=0,this.cdr.markForCheck()},0)))})}onEditClick(e,t,n){return(0,Fe.mG)(this,void 0,void 0,function*(){var a=this.checkRoleParms(421),i=this.checkRoleParms(422),l=this.checkRoleParms(423),o=this.checkRoleParms(424);1==t&&!a||2==t&&!i||3==t&&!l||4==t&&!o?this.toastr.error(this.ClassificationHasNotPermission):this.dependingOnBalance?(yield this.dependingOnBalance.NotToMissData("Edit click"))&&(this.DestroyDependingOnBalance(),setTimeout(()=>{this.isAddMode=!1,this.isEditMode=!0,this.employeeVacationID=e,this.employeeVacationIDClassificationID=t,this.employeeVacationIDClassificationRowNo=n,this.activeId=t,this.cdr.markForCheck()},0)):(this.DestroyDependingOnBalance(),setTimeout(()=>{this.isAddMode=!1,this.isEditMode=!0,this.employeeVacationID=e,this.employeeVacationIDClassificationID=t,this.employeeVacationIDClassificationRowNo=n,this.activeId=t,this.cdr.markForCheck()},0))})}onDeleteClick(){0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):0==this.employeeVacationID?this.toastr.error(this.ChooseVacationFirst):1!=this.employeeVacationIDClassificationRowNo?this.toastr.error(this.VacationsAfterDateDelete):(this.employeeTextboxInvalid=!1,M().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._employeeVacationsService.DeleteDependingOnBalance(this.employeeVacationID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeVacationID=0,this.employeeVacationIDClassificationID=this.activeId,this.employeeVacationIDClassificationRowNo=0,this.GetData()})}))}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}OnViewVacationsAllClassificationsChange(){this.GetData()}GetData(){var e=0;0==this.ViewVacationsAllClassifications&&(e=this.activeId),this._employeeVacationsService.GetAllEmployeeVacationsBy(this._searchModel,this.subsidaryid,this.employeeid,e).subscribe(e=>{this.EmployeeVacationsList=e,this.cdr.markForCheck()}),this._employeeVacationsService.CountOfEmployeeVacationBy(this._searchModel,this.subsidaryid,this.employeeid,e).subscribe(e=>{this.totalCount=e.employees,this.cdr.markForCheck()})}OnSave(){0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,this.dependingOnBalance.onSave())}OnPrint(e=0){}OnExcel(){}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](k.m),f["\u0275\u0275directiveInject"](d.F0),f["\u0275\u0275directiveInject"](d.gz),f["\u0275\u0275directiveInject"](P._W),f["\u0275\u0275directiveInject"](f.ChangeDetectorRef),f["\u0275\u0275directiveInject"](w.$),f["\u0275\u0275directiveInject"](T.x),f["\u0275\u0275directiveInject"](N.z),f["\u0275\u0275directiveInject"](F.e),f["\u0275\u0275directiveInject"](L.K),f["\u0275\u0275directiveInject"](p.sK),f["\u0275\u0275directiveInject"](A.M),f["\u0275\u0275directiveInject"](Le.C))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-vacation-registration"]],viewQuery:function(e,t){if(1&e&&f["\u0275\u0275viewQuery"](Ft,5),2&e){let e;f["\u0275\u0275queryRefresh"](e=f["\u0275\u0275loadQuery"]())&&(t.dependingOnBalance=e.first)}},features:[f["\u0275\u0275ProvidersFeature"]([])],decls:4,vars:4,consts:[["class","row","style","text-align: center",4,"ngIf"],[4,"ngIf"],[1,"row",2,"text-align","center"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","employeeid",1,"col-form-label"],["id","Employee","name","Employee",1,"inline-flex",3,"ngModel","suggestions","dataKey","field","ngClass","completeMethod","onFocus","onSelect","ngModelChange"],["autoEmployee",""],["pTemplate","item"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"col-lg-5","col-md-5","col-sm-12","mb-2","mb-md-0",2,"margin-top","30px"],["type","submit","class","btn btn-success mb-0 me-3 btn-md",3,"click",4,"ngIf"],["class","btn btn-success mb-0 me-3 btn-md",3,"click",4,"ngIf"],["class","btn btn-danger mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",4,"ngIf"],["type","submit",1,"btn","btn-success","mb-0","me-3","btn-md",3,"click"],[1,"ft-check-square","mr-1"],[1,"btn","btn-success","mb-0","me-3","btn-md",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted"],[1,"card"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],["style","margin-top: 20px","class","row",4,"ngIf"],[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],["class","row","style","\n        border: 1px ridge black;\n        width: 97.5%;\n        margin-top: 10px !important;\n        margin-right: 15px;\n        margin-left: 15px;\n        background-color: aliceblue;\n      ",4,"ngIf"],["class","row","style","\n        margin-right: 15px;\n        margin-left: 15px;\n        margin-bottom: 0px !important;\n      ",4,"ngIf"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","4%"],[2,"width","6%"],[2,"width","7%"],[2,"width","12%"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"employeeid","employeeVacationID","annualVacationTypeId","calculatingDuesDays","parentGetData"],["dependingOnBalance",""],[1,"row",2,"margin-top","20px"],["navSub","ngbNav"],[1,"mr-auto",3,"ngbNavItem"],["ngbNavLink","","class","btn btn-primary mb-0 me-3 ng-star-inserted",4,"ngIf"],["ngbNavLink","",1,"btn","btn-primary","mb-0","me-3","ng-star-inserted"],[1,"row",2,"border","1px ridge black","width","97.5%","margin-top","10px !important","margin-right","15px","margin-left","15px","background-color","aliceblue"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","WorkStartDate",1,"col-form-label"],["type","text","name","WorkStartDate","disabled","",1,"form-control"],["id","VacationTo",1,"col-form-label"],["type","text","name","VacationTo","disabled","",1,"form-control"],["id","VacationAfterThat",1,"col-form-label"],["type","text","name","VacationAfterThat","disabled","",1,"form-control"],["id","CurrentBasicSalary",1,"col-form-label"],["type","text","name","CurrentBasicSalary","disabled","",1,"form-control"],["id","LeaveRelatedAllowances",1,"col-form-label"],["type","text","name","LeaveRelatedAllowances","disabled","",1,"form-control"],["id","StartDateOfLastLeave",1,"col-form-label"],["type","text","name","StartDateOfLastLeave","disabled","",1,"form-control"],["id","LastReturnDate",1,"col-form-label"],["type","text","name","LastReturnDate","disabled","",1,"form-control"],["id","DepletedBalance",1,"col-form-label"],["type","text","name","DepletedBalance","disabled","",1,"form-control"],[1,"row",2,"margin-right","15px","margin-left","15px","margin-bottom","0px !important"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0",2,"margin-top","20px","margin-bottom","0px !important"],["type","checkbox","name","ViewVacationsAllClassifications",3,"ngModel","ngModelChange","change"],["for","sort",1,"col-form-label"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(f["\u0275\u0275template"](0,Lt,4,3,"div",0),f["\u0275\u0275template"](1,At,4,3,"div",0),f["\u0275\u0275template"](2,qt,23,20,"section",1),f["\u0275\u0275template"](3,Dn,60,49,"section",1)),2&e&&(f["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(421)||t.checkRoleParms(422)||t.checkRoleParms(423)||t.checkRoleParms(424))),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.MissingSystemSettingData),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!t.MissingSystemSettingData&&(t.checkRoleParms(421)||t.checkRoleParms(422)||t.checkRoleParms(423)||t.checkRoleParms(424))),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",!t.MissingSystemSettingData&&(t.checkRoleParms(421)||t.checkRoleParms(422)||t.checkRoleParms(423)||t.checkRoleParms(424))))},directives:[a.O5,s.Qc,o.JJ,o.On,a.mk,Ae.jx,U.Pz,U.tO,a.sg,U.nv,U.Vx,U.uN,wt,Nt,o.Wl,U.N9,o.EJ,o.YN,o.Kr],pipes:[p.X$,a.uU],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff!important;background-color:gray!important}.tab-content[_ngcontent-%COMP%]{border:1px ridge #000;margin-top:0!important;padding-top:0}.nav.nav-pills.nav-fill[_ngcontent-%COMP%], .tab-content[_ngcontent-%COMP%]{width:97.5%;margin-right:15px;margin-left:15px}"]}),e})();function xn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name_ar)}}function Vn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name)}}function En(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",22),f["\u0275\u0275template"](1,xn,2,1,"div",23),f["\u0275\u0275template"](2,Vn,2,1,"div",23),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("value",e.id),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function In(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name_ar)}}function Cn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](e.name)}}function Bn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"option",22),f["\u0275\u0275template"](1,In,2,1,"div",23),f["\u0275\u0275template"](2,Cn,2,1,"div",23),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=f["\u0275\u0275nextContext"]();f["\u0275\u0275property"]("value",e.id),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"==n.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}let On=(()=>{class e{constructor(e,t,n,a){this._generalService=e,this.cd=t,this._employeesService=n,this._employeeVacationsService=a,this.subsidiaryID=0,this.VactionTypeList=[],this.MethodOfPayingDuesList=[],this.subsidiaryID=this._generalService.SubsidiaryID}ngOnInit(){this.GetVactionTypes(),this.GetMethodOfPayingDues()}GetVactionTypes(){this._employeeVacationsService.GetVacationsTypesDependingOnBalanceForDropdown(this.subsidiaryID).subscribe(e=>{this.VactionTypeList=e,this.cd.markForCheck()})}GetMethodOfPayingDues(){this._employeesService.GetStaticValues("MethodOfPayingDues").subscribe(e=>{this.MethodOfPayingDuesList=e,this.cd.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](k.m),f["\u0275\u0275directiveInject"](f.ChangeDetectorRef),f["\u0275\u0275directiveInject"](A.M),f["\u0275\u0275directiveInject"](Le.C))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-return-from-vacation"]],decls:66,vars:37,consts:[["method","POST","role","form"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","TransactionNo",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","text","name","TransactionNo","disabled","",1,"form-control",3,"required"],["id","VacationStartDate",1,"col-form-label"],["type","Date","id","VacationStartDate","name","VacationStartDate","disabled","",1,"form-control"],["id","Plannedenddate",1,"col-form-label"],["type","Date","name","Plannedenddate","disabled","",1,"form-control"],["id","ActualEndDate",1,"col-form-label"],["type","Date","name","ActualEndDate",1,"form-control",3,"required"],["id","VacationType",1,"col-form-label"],["name","VacationType",1,"form-control"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","MethodPayingDues",1,"col-form-label"],["name","MethodPayingDues",1,"form-control"],["id","Dateoffirstsalary",1,"col-form-label"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control"],[3,"value"],[4,"ngIf"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"section"),f["\u0275\u0275elementStart"](1,"form",0),f["\u0275\u0275elementStart"](2,"div",1),f["\u0275\u0275elementStart"](3,"div",2),f["\u0275\u0275elementStart"](4,"div",3),f["\u0275\u0275elementStart"](5,"label",4),f["\u0275\u0275text"](6),f["\u0275\u0275pipe"](7,"translate"),f["\u0275\u0275elementStart"](8,"span",5),f["\u0275\u0275text"](9,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](10,"input",6),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](11,"div",2),f["\u0275\u0275elementStart"](12,"div",3),f["\u0275\u0275elementStart"](13,"label",7),f["\u0275\u0275text"](14),f["\u0275\u0275pipe"](15,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](16,"input",8),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](17,"div",2),f["\u0275\u0275elementStart"](18,"div",3),f["\u0275\u0275elementStart"](19,"label",9),f["\u0275\u0275text"](20),f["\u0275\u0275pipe"](21,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](22,"input",10),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](23,"div",2),f["\u0275\u0275elementStart"](24,"div",3),f["\u0275\u0275elementStart"](25,"label",11),f["\u0275\u0275text"](26),f["\u0275\u0275pipe"](27,"translate"),f["\u0275\u0275elementStart"](28,"span",5),f["\u0275\u0275text"](29,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](30,"input",12),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](31,"div",1),f["\u0275\u0275elementStart"](32,"div",2),f["\u0275\u0275elementStart"](33,"div",3),f["\u0275\u0275elementStart"](34,"label",13),f["\u0275\u0275text"](35),f["\u0275\u0275pipe"](36,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](37,"select",14),f["\u0275\u0275elementStart"](38,"option",15),f["\u0275\u0275text"](39),f["\u0275\u0275pipe"](40,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](41,En,3,3,"option",16),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](42,"div",2),f["\u0275\u0275elementStart"](43,"div",3),f["\u0275\u0275elementStart"](44,"label",17),f["\u0275\u0275text"](45),f["\u0275\u0275pipe"](46,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](47,"select",18),f["\u0275\u0275elementStart"](48,"option",15),f["\u0275\u0275text"](49),f["\u0275\u0275pipe"](50,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](51,Bn,3,3,"option",16),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](52,"div",2),f["\u0275\u0275elementStart"](53,"div",3),f["\u0275\u0275elementStart"](54,"label",19),f["\u0275\u0275text"](55),f["\u0275\u0275pipe"](56,"translate"),f["\u0275\u0275elementStart"](57,"span",5),f["\u0275\u0275text"](58,"*"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](59,"input",12),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](60,"div",2),f["\u0275\u0275elementStart"](61,"div",3),f["\u0275\u0275elementStart"](62,"label",20),f["\u0275\u0275text"](63),f["\u0275\u0275pipe"](64,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](65,"input",21),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](7,17,"TransactionNo")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("required",!0),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](15,19,"VacationStartDate")," "),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](21,21,"Plannedenddate")),f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](27,23,"ActualEndDate")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("required",!0),f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](36,25,"VacationType")),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngValue",null),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](40,27,"Select")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",t.VactionTypeList),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](46,29,"MethodPayingDues")),f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("ngValue",null),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](50,31,"Select")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngForOf",t.MethodOfPayingDuesList),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](56,33,"Dateoffirstsalary")),f["\u0275\u0275advance"](4),f["\u0275\u0275property"]("required",!0),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](64,35,"Notes")))},directives:[o._Y,o.JL,o.F,o.YN,o.Kr,a.sg,a.O5],pipes:[p.X$],styles:[""]}),e})();const _n=["dependingOnBalance"];function Mn(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",2),f["\u0275\u0275elementStart"](1,"h1"),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function kn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function Pn(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]().$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function wn(e,t){if(1&e&&(f["\u0275\u0275template"](0,kn,2,1,"div",1),f["\u0275\u0275template"](1,Pn,2,1,"div",1)),2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275property"]("ngIf","ar"==e.lang),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Tn(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"button",19),f["\u0275\u0275element"](1,"i",20),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](3,1,"Save")," "))}function Nn(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"button",21),f["\u0275\u0275text"](1),f["\u0275\u0275pipe"](2,"translate"),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](2,1,"Print")," "))}const Fn=function(e,t){return{"invalid-data":e,"valid-data":t}};function Ln(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"section"),f["\u0275\u0275elementStart"](1,"div",3),f["\u0275\u0275elementStart"](2,"div",4),f["\u0275\u0275elementStart"](3,"div",5),f["\u0275\u0275elementStart"](4,"h6",6),f["\u0275\u0275text"](5),f["\u0275\u0275pipe"](6,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"div",7),f["\u0275\u0275elementStart"](8,"div",8),f["\u0275\u0275elementStart"](9,"div",9),f["\u0275\u0275elementStart"](10,"div",10),f["\u0275\u0275elementStart"](11,"label",11),f["\u0275\u0275text"](12),f["\u0275\u0275pipe"](13,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](14,"p-autoComplete",12,13),f["\u0275\u0275listener"]("completeMethod",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().onCompleteEmployeeAuto(t)})("onFocus",function(t){f["\u0275\u0275restoreView"](e);const n=f["\u0275\u0275reference"](15);return f["\u0275\u0275nextContext"]().onFocusInAutoEmployeeComplete(t),n.show()})("onSelect",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().onSelectEmployeeAuto(t)})("ngModelChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().selectedEmployee=t}),f["\u0275\u0275template"](16,wn,2,2,"ng-template",14),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](17,"div",15),f["\u0275\u0275elementStart"](18,"div",16),f["\u0275\u0275template"](19,Tn,4,3,"button",17),f["\u0275\u0275template"](20,Nn,3,3,"button",18),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](6,11,"ReturnRegistration")," "),f["\u0275\u0275advance"](7),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](13,13,"employeeid")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",e.selectedEmployee)("suggestions",e.employeeList)("dataKey","ar"==e.lang?"name_ar":"name")("field","ar"==e.lang?"name_ar":"name")("ngClass",f["\u0275\u0275pureFunction2"](15,Fn,e.employeeTextboxInvalid,!e.employeeTextboxInvalid)),f["\u0275\u0275advance"](4),f["\u0275\u0275styleMap"]("ar"==e.lang?"text-align: left;":"text-align: right;"),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.checkRoleParms(23003)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.checkRoleParms(23004))}}function An(e,t){1&e&&f["\u0275\u0275element"](0,"app-return-from-vacation")}function Rn(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"li",27),f["\u0275\u0275elementStart"](1,"a",28),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](4,An,1,0,"ng-template",29),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275property"]("ngbNavItem",1),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](3,2,"ReturnFromVacation")))}function Gn(e,t){1&e&&f["\u0275\u0275text"](0," test 2 ")}function Un(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"li",27),f["\u0275\u0275elementStart"](1,"a",28),f["\u0275\u0275text"](2),f["\u0275\u0275pipe"](3,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](4,Gn,1,0,"ng-template",29),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275property"]("ngbNavItem",2),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](3,2,"EditPreviousReturn")))}function jn(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"section"),f["\u0275\u0275elementStart"](1,"div",22),f["\u0275\u0275elementStart"](2,"div",8),f["\u0275\u0275elementStart"](3,"ul",23,24),f["\u0275\u0275listener"]("activeIdChange",function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"]().activeId=t}),f["\u0275\u0275template"](5,Rn,5,4,"li",25),f["\u0275\u0275template"](6,Un,5,4,"li",25),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](7,"div",26),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275reference"](4),t=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("activeId",t.activeId),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngIf",t.checkRoleParms(23001)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.checkRoleParms(23002)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngbNavOutlet",e)}}function $n(e){return new m.z(e,[{prefix:"assets/i18n/HR/",suffix:".json"},{prefix:"assets/i18n/shared/",suffix:".json"},{prefix:"assets/i18n/app/",suffix:".json"}])}const Yn=[{path:"",component:v},{path:"startupbalance",component:Ne},{path:"vacationregistration",component:bn},{path:"returnregistration",component:(()=>{class e{constructor(e,t,n,a,i,l){this._employeesService=e,this._generalService=t,this.cdr=n,this._TranslateGlobalService=a,this.translate=i,this._authService=l,this.subsidaryid=0,this.employeeList=[],this.selectedEmployee={},this.previousSelectedEmployee={},this.employeeTextboxInvalid=!1,this.employeeid=0,this.previousEmployeeID=0,this.isEditMode=!1,this.isAddMode=!1,this.activeId=1,this.Cancel="",this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang)}),this.ngTransUnsubscribe=this.translate.get(["Cancel"]).subscribe(e=>{this.Cancel=e.Cancel}),this.subsidaryid=this._generalService.SubsidiaryID,this.ngUnsubscribe=t.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidaryid&&(this.subsidaryid=this._generalService.SubsidiaryID,this.cdr.markForCheck()),this.subsidaryid!=this._generalService.SubsidiaryID&&this.subsidaryid>0&&(this.subsidaryid=this._generalService.SubsidiaryID,this.cdr.markForCheck())})}ngOnInit(){}onCompleteEmployeeAuto(e){let t="";t=e.query?e.query.trim():"",this._employeesService.getHrEmployees(this.subsidaryid,t).subscribe(e=>{this.employeeList=[],this.employeeList=[...this.employeeList,...e],this.cdr.markForCheck()})}onFocusInAutoEmployeeComplete(e){let t=e.target.value;null!=t&&""!=t||this.onCompleteEmployeeAuto(e),this.onCompleteEmployeeAuto(e)}onSelectEmployeeAuto(e){return(0,Fe.mG)(this,void 0,void 0,function*(){})}DestroyDependingOnBalance(){this.isAddMode=!1,this.isEditMode=!1}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](A.M),f["\u0275\u0275directiveInject"](k.m),f["\u0275\u0275directiveInject"](f.ChangeDetectorRef),f["\u0275\u0275directiveInject"](L.K),f["\u0275\u0275directiveInject"](p.sK),f["\u0275\u0275directiveInject"](F.e))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-return-registration"]],viewQuery:function(e,t){if(1&e&&f["\u0275\u0275viewQuery"](_n,5),2&e){let e;f["\u0275\u0275queryRefresh"](e=f["\u0275\u0275loadQuery"]())&&(t.dependingOnBalance=e.first)}},decls:3,vars:3,consts:[["class","row","style","text-align: center",4,"ngIf"],[4,"ngIf"],[1,"row",2,"text-align","center"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","employeeid",1,"col-form-label"],["id","Employee","name","Employee",1,"inline-flex",3,"ngModel","suggestions","dataKey","field","ngClass","completeMethod","onFocus","onSelect","ngModelChange"],["autoEmployee",""],["pTemplate","item"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"col-lg-5","col-md-5","col-sm-12","mb-2","mb-md-0",2,"margin-top","30px"],["type","submit","class","btn btn-success mb-0 me-3 btn-md",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",4,"ngIf"],["type","submit",1,"btn","btn-success","mb-0","me-3","btn-md"],[1,"ft-check-square","mr-1"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted"],[1,"card"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""]],template:function(e,t){1&e&&(f["\u0275\u0275template"](0,Mn,4,3,"div",0),f["\u0275\u0275template"](1,Ln,21,18,"section",1),f["\u0275\u0275template"](2,jn,8,4,"section",1)),2&e&&(f["\u0275\u0275property"]("ngIf",!t.checkRoleParms(23001)&&!t.checkRoleParms(23002)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.checkRoleParms(23001)||t.checkRoleParms(23002)),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",t.checkRoleParms(23001)||t.checkRoleParms(23002)))},directives:[a.O5,s.Qc,o.JJ,o.On,a.mk,Ae.jx,U.Pz,U.tO,U.nv,U.Vx,U.uN,On],pipes:[p.X$],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff!important;background-color:gray!important}.tab-content[_ngcontent-%COMP%]{border:1px ridge #000;margin-top:0!important;padding-top:0}.nav.nav-pills.nav-fill[_ngcontent-%COMP%], .tab-content[_ngcontent-%COMP%]{width:97.5%;margin-right:15px;margin-left:15px}"]}),e})()}];let Wn=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({providers:[p.gM,p.sK,b,x.J,V.x,E.b,I.n,A.M,Le.C],imports:[[o.u5,a.ez,i.m,c.$,y.kW,o.UX,d.Bz.forChild(Yn),s.WN,R.q4,U.Oz,l.xc,h.fx,p.aw.forChild({loader:{provide:p.Zw,useFactory:$n,deps:[r.eN]},extend:!0}),u.xC,g.Iu]]}),e})()},98794:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});var a=n(31572);let i=(()=>{class e{constructor(e){this.el=e,this.regex=new RegExp(/^[0-9-+()]*$/g),this.specialKeys=["Backspace","Tab","ArrowLeft","ArrowRight","-","+","(",")"]}onKeyDown(e){if(-1!==this.specialKeys.indexOf(e.key))return;if(86===e.keyCode&&(e.ctrlKey||e.metaKey)||67===e.keyCode&&(e.ctrlKey||e.metaKey))return;const t=this.el.nativeElement.value.concat(e.key);t&&!String(t).match(this.regex)&&e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](a.ElementRef))},e.\u0275dir=a["\u0275\u0275defineDirective"]({type:e,selectors:[["","NumbersWithSpacialChars",""]],hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("keydown",function(e){return t.onKeyDown(e)})}}),e})()}}]);
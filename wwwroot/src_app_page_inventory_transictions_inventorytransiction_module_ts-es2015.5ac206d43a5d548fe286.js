(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["src_app_page_inventory_transictions_inventorytransiction_module_ts"],{48724:function(e,t,n){"use strict";n.d(t,{O8:function(){return i},PZ:function(){return r},jD:function(){return a},vM:function(){return o},j0:function(){return s},ay:function(){return c},MO:function(){return l},Vy:function(){return d},CS:function(){return p},Rz:function(){return h}});class i{constructor(){this.accountid=null,this.code="",this.name="",this.parentid=null,this.categoryid=null,this.currencyid=null,this.isactive=!0,this.vendorcode="",this.website=null,this.company_individual=!0,this.counrtyid=null,this.vendorcategoryid=null,this.notes=null,this.altphone=null,this.phone=null,this.email=null,this.fax=null,this.address=null,this.paymenttermid=0,this.main_accountid=null,this.customersalesprice=1,this.cutomerdiscount=null,this.name_ar="",this.civilid=null,this.areaid=null,this.area_name=null,this.area_code=null,this.governorateid=null,this.pricelistitemsonly=!1,this.salesmanid=null,this.customerstatusid=null,this.contractdatefrom=null,this.contractdateto=null,this.internalreferencenum=null,this.hascreditlimit=!1,this.creditlimit=0,this.vatno=null,this.shipvia=null,this.customerbalance=0,this.loyalitybalance=0,this.street=null,this.building_no=null,this.turn_no=null,this.activity_type=null,this.postal_code=null,this.room=null,this.landmark=null,this.additionalinformation=null,this.taxcode=null,this.subtaxcode=null,this.tax_exemption=null,this.isvednoralsocustomer=!1,this.warrantyreservedaccountid=null,this.warrantyreservedaccount_code=null,this.warrantyreservedaccount_name=null,this.warrantyreservedaccount_namear=null,this.downpaymentaccountid=null,this.downpaymentaccount_code=null,this.downpaymentaccount_name=null,this.downpaymentaccount_namear=null,this.vendorcontacts=[],this.vendorbanks=[],this.additionalinfo=[],this.relatedaccounts=[],this.relatedcostcenters=[],this.leadactivities=[],this.account_vehicles=[]}}class r{constructor(){this.id=null,this.accountid=null,this.relatedaccountid=null,this.code=null,this.name=null,this.name_ar=null,this.fieldname=null,this.objselectd=null,this.r_counrtyid=null,this.r_areaid=null,this.r_governorateid=null,this.r_phone=null,this.r_address=null}}class a{constructor(){this.id=null,this.vendorid=null,this.name=null,this.jobtitle=null,this.email=null,this.phone=null,this.role=null,this.isactive=!0,this.name_ar=null}}class o{constructor(){this.id=null,this.vendorid=null,this.bank=null,this.routing=null,this.accountno=null,this.isactive=!0}}class s{constructor(){this.id=null,this.customerid=null,this.keydata=null,this.value=null}}class c{constructor(){this.id=null,this.activitytypeid=null,this.leadid=null,this.subject=null,this.statusid=1,this.startdate=null,this.description=null,this.modifieddate=null,this.installmentsdetailid=null,this.assignedtoid=null,this.enddate=null,this.emailremindervalue=30,this.emailremindertypeid=1,this.popupremindervalue=30,this.popupremindertypeid=1,this.relatedtoid=null,this.relatedname=null,this.direction=1,this.meetinglocationid=1,this.assignedto=null,this.leadowner=null,this.customerid=null,this.appointmenttypeid=null,this.taskvalue=null,this.starttime=null,this.endtime=null}}class l{constructor(){this.id=null,this.accountid=null,this.relatedcostcenterid=null,this.code=null,this.name=null,this.name_ar=null,this.fieldname=null,this.objselectd=null,this.parentid=null,this.levelno=null}}class d{constructor(){this.id=null,this.accountid=null,this.vehicleregno=null,this.chasisno=null,this.color=null,this.engineno=null,this.mark=null,this.model=null,this.imagepath1=null,this.imagepath2=null,this.imagepath3=null,this.size=null,this.modelyear=null}}class p{}class h{constructor(){this.CustomerType=1,this.SearchValue="",this.PageNo=1,this.PageSize=10,this.orderby=""}}},878:function(e,t,n){"use strict";n.d(t,{WW:function(){return i},np:function(){return r},pM:function(){return a},do:function(){return o},br:function(){return s},Oy:function(){return c},ov:function(){return l},DY:function(){return d},al:function(){return p},HQ:function(){return h},z8:function(){return m},Pp:function(){return u},WB:function(){return g},BR:function(){return _},hi:function(){return C}});class i{constructor(){this.selectedNodesLabels="",this.Subsidiary_ID=0,this.ID=0,this.Code="",this.Name="",this.Description="",this.IsActive=!1,this.ImagePath="",this.Notes="",this.IsAutoCode=!1,this.ImageName="",this.Inventory_UnitId=null,this.Purchasing_UnitId=null,this.Selling_UnitId=null,this.Item_Type=1,this.allowtax=!0,this.TaxTypeid=null,this.Service_Item_Cost=0,this.CostingModel_ID=null,this.ItemDimensionsID=null,this.StorageDimensionsID=null,this.Name_AR="",this.IsRequireSerial=1,this.AllowDecimals=!1,this.StopSales=!1,this.StopInventoryTransactions=!1,this.POSFeatured=!1,this.DisableItemDimensions=!1,this.displaycomponentsasitemsinPOS=!1,this.DisableStorageDimensions=!1,this.AccountID=null,this.IsEditPrice=!1,this.CanBeRented=!1,this.AvailableForSale=null,this.AvailableForSaleFromDate=null,this.AvailableForSaleToDate=null,this.SpecialPrice=null,this.SpecialPriceFromDate=null,this.SpecialPriceToDate=null,this.SpecialPriceFromTime="",this.SpecialPriceToTime="",this.SpecialPriceValue=null,this.ReceipeQty=null,this.hasAccount=!1,this.ProductionUnitId=null,this.Wastage=0,this.hasWarrenty=!1,this.OtherSalesAccount=!1,this.consignment=!1,this.consignment_commission=null,this.warranty_duration=null,this.PercentageOrValue_consignment_commission=null,this.Weigth=null,this.GoldClovesWeigth=null,this.IsUploadedFromPos=!1,this.GoldCaliber="",this.Service=null,this.LoyalityBalance=null,this.IsMemebership=!1,this.OtherCostAccount=!1,this.OtherCostAccountId=null,this.IndirectExpensesUnit=0,this.Color="",this.Size="",this.Brand="",this.MadeIn="",this.Composition="",this.Season="",this.ConfigurableItemId=null,this.ShowColor=!1,this.ShowSize=!1,this.SetAttrToName=!1,this.Model="",this.RestockOnReturn=!1,this.ConsignmentBalanceType=null,this.GlobalBarcode="",this.SlackTime=1,this.OtherContractAccount=!1,this.OtherContractAccountId=null,this.itemsbarcode=[],this.itemscategories=[],this.vendors=[],this.itemsalternative=[],this.unititem=[],this.limitstore=[],this.component=[],this.customattributeheader=[],this.salespostingaccounts=[],this.configurationitemslist=[],this.itemproducts=[],this.orginalitemproducts=[],this.itemsemployees=[],this.orginalitemsemployees=[],this.UnitDetails=null,this.sale_price=0,this.assetLinked=!1,this.assetId=null}}class r{constructor(){this.Item_ID=0,this.ItemCategory_ID=0}}class a{constructor(){this.ID=0,this.Item_ID=0,this.itembarcode="",this.isactivebarcode=!0}}class o{constructor(){this.id=0,this.itemid=0,this.vendorid=0,this.unitid=0,this.lastqty=0,this.price=0,this.currencyid=0,this.ismainvendor=!1,this.price2=0,this.lastprice=0,this.vendoritemcode="",this.code="",this.currencyname="",this.currencynamear="",this.unitname="",this.unitnamear="",this.vendorname="",this.vendornamear=""}}class s{constructor(){this.id=0,this.item_id=0,this.alternative_item_id=0,this.periority=0,this.itemname="",this.itemname_ar=""}}class c{constructor(){this.id=0,this.item_id=0,this.unit_id=0,this.subunit_id=0,this.conv=null,this.barcode="",this.sale_price1=0,this.sale_price2=0,this.sale_price3=0,this.sale_price4=0,this.finalconv=null,this.pos=!0,this.istransactionunit=!1}}class l{constructor(){this.oldLimitStore=[],this.newLimitStore=[]}}class d{constructor(){this.id=0,this.item_id=0,this.store_id=0,this.reorder_qty=0,this.min_qty=0,this.location="",this.first_qty=0,this.first_cost=0,this.first_conv=1,this.first_unit=null,this.name="",this.name_ar="",this.invalidreorderqty=!1,this.flagforbalance=!1,this.qty=0,this.avrcost=0,this.finalconv=1,this.cost_conv=1,this.reserved_qty=0,this.orderd_qty=0,this.max_qty=0,this.last_sales_qty=0,this.flagforedit=!1,this.sold=!1}}class p{constructor(){this.id=0,this.customattributetypeid=0,this.itemid=0,this.title="",this.isactive=!1,this.isrequired=!1,this.sortorder=0,this.automaticcode=0,this.isdeleted=!1,this.maxoptions=0,this.itemcustomattributedetail=[]}}class h{constructor(){this.id=0,this.customattributeheaderid=null,this.title="",this.price=null,this.sku="",this.sortorder=null,this.allowedfileextensions="",this.minimagewidth=null,this.minimageheigth=null,this.automaticcode=null,this.isdeleted=!1,this.qty=null,this.itemid=null,this.deductionitemid=null,this.deductionsku="",this.unitid=null,this.imgpath="",this.iunitid=null,this.iunitname="",this.iunitnamear="",this.headerpricesign=1,this.proportionweight=null}}class m{constructor(){this.id=0,this.item_id=0,this.itemcomponentid=0,this.itemcomponentunitid=0,this.itemcomponentconv=0,this.itemcomponentqty=1,this.itemcomponentrecipeqty=0,this.averagecost=0,this.componentprice=0,this.unitname="",this.unitnamear="",this.name="",this.name_ar="",this.itemname="",this.itemnamear="",this.iunitid=null,this.disconv=!1}}class u{constructor(){this.id=0,this.itemid=0,this.accountid=null,this.percentage=0,this.complement=!1}}class g{constructor(){this.id=0,this.valid=!1,this.serial=1,this.qty=1,this.storeid=null,this.storename="",this.storename_ar="",this.batchno="",this.date=null,this.isdublicatebatch=!1,this.isused=!1,this.inv_receipt_d_id=null,this.solidquantity=null,this.previtemserialid=null,this.availableqty=null,this.fromOutSide=!1,this.patchconfirmation="",this.final_conv=null,this.readonlyavailableqtywithsmallunit=null,this.readonlyavailableqtywithfinal_conv=null}}class _{constructor(){this.id=null,this.item_id=0,this.product_item_id=0,this.costratio=0,this.itemproductqty=0,this.itemproductsconv=0,this.itemproductunitid=0,this.itemname="",this.itemname_ar=""}}class C{constructor(){this.id=null,this.unitid=null,this.subsidiaryid=null,this.rooms=0,this.bathroom=0,this.finishing=null,this.view=null,this.floor="",this.floors=0,this.land_size="",this.size_in_metres="",this.units_number=0,this.paymentid=null,this.year=(new Date).getFullYear(),this.currency_id=null}}},53233:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});class i{constructor(){this.id=null,this.subsidiaryid=null,this.code=null,this.statement=null,this.statementar=null,this.type_id=-1,this.impactrange=1,this.effect=1,this.accountid=null,this.account_item_code=null,this.account_item_name=null,this.account_item_namear=null,this.issales=!1,this.ispurchases=!1,this.purchaseslimit=0}}},40430:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var i=n(79996),r=n(529),a=n(31572),o=n(29063);let s=(()=>{class e{constructor(e){this._http=e,this.baseUrl=r.N.apiUrl}AllActiveUserBranchddl(e){return this._http.get(`${this.baseUrl}/Branch/AllActiveUserBranchddl?SubsidiaryID=${e}`).pipe((0,i.U)(e=>e))}SalesMen_CasherUsers(e,t=null){return this._http.get(`${this.baseUrl}/Receipts/SalesMen_CasherUsers?subsidiaryID=${e}&ReceiptId=${t}`).pipe((0,i.U)(e=>e))}AllCustomerAccountsList(e){return this._http.get(`${this.baseUrl}/InvoiceFollowup/AllCustomerAccountsList?SubsidiaryID=${e}`).pipe((0,i.U)(e=>e))}InvoicesFollowupList(e){return this._http.post(this.baseUrl+"/InvoiceFollowup/InvoicesFollowupList",e).pipe((0,i.U)(e=>e))}InvoicesFollowupCount(e){return this._http.post(this.baseUrl+"/InvoiceFollowup/InvoicesFollowupListCount",e).pipe((0,i.U)(e=>e))}InvoiceFollowupUpdate(e){return this._http.post(this.baseUrl+"/InvoiceFollowup/InvoiceFollowupUpdate",e).pipe((0,i.U)(e=>e))}GetAllRoleUsers(e,t){return this._http.get(`${this.baseUrl}/CreditNote/GetAllRoleUsers?SubsidaryId=${e}&RoleName=${t}`).pipe((0,i.U)(e=>e))}userRolesSelectByUserID(e){return this._http.get(this.baseUrl+`/UsersRoles/userRolesSelectByUserID?userID=${e}`).pipe((0,i.U)(e=>e))}GetCutomerWiseSalesinvoiceOutstandig(e){return this._http.post(`${this.baseUrl}/InvoiceFollowup/GetCutomerWiseSalesinvoiceOutstandig`,e).pipe((0,i.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](o.eN))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},27961:function(e,t,n){"use strict";n.d(t,{n:function(){return s}});var i=n(79996),r=n(529),a=n(31572),o=n(29063);let s=(()=>{class e{constructor(e){this._http=e,this.baseUrl=r.N.apiUrl}GetReceiptList(e){return console.log(e),this._http.post(this.baseUrl+"/Receipts/GetReceiptList",e).pipe((0,i.U)(e=>e))}GetReceiptListCount(e){return this._http.post(this.baseUrl+"/Receipts/GetReceiptListCount",e).pipe((0,i.U)(e=>e))}AllActiveUserBranchddl(e){return this._http.get(`${this.baseUrl}/Branch/AllActiveUserBranchddl?SubsidiaryID=${e}`).pipe((0,i.U)(e=>e))}GetAllShipmentTermBySubSidary(e){return this._http.get(`${this.baseUrl}/Receipts/GetAllShipmentTermBySubSidary?subid=${e}`).pipe((0,i.U)(e=>e))}GetAllPaymentTermsList(){return this._http.get(`${this.baseUrl}/Receipts/GetAllPaymentTermsList`).pipe((0,i.U)(e=>e))}AllActiveCourierBySubsidiaryID(e){return this._http.get(`${this.baseUrl}/Courier/GetAllActiveCourierBySubSidary?SubsidiaryID=${e}`).pipe((0,i.U)(e=>e))}GetCustomerReceiptsList(e,t,n,r,a,o,s){return this._http.get(`${this.baseUrl}/Receipts/GetCustomerReceiptsList?SubsidiaryID=${e}&code=${t}&PageNo=${n}&PageSize=${r}&SearchValue=${a}&orderby=${o}&CustomerSearch=${s}`).pipe((0,i.U)(e=>e))}GetCustomerReceiptsListCount(e,t,n,r,a,o){return this._http.get(`${this.baseUrl}/Receipts/GetCustomerReceiptsListCount?SubsidiaryID=${e}&code=${t}&PageNo=${n}&PageSize=${r}&SearchValue=${a}&CustomerSearch=${o}`).pipe((0,i.U)(e=>e))}GetVendorReceiptsList(e,t,n,r,a,o,s){return this._http.get(`${this.baseUrl}/Receipts/GetVendorReceiptsList?SubsidiaryID=${e}&code=${t}&PageNo=${n}&PageSize=${r}&SearchValue=${a}&orderby=${o}&VendorSearch=${s}`).pipe((0,i.U)(e=>e))}GetVendorReceiptsListCount(e,t,n,r,a,o){return this._http.get(`${this.baseUrl}/Receipts/GetVendorReceiptsListCount?SubsidiaryID=${e}&code=${t}&PageNo=${n}&PageSize=${r}&SearchValue=${a}&VendorSearch=${o}`).pipe((0,i.U)(e=>e))}ExportInvoices(e){return this._http.post(this.baseUrl+"/Receipts/ExportInvoices",e).pipe((0,i.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](o.eN))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},97574:function(e,t,n){"use strict";n.r(t),n.d(t,{InventoryTransictionModule:function(){return _w},childLoaderFactory:function(){return uw}});var i=n(61511),r=n(59218),a=n(16073),o=n(29063),s=n(53544),c=n(96898),l=n(48160),d=n(20180),p=n(45593),h=n(73619),m=n(48747),u=n(22684),g=n(93559),_=n(27961),C=n(83801),f=n(61900),v=n(13395),y=n(31572),b=n(25181),S=n(7427),R=n(62120),x=n(82589),M=n(72796),I=n(71825),P=n(76757),O=n(77915),E=n(82270),w=n(5851);function k(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function D(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function B(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function L(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",49),y["\u0275\u0275template"](1,D,2,1,"span",1),y["\u0275\u0275template"](2,B,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function F(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",50),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnAdd()}),y["\u0275\u0275element"](1,"i",51),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function N(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function V(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function q(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",45),y["\u0275\u0275template"](2,N,1,0,"i",46),y["\u0275\u0275template"](3,V,1,0,"i",47),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function T(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function A(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function G(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",45),y["\u0275\u0275template"](2,T,1,0,"i",46),y["\u0275\u0275template"](3,A,1,0,"i",47),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function U(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function $(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function j(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function z(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function W(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function J(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Q(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",45),y["\u0275\u0275template"](2,W,1,0,"i",46),y["\u0275\u0275template"](3,J,1,0,"i",47),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"desc"==e.sortDirection)}}function Y(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function H(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Z(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",45),y["\u0275\u0275template"](2,Y,1,0,"i",46),y["\u0275\u0275template"](3,H,1,0,"i",47),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerNamear"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"desc"==e.sortDirection)}}function K(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function X(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function ee(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function te(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function ne(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function ie(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function re(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function ae(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.branchnamear," ")}}function oe(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.customername," ")}}function se(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.customernamear," ")}}function ce(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function le(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function de(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,ce,2,1,"td",1),y["\u0275\u0275template"](2,le,2,1,"td",1),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.id===n.approvalid&&"ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.id===n.approvalid&&"ar"==i.lang)}}function pe(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1,"\xa0"),y["\u0275\u0275elementEnd"]())}function he(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"a",59),y["\u0275\u0275element"](1,"i",60),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuerequest/",null==e?null:e.id,"")}}function me(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275template"](1,re,2,1,"td",1),y["\u0275\u0275template"](2,ae,2,1,"td",1),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](7,oe,2,1,"td",1),y["\u0275\u0275template"](8,se,2,1,"td",1),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275text"](10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275text"](12),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](13,de,3,2,"ng-container",54),y["\u0275\u0275template"](14,pe,2,0,"td",1),y["\u0275\u0275elementStart"](15,"td",55),y["\u0275\u0275template"](16,he,2,1,"a",56),y["\u0275\u0275elementStart"](17,"a",57),y["\u0275\u0275elementStart"](18,"span"),y["\u0275\u0275element"](19,"i",58),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.reference_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.memo),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",n.ApprovalStatusList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.approvalid),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",n.checkRoleParms(619)),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuerequest/",null==e?null:e.id,"/show")}}function ue(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275template"](1,me,20,12,"tr",54),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.ReceiptList)}}function ge(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275elementStart"](1,"tr",61),y["\u0275\u0275elementStart"](2,"td",62),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,1,"NoData")))}function _e(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",63),y["\u0275\u0275elementStart"](1,"ngb-pagination",64),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",65),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",66),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",67),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",68),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function Ce(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"section"),y["\u0275\u0275elementStart"](2,"div",6),y["\u0275\u0275elementStart"](3,"div",7),y["\u0275\u0275elementStart"](4,"div",8),y["\u0275\u0275elementStart"](5,"h6",9),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",4),y["\u0275\u0275elementStart"](9,"div",10),y["\u0275\u0275elementStart"](10,"form",11,12),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](12,"div",4),y["\u0275\u0275elementStart"](13,"div",13),y["\u0275\u0275elementStart"](14,"div",14),y["\u0275\u0275elementStart"](15,"label",15),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"select",16,17),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](20,"option",18),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,L,3,3,"option",19),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](24,"div",13),y["\u0275\u0275elementStart"](25,"div",14),y["\u0275\u0275elementStart"](26,"label",20),y["\u0275\u0275text"](27),y["\u0275\u0275pipe"](28,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"input",21,22),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"div",23),y["\u0275\u0275elementStart"](32,"button",24),y["\u0275\u0275element"](33,"i",25),y["\u0275\u0275text"](34),y["\u0275\u0275pipe"](35,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](36,"button",26),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ShowAll()}),y["\u0275\u0275element"](37,"i",25),y["\u0275\u0275text"](38),y["\u0275\u0275pipe"](39,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"div",27),y["\u0275\u0275elementStart"](41,"div",28),y["\u0275\u0275elementStart"](42,"div",29),y["\u0275\u0275template"](43,F,4,3,"button",30),y["\u0275\u0275elementStart"](44,"button",31),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint()}),y["\u0275\u0275element"](45,"i",25),y["\u0275\u0275text"](46),y["\u0275\u0275pipe"](47,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](48,"button",32),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(1)}),y["\u0275\u0275element"](49,"i",25),y["\u0275\u0275text"](50),y["\u0275\u0275pipe"](51,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](52,"button",33),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](53,"i",25),y["\u0275\u0275text"](54),y["\u0275\u0275pipe"](55,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](56,"div",34),y["\u0275\u0275elementStart"](57,"div",35),y["\u0275\u0275elementStart"](58,"label",36),y["\u0275\u0275text"](59),y["\u0275\u0275pipe"](60,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](61,"input",37,38),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](63,"div",4),y["\u0275\u0275elementStart"](64,"div",39),y["\u0275\u0275elementStart"](65,"div",40),y["\u0275\u0275elementStart"](66,"div",41),y["\u0275\u0275elementStart"](67,"div",42),y["\u0275\u0275elementStart"](68,"table",43),y["\u0275\u0275elementStart"](69,"thead"),y["\u0275\u0275elementStart"](70,"tr"),y["\u0275\u0275elementStart"](71,"th",44),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),y["\u0275\u0275text"](72),y["\u0275\u0275pipe"](73,"translate"),y["\u0275\u0275template"](74,q,4,3,"ng-container",1),y["\u0275\u0275template"](75,G,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](76,"th",44),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),y["\u0275\u0275text"](77),y["\u0275\u0275pipe"](78,"translate"),y["\u0275\u0275elementContainerStart"](79),y["\u0275\u0275element"](80,"i",45),y["\u0275\u0275template"](81,U,1,0,"i",46),y["\u0275\u0275template"](82,$,1,0,"i",47),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](83,"th",44),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),y["\u0275\u0275text"](84),y["\u0275\u0275pipe"](85,"translate"),y["\u0275\u0275elementContainerStart"](86),y["\u0275\u0275element"](87,"i",45),y["\u0275\u0275template"](88,j,1,0,"i",46),y["\u0275\u0275template"](89,z,1,0,"i",47),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](90,"th",44),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),y["\u0275\u0275text"](91),y["\u0275\u0275pipe"](92,"translate"),y["\u0275\u0275template"](93,Q,4,3,"ng-container",1),y["\u0275\u0275template"](94,Z,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](95,"th",44),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Reference_No")}),y["\u0275\u0275text"](96),y["\u0275\u0275pipe"](97,"translate"),y["\u0275\u0275elementContainerStart"](98),y["\u0275\u0275element"](99,"i",45),y["\u0275\u0275template"](100,K,1,0,"i",46),y["\u0275\u0275template"](101,X,1,0,"i",47),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](102,"th",44),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Memo")}),y["\u0275\u0275text"](103),y["\u0275\u0275pipe"](104,"translate"),y["\u0275\u0275elementContainerStart"](105),y["\u0275\u0275element"](106,"i",45),y["\u0275\u0275template"](107,ee,1,0,"i",46),y["\u0275\u0275template"](108,te,1,0,"i",47),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](109,"th",44),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Status")}),y["\u0275\u0275text"](110),y["\u0275\u0275pipe"](111,"translate"),y["\u0275\u0275elementContainerStart"](112),y["\u0275\u0275element"](113,"i",45),y["\u0275\u0275template"](114,ne,1,0,"i",46),y["\u0275\u0275template"](115,ie,1,0,"i",47),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](116,"th"),y["\u0275\u0275text"](117,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](118,ue,2,1,"tbody",1),y["\u0275\u0275template"](119,ge,5,3,"tbody",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](120,_e,12,7,"div",48),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](7,44,"Issue Request"),""),y["\u0275\u0275advance"](10),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](17,46,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,48,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](28,50,"EntryNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](35,52,"Search")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](39,54,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(223)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](47,56,"Print")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](51,58,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](55,60,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](60,62,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](73,64,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](78,66,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](85,68,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](92,70,"custvendor")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](97,72,"Reference_No")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Reference_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Reference_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Reference_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](104,74,"Memo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Memo"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Memo"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Memo"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](111,76,"Status")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Status"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Status"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Status"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.ReceiptList.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let fe=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=a,this._translateGlobalService=o,this.spinner=s,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.ApprovalStatusList=[{id:1,name:"New",name_ar:"\u062c\u062f\u064a\u062f"},{id:2,name:"Issue Voucher",name_ar:"\u0633\u0646\u062f \u0627\u0644\u0635\u0631\u0641"}],this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.HideRequestPerm=!1,this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Issue Request"]).subscribe(e=>{this.title=e["Issue Request"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="64",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetReceiptList(e=null){this.HideRequestPerm=this.checkRoleParms(16102),this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._ReceiptSearch.RequestPerm=this.HideRequestPerm,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/inventorytransiction/issuerequest/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransiction/issuerequest/0"])}OnView(e){this._router.navigate(["/page/inventorytransiction/issuerequest/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/inventorytransiction/issuerequest/${e.id}`,this._router.navigate([t])}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",o="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",s="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(c=>{this.cd.markForCheck(),t=`\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>${i}</th>\n                     <th>${r}</th>\n                     <th>${a}</th>\n                     <th>${o}</th>\n                     <th>${s}</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         `,c.map(e=>{var n;t+=`\n        <tr>\n         <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n         <td>${e.entry_no}</td>\n         <td>${e.entry_date}</td>\n         <td>${null!==(n="ar"==this.lang?e.customernamear:e.customername)&&void 0!==n?n:""}</td>\n         <td>${e.netvalue}</td>\n        </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":t.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":t.netvalue}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,"Customer/Vendor":t.customernamear,Total:t.netvalue})}),this._Excel.exportAsExcelFile(e,"IssueRequest")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](P.x),y["\u0275\u0275directiveInject"](O.z),y["\u0275\u0275directiveInject"](v.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-request"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,v.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0\n                ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"ft-plus-square"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn btn-primary\n                          transparent-BG",3,"routerLink",4,"ngIf"],[1,"btn","btn-primary","transparent-BG",3,"routerLink"],["aria-hidden","true",1,"fa","fa-file-text-o","font-medium-3"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"routerLink"],[1,"ft-edit","font-medium-3"],[2,"background-color","#b0bed9"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,k,4,3,"div",0),y["\u0275\u0275template"](1,Ce,121,78,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(222)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(222)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,E.K,c.yS,w.N9],pipes:[l.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.radio-col-green[_ngcontent-%COMP%]{margin-top:10px}.readonlyDiv[_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1;pointer-events:none}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.isExpired[_ngcontent-%COMP%]{color:red}']}),e})();var ve=n(22501),ye=n.n(ve),be=n(3148),Se=n(75700),Re=n(16676),xe=n(529),Me=n(878),Ie=n(63567),Pe=n(15463),Oe=n(29743),Ee=n(71309),we=n(64328),ke=n(63541),De=n(52529),Be=n(88706),Le=n(32161),Fe=n(20590);const Ne=["RForm"],Ve=["serialModel"];function qe(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",6),y["\u0275\u0275elementStart"](1,"h1",7),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Te(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",73),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DocumentAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function Ae(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",74),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PrintPreview(0)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function Ge(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).onPrint()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function Ue(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](4).DeleteAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function $e(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,Ue,3,4,"button",75),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount&&(2!=e._Receipt.status_id||null))}}function je(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DupilcateAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function ze(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).CreateIssueVoucer()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||0==e.ReceiptID||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"CreateIssueVoucer")," ")}}function We(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,Ge,3,4,"button",75),y["\u0275\u0275template"](2,$e,2,1,"div",1),y["\u0275\u0275template"](3,je,3,4,"button",75),y["\u0275\u0275template"](4,ze,3,4,"button",75),y["\u0275\u0275elementStart"](5,"email-popup",76),y["\u0275\u0275listener"]("_savedemailobj",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).sendEmail(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(226)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(225)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(223)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(16103)&&2!=e._Receipt.status_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("entryno",e._Receipt.entry_no)}}function Je(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text,"")}}function Qe(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text_ar,"")}}function Ye(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",78),y["\u0275\u0275template"](1,Je,2,1,"span",1),y["\u0275\u0275template"](2,Qe,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function He(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",79),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function Ze(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",79),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function Ke(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Xe(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function et(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",78),y["\u0275\u0275template"](1,Ke,2,1,"span",1),y["\u0275\u0275template"](2,Xe,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function tt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function nt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function it(e,t){if(1&e&&(y["\u0275\u0275template"](0,tt,2,1,"div",1),y["\u0275\u0275template"](1,nt,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function rt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1,"--"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function at(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1,"--"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ot(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function st(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function ct(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",78),y["\u0275\u0275template"](1,ot,2,1,"span",1),y["\u0275\u0275template"](2,st,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function lt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",86),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function dt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",86),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function pt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",94),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Disc%")," "))}function ht(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",95),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Discount")," "))}function mt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",86),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function ut(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function gt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function _t(e,t){if(1&e&&(y["\u0275\u0275template"](0,ut,2,1,"div",1),y["\u0275\u0275template"](1,gt,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Ct(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function ft(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function vt(e,t){if(1&e&&(y["\u0275\u0275template"](0,Ct,2,1,"div",1),y["\u0275\u0275template"](1,ft,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const yt=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function bt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",117),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,yt,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function St(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",117),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,yt,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function Rt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function xt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Mt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function It(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Pt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",118),y["\u0275\u0275template"](1,Mt,2,1,"span",1),y["\u0275\u0275template"](2,It,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang)}}const Ot=function(e,t){return{"invalid-data":e,"valid-data":t}};function Et(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",119,120),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("step",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack),y["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),y["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id))("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](9,Ot,e.invalid&&r.submitted,e.valid&&r.submitted))}}const wt=function(e){return{readonlyDiv:e}};function kt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"div",121),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3)._generalService.onFocusControl("item_price"+t)}),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"numberFormat"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"input",122,123),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("focusout",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("item_price"+t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.price=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](5),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("id","Display_item_price",n,""),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](13,wt,5==a._Receipt.customersalesprice)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind2"](3,10,i.price,a._Currencyprecision)," "),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("id","item_price",n,""),y["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),y["\u0275\u0275property"]("readonly",5==a._Receipt.customersalesprice)("ngModel",i.price)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](15,Ot,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Dt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1,"Maximum number can be 100 % Discount"),y["\u0275\u0275elementEnd"]())}function Bt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1,"\u0623\u0643\u0628\u0631 \u0646\u0633\u0628\u0629 \u0647\u0649 100% \u062e\u0635\u0645"),y["\u0275\u0275elementEnd"]())}function Lt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",127),y["\u0275\u0275template"](1,Dt,2,0,"span",1),y["\u0275\u0275template"](2,Bt,2,0,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function Ft(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",124,125),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.discount_percent=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,Lt,3,2,"div",126),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_discount_percent",n,""),y["\u0275\u0275property"]("ngModel",i.discount_percent)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("readonly",!0)("ngClass",y["\u0275\u0275pureFunction2"](7,Ot,e.invalid&&r.submitted||(null==e.errors?null:e.errors.customMax),e.valid&&r.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==e.errors?null:e.errors.customMax)}}function Nt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",128,129),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t,"value")})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.discount_value=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_discount_value",n,""),y["\u0275\u0275property"]("ngModel",i.discount_value)("readonly",!0)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](6,Ot,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Vt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",130),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.total=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_total",t,""),y["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}function qt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"a",132),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"](2).index,n=y["\u0275\u0275nextContext"](3),i=y["\u0275\u0275reference"](5);return n.OnSerialItems(t,i)}),y["\u0275\u0275element"](1,"i",133),y["\u0275\u0275elementEnd"]()}}function Tt(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,qt,2,0,"a",131),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1!=e.CashCustomerSetting.dispensingpolicy)}}const At=function(e){return{item_id:e}};function Gt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",96),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"p-autoComplete",97,98),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](5),r=y["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275template"](7,_t,2,2,"ng-template",99),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"p-autoComplete",100,101),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](10),r=y["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).onClearItems(t)}),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275template"](12,vt,2,2,"ng-template",102),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"td",103),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),y["\u0275\u0275template"](14,bt,2,5,"div",104),y["\u0275\u0275template"](15,St,2,5,"div",104),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"select",105,106),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),y["\u0275\u0275template"](19,Rt,2,1,"option",48),y["\u0275\u0275template"](20,xt,2,1,"option",48),y["\u0275\u0275template"](21,Pt,3,4,"option",107),y["\u0275\u0275pipe"](22,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,Et,3,12,"td",1),y["\u0275\u0275elementStart"](24,"td"),y["\u0275\u0275elementStart"](25,"input",108,109),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](27,kt,6,18,"td",1),y["\u0275\u0275template"](28,Ft,4,10,"td",1),y["\u0275\u0275template"](29,Nt,3,9,"td",1),y["\u0275\u0275template"](30,Vt,2,3,"td",1),y["\u0275\u0275elementStart"](31,"td",110),y["\u0275\u0275elementStart"](32,"a",111),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index,n=y["\u0275\u0275nextContext"](3),i=y["\u0275\u0275reference"](3);return n.OnEditItemsNotes(t,i)}),y["\u0275\u0275elementStart"](33,"span",112),y["\u0275\u0275element"](34,"i",113),y["\u0275\u0275element"](35,"i",114),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](36,"a",115),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteItems(t)}),y["\u0275\u0275element"](37,"i",116),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](38,Tt,2,1,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=t.index,r=y["\u0275\u0275reference"](18),a=y["\u0275\u0275reference"](26);y["\u0275\u0275nextContext"](2);const o=y["\u0275\u0275reference"](3),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",i+1," "),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),y["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](6,35,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),y["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](11,37,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](42,Ot,r.invalid&&o.submitted,r.valid&&o.submitted)),y["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](22,39,s.ItemUnitsList,y["\u0275\u0275pureFunction1"](45,At,null==e?null:e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",y["\u0275\u0275pureFunction2"](47,Ot,a.invalid&&o.submitted,a.valid&&o.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)||5!=s._Receipt.customersalesprice),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==s.ShowDiscountCols),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==s.ShowDiscountCols),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)||5!=s._Receipt.customersalesprice),y["\u0275\u0275advance"](8),y["\u0275\u0275property"]("ngIf",(2==e.isrequireserial||3==e.isrequireserial)&&s.SettingForActivateBatchesOrNot.activatebatchesornot)}}const Ut=function(e){return{"table-for-autocomplete":e}};function $t(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",81),y["\u0275\u0275elementStart"](1,"div",82),y["\u0275\u0275elementStart"](2,"div",83),y["\u0275\u0275elementStart"](3,"table",84),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275element"](6,"th"),y["\u0275\u0275elementStart"](7,"th",85),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",86),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"th",86),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"th",87),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,lt,3,3,"th",88),y["\u0275\u0275elementStart"](20,"th",86),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,dt,3,3,"th",88),y["\u0275\u0275template"](24,pt,3,3,"th",89),y["\u0275\u0275template"](25,ht,3,3,"th",90),y["\u0275\u0275template"](26,mt,3,3,"th",88),y["\u0275\u0275elementStart"](27,"th",91),y["\u0275\u0275text"](28," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"tbody"),y["\u0275\u0275template"](30,Gt,39,50,"tr",92),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"button",93),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddItems()}),y["\u0275\u0275text"](32),y["\u0275\u0275pipe"](33,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](26,Ut,e.isType)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,14,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,16,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,18,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,20,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,22,"qty")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)||5!=e._Receipt.customersalesprice),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==e.ShowDiscountCols),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==e.ShowDiscountCols),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)||5!=e._Receipt.customersalesprice),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](33,24,"Add")," ")}}function jt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",86),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function zt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function Wt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function Jt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Qt(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Yt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Ht(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Zt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",78),y["\u0275\u0275template"](1,Yt,2,1,"span",1),y["\u0275\u0275template"](2,Ht,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](5);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Kt(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",139),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",t,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",n.conv)}}function Xt(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"input",136),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"input",136),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275template"](6,zt,2,1,"div",1),y["\u0275\u0275template"](7,Wt,2,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"select",137),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),y["\u0275\u0275template"](10,Jt,2,1,"option",48),y["\u0275\u0275template"](11,Qt,2,1,"option",48),y["\u0275\u0275template"](12,Zt,3,3,"option",28),y["\u0275\u0275pipe"](13,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](14,Kt,2,3,"td",1),y["\u0275\u0275elementStart"](15,"td"),y["\u0275\u0275elementStart"](16,"input",138),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"input",138),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"td"),y["\u0275\u0275elementStart"](20,"input",138),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.storecode),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.itemcode),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id),y["\u0275\u0275attribute"]("disabled",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](13,24,i.ItemComponentUnitsList,y["\u0275\u0275pureFunction1"](27,At,e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",n,""),y["\u0275\u0275property"]("ngModel",e.qty)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_price_c",n,""),y["\u0275\u0275property"]("ngModel",e.price)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_total_c",n,""),y["\u0275\u0275property"]("ngModel",e.total)("readonly",!0)}}const en=function(e){return{finishedproductid:e}};function tn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",81),y["\u0275\u0275elementStart"](1,"div",82),y["\u0275\u0275elementStart"](2,"div",134),y["\u0275\u0275elementStart"](3,"table",84),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",85),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",86),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",86),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",87),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](18,jt,3,3,"th",88),y["\u0275\u0275elementStart"](19,"th",86),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",86),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"th",86),y["\u0275\u0275text"](26),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"tbody"),y["\u0275\u0275template"](29,Xt,21,29,"tr",135),y["\u0275\u0275pipe"](30,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,9,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](17,15,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,17,"qty")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,19,"Price")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](27,21,"Total")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",0==e.show_all_component?y["\u0275\u0275pipeBind2"](30,23,e.ItemsComponentList,y["\u0275\u0275pureFunction1"](26,en,null==e.SelectedItem?null:e.SelectedItem.item_id)):e.ItemsComponentList)}}function nn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"li",70),y["\u0275\u0275elementStart"](1,"a",67),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](4,tn,31,28,"ng-template",68),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngbNavItem",2),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,2,"Components")))}function rn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",79),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function an(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",79),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]())}function on(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function sn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function cn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",78),y["\u0275\u0275template"](1,on,2,1,"span",1),y["\u0275\u0275template"](2,sn,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function ln(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function dn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function pn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function hn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function mn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",78),y["\u0275\u0275template"](1,pn,2,1,"span",1),y["\u0275\u0275template"](2,hn,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function un(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",143),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),y["\u0275\u0275template"](3,rn,2,0,"option",32),y["\u0275\u0275template"](4,an,2,0,"option",32),y["\u0275\u0275template"](5,cn,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"select",143),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](8,ln,2,1,"option",48),y["\u0275\u0275template"](9,dn,2,1,"option",48),y["\u0275\u0275template"](10,mn,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275elementStart"](12,"input",144,145),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"td",110),y["\u0275\u0275elementStart"](15,"a",115),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),y["\u0275\u0275element"](16,"i",146),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"a",115),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),y["\u0275\u0275element"](18,"i",147),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"a",115),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),y["\u0275\u0275element"](20,"i",116),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),y["\u0275\u0275property"]("ngModel",e.branch_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.BranchList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no),y["\u0275\u0275advance"](3),y["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function gn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",81),y["\u0275\u0275elementStart"](1,"div",140),y["\u0275\u0275elementStart"](2,"LinkedReceipt-popup",141),y["\u0275\u0275listener"]("ListSelected",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnCustomerLinkedReceiptSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"div",82),y["\u0275\u0275elementStart"](4,"div",134),y["\u0275\u0275elementStart"](5,"table",84),y["\u0275\u0275elementStart"](6,"thead"),y["\u0275\u0275elementStart"](7,"tr"),y["\u0275\u0275elementStart"](8,"th",86),y["\u0275\u0275text"](9),y["\u0275\u0275pipe"](10,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"th",86),y["\u0275\u0275text"](12),y["\u0275\u0275pipe"](13,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"th",86),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"th",86),y["\u0275\u0275text"](18,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"tbody"),y["\u0275\u0275template"](20,un,21,13,"tr",135),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"button",142),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),y["\u0275\u0275text"](22),y["\u0275\u0275pipe"](23,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("custID",null==e._Receipt?null:e._Receipt.vendor_id)("subsidiaryID",e.subsidiaryID)("LinkedListChecked",null==e._Receipt?null:e._Receipt.linkedreceipts),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](10,8,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](13,10,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](16,12,"EntryNo")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](23,14,"Add")," ")}}function _n(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",81),y["\u0275\u0275elementStart"](1,"div",82),y["\u0275\u0275elementStart"](2,"Signature",148),y["\u0275\u0275listener"]("signatureoutput",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("signature",e._Receipt.signature)}}function Cn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function fn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function vn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function yn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function bn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",78),y["\u0275\u0275template"](1,vn,2,1,"span",1),y["\u0275\u0275template"](2,yn,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Sn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",151),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](3,Cn,2,1,"option",48),y["\u0275\u0275template"](4,fn,2,1,"option",48),y["\u0275\u0275template"](5,bn,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"input",152,153),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"td",110),y["\u0275\u0275elementStart"](10,"a",115),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenReceiptHistory(t)}),y["\u0275\u0275element"](11,"i",154),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","historyReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","historyReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no)}}function Rn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",149),y["\u0275\u0275elementStart"](1,"div",150),y["\u0275\u0275elementStart"](2,"div",134),y["\u0275\u0275elementStart"](3,"table",84),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",86),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",86),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",86),y["\u0275\u0275text"](13,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"tbody"),y["\u0275\u0275template"](15,Sn,12,7,"tr",135),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,3,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,5,"EntryNo")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e.ReceiptHistoryList)}}function xn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"Item-StoreQty",155,156),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function Mn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"section"),y["\u0275\u0275elementStart"](2,"form",8,9),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](3);return y["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),y["\u0275\u0275elementStart"](4,"div",10),y["\u0275\u0275elementStart"](5,"div",11),y["\u0275\u0275elementStart"](6,"div",12),y["\u0275\u0275elementStart"](7,"h6",13),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"div",6),y["\u0275\u0275elementStart"](11,"div",14),y["\u0275\u0275elementStart"](12,"button",15),y["\u0275\u0275element"](13,"i",16),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"button",17),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateNewAction()}),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,Te,3,4,"button",18),y["\u0275\u0275template"](20,Ae,3,4,"button",19),y["\u0275\u0275elementStart"](21,"button",20),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](22),y["\u0275\u0275pipe"](23,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](24,"div",21),y["\u0275\u0275elementStart"](25,"button",22),y["\u0275\u0275text"](26),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"div",23),y["\u0275\u0275template"](29,We,6,5,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"div",6),y["\u0275\u0275elementStart"](31,"div",24),y["\u0275\u0275elementStart"](32,"div",25),y["\u0275\u0275elementStart"](33,"label",26),y["\u0275\u0275text"](34),y["\u0275\u0275pipe"](35,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](36,"select",27),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.customersalesprice=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changesalesprice(t)}),y["\u0275\u0275template"](37,Ye,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"div",24),y["\u0275\u0275elementStart"](39,"div",25),y["\u0275\u0275elementStart"](40,"label",26),y["\u0275\u0275text"](41),y["\u0275\u0275pipe"](42,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](43,"span",29),y["\u0275\u0275text"](44,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](45,"select",30,31),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeBranch(t)}),y["\u0275\u0275template"](47,He,2,0,"option",32),y["\u0275\u0275template"](48,Ze,2,0,"option",32),y["\u0275\u0275template"](49,et,3,3,"option",33),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](50,"div",6),y["\u0275\u0275elementStart"](51,"div",34),y["\u0275\u0275elementStart"](52,"div",25),y["\u0275\u0275elementStart"](53,"label",35),y["\u0275\u0275text"](54),y["\u0275\u0275pipe"](55,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](56,"span",29),y["\u0275\u0275text"](57,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"input",36,37),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"div",34),y["\u0275\u0275elementStart"](61,"div",25),y["\u0275\u0275elementStart"](62,"label",38),y["\u0275\u0275text"](63),y["\u0275\u0275pipe"](64,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"span",29),y["\u0275\u0275text"](66,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](67,"p-autoComplete",39,40),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](68);return y["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onClearCustomer(t)}),y["\u0275\u0275pipe"](70,"translate"),y["\u0275\u0275template"](71,it,2,2,"ng-template",41),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](72,"div",34),y["\u0275\u0275elementStart"](73,"div",25),y["\u0275\u0275elementStart"](74,"label",42),y["\u0275\u0275text"](75),y["\u0275\u0275pipe"](76,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](77,"input",43,44),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](79,"div",34),y["\u0275\u0275elementStart"](80,"div",25),y["\u0275\u0275elementStart"](81,"label",45),y["\u0275\u0275text"](82),y["\u0275\u0275pipe"](83,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](84,"span",29),y["\u0275\u0275text"](85,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](86,"select",46,47),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.status_id=t}),y["\u0275\u0275template"](88,rt,2,1,"option",48),y["\u0275\u0275template"](89,at,2,1,"option",48),y["\u0275\u0275template"](90,ct,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](91,"div",6),y["\u0275\u0275elementStart"](92,"div",34),y["\u0275\u0275elementStart"](93,"div",25),y["\u0275\u0275elementStart"](94,"label",49),y["\u0275\u0275text"](95),y["\u0275\u0275pipe"](96,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](97,"input",50,51),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),y["\u0275\u0275pipe"](99,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](100,"div",34),y["\u0275\u0275elementStart"](101,"div",25),y["\u0275\u0275elementStart"](102,"label",52),y["\u0275\u0275text"](103),y["\u0275\u0275pipe"](104,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](105,"input",53,54),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](107,"div",34),y["\u0275\u0275elementStart"](108,"div",25),y["\u0275\u0275elementStart"](109,"label",55),y["\u0275\u0275text"](110),y["\u0275\u0275pipe"](111,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](112,"input",56,57),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.memo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](114,"div",34),y["\u0275\u0275elementStart"](115,"div",25),y["\u0275\u0275elementStart"](116,"label",58),y["\u0275\u0275text"](117),y["\u0275\u0275pipe"](118,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](119,"input",59,60),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](121,"div",61),y["\u0275\u0275elementStart"](122,"div",62),y["\u0275\u0275elementStart"](123,"div",6),y["\u0275\u0275elementStart"](124,"div",63),y["\u0275\u0275elementStart"](125,"ul",64,65),y["\u0275\u0275listener"]("activeIdChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().activeNav=t}),y["\u0275\u0275elementStart"](127,"li",66),y["\u0275\u0275elementStart"](128,"a",67),y["\u0275\u0275text"](129),y["\u0275\u0275pipe"](130,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](131,$t,34,28,"ng-template",68),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](132,nn,5,4,"li",69),y["\u0275\u0275elementStart"](133,"li",70),y["\u0275\u0275elementStart"](134,"a",67),y["\u0275\u0275text"](135),y["\u0275\u0275pipe"](136,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](137,gn,24,16,"ng-template",68),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](138,"li",70),y["\u0275\u0275elementStart"](139,"a",67),y["\u0275\u0275text"](140),y["\u0275\u0275pipe"](141,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](142,_n,3,1,"ng-template",68),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](143,"li",70),y["\u0275\u0275elementStart"](144,"a",67),y["\u0275\u0275text"](145),y["\u0275\u0275pipe"](146,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](147,Rn,16,7,"ng-template",68),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](148,"div",71),y["\u0275\u0275elementStart"](149,"div",6),y["\u0275\u0275elementStart"](150,"div",72),y["\u0275\u0275template"](151,xn,3,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](3),t=y["\u0275\u0275reference"](46),n=y["\u0275\u0275reference"](59),i=y["\u0275\u0275reference"](69),r=y["\u0275\u0275reference"](87),a=y["\u0275\u0275reference"](98),o=y["\u0275\u0275reference"](126),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,69,"Issue Request")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("disabled",s.VouchersLinkedCount>0||1==s.ShowModeReceipt||1==s.DuringSaveDisable||s.ReceiptID>0&&!s.checkRoleParms(619)||0==s.ReceiptID&&!s.checkRoleParms(223)||2==s._Receipt.status_id||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](15,71,"Save")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275attribute"]("disabled",!s.checkRoleParms(223)||1==s.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,73,"CreateNew")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",s.ReceiptID>0&&0==s.VouchersLinkedCount),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",s.ReceiptID>0&&s.checkRoleParms(226)),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==s.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](23,75,"Exit")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](27,77,"Action Menu")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",s.ReceiptID>0),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](35,79,"CostPrice")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.customersalesprice),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",s.CustomerSalesPriceList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](42,81,"Branch")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",s._Receipt.branch_id)("ngClass",y["\u0275\u0275pureFunction2"](112,Ot,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",s.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",s.BranchList)("ngForTrackBy",s.customTrackBy),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](55,83,"Entry#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("stepallow",1)("ngModel",s._Receipt.entry_no)("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",y["\u0275\u0275pureFunction2"](115,Ot,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](64,85,"Customer#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",s._Receipt.cashcustomer_vendor_code)("suggestions",s.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](70,87,"NoResultsFound"))("forceSelection",!0)("ngClass",y["\u0275\u0275pureFunction2"](118,Ot,i.invalid&&e.submitted,i.valid&&e.submitted)),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](76,89,"CustomerName")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.cashcustomer_vendor_name)("readonly",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](83,91,"Approval Status")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",s._Receipt.status_id)("ngClass",y["\u0275\u0275pureFunction2"](121,Ot,r.invalid&&e.submitted,r.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",s.StatusList),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](96,93,"Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](99,95,s._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](124,Ot,a.invalid&&e.submitted||0==s.ValidPeriod,a.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](104,98,"time")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngModel",s._Receipt.entry_time),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](111,100,"Memo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.memo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](118,102,"ReferenceNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.reference_no),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("destroyOnHide",!1)("activeId",s.activeNav),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngbNavItem",1),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](130,104,"Items")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",null==s.CurrentUserSetting?null:s.CurrentUserSetting.showreceiptitemcomponent),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngbNavItem",3),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](136,106,"LinkedReceipt")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",4),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](141,108,"Signature")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",5),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](146,110,"History")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavOutlet",o),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",s.itemqtyview)}}function In(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Pn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function On(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function En(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function wn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",78),y["\u0275\u0275template"](1,On,2,1,"span",1),y["\u0275\u0275template"](2,En,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function kn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",72),y["\u0275\u0275elementStart"](1,"label",173),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",174),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DescriptionItem.salesmanid=t}),y["\u0275\u0275template"](5,In,2,1,"option",48),y["\u0275\u0275template"](6,Pn,2,1,"option",48),y["\u0275\u0275template"](7,wn,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,6,"ServiceSalesMan")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.DescriptionItem.salesmanid)("disabled",e.ComeFromIssueRequest),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.SalesManlist)}}const Dn=function(){return{height:"150px"}},Bn=function(){return{standalone:!0}};function Ln(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",157),y["\u0275\u0275elementStart"](1,"h6",158),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",159),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](5,"span",160),y["\u0275\u0275text"](6,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",161),y["\u0275\u0275elementStart"](8,"div",162),y["\u0275\u0275elementStart"](9,"label",163),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"input",164,165),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().DescriptionItem.customitemname=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"div",166),y["\u0275\u0275elementStart"](15,"div",162),y["\u0275\u0275elementStart"](16,"quill-editor",167),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().DescriptionItem.detailshtml=t})("onContentChanged",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onContentChanged(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](17,kn,8,8,"div",168),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"div",169),y["\u0275\u0275elementStart"](19,"button",170),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SaveNotes()}),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"button",171),y["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),y["\u0275\u0275element"](23,"i",172),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,13,"Description")),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,15,"Item")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.DescriptionItem.customitemname)("disabled",e.ComeFromIssueRequest),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("styles",y["\u0275\u0275pureFunction0"](21,Dn))("ngModel",e.DescriptionItem.detailshtml)("ngModelOptions",y["\u0275\u0275pureFunction0"](22,Bn))("modules",e.quillConfig)("disabled",e.ComeFromIssueRequest),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.IsSalesManImplemented),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",e.ComeFromIssueRequest),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,17,"Save")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](25,19,"Cancel")," ")}}function Fn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",158),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Nn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",158),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function Vn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function qn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Tn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function An(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",180),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function Gn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",180),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"qty")," "))}const Un=function(e){return{isExpired:e}};function $n(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td",117),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"date"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](5,Un,null==e?null:e.isexpired)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind2"](2,2,null==e?null:e.expire_date,"yyyy-MM-dd")," ")}}function jn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",127),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}const zn=function(e){return{"invalid-data":e}};function Wn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",182),y["\u0275\u0275listener"]("change",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]().$implicit;return y["\u0275\u0275nextContext"](2).ChangeBatchQty(n,t.target.value)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](2,jn,3,3,"span",126),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),y["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",y["\u0275\u0275pureFunction1"](4,zn,(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)}}function Jn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275element"](2,"input",181),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,$n,3,7,"td",104),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275text"](7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275text"](9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](10,Wn,3,6,"td",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),y["\u0275\u0275property"]("checked",null==e?null:e.valid),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ","ar"!=i.lang?null==e?null:e.name:null==e?null:e.name_ar," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.serial," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.availableqty),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial)}}function Qn(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",157),y["\u0275\u0275template"](1,Fn,3,3,"h6",175),y["\u0275\u0275template"](2,Nn,3,3,"h6",175),y["\u0275\u0275elementStart"](3,"button",159),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](4,"span",160),y["\u0275\u0275text"](5,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"form",8,9),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"]().saveserial(t)}),y["\u0275\u0275elementStart"](8,"div",161),y["\u0275\u0275elementStart"](9,"div",72),y["\u0275\u0275elementStart"](10,"div",6),y["\u0275\u0275elementStart"](11,"form"),y["\u0275\u0275elementStart"](12,"div",176),y["\u0275\u0275elementStart"](13,"h6",158),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"table",84),y["\u0275\u0275elementStart"](17,"thead"),y["\u0275\u0275elementStart"](18,"tr"),y["\u0275\u0275elementStart"](19,"th"),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",177),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,Vn,3,3,"th",1),y["\u0275\u0275template"](26,qn,3,3,"th",1),y["\u0275\u0275template"](27,Tn,3,3,"th",1),y["\u0275\u0275template"](28,An,3,3,"th",178),y["\u0275\u0275template"](29,Gn,3,3,"th",178),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"tbody"),y["\u0275\u0275template"](31,Jn,11,7,"tr",92),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"div",169),y["\u0275\u0275elementStart"](33,"button",179),y["\u0275\u0275text"](34),y["\u0275\u0275pipe"](35,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](12),y["\u0275\u0275textInterpolate2"](" ",y["\u0275\u0275pipeBind1"](15,14,"qty")," : ",e._batchqty," "),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,16,"Choose")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,18,"Store")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BatchesListForEatchRow)("ngForTrackBy",e.trackByFn),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](35,20,"save")," ")}}const Yn=function(){return[222,223,225,226,619]};let Hn=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u,g,_){this._CustomerService=e,this._ReceiptSharedService=t,this._VoucherService=n,this.cd=i,this.toastr=r,this._router=a,this._generalService=o,this.translate=s,this._translateGlobalService=c,this._activeRoute=l,this.modalService=d,this.spinner=p,this._authService=h,this._printService=m,this._VerifyReportsService=u,this.datepipe=g,this.location=_,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=64,this.Transaction_move=0,this._Receipt=new C.tY,this._ReceiptOriginal=new C.tY,this._Receipt_h_Edit=new C.Iu,this._CashSalesDetailsReceipt=new C.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new C.tH,this._LinkedReceipt=new C.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.BranchList=[],this.CustomerAccountsList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.reporturl="",this.reportdomainUrl=xe.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.NOComponents="",this.QtyIsValidWithAvailableQty="",this.InValidQty="",this.InValidQtyForBatch="",this.InValidNumberOfBatch="",this.DuringSaveDisable=!1,this.show_all_component=!1,this.RelatedwithSerialsOrBatches="",this.ShowDiscountCols=!1,this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemqtyList=new Array,this._totalcost=0,this.StatusList=[{id:1,name:"New",name_ar:"\u062c\u062f\u064a\u062f"},{id:2,name:"Issue Voucher",name_ar:"\u0633\u0646\u062f \u0627\u0644\u0635\u0631\u0641"}],this.ReceiptHistoryList=[],this.CustomerCostCenterList=[],this.requiredserial=2,this._batchqty=0,this.BatchesListForEatchRow=[],this.selectedindex=0,l.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods(),this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=o.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransiction/issuerequest/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","NOComponents","Issue Request","No","swalNewActionTitle","swalNewActionText","RelatedwithSerialsOrBatches","cantNotDuplicateItem","QtyIsValidWithAvailableQty","InValidQty","InValidQtyForBatch","InValidNumberOfBatch"]).subscribe(e=>{document.title=e["Issue Request"],this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.NOComponents=e.NOComponents,this.Close=e.Close,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.No=e.No,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.cantNotDuplicateItem=e.cantNotDuplicateItem,this.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,this.InValidQty=e.InValidQty,this.InValidQtyForBatch=e.InValidQtyForBatch,this.InValidNumberOfBatch=e.InValidNumberOfBatch})})}ngOnInit(){}GetModuleSetting(){this._generalService.GetModuleSetting().subscribe(e=>{null!=e&&(this._ModuleList=e)})}SetInitialMethods(){this._Receipt=new C.tY,this.GetCurrentUserSetting(),this.GetModuleSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetSettingForActivateBatchesOrNot(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,be.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt(),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.status_id=1,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),console.log(this._Receipt.entry_date),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{null!=e.receipt&&(this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this.PriceListItemsOnly=e.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:e.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.cashcustomername_ar:e.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptmultipayment=e.receiptmultipayment,this.ItemsComponentList=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),this.ReceiptHistoryList=e.receipthistory,this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),this.CheckShowDiscountCols(),console.log(this._ReceiptOriginal),console.log(this._Receipt),this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck())})}CheckPre_SaveReceipt(e){if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++)if(null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{if(!(this._Receipt.details[e].qty>0))return void this.toastr.error(this.qtyZeroErrorSaveMsg);0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv,this._ModuleList[0].allowrecalculate&&this.CalaculteValuesItemsRow(e,"percent",!1)}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].qty>0){0!=this._Receipt.value?(this._Receipt.itemscomponent[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty%(1/0)||0,this._Receipt.itemscomponent[e].h_discount_percentage=100*(this._Receipt.itemscomponent[e].h_discount_value/(this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty)%(1/0)||0)):(this._Receipt.itemscomponent[e].h_discount_value=0,this._Receipt.itemscomponent[e].h_discount_percentage=0);{let t=this.ItemComponentUnitsList.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._Receipt.itemscomponent[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.itemscomponent[e].conv/t.conv):this._Receipt.itemscomponent[e].conv,this._Receipt.itemscomponent[e].final_conv=0==this._Receipt.itemscomponent[e].final_conv?1:this._Receipt.itemscomponent[e].final_conv}}this.Calculate_Total_Tax_Net(),this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status?5:1}SaveReceipt(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();if(this.SettingForActivateBatchesOrNot.activatebatchesornot){let e=[];if(this.ReceiptID>0&&(this._Receipt.details.forEach(t=>{t.batcheslist||(t.batcheslist=[]),3==t.isrequireserial&&(0==t.batcheslist.length?e.push(!1):t.batcheslist.forEach(t=>{t.readonlyavailableqtywithfinal_conv&&t.readonlyavailableqtywithfinal_conv-t.qty<0&&e.push(!0)}))}),e.length>0))return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.details.forEach(t=>{if(3==t.isrequireserial){0==t.batcheslist.length?e.push(!1):0==t.validrow&&e.push(!0);let n=[],i=[],r=this._Receipt.details.filter(e=>e.item_id==t.item_id);if(null!=r&&r.length>1){r.forEach(e=>{let t=e.final_conv;e.batcheslist.forEach(e=>{let i=new Me.WB;i.availableqty=e.availableqty*t,i.qty=e.qty*t,i.serial=e.serial,i.batchno=e.batchno,n.push(i)})}),console.log("serialdata:",n),n.forEach(e=>{var t=n.filter(t=>t.batchno==e.batchno&&t.serial==e.serial).map(e=>e.qty).reduce(function(e,t){return e+t});i.push({serial:e.batchno,qty:t,availableqty:e.availableqty})}),console.log("sum:",i);let a=i.filter(e=>e.qty>e.availableqty);null!=a&&a.length>0&&(t.validrow=!1,e.push(!1))}console.log("end:",t.validrow)}}),console.log("_isValidArr:",e),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.details.forEach(t=>{if(3==t.isrequireserial)if(0==t.batcheslist.length)e.push(!1);else{let n=0;t.batcheslist.forEach(e=>{var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=t.qty&&e.push(!1)}}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}this.DuringSaveDisable=!0;for(let e=0;e<this._Receipt.linkedreceipts.length;e++)0==this._Receipt.linkedreceipts[e].fire&&(this._Receipt.linkedreceipts.splice(e,1),e--);null==this._Receipt.id||0==this._Receipt.id?this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,this._router.navigate(["/page/inventorytransiction/issuerequest/"+this.ReceiptID]).then(()=>{window.location.reload()})}):(this._Receipt_h_Edit=new C.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/inventorytransiction/issuerequest/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e&&this.ChangeEntryDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&ye().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/inventorytransiction/issuerequest/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}changesalesprice(e){let t=JSON.parse(localStorage.getItem("IssuePricePolicy "));null!=t&&null!=t&&localStorage.removeItem("IssuePricePolicy "),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?(this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.customersalesprice=this.originalSalesPrice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:this._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:this._Receipt.customersalesprice})))}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetDefaultStoreCostCenterByBranch(e=!1,t=!0){1==t&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==e&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{if(this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid){if(0==this._Receipt.details.length){this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}}1==t&&this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this._Receipt.itemscomponent.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))}null!=this.StoreCostCenterSetting.costcenterid&&(this._Receipt.costcenterid=this.StoreCostCenterSetting.costcenterid,this._Receipt.costcenterfieldname={costcenterfieldname:"ar"==this.lang?this.StoreCostCenterSetting.costcentername_ar:this.StoreCostCenterSetting.costcentername}),this.cd.markForCheck()})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e,this.SetCustomerSalesPriceList()})}SetCustomerSalesPriceList(){let e=this.CurrentUserSetting.issuepricepolicy;if(null==e||0==e){this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"},{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"},{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"},{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}];let e=JSON.parse(localStorage.getItem("IssuePricePolicy "));this._Receipt.customersalesprice=null!=e&&null!=e?parseInt(e.IssuePricePolicy):this.CustomerSalesPriceList[6].id}else 1==e?this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"}]:2==e?this.CustomerSalesPriceList=[{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"}]:3==e?this.CustomerSalesPriceList=[{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"}]:4==e?this.CustomerSalesPriceList=[{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"}]:5==e?this.CustomerSalesPriceList=[{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}]:6==e&&(this.CustomerSalesPriceList=[{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}]),this._Receipt.customersalesprice=this.CustomerSalesPriceList[0].id;this.originalSalesPrice=this._Receipt.customersalesprice}GetSettingForActivateBatchesOrNot(){this._ReceiptSharedService.GetSettingForActivateBatchesOrNot(this.subsidiaryID).subscribe(e=>{this.SettingForActivateBatchesOrNot=e})}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1,dispensingpolicy:1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e,this.cd.markForCheck()})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeCurrency(e){if(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.Calculate_Total_Tax_Net(),this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(let e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null)}}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?this.ValidPeriod=!0:(this.ValidPeriod=!1,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowPopUpFinancialPeriod()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;ye().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?ye().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?(this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this._Receipt.vendor_balance=e.balance,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetCustomerCostCenter()):this.GetDefaultStoreCostCenterByBranch(!1)}):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this._Receipt.vendor_balance=e.balance,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetCustomerCostCenter())}GetCustomerAccountsList(e=""){this._CustomerService.CustomerAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}GetCustomerCostCenter(){this._ReceiptSharedService.GetCustomerCostCenter(this.subsidiaryID,this._Receipt.vendor_id).subscribe(e=>{this.CustomerCostCenterList=[],this.CustomerCostCenterList=e,this.CustomerCostCenterList.length>0?(this._Receipt.costcenterid=this.CustomerCostCenterList[0].id,this._Receipt.costcenterfieldname="ar"==this.lang?{costcenterfieldname:this.CustomerCostCenterList[0].sugar}:{costcenterfieldname:this.CustomerCostCenterList[0].sug}):this.GetDefaultStoreCostCenterByBranch(!0,!1),this.cd.markForCheck()})}onClearCustomer(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e,t){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,this.cd.markForCheck()})}onClearItems(e){let t=this._Receipt.details[e];if(3==t.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));if(null!=this._Receipt.details[e].id){let t=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[e].rowno=t+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(t=>t.item_id==e.id)?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}duplicateItemSwalPopUp(e){ye().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(t=>{this.onClearItems(e),this._Receipt.details[e].itemcode=null,this.cd.markForCheck()})}GetItemsList(e=""){0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].allowtax=n.item.allowtax,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):3==e.item_type&&0==n.itemcomponents.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].allowtax=n.item.allowtax,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NOComponents)):(this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].allowtax=n.item.allowtax,this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this._Receipt.details[t].haswarrenty=n.item.haswarrenty,this._Receipt.details[t].warrantydate=n.item.haswarrenty?this.getwarrantydateDate():null,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.inventory_unitid,n.componentsunits.length>0&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.componentsunits)),n.itemcomponents.length>0&&n.itemcomponents.forEach(e=>{let n=new C.hm;n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode=e.itemcode,n.unit_id=e.itemcomponentunitid,n.qty=e.itemcomponentqty,n.basicqtycomponent=e.itemcomponentqty,n.conv=e.itemcomponentconv,n.itemcode=e.itemcode,n.price=0,n.total=n.price*n.qty,n.store_id=this._Receipt.details[t].store_id,n.transaction_move=this.Transaction_move,n.item_type=e.item_type,n.storecode=null!=this._Receipt.details[t].storecode?this._Receipt.details[t].storecode.code:null,n.parentrowno=this._Receipt.details[t].rowno,this._Receipt.itemscomponent.push(n)}),this.ChangeItemUnits(e.inventory_unitid,t)),this.CheckShowDiscountCols(),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);5==this._Receipt.customersalesprice?null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(e=>{console.log(e),e.length>0?(this._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)):(this._Receipt.details[t].price=Number((0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)),this.CheckShowDiscountCols(),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel)}):this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,n,e,this._Receipt.customersalesprice).subscribe(e=>{e.customerprice.length>0&&(this._Receipt.details[t].price=e.customerprice[0].saleprice,5==e.customerdiscount.customersalesprice?(this._Receipt.details[t].conv=e.customerprice[0].itemconv,this._Receipt.details[t].discount_value=e.customerprice[0].discountvalue,this._Receipt.details[t].discount_percent=e.customerprice[0].discountpercentage,this._Receipt.details[t].unit_id=e.customerprice[0].itemunitid):(this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv),this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)),this.CheckShowDiscountCols(),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel)}),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,5==this._Receipt.customersalesprice?this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(i=>{console.log(i),i.length>0?(t=Number((i[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)):(t=0,this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[e].isrequireserial&&3!=this._Receipt.details[e].isrequireserial||this.OnSerialItems(e,this.serialModel)}):this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,this._Receipt.customersalesprice).subscribe(i=>{i.customerprice.length>0&&(t=i.customerprice[0].saleprice,5==i.customerdiscount.customersalesprice&&(n=i.customerprice[0].itemconv),this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[e].isrequireserial&&3!=this._Receipt.details[e].isrequireserial||this.OnSerialItems(e,this.serialModel))}),this.cd.markForCheck()},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{if(this.timeout=null,3==this._Receipt.details[e].item_type)if(this.ItemsComponentList=new Array,null!=this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id){let n=this._ReceiptOriginal.details.find(e=>e.id==t.id).qty,i=this._ReceiptOriginal.itemscomponent.find(n=>n.finishedreceipt_did==t.id&&n.id==this._Receipt.itemscomponent[e].id).qty;this._Receipt.itemscomponent[e].basicqtycomponent=i/n,this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e])}}else if(null==this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[e].id&&this._Receipt.itemscomponent[e].parentrowno==t.rowno&&(this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e]))}this.StockBalances(e),this.CheckBalanceForItemInStore(e),this.CalaculteValuesItemsRow(e),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[e].isrequireserial&&3!=this._Receipt.details[e].isrequireserial||this.OnSerialItems(e,this.serialModel)},1e3)}OnSelectedItem(e=null,t=null,n="",i=!1){if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){let t=e;if(null!=t.id)for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[e]);else null==t.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id&&null==e.id&&e.parentrowno==t.rowno))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}AddItems(){this._CashSalesDetailsReceipt=new C.hm,this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode),this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}DeleteItems(e){let t=this._Receipt.details[e];if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));1==this._Receipt.details.filter(e=>e.item_id==t.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id)),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this.CheckShowDiscountCols(),this.OnSelectedItem(null),this.cd.markForCheck()}OnEditItemsNotes(e,t){this.DescriptionItem=new C.tH,this.DescriptionItem.index=e,this.DescriptionItem.detailshtml=this._Receipt.details[e].detailshtml,this.DescriptionItem.customitemname=this._Receipt.details[e].customitemname,this.OpenModal(t)}onContentChanged(e){this._Receipt.details[this.DescriptionItem.index].notes=e.text}SaveNotes(){this._Receipt.details[this.DescriptionItem.index].customitemname=this.DescriptionItem.customitemname,this._Receipt.details[this.DescriptionItem.index].detailshtml=this.DescriptionItem.detailshtml,this._Receipt.details[this.DescriptionItem.index].salesmanid=this.DescriptionItem.salesmanid,this.CloseModal()}CheckShowDiscountCols(){let e=this._Receipt.details.filter(e=>e.discount_percent>0||e.discount_value>0);this.ShowDiscountCols=e.length>0,this.cd.markForCheck()}CalaculteValuesItemsRow(e,t="percent",n=!0){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;let i=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((i*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/i%(1/0)||0)),this._Receipt.details[e].total=Number((i-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),1==n&&this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}ReCalaculteValuesChangeItemsRow(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(t=>{if(this.spinner.hide(),null==t.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(t.items.length>0)if(1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=t.receipt.subsidiaryid,this._Receipt.customersalesprice=null!=t.receipt.customersalesprice?t.receipt.customersalesprice:this._Receipt.customersalesprice,this._Receipt.payment_type=null!=t.receipt.payment_type?t.receipt.payment_type:this._Receipt.payment_type,this._Receipt.vendor_id=null!=t.receipt.vendor_id?t.receipt.vendor_id:this._Receipt.vendor_id,this._Receipt.cashcustomerid=null!=t.receipt.cashcustomerid?t.receipt.cashcustomerid:this._Receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.vendornamear:t.receipt.vendorname,this._Receipt.vendor_balance=null!=t.receipt.vendor_balance?t.receipt.vendor_balance:this._Receipt.vendor_balance,this.PriceListItemsOnly=t.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:t.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.cashcustomername_ar:t.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=t.receipt.currency_id,this._Receipt.currency_rate=t.receipt.currency_rate,this._Receipt.empoyee_id=null!=t.receipt.empoyee_id?t.receipt.empoyee_id:this._Receipt.empoyee_id,this._Receipt.memo=t.receipt.memo,this._Receipt.reference_no=t.receipt.reference_no,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),0==this.PriceListItemsOnly||t.receipt.vendor_id==this._Receipt.vendor_id){this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=t.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id;for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);t.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),t.itemcomponents.length>0&&(this.ItemComponentsLinkedReceipt=t.itemcomponents,81==t.receipt.code&&(this.ItemComponentsLinkedReceipt=this.ItemComponentsLinkedReceipt.filter(e=>-1==e.transaction_move)),this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(t.componentsunits)),this.ItemLinkedReceipt=t.items,81==t.receipt.code&&(this.ItemLinkedReceipt=this.ItemLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0])}else this._Receipt.linkedreceipts[e].fire=0,this.spinner.hide(),this.toastr.info(this.CustomerPricelistMsg);else this.spinner.hide(),this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._CashSalesDetailsReceipt=new C.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv);if(-1==n){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total;let n=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=n+1,3==t.item_type&&this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id).forEach(e=>{let t=new C.hm;t.store_id=this._CashSalesDetailsReceipt.store_id,t.storecode=this._CashSalesDetailsReceipt.storecode.code,t.item_id=e.item_id,t.itemcode=e.itemcode,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.unit_id=e.unit_id,t.conv=e.conv,t.qty=e.qty,t.basicqtycomponent=e.qty/this._CashSalesDetailsReceipt.qty||0,t.price=e.price,t.discount_value=e.discount_value,t.discount_percent=e.discount_percent,t.total=e.total,t.transaction_move=this.Transaction_move,t.finishedproductid=e.finishedproductid,t.item_type=e.item_type,t.notes=e.notes,t.haswarrenty=e.haswarrenty,t.warrantydate=e.warrantydate,t.detailshtml=e.detailshtml,t.customitemname=e.customitemname,t.salesmanid=e.salesmanid,t.parentrowno=this._CashSalesDetailsReceipt.rowno,this._Receipt.itemscomponent.push(t)}),this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished(),this.CheckShowDiscountCols()}else{if(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),3==t.item_type){let e=this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id);if(null!=this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)if(this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id){var i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id);this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty)}}else if(null==this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[n].id&&this._Receipt.itemscomponent[n].parentrowno==t.rowno&&(i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id),this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty))}}this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished(),this.CheckShowDiscountCols()}}SetLinkReceiptItemFinished(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;let e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}OnCustomerLinkedReceiptSet(e){this.LinkedReceiptListSelected=[],this.IxLRS=0,this.LinkedReceiptListSelected=e.list;for(let t=0;t<this.LinkedReceiptListSelected.length;t++)this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.LinkedReceiptListSelected[t].code,this._LinkedReceipt.entry_no=this.LinkedReceiptListSelected[t].entry_no,this._LinkedReceipt.subsidiaryid=this.subsidiaryID,this._LinkedReceipt.branch_id=this.LinkedReceiptListSelected[t].branch_id,this._LinkedReceipt.receiptid=this.LinkedReceiptListSelected[t].id,this._LinkedReceipt.parentreceiptid=this._Receipt.id,this._Receipt.linkedreceipts.push(this._LinkedReceipt);this.GetLinkedReceipt(this._Receipt.linkedreceipts.length-(this.IxLRS+1))}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}OnOpenReceiptHistory(e){let t=this.ReceiptHistoryList[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);""!=n.Url&&window.open(n.Url+this.ReceiptHistoryList[e].receiptid+"/show","_blank")}OnSignatureSet(e){this._Receipt.signature=e.signature}Calculate_Total_Tax_Net(){let e=0;this._Receipt.details.forEach(t=>{e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this.CalculateTax_Net(e)}CalculateTax_Net(e=0){1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){var i;1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let r=!0,a=new C.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id,console.log(a);let o=null!==(i=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==i?i:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==o||1==o&&this._Receipt.details[e].id>0)&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(a).subscribe(i=>{let a=0,s=0,c=0,l=[],d=!0;if(0==i.consignment.consignment){if(null!=i.totalqty.totalqty){if(a=i.totalqty.totalqty,l=i.itemcomponent,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;s=parseFloat(s.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._Receipt.details[e].item_type){this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.details[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});let t=[],n=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let i=0;i<n.length;i++){t=[],t=this._Receipt.itemscomponent.filter(t=>t.parentrowno==n[i].rowno&&t.finishedproductid==n[i].item_id&&null==t.id&&t.item_id==this._Receipt.details[e].item_id);for(let e=0;e<t.length;e++){let n=t[e].qty,i=this.ItemComponentUnitsList.find(n=>n.item_id==t[e].item_id&&n.id==t[e].unit_id);if(null!=i){let r=(null!=i.finalconv?i.finalconv:1)*(t[e].conv/(null!=i.conv?i.conv:1))*parseFloat(n.toString());s=parseFloat(s.toString())+r}}}}if(-1==o?c=a-s:1==o&&(c=a+s),3==this._Receipt.details[e].item_type)for(let e=0;e<l.length;e++)if(2!=l[e].item_type){let t=this._Receipt.details.filter(t=>t.item_id==l[e].item_id),n=0;t.forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;n=parseFloat(n.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),this._Receipt.itemscomponent.filter(t=>t.item_id==l[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());n=parseFloat(n.toString())+i}});let i=[],r=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let a=0;a<r.length;a++){i=[],i=this._Receipt.itemscomponent.filter(t=>t.parentrowno==r[a].rowno&&t.finishedproductid==r[a].item_id&&null==t.id&&t.item_id==l[e].item_id);for(let e=0;e<i.length;e++){let t=i[e].qty,r=this.ItemComponentUnitsList.find(t=>t.item_id==i[e].item_id&&t.id==i[e].unit_id);if(null!=r){let a=(null!=r.finalconv?r.finalconv:1)*(i[e].conv/(null!=r.conv?r.conv:1))*parseFloat(t.toString());n=parseFloat(n.toString())+a}}}if(!(n<l[e].totalqty)){d=!1;break}d=!0}r=c>=0&&1==d}else r=!1;0==r?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+a)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(619)?this._router.navigate(["/page/inventorytransiction/issuerequest/0"]).then(()=>{window.location.reload()}):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/issuerequest/0"]).then(()=>{window.location.reload()})})}DeleteAction(){ye().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransiction/issuerequest"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/inventorytransiction/issuerequest/0"),this.ReceiptID=0,this._Receipt.id=null,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/issuerequest"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){const t=this._authService.userInfo().clientdatabase;let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_64_IssueRequest"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("darshgf")>-1?n="P_All_Inv_Receipt_gl_web_darshgf"+i:t.indexOf("alromaih")>-1&&(n="P_I_60_IssueVoucher_GL_WEB_alromaih"),r.reportName=n,r.toEmail=this._emailobj.email,r.Subject=this._emailobj.subject,r}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(619)||0==this.ReceiptID&&!this.checkRoleParms(223)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/issuerequest"]):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/issuerequest"])})}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}getwarrantydateDate(){let e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}formateDecimal(e,t=3){return e.toFixed(t)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}OnSerialItems(e,t){var n;if(1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)return void this.toastr.error(this.InValidQty);this.requiredserial=this._Receipt.details[e].isrequireserial;let i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),r=this._Receipt.details[e].conv*i[0].finalconv/i[0].conv;this._batchqty=this._Receipt.details[e].qty,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(n=this._Receipt.id)&&void 0!==n?n:0,this._Receipt.entry_date+" "+this._Receipt.entry_time,this.subsidiaryID).subscribe(n=>{this.BatchesListForEatchRow=[],n.seriallist.forEach(t=>{null!=this._Receipt.id&&0!=this._Receipt.id&&null!=this._ReceiptOriginal.details[this.selectedindex]&&this._ReceiptOriginal.details[this.selectedindex].unit_id!=this._Receipt.details[this.selectedindex].unit_id&&(t.availableqty=t.availableqty+this._ReceiptOriginal.details[e].qty*this._ReceiptOriginal.details[e].final_conv-this._Receipt.details[e].qty*this._Receipt.details[e].final_conv),t.availableqtywithsmallestunit=t.availableqty,t.availableqty=parseFloat((t.availableqty/r).toFixed(4))});let i=[];if(i=n.seriallist,console.log(n.seriallist,"d.seriallist"),this._Receipt.details[this.selectedindex].batcheslist.forEach(e=>{let t=i.findIndex(t=>t.id==e.previtemserialid);-1!=t&&(e.inv_receipt_d_id>0?null!=this._Receipt.details[this.selectedindex].validrow&&1!=this._Receipt.details[this.selectedindex].validrow||(i[t].qty=e.qty,i[t].oldqty=e.qty,i[t].availableqty=this.dealWith(i[t].availableqty-e.qty),this._Receipt.details[this.selectedindex].validrow=!0):1==this._Receipt.details[this.selectedindex].validrow&&(i[t].qty=e.qty,i[t].oldqty=e.qty,i[t].availableqty=this.dealWith(i[t].availableqty-e.qty),this._Receipt.details[this.selectedindex].validrow=!0))}),this._Receipt.id>0)for(let e=0;e<i.length;e++)null==i[e].qty&&0==i[e].availableqty||this.BatchesListForEatchRow.push(i[e]);else this.BatchesListForEatchRow=[...i];if(1==this.CashCustomerSetting.dispensingpolicy){if(this._Receipt.details[this.selectedindex].id>0&&this.ReceiptID>0){console.log(this.BatchesListForEatchRow);for(let e=0;e<this.BatchesListForEatchRow.length;e++)this.BatchesListForEatchRow[e].availableqty+=this.BatchesListForEatchRow[e].oldqty,this.BatchesListForEatchRow[e].qty=0,this.BatchesListForEatchRow[e].solidquantity=0}let t=0;if(this.BatchesListForEatchRow.forEach(e=>{t+=e.availableqty}),console.log(t,this._Receipt.details[e].qty),this._Receipt.details[e].qty>t)return void this.toastr.error(this.InValidQtyForBatch);if(this._Receipt.details[e].qty==t)this.BatchesListForEatchRow.forEach(e=>{e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),this.saveSerialOnSalesReturnEffectDispensingPolicy();else{let t=this._Receipt.details[e].qty;this.BatchesListForEatchRow.forEach(e=>{0!=t&&(e.availableqty>=t?(e.qty=t,e.oldqty=t,e.availableqty=e.availableqty-t,t=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,t-=e.availableqty,e.availableqty=0))}),this.saveSerialOnSalesReturnEffectDispensingPolicy()}}else this.OpenModal(t);1==this.CashCustomerSetting.dispensingpolicy&&this.OpenModal(t)})}saveSerialOnSalesReturnEffectDispensingPolicy(){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Me.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.availableqty=t.availableqty+t.qty,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}else{let e=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=e&&this._Receipt.details[this.selectedindex].batcheslist.splice(e,1)}}),console.log(this._Receipt.details,"this._Receipt.details")}saveserial(e){if(e.valid){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Me.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.availableqty=t.availableqty+t.qty,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}else{let e=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=e&&this._Receipt.details[this.selectedindex].batcheslist.splice(e,1)}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}ChangeBatchQty(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}dealWith(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}CreateIssueVoucer(){this._router.navigate(["page/inventorytransiction/issuevoucher/0/0/0/"+this.ReceiptID])}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Re.H),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](w.FF),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](v.J),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-request-details"]],viewQuery:function(e,t){if(1&e&&(y["\u0275\u0275viewQuery"](Ne,5),y["\u0275\u0275viewQuery"](Ve,5)),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first),y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.serialModel=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([Se.v,f.t,i.uU,Re.H,v.J])],decls:9,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["DescriptionItemModel",""],["serialModel",""],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"card","my-4","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","StatusID",1,"col-form-label"],["name","StatusID","required","","disabled","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["StatusID","ngModel"],[3,"ngValue",4,"ngIf"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],[1,"card","my-4","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-12"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],[3,"value"],["Value","null"],[3,"ngValue"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table-responsive","table-accountdetails",3,"ngClass"],[1,"table"],["scope","col",2,"width","5%"],["scope","col"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col","style","width: 12%",4,"ngIf"],["scope","col","style","width: 6%",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],["scope","col",2,"width","12%"],["scope","col",2,"width","6%"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],[1,"fa-stack","fa-lg","addNotesIcon"],[1,"fa","fa-plus","fa-stack-1x"],[1,"fa","fa-sticky-note","fa-stack-2x"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],[1,"fa","fa-trash","font-medium-3"],[3,"ngClass"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],[1,"form-control",3,"id","ngClass","click"],["PositiveNumbersOnly","","hidden","true","type","number","customMin","",1,"form-control",3,"id","readonly","ngModel","name","Min","CheckMin","ngClass","keyup","focusout","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number","customMax","100","customMin","",1,"form-control",3,"ngModel","Min","CheckMin","name","readonly","ngClass","keyup","ngModelChange"],["discountpercent","ngModel"],["style","color: red",4,"ngIf"],[2,"color","red"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["discount_value","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],[1,"table-responsive","table-accountdetails"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"col-12","mb-2"],[3,"custID","subsidiaryID","LinkedListChecked","ListSelected"],["type","button",1,"btn","btn-primary",3,"click"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],[3,"signature","signatureoutput"],[1,"row","mb-6"],[1,"col-12"],["disabled","",1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number","disabled","",1,"form-control","red",3,"ngModel","name","ngModelChange"],["historyReceiptsentry_no","ngModel"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12","form-group"],["for","customitemname",1,"col-form-label"],["type","text","id","customitemname","name","customitemname",1,"form-control",3,"ngModel","disabled","ngModelChange"],["customitemname","ngModel"],[1,"col-md-12","row"],[3,"styles","ngModel","ngModelOptions","modules","disabled","ngModelChange","onContentChanged"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],["for","salesmanid",1,"col-form-label"],["name","salesmanid",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","modal-title",4,"ngIf"],[1,"table-responsive"],[2,"width","20%"],["style","width: 15%",4,"ngIf"],["type","submit",1,"btn","btn-success"],[2,"width","15%"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,qe,4,3,"div",0),y["\u0275\u0275template"](1,Mn,152,127,"ng-container",1),y["\u0275\u0275template"](2,Ln,26,23,"ng-template",null,2,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275template"](4,Qn,36,22,"ng-template",null,3,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementStart"](6,"ngx-spinner",4),y["\u0275\u0275elementStart"](7,"p",5),y["\u0275\u0275text"](8,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(222)||t.checkRoleParms(223)||t.checkRoleParms(225)||t.checkRoleParms(619)||t.checkRoleParms(226))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction0"](3,Yn))),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.JJ,a.On,i.sg,a.Q7,i.mk,a.Fj,Ie.L,Pe.a,s.Qc,Oe.jx,w.Pz,w.nv,w.Vx,w.uN,w.tO,Ee.k,a.YN,a.Kr,a.wV,E.K,we.Z,ke.v,De.t,Be.T,m.g6],pipes:[l.X$,i.uU,Le.N,Fe.p],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.radio-col-green[_ngcontent-%COMP%]{margin-top:10px}.readonlyDiv[_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1;pointer-events:none}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.isExpired[_ngcontent-%COMP%]{color:red}']}),e})();function Zn(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Kn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function Xn(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function ei(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",52),y["\u0275\u0275template"](1,Kn,2,1,"span",1),y["\u0275\u0275template"](2,Xn,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function ti(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",53),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnAdd()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function ni(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",54),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnPrint()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Print")," "))}function ii(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function ri(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function ai(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,ii,1,0,"i",48),y["\u0275\u0275template"](3,ri,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function oi(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function si(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function ci(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,oi,1,0,"i",48),y["\u0275\u0275template"](3,si,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function li(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function di(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function pi(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function hi(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function mi(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function ui(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function gi(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,mi,1,0,"i",48),y["\u0275\u0275template"](3,ui,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"desc"==e.sortDirection)}}function _i(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function Ci(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function fi(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,_i,1,0,"i",48),y["\u0275\u0275template"](3,Ci,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerNamear"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"desc"==e.sortDirection)}}function vi(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function yi(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function bi(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1,"\xa0"),y["\u0275\u0275elementEnd"]())}function Si(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function Ri(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function xi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.customername)}}function Mi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.customernamear)}}function Ii(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"a",63),y["\u0275\u0275element"](1,"i",64),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/receivingvoucher/",null==e?null:e.id,"")}}function Pi(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275template"](1,Si,2,1,"td",1),y["\u0275\u0275template"](2,Ri,2,1,"td",1),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](7,xi,2,1,"td",1),y["\u0275\u0275template"](8,Mi,2,1,"td",1),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275text"](10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td",57),y["\u0275\u0275template"](12,Ii,2,1,"a",58),y["\u0275\u0275elementStart"](13,"a",59),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).$implicit;return y["\u0275\u0275nextContext"](2).PrintPreview(t.id)}),y["\u0275\u0275elementStart"](14,"span"),y["\u0275\u0275element"](15,"i",60),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"a",61),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).$implicit;return y["\u0275\u0275nextContext"](2).OnView(t)}),y["\u0275\u0275elementStart"](17,"span"),y["\u0275\u0275element"](18,"i",62),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.netvalue),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",n.checkRoleParms(202))}}function Oi(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",65),y["\u0275\u0275elementStart"](1,"ngb-pagination",66),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",67),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",68),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",69),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",70),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function Ei(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",6),y["\u0275\u0275elementStart"](2,"div",7),y["\u0275\u0275elementStart"](3,"div",8),y["\u0275\u0275elementStart"](4,"h6",9),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",10),y["\u0275\u0275elementStart"](8,"div",11),y["\u0275\u0275elementStart"](9,"section"),y["\u0275\u0275elementStart"](10,"div",4),y["\u0275\u0275elementStart"](11,"div",12),y["\u0275\u0275elementStart"](12,"form",13,14),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](14,"div",4),y["\u0275\u0275elementStart"](15,"div",15),y["\u0275\u0275elementStart"](16,"div",16),y["\u0275\u0275elementStart"](17,"label",17),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"select",18,19),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](22,"option",20),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,ei,3,3,"option",21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",15),y["\u0275\u0275elementStart"](27,"div",16),y["\u0275\u0275elementStart"](28,"label",22),y["\u0275\u0275text"](29),y["\u0275\u0275pipe"](30,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"input",23,24),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",25),y["\u0275\u0275elementStart"](34,"button",26),y["\u0275\u0275element"](35,"i",27),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"button",28),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ShowAll()}),y["\u0275\u0275element"](39,"i",27),y["\u0275\u0275text"](40),y["\u0275\u0275pipe"](41,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"div",29),y["\u0275\u0275elementStart"](43,"div",30),y["\u0275\u0275elementStart"](44,"div",31),y["\u0275\u0275template"](45,ti,4,3,"button",32),y["\u0275\u0275template"](46,ni,4,3,"button",33),y["\u0275\u0275elementStart"](47,"button",34),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(1)}),y["\u0275\u0275element"](48,"i",27),y["\u0275\u0275text"](49),y["\u0275\u0275pipe"](50,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"button",35),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](52,"i",27),y["\u0275\u0275text"](53),y["\u0275\u0275pipe"](54,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](55,"div",36),y["\u0275\u0275elementStart"](56,"div",37),y["\u0275\u0275elementStart"](57,"label",38),y["\u0275\u0275text"](58),y["\u0275\u0275pipe"](59,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"input",39,40),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](62,"div",4),y["\u0275\u0275elementStart"](63,"div",41),y["\u0275\u0275elementStart"](64,"div",42),y["\u0275\u0275elementStart"](65,"div",43),y["\u0275\u0275elementStart"](66,"div",44),y["\u0275\u0275elementStart"](67,"table",45),y["\u0275\u0275elementStart"](68,"thead"),y["\u0275\u0275elementStart"](69,"tr"),y["\u0275\u0275elementStart"](70,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),y["\u0275\u0275text"](71),y["\u0275\u0275pipe"](72,"translate"),y["\u0275\u0275template"](73,ai,4,3,"ng-container",1),y["\u0275\u0275template"](74,ci,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](75,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),y["\u0275\u0275text"](76),y["\u0275\u0275pipe"](77,"translate"),y["\u0275\u0275elementContainerStart"](78),y["\u0275\u0275element"](79,"i",47),y["\u0275\u0275template"](80,li,1,0,"i",48),y["\u0275\u0275template"](81,di,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](82,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),y["\u0275\u0275text"](83),y["\u0275\u0275pipe"](84,"translate"),y["\u0275\u0275elementContainerStart"](85),y["\u0275\u0275element"](86,"i",47),y["\u0275\u0275template"](87,pi,1,0,"i",48),y["\u0275\u0275template"](88,hi,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](89,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),y["\u0275\u0275text"](90),y["\u0275\u0275pipe"](91,"translate"),y["\u0275\u0275template"](92,gi,4,3,"ng-container",1),y["\u0275\u0275template"](93,fi,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](94,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),y["\u0275\u0275text"](95),y["\u0275\u0275pipe"](96,"translate"),y["\u0275\u0275elementContainerStart"](97),y["\u0275\u0275element"](98,"i",47),y["\u0275\u0275template"](99,vi,1,0,"i",48),y["\u0275\u0275template"](100,yi,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](101,bi,2,0,"th",1),y["\u0275\u0275elementStart"](102,"th"),y["\u0275\u0275text"](103,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](104,"th"),y["\u0275\u0275text"](105,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](106,"tbody"),y["\u0275\u0275template"](107,Pi,19,8,"tr",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](108,Oi,12,7,"div",51),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,36,"Receiving Voucher"),""),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](19,38,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,40,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](30,42,"EntryNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](37,44,"Search")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](41,46,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(196)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(203)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](50,48,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](54,50,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](59,52,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](72,54,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](77,56,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](84,58,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](91,60,"custvendor")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](96,62,"value")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","NetValue"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(202)),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngForOf",e.ReceiptList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let wi=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=a,this._translateGlobalService=o,this.spinner=s,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Receiving Voucher"]).subscribe(e=>{this.title=e["Receiving Voucher"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="3",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/inventorytransiction/receivingvoucher/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransiction/receivingvoucher/0"])}OnView(e){this._router.navigate(["/page/inventorytransiction/receivingvoucher/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/inventorytransiction/receivingvoucher/${e.id}`,this._router.navigate([t])}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",o="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",s="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(c=>{this.cd.markForCheck(),t=`\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>${i}</th>\n                     <th>${r}</th>\n                     <th>${a}</th>\n                     <th>${o}</th>\n                     <th>${s}</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         `,c.map(e=>{var n;t+=`\n        <tr>\n         <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n         <td>${e.entry_no}</td>\n         <td>${e.entry_date}</td>\n         <td>${null!==(n="ar"==this.lang?e.customernamear:e.customername)&&void 0!==n?n:""}</td>\n         <td>${e.netvalue}</td>\n\n        </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":t.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":t.netvalue}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,"Customer/Vendor":t.customernamear,Total:t.netvalue})}),this._Excel.exportAsExcelFile(e,"Receiving Voucher")})}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}PrintPreview(e){let t=this.getReportfilter(e);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),this._authService.printJS(e.bytes)}),this.cd.markForCheck()}getReportfilter(e){const t=this._authService.userInfo().clientdatabase;let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_3_ReceivingVoucher"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alromaih")>-1?n="P_I_3_ReceivingVoucher_GL_WEB_alromaih":t.indexOf("bander")>-1||t.indexOf("192.168.1.50")>-1||t.indexOf("win-69te7j9nfsu")>-1||t.indexOf("localhost:1000")>-1?(n="P_I_3_ReceivingVoucher_Bandar",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:i,DomainName:"",toEmail:"",Subject:"",boby:""}):t.indexOf("istones")>-1?(n="P_S_52_Issue_GL_WEB_istones",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:i,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}):t.indexOf("darshgf")>-1&&(n="P_I_3_ReceivingVoucher_GL_WEB_darshgf"+i,r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""}),r}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](P.x),y["\u0275\u0275directiveInject"](O.z),y["\u0275\u0275directiveInject"](v.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["receivingvoucher"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,v.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn btn-success mb-0\n                    ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped","table-accountdetails"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","primary mr-2",3,"routerLink",4,"ngIf"],[1,"warning","mr-2",3,"click"],["aria-hidden","true",1,"fa","fa-print"],["href","javascript:;",1,"primary","mr-2",3,"click"],["aria-hidden","true",1,"fa","fa-file-text-o"],["href","javascript:;",1,"primary","mr-2",3,"routerLink"],[1,"ft-edit"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Zn,4,3,"div",0),y["\u0275\u0275template"](1,Ei,109,64,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4," Loading... "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(197)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(197)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,E.K,c.yS,w.N9],pipes:[l.X$],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#fff!important}.width-table-input[_ngcontent-%COMP%]{min-width:130px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();const ki=["RForm"];function Di(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",3),y["\u0275\u0275elementStart"](1,"h1",4),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Bi(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",82),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DocumentAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Document")," "))}function Li(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",83),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PrintPreview(0)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function Fi(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",86),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).onPrint()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function Ni(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",86),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).PrintPreview(1)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Printpdf")," ")}}function Vi(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",86),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DupilcateAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function qi(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",86),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](4).CheckBalanceForItemInStoreBeforeDelete(0,!0)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Ti(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,qi,3,4,"button",84),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function Ai(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,Fi,3,4,"button",84),y["\u0275\u0275template"](2,Ni,3,4,"button",84),y["\u0275\u0275elementStart"](3,"email-popup",85),y["\u0275\u0275listener"]("_savedemailobj",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).sendEmail(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](4,Vi,3,4,"button",84),y["\u0275\u0275template"](5,Ti,2,1,"div",1),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(203)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(203)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("entryno",e._Receipt.entry_no),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(196)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(199))}}function Gi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text,"")}}function Ui(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text_ar,"")}}function $i(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,Gi,2,1,"span",1),y["\u0275\u0275template"](2,Ui,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function ji(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",88),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function zi(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",88),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function Wi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Ji(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Qi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,Wi,2,1,"span",1),y["\u0275\u0275template"](2,Ji,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Yi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function Hi(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function Zi(e,t){if(1&e&&(y["\u0275\u0275template"](0,Yi,2,1,"div",1),y["\u0275\u0275template"](1,Hi,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Ki(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Xi(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function er(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function tr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function nr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,er,2,1,"span",1),y["\u0275\u0275template"](2,tr,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const ir=function(e,t){return{"invalid-data":e,"valid-data":t}};function rr(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",34),y["\u0275\u0275elementStart"](1,"div",25),y["\u0275\u0275elementStart"](2,"label",89),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",29),y["\u0275\u0275text"](6,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"select",90,91),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.currency_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).changeCurrency(t)}),y["\u0275\u0275template"](9,Ki,2,1,"option",92),y["\u0275\u0275template"](10,Xi,2,1,"option",92),y["\u0275\u0275template"](11,nr,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,6,"Currency")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",n._Receipt.currency_id)("ngClass",y["\u0275\u0275pureFunction2"](8,ir,e.invalid&&t.submitted,e.valid&&t.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",n.CurrencyList)}}function ar(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",34),y["\u0275\u0275elementStart"](1,"div",25),y["\u0275\u0275elementStart"](2,"label",94),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",29),y["\u0275\u0275text"](6,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"input",95,96),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.currency_rate=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).Calculate_Total_Tax_Net()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,4,"ExchangeRate")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",n._Receipt.currency_rate)("readonly",1==(null==n._CurrencySelected?null:n._CurrencySelected.basecurrency))("ngClass",y["\u0275\u0275pureFunction2"](6,ir,e.invalid&&t.submitted,e.valid&&t.submitted))}}function or(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",74),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function sr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function cr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function lr(e,t){if(1&e&&(y["\u0275\u0275template"](0,sr,2,1,"div",1),y["\u0275\u0275template"](1,cr,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function dr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function pr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function hr(e,t){if(1&e&&(y["\u0275\u0275template"](0,dr,2,1,"div",1),y["\u0275\u0275template"](1,pr,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const mr=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function ur(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",130),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,mr,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function gr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",130),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,mr,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function _r(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Cr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function fr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function vr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function yr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",131),y["\u0275\u0275template"](1,fr,2,1,"span",1),y["\u0275\u0275template"](2,vr,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function br(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",132,133),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("step",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack),y["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),y["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id))("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](9,ir,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Sr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1,"Maximum number can be 100 % Discount"),y["\u0275\u0275elementEnd"]())}function Rr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1,"\u0623\u0643\u0628\u0631 \u0646\u0633\u0628\u0629 \u0647\u0649 100% \u062e\u0635\u0645"),y["\u0275\u0275elementEnd"]())}function xr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",134),y["\u0275\u0275template"](1,Sr,2,0,"span",1),y["\u0275\u0275template"](2,Rr,2,0,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}const Mr=function(e){return{item_id:e}};function Ir(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",105),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"p-autoComplete",106,107),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](5),r=y["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275template"](7,lr,2,2,"ng-template",108),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"p-autoComplete",109,110),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](10),r=y["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).onClearItems(t)}),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275template"](12,hr,2,2,"ng-template",111),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"td",112),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),y["\u0275\u0275template"](14,ur,2,5,"div",113),y["\u0275\u0275template"](15,gr,2,5,"div",113),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"select",114,115),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),y["\u0275\u0275template"](19,_r,2,1,"option",92),y["\u0275\u0275template"](20,Cr,2,1,"option",92),y["\u0275\u0275template"](21,yr,3,4,"option",116),y["\u0275\u0275pipe"](22,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,br,3,12,"td",1),y["\u0275\u0275elementStart"](24,"td"),y["\u0275\u0275elementStart"](25,"input",117,118),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](27,"td"),y["\u0275\u0275elementStart"](28,"input",117,119),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("ngModelChange",function(e){return t.$implicit.price=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"td"),y["\u0275\u0275elementStart"](31,"input",120,121),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("ngModelChange",function(e){return t.$implicit.discount_percent=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](33,xr,3,2,"div",122),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](34,"td"),y["\u0275\u0275elementStart"](35,"input",123,124),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t,"value")})("ngModelChange",function(e){return t.$implicit.discount_value=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](37,"td"),y["\u0275\u0275elementStart"](38,"input",125),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(t)})("ngModelChange",function(e){return t.$implicit.total=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"td"),y["\u0275\u0275elementStart"](40,"a",126),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteItems(t)}),y["\u0275\u0275element"](41,"i",127),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"a",128),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.index,i=t.$implicit,r=y["\u0275\u0275nextContext"](3),a=y["\u0275\u0275reference"](4);return r.OnSerialItems(n,i,a)}),y["\u0275\u0275element"](43,"i",129),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=t.index,r=y["\u0275\u0275reference"](18),a=y["\u0275\u0275reference"](26),o=y["\u0275\u0275reference"](29),s=y["\u0275\u0275reference"](32),c=y["\u0275\u0275reference"](36);y["\u0275\u0275nextContext"](2);const l=y["\u0275\u0275reference"](4),d=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i+1),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),y["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.canchangestore))("suggestions",d.StoreList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](6,51,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),y["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",d.ItemsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](11,53,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=d.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==d.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](58,ir,r.invalid&&l.submitted,r.valid&&l.submitted)),y["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=d.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==d.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](22,55,d.ItemUnitsList,y["\u0275\u0275pureFunction1"](61,Mr,null==e?null:e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",y["\u0275\u0275pureFunction2"](63,ir,a.invalid&&l.submitted,a.valid&&l.submitted)),y["\u0275\u0275advance"](3),y["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),y["\u0275\u0275property"]("Min",0)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.price)("ngClass",y["\u0275\u0275pureFunction2"](66,ir,o.invalid&&l.submitted,o.valid&&l.submitted)),y["\u0275\u0275advance"](3),y["\u0275\u0275propertyInterpolate1"]("name","item_discount_percent",n,""),y["\u0275\u0275property"]("Min",0)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.discount_percent)("readonly",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.showreceiptitemdiscount))("ngClass",y["\u0275\u0275pureFunction2"](69,ir,s.invalid&&l.submitted||(null==s.errors?null:s.errors.customMax),s.valid&&l.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==s.errors?null:s.errors.customMax),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_discount_value",n,""),y["\u0275\u0275property"]("Min",0)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.discount_value)("readonly",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.showreceiptitemdiscount))("ngClass",y["\u0275\u0275pureFunction2"](72,ir,c.invalid&&l.submitted,c.valid&&l.submitted)),y["\u0275\u0275advance"](3),y["\u0275\u0275propertyInterpolate1"]("name","item_total",n,""),y["\u0275\u0275property"]("ngModel",e.total),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden",!(2==e.isrequireserial||3==e.isrequireserial))}}const Pr=function(e){return{"table-for-autocomplete":e}};function Or(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",3),y["\u0275\u0275elementStart"](1,"div",71),y["\u0275\u0275elementStart"](2,"div",97),y["\u0275\u0275elementStart"](3,"table",73),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275element"](6,"th"),y["\u0275\u0275elementStart"](7,"th",98),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",74),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"th",99),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"th",100),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,or,3,3,"th",101),y["\u0275\u0275elementStart"](20,"th",74),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"th",99),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"th",99),y["\u0275\u0275text"](27),y["\u0275\u0275pipe"](28,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"th",74),y["\u0275\u0275text"](30),y["\u0275\u0275pipe"](31,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"th",74),y["\u0275\u0275text"](33),y["\u0275\u0275pipe"](34,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](35,"th",102),y["\u0275\u0275text"](36," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](37,"tbody"),y["\u0275\u0275template"](38,Ir,44,75,"tr",103),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"button",104),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddItems()}),y["\u0275\u0275text"](40),y["\u0275\u0275pipe"](41,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](34,Pr,e.isType)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,14,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,16,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,18,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,20,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,22,"qty")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,24,"Price")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](28,26,"Disc%")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](31,28,"Discount")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](34,30,"Total")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](41,32,"Add")," ")}}function Er(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",88),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function wr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",88),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]())}function kr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Dr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Br(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,kr,2,1,"span",1),y["\u0275\u0275template"](2,Dr,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Lr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Fr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Nr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function Vr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function qr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,Nr,2,1,"span",1),y["\u0275\u0275template"](2,Vr,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Tr(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",138),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),y["\u0275\u0275template"](3,Er,2,0,"option",32),y["\u0275\u0275template"](4,wr,2,0,"option",32),y["\u0275\u0275template"](5,Br,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"select",138),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](8,Lr,2,1,"option",92),y["\u0275\u0275template"](9,Fr,2,1,"option",92),y["\u0275\u0275template"](10,qr,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275elementStart"](12,"input",139,140),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"td",141),y["\u0275\u0275elementStart"](15,"a",142),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),y["\u0275\u0275element"](16,"i",143),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"a",142),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),y["\u0275\u0275element"](18,"i",144),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"a",142),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),y["\u0275\u0275element"](20,"i",145),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),y["\u0275\u0275property"]("ngModel",e.branch_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.BranchList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no),y["\u0275\u0275advance"](3),y["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function Ar(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",135),y["\u0275\u0275elementStart"](1,"div",71),y["\u0275\u0275elementStart"](2,"div",72),y["\u0275\u0275elementStart"](3,"table",73),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",74),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",74),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",74),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",102),y["\u0275\u0275text"](16," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"tbody"),y["\u0275\u0275template"](18,Tr,21,13,"tr",136),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"button",137),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,6,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,8,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,10,"EntryNo")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("disabled",e._Receipt.linkedreceipts.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,12,"Add")," ")}}function Gr(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Ur(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function $r(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function jr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function zr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,$r,2,1,"span",1),y["\u0275\u0275template"](2,jr,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Wr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Jr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Qr(e,t){if(1&e&&(y["\u0275\u0275template"](0,Wr,2,1,"div",1),y["\u0275\u0275template"](1,Jr,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Yr(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"p-autoComplete",172,173),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](2);return y["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.supplier_name=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).SupplierSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(t)}),y["\u0275\u0275template"](3,Qr,2,2,"ng-template",41),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e._Receipt.supplier_name)("disabled",!e.chk_ChangeSupplier)("suggestions",e.CustomerAccountsList)}}function Hr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Zr(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Kr(e,t){if(1&e&&(y["\u0275\u0275template"](0,Hr,2,1,"div",1),y["\u0275\u0275template"](1,Zr,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Xr(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"p-autoComplete",174,173),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](2);return y["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.supplier_namear=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).SupplierSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(t)}),y["\u0275\u0275template"](3,Kr,2,2,"ng-template",41),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("disabled",!e.chk_ChangeSupplier)("ngModel",e._Receipt.supplier_namear)("suggestions",e.CustomerAccountsList)}}function ea(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ta(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function na(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.termname,"")}}function ia(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.termname_ar,"")}}function ra(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,na,2,1,"span",1),y["\u0275\u0275template"](2,ia,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function aa(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function oa(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function sa(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function ca(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function la(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,sa,2,1,"span",1),y["\u0275\u0275template"](2,ca,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const da=function(){return{standalone:!0}};function pa(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",3),y["\u0275\u0275elementStart"](1,"div",34),y["\u0275\u0275elementStart"](2,"div",25),y["\u0275\u0275elementStart"](3,"label",146),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"select",147,148),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.shipmentterm_id=t}),y["\u0275\u0275template"](8,Gr,2,1,"option",92),y["\u0275\u0275template"](9,Ur,2,1,"option",92),y["\u0275\u0275template"](10,zr,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"div",149),y["\u0275\u0275elementStart"](12,"div",25),y["\u0275\u0275elementStart"](13,"label",150),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"input",151),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).chk_ChangeSupplier=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"label",152),y["\u0275\u0275elementStart"](18,"span"),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,Yr,4,3,"ng-container",1),y["\u0275\u0275template"](22,Xr,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"div",149),y["\u0275\u0275elementStart"](24,"div",25),y["\u0275\u0275elementStart"](25,"label",153),y["\u0275\u0275text"](26),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"input",154),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.deliverylocation=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"div",3),y["\u0275\u0275elementStart"](30,"div",34),y["\u0275\u0275elementStart"](31,"div",25),y["\u0275\u0275elementStart"](32,"label",155),y["\u0275\u0275text"](33),y["\u0275\u0275pipe"](34,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](35,"select",156,157),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.paymentterm_id=t}),y["\u0275\u0275template"](37,ea,2,1,"option",92),y["\u0275\u0275template"](38,ta,2,1,"option",92),y["\u0275\u0275template"](39,ra,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"div",149),y["\u0275\u0275elementStart"](41,"div",25),y["\u0275\u0275elementStart"](42,"label",158),y["\u0275\u0275text"](43),y["\u0275\u0275pipe"](44,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](45,"input",159),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.contactedperson=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](46,"div",149),y["\u0275\u0275elementStart"](47,"div",25),y["\u0275\u0275elementStart"](48,"label",160),y["\u0275\u0275text"](49),y["\u0275\u0275pipe"](50,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"input",161,162),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.planneddeliverydate=t}),y["\u0275\u0275pipe"](53,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"div",3),y["\u0275\u0275elementStart"](55,"div",34),y["\u0275\u0275elementStart"](56,"div",25),y["\u0275\u0275elementStart"](57,"label",163),y["\u0275\u0275text"](58),y["\u0275\u0275pipe"](59,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"select",164,165),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.courierid=t}),y["\u0275\u0275template"](62,aa,2,1,"option",92),y["\u0275\u0275template"](63,oa,2,1,"option",92),y["\u0275\u0275template"](64,la,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"div",149),y["\u0275\u0275elementStart"](66,"div",25),y["\u0275\u0275elementStart"](67,"label",166),y["\u0275\u0275text"](68),y["\u0275\u0275pipe"](69,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](70,"textarea",167,168),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.othernotes=t}),y["\u0275\u0275text"](72,"                              "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](73,"div",149),y["\u0275\u0275elementStart"](74,"div",25),y["\u0275\u0275elementStart"](75,"label",169),y["\u0275\u0275text"](76),y["\u0275\u0275pipe"](77,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](78,"input",170,171),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.actualdeliverydate=t}),y["\u0275\u0275pipe"](80,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](5,32,"Shipment Term")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.shipmentterm_id),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.ShipmentTermList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](15,34,"Supplier Account")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("checked",e.chk_ChangeSupplier)("ngModelOptions",y["\u0275\u0275pureFunction0"](58,da))("ngModel",e.chk_ChangeSupplier),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](20,36,"Change")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](27,38,"Delivery Location")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.deliverylocation),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](34,40,"Payment Term")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.paymentterm_id),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.PaymentTermsList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](44,42,"Contacted Person")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.contactedperson),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](50,44,"Planned Delivery Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](53,46,e._Receipt.planneddeliverydate,"yyyy-MM-dd")),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](59,49,"Courier")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.courierid),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.CourierList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](69,51,"Notes")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.othernotes),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](77,53,"Actual Delivery Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](80,55,e._Receipt.actualdeliverydate,"yyyy-MM-dd"))}}function ha(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",135),y["\u0275\u0275elementStart"](1,"div",71),y["\u0275\u0275elementStart"](2,"Signature",175),y["\u0275\u0275listener"]("signatureoutput",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("signature",e._Receipt.signature)}}function ma(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ua(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",93),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ga(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function _a(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function Ca(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275template"](1,ga,2,1,"span",1),y["\u0275\u0275template"](2,_a,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function fa(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",179),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](3,ma,2,1,"option",92),y["\u0275\u0275template"](4,ua,2,1,"option",92),y["\u0275\u0275template"](5,Ca,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"input",180,181),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"td",182),y["\u0275\u0275elementStart"](10,"a",183),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenReceiptHistory(t)}),y["\u0275\u0275element"](11,"i",184),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","historyReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","historyReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no)}}function va(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",176),y["\u0275\u0275elementStart"](1,"div",177),y["\u0275\u0275elementStart"](2,"div",178),y["\u0275\u0275elementStart"](3,"table",73),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",74),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",74),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",74),y["\u0275\u0275text"](13,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"tbody"),y["\u0275\u0275template"](15,fa,12,7,"tr",136),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,3,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,5,"EntryNo")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e.ReceiptHistoryList)}}function ya(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"Item-StoreQty",185,186),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function ba(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"div",5),y["\u0275\u0275elementStart"](2,"div",6),y["\u0275\u0275elementStart"](3,"form",7,8),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](4);return y["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),y["\u0275\u0275elementStart"](5,"div",9),y["\u0275\u0275elementStart"](6,"div",10),y["\u0275\u0275elementStart"](7,"div",11),y["\u0275\u0275elementStart"](8,"div",12),y["\u0275\u0275elementStart"](9,"h6",13),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",3),y["\u0275\u0275elementStart"](13,"div",14),y["\u0275\u0275elementStart"](14,"button",15),y["\u0275\u0275element"](15,"i",16),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"button",17),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateNewAction()}),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,Bi,3,3,"button",18),y["\u0275\u0275template"](22,Li,3,4,"button",19),y["\u0275\u0275elementStart"](23,"button",20),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",21),y["\u0275\u0275elementStart"](27,"button",22),y["\u0275\u0275text"](28),y["\u0275\u0275pipe"](29,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"div",23),y["\u0275\u0275template"](31,Ai,6,5,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](32,"hr"),y["\u0275\u0275elementStart"](33,"div",3),y["\u0275\u0275elementStart"](34,"div",24),y["\u0275\u0275elementStart"](35,"div",25),y["\u0275\u0275elementStart"](36,"label",26),y["\u0275\u0275text"](37),y["\u0275\u0275pipe"](38,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"select",27),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.customersalesprice=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changesalesprice(t)}),y["\u0275\u0275template"](40,$i,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](41,"div",24),y["\u0275\u0275elementStart"](42,"div",25),y["\u0275\u0275elementStart"](43,"label",26),y["\u0275\u0275text"](44),y["\u0275\u0275pipe"](45,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](46,"span",29),y["\u0275\u0275text"](47,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](48,"select",30,31),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeBranch(t)}),y["\u0275\u0275template"](50,ji,2,0,"option",32),y["\u0275\u0275template"](51,zi,2,0,"option",32),y["\u0275\u0275template"](52,Qi,3,3,"option",33),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](53,"div",34),y["\u0275\u0275elementStart"](54,"div",25),y["\u0275\u0275elementStart"](55,"label",35),y["\u0275\u0275text"](56),y["\u0275\u0275pipe"](57,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"span",29),y["\u0275\u0275text"](59,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"input",36,37),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](62,"hr"),y["\u0275\u0275elementStart"](63,"div",3),y["\u0275\u0275elementStart"](64,"div",34),y["\u0275\u0275elementStart"](65,"div",25),y["\u0275\u0275elementStart"](66,"label",38),y["\u0275\u0275text"](67),y["\u0275\u0275pipe"](68,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](69,"span",29),y["\u0275\u0275text"](70,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](71,"p-autoComplete",39,40),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](72);return y["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onClearVendor(t)}),y["\u0275\u0275pipe"](74,"translate"),y["\u0275\u0275template"](75,Zi,2,2,"ng-template",41),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](76,"div",34),y["\u0275\u0275elementStart"](77,"div",25),y["\u0275\u0275elementStart"](78,"label",42),y["\u0275\u0275text"](79),y["\u0275\u0275pipe"](80,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](81,"input",43,44),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](83,"div",34),y["\u0275\u0275elementStart"](84,"div",25),y["\u0275\u0275elementStart"](85,"label",45),y["\u0275\u0275text"](86),y["\u0275\u0275pipe"](87,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](88,"input",46,47),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),y["\u0275\u0275pipe"](90,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](91,"div",34),y["\u0275\u0275elementStart"](92,"div",25),y["\u0275\u0275elementStart"](93,"label",45),y["\u0275\u0275text"](94),y["\u0275\u0275pipe"](95,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](96,"input",48,49),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](98,"div",3),y["\u0275\u0275template"](99,rr,12,11,"div",50),y["\u0275\u0275template"](100,ar,9,9,"div",50),y["\u0275\u0275elementStart"](101,"div",34),y["\u0275\u0275elementStart"](102,"div",25),y["\u0275\u0275elementStart"](103,"label",51),y["\u0275\u0275text"](104),y["\u0275\u0275pipe"](105,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](106,"input",52,53),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](108,"div",34),y["\u0275\u0275elementStart"](109,"div",25),y["\u0275\u0275elementStart"](110,"label",54),y["\u0275\u0275text"](111),y["\u0275\u0275pipe"](112,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](113,"input",55,56),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.memo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](115,"div",3),y["\u0275\u0275elementStart"](116,"div",34),y["\u0275\u0275elementStart"](117,"div",25),y["\u0275\u0275elementStart"](118,"label",57),y["\u0275\u0275text"](119),y["\u0275\u0275pipe"](120,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](121,"input",58,59),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.costing_rate=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Total_Tax_Net()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](123,"div",60),y["\u0275\u0275elementStart"](124,"div",61),y["\u0275\u0275elementStart"](125,"div",3),y["\u0275\u0275elementStart"](126,"div",62),y["\u0275\u0275elementStart"](127,"ul",63,64),y["\u0275\u0275listener"]("activeIdChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().activeNav=t}),y["\u0275\u0275elementStart"](129,"li",65),y["\u0275\u0275elementStart"](130,"a",66),y["\u0275\u0275text"](131),y["\u0275\u0275pipe"](132,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](133,Or,42,36,"ng-template",67),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](134,"li",68),y["\u0275\u0275elementStart"](135,"a",66),y["\u0275\u0275text"](136),y["\u0275\u0275pipe"](137,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](138,Ar,22,14,"ng-template",67),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](139,"li",68),y["\u0275\u0275elementStart"](140,"a",66),y["\u0275\u0275text"](141),y["\u0275\u0275pipe"](142,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](143,pa,81,59,"ng-template",67),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](144,"li",68),y["\u0275\u0275elementStart"](145,"a",66),y["\u0275\u0275text"](146),y["\u0275\u0275pipe"](147,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](148,ha,3,1,"ng-template",67),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](149,"li",68),y["\u0275\u0275elementStart"](150,"a",66),y["\u0275\u0275text"](151),y["\u0275\u0275pipe"](152,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](153,va,16,7,"ng-template",67),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](154,"div",69),y["\u0275\u0275elementStart"](155,"div",3),y["\u0275\u0275elementStart"](156,"div",70),y["\u0275\u0275elementStart"](157,"div",71),y["\u0275\u0275elementStart"](158,"div",72),y["\u0275\u0275elementStart"](159,"table",73),y["\u0275\u0275elementStart"](160,"thead"),y["\u0275\u0275elementStart"](161,"tr"),y["\u0275\u0275element"](162,"th",74),y["\u0275\u0275elementStart"](163,"th",75),y["\u0275\u0275text"](164),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](165,"th",74),y["\u0275\u0275text"](166),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](167,"tbody"),y["\u0275\u0275elementStart"](168,"tr"),y["\u0275\u0275elementStart"](169,"td"),y["\u0275\u0275text"](170),y["\u0275\u0275pipe"](171,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](172,"td",76),y["\u0275\u0275elementStart"](173,"input",77),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](174,"td"),y["\u0275\u0275elementStart"](175,"input",78),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalue=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](176,"tr"),y["\u0275\u0275elementStart"](177,"td"),y["\u0275\u0275text"](178),y["\u0275\u0275pipe"](179,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](180,"td"),y["\u0275\u0275elementStart"](181,"input",79),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.qtotal=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](182,"tr"),y["\u0275\u0275elementStart"](183,"td"),y["\u0275\u0275text"](184),y["\u0275\u0275pipe"](185,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](186,"td"),y["\u0275\u0275elementStart"](187,"input",80),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.totalitem=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](188,"div",81),y["\u0275\u0275template"](189,ya,3,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](4),t=y["\u0275\u0275reference"](49),n=y["\u0275\u0275reference"](61),i=y["\u0275\u0275reference"](73),r=y["\u0275\u0275reference"](89),a=y["\u0275\u0275reference"](128),o=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](10),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,84,"Receiving Voucher"),""),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("disabled",o.VouchersLinkedCount>0||1==o.ShowModeReceipt||1==o.DuringSaveDisable||o.ReceiptID>0&&!o.checkRoleParms(202)||0==o.ReceiptID&&!o.checkRoleParms(196)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](17,86,"Save")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275attribute"]("disabled",!o.checkRoleParms(196)||1==o.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](20,88,"CreateNew")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",o.ReceiptID>0&&0==o.VouchersLinkedCount),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",o.ReceiptID>0),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==o.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,90,"Exit")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](29,92,"Action Menu")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",o.ReceiptID>0),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](38,94,"CostPrice")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.customersalesprice),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",o.CustomerSalesPriceList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](45,96,"Branch")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",o._Receipt.branch_id)("ngClass",y["\u0275\u0275pureFunction2"](135,ir,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",o.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=o.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==o.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",o.BranchList)("ngForTrackBy",o.customTrackBy),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](57,98,"Entry#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("stepallow",1)("ngModel",o._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==o.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](138,ir,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](68,100,"Vendor#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",o._Receipt.cashcustomer_vendor_code)("suggestions",o.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](74,102,"NoResultsFound"))("forceSelection",!0)("ngClass",y["\u0275\u0275pureFunction2"](141,ir,i.invalid&&e.submitted,i.valid&&e.submitted)),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](80,104,"Vendor Name")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.cashcustomer_vendor_name)("readonly",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](87,106,"Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](90,108,o._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==o.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](144,ir,r.invalid&&e.submitted||0==o.ValidPeriod,r.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](95,111,"Time")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==o.LockedRecepit)("ngModel",o._Receipt.entry_time),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.enablemulticurrency),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.enablemulticurrency),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](105,113,"ReferenceNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.reference_no),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](112,115,"Memo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.memo),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](120,117,"costingrate")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.costing_rate)("readonly",!0),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("destroyOnHide",!1)("activeId",o.activeNav),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngbNavItem",1),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](132,119,"Items")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",2),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](137,121,"LinkedReceipt")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",3),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](142,123,"Other Details")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",4),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](147,125,"Signature")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",5),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](152,127,"History")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavOutlet",a),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" Total - ",null==o._CurrencySelected?null:o._CurrencySelected.currencysymbol," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" Total - ",null==o._BaseCurrency?null:o._BaseCurrency.currencysymbol," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](171,129,"Net")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",o._Receipt.netvalueforeign)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.netvalue)("readonly",!0),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](179,131,"totalqty")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",o._Receipt.qtotal),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](185,133,"totalitem")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",o._Receipt.totalitem),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",o.itemqtyview)}}function Sa(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",199),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Ra(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",199),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function xa(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",200),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function Ma(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function Ia(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Pa(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}const Oa=function(e){return{"invalid-data":e}};function Ea(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",207),y["\u0275\u0275listener"]("change",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"](),i=n.$implicit,r=n.index;return y["\u0275\u0275nextContext"](2).ChangeBatchQty(i,t.target.value,r)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),y["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",y["\u0275\u0275pureFunction1"](3,Oa,null==(null==n?null:n.qty)&&i.submitted||(null==n?null:n.qty)<=0&&i.submitted))}}function wa(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",208),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.date=t}),y["\u0275\u0275pipe"](2,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Expire_Date",t,""),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](2,4,null==n?null:n.date,"yyyy-MM-dd"))("ngClass",y["\u0275\u0275pureFunction1"](7,Oa,null==(null==n?null:n.date)&&i.submitted||""==(null==n?null:n.date)&&i.submitted))("disabled",(null==n?null:n.solidquantity)>0||null)}}function ka(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275element"](2,"input",201),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275element"](4,"input",202),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,Ea,2,5,"td",1),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275element"](7,"input",203),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](8,wa,3,9,"td",1),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275elementStart"](10,"input",204),y["\u0275\u0275listener"]("change",function(t){const n=y["\u0275\u0275restoreView"](e),i=n.$implicit,r=n.index;return y["\u0275\u0275nextContext"](2).ChangeBatchNo(i,t.target.value,r)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td",141),y["\u0275\u0275elementStart"](12,"button",205),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](2).DeleteRow(n,i)}),y["\u0275\u0275element"](13,"i",206),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),y["\u0275\u0275property"]("checked",null==e?null:e.valid),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Serial",n,""),y["\u0275\u0275property"]("value",null==e?null:e.serial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Store",n,""),y["\u0275\u0275propertyInterpolate"]("value","ar"!=i.lang?null==e?null:e.storename:null==e?null:e.storename_ar),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","BatchNo",n,""),y["\u0275\u0275property"]("value",null==e?null:e.batchno)("ngClass",y["\u0275\u0275pureFunction1"](13,Oa,null==e?null:e.isdublicatebatch))("disabled",(null==e?null:e.solidquantity)>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",(null==e?null:e.solidquantity)>0||null)}}function Da(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",3),y["\u0275\u0275elementStart"](1,"button",209),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",210),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"button",211),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,3,"SampleFile")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,5,"SelectExcleFile")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,7,"Upload")," "))}function Ba(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",187),y["\u0275\u0275template"](1,Sa,3,3,"h6",188),y["\u0275\u0275template"](2,Ra,3,3,"h6",188),y["\u0275\u0275elementStart"](3,"button",189),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](4,"span",190),y["\u0275\u0275text"](5,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"form",7,8),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"]().SubmitOk(t)}),y["\u0275\u0275elementStart"](8,"div",191),y["\u0275\u0275elementStart"](9,"div",192),y["\u0275\u0275elementStart"](10,"div",3),y["\u0275\u0275elementStart"](11,"form"),y["\u0275\u0275elementStart"](12,"div",193),y["\u0275\u0275elementStart"](13,"table",73),y["\u0275\u0275elementStart"](14,"thead"),y["\u0275\u0275elementStart"](15,"tr"),y["\u0275\u0275elementStart"](16,"th"),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"th",194),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](22,xa,3,3,"th",195),y["\u0275\u0275elementStart"](23,"th",196),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](26,Ma,3,3,"th",1),y["\u0275\u0275template"](27,Ia,3,3,"th",1),y["\u0275\u0275template"](28,Pa,3,3,"th",1),y["\u0275\u0275element"](29,"th"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"tbody"),y["\u0275\u0275template"](31,ka,14,15,"tr",103),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](32,Da,10,9,"div",0),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",197),y["\u0275\u0275elementStart"](34,"button",198),y["\u0275\u0275text"](35),y["\u0275\u0275pipe"](36,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](15),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,13,"Valid")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,15,"Serial")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,17,"Store")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e._Receipt.details[e.SelectedRowIndex].batcheslist)("ngForTrackBy",e.trackByFn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](36,19,"Cancel")," ")}}const La=function(){return[197,196,199,202]};let Fa=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u,g,_,f){this._cashsalesService=e,this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this.cd=r,this.toastr=a,this._router=o,this._generalService=s,this.translate=c,this._translateGlobalService=l,this._activeRoute=d,this.modalService=p,this.spinner=h,this._authService=m,this._printService=u,this._VerifyReportsService=g,this.datepipe=_,this.location=f,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PurchaseOrderId=0,this.CustomerTypeID=2,this.activeNav=1,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=3,this.Transaction_move=0,this._Receipt=new C.tY,this._ReceiptOriginal=new C.tY,this._Receipt_h_Edit=new C.Iu,this._CashSalesDetailsReceipt=new C.hm,this.DescriptionItem=new C.tH,this._LinkedReceipt=new C.Cb,this.ShowWarrantyDateCols=!1,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.chk_ChangeSupplier=!1,this.BranchList=[],this.PaymentTypeList=[],this.MultiPaymentMethodsList=[],this.CustomerAccountsList=[],this.SalesManlist=[],this.ShipmentTermList=[],this.CourierList=[],this.ReceiptCodeList=[],this.PaymentTermsList=[],this.TransactionAccountList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.CustomerSalesPriceList=[],this.ApprovalStatusList=[{id:1,name:"New",name_ar:"\u062c\u062f\u064a\u062f"},{id:2,name:"Approved",name_ar:"\u0645\u0642\u0628\u0648\u0644"},{id:3,name:"Disapproved",name_ar:"\u0645\u0631\u0641\u0648\u0636"},{id:4,name:"Invoiced",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0641\u0627\u062a\u0648\u0631\u0647"},{id:5,name:"Sales Order",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0633\u0646\u062f \u0628\u064a\u0639"}],this.reporturl="",this.reportdomainUrl=xe.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.LinkedVoucherIsPostedMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopInventoryErrorMsg="",this.InValidQty="",this.InValidNumberOfBatch="",this.DublicateBatchMassage="",this.RelatedwithSerialsOrBatches="",this.DeleteUsedBatchesOrSerials="",this.CostAccountErrorMsg="",this.CountReceipts=0,this.CountReceiptsMsg="",this.timeout=null,this.ItemLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this.isDupilcate=!1,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.requiredserial=2,this.RowItem=null,this.SelectedRowIndex=0,this.BatchesAndSeialsList=[],this.ReceiptHistoryList=[],d.params.subscribe(e=>{this.ReceiptID=e.id,this.PurchaseOrderId=e.purchaseorderid,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,console.log(this.ShowModeReceipt,"this.ShowModeReceipt"),this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods(),this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransiction/receivingvoucher/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","StopInventoryErrorMsg","CloseFinancialPeriodMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","NOComponents","Receiving Voucher","SaveMsg","No","swalNewActionTitle","swalNewActionText","CostPostingPeriodMessage","LinkedVoucherIsPostedMsg","InValidQty","InValidNumberOfBatch","DublicateBatchMassage","RelatedwithSerialsOrBatches","DeleteUsedBatchesOrSerials","CountReceiptsMsg","cantNotDuplicateItem","CostAccountErrorMsg"]).subscribe(e=>{document.title=e["Receiving Voucher"],this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.No=e.No,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.MultiPayErrorMsg=e.MultiPayErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.Close=e.Close,this.DeliverDateMsg=e.DeliverDateMsg,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.NOComponents=e.NOComponents,this.SaveMsg=e.SaveMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.LinkedVoucherIsPostedMsg=e.LinkedVoucherIsPostedMsg,this.InValidQty=e.InValidQty,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.DublicateBatchMassage=e.DublicateBatchMassage,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.DeleteUsedBatchesOrSerials=e.DeleteUsedBatchesOrSerials,this.CountReceiptsMsg=e.CountReceiptsMsg,this.cantNotDuplicateItem=e.cantNotDuplicateItem,this.CostAccountErrorMsg=e.CostAccountErrorMsg})})}SetInitialMethods(){this._Receipt=new C.tY,this.GetModuleSetting(),this.GetCurrentUserSetting(),this.GetBranchList(),this.GetShipmentTermList(),this.GetCourierList(),this.GetAllPaymentTermsList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,be.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt(),this.cd.markForCheck()})}GetModuleSetting(){this._generalService.GetModuleSetting().subscribe(e=>{null!=e&&(this._ModuleList=e)})}ngOnInit(){}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._Receipt)},1e3)}null!=this.PurchaseOrderId&&0!=this.PurchaseOrderId?this._ReceiptSharedService.GetPayableReceiptAndDetailsByID(this.PurchaseOrderId).subscribe(e=>{null!=e.receipt&&(this._Receipt.id=0,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate.toFixed(6),this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this.Oldsupplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.supplier_name=null!=this._Receipt.supplieraccount_id?"ar"==this.lang?{supplier_name:e.receipt.supplier_namear}:{supplier_name:e.receipt.supplier_name}:null,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcaccountcode=e.receipt.lcaccountcode,this._Receipt.lcaccountname=null!=this._Receipt.lcaccountid?"ar"==this.lang?{lcaccountname:e.receipt.lcaccountnamear}:{lcaccountname:e.receipt.lcaccountname}:null,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.transaction_move=this.Transaction_move,e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0}),this.ItemUnitsList=e.itemunits,this._Receipt.receiptexpenses=e.receiptexpenses,this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),this._LinkedReceipt=new C.Cb,this._LinkedReceipt.receiptid=e.receipt.id,this._LinkedReceipt.code=e.receipt.code,this._LinkedReceipt.branch_id=e.receipt.branch_id,this._LinkedReceipt.entry_no=e.receipt.entry_no,this._LinkedReceipt.subsidiaryid=this.subsidiaryID,this._LinkedReceipt.fire=1,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.CheckShowWarrantyDateCols(),this.CustomerTypeID=2,this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this.CheckValidDateBySubsidaryID(),null!=this._Receipt.branch_id&&this.GetReceiptEntryCode(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck())}):this._ReceiptSharedService.GetPayableReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{if(null!=e.receipt){if(this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.qtotal=e.items.qty,this._Receipt.totalitem=e.items.length,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this.PriceListItemsOnly=e.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:e.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.cashcustomername_ar:e.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate.toFixed(6),this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this.Oldsupplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.supplier_name={name:e.receipt.supplier_name},this._Receipt.supplier_namear={name_ar:e.receipt.supplier_namear},this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0}),this._Receipt.receiptexpenses=e.receiptexpenses,this.ItemUnitsList=e.itemunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),1==this.CashCustomerSetting.updatelinkedreceivingvoucher&&(this.CountReceipts=e.countreceipts.countreceipts),this.ReceiptHistoryList=e.receipthistory,null==this._Receipt.qtotal||null==this._Receipt.totalitem){let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=e.items.length}this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),this.CheckShowWarrantyDateCols(),this.CustomerTypeID=2,this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.VouchersLinkedCount>0?(this.ShowModeReceipt=!0,this.ShowPopUpLinkedVoucherIsPosted()):1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck()}})}CheckPre_SaveReceipt(e){if(e.form.valid){if(0==this.ValidPeriod)return void this.ShowPopUpFinancialPeriod();if(0==this.deliverdateValid)return void this.toastr.error(this.DeliverDateMsg);if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++)if(null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{if(!(this._Receipt.details[e].qty>0))return void this.toastr.error(this.qtyZeroErrorSaveMsg);0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();this.CheckBalanceForItemInStore(0,!0,!0)}}SaveReceipt(){this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US");let e=this._Receipt.details.filter(e=>0==e.allowqtyselectforitem&&2!=e.item_type),t=this._Receipt.details.filter(e=>0==e.allowqtyselectforitem&&2==e.item_type);if(e.length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();if(t.length>0)return this.toastr.error(this.CostAccountErrorMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();for(let n=0;n<this._Receipt.linkedreceipts.length;n++)0==this._Receipt.linkedreceipts[n].fire&&(this._Receipt.linkedreceipts.splice(n,1),n--);""==this._Receipt.customerdeliverdate||null==this._Receipt.customerdeliverdate||""==this._Receipt.entry_time||null==this._Receipt.entry_time||""!=this._Receipt.customerdeliverdate_time&&null!=this._Receipt.customerdeliverdate_time||(this._Receipt.customerdeliverdate_time=this._Receipt.entry_time),this.chk_ChangeSupplier||this._Receipt.supplieraccount_id!=this.Oldsupplieraccount_id&&(this._Receipt.supplieraccount_id=this._Receipt.vendor_id),this.CheckBatchesAndSerials()}Save(){null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,this._router.navigate(["/page/inventorytransiction/receivingvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})})):(this._Receipt_h_Edit=new C.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/inventorytransiction/receivingvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e&&this.ChangeEntryDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&ye().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/inventorytransiction/receivingvoucher/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}changesalesprice(e){let t=JSON.parse(localStorage.getItem("ReceivePricePolicy"));null!=t&&null!=t&&localStorage.removeItem("ReceivePricePolicy"),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?(this._Receipt.details=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.GetDefaultStoreCostCenterByBranch(!0,!1)):this._Receipt.customersalesprice=this.originalSalesPrice,localStorage.setItem("ReceivePricePolicy",JSON.stringify({SalesPricePolicy:this._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("ReceivePricePolicy",JSON.stringify({SalesPricePolicy:this._Receipt.customersalesprice})))}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetDefaultStoreCostCenterByBranch(e=!1,t=!0){1==t&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==e&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid&&(0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}),1==t&&this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))),this.cd.markForCheck()})}GetShipmentTermList(){this._cashsalesService.GetAllShipmentTermBySubSidary(this.subsidiaryID).subscribe(e=>{this.ShipmentTermList=e,this.cd.markForCheck()})}GetCourierList(){this._cashsalesService.AllActiveCourierBySubsidiaryID(this.subsidiaryID).subscribe(e=>{this.CourierList=e,this.cd.markForCheck()})}GetAllPaymentTermsList(){this._cashsalesService.GetAllPaymentTermsList().subscribe(e=>{this.PaymentTermsList=e,this.cd.markForCheck()})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e,this.SetCustomerSalesPriceList()})}SetCustomerSalesPriceList(){if(this.CustomerSalesPriceList=[{id:1,text:"Price1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Last Price",text_ar:"\u0622\u062e\u0631 \u0633\u0639\u0631"}],0==this.ReceiptID){let e=JSON.parse(localStorage.getItem("ReceivePricePolicy"));this._Receipt.customersalesprice=null!=e&&null!=e?parseInt(e.SalesPricePolicy):this.CustomerSalesPriceList[0].id}this.originalSalesPrice=this._Receipt.customersalesprice}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1,updatelinkedreceivingvoucher:!1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}SupplierSelectEvent(e){this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}}changeCurrency(e){if(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.Calculate_Total_Tax_Net(),this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(let e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod();this.cd.markForCheck()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;ye().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){ye().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpLinkedVoucherIsPosted(){ye().fire({title:this.warning,text:this.LinkedVoucherIsPostedMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCountReceipt(){ye().fire({title:this.warning,text:this.CountReceiptsMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?ye().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?(this._Receipt.details=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,this.chk_ChangeSupplier||(this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}),null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),this.GetDefaultStoreCostCenterByBranch(!0,!1)):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,this.chk_ChangeSupplier||(this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}),null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),this.GetDefaultStoreCostCenterByBranch(!1,!1))}):(this.chk_ChangeSupplier||(this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}),this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,this.GetDefaultStoreCostCenterByBranch(!1,!1))}GetCustomerAccountsList(e=""){this._CustomerService.GetVendorAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}onClearVendor(){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e,t){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this.CheckBalanceForItemInStore(0,!0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,this.cd.markForCheck()})}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(t=>t.item_id==e.id)?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}duplicateItemSwalPopUp(e){ye().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(t=>{this.onClearItems(e),this._Receipt.details[e].itemcode=null,this.cd.markForCheck()})}onClearItems(e){this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}GetItemsList(e=""){this._ReceiptSharedService.GetItemsDataListpurchase(this.subsidiaryID,e,this._Receipt.vendor_id).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].lowestsaleprice=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].othercostaccount=n.item.othercostaccount,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):(this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].othercostaccount=n.item.othercostaccount,this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this._Receipt.details[t].haswarrenty=n.item.haswarrenty,this._Receipt.details[t].warrantydate=n.item.haswarrenty?this.getwarrantydateDate():null,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.purchasing_unitid,this.CheckShowWarrantyDateCols(),this.ChangeItemUnits(e.purchasing_unitid,t)),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);this._ReceiptSharedService.GetItemVendorPrice(this._Receipt.vendor_id,n,e,this._Receipt.customersalesprice).subscribe(e=>{var n;e.length>0&&(this._Receipt.details[t].price=null!==(n=e[0].price)&&void 0!==n?n:0),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)}),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,this._ReceiptSharedService.GetItemVendorPrice(this._Receipt.vendor_id,this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,this._Receipt.customersalesprice).subscribe(i=>{t=i[0].price,this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)}),this.cd.markForCheck()},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.StockBalances(e),this.CheckBalanceForItemInStore(e),this.CalaculteValuesItemsRow(e)},1e3)}OnSelectedItem(e=null,t=null,n="",i=!1){this.SelectedItem=e,this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}AddItems(){if(this._CashSalesDetailsReceipt=new C.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode};let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}DeleteItems(e){let t=this._Receipt.details[e];null==t.batcheslist||-1==t.batcheslist.findIndex(e=>e.solidquantity>0)?(1==this._Receipt.details.filter(e=>e.item_id==t.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id)),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()):this.toastr.error(this.DeleteUsedBatchesOrSerials)}Checkwarrantydate(e,t){Date.parse(e.toString())>Date.parse(this._Receipt.entry_date.toString())?(this._Receipt.details[t].warrantydate=e.target.value,this.cd.markForCheck()):(this.toastr.error(this.ItemWarrantyValidMsg),this._Receipt.details[t].warrantydate=null)}CheckShowWarrantyDateCols(){let e=this._Receipt.details.filter(e=>1==e.haswarrenty);this.ShowWarrantyDateCols=e.length>0,this.cd.markForCheck()}CalaculteValuesItemsRow(e,t="percent"){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;let n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}ReCalaculteValuesChangeItemsRow(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(t=>{if(null==t.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(t.items.length>0)if(1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=t.receipt.subsidiaryid,this._Receipt.customersalesprice=null!=t.receipt.customersalesprice?t.receipt.customersalesprice:this._Receipt.customersalesprice,this._Receipt.payment_type=null!=t.receipt.payment_type?t.receipt.payment_type:this._Receipt.payment_type,this._Receipt.vendor_id=null!=t.receipt.vendor_id?t.receipt.vendor_id:this._Receipt.vendor_id,this._Receipt.cashcustomerid=null!=t.receipt.cashcustomerid?t.receipt.cashcustomerid:this._Receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.vendornamear:t.receipt.vendorname,this._Receipt.vendor_balance=null!=t.receipt.vendor_balance?t.receipt.vendor_balance:this._Receipt.vendor_balance,this.PriceListItemsOnly=t.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:t.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.cashcustomername_ar:t.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=t.receipt.currency_id,this._Receipt.currency_rate=t.receipt.currency_rate,this._Receipt.empoyee_id=null!=t.receipt.empoyee_id?t.receipt.empoyee_id:this._Receipt.empoyee_id,this._Receipt.memo=t.receipt.memo,this._Receipt.reference_no=t.receipt.reference_no,this._Receipt.costing_rate=t.receipt.costing_rate.toFixed(6),this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),0==this.PriceListItemsOnly||t.receipt.vendor_id==this._Receipt.vendor_id){this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=t.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id;for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);t.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),this.ItemLinkedReceipt=t.items.filter(e=>3!=e.item_type&&(0==e.consignment||1==e.consignment&&2==e.consignmentbalancetype)),81==t.receipt.code&&(this.ItemLinkedReceipt=this.ItemLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0]),this._Receipt.lcbank=t.receipt.lcbank,this._Receipt.lccondition=t.receipt.lccondition,this._Receipt.lcaccountcode=t.receipt.lcaccountcode,this._Receipt.lcaccountid=t.receipt.lcaccountid,this._Receipt.lcaccountname={lcaccountname:"ar"==this.lang?t.receipt.lcaccountnamear:t.receipt.lcaccountname},this._Receipt.lcenddate=t.receipt.lcenddate,this._Receipt.lcinsurancecompany=t.receipt.lcinsurancecompany,this._Receipt.lcno=t.receipt.lcno,this._Receipt.lcnotes=t.receipt.lcnotes,this._Receipt.lcpolicyno=t.receipt.lcpolicyno,this._Receipt.lcrenewdate=t.receipt.lcrenewdate,this._Receipt.lcrenewenddate=t.receipt.lcrenewenddate,this._Receipt.lcstartdate=t.receipt.lcstartdate,this._Receipt.insurancedate=t.receipt.insurancedate,this._Receipt.shippingmethod=t.receipt.shippingmethod,this._Receipt.gooddeliverydate=t.receipt.gooddeliverydate,this._Receipt.exportport=t.receipt.exportport,this._Receipt.shipname=t.receipt.shipname,this._Receipt.supplier_name={supplier_name:"ar"==this.lang?t.receipt.supplier_namear:t.receipt.supplier_name},this._Receipt.supplieraccount_id=t.receipt.supplieraccount_id,this._Receipt.paymentterm_id=t.receipt.paymentterm_id,this._Receipt.contactedperson=t.receipt.contactedperson,this._Receipt.planneddeliverydate=t.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=t.receipt.actualdeliverydate,this._Receipt.courierid=t.receipt.courierid,this._Receipt.deliverylocation=t.receipt.deliverylocation,this._Receipt.othernotes=t.receipt.othernotes,t.receiptexpenses.length>0&&(this._Receipt.receiptexpenses=t.receiptexpenses)}else this._Receipt.linkedreceipts[e].fire=0,this.toastr.info(this.CustomerPricelistMsg);else this._Receipt.linkedreceipts[e].fire=0,this.spinner.hide(),this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._CashSalesDetailsReceipt=new C.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv);-1==n?(this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.othercostaccount=t.othercostaccount,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total,this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemComponentsRows())):(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemComponentsRows()))}SetLinkReceiptItemComponentsRows(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;let e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{let n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);""!=n.Url&&null!=e.id?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}OnSignatureSet(e){this._Receipt.signature=e.signature}OnOpenReceiptHistory(e){let t=this.ReceiptHistoryList[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);""!=n.Url&&window.open(n.Url+this.ReceiptHistoryList[e].receiptid+"/show","_blank")}Calculate_Total_Tax_Net(){let e=0;this._Receipt.details.forEach(t=>{e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this.CalculateTax_Net(e);let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t}CalculateTax_Net(e=0){1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){var i;1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let r=!0,a=new C.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id;let o=null!==(i=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==i?i:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._Receipt.details[e].item_type&&(-1==o||1==o&&this._Receipt.details[e].id>0)&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(a).subscribe(i=>{let a=0,s=0,c=0;0==i.consignment.consignment&&(null!=i.totalqty.totalqty?(a=i.totalqty.totalqty,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;s=parseFloat(s.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),-1==o?c=a-s:1==o&&(c=a+s),r=c>=0):r=!1,0==r?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+a)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())),1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}else 2==this._Receipt.details[e].item_type&&1==this._ModuleList[0].financial?(0==this._Receipt.details[e].othercostaccount?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.CostAccountErrorMsg)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck()),1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}CheckBalanceForItemInStoreBeforeDelete(e,t=!1){var n;let i=!0,r=new C.I$;if(null!=this._Receipt.details[e].item_id){r.ReceiptCode=this.BasicCodeReceipt,r.BranchID=this._Receipt.branch_id,r.Entrydate=this._Receipt.entry_date,r.Unit_ID=this._Receipt.details[e].unit_id,r.conv=this._Receipt.details[e].conv,r.Qty=0,r.itemid=this._Receipt.details[e].item_id,r.StoreID=this._Receipt.details[e].store_id,r.subsidairyid=this.subsidiaryID,r.ReceiptID=this._Receipt.id;let a=null!==(n=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==n?n:-1,o=this.InventorySetting[0].physicalnegativeinventoryid,s=this.InventorySetting[0].purchaseseffect;2!=this._Receipt.details[e].item_type&&3!=this._Receipt.details[e].item_type&&1==a&&this._Receipt.details[e].id>0&&1==o&&(1==s||null==s)?this._ReceiptSharedService.CheckBalanceForItemInStoreBeforeDelete(r).subscribe(n=>{let r=0,a=0,o=0;null!=n.totalqty.totalqty?(r=n.totalqty.totalqty,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{if(e.id>0){let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;a=parseFloat(a.toString())+n*(r/i)*parseFloat(e.qty.toString())}}}),o=r-a,i=o>=0):i=!1,0==i?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.error(this.qtyErrorMsg+" "+o)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck(),1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction())}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(202)?this._router.navigate(["/page/inventorytransiction/receivingvoucher/0"]).then(()=>{window.location.reload()}):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/receivingvoucher/0"]).then(()=>{window.location.reload()})})}DeleteAction(){ye().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransiction/receivingvoucher"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{Date.parse(e[0].maxpostingdate.toString())<Date.parse(this._Receipt.entry_date.toString())?(this.ShowModeReceipt=!1,this.ValidPeriod=!0,this.CountReceipts>0&&(this.ShowModeReceipt=!0,this.ShowPopUpCountReceipt())):(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/inventorytransiction/receivingvoucher/0"),this.ReceiptID=0,this._Receipt.id=null,this.VouchersLinkedCount=0,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/receivingvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){const t=this._authService.userInfo().clientdatabase;let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_3_ReceivingVoucher"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alromaih")>-1?n="P_I_3_ReceivingVoucher_GL_WEB_alromaih":t.indexOf("bander")>-1||t.indexOf("192.168.1.50")>-1||t.indexOf("win-69te7j9nfsu")>-1||t.indexOf("localhost:1000")>-1?(n="P_I_3_ReceivingVoucher_Bandar",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:i,DomainName:"",toEmail:"",Subject:"",boby:""}):t.indexOf("istones")>-1?(n="P_S_52_Issue_GL_WEB_istones",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:i,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}):t.indexOf("darshgf")>-1&&(n="P_I_3_ReceivingVoucher_GL_WEB_darshgf"+i,r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""}),r.reportName=n,r.toEmail=this._emailobj.email,r.Subject=this._emailobj.subject,r}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(202)||0==this.ReceiptID&&!this.checkRoleParms(196)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/receivingvoucher"]):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/receivingvoucher"])})}CashReturn(){}IssueVoucher(){}CreateWorkOrder(){}ViewReportDeliveryNote(){}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}getwarrantydateDate(){let e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}formateDecimal(e,t=3){return e.toFixed(t)}OnSerialItems(e,t,n=null){if(console.log(e,"ix",t),this.SelectedRowIndex=e,this.RowItem=t,t.qty<=0)this.toastr.error(this.InValidQty);else{if(this.requiredserial=this._Receipt.details[e].isrequireserial,0==this._Receipt.details[e].batcheslist.length)this.AddNewRow(e);else{let t=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].batcheslist[0].qty=this._Receipt.details[e].qty*(this._Receipt.details[e].conv*t[0].finalconv/t[0].conv)}this.OpenModal(n)}}AddNewRow(e=null){this._ReceiptSharedService.GetStoreByID(this.RowItem.store_id).subscribe(t=>{var n,i;console.log(t,"dd",this.RowItem);let r=new Me.WB;r.storeid=this.RowItem.store_id,r.storename=null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",r.storename_ar=null!==(i=null==t?void 0:t.name_ar)&&void 0!==i?i:"";let a=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),o=this._Receipt.details[e].conv*a[0].finalconv/a[0].conv;r.qty=this._Receipt.details[e].qty*o,console.log(a,"_selectedunit",o,r.qty),r.serial=this._Receipt.details[e].batcheslist.length>0?this._Receipt.details[e].batcheslist.length+1:1,this._Receipt.details[e].batcheslist.push(r),this.cd.markForCheck(),console.log(this._Receipt.details[e].batcheslist,"this.BatchesList")})}SubmitOk(e){e.valid&&this.CloseModal()}ChangeBatchQty(e,t,n){}ChangeBatchNo(e,t,n){this._Receipt.details[this.SelectedRowIndex].batcheslist[n].batchno=t,console.log(this._Receipt.details,"ChangeBatchNo")}DeleteRow(e,t){this._Receipt.details[this.SelectedRowIndex].batcheslist.pop(),console.log(this._Receipt.details,"DeleteRow")}CheckBatchesAndSerials(){this.BatchesAndSeialsList=[],console.log(this.BatchesAndSeialsList,"BatchesAndSeialsList"),this._Receipt.details.some(e=>3==e.isrequireserial)?(console.log("Validate"),this._Receipt.details.forEach(e=>{this.BatchesAndSeialsList=[...this.BatchesAndSeialsList,...e.batcheslist]}),this.ValidateInFrontEnd()?(this.DuringSaveDisable=!0,this.Save()):this.DuringSaveDisable=!1):(this.DuringSaveDisable=!0,console.log("Saved"),this.Save())}ValidateInFrontEnd(){return 0==this.ValidateBatchesAndSerialsList()?(this.toastr.error(this.InValidNumberOfBatch),!1):(this._Receipt.details.map(e=>{e.batcheslist.length>0&&""==e.batcheslist[0].batchno&&(e.batcheslist[0].batchno=new Date(e.batcheslist[0].date).toLocaleDateString()+"_"+e.item_id)}),!0)}ValidateBatchesAndSerialsList(){let e=!0;this.BatchesAndSeialsList.forEach(t=>0==t.qty||null==t.qty||null==t.date||""==t.date?e=!1:void 0);let t=0;for(let n=0;n<this._Receipt.details.length;n++)if(3==this._Receipt.details[n].isrequireserial){let e=this.ItemUnitsList.filter(e=>e.item_id==this._Receipt.details[n].item_id&&e.id==this._Receipt.details[n].unit_id);t+=this._Receipt.details[n].qty*(this._Receipt.details[n].conv*e[0].finalconv/e[0].conv)}return t!=this.BatchesAndSeialsList.reduce((e,t)=>e+t.qty,0)&&(e=!1),e}ValidateDublicateBatchesInFrontEnd(){let e=[];for(let t=0;t<this._Receipt.details.length;t++)if(0!=this._Receipt.details[t].batcheslist.length){let n=this._Receipt.details[t].batcheslist[0];if(1==n.isdublicatebatch)continue;n.isdublicatebatch=!1;for(let i=t+1;i<this._Receipt.details.length;i++)0!=this._Receipt.details[i].batcheslist.length&&n.batchno.toLowerCase().trim()==this._Receipt.details[i].batcheslist[0].batchno.toLowerCase().trim()&&new Date(n.date).toLocaleDateString()!=new Date(this._Receipt.details[i].batcheslist[0].date).toLocaleDateString()&&(this._Receipt.details[i].batcheslist[0].isdublicatebatch=!0,e.push(this._Receipt.details[i].batcheslist[0]))}return e}ValidateDublicateBatchesInBackEnd(){console.log(this._Receipt.details,"this._Receipt.details"),this._ReceiptSharedService.ValidateDublicateBatches(this._Receipt.details).subscribe(e=>{if(this._Receipt.details=[],this._Receipt.details=null!=e?e:[],console.log(this._Receipt.details,"details"),this.cd.markForCheck(),this._Receipt.details.some(e=>{if(e.batcheslist.length>0)return 1==e.batcheslist[0].isdublicatebatch}))return ye().fire(this.DublicateBatchMassage),void(this.DuringSaveDisable=!1);this.DuringSaveDisable=!0,this.Save()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Re.H),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](w.FF),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](v.J),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["receivingvoucher-details"]],viewQuery:function(e,t){if(1&e&&y["\u0275\u0275viewQuery"](ki,5),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([_.n,Se.v,f.t,i.uU,Re.H,v.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["_AddPatchModal",""],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"col-md-12","col-lg-12"],[1,"row","match-height"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","btn-md","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],["class","btn btn-primary btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-md","mr-2","mb-2",3,"click"],[1,"btn-group"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle","btn-md","mr-2","mb-2"],[1,"dropdown-menu"],[1,"col-12","col-md-4","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","CreditAccount","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["class","col-12\n                col-md-3 mb-2 mb-md-0",4,"ngIf"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","Costing_Rate",1,"col-form-label"],["type","number","PositiveNumbersOnly","","min","0","id","Costing_Rate","name","Costing_Rate",1,"form-control",3,"ngModel","readonly","ngModelChange","keyup"],["Costing_Rate","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","btn-md","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","btn-md","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],[3,"value"],["Value","null"],["for","Currency",1,"col-form-label"],["name","Currency","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Currency","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],["for","CurrencyRate",1,"col-form-label"],["type","number","PositiveNumbersOnly","","min","0","id","CurrencyRate","name","CurrencyRate","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange","keyup"],["CurrencyRate","ngModel"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","15%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["price","ngModel"],["customMin","","PositiveNumbersOnly","","type","number","customMax","100",1,"form-control",3,"Min","CheckMin","ngModel","name","readonly","ngClass","keyup","ngModelChange"],["discountpercent","ngModel"],["style","color: red",4,"ngIf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","readonly","ngClass","keyup","ngModelChange"],["discount_value","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","keyup","ngModelChange"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],["href","javascript:;",1,"info","p-0",3,"hidden","click"],[1,"fa","fa-list","font-medium-3","mr-2"],[3,"ngClass"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],[2,"color","red"],[1,"row",2,"margin-top","10px"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"disabled","click"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],[1,"text-center"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],[1,"fa","fa-trash","font-medium-3"],["for","shipmentterm",1,"col-form-label"],["name","shipmentterm",1,"form-control",3,"ngModel","ngModelChange"],["shipmentterm","ngModel"],[1,"col-md-3","form-group"],["for","SupplierAccount",1,"col-form-label"],["type","checkbox","id","ChangeSupplier",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","ChangeSupplier"],["for","deliverylocation",1,"col-form-label"],["type","text","name","deliverylocation",1,"form-control",3,"ngModel","ngModelChange"],["for","PaymentTerm",1,"col-form-label"],["name","PaymentTerm",1,"form-control",3,"ngModel","ngModelChange"],["paymentterm","ngModel"],["for","contactedperson",1,"col-form-label"],["type","text","name","contactedperson",1,"form-control",3,"ngModel","ngModelChange"],["for","planneddeliverydate",1,"col-form-label"],["type","date","id","planneddeliverydate","name","planneddeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["planneddeliverydate","ngModel"],["for","Courier",1,"col-form-label"],["name","Courier",1,"form-control",3,"ngModel","ngModelChange"],["Courier","ngModel"],["for","othernotes",1,"col-form-label"],["id","othernotes","name","othernotes","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["othernotes","ngModel"],["for","actualdeliverydate",1,"col-form-label"],["type","date","id","actualdeliverydate","name","actualdeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["actualdeliverydate","ngModel"],["minLength","0","delay","0","field","name","name","SupplierAccount",3,"ngModel","disabled","suggestions","onFocus","ngModelChange","onSelect","completeMethod"],["autoCustomerAccounts",""],["minLength","0","delay","0","field","name_ar","name","SupplierAccount",3,"disabled","ngModel","suggestions","onFocus","ngModelChange","onSelect","completeMethod"],[3,"signature","signatureoutput"],[1,"row","mb-6"],[1,"col-12"],[1,"table-responsive","table-accountdetails"],["disabled","",1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number","disabled","",1,"form-control","red",3,"ngModel","name","ngModelChange"],["historyReceiptsentry_no","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","10%"],["style","width: 15%",4,"ngIf"],[2,"width","20%"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary","mx-2"],[1,"modal-title"],[2,"width","15%"],["type","checkbox","disabled","",3,"name","checked"],["type","number","disabled","",1,"form-control",3,"name","value"],["type","text","disabled","",1,"form-control",3,"name","value"],["type","text",1,"form-control",3,"name","value","ngClass","disabled","change"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"icon-trash"],["type","number","PositiveNumbersOnly","","min","0","disabled","",1,"form-control",3,"name","value","ngClass","change"],["type","date","required","",1,"form-control",3,"name","ngModel","ngClass","disabled","ngModelChange"],["type","button",1,"btn","btn-primary","col-md-4"],["type","button",1,"btn","btn-info","col-md-2","mx-2"],["type","button",1,"btn","btn-primary","col-md-2"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Di,4,3,"div",0),y["\u0275\u0275template"](1,ba,190,147,"ng-container",1),y["\u0275\u0275elementStart"](2,"div"),y["\u0275\u0275template"](3,Ba,37,21,"ng-template",null,2,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(197)||t.checkRoleParms(196)||t.checkRoleParms(199)||t.checkRoleParms(202))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction0"](2,La))))},directives:[i.O5,a._Y,a.JL,a.F,a.EJ,a.JJ,a.On,i.sg,a.Q7,i.mk,a.Fj,Ie.L,Pe.a,s.Qc,Oe.jx,a.qQ,a.wV,E.K,w.Pz,w.nv,w.Vx,w.uN,w.tO,Ee.k,a.YN,a.Kr,we.Z,a.Wl,De.t,Be.T],pipes:[l.X$,i.uU,Le.N],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();function Na(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Va(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function qa(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function Ta(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",51),y["\u0275\u0275template"](1,Va,2,1,"span",1),y["\u0275\u0275template"](2,qa,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Aa(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",52),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnAdd()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Ga(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Ua(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function $a(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Ga,1,0,"i",48),y["\u0275\u0275template"](3,Ua,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function ja(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function za(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Wa(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,ja,1,0,"i",48),y["\u0275\u0275template"](3,za,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function Ja(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Qa(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Ya(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Ha(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Za(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Ka(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Xa(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Za,1,0,"i",48),y["\u0275\u0275template"](3,Ka,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"desc"==e.sortDirection)}}function eo(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function to(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function no(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,eo,1,0,"i",48),y["\u0275\u0275template"](3,to,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerNamear"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"desc"==e.sortDirection)}}function io(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function ro(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function ao(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.branchname," ")}}function oo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.branchnamear," ")}}function so(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.customername," ")}}function co(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.customernamear," ")}}function lo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"a",60),y["\u0275\u0275element"](1,"i",61),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuevoucher/",null==e?null:e.id,"")}}function po(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275template"](1,ao,2,1,"td",1),y["\u0275\u0275template"](2,oo,2,1,"td",1),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](7,so,2,1,"td",1),y["\u0275\u0275template"](8,co,2,1,"td",1),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275text"](10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td",56),y["\u0275\u0275template"](12,lo,2,1,"a",57),y["\u0275\u0275elementStart"](13,"a",58),y["\u0275\u0275elementStart"](14,"span"),y["\u0275\u0275element"](15,"i",59),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",1==(null==n.CurrentUserSetting?null:n.CurrentUserSetting.showcostprice)?null==e?null:e.netvalue:"****"," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",n.checkRoleParms(620)),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuevoucher/",null==e?null:e.id,"/show")}}function ho(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275template"](1,po,16,9,"tr",55),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.ReceiptList)}}function mo(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275elementStart"](1,"tr",62),y["\u0275\u0275elementStart"](2,"td",63),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,1,"NoData")))}function uo(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",64),y["\u0275\u0275elementStart"](1,"ngb-pagination",65),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",66),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",67),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",68),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",69),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function go(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"section"),y["\u0275\u0275elementStart"](2,"div",6),y["\u0275\u0275elementStart"](3,"div",7),y["\u0275\u0275elementStart"](4,"div",8),y["\u0275\u0275elementStart"](5,"h6",9),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",10),y["\u0275\u0275elementStart"](9,"div",11),y["\u0275\u0275elementStart"](10,"section"),y["\u0275\u0275elementStart"](11,"div",4),y["\u0275\u0275elementStart"](12,"div",12),y["\u0275\u0275elementStart"](13,"form",13,14),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](15,"div",4),y["\u0275\u0275elementStart"](16,"div",15),y["\u0275\u0275elementStart"](17,"div",16),y["\u0275\u0275elementStart"](18,"label",17),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"select",18,19),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](23,"option",20),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](26,Ta,3,3,"option",21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](27,"div",15),y["\u0275\u0275elementStart"](28,"div",16),y["\u0275\u0275elementStart"](29,"label",22),y["\u0275\u0275text"](30),y["\u0275\u0275pipe"](31,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"input",23,24),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](34,"div",25),y["\u0275\u0275elementStart"](35,"button",26),y["\u0275\u0275element"](36,"i",27),y["\u0275\u0275text"](37),y["\u0275\u0275pipe"](38,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"button",28),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ShowAll()}),y["\u0275\u0275element"](40,"i",27),y["\u0275\u0275text"](41),y["\u0275\u0275pipe"](42,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](43,"div",29),y["\u0275\u0275elementStart"](44,"div",30),y["\u0275\u0275elementStart"](45,"div",31),y["\u0275\u0275template"](46,Aa,4,3,"button",32),y["\u0275\u0275elementStart"](47,"button",33),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint()}),y["\u0275\u0275element"](48,"i",27),y["\u0275\u0275text"](49),y["\u0275\u0275pipe"](50,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"button",34),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(1)}),y["\u0275\u0275element"](52,"i",27),y["\u0275\u0275text"](53),y["\u0275\u0275pipe"](54,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](55,"button",35),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](56,"i",27),y["\u0275\u0275text"](57),y["\u0275\u0275pipe"](58,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](59,"div",36),y["\u0275\u0275elementStart"](60,"div",37),y["\u0275\u0275elementStart"](61,"label",38),y["\u0275\u0275text"](62),y["\u0275\u0275pipe"](63,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](64,"input",39,40),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](66,"div",4),y["\u0275\u0275elementStart"](67,"div",41),y["\u0275\u0275elementStart"](68,"div",42),y["\u0275\u0275elementStart"](69,"div",43),y["\u0275\u0275elementStart"](70,"div",44),y["\u0275\u0275elementStart"](71,"table",45),y["\u0275\u0275elementStart"](72,"thead"),y["\u0275\u0275elementStart"](73,"tr"),y["\u0275\u0275elementStart"](74,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),y["\u0275\u0275text"](75),y["\u0275\u0275pipe"](76,"translate"),y["\u0275\u0275template"](77,$a,4,3,"ng-container",1),y["\u0275\u0275template"](78,Wa,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](79,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),y["\u0275\u0275text"](80),y["\u0275\u0275pipe"](81,"translate"),y["\u0275\u0275elementContainerStart"](82),y["\u0275\u0275element"](83,"i",47),y["\u0275\u0275template"](84,Ja,1,0,"i",48),y["\u0275\u0275template"](85,Qa,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](86,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),y["\u0275\u0275text"](87),y["\u0275\u0275pipe"](88,"translate"),y["\u0275\u0275elementContainerStart"](89),y["\u0275\u0275element"](90,"i",47),y["\u0275\u0275template"](91,Ya,1,0,"i",48),y["\u0275\u0275template"](92,Ha,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](93,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),y["\u0275\u0275text"](94),y["\u0275\u0275pipe"](95,"translate"),y["\u0275\u0275template"](96,Xa,4,3,"ng-container",1),y["\u0275\u0275template"](97,no,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](98,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),y["\u0275\u0275text"](99),y["\u0275\u0275pipe"](100,"translate"),y["\u0275\u0275elementContainerStart"](101),y["\u0275\u0275element"](102,"i",47),y["\u0275\u0275template"](103,io,1,0,"i",48),y["\u0275\u0275template"](104,ro,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](105,"th"),y["\u0275\u0275text"](106,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](107,ho,2,1,"tbody",1),y["\u0275\u0275template"](108,mo,5,3,"tbody",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](109,uo,12,7,"div",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](7,36,"Issue Voucher"),""),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](20,38,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,40,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](31,42,"EntryNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](38,44,"Search")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](42,46,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(229)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](50,48,"Print")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](54,50,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](58,52,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](63,54,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](76,56,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](81,58,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](88,60,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](95,62,"custvendor")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](100,64,"value")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","NetValue"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.ReceiptList.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let _o=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=a,this._translateGlobalService=o,this.spinner=s,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.GetCurrentUserSetting(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Issue Voucher"]).subscribe(e=>{this.title=e["Issue Voucher"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="60",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/inventorytransiction/issuevoucher/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransiction/issuevoucher/0"])}OnView(e){this._router.navigate(["/page/inventorytransiction/issuevoucher/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/inventorytransiction/issuevoucher/${e.id}`,this._router.navigate([t])}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",o="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",s="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(c=>{this.cd.markForCheck(),t=`\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>${i}</th>\n                     <th>${r}</th>\n                     <th>${a}</th>\n                     <th>${o}</th>\n                     <th>${s}</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         `,c.map(e=>{var n;t+=`\n        <tr>\n         <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n         <td>${e.entry_no}</td>\n         <td>${e.entry_date}</td>\n         <td>${null!==(n="ar"==this.lang?e.customernamear:e.customername)&&void 0!==n?n:""}</td>\n         <td>${e.netvalue}</td>\n        </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":t.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":t.netvalue}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,"Customer/Vendor":t.customernamear,Total:t.netvalue})}),this._Excel.exportAsExcelFile(e,"IssueVoucher")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](P.x),y["\u0275\u0275directiveInject"](O.z),y["\u0275\u0275directiveInject"](v.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-voucher"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,v.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success\n                      mb-0\n                      ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-xs-12","my-auto","text-center-sm"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn btn-primary\n                                transparent-BG",3,"routerLink",4,"ngIf"],[1,"btn","btn-primary","transparent-BG",3,"routerLink"],["aria-hidden","true",1,"fa","fa-file-text-o","font-medium-3"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"routerLink"],[1,"ft-edit","font-medium-3"],[2,"background-color","#b0bed9"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Na,4,3,"div",0),y["\u0275\u0275template"](1,go,110,66,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(228)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(228)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,E.K,c.yS,w.N9],pipes:[l.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.radio-col-green[_ngcontent-%COMP%]{margin-top:10px}.readonlyDiv[_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1;pointer-events:none}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.isExpired[_ngcontent-%COMP%]{color:red}']}),e})();const Co=["serialModel"],fo=["RForm"];function vo(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",6),y["\u0275\u0275elementStart"](1,"h1",7),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function yo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"button",95),y["\u0275\u0275element"](1,"i",96),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](3,2,"Save")," ")}}function bo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"button",95),y["\u0275\u0275element"](1,"i",96),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",e.VouchersLinkedCount>0||1==e.ShowModeReceipt||1==e.DuringSaveDisable||e.ReceiptID>0&&!e.checkRoleParms(620)||0==e.ReceiptID&&!e.checkRoleParms(229)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](3,2,"Save")," ")}}function So(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",97),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DocumentAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function Ro(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",98),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PrintPreview(0)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function xo(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",101),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).onPrint()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function Mo(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",101),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](4).DeleteAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Io(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,Mo,3,4,"button",99),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function Po(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",101),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DupilcateAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function Oo(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,xo,3,4,"button",99),y["\u0275\u0275template"](2,Io,2,1,"div",1),y["\u0275\u0275template"](3,Po,3,4,"button",99),y["\u0275\u0275elementStart"](4,"email-popup",100),y["\u0275\u0275listener"]("_savedemailobj",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).sendEmail(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(232)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(230)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(229)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("entryno",e._Receipt.entry_no)}}function Eo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text,"")}}function wo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text_ar,"")}}function ko(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",102),y["\u0275\u0275template"](1,Eo,2,1,"span",1),y["\u0275\u0275template"](2,wo,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Do(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",103),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function Bo(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",103),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function Lo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Fo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function No(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",102),y["\u0275\u0275template"](1,Lo,2,1,"span",1),y["\u0275\u0275template"](2,Fo,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Vo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function qo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function To(e,t){if(1&e&&(y["\u0275\u0275template"](0,Vo,2,1,"div",1),y["\u0275\u0275template"](1,qo,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const Ao=function(e,t){return{"invalid-data":e,"valid-data":t}};function Go(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"p-autoComplete",104,105),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](1);return y["\u0275\u0275nextContext"](2).onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CustomerAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onClearCustomer(t)}),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275template"](4,To,2,2,"ng-template",106),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngModel",n._Receipt.cashcustomer_vendor_code)("suggestions",n.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",y["\u0275\u0275pureFunction2"](8,Ao,e.invalid&&t.submitted,e.valid&&t.submitted))}}function Uo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function $o(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function jo(e,t){if(1&e&&(y["\u0275\u0275template"](0,Uo,2,1,"div",1),y["\u0275\u0275template"](1,$o,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function zo(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"p-autoComplete",107,108),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](1);return y["\u0275\u0275nextContext"](2).onFocusInOtherAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OtherAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onClearCustomer(t)}),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275template"](4,jo,2,2,"ng-template",109),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngModel",n._Receipt.cashcustomer_vendor_code)("suggestions",n.OtherAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",y["\u0275\u0275pureFunction2"](8,Ao,e.invalid&&t.submitted,e.valid&&t.submitted))}}function Wo(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",78),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Jo(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",78),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function Qo(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",122),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Disc%")," "))}function Yo(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",123),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Discount")," "))}function Ho(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",78),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function Zo(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Ko(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Xo(e,t){if(1&e&&(y["\u0275\u0275template"](0,Zo,2,1,"div",1),y["\u0275\u0275template"](1,Ko,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function es(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function ts(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function ns(e,t){if(1&e&&(y["\u0275\u0275template"](0,es,2,1,"div",1),y["\u0275\u0275template"](1,ts,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const is=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function rs(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",145),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,is,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function as(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",145),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,is,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function os(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ss(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function cs(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function ls(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function ds(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",147),y["\u0275\u0275template"](1,cs,2,1,"span",1),y["\u0275\u0275template"](2,ls,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ps(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",148,149),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("step",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack),y["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),y["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||1==a.ComeFromIssueRequest)("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](9,Ao,e.invalid&&r.submitted,e.valid&&r.submitted))}}const hs=function(e){return{readonlyDiv:e}};function ms(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"div",150),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3)._generalService.onFocusControl("item_price"+t)}),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"numberFormat"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"input",151,152),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("focusout",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("item_price"+t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.price=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](5),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("id","Display_item_price",n,""),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](13,hs,5==a._Receipt.customersalesprice||1==a.ComeFromIssueRequest)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind2"](3,10,i.price,a._Currencyprecision)," "),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("id","item_price",n,""),y["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),y["\u0275\u0275property"]("readonly",5==a._Receipt.customersalesprice||1==a.ComeFromIssueRequest)("ngModel",i.price)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](15,Ao,e.invalid&&r.submitted,e.valid&&r.submitted))}}function us(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1,"Maximum number can be 100 % Discount"),y["\u0275\u0275elementEnd"]())}function gs(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1,"\u0623\u0643\u0628\u0631 \u0646\u0633\u0628\u0629 \u0647\u0649 100% \u062e\u0635\u0645"),y["\u0275\u0275elementEnd"]())}function _s(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",155),y["\u0275\u0275template"](1,us,2,0,"span",1),y["\u0275\u0275template"](2,gs,2,0,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function Cs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",153,154),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.discount_percent=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,_s,3,2,"div",85),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_discount_percent",n,""),y["\u0275\u0275property"]("ngModel",i.discount_percent)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("readonly",!0)("ngClass",y["\u0275\u0275pureFunction2"](7,Ao,e.invalid&&r.submitted||(null==e.errors?null:e.errors.customMax),e.valid&&r.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==e.errors?null:e.errors.customMax)}}function fs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",156,157),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t,"value")})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.discount_value=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_discount_value",n,""),y["\u0275\u0275property"]("ngModel",i.discount_value)("readonly",!0)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](6,Ao,e.invalid&&r.submitted,e.valid&&r.submitted))}}function vs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",158),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.total=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_total",t,""),y["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}function ys(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"a",160),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"](2).index,n=y["\u0275\u0275nextContext"](3),i=y["\u0275\u0275reference"](8);return n.OnSerialItems(t,i)}),y["\u0275\u0275element"](1,"i",161),y["\u0275\u0275elementEnd"]()}}function bs(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,ys,2,0,"a",159),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1!=e.CashCustomerSetting.dispensingpolicy)}}const Ss=function(e){return{item_id:e}};function Rs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",124),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"p-autoComplete",125,126),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](5),r=y["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275template"](7,Xo,2,2,"ng-template",127),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"p-autoComplete",125,128),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](10),r=y["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).onClearItems(t)}),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275template"](12,ns,2,2,"ng-template",129),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"td",130),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index,r=y["\u0275\u0275nextContext"](3);return r.OnSelectedItem(n,i,"selected",1==r.ComeFromIssueRequest)}),y["\u0275\u0275template"](14,rs,2,5,"div",131),y["\u0275\u0275template"](15,as,2,5,"div",131),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"select",132,133),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),y["\u0275\u0275template"](19,os,2,1,"option",134),y["\u0275\u0275template"](20,ss,2,1,"option",134),y["\u0275\u0275template"](21,ds,3,4,"option",135),y["\u0275\u0275pipe"](22,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,ps,3,12,"td",1),y["\u0275\u0275elementStart"](24,"td"),y["\u0275\u0275elementStart"](25,"input",136,137),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](27,ms,6,18,"td",1),y["\u0275\u0275template"](28,Cs,4,10,"td",1),y["\u0275\u0275template"](29,fs,3,9,"td",1),y["\u0275\u0275template"](30,vs,2,3,"td",1),y["\u0275\u0275elementStart"](31,"td",138),y["\u0275\u0275elementStart"](32,"a",139),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index,n=y["\u0275\u0275nextContext"](3),i=y["\u0275\u0275reference"](6);return n.OnEditItemsNotes(t,i)}),y["\u0275\u0275elementStart"](33,"span",140),y["\u0275\u0275element"](34,"i",141),y["\u0275\u0275element"](35,"i",142),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](36,"a",143),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index,n=y["\u0275\u0275nextContext"](3);return n.DeleteItems(t,1==n.ComeFromIssueRequest)}),y["\u0275\u0275element"](37,"i",144),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](38,bs,2,1,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=t.index,r=y["\u0275\u0275reference"](18),a=y["\u0275\u0275reference"](26);y["\u0275\u0275nextContext"](2);const o=y["\u0275\u0275reference"](3),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i+1),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),y["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore)||s.ComeFromIssueRequest)("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](6,37,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),y["\u0275\u0275property"]("ngModel",e.itemcode)("disabled",1==s.ComeFromIssueRequest)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](11,39,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](44,Ao,r.invalid&&o.submitted,r.valid&&o.submitted)),y["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||1==s.ComeFromIssueRequest||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](22,41,s.ItemUnitsList,y["\u0275\u0275pureFunction1"](47,Ss,null==e?null:e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),y["\u0275\u0275property"]("Min",1e-5)("readonly",1==s.ComeFromIssueRequest)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",y["\u0275\u0275pureFunction2"](49,Ao,a.invalid&&o.submitted,a.valid&&o.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)||5!=s._Receipt.customersalesprice),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==s.ShowDiscountCols),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==s.ShowDiscountCols),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)||5!=s._Receipt.customersalesprice),y["\u0275\u0275advance"](8),y["\u0275\u0275property"]("ngIf",2==e.isrequireserial||3==e.isrequireserial)}}function xs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",162),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).AddItems()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Add")," "))}const Ms=function(e){return{"table-for-autocomplete":e}};function Is(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",110),y["\u0275\u0275elementStart"](1,"div",111),y["\u0275\u0275elementStart"](2,"div",112),y["\u0275\u0275elementStart"](3,"table",77),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275element"](6,"th"),y["\u0275\u0275elementStart"](7,"th",113),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",78),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"th",78),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"th",114),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,Wo,3,3,"th",115),y["\u0275\u0275elementStart"](20,"th",78),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,Jo,3,3,"th",115),y["\u0275\u0275template"](24,Qo,3,3,"th",116),y["\u0275\u0275template"](25,Yo,3,3,"th",117),y["\u0275\u0275template"](26,Ho,3,3,"th",115),y["\u0275\u0275elementStart"](27,"th",118),y["\u0275\u0275text"](28," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](29,"tbody"),y["\u0275\u0275elementStart"](30,"tbody"),y["\u0275\u0275template"](31,Rs,39,52,"tr",119),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](32,xs,3,3,"button",120),y["\u0275\u0275elementStart"](33,"button",121),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](140);return y["\u0275\u0275nextContext"]().Patch(t)}),y["\u0275\u0275text"](34),y["\u0275\u0275pipe"](35,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](27,Ms,e.isType)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,15,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,17,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,19,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,21,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,23,"qty")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)||5!=e._Receipt.customersalesprice),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==e.ShowDiscountCols),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==e.ShowDiscountCols),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)||5!=e._Receipt.customersalesprice),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.ComeFromIssueRequest),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](35,25,"ImportPatchItems")," ")}}function Ps(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",163),y["\u0275\u0275elementStart"](1,"h6",164),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",165),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](5,"span",166),y["\u0275\u0275text"](6,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",167),y["\u0275\u0275elementStart"](8,"div",168),y["\u0275\u0275elementStart"](9,"label",38),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",169),y["\u0275\u0275elementStart"](13,"input",170,171),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).BatchNoText=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"div",172),y["\u0275\u0275elementStart"](16,"button",173),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).SavePatchModal()}),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,4,"ImportPatchItems")),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,6,"PatchNumber")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngModel",e.BatchNoText),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,8,"ok")," ")}}function Os(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",78),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Es(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function ws(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function ks(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Ds(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Bs(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Ls(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Fs(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",102),y["\u0275\u0275template"](1,Bs,2,1,"span",1),y["\u0275\u0275template"](2,Ls,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](5);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Ns(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",178),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",t,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",n.conv)}}function Vs(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"input",175),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"input",175),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275template"](6,Es,2,1,"div",1),y["\u0275\u0275template"](7,ws,2,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"select",176),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),y["\u0275\u0275template"](10,ks,2,1,"option",134),y["\u0275\u0275template"](11,Ds,2,1,"option",134),y["\u0275\u0275template"](12,Fs,3,3,"option",27),y["\u0275\u0275pipe"](13,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](14,Ns,2,3,"td",1),y["\u0275\u0275elementStart"](15,"td"),y["\u0275\u0275elementStart"](16,"input",177),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"input",177),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"td"),y["\u0275\u0275elementStart"](20,"input",177),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.storecode),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.itemcode),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id),y["\u0275\u0275attribute"]("disabled",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](13,24,i.ItemComponentUnitsList,y["\u0275\u0275pureFunction1"](27,Ss,e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",n,""),y["\u0275\u0275property"]("ngModel",e.qty)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_price_c",n,""),y["\u0275\u0275property"]("ngModel",e.price)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_total_c",n,""),y["\u0275\u0275property"]("ngModel",e.total)("readonly",!0)}}const qs=function(e){return{finishedproductid:e}};function Ts(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",110),y["\u0275\u0275elementStart"](1,"div",111),y["\u0275\u0275elementStart"](2,"div",76),y["\u0275\u0275elementStart"](3,"table",77),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",78),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",78),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",78),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",114),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](18,Os,3,3,"th",115),y["\u0275\u0275elementStart"](19,"th",78),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",78),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"th",78),y["\u0275\u0275text"](26),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"tbody"),y["\u0275\u0275template"](29,Vs,21,29,"tr",174),y["\u0275\u0275pipe"](30,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,9,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](17,15,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,17,"qty")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,19,"Price")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](27,21,"Total")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",0==e.show_all_component?y["\u0275\u0275pipeBind2"](30,23,e.ItemsComponentList,y["\u0275\u0275pureFunction1"](26,qs,null==e.SelectedItem?null:e.SelectedItem.item_id)):e.ItemsComponentList)}}function As(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"li",69),y["\u0275\u0275elementStart"](1,"a",70),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](4,Ts,31,28,"ng-template",71),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngbNavItem",2),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,2,"Components")))}function Gs(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",103),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function Us(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",103),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]())}function $s(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function js(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function zs(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",102),y["\u0275\u0275template"](1,$s,2,1,"span",1),y["\u0275\u0275template"](2,js,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Ws(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Js(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Qs(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function Ys(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function Hs(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",102),y["\u0275\u0275template"](1,Qs,2,1,"span",1),y["\u0275\u0275template"](2,Ys,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Zs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",182),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),y["\u0275\u0275template"](3,Gs,2,0,"option",31),y["\u0275\u0275template"](4,Us,2,0,"option",31),y["\u0275\u0275template"](5,zs,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"select",182),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](8,Ws,2,1,"option",134),y["\u0275\u0275template"](9,Js,2,1,"option",134),y["\u0275\u0275template"](10,Hs,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275elementStart"](12,"input",183,184),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"td",138),y["\u0275\u0275elementStart"](15,"a",143),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),y["\u0275\u0275element"](16,"i",185),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"a",143),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),y["\u0275\u0275element"](18,"i",186),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"a",143),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),y["\u0275\u0275element"](20,"i",144),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),y["\u0275\u0275property"]("ngModel",e.branch_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.BranchList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no),y["\u0275\u0275advance"](3),y["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function Ks(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",187),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).AddLinkedReceipt()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Add")," "))}function Xs(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",110),y["\u0275\u0275elementStart"](1,"div",179),y["\u0275\u0275elementStart"](2,"LinkedReceipt-popup",180),y["\u0275\u0275listener"]("ListSelected",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnCustomerLinkedReceiptSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"div",111),y["\u0275\u0275elementStart"](4,"div",76),y["\u0275\u0275elementStart"](5,"table",77),y["\u0275\u0275elementStart"](6,"thead"),y["\u0275\u0275elementStart"](7,"tr"),y["\u0275\u0275elementStart"](8,"th",78),y["\u0275\u0275text"](9),y["\u0275\u0275pipe"](10,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"th",78),y["\u0275\u0275text"](12),y["\u0275\u0275pipe"](13,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"th",78),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"th",78),y["\u0275\u0275text"](18,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"tbody"),y["\u0275\u0275template"](20,Zs,21,13,"tr",174),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,Ks,3,3,"button",181),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("custID",null==e._Receipt?null:e._Receipt.vendor_id)("subsidiaryID",e.subsidiaryID)("LinkedListChecked",null==e._Receipt?null:e._Receipt.linkedreceipts),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](10,8,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](13,10,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](16,12,"EntryNo")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!e.ComeFromIssueRequest)}}function ec(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",110),y["\u0275\u0275elementStart"](1,"div",111),y["\u0275\u0275elementStart"](2,"Signature",188),y["\u0275\u0275listener"]("signatureoutput",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("signature",e._Receipt.signature)}}function tc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function nc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e.subsaidarySetting?null:e.subsaidarySetting.costcenteralternativetext,"")}}function ic(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function rc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function ac(e,t){if(1&e&&(y["\u0275\u0275template"](0,ic,2,1,"div",1),y["\u0275\u0275template"](1,rc,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function oc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function sc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetextar)}}function cc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetext)}}function lc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,sc,2,1,"span",1),y["\u0275\u0275template"](2,cc,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function dc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",28),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function pc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function hc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function mc(e,t){if(1&e&&(y["\u0275\u0275template"](0,pc,2,1,"div",1),y["\u0275\u0275template"](1,hc,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function uc(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",190),y["\u0275\u0275elementStart"](1,"label",38),y["\u0275\u0275template"](2,oc,3,3,"span",1),y["\u0275\u0275template"](3,lc,3,2,"span",1),y["\u0275\u0275template"](4,dc,2,0,"span",199),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",200,201),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInClasses(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.classfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesChangeSearch(t)}),y["\u0275\u0275template"](8,mc,2,2,"ng-template",202),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans)("ngModel",n._Receipt.classfieldname)("suggestions",n.ClassList)("ngClass",y["\u0275\u0275pureFunction2"](7,Ao,e.invalid&&t.submitted,e.valid&&t.submitted))}}function gc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function _c(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetext)}}function Cc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetextar)}}function fc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,_c,2,1,"span",1),y["\u0275\u0275template"](2,Cc,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function vc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",28),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function yc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function bc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Sc(e,t){if(1&e&&(y["\u0275\u0275template"](0,yc,2,1,"div",1),y["\u0275\u0275template"](1,bc,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Rc(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",190),y["\u0275\u0275elementStart"](1,"label",38),y["\u0275\u0275template"](2,gc,3,3,"span",1),y["\u0275\u0275template"](3,fc,3,2,"span",1),y["\u0275\u0275template"](4,vc,2,0,"span",199),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",203,204),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInLocations(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsChangeSearch(t)}),y["\u0275\u0275template"](8,Sc,2,2,"ng-template",205),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans)("ngModel",n._Receipt.locationfieldname)("suggestions",n.LocationList)("ngClass",y["\u0275\u0275pureFunction2"](7,Ao,e.invalid&&t.submitted,e.valid&&t.submitted))}}function xc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function Mc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetextar)}}function Ic(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetext)}}function Pc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,Mc,2,1,"span",1),y["\u0275\u0275template"](2,Ic,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Oc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",28),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function Ec(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function wc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function kc(e,t){if(1&e&&(y["\u0275\u0275template"](0,Ec,2,1,"div",1),y["\u0275\u0275template"](1,wc,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Dc(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",190),y["\u0275\u0275elementStart"](1,"label",38),y["\u0275\u0275template"](2,xc,3,3,"span",1),y["\u0275\u0275template"](3,Pc,3,2,"span",1),y["\u0275\u0275template"](4,Oc,2,0,"span",199),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",206,207),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInDepartment(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentChangeSearch(t)}),y["\u0275\u0275template"](8,kc,2,2,"ng-template",208),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans)("ngModel",n._Receipt.departmentfieldname)("suggestions",n.DepartmentList)("ngClass",y["\u0275\u0275pureFunction2"](7,Ao,e.invalid&&t.submitted,e.valid&&t.submitted))}}function Bc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Devission")," "))}function Lc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.divisionalternativetextar)}}function Fc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.divisionalternativetext)}}function Nc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,Lc,2,1,"span",1),y["\u0275\u0275template"](2,Fc,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Vc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",28),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function qc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Tc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Ac(e,t){if(1&e&&(y["\u0275\u0275template"](0,qc,2,1,"div",1),y["\u0275\u0275template"](1,Tc,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Gc(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",190),y["\u0275\u0275elementStart"](1,"label",38),y["\u0275\u0275template"](2,Bc,3,3,"span",1),y["\u0275\u0275template"](3,Nc,3,2,"span",1),y["\u0275\u0275template"](4,Vc,2,0,"span",199),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",209,210),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInDivision(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.divisionfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DivisionSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DivisionChangeSearch(t)}),y["\u0275\u0275template"](8,Ac,2,2,"ng-template",211),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.divisionalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.divisionalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.divisionmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.divisionmandatory4invtrans)("ngModel",n._Receipt.divisionfieldname)("suggestions",n.DivisionList)("ngClass",y["\u0275\u0275pureFunction2"](7,Ao,e.invalid&&t.submitted,e.valid&&t.submitted))}}function Uc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function $c(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function jc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function zc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Wc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",102),y["\u0275\u0275template"](1,jc,2,1,"span",1),y["\u0275\u0275template"](2,zc,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Jc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Qc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Yc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Hc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Zc(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",102),y["\u0275\u0275template"](1,Yc,2,1,"span",1),y["\u0275\u0275template"](2,Hc,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Kc(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",6),y["\u0275\u0275elementStart"](1,"div",189),y["\u0275\u0275elementStart"](2,"div",190),y["\u0275\u0275elementStart"](3,"label",38),y["\u0275\u0275template"](4,tc,3,3,"span",1),y["\u0275\u0275template"](5,nc,2,1,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"p-autoComplete",191,192),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"](2).onFocusInCostCenter(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterChangeSearch(t)}),y["\u0275\u0275template"](9,ac,2,2,"ng-template",193),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](10,uc,9,10,"div",194),y["\u0275\u0275template"](11,Rc,9,10,"div",194),y["\u0275\u0275template"](12,Dc,9,10,"div",194),y["\u0275\u0275template"](13,Gc,9,10,"div",194),y["\u0275\u0275elementStart"](14,"div",190),y["\u0275\u0275elementStart"](15,"label",195),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"select",196),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.carid=t})("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).ChangeCar()}),y["\u0275\u0275template"](19,Uc,2,1,"option",134),y["\u0275\u0275template"](20,$c,2,1,"option",134),y["\u0275\u0275template"](21,Wc,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"div",190),y["\u0275\u0275elementStart"](23,"label",197),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"select",198),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.driverid=t})("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).ChangeDriver()}),y["\u0275\u0275template"](27,Jc,2,1,"option",134),y["\u0275\u0275template"](28,Qc,2,1,"option",134),y["\u0275\u0275template"](29,Zc,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.costcentermandatory4invtrans)("ngModel",n._Receipt.costcenterfieldname)("suggestions",n.CostCenterList)("ngClass",y["\u0275\u0275pureFunction2"](24,Ao,e.invalid&&t.submitted,e.valid&&t.submitted)),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.divisionisactive),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](17,20,"Cars")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",n._Receipt.carid),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",n.CarsList),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](25,22,"Drivers")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",n._Receipt.driverid),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",n.DriversList)}}function Xc(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function el(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function tl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function nl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function il(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",102),y["\u0275\u0275template"](1,tl,2,1,"span",1),y["\u0275\u0275template"](2,nl,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function rl(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",215),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](3,Xc,2,1,"option",134),y["\u0275\u0275template"](4,el,2,1,"option",134),y["\u0275\u0275template"](5,il,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"input",216,217),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"td",138),y["\u0275\u0275elementStart"](10,"a",143),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenReceiptHistory(t)}),y["\u0275\u0275element"](11,"i",218),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","historyReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","historyReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no)}}function al(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",212),y["\u0275\u0275elementStart"](1,"div",213),y["\u0275\u0275elementStart"](2,"div",214),y["\u0275\u0275elementStart"](3,"table",77),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",78),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",78),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",78),y["\u0275\u0275text"](13,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"tbody"),y["\u0275\u0275template"](15,rl,12,7,"tr",174),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,3,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,5,"EntryNo")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e.ReceiptHistoryList)}}function ol(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function sl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function cl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",155),y["\u0275\u0275template"](1,ol,2,1,"span",1),y["\u0275\u0275template"](2,sl,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function ll(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function dl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function pl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",155),y["\u0275\u0275template"](1,ll,2,1,"span",1),y["\u0275\u0275template"](2,dl,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function hl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"Item-StoreQty",219,220),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function ml(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"section"),y["\u0275\u0275elementStart"](2,"form",8,9),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](3);return y["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),y["\u0275\u0275elementStart"](4,"div",10),y["\u0275\u0275elementStart"](5,"div",11),y["\u0275\u0275elementStart"](6,"div",12),y["\u0275\u0275elementStart"](7,"h6",13),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"div",6),y["\u0275\u0275elementStart"](11,"div",14),y["\u0275\u0275template"](12,yo,4,4,"button",15),y["\u0275\u0275template"](13,bo,4,4,"button",15),y["\u0275\u0275elementStart"](14,"button",16),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateNewAction()}),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](17,So,3,4,"button",17),y["\u0275\u0275template"](18,Ro,3,4,"button",18),y["\u0275\u0275elementStart"](19,"button",19),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"div",20),y["\u0275\u0275elementStart"](23,"button",21),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",22),y["\u0275\u0275template"](27,Oo,5,4,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"div",6),y["\u0275\u0275elementStart"](29,"div",23),y["\u0275\u0275elementStart"](30,"div",24),y["\u0275\u0275elementStart"](31,"label",25),y["\u0275\u0275text"](32),y["\u0275\u0275pipe"](33,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](34,"select",26),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.customersalesprice=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changesalesprice(t)}),y["\u0275\u0275template"](35,ko,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](36,"div",23),y["\u0275\u0275elementStart"](37,"div",24),y["\u0275\u0275elementStart"](38,"label",25),y["\u0275\u0275text"](39),y["\u0275\u0275pipe"](40,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](41,"span",28),y["\u0275\u0275text"](42,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](43,"select",29,30),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeBranch(t)}),y["\u0275\u0275template"](45,Do,2,0,"option",31),y["\u0275\u0275template"](46,Bo,2,0,"option",31),y["\u0275\u0275template"](47,No,3,3,"option",32),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](48,"div",6),y["\u0275\u0275elementStart"](49,"div",33),y["\u0275\u0275elementStart"](50,"div",24),y["\u0275\u0275elementStart"](51,"label",34),y["\u0275\u0275text"](52),y["\u0275\u0275pipe"](53,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"span",28),y["\u0275\u0275text"](55,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](56,"input",35,36),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"div",33),y["\u0275\u0275elementStart"](59,"div",24),y["\u0275\u0275elementStart"](60,"label"),y["\u0275\u0275elementStart"](61,"input",37),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.accounttype=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](62,"span",28),y["\u0275\u0275text"](63,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](64,"span",38),y["\u0275\u0275text"](65),y["\u0275\u0275pipe"](66,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](67,"label",39),y["\u0275\u0275elementStart"](68,"input",37),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.accounttype=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](69,"span",28),y["\u0275\u0275text"](70,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](71,"span",38),y["\u0275\u0275text"](72),y["\u0275\u0275pipe"](73,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](74,Go,5,11,"p-autoComplete",40),y["\u0275\u0275template"](75,zo,5,11,"p-autoComplete",41),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](76,"div",42),y["\u0275\u0275elementStart"](77,"div",24),y["\u0275\u0275elementStart"](78,"label",43),y["\u0275\u0275text"](79),y["\u0275\u0275pipe"](80,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](81,"input",44,45),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](83,"div",6),y["\u0275\u0275elementStart"](84,"div",33),y["\u0275\u0275elementStart"](85,"div",24),y["\u0275\u0275elementStart"](86,"label",46),y["\u0275\u0275text"](87),y["\u0275\u0275pipe"](88,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](89,"input",47,48),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),y["\u0275\u0275pipe"](91,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](92,"div",33),y["\u0275\u0275elementStart"](93,"div",24),y["\u0275\u0275elementStart"](94,"label",49),y["\u0275\u0275text"](95),y["\u0275\u0275pipe"](96,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](97,"input",50,51),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](99,"div",33),y["\u0275\u0275elementStart"](100,"div",24),y["\u0275\u0275elementStart"](101,"label",52),y["\u0275\u0275text"](102),y["\u0275\u0275pipe"](103,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](104,"input",53,54),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.memo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](106,"div",33),y["\u0275\u0275elementStart"](107,"div",24),y["\u0275\u0275elementStart"](108,"label",55),y["\u0275\u0275text"](109),y["\u0275\u0275pipe"](110,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](111,"input",56,57),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](113,"div",6),y["\u0275\u0275elementStart"](114,"div",33),y["\u0275\u0275elementStart"](115,"div",24),y["\u0275\u0275elementStart"](116,"label",58),y["\u0275\u0275text"](117),y["\u0275\u0275pipe"](118,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](119,"input",59,60),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.inchargepersonname=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](121,"div",33),y["\u0275\u0275elementStart"](122,"div",24),y["\u0275\u0275elementStart"](123,"label",61),y["\u0275\u0275text"](124),y["\u0275\u0275pipe"](125,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](126,"input",62,63),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.inchargephoneno=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](128,"div",64),y["\u0275\u0275elementStart"](129,"div",65),y["\u0275\u0275elementStart"](130,"div",6),y["\u0275\u0275elementStart"](131,"div",66),y["\u0275\u0275elementStart"](132,"ul",67,68),y["\u0275\u0275listener"]("activeIdChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().activeNav=t}),y["\u0275\u0275elementStart"](134,"li",69),y["\u0275\u0275elementStart"](135,"a",70),y["\u0275\u0275text"](136),y["\u0275\u0275pipe"](137,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](138,Is,36,29,"ng-template",71),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](139,Ps,19,10,"ng-template",null,72,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275template"](141,As,5,4,"li",73),y["\u0275\u0275elementStart"](142,"li",69),y["\u0275\u0275elementStart"](143,"a",70),y["\u0275\u0275text"](144),y["\u0275\u0275pipe"](145,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](146,Xs,22,14,"ng-template",71),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](147,"li",69),y["\u0275\u0275elementStart"](148,"a",70),y["\u0275\u0275text"](149),y["\u0275\u0275pipe"](150,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](151,ec,3,1,"ng-template",71),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](152,"li",69),y["\u0275\u0275elementStart"](153,"a",70),y["\u0275\u0275text"](154),y["\u0275\u0275pipe"](155,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](156,Kc,30,27,"ng-template",71),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](157,"li",69),y["\u0275\u0275elementStart"](158,"a",70),y["\u0275\u0275text"](159),y["\u0275\u0275pipe"](160,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](161,al,16,7,"ng-template",71),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](162,"div",74),y["\u0275\u0275elementStart"](163,"div",6),y["\u0275\u0275elementStart"](164,"div",75),y["\u0275\u0275elementStart"](165,"div",76),y["\u0275\u0275elementStart"](166,"table",77),y["\u0275\u0275elementStart"](167,"thead"),y["\u0275\u0275elementStart"](168,"tr"),y["\u0275\u0275element"](169,"th",78),y["\u0275\u0275elementStart"](170,"th",79),y["\u0275\u0275text"](171),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](172,"th",78),y["\u0275\u0275text"](173),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](174,"tbody"),y["\u0275\u0275elementStart"](175,"tr"),y["\u0275\u0275elementStart"](176,"td"),y["\u0275\u0275text"](177),y["\u0275\u0275pipe"](178,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](179,"td",80),y["\u0275\u0275elementStart"](180,"input",81),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.valueforeign=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](181,"td"),y["\u0275\u0275elementStart"](182,"input",82),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.value=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](183,"tr"),y["\u0275\u0275elementStart"](184,"td"),y["\u0275\u0275text"](185),y["\u0275\u0275pipe"](186,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](187,"td",80),y["\u0275\u0275elementStart"](188,"input",83,84),y["\u0275\u0275listener"]("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("foreign","percent")})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_foreignpercent=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](190,cl,3,2,"div",85),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](191,"td"),y["\u0275\u0275elementStart"](192,"input",86,87),y["\u0275\u0275listener"]("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("local","percent")})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_percent=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](194,pl,3,2,"div",85),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](195,"tr"),y["\u0275\u0275elementStart"](196,"td"),y["\u0275\u0275text"](197),y["\u0275\u0275pipe"](198,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](199,"td",80),y["\u0275\u0275elementStart"](200,"input",88),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_foreignvalue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("foreign","value")}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](201,"td"),y["\u0275\u0275elementStart"](202,"input",89),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_value=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("local","value")}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](203,"tr"),y["\u0275\u0275elementStart"](204,"td"),y["\u0275\u0275text"](205),y["\u0275\u0275pipe"](206,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](207,"td",80),y["\u0275\u0275elementStart"](208,"input",90),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](209,"td"),y["\u0275\u0275elementStart"](210,"input",91),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalue=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](211,"tr"),y["\u0275\u0275elementStart"](212,"td"),y["\u0275\u0275text"](213),y["\u0275\u0275pipe"](214,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](215,"td"),y["\u0275\u0275elementStart"](216,"input",92),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.qtotal=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](217,"tr"),y["\u0275\u0275elementStart"](218,"td"),y["\u0275\u0275text"](219),y["\u0275\u0275pipe"](220,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](221,"td"),y["\u0275\u0275elementStart"](222,"input",93),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.totalitem=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](223,"div",94),y["\u0275\u0275template"](224,hl,3,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](3),t=y["\u0275\u0275reference"](44),n=y["\u0275\u0275reference"](57),i=y["\u0275\u0275reference"](90),r=y["\u0275\u0275reference"](133),a=y["\u0275\u0275reference"](189),o=y["\u0275\u0275reference"](193),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,109,"Issue Voucher"),""),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",s.ComeFromIssueRequest),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!s.ComeFromIssueRequest),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",!s.checkRoleParms(229)||1==s.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](16,111,"CreateNew")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",s.ReceiptID>0&&0==s.VouchersLinkedCount),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",s.ReceiptID>0&&s.checkRoleParms(232)),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==s.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,113,"Exit")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,115,"Action Menu")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",s.ReceiptID>0),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](33,117,"CostPrice")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.customersalesprice),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",s.CustomerSalesPriceList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](40,119,"Branch")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",s._Receipt.branch_id)("ngClass",y["\u0275\u0275pureFunction2"](166,Ao,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",s.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",s.BranchList)("ngForTrackBy",s.customTrackBy),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](53,121,"Entry#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("stepallow",1)("ngModel",s._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](169,Ao,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngModel",s._Receipt.accounttype)("value",!1),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](66,123,"Customer#")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngModel",s._Receipt.accounttype)("value",!0),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](73,125,"OtherAccount")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",0==s._Receipt.accounttype),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==s._Receipt.accounttype),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](80,127,"CustomerName")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.cashcustomer_vendor_name)("readonly",!0),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](88,129,"Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](91,131,s._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](172,Ao,i.invalid&&e.submitted||0==s.ValidPeriod,i.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](96,134,"time")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngModel",s._Receipt.entry_time),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](103,136,"Memo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.memo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](110,138,"ReferenceNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.reference_no),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](118,140,"InchargePersonName")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.inchargepersonname),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](125,142,"inchargephoneno")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.inchargephoneno),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("destroyOnHide",!1)("activeId",s.activeNav),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngbNavItem",1),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](137,144,"Items")),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",null==s.CurrentUserSetting?null:s.CurrentUserSetting.showreceiptitemcomponent),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngbNavItem",3),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](145,146,"LinkedReceipt")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",4),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](150,148,"Signature")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",5),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](155,150,"AnalyticalAccount")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",6),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](160,152,"History")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavOutlet",r),y["\u0275\u0275advance"](8),y["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" Total - ",null==s._CurrencySelected?null:s._CurrencySelected.currencysymbol," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" Total - ",null==s._BaseCurrency?null:s._BaseCurrency.currencysymbol," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](178,154,"Total")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.valueforeign),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.value),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](186,156,"Disc%")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("customMax",null==s.CurrentUserSetting?null:s.CurrentUserSetting.maxreceiptdiscountperc),y["\u0275\u0275property"]("readonly",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",s._Receipt.discount_foreignpercent)("ngClass",y["\u0275\u0275pureFunction2"](175,Ao,a.invalid&&e.submitted,a.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==a.errors?null:a.errors.customMax),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate"]("customMax",null==s.CurrentUserSetting?null:s.CurrentUserSetting.maxreceiptdiscountperc),y["\u0275\u0275property"]("readonly",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",s._Receipt.discount_percent)("ngClass",y["\u0275\u0275pureFunction2"](178,Ao,o.invalid&&e.submitted,o.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==o.errors?null:o.errors.customMax),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](198,158,"Discount")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("readonly",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",s._Receipt.discount_foreignvalue),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",s._Receipt.discount_value),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](206,160,"Net")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",s._Receipt.netvalueforeign)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.netvalue)("readonly",!0),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](214,162,"totalqty")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.qtotal),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](220,164,"totalitem")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.totalitem),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",s.itemqtyview)}}function ul(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function gl(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",146),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function _l(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Cl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function fl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",102),y["\u0275\u0275template"](1,_l,2,1,"span",1),y["\u0275\u0275template"](2,Cl,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function vl(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",231),y["\u0275\u0275elementStart"](1,"label",232),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",233),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DescriptionItem.salesmanid=t}),y["\u0275\u0275template"](5,ul,2,1,"option",134),y["\u0275\u0275template"](6,gl,2,1,"option",134),y["\u0275\u0275template"](7,fl,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,6,"ServiceSalesMan")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.DescriptionItem.salesmanid)("disabled",e.ComeFromIssueRequest),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.SalesManlist)}}const yl=function(){return{height:"150px"}},bl=function(){return{standalone:!0}};function Sl(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",163),y["\u0275\u0275elementStart"](1,"h6",164),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",165),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](5,"span",166),y["\u0275\u0275text"](6,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",221),y["\u0275\u0275elementStart"](8,"div",222),y["\u0275\u0275elementStart"](9,"label",223),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"input",224,225),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().DescriptionItem.customitemname=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"div",189),y["\u0275\u0275elementStart"](15,"div",222),y["\u0275\u0275elementStart"](16,"quill-editor",226),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().DescriptionItem.detailshtml=t})("onContentChanged",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onContentChanged(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](17,vl,8,8,"div",227),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"div",172),y["\u0275\u0275elementStart"](19,"button",228),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SaveNotes()}),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"button",229),y["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),y["\u0275\u0275element"](23,"i",230),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,13,"Description")),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,15,"Item")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.DescriptionItem.customitemname)("disabled",e.ComeFromIssueRequest),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("styles",y["\u0275\u0275pureFunction0"](21,yl))("ngModel",e.DescriptionItem.detailshtml)("ngModelOptions",y["\u0275\u0275pureFunction0"](22,bl))("modules",e.quillConfig)("disabled",e.ComeFromIssueRequest),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.IsSalesManImplemented),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",e.ComeFromIssueRequest),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,17,"Save")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](25,19,"Cancel")," ")}}function Rl(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",164),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function xl(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",164),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function Ml(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function Il(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Pl(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Ol(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",239),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function El(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",239),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function wl(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"PatchConfirmation")," "))}const kl=function(e){return{isExpired:e}};function Dl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td",145),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"date"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](5,kl,null==e?null:e.isexpired)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind2"](2,2,null==e?null:e.expire_date,"yyyy-MM-dd")," ")}}function Bl(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",155),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}const Ll=function(e){return{"invalid-data":e}};function Fl(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",241),y["\u0275\u0275listener"]("change",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]().$implicit;return y["\u0275\u0275nextContext"](2).ChangeBatchQty(n,t.target.value)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](2,Bl,3,3,"span",85),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7),r=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),y["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",y["\u0275\u0275pureFunction1"](5,Ll,(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted))("disabled",r.ComeFromIssueRequest),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)}}function Nl(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",242),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.patchconfirmation=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),y["\u0275\u0275property"]("ngModel",n.patchconfirmation)("ngClass",y["\u0275\u0275pureFunction1"](3,Ll,(null==n?null:n.patchconfirmation.trim())!=(null==n?null:n.serial)&&i.submitted&&(null==n?null:n.qty)&&(null!=(null==n?null:n.qty)||0!=(null==n?null:n.qty))))}}function Vl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275element"](2,"input",240),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,Dl,3,7,"td",131),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275text"](7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275text"](9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](10,Fl,3,7,"td",1),y["\u0275\u0275template"](11,Nl,2,5,"td",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),y["\u0275\u0275property"]("checked",null==e?null:e.valid)("disabled",i.ComeFromIssueRequest),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ","ar"!=i.lang?null==e?null:e.name:null==e?null:e.name_ar," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.serial," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.availableqty),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==i.CashCustomerSetting.confirmationpatchinissuevoucher)}}function ql(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",163),y["\u0275\u0275template"](1,Rl,3,3,"h6",234),y["\u0275\u0275template"](2,xl,3,3,"h6",234),y["\u0275\u0275elementStart"](3,"button",165),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](4,"span",166),y["\u0275\u0275text"](5,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"form",8,9),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"]().saveserial(t)}),y["\u0275\u0275elementStart"](8,"div",221),y["\u0275\u0275elementStart"](9,"div",231),y["\u0275\u0275elementStart"](10,"div",6),y["\u0275\u0275elementStart"](11,"form"),y["\u0275\u0275elementStart"](12,"div",235),y["\u0275\u0275elementStart"](13,"h6",164),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"table",77),y["\u0275\u0275elementStart"](17,"thead"),y["\u0275\u0275elementStart"](18,"tr"),y["\u0275\u0275elementStart"](19,"th"),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",236),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,Ml,3,3,"th",1),y["\u0275\u0275template"](26,Il,3,3,"th",1),y["\u0275\u0275template"](27,Pl,3,3,"th",1),y["\u0275\u0275template"](28,Ol,3,3,"th",237),y["\u0275\u0275template"](29,El,3,3,"th",237),y["\u0275\u0275template"](30,wl,3,3,"th",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"tbody"),y["\u0275\u0275template"](32,Vl,12,9,"tr",119),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",172),y["\u0275\u0275elementStart"](34,"button",238),y["\u0275\u0275text"](35),y["\u0275\u0275pipe"](36,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](12),y["\u0275\u0275textInterpolate2"](" ",y["\u0275\u0275pipeBind1"](15,15,"qty")," : ",e._batchqty," "),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,17,"Choose")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,19,"Store")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==e.CashCustomerSetting.confirmationpatchinissuevoucher),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BatchesListForEatchRow)("ngForTrackBy",e.trackByFn),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](36,21,"save")," ")}}const Tl=function(){return[228,229,230,232,620]};let Al=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u,g,_,f){this._cashsalesService=e,this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this.cd=r,this.toastr=a,this._router=o,this._generalService=s,this.translate=c,this._translateGlobalService=l,this._activeRoute=d,this.modalService=p,this.spinner=h,this._authService=m,this._printService=u,this._VerifyReportsService=g,this.datepipe=_,this.location=f,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=60,this.Transaction_move=0,this._Receipt=new C.tY,this._ReceiptOriginal=new C.tY,this._Receipt_h_Edit=new C.Iu,this.CustomerTypeID=1,this._CashSalesDetailsReceipt=new C.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new C.tH,this._LinkedReceipt=new C.Cb,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.BranchList=[],this.PaymentTypeList=[],this.CustomerAccountsList=[],this.OtherAccountsList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CarsList=[],this.DriversList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.DivisionList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.reporturl="",this.reportdomainUrl=xe.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.linkedreceiptid=0,this.issuerequestid=0,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.NOComponents="",this.QtyIsValidWithAvailableQty="",this.InValidNumberOfBatch="",this.InValidQty="",this.RelatedwithSerialsOrBatches="",this.BatchNoText="",this.PatchConfirmationIsValidWithPatchNo="",this.UpdateReceiptItemService="",this.ShowWarrantyDateCols=!1,this.DuringSaveDisable=!1,this.show_all_component=!1,this.InValidQtyForBatch="",this.BranchApplyTax=!0,this.TaxPercentage=0,this.timeout=null,this.ShowDiscountCols=!1,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemqtyList=new Array,this._totalcost=0,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.selectedindex=0,this.requiredserial=2,this._batchqty=0,this.BatchesListForEatchRow=[],this.ComeFromIssueRequest=!1,this.ReceiptHistoryList=[],d.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.linkedreceiptid=e.linkedreceiptid,this.issuerequestid=e.issuerequestid,this.ComeFromIssueRequest=null!=this.issuerequestid&&this.issuerequestid>0&&0==this.ReceiptID,this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods(),this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransiction/issuevoucher/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","DeliverDateMsg","NOComponents","CostPostingPeriodMessage","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","Issue Voucher","No","swalNewActionTitle","swalNewActionText","QtyIsValidWithAvailableQty","InValidNumberOfBatch","InValidQty","RelatedwithSerialsOrBatches","InValidQtyForBatch","cantNotDuplicateItem","PatchConfirmationIsValidWithPatchNo","UpdateReceiptItemService"]).subscribe(e=>{document.title=e["Issue Voucher"],this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.MultiPayErrorMsg=e.MultiPayErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.NOComponents=e.NOComponents,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.Close=e.Close,this.DeliverDateMsg=e.DeliverDateMsg,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.No=e.No,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.InValidQty=e.InValidQty,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.InValidQtyForBatch=e.InValidQtyForBatch,this.cantNotDuplicateItem=e.cantNotDuplicateItem,this.PatchConfirmationIsValidWithPatchNo=e.PatchConfirmationIsValidWithPatchNo,this.UpdateReceiptItemService=e.UpdateReceiptItemService})})}ngOnInit(){}GetModuleSetting(){this._generalService.GetModuleSetting().subscribe(e=>{null!=e&&(this._ModuleList=e)})}SetInitialMethods(){this._Receipt=new C.tY,this.GetModuleSetting(),this.GetCurrentUserSetting(),this.GetBranchList(),this.DriverUsersByCarID(),this.CarByDriverID(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,be.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt(),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.accounttype=!1,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),console.log(this._Receipt.entry_date),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));if(null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null==this._Receipt.branch_id||null!=this.issuerequestid&&0!=this.issuerequestid&&null!=this.issuerequestid||(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),null!=this.linkedreceiptid&&0!=this.linkedreceiptid&&null!=this.linkedreceiptid||null!=this.issuerequestid&&0!=this.issuerequestid&&null!=this.issuerequestid){let e=0;null!=this.linkedreceiptid&&0!=this.linkedreceiptid&&null!=this.linkedreceiptid&&(e=this.linkedreceiptid),null!=this.issuerequestid&&0!=this.issuerequestid&&null!=this.issuerequestid&&(e=this.issuerequestid),this._ReceiptSharedService.GetReceiptAndDetailsByID(e).subscribe(e=>{null!=e.receipt&&(this._Receipt.id=0,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.branch_id=e.receipt.branch_id,null!=this._Receipt.branch_id&&this.GetReceiptEntryCode(),this.BranchApplyTax=e.receipt.applytax,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.qtotal=e.items.qty,this._Receipt.totalitem=e.items.length,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this.PriceListItemsOnly=e.receipt.pricelistitemsonly),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.divisionfieldname="ar"==this.lang?{divisionfieldname:e.receipt.division_sug_ar}:{divisionfieldname:e.receipt.division_sug},this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.supplier_name=null!=this._Receipt.supplieraccount_id?"ar"==this.lang?{supplier_name:e.receipt.supplier_namear}:{supplier_name:e.receipt.supplier_name}:null,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcaccountcode=e.receipt.lcaccountcode,this._Receipt.lcaccountname=null!=this._Receipt.lcaccountid?"ar"==this.lang?{lcaccountname:e.receipt.lcaccountnamear}:{lcaccountname:e.receipt.lcaccountname}:null,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0,e.transaction_move=this.Transaction_move}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0,e.transaction_move=this.Transaction_move}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,1!=this.CashCustomerSetting.dispensingpolicy&&1==this.CashCustomerSetting.confirmationpatchinissuevoucher&&e.batches.forEach(e=>{e.patchconfirmation=""}),this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),this._LinkedReceipt=new C.Cb,this._LinkedReceipt.receiptid=e.receipt.id,this._LinkedReceipt.code=e.receipt.code,this._LinkedReceipt.branch_id=e.receipt.branch_id,this._LinkedReceipt.entry_no=e.receipt.entry_no,this._LinkedReceipt.subsidiaryid=this.subsidiaryID,this._LinkedReceipt.fire=1,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.GetLinkedReceipt(this._Receipt.linkedreceipts.length-1),null==this._Receipt.cashcustomerid&&null==this._Receipt.vendor_id||null!=this._Receipt.cashcustomerid?this.CustomerTypeID=1:null!=this._Receipt.vendor_id&&(this.CustomerTypeID=2),this.PaymentTypeList.find(e=>e.id==this._Receipt.payment_type),this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!1,!0),this.cd.markForCheck());let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=e.items.length})}setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{if(null!=e.receipt){if(this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this.BranchApplyTax=e.receipt.applytax,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.qtotal=e.items.qty,this._Receipt.totalitem=e.items.length,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code=1==this._Receipt.accounttype?{code:e.receipt.othercode}:{code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this.PriceListItemsOnly=e.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:e.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.cashcustomername_ar:e.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.divisionfieldname="ar"==this.lang?{divisionfieldname:e.receipt.division_sug_ar}:{divisionfieldname:e.receipt.division_sug},this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptmultipayment=e.receiptmultipayment,this.ItemsComponentList=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),1!=this.CashCustomerSetting.dispensingpolicy&&1==this.CashCustomerSetting.confirmationpatchinissuevoucher&&e.batches.forEach(e=>{e.patchconfirmation=e.batchno.trim()}),this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),this.ReceiptHistoryList=e.receipthistory,null==this._Receipt.qtotal||null==this._Receipt.totalitem){let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=e.items.length}this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),this.CheckShowDiscountCols(),console.log(this._ReceiptOriginal),console.log(this._Receipt),this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!1,!0),this.cd.markForCheck()}})}CheckPre_SaveReceipt(e){if(e.form.valid)if(0!=this.ValidPeriod){if(this.ComeFromIssueRequest&&(console.log(this._Receipt.details),this._ReceiptOriginal.details=this._Receipt.details,this._Receipt=JSON.parse(JSON.stringify(this._ReceiptOriginal))),1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++)if(null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{if(!(this._Receipt.details[e].qty>0))return void this.toastr.error(this.qtyZeroErrorSaveMsg);0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv,this._ModuleList[0].allowrecalculate&&this.CalaculteValuesItemsRow(e,"percent",!1)}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].qty>0){0!=this._Receipt.value?(this._Receipt.itemscomponent[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty%(1/0)||0,this._Receipt.itemscomponent[e].h_discount_percentage=100*(this._Receipt.itemscomponent[e].h_discount_value/(this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty)%(1/0)||0)):(this._Receipt.itemscomponent[e].h_discount_value=0,this._Receipt.itemscomponent[e].h_discount_percentage=0);{let t=this.ItemComponentUnitsList.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._Receipt.itemscomponent[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.itemscomponent[e].conv/t.conv):this._Receipt.itemscomponent[e].conv,this._Receipt.itemscomponent[e].final_conv=0==this._Receipt.itemscomponent[e].final_conv?1:this._Receipt.itemscomponent[e].final_conv}}this.Calculate_Total_Tax_Net(),this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status||"INVALID"==e.form.controls.Division.status?5:1}SaveReceipt(){this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US");let e=[];if(1!=this.CashCustomerSetting.dispensingpolicy&&1==this.CashCustomerSetting.confirmationpatchinissuevoucher&&(e=[],this._Receipt.details.forEach(t=>{t.batcheslist||(t.batcheslist=[]),3==t.isrequireserial&&(0==t.batcheslist.length||t.batcheslist.some(e=>e.patchconfirmation.trim()!=e.batchno&&e.qty&&(null!=e.qty||0!=e.qty)))&&e.push(!1)}),e.length>0))return e.includes(!1)&&(this.toastr.error(this.PatchConfirmationIsValidWithPatchNo),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(this.ComeFromIssueRequest&&(e=[],this._Receipt.details.forEach(t=>{t.batcheslist||(t.batcheslist=[]),3==t.isrequireserial&&(0==t.batcheslist.length?e.push(!1):t.batcheslist.forEach(t=>{t.readonlyavailableqtywithfinal_conv&&t.readonlyavailableqtywithfinal_conv-t.qty<0&&e.push(!0)}))}),e.length>0))return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(this._Receipt.details.forEach(t=>{if(t.batcheslist||(t.batcheslist=[]),3==t.isrequireserial){0==t.batcheslist.length?e.push(!1):0==t.validrow&&e.push(!0);let n=[],i=[],r=this._Receipt.details.filter(e=>e.item_id==t.item_id);if(null!=r&&r.length>1){r.forEach(e=>{let t=e.final_conv;e.batcheslist.forEach(e=>{let i=new Me.WB;i.availableqty=e.availableqty*t,i.qty=e.qty*t,i.serial=e.serial,i.batchno=e.batchno,n.push(i)})}),console.log("serialdata:",n),n.forEach(e=>{var t=n.filter(t=>t.batchno==e.batchno&&t.serial==e.serial).map(e=>e.qty).reduce(function(e,t){return e+t});i.push({serial:e.batchno,qty:t,availableqty:e.availableqty})}),console.log("sum:",i);let a=i.filter(e=>e.qty>e.availableqty);null!=a&&a.length>0&&(t.validrow=!1,e.push(!1))}console.log("end:",t.validrow)}}),console.log("_isValidArr:",e),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.details.forEach(t=>{if(t.batcheslist||(t.batcheslist=[]),3==t.isrequireserial)if(0==t.batcheslist.length)e.push(!1);else{let n=0;t.batcheslist.forEach(e=>{var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=t.qty&&e.push(!1)}}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();console.log("con..."),this.DuringSaveDisable=!0;for(let t=0;t<this._Receipt.linkedreceipts.length;t++)0==this._Receipt.linkedreceipts[t].fire&&(this._Receipt.linkedreceipts.splice(t,1),t--);null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,null!=this.issuerequestid&&0!=this.issuerequestid&&null!=this.issuerequestid&&this._ReceiptSharedService.UpdateSalesState(this.issuerequestid,64).subscribe(e=>{console.log(e,"state")}),this._router.navigate(["/page/inventorytransiction/issuevoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})})):(this._Receipt_h_Edit=new C.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/inventorytransiction/issuevoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e&&this.ChangeEntryDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&ye().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/inventorytransiction/issuevoucher/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}changesalesprice(e){let t=JSON.parse(localStorage.getItem("IssuePricePolicy "));null!=t&&null!=t&&localStorage.removeItem("IssuePricePolicy "),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?(this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.customersalesprice=this.originalSalesPrice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:this._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:this._Receipt.customersalesprice})))}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetDefaultStoreCostCenterByBranch(e=!1,t=!0){1==t&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==e&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{if(e.length>0?(this.StoreCostCenterSetting=e[0],this.BranchApplyTax=e[0].applytax):this.StoreCostCenterSetting={storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid){if(0==this._Receipt.details.length){this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}}1==t&&this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this._Receipt.itemscomponent.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))}null!=this.StoreCostCenterSetting.costcenterid&&(this._Receipt.costcenterid=this.StoreCostCenterSetting.costcenterid,this._Receipt.costcenterfieldname={costcenterfieldname:"ar"==this.lang?this.StoreCostCenterSetting.costcentername_ar:this.StoreCostCenterSetting.costcentername}),this.cd.markForCheck()})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e,this.SetCustomerSalesPriceList()})}SetCustomerSalesPriceList(){let e=this.CurrentUserSetting.issuepricepolicy;if(null==e||0==e){this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"},{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"},{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"},{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}];let e=JSON.parse(localStorage.getItem("IssuePricePolicy "));this._Receipt.customersalesprice=null!=e&&null!=e?parseInt(e.IssuePricePolicy):this.CustomerSalesPriceList[6].id}else 1==e?this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"}]:2==e?this.CustomerSalesPriceList=[{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"}]:3==e?this.CustomerSalesPriceList=[{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"}]:4==e?this.CustomerSalesPriceList=[{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"}]:5==e?this.CustomerSalesPriceList=[{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}]:6==e&&(this.CustomerSalesPriceList=[{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}]),this._Receipt.customersalesprice=this.CustomerSalesPriceList[0].id;this.originalSalesPrice=this._Receipt.customersalesprice}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,console.log(this.CashCustomerSetting,"this.CashCustomerSetting"),this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:1,allowpack:!1,dispensingpolicy:1,confirmationpatchinissuevoucher:!1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e,this.cd.markForCheck()})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeCurrency(e){if(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.Calculate_Total_Tax_Net(),this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(let e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null)}}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;ye().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){ye().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?ye().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?(this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this._Receipt.vendor_balance=e.balance,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetDefaultStoreCostCenterByBranch(!0,!1)):this.GetDefaultStoreCostCenterByBranch(!1)}):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this._Receipt.vendor_balance=e.balance,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetDefaultStoreCostCenterByBranch(!0,!1))}GetCustomerAccountsList(e=""){this._CustomerService.CustomerAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}onFocusInOtherAccounts(e){this.GetOtherAccountsList("")}OtherAccountsChangeSearch(e){this.GetOtherAccountsList(e.query.trim())}GetOtherAccountsList(e=""){this._ReceiptSharedService.GetTransactionAccountList(this.subsidiaryID,e).subscribe(e=>{this.OtherAccountsList=[],this.OtherAccountsList=e,this.cd.markForCheck()})}onClearCustomer(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e,t){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,this.cd.markForCheck()})}onClearItems(e){let t=this._Receipt.details[e];if(3==t.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));if(null!=this._Receipt.details[e].id){let t=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[e].rowno=t+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(t=>t.item_id==e.id)?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}duplicateItemSwalPopUp(e){ye().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(t=>{this.onClearItems(e),this._Receipt.details[e].itemcode=null,this.cd.markForCheck()})}DispensingPolicy(e){}GetItemsList(e=""){0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].allowtax=n.item.allowtax,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):3==e.item_type&&0==n.itemcomponents.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].allowtax=n.item.allowtax,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NOComponents)):(this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].allowtax=n.item.allowtax,this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this._Receipt.details[t].haswarrenty=n.item.haswarrenty,this._Receipt.details[t].warrantydate=n.item.haswarrenty?this.getwarrantydateDate():null,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.inventory_unitid,n.componentsunits.length>0&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.componentsunits)),n.itemcomponents.length>0&&n.itemcomponents.forEach(e=>{let n=new C.hm;n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode=e.itemcode,n.unit_id=e.itemcomponentunitid,n.qty=e.itemcomponentqty,n.basicqtycomponent=e.itemcomponentqty,n.conv=e.itemcomponentconv,n.itemcode=e.itemcode,n.price=0,n.total=n.price*n.qty,n.store_id=this._Receipt.details[t].store_id,n.transaction_move=this.Transaction_move,n.item_type=e.item_type,n.storecode=null!=this._Receipt.details[t].storecode?this._Receipt.details[t].storecode.code:null,n.parentrowno=this._Receipt.details[t].rowno,this._Receipt.itemscomponent.push(n)}),this.ChangeItemUnits(e.inventory_unitid,t)),this.CheckShowDiscountCols(),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);5==this._Receipt.customersalesprice?null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(e=>{console.log(e),e.length>0?(this._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)):(this._Receipt.details[t].price=Number((0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)),this.CheckShowDiscountCols(),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel)}):this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,n,e,this._Receipt.customersalesprice).subscribe(e=>{e.customerprice.length>0&&(this._Receipt.details[t].price=e.customerprice[0].saleprice,5==e.customerdiscount.customersalesprice?(this._Receipt.details[t].conv=e.customerprice[0].itemconv,this._Receipt.details[t].discount_value=e.customerprice[0].discountvalue,this._Receipt.details[t].discount_percent=e.customerprice[0].discountpercentage,this._Receipt.details[t].unit_id=e.customerprice[0].itemunitid):(this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv),this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)),this.CheckShowDiscountCols(),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel)}),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,5==this._Receipt.customersalesprice?this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(i=>{console.log(i),i.length>0?(t=Number((i[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)):(t=0,this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[e].isrequireserial&&3!=this._Receipt.details[e].isrequireserial||this.OnSerialItems(e,this.serialModel)}):this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,this._Receipt.customersalesprice).subscribe(i=>{i.customerprice.length>0&&(t=i.customerprice[0].saleprice,5==i.customerdiscount.customersalesprice&&(n=i.customerprice[0].itemconv),this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[e].isrequireserial&&3!=this._Receipt.details[e].isrequireserial||this.OnSerialItems(e,this.serialModel))}),this.cd.markForCheck()},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{if(this.timeout=null,3==this._Receipt.details[e].item_type)if(this.ItemsComponentList=new Array,null!=this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id){let n=this._ReceiptOriginal.details.find(e=>e.id==t.id).qty,i=this._ReceiptOriginal.itemscomponent.find(n=>n.finishedreceipt_did==t.id&&n.id==this._Receipt.itemscomponent[e].id).qty;this._Receipt.itemscomponent[e].basicqtycomponent=i/n,this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e])}}else if(null==this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[e].id&&this._Receipt.itemscomponent[e].parentrowno==t.rowno&&(this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e]))}this.StockBalances(e),this.CheckBalanceForItemInStore(e),this.CalaculteValuesItemsRow(e),1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[e].isrequireserial&&3!=this._Receipt.details[e].isrequireserial||this.OnSerialItems(e,this.serialModel)},1e3)}OnSelectedItem(e=null,t=null,n="",i=!1,r=!1){if(!i){if(this.show_all_component=r,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){let t=e;if(null!=t.id)for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[e]);else null==t.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id&&null==e.id&&e.parentrowno==t.rowno))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}}AddItems(){if(this._CashSalesDetailsReceipt=new C.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode);let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}DeleteItems(e,t=!1){if(t)return;let n=this._Receipt.details[e];if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==n.item_id).length>0)if(null!=n.id)for(let i=0;i<this._Receipt.itemscomponent.length;i++)this._Receipt.itemscomponent[i].finishedproductid==n.item_id&&this._Receipt.itemscomponent[i].finishedreceipt_did==n.id&&(this._Receipt.itemscomponent.splice(i,1),i--);else null==n.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=n.rowno));1==this._Receipt.details.filter(e=>e.item_id==n.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=n.item_id)),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.CheckShowDiscountCols(),this.OnSelectedItem(null),this.cd.markForCheck()}OnEditItemsNotes(e,t){this.DescriptionItem=new C.tH,this.DescriptionItem.index=e,this.DescriptionItem.detailshtml=this._Receipt.details[e].detailshtml,this.DescriptionItem.customitemname=this._Receipt.details[e].customitemname,this.OpenModal(t)}onContentChanged(e){this._Receipt.details[this.DescriptionItem.index].notes=e.text}SaveNotes(){this._Receipt.details[this.DescriptionItem.index].customitemname=this.DescriptionItem.customitemname,this._Receipt.details[this.DescriptionItem.index].detailshtml=this.DescriptionItem.detailshtml,this._Receipt.details[this.DescriptionItem.index].salesmanid=this.DescriptionItem.salesmanid,this.CloseModal()}CheckShowDiscountCols(){let e=this._Receipt.details.filter(e=>e.discount_percent>0||e.discount_value>0);this.ShowDiscountCols=e.length>0,this.cd.markForCheck()}CalaculteValuesItemsRow(e,t="percent",n=!0){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;let i=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((i*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/i%(1/0)||0)),this._Receipt.details[e].total=Number((i-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),1==n&&this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}ReCalaculteValuesChangeItemsRow(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}onFocusInCostCenter(e){this.GetCostCenterList("")}CostCenterChangeSearch(e,t){this.GetCostCenterList(e.query.trim())}CostCenterSelectEvent(e){this._Receipt.costcenterid=e.id}GetCostCenterList(e=""){this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,e,this._Receipt.vendor_id).subscribe(e=>{this.CostCenterList=[],this.CostCenterList=e,this.CostCenterList.length>0&&this.setFieldNameForArray(this.CostCenterList,"costcenter"),this.cd.markForCheck()})}onFocusInLocations(e){this.GetLocationsList("")}LocationsChangeSearch(e,t){this.GetLocationsList(e.query.trim())}LocationsSelectEvent(e){this._Receipt.locationid=e.id}GetLocationsList(e=""){this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.LocationList=[],this.LocationList=e,this.LocationList.length>0&&this.setFieldNameForArray(this.LocationList,"location"),this.cd.markForCheck()})}onFocusInClasses(e){this.GetClassesList("")}ClassesChangeSearch(e,t){this.GetClassesList(e.query.trim())}ClassesSelectEvent(e){this._Receipt.classid=e.id}GetClassesList(e=""){this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.ClassList=[],this.ClassList=e,this.ClassList.length>0&&this.setFieldNameForArray(this.ClassList,"class"),this.cd.markForCheck()})}onFocusInDepartment(e){this.GetDepartmentList("")}DepartmentChangeSearch(e,t){this.GetDepartmentList(e.query.trim())}DepartmentSelectEvent(e){this._Receipt.departmentid=e.id}GetDepartmentList(e=""){this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.DepartmentList=[],this.DepartmentList=e,this.DepartmentList.length>0&&this.setFieldNameForArray(this.DepartmentList,"department"),this.cd.markForCheck()})}onFocusInDivision(e){this.GetDivisionList("")}DivisionChangeSearch(e,t){this.GetDivisionList(e.query.trim())}DivisionSelectEvent(e){this._Receipt.divisionid=e.id}GetDivisionList(e=""){this._ReceiptSharedService.GetSubsidaryDivisions(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.DivisionList=[],this.DivisionList=e,console.log(e),this.DivisionList.length>0&&this.setFieldNameForArray(this.DivisionList,"division"),this.cd.markForCheck()})}setFieldNameForArray(e,t=null){for(let n=0;n<e.length;n++){let i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t?i.departmentfieldname="ar"==this.lang?i.sugar:i.sug:"division"==t&&(i.divisionfieldname="ar"==this.lang?i.sugar:i.sug)}}CarByDriverID(){this._ReceiptSharedService.CarByDriverID(this.subsidiaryID,this._Receipt.driverid).subscribe(e=>{this.CarsList=e,this.CarsList.length>0&&null!=this._Receipt.driverid&&(this._Receipt.carid=this.CarsList[0].id),this.cd.markForCheck()})}DriverUsersByCarID(){this._ReceiptSharedService.DriverUsersByCarID(this.subsidiaryID,this._Receipt.carid).subscribe(e=>{this.DriversList=e,this.DriversList.length>0&&null!=this._Receipt.carid&&(this._Receipt.driverid=this.DriversList[0].id),this.cd.markForCheck()})}ChangeDriver(){this.CarByDriverID(),null==this._Receipt.driverid&&(this._Receipt.carid=null,this.DriverUsersByCarID())}ChangeCar(){this.DriverUsersByCarID(),null==this._Receipt.carid&&(this._Receipt.driverid=null,this.DriverUsersByCarID())}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(t=>{if(this.spinner.hide(),null==t.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(t.items.length>0)if(1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=t.receipt.subsidiaryid,this._Receipt.customersalesprice=null!=t.receipt.customersalesprice?t.receipt.customersalesprice:this._Receipt.customersalesprice,this._Receipt.payment_type=null!=t.receipt.payment_type?t.receipt.payment_type:this._Receipt.payment_type,this._Receipt.vendor_id=null!=t.receipt.vendor_id?t.receipt.vendor_id:this._Receipt.vendor_id,this._Receipt.cashcustomerid=null!=t.receipt.cashcustomerid?t.receipt.cashcustomerid:this._Receipt.cashcustomerid,this._Receipt.discount_foreignpercent=t.receipt.discount_foreignpercent,this._Receipt.discount_percent=t.receipt.discount_percent,this._Receipt.discount_foreignvalue=t.receipt.discount_foreignvalue,this._Receipt.discount_value=t.receipt.discount_value,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.vendornamear:t.receipt.vendorname,this._Receipt.vendor_balance=null!=t.receipt.vendor_balance?t.receipt.vendor_balance:this._Receipt.vendor_balance,this.PriceListItemsOnly=t.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:t.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.cashcustomername_ar:t.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=t.receipt.currency_id,this._Receipt.currency_rate=t.receipt.currency_rate,this._Receipt.empoyee_id=null!=t.receipt.empoyee_id?t.receipt.empoyee_id:this._Receipt.empoyee_id,this._Receipt.memo=t.receipt.memo,this._Receipt.reference_no=t.receipt.reference_no,this._Receipt.inchargepersonname=t.receipt.inchargepersonname,this._Receipt.inchargephoneno=t.receipt.inchargephoneno,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),0==this.PriceListItemsOnly||t.receipt.vendor_id==this._Receipt.vendor_id){this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=t.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id;for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);t.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),t.itemcomponents.length>0&&(this.ItemComponentsLinkedReceipt=t.itemcomponents,81==t.receipt.code&&(this.ItemComponentsLinkedReceipt=this.ItemComponentsLinkedReceipt.filter(e=>-1==e.transaction_move)),this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(t.componentsunits)),this.ItemLinkedReceipt=t.items,81==t.receipt.code&&(this.ItemLinkedReceipt=this.ItemLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0])}else this._Receipt.linkedreceipts[e].fire=0,this.spinner.hide(),this.toastr.info(this.CustomerPricelistMsg);else this.spinner.hide(),this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._CashSalesDetailsReceipt=new C.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv);if(-1==n){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total;let n=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=n+1,3==t.item_type&&this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id).forEach(e=>{let t=new C.hm;t.store_id=this._CashSalesDetailsReceipt.store_id,t.storecode=this._CashSalesDetailsReceipt.storecode.code,t.item_id=e.item_id,t.itemcode=e.itemcode,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.unit_id=e.unit_id,t.conv=e.conv,t.qty=e.qty,t.basicqtycomponent=e.qty/this._CashSalesDetailsReceipt.qty||0,t.price=e.price,t.discount_value=e.discount_value,t.discount_percent=e.discount_percent,t.total=e.total,t.transaction_move=this.Transaction_move,t.finishedproductid=e.finishedproductid,t.item_type=e.item_type,t.notes=e.notes,t.haswarrenty=e.haswarrenty,t.warrantydate=e.warrantydate,t.detailshtml=e.detailshtml,t.customitemname=e.customitemname,t.salesmanid=e.salesmanid,t.parentrowno=this._CashSalesDetailsReceipt.rowno,this._Receipt.itemscomponent.push(t)}),this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished(),this.CheckShowDiscountCols()}else{if(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),3==t.item_type){let e=this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id);if(null!=this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)if(this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id){var i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id);this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty)}}else if(null==this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[n].id&&this._Receipt.itemscomponent[n].parentrowno==t.rowno&&(i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id),this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty))}}this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished(),this.CheckShowDiscountCols()}}SetLinkReceiptItemFinished(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;let e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&(this.GetLinkedReceipt(e),console.log("(this._Receipt.linkedreceipts.length)-(this.IxLRS+1)"),console.log(e))}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}OnCustomerLinkedReceiptSet(e){this.LinkedReceiptListSelected=[],this.IxLRS=0,this.LinkedReceiptListSelected=e.list;for(let t=0;t<this.LinkedReceiptListSelected.length;t++)this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.LinkedReceiptListSelected[t].code,this._LinkedReceipt.entry_no=this.LinkedReceiptListSelected[t].entry_no,this._LinkedReceipt.subsidiaryid=this.subsidiaryID,this._LinkedReceipt.branch_id=this.LinkedReceiptListSelected[t].branch_id,this._LinkedReceipt.receiptid=this.LinkedReceiptListSelected[t].id,this._LinkedReceipt.parentreceiptid=this._Receipt.id,this._Receipt.linkedreceipts.push(this._LinkedReceipt);this.GetLinkedReceipt(this._Receipt.linkedreceipts.length-(this.IxLRS+1))}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}OnSignatureSet(e){this._Receipt.signature=e.signature}OnOpenReceiptHistory(e){let t=this.ReceiptHistoryList[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);""!=n.Url&&window.open(n.Url+this.ReceiptHistoryList[e].receiptid+"/show","_blank")}Calculate_Total_Tax_Net(){let e=0;this._Receipt.details.forEach(t=>{e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this._Receipt.discount_percent>0?this.Calculate_Disc("local","percent"):this._Receipt.discount_value>0?this.Calculate_Disc("local","value"):this._Receipt.discount_foreignvalue>0?this.Calculate_Disc("foreign","value"):this.CalculateTax_Net(e);let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t}CalculateTax_Net(e=0){1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number((e-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number((e-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}Calculate_Disc(e="local",t="percent"){this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,"local"==e?("percent"==t&&(this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_percent=Number((100*(this._Receipt.discount_value/this._Receipt.value%(1/0)||0)).toFixed(8)),this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision)))):"foreign"==e&&("percent"==t&&(this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_foreignpercent=Number((100*(this._Receipt.discount_foreignvalue/this._Receipt.valueforeign%(1/0)||0)).toFixed(8)),this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)))),1==this._Receipt.currency_rate?(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalueforeign=Number((this._Receipt.valueforeign-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){var i;1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let r=!0,a=new C.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id,console.log(a);let o=null!==(i=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==i?i:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==o||1==o&&this._Receipt.details[e].id>0)&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(a).subscribe(i=>{let a=0,s=0,c=0,l=[],d=!0;if(0==i.consignment.consignment){if(null!=i.totalqty.totalqty){if(a=i.totalqty.totalqty,l=i.itemcomponent,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;s=parseFloat(s.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._Receipt.details[e].item_type){this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.details[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});let t=[],n=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let i=0;i<n.length;i++){t=[],t=this._Receipt.itemscomponent.filter(t=>t.parentrowno==n[i].rowno&&t.finishedproductid==n[i].item_id&&null==t.id&&t.item_id==this._Receipt.details[e].item_id);for(let e=0;e<t.length;e++){let n=t[e].qty,i=this.ItemComponentUnitsList.find(n=>n.item_id==t[e].item_id&&n.id==t[e].unit_id);if(null!=i){let r=(null!=i.finalconv?i.finalconv:1)*(t[e].conv/(null!=i.conv?i.conv:1))*parseFloat(n.toString());s=parseFloat(s.toString())+r}}}}if(-1==o?c=a-s:1==o&&(c=a+s),3==this._Receipt.details[e].item_type)for(let e=0;e<l.length;e++)if(2!=l[e].item_type){let t=this._Receipt.details.filter(t=>t.item_id==l[e].item_id),n=0;t.forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;n=parseFloat(n.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),this._Receipt.itemscomponent.filter(t=>t.item_id==l[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());n=parseFloat(n.toString())+i}});let i=[],r=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let a=0;a<r.length;a++){i=[],i=this._Receipt.itemscomponent.filter(t=>t.parentrowno==r[a].rowno&&t.finishedproductid==r[a].item_id&&null==t.id&&t.item_id==l[e].item_id);for(let e=0;e<i.length;e++){let t=i[e].qty,r=this.ItemComponentUnitsList.find(t=>t.item_id==i[e].item_id&&t.id==i[e].unit_id);if(null!=r){let a=(null!=r.finalconv?r.finalconv:1)*(i[e].conv/(null!=r.conv?r.conv:1))*parseFloat(t.toString());n=parseFloat(n.toString())+a}}}if(!(n<=l[e].totalqty)){d=!1;break}d=!0}r=c>=0&&1==d}else r=!1;0==r?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+a)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(620)?this._router.navigate(["/page/inventorytransiction/issuevoucher/0"]).then(()=>{window.location.reload()}):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/issuevoucher/0"]).then(()=>{window.location.reload()})})}DeleteAction(){ye().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransiction/issuevoucher"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}CheckServiceItemComponentsInUpdate(){this._ReceiptSharedService.CheckServiceItemComponentsInUpdate(this._Receipt.id).subscribe(e=>{e[0].exist?(this.ShowModeReceipt=!0,this.toastr.warning(this.UpdateReceiptItemService)):this.ShowModeReceipt=!1,this.cd.markForCheck()})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{Date.parse(e[0].maxpostingdate.toString())<Date.parse(this._Receipt.entry_date.toString())?(this.ShowModeReceipt=!1,this.ValidPeriod=!0,this.CheckServiceItemComponentsInUpdate()):(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/inventorytransiction/issuevoucher/0"),this.ReceiptID=0,this._Receipt.id=null,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/issuevoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){const t=this._authService.userInfo().clientdatabase;let n="",i="";"ar"==this.lang&&(i="_ar"),n=1==e?"P_I_60_IssueVoucher_GL_WEB_alromaih"+i:"P_I_60_IssueVoucher"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alshaima")>-1?n="P_I_60_63_GL_WEB_alshaimaa"+i:t.indexOf("192.168.1.90")>-1||t.indexOf("rafc.matixerp.com")>-1?(n="P_S_52_CashSales_rahtElKhalig",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:i,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}):t.indexOf("alromaih")>-1?n="P_I_60_IssueVoucher_GL_WEB_alromaih":t.indexOf("darshgf")>-1?n="P_I_60_IssueVoucher_GL_WEB_darshgf":t.indexOf("istones")>-1&&1==e?n="P_S_52_Issue_GL_WEB_istones":t.indexOf("istones")>-1&&0==e&&(n="P_I_60_IssueVoucher_GL_WEB_istones"+i),r.ReceiptID=this.ReceiptID,r.reportName=n,r.toEmail=this._emailobj.email,r.Subject=this._emailobj.subject,r}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(620)||0==this.ReceiptID&&!this.checkRoleParms(229)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/issuevoucher"]):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/issuevoucher"])})}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}getwarrantydateDate(){let e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}formateDecimal(e,t=3){return e.toFixed(t)}OnSerialItems(e,t){var n;if(1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)return void this.toastr.error(this.InValidQty);this.requiredserial=this._Receipt.details[e].isrequireserial;let i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),r=this._Receipt.details[e].conv*i[0].finalconv/i[0].conv;this._batchqty=this._Receipt.details[e].qty,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(n=this._Receipt.id)&&void 0!==n?n:0,this._Receipt.entry_date+" "+this._Receipt.entry_time,this.subsidiaryID).subscribe(n=>{this.BatchesListForEatchRow=[],n.seriallist.forEach(t=>{t.formIssueVoucher=!1,null!=this._Receipt.id&&0!=this._Receipt.id&&null!=this._ReceiptOriginal.details[this.selectedindex]&&this._ReceiptOriginal.details[this.selectedindex].unit_id!=this._Receipt.details[this.selectedindex].unit_id&&(t.availableqty=t.availableqty+this._ReceiptOriginal.details[e].qty*this._ReceiptOriginal.details[e].final_conv-this._Receipt.details[e].qty*this._Receipt.details[e].final_conv),t.availableqtywithsmallestunit=t.availableqty,t.availableqty=parseFloat((t.availableqty/r).toFixed(4))});let i=[];if(i=n.seriallist,console.log(n.seriallist,"d.seriallist"),this._Receipt.details[this.selectedindex].batcheslist||(this._Receipt.details[this.selectedindex].batcheslist=[]),this._Receipt.details[this.selectedindex].batcheslist.forEach(e=>{var t;let n=i.findIndex(t=>t.id==e.previtemserialid);-1!=n&&(i[n].patchconfirmation=null!==(t=e.patchconfirmation)&&void 0!==t?t:"",e.inv_receipt_d_id>0?null==this._Receipt.details[this.selectedindex].validrow||1==this._Receipt.details[this.selectedindex].validrow?(i[n].qty=e.qty,i[n].oldqty=i[n].qty,i[n].availableqty=this.dealWith(this.ComeFromIssueRequest?i[n].availableqty-e.qty:i[n].availableqty),this._Receipt.details[this.selectedindex].validrow=!0):i[n].availableqty=i[n].availableqty+e.qty:1==this._Receipt.details[this.selectedindex].validrow&&(i[n].qty=e.qty,i[n].oldqty=i[n].qty,i[n].availableqty=this.dealWith(i[n].availableqty-e.qty),this._Receipt.details[this.selectedindex].validrow=!0))}),this._Receipt.id>0)for(let e=0;e<i.length;e++)null==i[e].qty&&0==i[e].availableqty||this.BatchesListForEatchRow.push(i[e]);else this.BatchesListForEatchRow=[...i];if(1==this.CashCustomerSetting.dispensingpolicy){if(this._Receipt.details[this.selectedindex].id>0&&this.ReceiptID>0){console.log(this.BatchesListForEatchRow);for(let e=0;e<this.BatchesListForEatchRow.length;e++)this.BatchesListForEatchRow[e].availableqty+=this.BatchesListForEatchRow[e].oldqty,this.BatchesListForEatchRow[e].qty=0,this.BatchesListForEatchRow[e].solidquantity=0}let t=0;if(this.BatchesListForEatchRow.forEach(e=>{t+=e.availableqty}),console.log(t,this._Receipt.details[e].qty),this._Receipt.details[e].qty>t)return void this.toastr.error(this.InValidQtyForBatch);if(this._Receipt.details[e].qty==t)this.BatchesListForEatchRow.forEach(e=>{e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),this.saveSerialOnSalesReturnEffectDispensingPolicy();else{let t=this._Receipt.details[e].qty;this.BatchesListForEatchRow.forEach(e=>{0!=t&&(e.availableqty>=t?(e.qty=t,e.oldqty=t,e.availableqty=e.availableqty-t,t=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,t-=e.availableqty,e.availableqty=0))}),this.saveSerialOnSalesReturnEffectDispensingPolicy()}}else this.OpenModal(t);1==this.CashCustomerSetting.dispensingpolicy&&this.OpenModal(t)})}saveSerialOnSalesReturnEffectDispensingPolicy(){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Me.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.availableqty=t.availableqty+t.qty,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}else{let e=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=e&&this._Receipt.details[this.selectedindex].batcheslist.splice(e,1)}}),console.log(this._Receipt.details,"this._Receipt.details")}saveserial(e){if(e.valid){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);if(1==this.CashCustomerSetting.confirmationpatchinissuevoucher&&this.BatchesListForEatchRow.some(e=>e.patchconfirmation.trim()!=e.serial&&e.qty&&(null!=e.qty||0!=e.qty)))return this.toastr.error(this.PatchConfirmationIsValidWithPatchNo),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?(this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString(),this._Receipt.details[this.selectedindex].batcheslist[i].patchconfirmation=t.patchconfirmation?t.patchconfirmation.trim():""):(e=new Me.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.availableqty=t.availableqty+t.qty,e.patchconfirmation=t.patchconfirmation?t.patchconfirmation.trim():"",e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}else{let e=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=e&&this._Receipt.details[this.selectedindex].batcheslist.splice(e,1)}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}ChangeBatchQty(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}dealWith(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}onMainAccountRadioClick(){this._Receipt.vendor_id=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this.cd.markForCheck()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}Patch(e){this.modalReference=this.modalService.open(e,{size:"md",backdrop:"static"})}ClosePatchModal(){this.modalReference.close()}CheckShowWarrantyDateCols(){let e=this._Receipt.details.filter(e=>1==e.haswarrenty);this.ShowWarrantyDateCols=e.length>0,this.cd.markForCheck()}SavePatchModal(){var e;this._ReceiptSharedService.GetItemBatchDetailsLists(this.subsidiaryID,this.BatchNoText,this._Receipt.entry_date+" "+this._Receipt.entry_time,this._Receipt.details[0].store_id,null!==(e=this._Receipt.id)&&void 0!==e?e:0).subscribe(e=>{e.item.forEach(t=>{let n=new C.hm;if(n.item_id=t.id,n.itemcode={code:t.code},n.itemname=t.name,n.itemname_ar=t.name_ar,0==e.itemunits.length)n.isrequireserial=t.isrequireserial,n.allowtax=t.allowtax,null==this._Receipt.id||0==this._Receipt.id?(n.store_id=this.StoreCostCenterSetting.storeid,n.storecode={code:this.StoreCostCenterSetting.storecode}):(n.store_id=this._ReceiptOriginal.details[0].store_id,n.storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits);else if(3==t.item_type&&0==e.itemcomponents.length)n.isrequireserial=e.item.isrequireserial,n.allowtax=e.item.allowtax,null==this._Receipt.id||0==this._Receipt.id?(n.store_id=this.StoreCostCenterSetting.storeid,n.storecode={code:this.StoreCostCenterSetting.storecode}):(n.store_id=this._ReceiptOriginal.details[0].store_id,n.storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NOComponents);else{n.isrequireserial=t.isrequireserial,n.allowtax=t.allowtax,n.notes=t.notes,n.item_type=t.item_type,n.qty=1,n.haswarrenty=t.haswarrenty,n.warrantydate=t.haswarrenty?this.getwarrantydateDate():null,null==this._Receipt.id||0==this._Receipt.id?(n.store_id=this.StoreCostCenterSetting.storeid,n.storecode={code:this.StoreCostCenterSetting.storecode}):(n.store_id=this._ReceiptOriginal.details[0].store_id,n.storecode=this._ReceiptOriginal.details[0].storecode),this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(e=>e.item_id==t.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(e.itemunits.filter(e=>e.item_id==t.id))):this.ItemUnitsList=this.ItemUnitsList.concat(e.itemunits.filter(e=>e.item_id==t.id)),n.unit_id=t.selling_unitid,this.CheckShowWarrantyDateCols(),e.componentsunits.filter(e=>e.item_id==t.id).length>0&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(e.componentsunits.filter(e=>e.item_id==t.id))),e.itemcomponents.filter(e=>e.item_id==t.id).length>0&&e.itemcomponents.filter(e=>e.item_id==t.id).forEach(e=>{let t=new C.hm;t.item_id=e.itemcomponentid,t.finishedproductid=e.item_id,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.itemcode=e.itemcode,t.unit_id=e.itemcomponentunitid,t.qty=e.itemcomponentqty,t.basicqtycomponent=e.itemcomponentqty,t.conv=e.itemcomponentconv,t.itemcode=e.itemcode,t.price=0,t.total=t.price*t.qty,t.store_id=n.store_id,t.transaction_move=this.Transaction_move,t.item_type=e.item_type,t.storecode=null!=n.storecode?n.storecode.code:null,t.parentrowno=n.rowno,this._Receipt.itemscomponent.push(t)});for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);this._Receipt.details.push(n),this.ClosePatchModal(),this.ChangeItemUnits(t.selling_unitid,this._Receipt.details.length-1);var i=e.itemunits.filter(e=>e.item_id==t.id&&e.id==t.selling_unitid);null!=i&&i.length>0&&(this._Receipt.details[this._Receipt.details.length-1].conv=i[0].conv,this._Receipt.details[this._Receipt.details.length-1].final_conv=i[0].final_conv);var r=e.seriallist.filter(e=>e.itemid==t.id);this.OnSerialItemsImported(this._Receipt.details.length-1,r),this.CloseModal()}}),this.cd.markForCheck(),this.CloseModal()})}OnSerialItemsImported(e,t){if(this._Receipt.details[e].batcheslist=[],this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)return void this.toastr.error(this.InValidQty);this.requiredserial=this._Receipt.details[e].isrequireserial;let n=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),i=this._Receipt.details[e].conv*n[0].finalconv/n[0].conv;this._batchqty=this._Receipt.details[e].qty;let r=this.BatchNoText.split("/",1);this.BatchesListForEatchRow=[];let a=[];if(a=t,a.forEach(e=>{e.availableqtywithsmallestunit=e.availableqty,e.availableqty=parseFloat((e.availableqty/i).toFixed(4))}),this._Receipt.details[this.selectedindex].batcheslist.forEach(e=>{let t=a.findIndex(t=>t.id==e.previtemserialid);-1!=t&&(e.inv_receipt_d_id>0?null==this._Receipt.details[this.selectedindex].validrow||1==this._Receipt.details[this.selectedindex].validrow?(a[t].qty=e.qty,a[t].oldqty=e.qty,this._Receipt.details[this.selectedindex].validrow=!0):a[t].availableqty=a[t].availableqty+e.qty:1==this._Receipt.details[this.selectedindex].validrow&&(a[t].qty=e.qty,a[t].oldqty=e.qty,a[t].availableqty=a[t].availableqty-e.qty,this._Receipt.details[this.selectedindex].validrow=!0))}),this._Receipt.id>0)for(let s=0;s<a.length;s++)null==a[s].qty&&0==a[s].availableqty||this.BatchesListForEatchRow.push(a[s]);else this.BatchesListForEatchRow=[...a];let o=0;if(this.BatchesListForEatchRow.forEach(t=>{r.length>0&&t.serial==r[0]&&(o+=t.availableqty,this._Receipt.details[e].qty=o,this.ChangeQty(e))}),console.log(o,this._Receipt.details[e].qty),this._Receipt.details[e].qty>o)return this._Receipt.details[this.selectedindex].validrow=!1,this.toastr.error(this.InValidQtyForBatch),!1;{let t=this._Receipt.details[e].qty;this._batchqty=t;let n=1;this.BatchesListForEatchRow.forEach(e=>{e.solidquantity=e.availableqty,r.length>0&&e.serial==r[0]&&0!=t&&(e.availableqty>=t?(e.qty=t,e.oldqty=t,e.availableqty=parseFloat((e.availableqty-t).toFixed(4)),t=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,t-=e.availableqty,e.availableqty=0),n++)}),this.cd.markForCheck(),this.saveSerialOnSalesReturnEffectDispensingPolicy()}}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Re.H),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](w.FF),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](v.J),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-voucher-details"]],viewQuery:function(e,t){if(1&e&&(y["\u0275\u0275viewQuery"](Co,5),y["\u0275\u0275viewQuery"](fo,5)),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.serialModel=e.first),y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([_.n,Se.v,f.t,i.uU,Re.H,v.J])],decls:9,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["DescriptionItemModel",""],["serialModel",""],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"card","my-3","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit","class","btn btn-success mr-2 mb-2",4,"ngIf"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],["type","radio","name","AccountType","id","mainAccountType",1,"radio-col-green",3,"ngModel","value","click","ngModelChange"],[1,"col-form-label"],[1,"ml-2"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],[1,"col-12","col-md-3","mb-2","mb-md-0","mt-2"],["for","cashcustomer_vendor_phone"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","InchargePersonName",1,"col-form-label"],["type","text","id","InchargePersonName","name","InchargePersonName",1,"form-control",3,"ngModel","ngModelChange"],["InchargePersonName","ngModel"],["for","inchargephoneno",1,"col-form-label"],["type","text","id","inchargephoneno","name","inchargephoneno",1,"form-control",3,"ngModel","ngModelChange"],["inchargephoneno","ngModel"],[1,"card","my-3","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-8","col-md-8"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["PatchinventoryModal",""],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5",2,"margin-top","4rem"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_ForiegnDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_ForiegnDiscountPerc","ngModel"],["style","color: red",4,"ngIf"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_LocalDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_LocalDiscountPerc","ngModel"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_LocalDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"col-md-7"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],[3,"value"],["Value","null"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoOtherAccounts","","Other","ngModel"],["pTemplate","OtherAccountsTemplate"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col","style","width: 12%",4,"ngIf"],["scope","col","style","width: 6%",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","btn btn-success","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mr-3","ml-3",3,"click"],["scope","col",2,"width","12%"],["scope","col",2,"width","6%"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","readonly","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],[1,"fa-stack","fa-lg","addNotesIcon"],[1,"fa","fa-plus","fa-stack-1x"],[1,"fa","fa-sticky-note","fa-stack-2x"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],[1,"fa","fa-trash","font-medium-3"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],[1,"form-control",3,"id","ngClass","click"],["PositiveNumbersOnly","","hidden","true","type","number","customMin","",1,"form-control",3,"id","readonly","ngModel","name","Min","CheckMin","ngClass","keyup","focusout","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number","customMax","100","customMin","",1,"form-control",3,"ngModel","Min","CheckMin","name","readonly","ngClass","keyup","ngModelChange"],["discountpercent","ngModel"],[2,"color","red"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["discount_value","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"row","mb-3","p-2"],[1,"col-md-3"],[1,"col-md-8"],["type","text","id","BatchNoTxt","name","BatchNoTxt",1,"form-control","batch-input",3,"ngModel","ngModelChange"],["BatchNoTxt","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-success","mr-2","ml-2",3,"click"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"col-12","mb-2"],[3,"custID","subsidiaryID","LinkedListChecked","ListSelected"],["class","btn btn-primary","type","button",3,"click",4,"ngIf"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],["type","button",1,"btn","btn-primary",3,"click"],[3,"signature","signatureoutput"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["for","Cars",1,"col-form-label"],["name","Cars",1,"form-control",3,"ngModel","ngModelChange","change"],["for","Drivers",1,"col-form-label"],["name","Drivers",1,"form-control",3,"ngModel","ngModelChange","change"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],["minLength","0","delay","0","field","divisionfieldname","name","Division",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDivion","","Division","ngModel"],["pTemplate","DivisionTemplate"],[1,"row","mb-6"],[1,"col-12"],[1,"table-responsive","table-accountdetails"],["disabled","",1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number","disabled","",1,"form-control","red",3,"ngModel","name","ngModelChange"],["historyReceiptsentry_no","ngModel"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-body"],[1,"col-md-12","form-group"],["for","customitemname",1,"col-form-label"],["type","text","id","customitemname","name","customitemname",1,"form-control",3,"ngModel","disabled","ngModelChange"],["customitemname","ngModel"],[3,"styles","ngModel","ngModelOptions","modules","disabled","ngModelChange","onContentChanged"],["class","col-md-12",4,"ngIf"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],[1,"col-md-12"],["for","salesmanid",1,"col-form-label"],["name","salesmanid",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","modal-title",4,"ngIf"],[1,"table-responsive"],[2,"width","20%"],["style","width: 15%",4,"ngIf"],["type","submit",1,"btn","btn-success"],[2,"width","15%"],["type","checkbox",3,"name","checked","disabled"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","disabled","change"],["type","text",1,"form-control",3,"name","ngModel","ngClass","ngModelChange"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,vo,4,3,"div",0),y["\u0275\u0275template"](1,ml,225,181,"ng-container",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,Sl,26,23,"ng-template",null,4,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275template"](7,ql,37,23,"ng-template",null,5,y["\u0275\u0275templateRefExtractor"])),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(228)||t.checkRoleParms(229)||t.checkRoleParms(230)||t.checkRoleParms(620)||t.checkRoleParms(232))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction0"](3,Tl))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.JJ,a.On,i.sg,a.Q7,i.mk,a.Fj,Ie.L,Pe.a,a._,w.Pz,w.nv,w.Vx,w.uN,w.tO,a.wV,E.K,a.qQ,we.Z,Ee.k,a.YN,a.Kr,s.Qc,Oe.jx,ke.v,De.t,Be.T,m.g6],pipes:[l.X$,i.uU,Le.N,Fe.p],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.radio-col-green[_ngcontent-%COMP%]{margin-top:10px}.readonlyDiv[_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1;pointer-events:none}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.isExpired[_ngcontent-%COMP%]{color:red}']}),e})();function Gl(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",2),y["\u0275\u0275elementStart"](1,"h1",3),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Ul(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function $l(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function jl(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",48),y["\u0275\u0275template"](1,Ul,2,1,"span",1),y["\u0275\u0275template"](2,$l,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function zl(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",54),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).OnAdd()}),y["\u0275\u0275element"](1,"i",25),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Wl(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",49),y["\u0275\u0275template"](1,zl,4,3,"button",50),y["\u0275\u0275elementStart"](2,"button",51),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnPrint()}),y["\u0275\u0275element"](3,"i",25),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"button",52),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnPrint(1)}),y["\u0275\u0275element"](7,"i",25),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"button",53),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnExcel()}),y["\u0275\u0275element"](11,"i",25),y["\u0275\u0275text"](12),y["\u0275\u0275pipe"](13,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(8805)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](5,4,"Print")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,6,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](13,8,"Excel")," ")}}function Jl(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function Ql(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function Yl(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",41),y["\u0275\u0275template"](2,Jl,1,0,"i",42),y["\u0275\u0275template"](3,Ql,1,0,"i",43),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function Hl(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function Zl(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function Kl(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",41),y["\u0275\u0275template"](2,Hl,1,0,"i",42),y["\u0275\u0275template"](3,Zl,1,0,"i",43),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function Xl(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function ed(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function td(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function nd(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function id(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function rd(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function ad(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",41),y["\u0275\u0275template"](2,id,1,0,"i",42),y["\u0275\u0275template"](3,rd,1,0,"i",43),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"desc"==e.sortDirection)}}function od(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function sd(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function cd(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",41),y["\u0275\u0275template"](2,od,1,0,"i",42),y["\u0275\u0275template"](3,sd,1,0,"i",43),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerNamear"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"desc"==e.sortDirection)}}function ld(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function dd(e,t){1&e&&y["\u0275\u0275element"](0,"i",56)}function pd(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1,"\xa0"),y["\u0275\u0275elementEnd"]())}function hd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function md(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function ud(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.customername)}}function gd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.customernamear)}}function _d(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td",62),y["\u0275\u0275elementStart"](1,"a",63),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().$implicit;return y["\u0275\u0275nextContext"](2).onEdit(t)}),y["\u0275\u0275element"](2,"i",64),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}}function Cd(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275template"](1,hd,2,1,"td",1),y["\u0275\u0275template"](2,md,2,1,"td",1),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](7,ud,2,1,"td",1),y["\u0275\u0275template"](8,gd,2,1,"td",1),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275text"](10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](11,_d,3,0,"td",57),y["\u0275\u0275elementStart"](12,"td"),y["\u0275\u0275elementStart"](13,"a",58),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).$implicit;return y["\u0275\u0275nextContext"](2).PrintPreview(t.id)}),y["\u0275\u0275elementStart"](14,"span"),y["\u0275\u0275element"](15,"i",59),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"a",60),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).$implicit;return y["\u0275\u0275nextContext"](2).OnView(t)}),y["\u0275\u0275elementStart"](18,"span"),y["\u0275\u0275element"](19,"i",61),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.netvalue),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",n.checkRoleParms(615))}}function fd(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",65),y["\u0275\u0275elementStart"](1,"ngb-pagination",66),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",67),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",68),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",69),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",70),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function vd(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",4),y["\u0275\u0275elementStart"](2,"div",5),y["\u0275\u0275elementStart"](3,"div",6),y["\u0275\u0275elementStart"](4,"h6",7),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",8),y["\u0275\u0275elementStart"](8,"div",9),y["\u0275\u0275elementStart"](9,"section"),y["\u0275\u0275elementStart"](10,"div",2),y["\u0275\u0275elementStart"](11,"div",10),y["\u0275\u0275elementStart"](12,"form",11,12),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](14,"div",2),y["\u0275\u0275elementStart"](15,"div",13),y["\u0275\u0275elementStart"](16,"div",14),y["\u0275\u0275elementStart"](17,"label",15),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"select",16,17),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](22,"option",18),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,jl,3,3,"option",19),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",13),y["\u0275\u0275elementStart"](27,"div",14),y["\u0275\u0275elementStart"](28,"label",20),y["\u0275\u0275text"](29),y["\u0275\u0275pipe"](30,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"input",21,22),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",23),y["\u0275\u0275elementStart"](34,"button",24),y["\u0275\u0275element"](35,"i",25),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"button",26),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ShowAll()}),y["\u0275\u0275element"](39,"i",25),y["\u0275\u0275text"](40),y["\u0275\u0275pipe"](41,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"div",27),y["\u0275\u0275elementStart"](43,"div",28),y["\u0275\u0275template"](44,Wl,14,10,"div",29),y["\u0275\u0275elementStart"](45,"div",30),y["\u0275\u0275elementStart"](46,"div",31),y["\u0275\u0275elementStart"](47,"label",32),y["\u0275\u0275text"](48),y["\u0275\u0275pipe"](49,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](50,"input",33,34),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](52,"div",2),y["\u0275\u0275elementStart"](53,"div",35),y["\u0275\u0275elementStart"](54,"div",36),y["\u0275\u0275elementStart"](55,"div",37),y["\u0275\u0275elementStart"](56,"div",38),y["\u0275\u0275elementStart"](57,"table",39),y["\u0275\u0275elementStart"](58,"thead"),y["\u0275\u0275elementStart"](59,"tr"),y["\u0275\u0275elementStart"](60,"th",40),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),y["\u0275\u0275text"](61),y["\u0275\u0275pipe"](62,"translate"),y["\u0275\u0275template"](63,Yl,4,3,"ng-container",1),y["\u0275\u0275template"](64,Kl,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"th",40),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),y["\u0275\u0275text"](66),y["\u0275\u0275pipe"](67,"translate"),y["\u0275\u0275elementContainerStart"](68),y["\u0275\u0275element"](69,"i",41),y["\u0275\u0275template"](70,Xl,1,0,"i",42),y["\u0275\u0275template"](71,ed,1,0,"i",43),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](72,"th",40),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),y["\u0275\u0275text"](73),y["\u0275\u0275pipe"](74,"translate"),y["\u0275\u0275elementContainerStart"](75),y["\u0275\u0275element"](76,"i",41),y["\u0275\u0275template"](77,td,1,0,"i",42),y["\u0275\u0275template"](78,nd,1,0,"i",43),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](79,"th",40),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),y["\u0275\u0275text"](80),y["\u0275\u0275pipe"](81,"translate"),y["\u0275\u0275template"](82,ad,4,3,"ng-container",1),y["\u0275\u0275template"](83,cd,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](84,"th",40),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),y["\u0275\u0275text"](85),y["\u0275\u0275pipe"](86,"translate"),y["\u0275\u0275elementContainerStart"](87),y["\u0275\u0275element"](88,"i",41),y["\u0275\u0275template"](89,ld,1,0,"i",42),y["\u0275\u0275template"](90,dd,1,0,"i",43),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](91,pd,2,0,"th",1),y["\u0275\u0275elementStart"](92,"th"),y["\u0275\u0275text"](93,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](94,"th"),y["\u0275\u0275text"](95,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](96,"tbody"),y["\u0275\u0275template"](97,Cd,20,8,"tr",44),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](98,fd,12,7,"div",45),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](99,"ngx-spinner",46),y["\u0275\u0275elementStart"](100,"p",47),y["\u0275\u0275text"](101," Loading... "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,34,"Receiving Voucher Returns"),""),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](19,36,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,38,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](30,40,"EntryNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](37,42,"Search")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](41,44,"All")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(8805)),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](49,46,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](62,48,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](67,50,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](74,52,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](81,54,"custvendor")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](86,56,"value")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","NetValue"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(8808)),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngForOf",e.ReceiptList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0)}}let yd=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=a,this._translateGlobalService=o,this.spinner=s,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Receiving Voucher Returns"]).subscribe(e=>{this.title=e["Receiving Voucher Returns"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="89",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"])}OnView(e){this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/inventorytransiction/receivingvoucherreturns/${e.id}`,this._router.navigate([t])}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",o="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",s="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(c=>{this.cd.markForCheck(),t=`\n          <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                <thead>\n                  <tr style="background: #e9f1f5;color: cornflowerblue;">\n                    <th>${i}</th>\n                    <th>${r}</th>\n                    <th>${a}</th>\n                    <th>${o}</th>\n                    <th>${s}</th>\n\n                  </tr>\n                </thead>\n            <tbody>\n        `,c.map(e=>{var n;t+=`\n       <tr>\n        <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n        <td>${e.entry_no}</td>\n        <td>${e.entry_date}</td>\n        <td>${null!==(n="ar"==this.lang?e.customernamear:e.customername)&&void 0!==n?n:""}</td>\n        <td>${e.netvalue}</td>\n\n       </tr>\n       `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":t.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":t.netvalue}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,"Customer/Vendor":t.customernamear,Total:t.netvalue})}),this._Excel.exportAsExcelFile(e,"Receiving Voucher Returns")})}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}PrintPreview(e){let t=this.getReportfilter(e);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),this._authService.printJS(e.bytes)}),this.cd.markForCheck()}getReportfilter(e){const t=this._authService.userInfo().clientdatabase;let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_3_ReceivingVoucher"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alromaih")>-1?n="P_I_3_ReceivingVoucher_GL_WEB_alromaih":t.indexOf("bander")>-1||t.indexOf("win-69te7j9nfsu")>-1||t.indexOf("192.168.1.50")>-1||t.indexOf("localhost:1000")>-1?n="P_I_3_ReceivingVoucher_Bandar"+i:t.indexOf("darshgf")>-1?(n="P_I_3_ReceivingVoucher_GL_WEB_darshgf",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:i,DomainName:"",toEmail:"",Subject:"",boby:""}):t.indexOf("istones")>-1&&(n="P_S_52_Issue_GL_WEB_istones",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:i,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}),r}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](P.x),y["\u0275\u0275directiveInject"](O.z),y["\u0275\u0275directiveInject"](v.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["receivingvoucherretunrns"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,v.J])],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],["class","col-lg-6 col-md-7 col-xs-12 my-auto text-center-sm actionBtns",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped","table-accountdetails"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[3,"value"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn btn-success mb-0\n                    ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],["class","text-truncate",4,"ngIf"],[1,"warning","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-print"],[1,"primary","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"click"],[1,"ft-edit","mr-2"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Gl,4,3,"div",0),y["\u0275\u0275template"](1,vd,102,58,"div",1)),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(8804)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(8804)))},directives:[i.O5,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,E.K,x.Ro,w.N9],pipes:[l.X$],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#fff!important}.width-table-input[_ngcontent-%COMP%]{min-width:130px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();const bd=["RForm"];function Sd(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",3),y["\u0275\u0275elementStart"](1,"h1",4),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Rd(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",81),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DocumentAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function xd(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",82),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PrintPreview(0)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function Md(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",83),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DupilcateAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function Id(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",83),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](4).DeleteAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Pd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,Id,3,4,"button",85),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function Od(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"button",83),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPrint()}),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",83),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PrintPreview(1)}),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"email-popup",84),y["\u0275\u0275listener"]("_savedemailobj",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).sendEmail(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](8,Md,3,4,"button",85),y["\u0275\u0275template"](9,Pd,2,1,"div",1),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,7,"Print")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,9,"Printpdf")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("entryno",e._Receipt.entry_no),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(8805)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(8806))}}function Ed(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text,"")}}function wd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text_ar,"")}}function kd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275template"](1,Ed,2,1,"span",1),y["\u0275\u0275template"](2,wd,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Dd(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function Bd(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function Ld(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Fd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Nd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275template"](1,Ld,2,1,"span",1),y["\u0275\u0275template"](2,Fd,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Vd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function qd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function Td(e,t){if(1&e&&(y["\u0275\u0275template"](0,Vd,2,1,"div",1),y["\u0275\u0275template"](1,qd,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Ad(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Gd(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Ud(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function $d(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function jd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275template"](1,Ud,2,1,"span",1),y["\u0275\u0275template"](2,$d,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const zd=function(e,t){return{"invalid-data":e,"valid-data":t}};function Wd(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",33),y["\u0275\u0275elementStart"](1,"div",24),y["\u0275\u0275elementStart"](2,"label",88),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",28),y["\u0275\u0275text"](6,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"select",89,90),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.currency_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).changeCurrency(t)}),y["\u0275\u0275template"](9,Ad,2,1,"option",91),y["\u0275\u0275template"](10,Gd,2,1,"option",91),y["\u0275\u0275template"](11,jd,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,6,"Currency")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",n._Receipt.currency_id)("ngClass",y["\u0275\u0275pureFunction2"](8,zd,e.invalid&&t.submitted,e.valid&&t.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",n.CurrencyList)}}function Jd(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",33),y["\u0275\u0275elementStart"](1,"div",24),y["\u0275\u0275elementStart"](2,"label",93),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",28),y["\u0275\u0275text"](6,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"input",94,95),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.currency_rate=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).Calculate_Total_Tax_Net()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,4,"ExchangeRate")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",n._Receipt.currency_rate)("readonly",1==(null==n._CurrencySelected?null:n._CurrencySelected.basecurrency))("ngClass",y["\u0275\u0275pureFunction2"](6,zd,e.invalid&&t.submitted,e.valid&&t.submitted))}}function Qd(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",73),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Yd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Hd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Zd(e,t){if(1&e&&(y["\u0275\u0275template"](0,Yd,2,1,"div",1),y["\u0275\u0275template"](1,Hd,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Kd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Xd(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function ep(e,t){if(1&e&&(y["\u0275\u0275template"](0,Kd,2,1,"div",1),y["\u0275\u0275template"](1,Xd,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const tp=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function np(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",130),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,tp,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function ip(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",130),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,tp,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.itemname_ar)}}function rp(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ap(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function op(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function sp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function cp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",131),y["\u0275\u0275template"](1,op,2,1,"span",1),y["\u0275\u0275template"](2,sp,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function lp(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",132,133),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("step",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack),y["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),y["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id))("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](9,zd,e.invalid&&r.submitted,e.valid&&r.submitted))}}function dp(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1,"Maximum number can be 100 % Discount"),y["\u0275\u0275elementEnd"]())}function pp(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1,"\u0623\u0643\u0628\u0631 \u0646\u0633\u0628\u0629 \u0647\u0649 100% \u062e\u0635\u0645"),y["\u0275\u0275elementEnd"]())}function hp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",134),y["\u0275\u0275template"](1,dp,2,0,"span",1),y["\u0275\u0275template"](2,pp,2,0,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}const mp=function(e){return{item_id:e}};function up(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",104),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"p-autoComplete",105,106),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](5),r=y["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275template"](7,Zd,2,2,"ng-template",107),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"p-autoComplete",108,109),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](10),r=y["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).onClearItems(t)}),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275template"](12,ep,2,2,"ng-template",110),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"td",111),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),y["\u0275\u0275template"](14,np,2,5,"div",112),y["\u0275\u0275template"](15,ip,2,5,"div",112),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"select",113,114),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),y["\u0275\u0275template"](19,rp,2,1,"option",91),y["\u0275\u0275template"](20,ap,2,1,"option",91),y["\u0275\u0275template"](21,cp,3,4,"option",115),y["\u0275\u0275pipe"](22,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,lp,3,12,"td",1),y["\u0275\u0275elementStart"](24,"td"),y["\u0275\u0275elementStart"](25,"input",116,117),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](27,"td"),y["\u0275\u0275elementStart"](28,"input",118,119),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("ngModelChange",function(e){return t.$implicit.price=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"td"),y["\u0275\u0275elementStart"](31,"input",120,121),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("ngModelChange",function(e){return t.$implicit.discount_percent=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](33,hp,3,2,"div",122),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](34,"td"),y["\u0275\u0275elementStart"](35,"input",123,124),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t,"value")})("ngModelChange",function(e){return t.$implicit.discount_value=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](37,"td"),y["\u0275\u0275elementStart"](38,"input",125),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(t)})("ngModelChange",function(e){return t.$implicit.total=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"td"),y["\u0275\u0275elementStart"](40,"a",126),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteItems(t)}),y["\u0275\u0275element"](41,"i",127),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"td",75),y["\u0275\u0275elementStart"](43,"input",128,129),y["\u0275\u0275listener"]("ngModelChange",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).Checkwarrantydate(t,n)}),y["\u0275\u0275pipe"](45,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=t.index,r=y["\u0275\u0275reference"](18),a=y["\u0275\u0275reference"](26),o=y["\u0275\u0275reference"](29),s=y["\u0275\u0275reference"](32),c=y["\u0275\u0275reference"](36),l=y["\u0275\u0275reference"](44);y["\u0275\u0275nextContext"](2);const d=y["\u0275\u0275reference"](4),p=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i+1),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),y["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.canchangestore))("suggestions",p.StoreList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](6,56,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),y["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",p.ItemsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](11,58,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=p.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==p.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](66,zd,r.invalid&&d.submitted,r.valid&&d.submitted)),y["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=p.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==p.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](22,60,p.ItemUnitsList,y["\u0275\u0275pureFunction1"](69,mp,null==e?null:e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==p.CashCustomerSetting?null:p.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",y["\u0275\u0275pureFunction2"](71,zd,a.invalid&&d.submitted,a.valid&&d.submitted)),y["\u0275\u0275advance"](3),y["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),y["\u0275\u0275property"]("ngModel",e.price)("Min",0)("CheckMin",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](74,zd,o.invalid&&d.submitted,o.valid&&d.submitted)),y["\u0275\u0275advance"](3),y["\u0275\u0275propertyInterpolate1"]("name","item_discount_percent",n,""),y["\u0275\u0275property"]("Min",0)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.discount_percent)("readonly",!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.showreceiptitemdiscount))("ngClass",y["\u0275\u0275pureFunction2"](77,zd,s.invalid&&d.submitted||(null==s.errors?null:s.errors.customMax),s.valid&&d.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==s.errors?null:s.errors.customMax),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_discount_value",n,""),y["\u0275\u0275property"]("ngModel",e.discount_value)("readonly",!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.showreceiptitemdiscount))("Min",0)("CheckMin",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](80,zd,c.invalid&&d.submitted,c.valid&&d.submitted)),y["\u0275\u0275advance"](3),y["\u0275\u0275propertyInterpolate1"]("name","item_total",n,""),y["\u0275\u0275property"]("ngModel",e.total),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden",!p.ShowWarrantyDateCols),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","warrantydate",n,""),y["\u0275\u0275property"]("hidden",!e.haswarrenty)("ngModel",y["\u0275\u0275pipeBind2"](45,63,e.warrantydate,"yyyy-MM-dd"))("required",e.haswarrenty)("ngClass",y["\u0275\u0275pureFunction2"](83,zd,l.invalid&&d.submitted,l.valid&&d.submitted))}}const gp=function(e){return{"table-for-autocomplete":e}};function _p(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",96),y["\u0275\u0275elementStart"](1,"div",70),y["\u0275\u0275elementStart"](2,"div",97),y["\u0275\u0275elementStart"](3,"table",72),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275element"](6,"th"),y["\u0275\u0275elementStart"](7,"th",98),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",73),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"th",73),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"th",99),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,Qd,3,3,"th",100),y["\u0275\u0275elementStart"](20,"th",73),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"th",73),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"th",73),y["\u0275\u0275text"](27),y["\u0275\u0275pipe"](28,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"th",73),y["\u0275\u0275text"](30),y["\u0275\u0275pipe"](31,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"th",73),y["\u0275\u0275text"](33),y["\u0275\u0275pipe"](34,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](35,"th",101),y["\u0275\u0275text"](36,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](37,"th",74),y["\u0275\u0275text"](38),y["\u0275\u0275pipe"](39,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"tbody"),y["\u0275\u0275template"](41,up,46,86,"tr",102),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"button",103),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddItems()}),y["\u0275\u0275text"](43),y["\u0275\u0275pipe"](44,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](38,gp,e.isType)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,16,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,18,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,20,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,22,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,24,"qty")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,26,"Price")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](28,28,"Disc%")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](31,30,"Discount")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](34,32,"Total")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden",!e.ShowWarrantyDateCols),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](39,34,"WarrantyDate")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](44,36,"Add")," ")}}function Cp(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function fp(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",87),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function vp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function yp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function bp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275template"](1,vp,2,1,"span",1),y["\u0275\u0275template"](2,yp,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Sp(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Rp(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function xp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function Mp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function Ip(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275template"](1,xp,2,1,"span",1),y["\u0275\u0275template"](2,Mp,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Pp(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",136),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),y["\u0275\u0275template"](3,Cp,2,0,"option",31),y["\u0275\u0275template"](4,fp,2,0,"option",31),y["\u0275\u0275template"](5,bp,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"select",136),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](8,Sp,2,1,"option",91),y["\u0275\u0275template"](9,Rp,2,1,"option",91),y["\u0275\u0275template"](10,Ip,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275elementStart"](12,"input",137,138),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"td"),y["\u0275\u0275elementStart"](15,"a",139),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),y["\u0275\u0275element"](16,"i",140),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"a",141),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),y["\u0275\u0275element"](19,"i",142),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"td"),y["\u0275\u0275elementStart"](21,"a",126),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),y["\u0275\u0275element"](22,"i",127),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),y["\u0275\u0275property"]("ngModel",e.branch_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.BranchList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no),y["\u0275\u0275advance"](3),y["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function Op(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",96),y["\u0275\u0275elementStart"](1,"div",70),y["\u0275\u0275elementStart"](2,"div",71),y["\u0275\u0275elementStart"](3,"table",72),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",73),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",73),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",73),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",101),y["\u0275\u0275text"](16,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"th",101),y["\u0275\u0275text"](18,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"th",101),y["\u0275\u0275text"](20,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"tbody"),y["\u0275\u0275template"](22,Pp,23,13,"tr",135),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"button",103),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,5,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function Ep(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function wp(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function kp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Dp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Bp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275template"](1,kp,2,1,"span",1),y["\u0275\u0275template"](2,Dp,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Lp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function Fp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function Np(e,t){if(1&e&&(y["\u0275\u0275template"](0,Lp,2,1,"div",1),y["\u0275\u0275template"](1,Fp,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Vp(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"p-autoComplete",169,170),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](2);return y["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.supplier_name=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).SupplierSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(t)}),y["\u0275\u0275template"](3,Np,2,2,"ng-template",40),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e._Receipt.supplier_name)("disabled",!e.chk_ChangeSupplier)("suggestions",e.CustomerAccountsList)}}function qp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function Tp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function Ap(e,t){if(1&e&&(y["\u0275\u0275template"](0,qp,2,1,"div",1),y["\u0275\u0275template"](1,Tp,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Gp(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"p-autoComplete",171,170),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](2);return y["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.supplier_namear=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).SupplierSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(t)}),y["\u0275\u0275template"](3,Ap,2,2,"ng-template",40),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("disabled",!e.chk_ChangeSupplier)("ngModel",e._Receipt.supplier_namear)("suggestions",e.CustomerAccountsList)}}function Up(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function $p(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function jp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.termname,"")}}function zp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.termname_ar,"")}}function Wp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275template"](1,jp,2,1,"span",1),y["\u0275\u0275template"](2,zp,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Jp(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Qp(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Yp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Hp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Zp(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275template"](1,Yp,2,1,"span",1),y["\u0275\u0275template"](2,Hp,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const Kp=function(){return{standalone:!0}};function Xp(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",3),y["\u0275\u0275elementStart"](1,"div",33),y["\u0275\u0275elementStart"](2,"div",24),y["\u0275\u0275elementStart"](3,"label",143),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"select",144,145),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.shipmentterm_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).changeshipmentterm(t)}),y["\u0275\u0275template"](8,Ep,2,1,"option",91),y["\u0275\u0275template"](9,wp,2,1,"option",91),y["\u0275\u0275template"](10,Bp,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"div",146),y["\u0275\u0275elementStart"](12,"div",24),y["\u0275\u0275elementStart"](13,"label",147),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"input",148),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).chk_ChangeSupplier=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"label",149),y["\u0275\u0275elementStart"](18,"span"),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,Vp,4,3,"ng-container",1),y["\u0275\u0275template"](22,Gp,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"div",146),y["\u0275\u0275elementStart"](24,"div",24),y["\u0275\u0275elementStart"](25,"label",150),y["\u0275\u0275text"](26),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"input",151),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.deliverylocation=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"div",3),y["\u0275\u0275elementStart"](30,"div",33),y["\u0275\u0275elementStart"](31,"div",24),y["\u0275\u0275elementStart"](32,"label",152),y["\u0275\u0275text"](33),y["\u0275\u0275pipe"](34,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](35,"select",153,154),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.paymentterm_id=t}),y["\u0275\u0275template"](37,Up,2,1,"option",91),y["\u0275\u0275template"](38,$p,2,1,"option",91),y["\u0275\u0275template"](39,Wp,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"div",146),y["\u0275\u0275elementStart"](41,"div",24),y["\u0275\u0275elementStart"](42,"label",155),y["\u0275\u0275text"](43),y["\u0275\u0275pipe"](44,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](45,"input",156),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.contactedperson=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](46,"div",146),y["\u0275\u0275elementStart"](47,"div",24),y["\u0275\u0275elementStart"](48,"label",157),y["\u0275\u0275text"](49),y["\u0275\u0275pipe"](50,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"input",158,159),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.planneddeliverydate=t}),y["\u0275\u0275pipe"](53,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"div",3),y["\u0275\u0275elementStart"](55,"div",33),y["\u0275\u0275elementStart"](56,"div",24),y["\u0275\u0275elementStart"](57,"label",160),y["\u0275\u0275text"](58),y["\u0275\u0275pipe"](59,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"select",161,162),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.courierid=t}),y["\u0275\u0275template"](62,Jp,2,1,"option",91),y["\u0275\u0275template"](63,Qp,2,1,"option",91),y["\u0275\u0275template"](64,Zp,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"div",146),y["\u0275\u0275elementStart"](66,"div",24),y["\u0275\u0275elementStart"](67,"label",163),y["\u0275\u0275text"](68),y["\u0275\u0275pipe"](69,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](70,"textarea",164,165),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.othernotes=t}),y["\u0275\u0275text"](72,"                            "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](73,"div",146),y["\u0275\u0275elementStart"](74,"div",24),y["\u0275\u0275elementStart"](75,"label",166),y["\u0275\u0275text"](76),y["\u0275\u0275pipe"](77,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](78,"input",167,168),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.actualdeliverydate=t}),y["\u0275\u0275pipe"](80,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](5,32,"Shipment Term")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.shipmentterm_id),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.ShipmentTermList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](15,34,"Supplier Account")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("checked",e.chk_ChangeSupplier)("ngModelOptions",y["\u0275\u0275pureFunction0"](58,Kp))("ngModel",e.chk_ChangeSupplier),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](20,36,"Change")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](27,38,"Delivery Location")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.deliverylocation),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](34,40,"Payment Term")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.paymentterm_id),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.PaymentTermsList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](44,42,"Contacted Person")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.contactedperson),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](50,44,"Planned Delivery Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](53,46,e._Receipt.planneddeliverydate,"yyyy-MM-dd")),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](59,49,"Courier")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.courierid),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.CourierList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](69,51,"Notes")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.othernotes),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](77,53,"Actual Delivery Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](80,55,e._Receipt.actualdeliverydate,"yyyy-MM-dd"))}}function eh(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",96),y["\u0275\u0275elementStart"](1,"div",70),y["\u0275\u0275elementStart"](2,"Signature",172),y["\u0275\u0275listener"]("signatureoutput",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("signature",e._Receipt.signature)}}function th(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function nh(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ih(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function rh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function ah(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275template"](1,ih,2,1,"span",1),y["\u0275\u0275template"](2,rh,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function oh(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",176),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](3,th,2,1,"option",91),y["\u0275\u0275template"](4,nh,2,1,"option",91),y["\u0275\u0275template"](5,ah,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"input",177,178),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"td",179),y["\u0275\u0275elementStart"](10,"a",180),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenReceiptHistory(t)}),y["\u0275\u0275element"](11,"i",142),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","historyReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","historyReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no)}}function sh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",173),y["\u0275\u0275elementStart"](1,"div",174),y["\u0275\u0275elementStart"](2,"div",175),y["\u0275\u0275elementStart"](3,"table",72),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",73),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",73),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",73),y["\u0275\u0275text"](13,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"tbody"),y["\u0275\u0275template"](15,oh,12,7,"tr",135),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,3,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,5,"EntryNo")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e.ReceiptHistoryList)}}function ch(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"Item-StoreQty",181,182),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function lh(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"div",5),y["\u0275\u0275elementStart"](2,"div",3),y["\u0275\u0275elementStart"](3,"form",6,7),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](4);return y["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),y["\u0275\u0275elementStart"](5,"div",8),y["\u0275\u0275elementStart"](6,"div",9),y["\u0275\u0275elementStart"](7,"div",10),y["\u0275\u0275elementStart"](8,"div",11),y["\u0275\u0275elementStart"](9,"h6",12),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",3),y["\u0275\u0275elementStart"](13,"div",13),y["\u0275\u0275elementStart"](14,"button",14),y["\u0275\u0275element"](15,"i",15),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"button",16),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateNewAction()}),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,Rd,3,4,"button",17),y["\u0275\u0275template"](22,xd,3,4,"button",18),y["\u0275\u0275elementStart"](23,"button",19),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",20),y["\u0275\u0275elementStart"](27,"button",21),y["\u0275\u0275text"](28),y["\u0275\u0275pipe"](29,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"div",22),y["\u0275\u0275template"](31,Od,10,11,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](32,"hr"),y["\u0275\u0275elementStart"](33,"div",3),y["\u0275\u0275elementStart"](34,"div",23),y["\u0275\u0275elementStart"](35,"div",24),y["\u0275\u0275elementStart"](36,"label",25),y["\u0275\u0275text"](37),y["\u0275\u0275pipe"](38,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"select",26),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.customersalesprice=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changesalesprice(t)}),y["\u0275\u0275template"](40,kd,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](41,"div",23),y["\u0275\u0275elementStart"](42,"div",24),y["\u0275\u0275elementStart"](43,"label",25),y["\u0275\u0275text"](44),y["\u0275\u0275pipe"](45,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](46,"span",28),y["\u0275\u0275text"](47,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](48,"select",29,30),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeBranch(t)}),y["\u0275\u0275template"](50,Dd,2,0,"option",31),y["\u0275\u0275template"](51,Bd,2,0,"option",31),y["\u0275\u0275template"](52,Nd,3,3,"option",32),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](53,"div",33),y["\u0275\u0275elementStart"](54,"div",24),y["\u0275\u0275elementStart"](55,"label",34),y["\u0275\u0275text"](56),y["\u0275\u0275pipe"](57,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"span",28),y["\u0275\u0275text"](59,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"input",35,36),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](62,"div",3),y["\u0275\u0275elementStart"](63,"div",33),y["\u0275\u0275elementStart"](64,"div",24),y["\u0275\u0275elementStart"](65,"label",37),y["\u0275\u0275text"](66),y["\u0275\u0275pipe"](67,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](68,"span",28),y["\u0275\u0275text"](69,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](70,"p-autoComplete",38,39),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](71);return y["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onClearVendor(t)}),y["\u0275\u0275pipe"](73,"translate"),y["\u0275\u0275template"](74,Td,2,2,"ng-template",40),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](75,"div",33),y["\u0275\u0275elementStart"](76,"div",24),y["\u0275\u0275elementStart"](77,"label",41),y["\u0275\u0275text"](78),y["\u0275\u0275pipe"](79,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](80,"input",42,43),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](82,"div",33),y["\u0275\u0275elementStart"](83,"div",24),y["\u0275\u0275elementStart"](84,"label",44),y["\u0275\u0275text"](85),y["\u0275\u0275pipe"](86,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](87,"input",45,46),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),y["\u0275\u0275pipe"](89,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](90,"div",33),y["\u0275\u0275elementStart"](91,"div",24),y["\u0275\u0275elementStart"](92,"label",44),y["\u0275\u0275text"](93),y["\u0275\u0275pipe"](94,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](95,"input",47,48),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](97,"div",3),y["\u0275\u0275template"](98,Wd,12,11,"div",49),y["\u0275\u0275template"](99,Jd,9,9,"div",49),y["\u0275\u0275elementStart"](100,"div",33),y["\u0275\u0275elementStart"](101,"div",24),y["\u0275\u0275elementStart"](102,"label",50),y["\u0275\u0275text"](103),y["\u0275\u0275pipe"](104,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](105,"input",51,52),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](107,"div",33),y["\u0275\u0275elementStart"](108,"div",24),y["\u0275\u0275elementStart"](109,"label",53),y["\u0275\u0275text"](110),y["\u0275\u0275pipe"](111,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](112,"input",54,55),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.memo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](114,"div",3),y["\u0275\u0275elementStart"](115,"div",33),y["\u0275\u0275elementStart"](116,"div",24),y["\u0275\u0275elementStart"](117,"label",56),y["\u0275\u0275text"](118),y["\u0275\u0275pipe"](119,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](120,"input",57,58),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.costing_rate=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](122,"div",59),y["\u0275\u0275elementStart"](123,"div",60),y["\u0275\u0275elementStart"](124,"div",61),y["\u0275\u0275elementStart"](125,"ul",62,63),y["\u0275\u0275listener"]("activeIdChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().activeNav=t}),y["\u0275\u0275elementStart"](127,"li",64),y["\u0275\u0275elementStart"](128,"a",65),y["\u0275\u0275text"](129),y["\u0275\u0275pipe"](130,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](131,_p,45,40,"ng-template",66),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](132,"li",67),y["\u0275\u0275elementStart"](133,"a",65),y["\u0275\u0275text"](134),y["\u0275\u0275pipe"](135,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](136,Op,26,13,"ng-template",66),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](137,"li",67),y["\u0275\u0275elementStart"](138,"a",65),y["\u0275\u0275text"](139),y["\u0275\u0275pipe"](140,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](141,Xp,81,59,"ng-template",66),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](142,"li",67),y["\u0275\u0275elementStart"](143,"a",65),y["\u0275\u0275text"](144),y["\u0275\u0275pipe"](145,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](146,eh,3,1,"ng-template",66),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](147,"li",67),y["\u0275\u0275elementStart"](148,"a",65),y["\u0275\u0275text"](149),y["\u0275\u0275pipe"](150,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](151,sh,16,7,"ng-template",66),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](152,"div",68),y["\u0275\u0275elementStart"](153,"div",3),y["\u0275\u0275elementStart"](154,"div",69),y["\u0275\u0275elementStart"](155,"div",70),y["\u0275\u0275elementStart"](156,"div",71),y["\u0275\u0275elementStart"](157,"table",72),y["\u0275\u0275elementStart"](158,"thead"),y["\u0275\u0275elementStart"](159,"tr"),y["\u0275\u0275element"](160,"th",73),y["\u0275\u0275elementStart"](161,"th",74),y["\u0275\u0275text"](162),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](163,"th",73),y["\u0275\u0275text"](164),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](165,"tbody"),y["\u0275\u0275elementStart"](166,"tr"),y["\u0275\u0275elementStart"](167,"td"),y["\u0275\u0275text"](168),y["\u0275\u0275pipe"](169,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](170,"td",75),y["\u0275\u0275elementStart"](171,"input",76),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](172,"td"),y["\u0275\u0275elementStart"](173,"input",77),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalue=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](174,"tr"),y["\u0275\u0275elementStart"](175,"td"),y["\u0275\u0275text"](176),y["\u0275\u0275pipe"](177,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](178,"td"),y["\u0275\u0275elementStart"](179,"input",78),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.qtotal=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](180,"tr"),y["\u0275\u0275elementStart"](181,"td"),y["\u0275\u0275text"](182),y["\u0275\u0275pipe"](183,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](184,"td"),y["\u0275\u0275elementStart"](185,"input",79),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.totalitem=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](186,"div",80),y["\u0275\u0275template"](187,ch,3,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](4),t=y["\u0275\u0275reference"](49),n=y["\u0275\u0275reference"](61),i=y["\u0275\u0275reference"](72),r=y["\u0275\u0275reference"](88),a=y["\u0275\u0275reference"](126),o=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](10),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,84,"Receiving Voucher Returns")),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("disabled",o.VouchersLinkedCount>0||1==o.ShowModeReceipt||1==o.DuringSaveDisable||o.ReceiptID>0&&!o.checkRoleParms(8808)||0==o.ReceiptID&&!o.checkRoleParms(8805)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](17,86,"Save")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275attribute"]("disabled",!o.checkRoleParms(8805)||1==o.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](20,88,"CreateNew")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",o.ReceiptID>0&&0==o.VouchersLinkedCount),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",o.ReceiptID>0),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==o.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,90,"Exit")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](29,92,"Action Menu")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",o.ReceiptID>0),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](38,94,"CostPrice")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.customersalesprice),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",o.CustomerSalesPriceList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](45,96,"Branch")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",o._Receipt.branch_id)("ngClass",y["\u0275\u0275pureFunction2"](135,zd,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",o.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=o.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==o.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",o.BranchList)("ngForTrackBy",o.customTrackBy),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](57,98,"Entry#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("stepallow",1)("ngModel",o._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==o.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](138,zd,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](67,100,"Vendor#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",o._Receipt.cashcustomer_vendor_code)("suggestions",o.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](73,102,"NoResultsFound"))("forceSelection",!0)("ngClass",y["\u0275\u0275pureFunction2"](141,zd,i.invalid&&e.submitted,i.valid&&e.submitted)),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](79,104,"Vendor Name")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.cashcustomer_vendor_name)("readonly",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](86,106,"Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](89,108,o._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==o.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](144,zd,r.invalid&&e.submitted||0==o.ValidPeriod,r.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](94,111,"Time")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==o.LockedRecepit)("ngModel",o._Receipt.entry_time),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.enablemulticurrency),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.enablemulticurrency),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](104,113,"ReferenceNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.reference_no),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](111,115,"Memo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.memo),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](119,117,"CostingRate")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.costing_rate)("readonly",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("destroyOnHide",!1)("activeId",o.activeNav),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngbNavItem",1),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](130,119,"Items")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",2),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](135,121,"LinkedReceipt")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",3),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](140,123,"Other Details")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",4),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](145,125,"Signature")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",5),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](150,127,"History")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavOutlet",a),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" Total - ",null==o._CurrencySelected?null:o._CurrencySelected.currencysymbol," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" Total - ",null==o._BaseCurrency?null:o._BaseCurrency.currencysymbol," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](169,129,"Net")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",o._Receipt.netvalueforeign)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.netvalue)("readonly",!0),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](177,131,"totalqty")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",o._Receipt.qtotal),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](183,133,"totalitem")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",o._Receipt.totalitem),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",o.itemqtyview)}}function dh(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ph(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",92),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function hh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function mh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function uh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275template"](1,hh,2,1,"span",1),y["\u0275\u0275template"](2,mh,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function gh(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",199),y["\u0275\u0275elementStart"](1,"label",200),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",201),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DescriptionItem.salesmanid=t}),y["\u0275\u0275template"](5,dh,2,1,"option",91),y["\u0275\u0275template"](6,ph,2,1,"option",91),y["\u0275\u0275template"](7,uh,3,3,"option",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,5,"ServiceSalesMan")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.DescriptionItem.salesmanid),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.SalesManlist)}}const _h=function(){return{height:"150px"}};function Ch(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",183),y["\u0275\u0275elementStart"](1,"h6",184),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",185),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](5,"span",186),y["\u0275\u0275text"](6,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",187),y["\u0275\u0275elementStart"](8,"div",188),y["\u0275\u0275elementStart"](9,"label",189),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"input",190,191),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().DescriptionItem.customitemname=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"div",192),y["\u0275\u0275elementStart"](15,"div",188),y["\u0275\u0275elementStart"](16,"quill-editor",193),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().DescriptionItem.detailshtml=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](17,gh,8,7,"div",194),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"div",195),y["\u0275\u0275elementStart"](19,"button",196),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SaveNotes()}),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"button",197),y["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),y["\u0275\u0275element"](23,"i",198),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,10,"Description")),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](11,12,"Item")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.DescriptionItem.customitemname),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("styles",y["\u0275\u0275pureFunction0"](18,_h))("ngModel",e.DescriptionItem.detailshtml)("ngModelOptions",y["\u0275\u0275pureFunction0"](19,Kp))("modules",e.quillConfig),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.IsSalesManImplemented),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,14,"Save")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](25,16,"Cancel")," ")}}const fh=function(){return[8804,8805,8806,8808]};let vh=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u,g,_,f){this._cashsalesService=e,this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this.cd=r,this.toastr=a,this._router=o,this._generalService=s,this.translate=c,this._translateGlobalService=l,this._activeRoute=d,this.modalService=p,this.spinner=h,this._authService=m,this._printService=u,this._VerifyReportsService=g,this.datepipe=_,this.location=f,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.CustomerTypeID=2,this.activeNav=1,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=89,this.Transaction_move=0,this._Receipt=new C.tY,this._ReceiptOriginal=new C.tY,this._Receipt_h_Edit=new C.Iu,this._CashSalesDetailsReceipt=new C.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new C.tH,this._LinkedReceipt=new C.Cb,this._ReceiptMultiPayment=new C.pm,this.ShowWarrantyDateCols=!1,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.MultiPaymentypeShow=!1,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.PaymentTypeList=[],this.MultiPaymentMethodsList=[],this.CustomerAccountsList=[],this.CashCustomerList=[],this.EmployeesList=[],this.SalesTypesList=[],this.CostCenterList=[],this.SalesManlist=[],this.ShipmentTermList=[],this.CourierList=[],this.ReceiptCodeList=[],this.PaymentTermsList=[],this.TransactionAccountList=[],this.CarsList=[],this.DriversList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.ApprovalStatusList=[{id:1,name:"New",name_ar:"\u062c\u062f\u064a\u062f"},{id:2,name:"Approved",name_ar:"\u0645\u0642\u0628\u0648\u0644"},{id:3,name:"Disapproved",name_ar:"\u0645\u0631\u0641\u0648\u0636"},{id:4,name:"Invoiced",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0641\u0627\u062a\u0648\u0631\u0647"},{id:5,name:"Sales Order",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0633\u0646\u062f \u0628\u064a\u0639"}],this.reporturl="",this.reportdomainUrl=xe.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.LinkedVoucherIsPostedMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopInventoryErrorMsg="",this.RelatedwithSerialsOrBatches="",this.timeout=null,this.chk_ChangeSupplier=!1,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.ReceiptHistoryList=[],d.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods(),this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","StopInventoryErrorMsg","CloseFinancialPeriodMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","NOComponents","Receiving Voucher Returns","SaveMsg","No","swalNewActionTitle","swalNewActionText","CostPostingPeriodMessage","LinkedVoucherIsPostedMsg","RelatedwithSerialsOrBatches","cantNotDuplicateItem"]).subscribe(e=>{document.title=e["Receiving Voucher Returns"],this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.No=e.No,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.MultiPayErrorMsg=e.MultiPayErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.Close=e.Close,this.DeliverDateMsg=e.DeliverDateMsg,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.NOComponents=e.NOComponents,this.SaveMsg=e.SaveMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.LinkedVoucherIsPostedMsg=e.LinkedVoucherIsPostedMsg,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.cantNotDuplicateItem=e.cantNotDuplicateItem})})}SetInitialMethods(){this._Receipt=new C.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetSalesTypesList(),this.GetShipmentTermList(),this.GetCourierList(),this.GetAllPaymentTermsList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,be.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt(),this.cd.markForCheck()})}ngOnInit(){}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),this.CustomerTypeID=2,setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{if(null!=e.receipt){if(this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.qtotal=e.items.qty,this._Receipt.totalitem=e.items.length,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this.PriceListItemsOnly=e.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:e.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.cashcustomername_ar:e.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this.Oldsupplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.supplier_name={name:e.receipt.supplier_name},this._Receipt.supplier_namear={name_ar:e.receipt.supplier_namear},this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.allowqtyselectforitem=!0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptmultipayment=e.receiptmultipayment,this.ReceiptHistoryList=e.receipthistory,null==this._Receipt.qtotal||null==this._Receipt.totalitem){let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=e.items.length}this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),this.CheckShowWarrantyDateCols(),this.CustomerTypeID=2,this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this.VouchersLinkedCount>0?(this.ShowModeReceipt=!0,this.ShowPopUpLinkedVoucherIsPosted()):1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck()}})}CheckPre_SaveReceipt(e){if(e.form.valid){if(0==this.ValidPeriod)return void this.ShowPopUpFinancialPeriod();if(0==this.deliverdateValid)return void this.toastr.error(this.DeliverDateMsg);if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++)if(null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{if(!(this._Receipt.details[e].qty>0))return void this.toastr.error(this.qtyZeroErrorSaveMsg);0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();this.CheckBalanceForItemInStore(0,!0,!0)}else if("INVALID"==e.form.controls.CreditAccount.status)return}SaveReceipt(){if(this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0;for(let e=0;e<this._Receipt.linkedreceipts.length;e++)0==this._Receipt.linkedreceipts[e].fire&&(this._Receipt.linkedreceipts.splice(e,1),e--);""==this._Receipt.customerdeliverdate||null==this._Receipt.customerdeliverdate||""==this._Receipt.entry_time||null==this._Receipt.entry_time||""!=this._Receipt.customerdeliverdate_time&&null!=this._Receipt.customerdeliverdate_time||(this._Receipt.customerdeliverdate_time=this._Receipt.entry_time),this.chk_ChangeSupplier||this._Receipt.supplieraccount_id!=this.Oldsupplieraccount_id&&(this._Receipt.supplieraccount_id=this._Receipt.vendor_id),null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.quotationstatusid=1,this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/"+this.ReceiptID]).then(()=>{window.location.reload()})})):(this._Receipt_h_Edit=new C.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e&&this.ChangeEntryDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&ye().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}changesalesprice(e){let t=JSON.parse(localStorage.getItem("ReceivePricePolicy"));null!=t&&null!=t&&localStorage.removeItem("ReceivePricePolicy"),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?(this._Receipt.details=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.GetDefaultStoreCostCenterByBranch(!0,!1)):this._Receipt.customersalesprice=this.originalSalesPrice,localStorage.setItem("ReceivePricePolicy",JSON.stringify({SalesPricePolicy:this._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("ReceivePricePolicy",JSON.stringify({SalesPricePolicy:this._Receipt.customersalesprice})))}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetDefaultStoreCostCenterByBranch(e=!1,t=!0){1==t&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==e&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid&&(0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}),1==t&&this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))),this.cd.markForCheck()})}GetSalesTypesList(){this._ReceiptSharedService.GetSalesTypeBySubId(this.subsidiaryID).subscribe(e=>{this.SalesTypesList=e,this.cd.markForCheck()})}GetShipmentTermList(){this._cashsalesService.GetAllShipmentTermBySubSidary(this.subsidiaryID).subscribe(e=>{this.ShipmentTermList=e,this.cd.markForCheck()})}GetCourierList(){this._cashsalesService.AllActiveCourierBySubsidiaryID(this.subsidiaryID).subscribe(e=>{this.CourierList=e,this.cd.markForCheck()})}GetAllPaymentTermsList(){this._cashsalesService.GetAllPaymentTermsList().subscribe(e=>{this.PaymentTermsList=e,this.cd.markForCheck()})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e,this.SetCustomerSalesPriceList()})}SetCustomerSalesPriceList(){if(this.CustomerSalesPriceList=[{id:1,text:"Price1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Last Price",text_ar:"\u0622\u062e\u0631 \u0633\u0639\u0631"}],0==this.ReceiptID){let e=JSON.parse(localStorage.getItem("ReceivePricePolicy"));this._Receipt.customersalesprice=null!=e&&null!=e?parseInt(e.SalesPricePolicy):this.CustomerSalesPriceList[0].id}this.originalSalesPrice=this._Receipt.customersalesprice}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeshipmentterm(e){}SupplierSelectEvent(e){this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}}changeCurrency(e){if(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.Calculate_Total_Tax_Net(),this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(let e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod();this.cd.markForCheck()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;ye().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){ye().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpLinkedVoucherIsPosted(){ye().fire({title:this.warning,text:this.LinkedVoucherIsPostedMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){console.log(e),1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?ye().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?(this._Receipt.details=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,this.chk_ChangeSupplier||(this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}),null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),this.GetDefaultStoreCostCenterByBranch(!0,!1)):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,this.chk_ChangeSupplier||(this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}),null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),this.GetDefaultStoreCostCenterByBranch(!1,!1))}):(this.chk_ChangeSupplier||(this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}),this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,this.GetDefaultStoreCostCenterByBranch(!1,!1))}GetCustomerAccountsList(e=""){this._CustomerService.GetVendorAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}onClearVendor(){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}onFocusInCashCustomer(e){this.GetCashCustomerList("")}CashCustomerChangeSearch(e){this.GetCashCustomerList(e.query.trim())}CashCustomerSelectEvent(e){this._Receipt.cashcustomerid=e.id,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar}GetCashCustomerList(e=""){this._ReceiptSharedService.CashCustomerSearch_Phone(this.subsidiaryID,e).subscribe(e=>{this.CashCustomerList=[],this.CashCustomerList=e,this.cd.markForCheck()})}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e,t){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,this.cd.markForCheck()})}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(t=>t.item_id==e.id)?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}onClearItems(e){this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}duplicateItemSwalPopUp(e){ye().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(t=>{this.onClearItems(e),this._Receipt.details[e].itemcode=null,this.cd.markForCheck()})}GetItemsList(e=""){1==this.CustomerTypeID||2==this.CustomerTypeID&&0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataListpurchase(this.subsidiaryID,e,this._Receipt.vendor_id).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()}):2==this.CustomerTypeID&&1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].lowestsaleprice=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):(this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this._Receipt.details[t].haswarrenty=n.item.haswarrenty,this._Receipt.details[t].warrantydate=n.item.haswarrenty?this.getwarrantydateDate():null,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.purchasing_unitid,this.CheckShowWarrantyDateCols(),this.ChangeItemUnits(e.purchasing_unitid,t)),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id;this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e),this._ReceiptSharedService.GetItemVendorPrice(this._Receipt.vendor_id,n,e,this._Receipt.customersalesprice).subscribe(e=>{this._Receipt.details[t].price=e[0].price,this._Receipt.details[t].lowestsaleprice=this._Receipt.details[t].price,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)}),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,this._ReceiptSharedService.GetItemVendorPrice(this._Receipt.vendor_id,this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,this._Receipt.customersalesprice).subscribe(i=>{t=i[0].price,this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this._Receipt.details[e].lowestsaleprice=this._Receipt.details[e].price,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)}),this.cd.markForCheck()},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.StockBalances(e),this.CheckBalanceForItemInStore(e),this.CalaculteValuesItemsRow(e)},1e3)}OnSelectedItem(e=null,t=null,n="",i=!1){this.SelectedItem=e,this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}AddItems(){if(this._CashSalesDetailsReceipt=new C.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode};let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}DeleteItems(e){let t=this._Receipt.details[e];1==this._Receipt.details.filter(e=>e.item_id==t.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id)),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()}Checkwarrantydate(e,t){Date.parse(e.toString())>Date.parse(this._Receipt.entry_date.toString())?(this._Receipt.details[t].warrantydate=e.target.value,this.cd.markForCheck()):(this.toastr.error(this.ItemWarrantyValidMsg),this._Receipt.details[t].warrantydate=null)}OnSerialItems(e){}CheckShowWarrantyDateCols(){let e=this._Receipt.details.filter(e=>1==e.haswarrenty);this.ShowWarrantyDateCols=e.length>0,this.cd.markForCheck()}CalaculteValuesItemsRow(e,t="percent"){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;let n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}ReCalaculteValuesChangeItemsRow(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(t=>{if(this.spinner.hide(),null==t.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(t.items.length>0)if(1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=t.receipt.subsidiaryid,this._Receipt.customersalesprice=null!=t.receipt.customersalesprice?t.receipt.customersalesprice:this._Receipt.customersalesprice,this._Receipt.payment_type=null!=t.receipt.payment_type?t.receipt.payment_type:this._Receipt.payment_type,this._Receipt.vendor_id=null!=t.receipt.vendor_id?t.receipt.vendor_id:this._Receipt.vendor_id,this._Receipt.cashcustomerid=null!=t.receipt.cashcustomerid?t.receipt.cashcustomerid:this._Receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.vendornamear:t.receipt.vendorname,this._Receipt.vendor_balance=null!=t.receipt.vendor_balance?t.receipt.vendor_balance:this._Receipt.vendor_balance,this.PriceListItemsOnly=t.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:t.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.cashcustomername_ar:t.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=t.receipt.currency_id,this._Receipt.currency_rate=t.receipt.currency_rate,this._Receipt.empoyee_id=null!=t.receipt.empoyee_id?t.receipt.empoyee_id:this._Receipt.empoyee_id,this._Receipt.memo=t.receipt.memo,this._Receipt.reference_no=t.receipt.reference_no,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),0==this.PriceListItemsOnly||t.receipt.vendor_id==this._Receipt.vendor_id){this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=t.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id;for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);t.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),this.ItemLinkedReceipt=t.items,81==t.receipt.code&&(this.ItemComponentsLinkedReceipt=this.ItemComponentsLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0])}else this._Receipt.linkedreceipts[e].fire=0,this.toastr.info(this.CustomerPricelistMsg);else this.spinner.hide(),this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._CashSalesDetailsReceipt=new C.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv);-1==n?(this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total,this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemComponentsRows())):(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemComponentsRows()))}SetLinkReceiptItemComponentsRows(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;let e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}OnSignatureSet(e){this._Receipt.signature=e.signature}OnOpenReceiptHistory(e){let t=this.ReceiptHistoryList[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);""!=n.Url&&window.open(n.Url+this.ReceiptHistoryList[e].receiptid+"/show","_blank")}Calculate_Total_Tax_Net(){let e=0;this._Receipt.details.forEach(t=>{e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0;let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this.CalculateTax_Net(e)}CalculateTax_Net(e=0){1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){var i;1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let r=!0,a=new C.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id;let o=null!==(i=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==i?i:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._Receipt.details[e].item_type&&(-1==o||1==o&&this._Receipt.details[e].id>0)&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(a).subscribe(i=>{let a=0,s=0,c=0,l=[],d=!0;if(0==i.consignment.consignment){if(null!=i.totalqty.totalqty){if(a=i.totalqty.totalqty,l=i.itemcomponent,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;s=parseFloat(s.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._Receipt.details[e].item_type){this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.details[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});let t=[],n=[],i=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let r=0;r<i.length;r++){t=[],n=[],t=this._Receipt.itemscomponent.filter(t=>t.finishedproductid==i[r].item_id&&t.item_id==this._Receipt.details[e].item_id&&null==t.id),n=[...new Map(t.map(e=>[e.finishedproductid,e]&&[e.item_id,e])).values()];for(let e=0;e<n.length;e++){let t=n[e].basicqtycomponent*i[r].qty,a=this.ItemComponentUnitsList.find(t=>t.item_id==n[e].item_id&&t.id==n[e].unit_id);if(null!=a){let i=(null!=a.finalconv?a.finalconv:1)*(n[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());s=parseFloat(s.toString())+i}}}}if(-1==o?c=a-s:1==o&&(c=a+s),3==this._Receipt.details[e].item_type)for(let e=0;e<l.length;e++)if(2!=l[e].item_type){let t=this._Receipt.details.filter(t=>t.item_id==l[e].item_id),n=0;if(t.forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;n=parseFloat(n.toString())+i*(a/r)*parseFloat(e.qty.toString())}this._Receipt.itemscomponent.filter(t=>t.item_id==e.item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());n=parseFloat(n.toString())+i}});let i=[],r=[],a=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let o=0;o<a.length;o++){i=[],r=[],i=this._Receipt.itemscomponent.filter(t=>t.finishedproductid==a[o].item_id&&t.item_id==e.item_id&&null==t.id),r=[...new Map(i.map(e=>[e.finishedproductid,e]&&[e.item_id,e])).values()];for(let e=0;e<r.length;e++){let t=r[e].basicqtycomponent*a[o].qty,i=this.ItemUnitsList.find(t=>t.item_id==r[e].item_id&&t.id==r[e].unit_id);if(null!=i){let a=(null!=i.finalconv?i.finalconv:1)*(r[e].conv/(null!=i.conv?i.conv:1))*parseFloat(t.toString());n=parseFloat(n.toString())+a}}}}),!(n<=l[e].totalqty)){d=!1;break}d=!0}r=c>=0&&1==d}else r=!1;0==r?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+a)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(624)?this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"]).then(()=>{window.location.reload()}):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"]).then(()=>{window.location.reload()})})}DeleteAction(){ye().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{Date.parse(e[0].maxpostingdate.toString())<Date.parse(this._Receipt.entry_date.toString())?(this.ShowModeReceipt=!1,this.ValidPeriod=!0):(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/inventorytransiction/receivingvoucherreturns/0"),this.ReceiptID=0,this._Receipt.id=null,this.VouchersLinkedCount=0,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/receivingvoucherreturns"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){const t=this._authService.userInfo().clientdatabase;let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_3_ReceivingVoucher"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alromaih")>-1?n="P_I_3_ReceivingVoucher_GL_WEB_alromaih":t.indexOf("bander")>-1||t.indexOf("192.168.1.50")>-1||t.indexOf("win-69te7j9nfsu")>-1||t.indexOf("localhost:1000")>-1?(n="P_I_3_ReceivingVoucher_Bandar",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:i,DomainName:"",toEmail:"",Subject:"",boby:""}):t.indexOf("istones")>-1?(n="P_S_52_Issue_GL_WEB_istones",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:i,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}):t.indexOf("darshgf")>-1&&(n="P_I_3_ReceivingVoucher_GL_WEB_darshgf"+i,r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""}),r.toEmail=this._emailobj.email,r.Subject=this._emailobj.subject,r}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(624)||0==this.ReceiptID&&!this.checkRoleParms(238)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns"]):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns"])})}CashReturn(){}IssueVoucher(){}CreateWorkOrder(){}ViewReportDeliveryNote(){}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}getwarrantydateDate(){let e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}formateDecimal(e,t=3){return e.toFixed(t)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Re.H),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](w.FF),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](v.J),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["receivingvoucherretunrns-details"]],viewQuery:function(e,t){if(1&e&&y["\u0275\u0275viewQuery"](bd,5),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([_.n,Se.v,f.t,i.uU,Re.H,v.J])],decls:4,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["DescriptionItemModel",""],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-md-12","col-lg-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","btn-md","mr-2","mb-2"],[1,""],["type","button",1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],["class","btn btn-primary btn-md mr-2\n                  mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning btn-md mr-2\n                  mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-md","mr-2","mb-2",3,"click"],[1,"btn-group"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle","btn-md","mr-2","mb-2"],[1,"dropdown-menu"],[1,"col-12","col-md-4","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","CreditAccount","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["class","\n                col-12 col-md-3 mb-2 mb-md-0",4,"ngIf"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","CostingRate",1,"col-form-label"],["type","number","min","0","id","CostingRate","name","CostingRate",1,"form-control",3,"ngModel","readonly","ngModelChange"],["CostingRate","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","btn-md","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","btn-md","mr-2","mb-2",3,"click"],["type","button",1,"dropdown-item",3,"click"],[3,"entryno","_savedemailobj"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"value"],["Value","null"],["for","Currency",1,"col-form-label"],["name","Currency","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Currency","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],["for","CurrencyRate",1,"col-form-label"],["type","number","PositiveNumbersOnly","","min","0","id","CurrencyRate","name","CurrencyRate","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange","keyup"],["CurrencyRate","ngModel"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","Min","CheckMin","ngClass","keyup","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","customMin","","type","number","customMax","100",1,"form-control",3,"Min","CheckMin","ngModel","name","readonly","ngClass","keyup","ngModelChange"],["discountpercent","ngModel"],["style","color: red",4,"ngIf"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["discount_value","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","keyup","ngModelChange"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],["type","date",1,"form-control",3,"hidden","name","ngModel","required","ngClass","ngModelChange"],["warrantydate","ngModel"],[3,"ngClass"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],[2,"color","red"],[4,"ngFor","ngForOf"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["href","javascript:;",1,"info","p-0",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],["for","shipmentterm",1,"col-form-label"],["name","shipmentterm",1,"form-control",3,"ngModel","ngModelChange","change"],["shipmentterm","ngModel"],[1,"col-md-3","form-group"],["for","SupplierAccount",1,"col-form-label"],["type","checkbox","id","ChangeSupplier",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","ChangeSupplier"],["for","deliverylocation",1,"col-form-label"],["type","text","name","deliverylocation",1,"form-control",3,"ngModel","ngModelChange"],["for","PaymentTerm",1,"col-form-label"],["name","PaymentTerm",1,"form-control",3,"ngModel","ngModelChange"],["paymentterm","ngModel"],["for","contactedperson",1,"col-form-label"],["type","text","name","contactedperson",1,"form-control",3,"ngModel","ngModelChange"],["for","planneddeliverydate",1,"col-form-label"],["type","date","id","planneddeliverydate","name","planneddeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["planneddeliverydate","ngModel"],["for","Courier",1,"col-form-label"],["name","Courier",1,"form-control",3,"ngModel","ngModelChange"],["Courier","ngModel"],["for","othernotes",1,"col-form-label"],["id","othernotes","name","othernotes","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["othernotes","ngModel"],["for","actualdeliverydate",1,"col-form-label"],["type","date","id","actualdeliverydate","name","actualdeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["actualdeliverydate","ngModel"],["minLength","0","delay","0","field","name","name","SupplierAccount",3,"ngModel","disabled","suggestions","onFocus","ngModelChange","onSelect","completeMethod"],["autoCustomerAccounts",""],["minLength","0","delay","0","field","name_ar","name","SupplierAccount",3,"disabled","ngModel","suggestions","onFocus","ngModelChange","onSelect","completeMethod"],[3,"signature","signatureoutput"],[1,"row","mb-6"],[1,"col-12"],[1,"table-responsive","table-accountdetails"],["disabled","",1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number","disabled","",1,"form-control","red",3,"ngModel","name","ngModelChange"],["historyReceiptsentry_no","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12","form-group"],["for","customitemname",1,"col-form-label"],["type","text","id","customitemname","name","customitemname",1,"form-control",3,"ngModel","ngModelChange"],["customitemname","ngModel"],[1,"col-md-12","row"],[3,"styles","ngModel","ngModelOptions","modules","ngModelChange"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],[1,"col-md-12"],["for","salesmanid",1,"col-form-label"],["name","salesmanid",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Sd,4,3,"div",0),y["\u0275\u0275template"](1,lh,188,147,"ng-container",1),y["\u0275\u0275template"](2,Ch,26,20,"ng-template",null,2,y["\u0275\u0275templateRefExtractor"])),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(8804)||t.checkRoleParms(8805)||t.checkRoleParms(8806)||t.checkRoleParms(8808))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction0"](2,fh))))},directives:[i.O5,a._Y,a.JL,a.F,a.EJ,a.JJ,a.On,i.sg,a.Q7,i.mk,a.Fj,Ie.L,Pe.a,s.Qc,Oe.jx,a.qQ,a.wV,w.Pz,w.nv,w.Vx,w.uN,w.tO,E.K,Ee.k,a.YN,a.Kr,we.Z,a.Wl,De.t,Be.T,m.g6],pipes:[l.X$,i.uU,Le.N],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();function yh(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function bh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function Sh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function Rh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",52),y["\u0275\u0275template"](1,bh,2,1,"span",1),y["\u0275\u0275template"](2,Sh,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function xh(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",53),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnAdd()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Mh(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Ih(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function Ph(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Mh,1,0,"i",48),y["\u0275\u0275template"](3,Ih,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function Oh(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Eh(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function wh(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Oh,1,0,"i",48),y["\u0275\u0275template"](3,Eh,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function kh(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Dh(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function Bh(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Lh(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function Fh(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Nh(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function Vh(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Fh,1,0,"i",48),y["\u0275\u0275template"](3,Nh,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"desc"==e.sortDirection)}}function qh(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Th(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function Ah(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,qh,1,0,"i",48),y["\u0275\u0275template"](3,Th,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerNamear"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"desc"==e.sortDirection)}}function Gh(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Uh(e,t){1&e&&y["\u0275\u0275element"](0,"i",55)}function $h(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1,"\xa0"),y["\u0275\u0275elementEnd"]())}function jh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function zh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function Wh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.customername)}}function Jh(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.customernamear)}}function Qh(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td",61),y["\u0275\u0275elementStart"](1,"a",62),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().$implicit;return y["\u0275\u0275nextContext"](2).onEdit(t)}),y["\u0275\u0275element"](2,"i",63),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}}function Yh(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275template"](1,jh,2,1,"td",1),y["\u0275\u0275template"](2,zh,2,1,"td",1),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](7,Wh,2,1,"td",1),y["\u0275\u0275template"](8,Jh,2,1,"td",1),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275text"](10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](11,Qh,3,0,"td",56),y["\u0275\u0275elementStart"](12,"td"),y["\u0275\u0275elementStart"](13,"a",57),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).$implicit;return y["\u0275\u0275nextContext"](2).PrintPreview(t.id)}),y["\u0275\u0275elementStart"](14,"span"),y["\u0275\u0275element"](15,"i",58),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"a",59),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).$implicit;return y["\u0275\u0275nextContext"](2).OnView(t)}),y["\u0275\u0275elementStart"](18,"span"),y["\u0275\u0275element"](19,"i",60),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.netvalue),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",n.checkRoleParms(622))}}function Hh(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",64),y["\u0275\u0275elementStart"](1,"ngb-pagination",65),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",66),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",67),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",68),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",69),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function Zh(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",6),y["\u0275\u0275elementStart"](2,"div",7),y["\u0275\u0275elementStart"](3,"div",8),y["\u0275\u0275elementStart"](4,"h6",9),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",10),y["\u0275\u0275elementStart"](8,"div",11),y["\u0275\u0275elementStart"](9,"section"),y["\u0275\u0275elementStart"](10,"div",4),y["\u0275\u0275elementStart"](11,"div",12),y["\u0275\u0275elementStart"](12,"form",13,14),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](14,"div",4),y["\u0275\u0275elementStart"](15,"div",15),y["\u0275\u0275elementStart"](16,"div",16),y["\u0275\u0275elementStart"](17,"label",17),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"select",18,19),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](22,"option",20),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,Rh,3,3,"option",21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",15),y["\u0275\u0275elementStart"](27,"div",16),y["\u0275\u0275elementStart"](28,"label",22),y["\u0275\u0275text"](29),y["\u0275\u0275pipe"](30,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"input",23,24),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",25),y["\u0275\u0275elementStart"](34,"button",26),y["\u0275\u0275element"](35,"i",27),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"button",28),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ShowAll()}),y["\u0275\u0275element"](39,"i",27),y["\u0275\u0275text"](40),y["\u0275\u0275pipe"](41,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"div",29),y["\u0275\u0275elementStart"](43,"div",30),y["\u0275\u0275elementStart"](44,"div",31),y["\u0275\u0275template"](45,xh,4,3,"button",32),y["\u0275\u0275elementStart"](46,"button",33),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint()}),y["\u0275\u0275element"](47,"i",27),y["\u0275\u0275text"](48),y["\u0275\u0275pipe"](49,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](50,"button",34),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(1)}),y["\u0275\u0275element"](51,"i",27),y["\u0275\u0275text"](52),y["\u0275\u0275pipe"](53,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"button",35),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](55,"i",27),y["\u0275\u0275text"](56),y["\u0275\u0275pipe"](57,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"div",36),y["\u0275\u0275elementStart"](59,"div",37),y["\u0275\u0275elementStart"](60,"label",38),y["\u0275\u0275text"](61),y["\u0275\u0275pipe"](62,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](63,"input",39,40),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"div",4),y["\u0275\u0275elementStart"](66,"div",41),y["\u0275\u0275elementStart"](67,"div",42),y["\u0275\u0275elementStart"](68,"div",43),y["\u0275\u0275elementStart"](69,"div",44),y["\u0275\u0275elementStart"](70,"table",45),y["\u0275\u0275elementStart"](71,"thead"),y["\u0275\u0275elementStart"](72,"tr"),y["\u0275\u0275elementStart"](73,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),y["\u0275\u0275text"](74),y["\u0275\u0275pipe"](75,"translate"),y["\u0275\u0275template"](76,Ph,4,3,"ng-container",1),y["\u0275\u0275template"](77,wh,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](78,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),y["\u0275\u0275text"](79),y["\u0275\u0275pipe"](80,"translate"),y["\u0275\u0275elementContainerStart"](81),y["\u0275\u0275element"](82,"i",47),y["\u0275\u0275template"](83,kh,1,0,"i",48),y["\u0275\u0275template"](84,Dh,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](85,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),y["\u0275\u0275text"](86),y["\u0275\u0275pipe"](87,"translate"),y["\u0275\u0275elementContainerStart"](88),y["\u0275\u0275element"](89,"i",47),y["\u0275\u0275template"](90,Bh,1,0,"i",48),y["\u0275\u0275template"](91,Lh,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](92,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),y["\u0275\u0275text"](93),y["\u0275\u0275pipe"](94,"translate"),y["\u0275\u0275template"](95,Vh,4,3,"ng-container",1),y["\u0275\u0275template"](96,Ah,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](97,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),y["\u0275\u0275text"](98),y["\u0275\u0275pipe"](99,"translate"),y["\u0275\u0275elementContainerStart"](100),y["\u0275\u0275element"](101,"i",47),y["\u0275\u0275template"](102,Gh,1,0,"i",48),y["\u0275\u0275template"](103,Uh,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](104,$h,2,0,"th",1),y["\u0275\u0275elementStart"](105,"th"),y["\u0275\u0275text"](106,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](107,"th"),y["\u0275\u0275text"](108,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](109,"tbody"),y["\u0275\u0275template"](110,Yh,20,8,"tr",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](111,Hh,12,7,"div",51),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,36,"Gift Voucher"),""),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](19,38,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,40,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](30,42,"EntryNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](37,44,"Search")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](41,46,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(585)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](49,48,"Print")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](53,50,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](57,52,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](62,54,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](75,56,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](80,58,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](87,60,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](94,62,"custvendor")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](99,64,"value")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","NetValue"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(622)),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngForOf",e.ReceiptList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let Kh=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=a,this._translateGlobalService=o,this.spinner=s,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Gift Voucher"]).subscribe(e=>{this.title=e["Gift Voucher"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="4",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/inventorytransiction/giftvoucher/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransiction/giftvoucher/0"])}OnView(e){this._router.navigate(["/page/inventorytransiction/giftvoucher/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/inventorytransiction/giftvoucher/${e.id}`,this._router.navigate([t])}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",o="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",s="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(c=>{this.cd.markForCheck(),t=`\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>${i}</th>\n                     <th>${r}</th>\n                     <th>${a}</th>\n                     <th>${o}</th>\n                     <th>${s}</th>\n \n                   </tr>\n                 </thead>\n             <tbody>\n         `,c.map(e=>{var n;t+=`\n        <tr>\n         <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n         <td>${e.entry_no}</td>\n         <td>${e.entry_date}</td>\n         <td>${null!==(n="ar"==this.lang?e.customernamear:e.customername)&&void 0!==n?n:""}</td>\n         <td>${e.netvalue}</td>\n \n        </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":t.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":t.netvalue}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,"Customer/Vendor":t.customernamear,Total:t.netvalue})}),this._Excel.exportAsExcelFile(e,"Gift Voucher")})}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}PrintPreview(e){let t=this.getReportfilter(e);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),this._authService.printJS(e.bytes)}),this.cd.markForCheck()}getReportfilter(e){const t=this._authService.userInfo();let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_3_ReceivingVoucher"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.clientdatabase.indexOf("darshgf")>-1&&(n="P_All_Inv_Receipt_gl_web_darshgf"+i,r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""}),r}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](P.x),y["\u0275\u0275directiveInject"](O.z),y["\u0275\u0275directiveInject"](v.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["giftvoucher"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,v.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-sm-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-4",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12"],[1,"card"],[1,"card-content"],[1,"card-body","table-responsive"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],["class","text-truncate",4,"ngIf"],[1,"warning","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-print"],[1,"primary","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"click"],[1,"ft-edit","mr-2"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,yh,4,3,"div",0),y["\u0275\u0275template"](1,Zh,112,66,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4," Loading... "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(584)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(584)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,E.K,w.N9],pipes:[l.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:5px!important;width:40%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();var Xh=n(29609);const em=["RForm"];function tm(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",2),y["\u0275\u0275elementStart"](1,"h1",3),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function nm(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",74),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DocumentAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function im(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",75),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PrintPreview(0)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function rm(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).onPrint()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function am(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DupilcateAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function om(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](4).DeleteAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function sm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,om,3,4,"button",76),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function cm(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,rm,3,4,"button",76),y["\u0275\u0275elementStart"](2,"button",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PrintPreview(1)}),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"email-popup",78),y["\u0275\u0275listener"]("_savedemailobj",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).sendEmail(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](6,am,3,4,"button",76),y["\u0275\u0275template"](7,sm,2,1,"div",1),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(587)),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](4,6,"Printpdf")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("entryno",e._Receipt.entry_no),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(585)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(586))}}function lm(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",79),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function dm(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",79),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function pm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function hm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function mm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275template"](1,pm,2,1,"span",1),y["\u0275\u0275template"](2,hm,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function um(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function gm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function _m(e,t){if(1&e&&(y["\u0275\u0275template"](0,um,2,1,"div",1),y["\u0275\u0275template"](1,gm,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Cm(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function fm(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function vm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function ym(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function bm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275template"](1,vm,2,1,"span",1),y["\u0275\u0275template"](2,ym,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const Sm=function(e,t){return{"invalid-data":e,"valid-data":t}};function Rm(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",29),y["\u0275\u0275elementStart"](1,"div",22),y["\u0275\u0275elementStart"](2,"label",81),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",24),y["\u0275\u0275text"](6,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"select",82,83),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.currency_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).changeCurrency(t)}),y["\u0275\u0275template"](9,Cm,2,1,"option",84),y["\u0275\u0275template"](10,fm,2,1,"option",84),y["\u0275\u0275template"](11,bm,3,3,"option",85),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,6,"Currency")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",n._Receipt.currency_id)("ngClass",y["\u0275\u0275pureFunction2"](8,Sm,e.invalid&&t.submitted,e.valid&&t.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",n.CurrencyList)}}function xm(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",29),y["\u0275\u0275elementStart"](1,"div",22),y["\u0275\u0275elementStart"](2,"label",87),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"span",24),y["\u0275\u0275text"](6,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"input",88,89),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.currency_rate=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).Calculate_Total_Tax_Net()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,4,"ExchangeRate")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",n._Receipt.currency_rate)("readonly",1==(null==n._CurrencySelected?null:n._CurrencySelected.basecurrency))("ngClass",y["\u0275\u0275pureFunction2"](6,Sm,e.invalid&&t.submitted,e.valid&&t.submitted))}}function Mm(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",29),y["\u0275\u0275elementStart"](1,"div",22),y["\u0275\u0275elementStart"](2,"label",90),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"input",91,92),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.costing_rate=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,3,"Costingc Rate")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.costing_rate)("readonly",!0)}}function Im(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",66),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Pm(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",66),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function Om(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",66),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function Em(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function wm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function km(e,t){if(1&e&&(y["\u0275\u0275template"](0,Em,2,1,"div",1),y["\u0275\u0275template"](1,wm,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Dm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Bm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Lm(e,t){if(1&e&&(y["\u0275\u0275template"](0,Dm,2,1,"div",1),y["\u0275\u0275template"](1,Bm,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const Fm=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function Nm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",117),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,Fm,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function Vm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",117),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,Fm,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.itemname_ar)}}function qm(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Tm(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Am(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Gm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Um(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",118),y["\u0275\u0275template"](1,Am,2,1,"span",1),y["\u0275\u0275template"](2,Gm,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function $m(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",119,120),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("step",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack),y["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),y["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id))("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](9,Sm,e.invalid&&r.submitted,e.valid&&r.submitted))}}function jm(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",121,122),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.price=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),y["\u0275\u0275property"]("ngModel",i.price)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](5,Sm,e.invalid&&r.submitted,e.valid&&r.submitted))}}function zm(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",123),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.total=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_total",t,""),y["\u0275\u0275property"]("ngModel",n.total)}}const Wm=function(e){return{item_id:e}};function Jm(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",101),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"p-autoComplete",102,103),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](5),r=y["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275template"](7,km,2,2,"ng-template",104),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"p-autoComplete",105,106),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](10),r=y["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).onClearItems(t)}),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275template"](12,Lm,2,2,"ng-template",107),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"td",108),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),y["\u0275\u0275template"](14,Nm,2,5,"div",109),y["\u0275\u0275template"](15,Vm,2,5,"div",109),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"select",110,111),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),y["\u0275\u0275template"](19,qm,2,1,"option",84),y["\u0275\u0275template"](20,Tm,2,1,"option",84),y["\u0275\u0275template"](21,Um,3,4,"option",112),y["\u0275\u0275pipe"](22,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,$m,3,12,"td",1),y["\u0275\u0275elementStart"](24,"td"),y["\u0275\u0275elementStart"](25,"input",113,114),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](27,jm,3,8,"td",1),y["\u0275\u0275template"](28,zm,2,2,"td",1),y["\u0275\u0275elementStart"](29,"td"),y["\u0275\u0275elementStart"](30,"a",115),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteItems(t)}),y["\u0275\u0275element"](31,"i",116),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=t.index,r=y["\u0275\u0275reference"](18),a=y["\u0275\u0275reference"](26);y["\u0275\u0275nextContext"](2);const o=y["\u0275\u0275reference"](3),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i+1),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),y["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](6,32,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),y["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](11,34,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](39,Sm,r.invalid&&o.submitted,r.valid&&o.submitted)),y["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](22,36,s.ItemUnitsList,y["\u0275\u0275pureFunction1"](42,Wm,null==e?null:e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",y["\u0275\u0275pureFunction2"](44,Sm,a.invalid&&o.submitted,a.valid&&o.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice))}}const Qm=function(e){return{"table-for-autocomplete":e}};function Ym(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",93),y["\u0275\u0275elementStart"](1,"div",63),y["\u0275\u0275elementStart"](2,"div",94),y["\u0275\u0275elementStart"](3,"table",65),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275element"](6,"th"),y["\u0275\u0275elementStart"](7,"th",95),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",66),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"th",66),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"th",96),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,Im,3,3,"th",97),y["\u0275\u0275elementStart"](20,"th",66),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,Pm,3,3,"th",97),y["\u0275\u0275template"](24,Om,3,3,"th",97),y["\u0275\u0275elementStart"](25,"th",98),y["\u0275\u0275text"](26,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](27,"tbody"),y["\u0275\u0275template"](28,Jm,32,47,"tr",99),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"button",100),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddItems()}),y["\u0275\u0275text"](30),y["\u0275\u0275pipe"](31,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](24,Qm,e.isType)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,12,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,18,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,20,"qty")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](31,22,"Add")," ")}}function Hm(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",79),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function Zm(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",79),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function Km(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Xm(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function eu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275template"](1,Km,2,1,"span",1),y["\u0275\u0275template"](2,Xm,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function tu(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function nu(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function iu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function ru(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function au(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275template"](1,iu,2,1,"span",1),y["\u0275\u0275template"](2,ru,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function ou(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",125),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),y["\u0275\u0275template"](3,Hm,2,0,"option",27),y["\u0275\u0275template"](4,Zm,2,0,"option",27),y["\u0275\u0275template"](5,eu,3,3,"option",85),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"select",125),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](8,tu,2,1,"option",84),y["\u0275\u0275template"](9,nu,2,1,"option",84),y["\u0275\u0275template"](10,au,3,3,"option",85),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275elementStart"](12,"input",126,127),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"td"),y["\u0275\u0275elementStart"](15,"a",128),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),y["\u0275\u0275element"](16,"i",129),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"a",130),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),y["\u0275\u0275element"](19,"i",131),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"td"),y["\u0275\u0275elementStart"](21,"a",115),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),y["\u0275\u0275element"](22,"i",116),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),y["\u0275\u0275property"]("ngModel",e.branch_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.BranchList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no),y["\u0275\u0275advance"](3),y["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function su(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",93),y["\u0275\u0275elementStart"](1,"div",63),y["\u0275\u0275elementStart"](2,"div",64),y["\u0275\u0275elementStart"](3,"table",65),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",66),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",66),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",66),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",98),y["\u0275\u0275text"](16,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"th",98),y["\u0275\u0275text"](18,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"th",98),y["\u0275\u0275text"](20,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"tbody"),y["\u0275\u0275template"](22,ou,23,13,"tr",124),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"button",100),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,5,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function cu(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function lu(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function du(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function pu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function hu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275template"](1,du,2,1,"span",1),y["\u0275\u0275template"](2,pu,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function mu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function uu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function gu(e,t){if(1&e&&(y["\u0275\u0275template"](0,mu,2,1,"div",1),y["\u0275\u0275template"](1,uu,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function _u(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"p-autoComplete",158,159),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](2);return y["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.supplier_name=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).SupplierSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.supplieraccount_id=null}),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275template"](4,gu,2,2,"ng-template",36),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e._Receipt.supplier_name)("disabled",!e.chk_ChangeSupplier)("suggestions",e.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)}}function Cu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function fu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function vu(e,t){if(1&e&&(y["\u0275\u0275template"](0,Cu,2,1,"div",1),y["\u0275\u0275template"](1,fu,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function yu(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"p-autoComplete",160,159),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](2);return y["\u0275\u0275nextContext"](3).onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.supplier_namear=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).SupplierSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).CustomerAccountsChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.supplieraccount_id=null}),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275template"](4,vu,2,2,"ng-template",36),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("disabled",!e.chk_ChangeSupplier)("ngModel",e._Receipt.supplier_namear)("suggestions",e.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)}}function bu(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Su(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Ru(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.termname,"")}}function xu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.termname_ar,"")}}function Mu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275template"](1,Ru,2,1,"span",1),y["\u0275\u0275template"](2,xu,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Iu(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Pu(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",86),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function Ou(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Eu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function wu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",80),y["\u0275\u0275template"](1,Ou,2,1,"span",1),y["\u0275\u0275template"](2,Eu,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const ku=function(){return{standalone:!0}};function Du(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",2),y["\u0275\u0275elementStart"](1,"div",29),y["\u0275\u0275elementStart"](2,"div",22),y["\u0275\u0275elementStart"](3,"label",132),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"select",133,134),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.shipmentterm_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).changeshipmentterm(t)}),y["\u0275\u0275template"](8,cu,2,1,"option",84),y["\u0275\u0275template"](9,lu,2,1,"option",84),y["\u0275\u0275template"](10,hu,3,3,"option",85),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"div",135),y["\u0275\u0275elementStart"](12,"div",22),y["\u0275\u0275elementStart"](13,"label",136),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"input",137),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).chk_ChangeSupplier=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"label",138),y["\u0275\u0275elementStart"](18,"span"),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,_u,5,8,"ng-container",1),y["\u0275\u0275template"](22,yu,5,8,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"div",135),y["\u0275\u0275elementStart"](24,"div",22),y["\u0275\u0275elementStart"](25,"label",139),y["\u0275\u0275text"](26),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"input",140),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.deliverylocation=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"div",2),y["\u0275\u0275elementStart"](30,"div",29),y["\u0275\u0275elementStart"](31,"div",22),y["\u0275\u0275elementStart"](32,"label",141),y["\u0275\u0275text"](33),y["\u0275\u0275pipe"](34,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](35,"select",142,143),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.paymentterm_id=t}),y["\u0275\u0275template"](37,bu,2,1,"option",84),y["\u0275\u0275template"](38,Su,2,1,"option",84),y["\u0275\u0275template"](39,Mu,3,3,"option",85),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"div",135),y["\u0275\u0275elementStart"](41,"div",22),y["\u0275\u0275elementStart"](42,"label",144),y["\u0275\u0275text"](43),y["\u0275\u0275pipe"](44,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](45,"input",145),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.contactedperson=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](46,"div",135),y["\u0275\u0275elementStart"](47,"div",22),y["\u0275\u0275elementStart"](48,"label",146),y["\u0275\u0275text"](49),y["\u0275\u0275pipe"](50,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"input",147,148),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.planneddeliverydate=t}),y["\u0275\u0275pipe"](53,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"div",2),y["\u0275\u0275elementStart"](55,"div",29),y["\u0275\u0275elementStart"](56,"div",22),y["\u0275\u0275elementStart"](57,"label",149),y["\u0275\u0275text"](58),y["\u0275\u0275pipe"](59,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"select",150,151),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.courierid=t}),y["\u0275\u0275template"](62,Iu,2,1,"option",84),y["\u0275\u0275template"](63,Pu,2,1,"option",84),y["\u0275\u0275template"](64,wu,3,3,"option",85),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"div",135),y["\u0275\u0275elementStart"](66,"div",22),y["\u0275\u0275elementStart"](67,"label",152),y["\u0275\u0275text"](68),y["\u0275\u0275pipe"](69,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](70,"textarea",153,154),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.othernotes=t}),y["\u0275\u0275text"](72,"                            "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](73,"div",135),y["\u0275\u0275elementStart"](74,"div",22),y["\u0275\u0275elementStart"](75,"label",155),y["\u0275\u0275text"](76),y["\u0275\u0275pipe"](77,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](78,"input",156,157),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.actualdeliverydate=t}),y["\u0275\u0275pipe"](80,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](5,32,"Shipment Term")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.shipmentterm_id),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.ShipmentTermList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](15,34,"Supplier Account")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("checked",e.chk_ChangeSupplier)("ngModelOptions",y["\u0275\u0275pureFunction0"](58,ku))("ngModel",e.chk_ChangeSupplier),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](20,36,"Change")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](27,38,"Delivery Location")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.deliverylocation),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](34,40,"Payment Term")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.paymentterm_id),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.PaymentTermsList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](44,42,"Contacted Person")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.contactedperson),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](50,44,"Planned Delivery Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](53,46,e._Receipt.planneddeliverydate,"yyyy-MM-dd")),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](59,49,"Courier")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.courierid),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.CourierList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](69,51,"Notes")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._Receipt.othernotes),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](77,53,"Actual Delivery Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](80,55,e._Receipt.actualdeliverydate,"yyyy-MM-dd"))}}function Bu(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",93),y["\u0275\u0275elementStart"](1,"div",63),y["\u0275\u0275elementStart"](2,"Signature",161),y["\u0275\u0275listener"]("signatureoutput",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("signature",e._Receipt.signature)}}function Lu(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function Fu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e.subsaidarySetting?null:e.subsaidarySetting.costcenteralternativetext,"")}}function Nu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function Vu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function qu(e,t){if(1&e&&(y["\u0275\u0275template"](0,Nu,2,1,"div",1),y["\u0275\u0275template"](1,Vu,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Tu(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function Au(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetextar)}}function Gu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetext)}}function Uu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,Au,2,1,"span",1),y["\u0275\u0275template"](2,Gu,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function $u(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",24),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function ju(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function zu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Wu(e,t){if(1&e&&(y["\u0275\u0275template"](0,ju,2,1,"div",1),y["\u0275\u0275template"](1,zu,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Ju(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",135),y["\u0275\u0275elementStart"](1,"label",33),y["\u0275\u0275template"](2,Tu,3,3,"span",1),y["\u0275\u0275template"](3,Uu,3,2,"span",1),y["\u0275\u0275template"](4,$u,2,0,"span",167),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",168,169),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInClasses(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.classfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.classid=null}),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275template"](9,Wu,2,2,"ng-template",170),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans)("ngModel",n._Receipt.classfieldname)("suggestions",n.ClassList)("ngClass",y["\u0275\u0275pureFunction2"](12,Sm,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function Qu(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function Yu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetext)}}function Hu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetextar)}}function Zu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,Yu,2,1,"span",1),y["\u0275\u0275template"](2,Hu,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function Ku(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",24),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function Xu(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function eg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function tg(e,t){if(1&e&&(y["\u0275\u0275template"](0,Xu,2,1,"div",1),y["\u0275\u0275template"](1,eg,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function ng(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",135),y["\u0275\u0275elementStart"](1,"label",33),y["\u0275\u0275template"](2,Qu,3,3,"span",1),y["\u0275\u0275template"](3,Zu,3,2,"span",1),y["\u0275\u0275template"](4,Ku,2,0,"span",167),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",171,172),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInLocations(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.locationid=null}),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275template"](9,tg,2,2,"ng-template",173),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans)("ngModel",n._Receipt.locationfieldname)("suggestions",n.LocationList)("ngClass",y["\u0275\u0275pureFunction2"](12,Sm,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function ig(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function rg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetextar)}}function ag(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetext)}}function og(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,rg,2,1,"span",1),y["\u0275\u0275template"](2,ag,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function sg(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",24),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function cg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function lg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function dg(e,t){if(1&e&&(y["\u0275\u0275template"](0,cg,2,1,"div",1),y["\u0275\u0275template"](1,lg,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function pg(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",135),y["\u0275\u0275elementStart"](1,"label",33),y["\u0275\u0275template"](2,ig,3,3,"span",1),y["\u0275\u0275template"](3,og,3,2,"span",1),y["\u0275\u0275template"](4,sg,2,0,"span",167),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",174,175),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInDepartment(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentChangeSearch(t)}),y["\u0275\u0275template"](8,dg,2,2,"ng-template",176),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans)("ngModel",n._Receipt.departmentfieldname)("suggestions",n.DepartmentList)("ngClass",y["\u0275\u0275pureFunction2"](7,Sm,e.invalid&&t.submitted,e.valid&&t.submitted))}}function hg(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",162),y["\u0275\u0275elementStart"](1,"label",33),y["\u0275\u0275template"](2,Lu,3,3,"span",1),y["\u0275\u0275template"](3,Fu,2,1,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"p-autoComplete",163,164),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](5);return y["\u0275\u0275nextContext"](2).onFocusInCostCenter(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.costcenterid=null}),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275template"](8,qu,2,2,"ng-template",165),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](9,Ju,10,15,"div",166),y["\u0275\u0275template"](10,ng,10,15,"div",166),y["\u0275\u0275template"](11,pg,9,10,"div",166)}if(2&e){const e=y["\u0275\u0275reference"](6);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.costcentermandatory4invtrans)("ngModel",n._Receipt.costcenterfieldname)("suggestions",n.CostCenterList)("ngClass",y["\u0275\u0275pureFunction2"](14,Sm,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](7,12,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentisactive)}}function mg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"Item-StoreQty",177,178),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function ug(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"div",2),y["\u0275\u0275elementStart"](2,"form",4,5),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](3);return y["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),y["\u0275\u0275elementStart"](4,"div",6),y["\u0275\u0275elementStart"](5,"div",7),y["\u0275\u0275elementStart"](6,"div",8),y["\u0275\u0275elementStart"](7,"div",9),y["\u0275\u0275elementStart"](8,"h6",10),y["\u0275\u0275text"](9),y["\u0275\u0275pipe"](10,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"div",2),y["\u0275\u0275elementStart"](12,"div",11),y["\u0275\u0275elementStart"](13,"button",12),y["\u0275\u0275element"](14,"i",13),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"button",14),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateNewAction()}),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](20,nm,3,4,"button",15),y["\u0275\u0275template"](21,im,3,4,"button",16),y["\u0275\u0275elementStart"](22,"button",17),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"div",18),y["\u0275\u0275elementStart"](26,"button",19),y["\u0275\u0275text"](27),y["\u0275\u0275pipe"](28,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"div",20),y["\u0275\u0275template"](30,cm,8,8,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](31,"hr"),y["\u0275\u0275elementStart"](32,"div",2),y["\u0275\u0275elementStart"](33,"div",21),y["\u0275\u0275elementStart"](34,"div",22),y["\u0275\u0275elementStart"](35,"label",23),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"span",24),y["\u0275\u0275text"](39,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"select",25,26),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeBranch(t)}),y["\u0275\u0275template"](42,lm,2,0,"option",27),y["\u0275\u0275template"](43,dm,2,0,"option",27),y["\u0275\u0275template"](44,mm,3,3,"option",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](45,"div",29),y["\u0275\u0275elementStart"](46,"div",22),y["\u0275\u0275elementStart"](47,"label",30),y["\u0275\u0275text"](48),y["\u0275\u0275pipe"](49,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](50,"span",24),y["\u0275\u0275text"](51,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](52,"input",31,32),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"div",2),y["\u0275\u0275elementStart"](55,"div",29),y["\u0275\u0275elementStart"](56,"div",22),y["\u0275\u0275elementStart"](57,"label",33),y["\u0275\u0275text"](58),y["\u0275\u0275pipe"](59,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"span",24),y["\u0275\u0275text"](61,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](62,"p-autoComplete",34,35),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](63);return y["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onClearVendor(t)}),y["\u0275\u0275pipe"](65,"translate"),y["\u0275\u0275template"](66,_m,2,2,"ng-template",36),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](67,"div",29),y["\u0275\u0275elementStart"](68,"div",22),y["\u0275\u0275elementStart"](69,"label",37),y["\u0275\u0275text"](70),y["\u0275\u0275pipe"](71,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](72,"input",38,39),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](74,"div",29),y["\u0275\u0275elementStart"](75,"div",22),y["\u0275\u0275elementStart"](76,"label",40),y["\u0275\u0275text"](77),y["\u0275\u0275pipe"](78,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](79,"input",41,42),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),y["\u0275\u0275pipe"](81,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](82,"div",29),y["\u0275\u0275elementStart"](83,"div",22),y["\u0275\u0275elementStart"](84,"label",40),y["\u0275\u0275text"](85),y["\u0275\u0275pipe"](86,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](87,"input",43,44),y["\u0275\u0275listener"]("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("DeliverDate",2)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](89,"div",2),y["\u0275\u0275template"](90,Rm,12,11,"div",45),y["\u0275\u0275template"](91,xm,9,9,"div",45),y["\u0275\u0275elementStart"](92,"div",29),y["\u0275\u0275elementStart"](93,"div",22),y["\u0275\u0275elementStart"](94,"label",46),y["\u0275\u0275text"](95),y["\u0275\u0275pipe"](96,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](97,"input",47,48),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](99,"div",29),y["\u0275\u0275elementStart"](100,"div",22),y["\u0275\u0275elementStart"](101,"label",49),y["\u0275\u0275text"](102),y["\u0275\u0275pipe"](103,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](104,"input",50,51),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.memo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](106,"div",2),y["\u0275\u0275template"](107,Mm,7,5,"div",52),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](108,"div",7),y["\u0275\u0275elementStart"](109,"div",53),y["\u0275\u0275elementStart"](110,"div",2),y["\u0275\u0275elementStart"](111,"div",54),y["\u0275\u0275elementStart"](112,"ul",55,56),y["\u0275\u0275listener"]("activeIdChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().activeNav=t}),y["\u0275\u0275elementStart"](114,"li",57),y["\u0275\u0275elementStart"](115,"a",58),y["\u0275\u0275text"](116),y["\u0275\u0275pipe"](117,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](118,Ym,32,26,"ng-template",59),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](119,"li",60),y["\u0275\u0275elementStart"](120,"a",58),y["\u0275\u0275text"](121),y["\u0275\u0275pipe"](122,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](123,su,26,13,"ng-template",59),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](124,"li",60),y["\u0275\u0275elementStart"](125,"a",58),y["\u0275\u0275text"](126),y["\u0275\u0275pipe"](127,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](128,Du,81,59,"ng-template",59),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](129,"li",60),y["\u0275\u0275elementStart"](130,"a",58),y["\u0275\u0275text"](131),y["\u0275\u0275pipe"](132,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](133,Bu,3,1,"ng-template",59),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](134,"li",60),y["\u0275\u0275elementStart"](135,"a",58),y["\u0275\u0275text"](136),y["\u0275\u0275pipe"](137,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](138,hg,12,17,"ng-template",59),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](139,"div",61),y["\u0275\u0275elementStart"](140,"div",2),y["\u0275\u0275elementStart"](141,"div",62),y["\u0275\u0275elementStart"](142,"div",63),y["\u0275\u0275elementStart"](143,"div",64),y["\u0275\u0275elementStart"](144,"table",65),y["\u0275\u0275elementStart"](145,"thead"),y["\u0275\u0275elementStart"](146,"tr"),y["\u0275\u0275element"](147,"th",66),y["\u0275\u0275elementStart"](148,"th",67),y["\u0275\u0275text"](149),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](150,"th",66),y["\u0275\u0275text"](151),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](152,"tbody"),y["\u0275\u0275elementStart"](153,"tr"),y["\u0275\u0275elementStart"](154,"td"),y["\u0275\u0275text"](155),y["\u0275\u0275pipe"](156,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](157,"td",68),y["\u0275\u0275elementStart"](158,"input",69),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](159,"td"),y["\u0275\u0275elementStart"](160,"input",70),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalue=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](161,"tr"),y["\u0275\u0275elementStart"](162,"td"),y["\u0275\u0275text"](163),y["\u0275\u0275pipe"](164,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](165,"td"),y["\u0275\u0275elementStart"](166,"input",71),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.qtotal=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](167,"tr"),y["\u0275\u0275elementStart"](168,"td"),y["\u0275\u0275text"](169),y["\u0275\u0275pipe"](170,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](171,"td"),y["\u0275\u0275elementStart"](172,"input",72),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.totalitem=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](173,"div",73),y["\u0275\u0275template"](174,mg,3,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](3),t=y["\u0275\u0275reference"](41),n=y["\u0275\u0275reference"](53),i=y["\u0275\u0275reference"](64),r=y["\u0275\u0275reference"](80),a=y["\u0275\u0275reference"](113),o=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](9),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](10,79,"GiftVoucher"),""),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("disabled",o.VouchersLinkedCount>0||1==o.ShowModeReceipt||1==o.DuringSaveDisable||o.ReceiptID>0&&!o.checkRoleParms(622)||0==o.ReceiptID&&!o.checkRoleParms(585)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](16,81,"Save")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275attribute"]("disabled",!o.checkRoleParms(585)||1==o.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](19,83,"CreateNew")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",o.ReceiptID>0&&0==o.VouchersLinkedCount),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",o.ReceiptID>0),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==o.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,85,"Exit")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](28,87,"Action Menu")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",o.ReceiptID>0),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](37,89,"Branch")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",o._Receipt.branch_id)("ngClass",y["\u0275\u0275pureFunction2"](126,Sm,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",o.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=o.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==o.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",o.BranchList)("ngForTrackBy",o.customTrackBy),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](49,91,"Entry#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("stepallow",1)("ngModel",o._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==o.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](129,Sm,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](59,93,"Vendor#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",o._Receipt.cashcustomer_vendor_code)("suggestions",o.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](65,95,"NoResultsFound"))("forceSelection",!0)("ngClass",y["\u0275\u0275pureFunction2"](132,Sm,i.invalid&&e.submitted,i.valid&&e.submitted)),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](71,97,"Vendor Name")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.cashcustomer_vendor_name)("readonly",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](78,99,"Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](81,101,o._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==o.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](135,Sm,r.invalid&&e.submitted||0==o.ValidPeriod,r.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](86,104,"Time")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==o.LockedRecepit)("ngModel",o._Receipt.entry_time),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.enablemulticurrency),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.enablemulticurrency),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](96,106,"ReferenceNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.reference_no),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](103,108,"Memo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.memo),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",0!=o.ReceiptID),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("destroyOnHide",!1)("activeId",o.activeNav),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngbNavItem",1),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](117,110,"Items")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",2),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](122,112,"LinkedReceipt")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",3),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](127,114,"Other Details")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",4),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](132,116,"Signature")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",5),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](137,118,"AnalyticalAccount")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavOutlet",a),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" Total - ",null==o._CurrencySelected?null:o._CurrencySelected.currencysymbol," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" Total - ",null==o._BaseCurrency?null:o._BaseCurrency.currencysymbol," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](156,120,"Net")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",o._Receipt.netvalueforeign)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",o._Receipt.netvalue)("readonly",!0),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](164,122,"totalqty")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",o._Receipt.qtotal),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](170,124,"totalitem")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",o._Receipt.totalitem),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",o.itemqtyview)}}const gg=function(){return[584,585,586,622]};let _g=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u,g,_,f){this._cashsalesService=e,this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this.cd=r,this.toastr=a,this._router=o,this._generalService=s,this.translate=c,this._translateGlobalService=l,this._activeRoute=d,this.modalService=p,this.spinner=h,this._authService=m,this._printService=u,this._VerifyReportsService=g,this.datepipe=_,this.location=f,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=4,this.Transaction_move=0,this._Receipt=new C.tY,this._ReceiptOriginal=new C.tY,this._Receipt_h_Edit=new C.Iu,this._CashSalesDetailsReceipt=new C.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new C.tH,this._LinkedReceipt=new C.Cb,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.CustomerAccountsList=[],this.CostCenterList=[],this.ShipmentTermList=[],this.CourierList=[],this.ReceiptCodeList=[],this.PaymentTermsList=[],this.TransactionAccountList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.ApprovalStatusList=[{id:1,name:"New",name_ar:"\u062c\u062f\u064a\u062f"},{id:2,name:"Approved",name_ar:"\u0645\u0642\u0628\u0648\u0644"},{id:3,name:"Disapproved",name_ar:"\u0645\u0631\u0641\u0648\u0636"},{id:4,name:"Invoiced",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0641\u0627\u062a\u0648\u0631\u0647"},{id:5,name:"Sales Order",name_ar:"\u062a\u0645 \u0639\u0645\u0644 \u0633\u0646\u062f \u0628\u064a\u0639"}],this.reporturl="",this.reportdomainUrl=xe.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopInventoryErrorMsg="",this.RelatedwithSerialsOrBatches="",this.timeout=null,this.chk_ChangeSupplier=!1,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this.isDupilcate=!1,d.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods(),this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransiction/giftvoucher/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","StopInventoryErrorMsg","CloseFinancialPeriodMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","Gift Voucher","SaveMsg","No","swalNewActionTitle","CostPostingPeriodMessage","swalNewActionText","RelatedwithSerialsOrBatches","cantNotDuplicateItem"]).subscribe(e=>{document.title=e["Gift Voucher"],this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.No=e.No,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.MultiPayErrorMsg=e.MultiPayErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.Close=e.Close,this.DeliverDateMsg=e.DeliverDateMsg,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.cantNotDuplicateItem=e.cantNotDuplicateItem})})}SetInitialMethods(){this._Receipt=new C.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetShipmentTermList(),this.GetCourierList(),this.GetAllPaymentTermsList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,be.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt(),this.cd.markForCheck()})}ngOnInit(){}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.customersalesprice=0,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{if(null!=e.receipt){if(this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.qtotal=e.items.qty,this._Receipt.totalitem=e.items.length,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this.PriceListItemsOnly=e.receipt.pricelistitemsonly),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this.Oldsupplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.supplier_name={name:e.receipt.supplier_name},this._Receipt.supplier_namear={name_ar:e.receipt.supplier_namear},this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptmultipayment=e.receiptmultipayment,null==this._Receipt.qtotal||null==this._Receipt.totalitem){let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=e.items.length}this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),this.entry_no=this._Receipt.entry_no,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck()}})}CheckPre_SaveReceipt(e){if(e.form.valid)if(0!=this.ValidPeriod)if(0!=this.deliverdateValid)if(1!=this._Receipt.details.length||null!=this._Receipt.details[0].item_id){for(let e=0;e<this._Receipt.details.length;e++)if(null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{if(!(this._Receipt.details[e].qty>0))return void this.toastr.error(this.qtyZeroErrorSaveMsg);0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();this.CheckBalanceForItemInStore(0,!0,!0)}else this.toastr.error(this.ItemsZeroErrorMsg);else this.toastr.error(this.DeliverDateMsg);else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status?5:1}SaveReceipt(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0;for(let e=0;e<this._Receipt.linkedreceipts.length;e++)0==this._Receipt.linkedreceipts[e].fire&&(this._Receipt.linkedreceipts.splice(e,1),e--);""==this._Receipt.customerdeliverdate||null==this._Receipt.customerdeliverdate||""==this._Receipt.entry_time||null==this._Receipt.entry_time||""!=this._Receipt.customerdeliverdate_time&&null!=this._Receipt.customerdeliverdate_time||(this._Receipt.customerdeliverdate_time=this._Receipt.entry_time),this.chk_ChangeSupplier||this._Receipt.supplieraccount_id!=this.Oldsupplieraccount_id&&(this._Receipt.supplieraccount_id=this._Receipt.vendor_id),null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,this._router.navigate(["/page/inventorytransiction/giftvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})})):(this._Receipt_h_Edit=new C.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/inventorytransiction/giftvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e?this.ChangeEntryDate():"DeliverDate"==e&&this.CheckDeliverDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&ye().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/inventorytransiction/giftvoucher/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetDefaultStoreCostCenterByBranch(e=!1,t=!0){1==t&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid&&(0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}),1==t&&this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))),null!=this.StoreCostCenterSetting.costcenterid&&(this._Receipt.costcenterid=this.StoreCostCenterSetting.costcenterid,this._Receipt.costcenterfieldname={costcenterfieldname:"ar"==this.lang?this.StoreCostCenterSetting.costcentername_ar:this.StoreCostCenterSetting.costcentername}),this.cd.markForCheck()})}GetShipmentTermList(){this._cashsalesService.GetAllShipmentTermBySubSidary(this.subsidiaryID).subscribe(e=>{this.ShipmentTermList=e,this.cd.markForCheck()})}GetCourierList(){this._cashsalesService.AllActiveCourierBySubsidiaryID(this.subsidiaryID).subscribe(e=>{this.CourierList=e,this.cd.markForCheck()})}GetAllPaymentTermsList(){this._cashsalesService.GetAllPaymentTermsList().subscribe(e=>{this.PaymentTermsList=e,this.cd.markForCheck()})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeshipmentterm(e){}SupplierSelectEvent(e){this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}}changeCurrency(e){if(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date?(this.CheckValidDateBySubsidaryID(),this.CheckDeliverDate()):(this.DuringSaveDisable=!1,this.cd.markForCheck())}CheckDeliverDate(){if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=this._Receipt.customerdeliverdate&&""!=this._Receipt.customerdeliverdate&&null!=this._Receipt.customerdeliverdate){let e=Xh(`${this._Receipt.entry_date} ${this._Receipt.entry_time}`,"YYYY-MM-DD HH:mm").format(),t=Xh(`${this._Receipt.customerdeliverdate} ${this._Receipt.customerdeliverdate_time}`,"YYYY-MM-DD HH:mm").format();0==Xh(e).isSameOrBefore(t)?(this.deliverdateValid=!1,this.toastr.error(this.DeliverDateMsg)):this.deliverdateValid=!0}}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;ye().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){ye().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){this.chk_ChangeSupplier||(this._Receipt.supplieraccount_id=e.accountid,this._Receipt.supplier_name={name:e.name},this._Receipt.supplier_namear={name_ar:e.name_ar}),this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,this.GetDefaultStoreCostCenterByBranch(!1,!1)}GetCustomerAccountsList(e=""){this._CustomerService.GetVendorAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}onClearVendor(){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e,t){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this.CheckBalanceForItemInStore(0,!0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,this.cd.markForCheck()})}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(t=>t.item_id==e.id)?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}onClearItems(e){this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}duplicateItemSwalPopUp(e){ye().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(t=>{this.onClearItems(e),this._Receipt.details[e].itemcode=null,this.cd.markForCheck()})}GetItemsList(e=""){this._ReceiptSharedService.GetItemsDataListpurchase(this.subsidiaryID,e,this._Receipt.vendor_id).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].lowestsaleprice=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):3==e.item_type&&0==n.itemcomponents.length?(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NOComponents)):(this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.purchasing_unitid,this.ChangeItemUnits(e.purchasing_unitid,t)),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.OnSelectedItem(this._Receipt.details[e],e)},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.StockBalances(e),this.CheckBalanceForItemInStore(e)},1e3)}OnSelectedItem(e=null,t=null,n="",i=!1){this.show_all_component=i,this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}AddItems(){if(this._CashSalesDetailsReceipt=new C.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode};let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}DeleteItems(e){let t=this._Receipt.details[e];1==this._Receipt.details.filter(e=>e.item_id==t.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id)),this._Receipt.details.splice(e,1);let n=0;this._Receipt.details.forEach(e=>{n+=e.qty}),this._Receipt.qtotal=n,this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()}OnSerialItems(e){}CalaculteValuesItemsRow(e,t="percent"){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=0,this._Receipt.details[e].discount_value=0,this._Receipt.details[e].discount_percent=0,this._Receipt.details[e].total=Number((0).toFixed(this._Currencyprecision)),this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.value=Number((0).toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number((0).toFixed(this._Currencyprecision));let n=0;this._Receipt.details.forEach(e=>{n+=e.qty}),this._Receipt.qtotal=n,this.cd.markForCheck()}onFocusInCostCenter(e){this.GetCostCenterList("")}CostCenterChangeSearch(e,t){this.GetCostCenterList(e.query.trim())}CostCenterSelectEvent(e){this._Receipt.costcenterid=e.id}GetCostCenterList(e=""){this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,e,this._Receipt.vendor_id).subscribe(e=>{this.CostCenterList=[],this.CostCenterList=e,this.CostCenterList.length>0&&this.setFieldNameForArray(this.CostCenterList,"costcenter"),this.cd.markForCheck()})}onFocusInLocations(e){this.GetLocationsList("")}LocationsChangeSearch(e,t){this.GetLocationsList(e.query.trim())}LocationsSelectEvent(e){this._Receipt.locationid=e.id}GetLocationsList(e=""){this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.LocationList=[],this.LocationList=e,this.LocationList.length>0&&this.setFieldNameForArray(this.LocationList,"location"),this.cd.markForCheck()})}onFocusInClasses(e){this.GetClassesList("")}ClassesChangeSearch(e,t){this.GetClassesList(e.query.trim())}ClassesSelectEvent(e){this._Receipt.classid=e.id}GetClassesList(e=""){this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.ClassList=[],this.ClassList=e,this.ClassList.length>0&&this.setFieldNameForArray(this.ClassList,"class"),this.cd.markForCheck()})}onFocusInDepartment(e){this.GetDepartmentList("")}DepartmentChangeSearch(e,t){this.GetDepartmentList(e.query.trim())}DepartmentSelectEvent(e){this._Receipt.departmentid=e.id}GetDepartmentList(e=""){this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.DepartmentList=[],this.DepartmentList=e,this.DepartmentList.length>0&&this.setFieldNameForArray(this.DepartmentList,"department"),this.cd.markForCheck()})}setFieldNameForArray(e,t=null){for(let n=0;n<e.length;n++){let i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t&&(i.departmentfieldname="ar"==this.lang?i.sugar:i.sug)}}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(t=>{if(this.spinner.hide(),null==t.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(t.items.length>0)if(1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=t.receipt.subsidiaryid,this._Receipt.customersalesprice=null!=t.receipt.customersalesprice?t.receipt.customersalesprice:this._Receipt.customersalesprice,this._Receipt.payment_type=null!=t.receipt.payment_type?t.receipt.payment_type:this._Receipt.payment_type,this._Receipt.vendor_id=null!=t.receipt.vendor_id?t.receipt.vendor_id:this._Receipt.vendor_id,this._Receipt.cashcustomerid=null!=t.receipt.cashcustomerid?t.receipt.cashcustomerid:this._Receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.vendornamear:t.receipt.vendorname,this._Receipt.vendor_balance=null!=t.receipt.vendor_balance?t.receipt.vendor_balance:this._Receipt.vendor_balance,this.PriceListItemsOnly=t.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:t.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.cashcustomername_ar:t.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=t.receipt.currency_id,this._Receipt.currency_rate=t.receipt.currency_rate,this._Receipt.empoyee_id=null!=t.receipt.empoyee_id?t.receipt.empoyee_id:this._Receipt.empoyee_id,this._Receipt.memo=t.receipt.memo,this._Receipt.reference_no=t.receipt.reference_no,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),0==this.PriceListItemsOnly||t.receipt.vendor_id==this._Receipt.vendor_id){this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=t.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id;for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);t.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),this.ItemLinkedReceipt=t.items,81==t.receipt.code&&(this.ItemLinkedReceipt=this.ItemLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0])}else this._Receipt.linkedreceipts[e].fire=0,this.toastr.info(this.CustomerPricelistMsg);else this.spinner.hide(),this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._CashSalesDetailsReceipt=new C.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv);-1==n?(this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.discount_value=0,this._CashSalesDetailsReceipt.discount_percent=0,this._CashSalesDetailsReceipt.price=0,this._CashSalesDetailsReceipt.total=0,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.final_conv=t.finalconv,this._Receipt.details.push(this._CashSalesDetailsReceipt),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0))):(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.spinner.hide(),this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)))}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}OnSignatureSet(e){this._Receipt.signature=e.signature}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){var i;1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let r=!0,a=new C.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id;let o=null!==(i=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==i?i:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._Receipt.details[e].item_type&&(-1==o||1==o&&this._Receipt.details[e].id>0)&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(a).subscribe(i=>{let a=0,s=0,c=0,l=[],d=!0;if(0==i.consignment.consignment){if(null!=i.totalqty.totalqty){if(a=i.totalqty.totalqty,l=i.itemcomponent,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;s=parseFloat(s.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._Receipt.details[e].item_type){this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.details[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});let t=[],n=[],i=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let r=0;r<i.length;r++){t=[],n=[],t=this._Receipt.itemscomponent.filter(t=>t.finishedproductid==i[r].item_id&&t.item_id==this._Receipt.details[e].item_id&&null==t.id),n=[...new Map(t.map(e=>[e.finishedproductid,e]&&[e.item_id,e])).values()];for(let e=0;e<n.length;e++){let t=n[e].basicqtycomponent*i[r].qty,a=this.ItemComponentUnitsList.find(t=>t.item_id==n[e].item_id&&t.id==n[e].unit_id);if(null!=a){let i=(null!=a.finalconv?a.finalconv:1)*(n[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());s=parseFloat(s.toString())+i}}}}if(-1==o?c=a-s:1==o&&(c=a+s),3==this._Receipt.details[e].item_type)for(let e=0;e<l.length;e++)if(2!=l[e].item_type){let t=this._Receipt.details.filter(t=>t.item_id==l[e].item_id),n=0;if(t.forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;n=parseFloat(n.toString())+i*(a/r)*parseFloat(e.qty.toString())}this._Receipt.itemscomponent.filter(t=>t.item_id==e.item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());n=parseFloat(n.toString())+i}});let i=[],r=[],a=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let o=0;o<a.length;o++){i=[],r=[],i=this._Receipt.itemscomponent.filter(t=>t.finishedproductid==a[o].item_id&&t.item_id==e.item_id&&null==t.id),r=[...new Map(i.map(e=>[e.finishedproductid,e]&&[e.item_id,e])).values()];for(let e=0;e<r.length;e++){let t=r[e].basicqtycomponent*a[o].qty,i=this.ItemUnitsList.find(t=>t.item_id==r[e].item_id&&t.id==r[e].unit_id);if(null!=i){let a=(null!=i.finalconv?i.finalconv:1)*(r[e].conv/(null!=i.conv?i.conv:1))*parseFloat(t.toString());n=parseFloat(n.toString())+a}}}}),!(n<=l[e].totalqty)){d=!1;break}d=!0}r=c>=0&&1==d}else r=!1;0==r?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+a)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(622)?this._router.navigate(["/page/inventorytransiction/giftvoucher/0"]).then(()=>{window.location.reload()}):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/giftvoucher/0"]).then(()=>{window.location.reload()})})}DeleteAction(){ye().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransiction/giftvoucher"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{Date.parse(e[0].maxpostingdate.toString())<Date.parse(this._Receipt.entry_date.toString())?(this.ShowModeReceipt=!1,this.ValidPeriod=!0):(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/inventorytransiction/giftvoucher/0"),this.ReceiptID=0,this._Receipt.id=null,this.VouchersLinkedCount=0,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/giftvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){const t=this._authService.userInfo();let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_3_ReceivingVoucher"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.clientdatabase.indexOf("darshgf")>-1&&(n="P_All_Inv_Receipt_gl_web_darshgf"+i,r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""}),r.toEmail=this._emailobj.email,r.Subject=this._emailobj.subject,r}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(622)||0==this.ReceiptID&&!this.checkRoleParms(585)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/giftvoucher"]):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/giftvoucher"])})}CashReturn(){}IssueVoucher(){}CreateWorkOrder(){}ViewReportDeliveryNote(){}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}formateDecimal(e,t=3){return e.toFixed(t)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Re.H),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](w.FF),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](v.J),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["giftvoucher-details"]],viewQuery:function(e,t){if(1&e&&y["\u0275\u0275viewQuery"](em,5),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([_.n,Se.v,f.t,i.uU,Re.H,v.J])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","CreditAccount","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["class","\n              col-12 col-md-3 mb-2 mb-md-0",4,"ngIf"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["class"," col-12 col-md-3 mb-2\n              mb-md-0",4,"ngIf"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],["type","button",1,"dropdown-item",3,"click"],[3,"entryno","_savedemailobj"],["Value","null"],[3,"value"],["for","Currency",1,"col-form-label"],["name","Currency","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Currency","ngModel"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"ngValue"],["for","CurrencyRate",1,"col-form-label"],["type","number","PositiveNumbersOnly","","min","0","id","CurrencyRate","name","CurrencyRate","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange","keyup"],["CurrencyRate","ngModel"],["for","CostingRate",1,"col-form-label"],["type","number","min","0","id","CostingRate","name","CostingRate",1,"form-control",3,"ngModel","readonly","ngModelChange"],["CostingRate","ngModel"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],[3,"ngClass"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","readonly","","type","number","customMin","",1,"form-control",3,"ngModel","name","Min","CheckMin","ngClass","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number","readonly","",1,"form-control",2,"background-color","silver",3,"ngModel","name","ngModelChange"],[4,"ngFor","ngForOf"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["href","javascript:;",1,"info","p-0",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],["for","shipmentterm",1,"col-form-label"],["name","shipmentterm",1,"form-control",3,"ngModel","ngModelChange","change"],["shipmentterm","ngModel"],[1,"col-md-3","form-group"],["for","SupplierAccount",1,"col-form-label"],["type","checkbox","id","ChangeSupplier",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","ChangeSupplier"],["for","deliverylocation",1,"col-form-label"],["type","text","name","deliverylocation",1,"form-control",3,"ngModel","ngModelChange"],["for","PaymentTerm",1,"col-form-label"],["name","PaymentTerm",1,"form-control",3,"ngModel","ngModelChange"],["paymentterm","ngModel"],["for","contactedperson",1,"col-form-label"],["type","text","name","contactedperson",1,"form-control",3,"ngModel","ngModelChange"],["for","planneddeliverydate",1,"col-form-label"],["type","date","id","planneddeliverydate","name","planneddeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["planneddeliverydate","ngModel"],["for","Courier",1,"col-form-label"],["name","Courier",1,"form-control",3,"ngModel","ngModelChange"],["Courier","ngModel"],["for","othernotes",1,"col-form-label"],["id","othernotes","name","othernotes","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["othernotes","ngModel"],["for","actualdeliverydate",1,"col-form-label"],["type","date","id","actualdeliverydate","name","actualdeliverydate",1,"form-control",3,"ngModel","ngModelChange"],["actualdeliverydate","ngModel"],["minLength","0","delay","0","field","name","name","SupplierAccount",3,"ngModel","disabled","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts",""],["minLength","0","delay","0","field","name_ar","name","SupplierAccount",3,"disabled","ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],[3,"signature","signatureoutput"],[1,"col-md-6","form-group"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],[3,"wrappe"],["ItemStoreQty",""]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,tm,4,3,"div",0),y["\u0275\u0275template"](1,ug,175,138,"ng-container",1)),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(584)||t.checkRoleParms(585)||t.checkRoleParms(586)||t.checkRoleParms(622))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction0"](2,gg))))},directives:[i.O5,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,i.mk,i.sg,a.Fj,Ie.L,Pe.a,s.Qc,Oe.jx,w.Pz,w.nv,w.Vx,w.uN,w.tO,a.wV,E.K,Ee.k,a.YN,a.Kr,a.qQ,a.Wl,De.t,Be.T],pipes:[l.X$,i.uU,Le.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();function Cg(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function fg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function vg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function yg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",51),y["\u0275\u0275template"](1,fg,2,1,"span",1),y["\u0275\u0275template"](2,vg,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function bg(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",52),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnAdd()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Sg(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Rg(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function xg(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Sg,1,0,"i",48),y["\u0275\u0275template"](3,Rg,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function Mg(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Ig(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Pg(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Mg,1,0,"i",48),y["\u0275\u0275template"](3,Ig,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function Og(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Eg(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function wg(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function kg(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Dg(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Bg(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Lg(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Dg,1,0,"i",48),y["\u0275\u0275template"](3,Bg,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"desc"==e.sortDirection)}}function Fg(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Ng(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Vg(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Fg,1,0,"i",48),y["\u0275\u0275template"](3,Ng,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerNamear"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"desc"==e.sortDirection)}}function qg(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Tg(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Ag(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function Gg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function Ug(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.customername)}}function $g(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.customernamear," ")}}function jg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"a",60),y["\u0275\u0275element"](1,"i",61),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/giftissue/",null==e?null:e.id,"")}}function zg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275template"](1,Ag,2,1,"td",1),y["\u0275\u0275template"](2,Gg,2,1,"td",1),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](7,Ug,2,1,"td",1),y["\u0275\u0275template"](8,$g,2,1,"td",1),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275text"](10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td",56),y["\u0275\u0275template"](12,jg,2,1,"a",57),y["\u0275\u0275elementStart"](13,"a",58),y["\u0275\u0275elementStart"](14,"span"),y["\u0275\u0275element"](15,"i",59),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",1==(null==n.CurrentUserSetting?null:n.CurrentUserSetting.showcostprice)?null==e?null:e.netvalue:"****"," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",n.checkRoleParms(621)),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/giftissue/",null==e?null:e.id,"/show")}}function Wg(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275template"](1,zg,16,9,"tr",55),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.ReceiptList)}}function Jg(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275elementStart"](1,"tr",62),y["\u0275\u0275elementStart"](2,"td",63),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Qg(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",64),y["\u0275\u0275elementStart"](1,"ngb-pagination",65),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",66),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",67),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",68),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",69),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function Yg(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"section"),y["\u0275\u0275elementStart"](2,"div",6),y["\u0275\u0275elementStart"](3,"div",7),y["\u0275\u0275elementStart"](4,"div",8),y["\u0275\u0275elementStart"](5,"h6",9),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",10),y["\u0275\u0275elementStart"](9,"div",11),y["\u0275\u0275elementStart"](10,"section"),y["\u0275\u0275elementStart"](11,"div",4),y["\u0275\u0275elementStart"](12,"div",12),y["\u0275\u0275elementStart"](13,"form",13,14),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](15,"div",4),y["\u0275\u0275elementStart"](16,"div",15),y["\u0275\u0275elementStart"](17,"div",16),y["\u0275\u0275elementStart"](18,"label",17),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"select",18,19),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](23,"option",20),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](26,yg,3,3,"option",21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](27,"div",15),y["\u0275\u0275elementStart"](28,"div",16),y["\u0275\u0275elementStart"](29,"label",22),y["\u0275\u0275text"](30),y["\u0275\u0275pipe"](31,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"input",23,24),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](34,"div",25),y["\u0275\u0275elementStart"](35,"button",26),y["\u0275\u0275element"](36,"i",27),y["\u0275\u0275text"](37),y["\u0275\u0275pipe"](38,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"button",28),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ShowAll()}),y["\u0275\u0275element"](40,"i",27),y["\u0275\u0275text"](41),y["\u0275\u0275pipe"](42,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](43,"div",29),y["\u0275\u0275elementStart"](44,"div",30),y["\u0275\u0275elementStart"](45,"div",31),y["\u0275\u0275template"](46,bg,4,3,"button",32),y["\u0275\u0275elementStart"](47,"button",33),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint()}),y["\u0275\u0275element"](48,"i",27),y["\u0275\u0275text"](49),y["\u0275\u0275pipe"](50,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"button",34),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(1)}),y["\u0275\u0275element"](52,"i",27),y["\u0275\u0275text"](53),y["\u0275\u0275pipe"](54,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](55,"button",35),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](56,"i",27),y["\u0275\u0275text"](57),y["\u0275\u0275pipe"](58,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](59,"div",36),y["\u0275\u0275elementStart"](60,"div",37),y["\u0275\u0275elementStart"](61,"label",38),y["\u0275\u0275text"](62),y["\u0275\u0275pipe"](63,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](64,"input",39,40),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](66,"div",4),y["\u0275\u0275elementStart"](67,"div",41),y["\u0275\u0275elementStart"](68,"div",42),y["\u0275\u0275elementStart"](69,"div",43),y["\u0275\u0275elementStart"](70,"div",44),y["\u0275\u0275elementStart"](71,"table",45),y["\u0275\u0275elementStart"](72,"thead"),y["\u0275\u0275elementStart"](73,"tr"),y["\u0275\u0275elementStart"](74,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),y["\u0275\u0275text"](75),y["\u0275\u0275pipe"](76,"translate"),y["\u0275\u0275template"](77,xg,4,3,"ng-container",1),y["\u0275\u0275template"](78,Pg,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](79,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),y["\u0275\u0275text"](80),y["\u0275\u0275pipe"](81,"translate"),y["\u0275\u0275elementContainerStart"](82),y["\u0275\u0275element"](83,"i",47),y["\u0275\u0275template"](84,Og,1,0,"i",48),y["\u0275\u0275template"](85,Eg,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](86,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),y["\u0275\u0275text"](87),y["\u0275\u0275pipe"](88,"translate"),y["\u0275\u0275elementContainerStart"](89),y["\u0275\u0275element"](90,"i",47),y["\u0275\u0275template"](91,wg,1,0,"i",48),y["\u0275\u0275template"](92,kg,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](93,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),y["\u0275\u0275text"](94),y["\u0275\u0275pipe"](95,"translate"),y["\u0275\u0275template"](96,Lg,4,3,"ng-container",1),y["\u0275\u0275template"](97,Vg,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](98,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),y["\u0275\u0275text"](99),y["\u0275\u0275pipe"](100,"translate"),y["\u0275\u0275elementContainerStart"](101),y["\u0275\u0275element"](102,"i",47),y["\u0275\u0275template"](103,qg,1,0,"i",48),y["\u0275\u0275template"](104,Tg,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](105,"th"),y["\u0275\u0275text"](106,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](107,Wg,2,1,"tbody",1),y["\u0275\u0275template"](108,Jg,5,3,"tbody",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](109,Qg,12,7,"div",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](7,36,"Gift Issue"),""),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](20,38,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,40,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](31,42,"EntryNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](38,44,"Search")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](42,46,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(589)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](50,48,"Print")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](54,50,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](58,52,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](63,54,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](76,56,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](81,58,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](88,60,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](95,62,"custvendor")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](100,64,"value")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","NetValue"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.ReceiptList.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let Hg=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=a,this._translateGlobalService=o,this.spinner=s,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.GetCurrentUserSetting(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Gift Issue"]).subscribe(e=>{this.title=e["Gift Issue"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="85",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/inventorytransiction/giftissue/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransiction/giftissue/0"])}OnView(e){this._router.navigate(["/page/inventorytransiction/giftissue/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/inventorytransiction/giftissue/${e.id}`,this._router.navigate([t])}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",o="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",s="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(c=>{this.cd.markForCheck(),t=`\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>${i}</th>\n                     <th>${r}</th>\n                     <th>${a}</th>\n                     <th>${o}</th>\n                     <th>${s}</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         `,c.map(e=>{var n;t+=`\n        <tr>\n         <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n         <td>${e.entry_no}</td>\n         <td>${e.entry_date}</td>\n         <td>${null!==(n="ar"==this.lang?e.customernamear:e.customername)&&void 0!==n?n:""}</td>\n         <td>${e.netvalue}</td>\n        </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":t.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":t.netvalue}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,"Customer/Vendor":t.customernamear,Total:t.netvalue})}),this._Excel.exportAsExcelFile(e,"GiftIssue")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](P.x),y["\u0275\u0275directiveInject"](O.z),y["\u0275\u0275directiveInject"](v.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-gift-issue"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,v.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success\n                      mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn btn-primary\n                                transparent-BG",3,"routerLink",4,"ngIf"],[1,"btn","btn-primary","transparent-BG",3,"routerLink"],["aria-hidden","true",1,"fa","fa-file-text-o","font-medium-3"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"routerLink"],[1,"ft-edit","font-medium-3"],[2,"background-color","#b0bed9"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Cg,4,3,"div",0),y["\u0275\u0275template"](1,Yg,110,66,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(588)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(588)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,E.K,c.yS,w.N9],pipes:[l.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();const Zg=["serialModel"],Kg=["RForm"];function Xg(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function e_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",84),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DocumentAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function t_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",85),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PrintPreview(0)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function n_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",88),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).onPrint()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function i_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",88),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](4).DeleteAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function r_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,i_,3,4,"button",86),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function a_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",88),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DupilcateAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function o_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,n_,3,4,"button",86),y["\u0275\u0275template"](2,r_,2,1,"div",1),y["\u0275\u0275template"](3,a_,3,4,"button",86),y["\u0275\u0275elementStart"](4,"email-popup",87),y["\u0275\u0275listener"]("_savedemailobj",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).sendEmail(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(591)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(590)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(589)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("entryno",e._Receipt.entry_no)}}function s_(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function c_(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function l_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function d_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function p_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,l_,2,1,"span",1),y["\u0275\u0275template"](2,d_,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function h_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function m_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function u_(e,t){if(1&e&&(y["\u0275\u0275template"](0,h_,2,1,"div",1),y["\u0275\u0275template"](1,m_,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function g_(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",67),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function __(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",67),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function C_(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",67),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function f_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function v_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function y_(e,t){if(1&e&&(y["\u0275\u0275template"](0,f_,2,1,"div",1),y["\u0275\u0275template"](1,v_,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function b_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function S_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function R_(e,t){if(1&e&&(y["\u0275\u0275template"](0,b_,2,1,"div",1),y["\u0275\u0275template"](1,S_,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const x_=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function M_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",118),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,x_,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function I_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",118),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,x_,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function P_(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",119),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function O_(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",119),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function E_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function w_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function k_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",120),y["\u0275\u0275template"](1,E_,2,1,"span",1),y["\u0275\u0275template"](2,w_,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang)}}const D_=function(e,t){return{"invalid-data":e,"valid-data":t}};function B_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",121,122),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("step",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack),y["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),y["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id))("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](9,D_,e.invalid&&r.submitted,e.valid&&r.submitted))}}function L_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",123,124),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.price=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),y["\u0275\u0275property"]("ngModel",i.price)("readonly",!0)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](6,D_,e.invalid&&r.submitted,e.valid&&r.submitted))}}function F_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",125),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.total=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_total",t,""),y["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}function N_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"a",127),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"](2).index,n=y["\u0275\u0275nextContext"](3);return n.OnSerialItems(t,n.serialModel)}),y["\u0275\u0275element"](1,"i",128),y["\u0275\u0275elementEnd"]()}}function V_(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,N_,2,0,"a",126),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1!=e.CashCustomerSetting.dispensingpolicy)}}const q_=function(e){return{item_id:e}};function T_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",100),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"p-autoComplete",101,102),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](5),r=y["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275template"](7,y_,2,2,"ng-template",103),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"p-autoComplete",104,105),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](10),r=y["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).onClearItems(t)}),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275template"](12,R_,2,2,"ng-template",106),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"td",107),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),y["\u0275\u0275template"](14,M_,2,5,"div",108),y["\u0275\u0275template"](15,I_,2,5,"div",108),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"select",109,110),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),y["\u0275\u0275template"](19,P_,2,1,"option",111),y["\u0275\u0275template"](20,O_,2,1,"option",111),y["\u0275\u0275template"](21,k_,3,4,"option",112),y["\u0275\u0275pipe"](22,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,B_,3,12,"td",1),y["\u0275\u0275elementStart"](24,"td"),y["\u0275\u0275elementStart"](25,"input",113,114),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](27,L_,3,9,"td",1),y["\u0275\u0275template"](28,F_,2,3,"td",1),y["\u0275\u0275elementStart"](29,"td",115),y["\u0275\u0275elementStart"](30,"a",116),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteItems(t)}),y["\u0275\u0275element"](31,"i",117),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](32,V_,2,1,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=t.index,r=y["\u0275\u0275reference"](18),a=y["\u0275\u0275reference"](26);y["\u0275\u0275nextContext"](2);const o=y["\u0275\u0275reference"](3),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i+1),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),y["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](6,33,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),y["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](11,35,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](40,D_,r.invalid&&o.submitted,r.valid&&o.submitted)),y["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](22,37,s.ItemUnitsList,y["\u0275\u0275pureFunction1"](43,q_,null==e?null:e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",y["\u0275\u0275pureFunction2"](45,D_,a.invalid&&o.submitted,a.valid&&o.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",(2==e.isrequireserial||3==e.isrequireserial)&&1==s.CashCustomerSetting.salesreturneffect)}}const A_=function(e){return{"table-for-autocomplete":e}};function G_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",91),y["\u0275\u0275elementStart"](1,"div",92),y["\u0275\u0275elementStart"](2,"div",93),y["\u0275\u0275elementStart"](3,"table",66),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275element"](6,"th"),y["\u0275\u0275elementStart"](7,"th",94),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",67),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"th",67),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"th",95),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,g_,3,3,"th",96),y["\u0275\u0275elementStart"](20,"th",67),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,__,3,3,"th",96),y["\u0275\u0275template"](24,C_,3,3,"th",96),y["\u0275\u0275elementStart"](25,"th",97),y["\u0275\u0275text"](26," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](27,"tbody"),y["\u0275\u0275elementStart"](28,"tbody"),y["\u0275\u0275template"](29,T_,33,48,"tr",98),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"button",99),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddItems()}),y["\u0275\u0275text"](31),y["\u0275\u0275pipe"](32,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](24,A_,e.isType)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,12,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,18,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,20,"qty")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](32,22,"Add")," ")}}function U_(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",67),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function $_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function j_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function z_(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",119),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function W_(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",119),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function J_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Q_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Y_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,J_,2,1,"span",1),y["\u0275\u0275template"](2,Q_,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](5);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function H_(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",134),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",t,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",n.conv)}}function Z_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"input",130),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"input",130),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275template"](6,$_,2,1,"div",1),y["\u0275\u0275template"](7,j_,2,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"select",131),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),y["\u0275\u0275template"](10,z_,2,1,"option",111),y["\u0275\u0275template"](11,W_,2,1,"option",111),y["\u0275\u0275template"](12,Y_,3,3,"option",132),y["\u0275\u0275pipe"](13,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](14,H_,2,3,"td",1),y["\u0275\u0275elementStart"](15,"td"),y["\u0275\u0275elementStart"](16,"input",133),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"input",133),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"td"),y["\u0275\u0275elementStart"](20,"input",133),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.storecode),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.itemcode),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id),y["\u0275\u0275attribute"]("disabled",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](13,24,i.ItemComponentUnitsList,y["\u0275\u0275pureFunction1"](27,q_,e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",n,""),y["\u0275\u0275property"]("ngModel",e.qty)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_price_c",n,""),y["\u0275\u0275property"]("ngModel",e.price)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_total_c",n,""),y["\u0275\u0275property"]("ngModel",e.total)("readonly",!0)}}const K_=function(e){return{finishedproductid:e}};function X_(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",91),y["\u0275\u0275elementStart"](1,"div",92),y["\u0275\u0275elementStart"](2,"div",65),y["\u0275\u0275elementStart"](3,"table",66),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",67),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",67),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",67),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",95),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](18,U_,3,3,"th",96),y["\u0275\u0275elementStart"](19,"th",67),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",67),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"th",67),y["\u0275\u0275text"](26),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"tbody"),y["\u0275\u0275template"](29,Z_,21,29,"tr",129),y["\u0275\u0275pipe"](30,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,9,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](17,15,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,17,"qty")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,19,"Price")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](27,21,"Total")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",0==e.show_all_component?y["\u0275\u0275pipeBind2"](30,23,e.ItemsComponentList,y["\u0275\u0275pureFunction1"](26,K_,null==e.SelectedItem?null:e.SelectedItem.item_id)):e.ItemsComponentList)}}function eC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"li",62),y["\u0275\u0275elementStart"](1,"a",59),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](4,X_,31,28,"ng-template",60),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngbNavItem",2),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,2,"Components")))}function tC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function nC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",89),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]())}function iC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function rC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function aC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,iC,2,1,"span",1),y["\u0275\u0275template"](2,rC,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function oC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",119),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function sC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",119),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function cC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function lC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function dC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,cC,2,1,"span",1),y["\u0275\u0275template"](2,lC,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function pC(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",135),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),y["\u0275\u0275template"](3,tC,2,0,"option",29),y["\u0275\u0275template"](4,nC,2,0,"option",29),y["\u0275\u0275template"](5,aC,3,3,"option",132),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"select",135),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](8,oC,2,1,"option",111),y["\u0275\u0275template"](9,sC,2,1,"option",111),y["\u0275\u0275template"](10,dC,3,3,"option",132),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275elementStart"](12,"input",136,137),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"td",115),y["\u0275\u0275elementStart"](15,"a",138),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),y["\u0275\u0275element"](16,"i",139),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"a",138),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),y["\u0275\u0275element"](18,"i",140),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"td"),y["\u0275\u0275elementStart"](20,"a",138),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),y["\u0275\u0275element"](21,"i",117),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),y["\u0275\u0275property"]("ngModel",e.branch_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.BranchList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no),y["\u0275\u0275advance"](3),y["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function hC(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",91),y["\u0275\u0275elementStart"](1,"div",92),y["\u0275\u0275elementStart"](2,"div",65),y["\u0275\u0275elementStart"](3,"table",66),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",67),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",67),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",67),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",97),y["\u0275\u0275text"](16," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"tbody"),y["\u0275\u0275template"](18,pC,22,13,"tr",129),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"button",99),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,5,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,11,"Add")," ")}}function mC(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",91),y["\u0275\u0275elementStart"](1,"div",92),y["\u0275\u0275elementStart"](2,"Signature",141),y["\u0275\u0275listener"]("signatureoutput",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("signature",e._Receipt.signature)}}function uC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function gC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e.subsaidarySetting?null:e.subsaidarySetting.costcenteralternativetext,"")}}function _C(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function CC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function fC(e,t){if(1&e&&(y["\u0275\u0275template"](0,_C,2,1,"div",1),y["\u0275\u0275template"](1,CC,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function vC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function yC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetextar)}}function bC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetext)}}function SC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,yC,2,1,"span",1),y["\u0275\u0275template"](2,bC,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function RC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",26),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function xC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function MC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function IC(e,t){if(1&e&&(y["\u0275\u0275template"](0,xC,2,1,"div",1),y["\u0275\u0275template"](1,MC,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function PC(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",143),y["\u0275\u0275elementStart"](1,"label",34),y["\u0275\u0275template"](2,vC,3,3,"span",1),y["\u0275\u0275template"](3,SC,3,2,"span",1),y["\u0275\u0275template"](4,RC,2,0,"span",152),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",153,154),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInClasses(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.classfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesChangeSearch(t)}),y["\u0275\u0275template"](8,IC,2,2,"ng-template",155),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans)("ngModel",n._Receipt.classfieldname)("suggestions",n.ClassList)("ngClass",y["\u0275\u0275pureFunction2"](7,D_,e.invalid&&t.submitted,e.valid&&t.submitted))}}function OC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function EC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetext)}}function wC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetextar)}}function kC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,EC,2,1,"span",1),y["\u0275\u0275template"](2,wC,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function DC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",26),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function BC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function LC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function FC(e,t){if(1&e&&(y["\u0275\u0275template"](0,BC,2,1,"div",1),y["\u0275\u0275template"](1,LC,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function NC(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",143),y["\u0275\u0275elementStart"](1,"label",34),y["\u0275\u0275template"](2,OC,3,3,"span",1),y["\u0275\u0275template"](3,kC,3,2,"span",1),y["\u0275\u0275template"](4,DC,2,0,"span",152),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",156,157),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInLocations(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsChangeSearch(t)}),y["\u0275\u0275template"](8,FC,2,2,"ng-template",158),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans)("ngModel",n._Receipt.locationfieldname)("suggestions",n.LocationList)("ngClass",y["\u0275\u0275pureFunction2"](7,D_,e.invalid&&t.submitted,e.valid&&t.submitted))}}function VC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function qC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetextar)}}function TC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetext)}}function AC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,qC,2,1,"span",1),y["\u0275\u0275template"](2,TC,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function GC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",26),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function UC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function $C(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function jC(e,t){if(1&e&&(y["\u0275\u0275template"](0,UC,2,1,"div",1),y["\u0275\u0275template"](1,$C,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function zC(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",143),y["\u0275\u0275elementStart"](1,"label",34),y["\u0275\u0275template"](2,VC,3,3,"span",1),y["\u0275\u0275template"](3,AC,3,2,"span",1),y["\u0275\u0275template"](4,GC,2,0,"span",152),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",159,160),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInDepartment(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentChangeSearch(t)}),y["\u0275\u0275template"](8,jC,2,2,"ng-template",161),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans)("ngModel",n._Receipt.departmentfieldname)("suggestions",n.DepartmentList)("ngClass",y["\u0275\u0275pureFunction2"](7,D_,e.invalid&&t.submitted,e.valid&&t.submitted))}}function WC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Devission")," "))}function JC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.divisionalternativetextar)}}function QC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.divisionalternativetext)}}function YC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,JC,2,1,"span",1),y["\u0275\u0275template"](2,QC,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function HC(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",26),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function ZC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function KC(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function XC(e,t){if(1&e&&(y["\u0275\u0275template"](0,ZC,2,1,"div",1),y["\u0275\u0275template"](1,KC,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function ef(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",143),y["\u0275\u0275elementStart"](1,"label",34),y["\u0275\u0275template"](2,WC,3,3,"span",1),y["\u0275\u0275template"](3,YC,3,2,"span",1),y["\u0275\u0275template"](4,HC,2,0,"span",152),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",162,163),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInDivision(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.divisionfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DivisionSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DivisionChangeSearch(t)}),y["\u0275\u0275template"](8,XC,2,2,"ng-template",164),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.divisionalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.divisionalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.divisionmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.divisionmandatory4invtrans)("ngModel",n._Receipt.divisionfieldname)("suggestions",n.DivisionList)("ngClass",y["\u0275\u0275pureFunction2"](7,D_,e.invalid&&t.submitted,e.valid&&t.submitted))}}function tf(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",119),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function nf(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",119),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function rf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function af(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function of(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,rf,2,1,"span",1),y["\u0275\u0275template"](2,af,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function sf(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",119),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function cf(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",119),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function lf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function df(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function pf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",90),y["\u0275\u0275template"](1,lf,2,1,"span",1),y["\u0275\u0275template"](2,df,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function hf(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"div",142),y["\u0275\u0275elementStart"](2,"div",143),y["\u0275\u0275elementStart"](3,"label",34),y["\u0275\u0275template"](4,uC,3,3,"span",1),y["\u0275\u0275template"](5,gC,2,1,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"p-autoComplete",144,145),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"](2).onFocusInCostCenter(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterChangeSearch(t)}),y["\u0275\u0275template"](9,fC,2,2,"ng-template",146),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](10,PC,9,10,"div",147),y["\u0275\u0275template"](11,NC,9,10,"div",147),y["\u0275\u0275template"](12,zC,9,10,"div",147),y["\u0275\u0275template"](13,ef,9,10,"div",147),y["\u0275\u0275elementStart"](14,"div",143),y["\u0275\u0275elementStart"](15,"label",148),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"select",149),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.carid=t})("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).ChangeCar()}),y["\u0275\u0275template"](19,tf,2,1,"option",111),y["\u0275\u0275template"](20,nf,2,1,"option",111),y["\u0275\u0275template"](21,of,3,3,"option",132),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"div",143),y["\u0275\u0275elementStart"](23,"label",150),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"select",151),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.driverid=t})("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).ChangeDriver()}),y["\u0275\u0275template"](27,sf,2,1,"option",111),y["\u0275\u0275template"](28,cf,2,1,"option",111),y["\u0275\u0275template"](29,pf,3,3,"option",132),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](3),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.costcentermandatory4invtrans)("ngModel",n._Receipt.costcenterfieldname)("suggestions",n.CostCenterList)("ngClass",y["\u0275\u0275pureFunction2"](24,D_,e.invalid&&t.submitted,e.valid&&t.submitted)),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.divisionisactive),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](17,20,"Cars")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",n._Receipt.carid),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",n.CarsList),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](25,22,"Drivers")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",n._Receipt.driverid),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",n.DriversList)}}function mf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function uf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function gf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",165),y["\u0275\u0275template"](1,mf,2,1,"span",1),y["\u0275\u0275template"](2,uf,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function _f(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function Cf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function ff(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",165),y["\u0275\u0275template"](1,_f,2,1,"span",1),y["\u0275\u0275template"](2,Cf,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function vf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"Item-StoreQty",166,167),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function yf(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"section"),y["\u0275\u0275elementStart"](2,"form",6,7),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](3);return y["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),y["\u0275\u0275elementStart"](4,"div",8),y["\u0275\u0275elementStart"](5,"div",9),y["\u0275\u0275elementStart"](6,"div",10),y["\u0275\u0275elementStart"](7,"div",11),y["\u0275\u0275elementStart"](8,"h6",12),y["\u0275\u0275text"](9),y["\u0275\u0275pipe"](10,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"div",4),y["\u0275\u0275elementStart"](12,"div",13),y["\u0275\u0275elementStart"](13,"button",14),y["\u0275\u0275element"](14,"i",15),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"button",16),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateNewAction()}),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](20,e_,3,4,"button",17),y["\u0275\u0275template"](21,t_,3,4,"button",18),y["\u0275\u0275elementStart"](22,"button",19),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"div",20),y["\u0275\u0275elementStart"](26,"button",21),y["\u0275\u0275text"](27),y["\u0275\u0275pipe"](28,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"div",22),y["\u0275\u0275template"](30,o_,5,4,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"div",4),y["\u0275\u0275elementStart"](32,"div",23),y["\u0275\u0275elementStart"](33,"div",24),y["\u0275\u0275elementStart"](34,"label",25),y["\u0275\u0275text"](35),y["\u0275\u0275pipe"](36,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](37,"span",26),y["\u0275\u0275text"](38,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"select",27,28),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeBranch(t)}),y["\u0275\u0275template"](41,s_,2,0,"option",29),y["\u0275\u0275template"](42,c_,2,0,"option",29),y["\u0275\u0275template"](43,p_,3,3,"option",30),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](44,"div",23),y["\u0275\u0275elementStart"](45,"div",24),y["\u0275\u0275elementStart"](46,"label",31),y["\u0275\u0275text"](47),y["\u0275\u0275pipe"](48,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](49,"span",26),y["\u0275\u0275text"](50,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"input",32,33),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](53,"div",23),y["\u0275\u0275elementStart"](54,"div",24),y["\u0275\u0275elementStart"](55,"label",34),y["\u0275\u0275text"](56),y["\u0275\u0275pipe"](57,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"span",26),y["\u0275\u0275text"](59,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"p-autoComplete",35,36),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](61);return y["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onClearCustomer(t)}),y["\u0275\u0275pipe"](63,"translate"),y["\u0275\u0275template"](64,u_,2,2,"ng-template",37),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"div",23),y["\u0275\u0275elementStart"](66,"div",24),y["\u0275\u0275elementStart"](67,"label",38),y["\u0275\u0275text"](68),y["\u0275\u0275pipe"](69,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](70,"input",39,40),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](72,"div",4),y["\u0275\u0275elementStart"](73,"div",23),y["\u0275\u0275elementStart"](74,"div",24),y["\u0275\u0275elementStart"](75,"label",41),y["\u0275\u0275text"](76),y["\u0275\u0275pipe"](77,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](78,"input",42,43),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),y["\u0275\u0275pipe"](80,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](81,"div",23),y["\u0275\u0275elementStart"](82,"div",24),y["\u0275\u0275elementStart"](83,"label",44),y["\u0275\u0275text"](84),y["\u0275\u0275pipe"](85,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](86,"input",45,46),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](88,"div",23),y["\u0275\u0275elementStart"](89,"div",24),y["\u0275\u0275elementStart"](90,"label",47),y["\u0275\u0275text"](91),y["\u0275\u0275pipe"](92,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](93,"input",48,49),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.memo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](95,"div",23),y["\u0275\u0275elementStart"](96,"div",24),y["\u0275\u0275elementStart"](97,"label",50),y["\u0275\u0275text"](98),y["\u0275\u0275pipe"](99,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](100,"input",51,52),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](102,"div",53),y["\u0275\u0275elementStart"](103,"div",54),y["\u0275\u0275elementStart"](104,"div",4),y["\u0275\u0275elementStart"](105,"div",55),y["\u0275\u0275elementStart"](106,"ul",56,57),y["\u0275\u0275listener"]("activeIdChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().activeNav=t}),y["\u0275\u0275elementStart"](108,"li",58),y["\u0275\u0275elementStart"](109,"a",59),y["\u0275\u0275text"](110),y["\u0275\u0275pipe"](111,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](112,G_,33,26,"ng-template",60),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](113,eC,5,4,"li",61),y["\u0275\u0275elementStart"](114,"li",62),y["\u0275\u0275elementStart"](115,"a",59),y["\u0275\u0275text"](116),y["\u0275\u0275pipe"](117,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](118,hC,22,13,"ng-template",60),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](119,"li",62),y["\u0275\u0275elementStart"](120,"a",59),y["\u0275\u0275text"](121),y["\u0275\u0275pipe"](122,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](123,mC,3,1,"ng-template",60),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](124,"li",62),y["\u0275\u0275elementStart"](125,"a",59),y["\u0275\u0275text"](126),y["\u0275\u0275pipe"](127,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](128,hf,30,27,"ng-template",60),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](129,"div",63),y["\u0275\u0275elementStart"](130,"div",4),y["\u0275\u0275elementStart"](131,"div",64),y["\u0275\u0275elementStart"](132,"div",65),y["\u0275\u0275elementStart"](133,"table",66),y["\u0275\u0275elementStart"](134,"thead"),y["\u0275\u0275elementStart"](135,"tr"),y["\u0275\u0275element"](136,"th",67),y["\u0275\u0275elementStart"](137,"th",68),y["\u0275\u0275text"](138),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](139,"th",67),y["\u0275\u0275text"](140),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](141,"tbody"),y["\u0275\u0275elementStart"](142,"tr"),y["\u0275\u0275elementStart"](143,"td"),y["\u0275\u0275text"](144),y["\u0275\u0275pipe"](145,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](146,"td",69),y["\u0275\u0275elementStart"](147,"input",70),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.valueforeign=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](148,"td"),y["\u0275\u0275elementStart"](149,"input",71),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.value=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](150,"tr"),y["\u0275\u0275elementStart"](151,"td"),y["\u0275\u0275text"](152),y["\u0275\u0275pipe"](153,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](154,"td",69),y["\u0275\u0275elementStart"](155,"input",72,73),y["\u0275\u0275listener"]("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("foreign","percent")})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_foreignpercent=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](157,gf,3,2,"div",74),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](158,"td"),y["\u0275\u0275elementStart"](159,"input",75,76),y["\u0275\u0275listener"]("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("local","percent")})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_percent=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](161,ff,3,2,"div",74),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](162,"tr"),y["\u0275\u0275elementStart"](163,"td"),y["\u0275\u0275text"](164),y["\u0275\u0275pipe"](165,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](166,"td",69),y["\u0275\u0275elementStart"](167,"input",77),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_foreignvalue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("foreign","value")}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](168,"td"),y["\u0275\u0275elementStart"](169,"input",78),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_value=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("local","value")}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](170,"tr"),y["\u0275\u0275elementStart"](171,"td"),y["\u0275\u0275text"](172),y["\u0275\u0275pipe"](173,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](174,"td",69),y["\u0275\u0275elementStart"](175,"input",79),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](176,"td"),y["\u0275\u0275elementStart"](177,"input",80),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalue=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](178,"tr"),y["\u0275\u0275elementStart"](179,"td"),y["\u0275\u0275text"](180),y["\u0275\u0275pipe"](181,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](182,"td"),y["\u0275\u0275elementStart"](183,"input",81),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.qtotal=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](184,"tr"),y["\u0275\u0275elementStart"](185,"td"),y["\u0275\u0275text"](186),y["\u0275\u0275pipe"](187,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](188,"td"),y["\u0275\u0275elementStart"](189,"input",82),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.totalitem=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](190,"div",83),y["\u0275\u0275template"](191,vf,3,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](3),t=y["\u0275\u0275reference"](40),n=y["\u0275\u0275reference"](52),i=y["\u0275\u0275reference"](62),r=y["\u0275\u0275reference"](79),a=y["\u0275\u0275reference"](107),o=y["\u0275\u0275reference"](156),s=y["\u0275\u0275reference"](160),c=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](9),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](10,99,"Gift Issue"),""),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("disabled",c.VouchersLinkedCount>0||1==c.ShowModeReceipt||1==c.DuringSaveDisable||c.ReceiptID>0&&!c.checkRoleParms(621)||0==c.ReceiptID&&!c.checkRoleParms(589)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](16,101,"Save")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275attribute"]("disabled",!c.checkRoleParms(589)||1==c.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](19,103,"CreateNew")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",c.ReceiptID>0&&0==c.VouchersLinkedCount),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",c.ReceiptID>0&&c.checkRoleParms(591)),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==c.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,105,"Exit")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](28,107,"Action Menu")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",c.ReceiptID>0),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](36,109,"Branch")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",c._Receipt.branch_id)("ngClass",y["\u0275\u0275pureFunction2"](150,D_,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",c.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=c.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==c.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",c.BranchList)("ngForTrackBy",c.customTrackBy),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](48,111,"Entry#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("stepallow",1)("ngModel",c._Receipt.entry_no)("readonly",0==(null==c.CurrentUserSetting?null:c.CurrentUserSetting.controlvouchernumanddate)||c.VouchersLinkedCount>0||1==c.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",y["\u0275\u0275pureFunction2"](153,D_,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](57,113,"Customer#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",c._Receipt.cashcustomer_vendor_code)("suggestions",c.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](63,115,"NoResultsFound"))("forceSelection",!0)("ngClass",y["\u0275\u0275pureFunction2"](156,D_,i.invalid&&e.submitted,i.valid&&e.submitted)),y["\u0275\u0275advance"](8),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](69,117,"CustomerName")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",c._Receipt.cashcustomer_vendor_name)("readonly",!0),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](77,119,"Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](80,121,c._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==c.CurrentUserSetting?null:c.CurrentUserSetting.controlvouchernumanddate)||c.VouchersLinkedCount>0||1==c.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](159,D_,r.invalid&&e.submitted||0==c.ValidPeriod,r.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](85,124,"time")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",0==(null==c.CurrentUserSetting?null:c.CurrentUserSetting.controlvouchernumanddate)||c.VouchersLinkedCount>0||1==c.LockedRecepit)("ngModel",c._Receipt.entry_time),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](92,126,"Memo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",c._Receipt.memo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](99,128,"ReferenceNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",c._Receipt.reference_no),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("destroyOnHide",!1)("activeId",c.activeNav),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngbNavItem",1),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](111,130,"Items")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",null==c.CurrentUserSetting?null:c.CurrentUserSetting.showreceiptitemcomponent),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngbNavItem",3),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](117,132,"LinkedReceipt")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",4),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](122,134,"Signature")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",5),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](127,136,"AnalyticalAccount")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavOutlet",a),y["\u0275\u0275advance"](8),y["\u0275\u0275property"]("hidden",!c.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" Total - ",null==c._CurrencySelected?null:c._CurrencySelected.currencysymbol," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" Total - ",null==c._BaseCurrency?null:c._BaseCurrency.currencysymbol," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](145,138,"Total")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!c.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("readonly",!0)("ngModel",c._Receipt.valueforeign),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",!0)("ngModel",c._Receipt.value),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](153,140,"Disc%")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!c.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("customMax",null==c.CurrentUserSetting?null:c.CurrentUserSetting.maxreceiptdiscountperc),y["\u0275\u0275property"]("readonly",!(null!=c.CurrentUserSetting&&c.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",c._Receipt.discount_foreignpercent)("ngClass",y["\u0275\u0275pureFunction2"](162,D_,o.invalid&&e.submitted,o.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==o.errors?null:o.errors.customMax),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate"]("customMax",null==c.CurrentUserSetting?null:c.CurrentUserSetting.maxreceiptdiscountperc),y["\u0275\u0275property"]("readonly",!(null!=c.CurrentUserSetting&&c.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",c._Receipt.discount_percent)("ngClass",y["\u0275\u0275pureFunction2"](165,D_,s.invalid&&e.submitted,s.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==s.errors?null:s.errors.customMax),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](165,142,"Discount")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!c.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("readonly",!(null!=c.CurrentUserSetting&&c.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",c._Receipt.discount_foreignvalue),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",!(null!=c.CurrentUserSetting&&c.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",c._Receipt.discount_value),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](173,144,"Net")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!c.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",c._Receipt.netvalueforeign)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",c._Receipt.netvalue)("readonly",!0),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](181,146,"totalqty")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",c._Receipt.qtotal),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](187,148,"totalitem")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",c._Receipt.totalitem),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",c.itemqtyview)}}const bf=function(){return[588,589,590,591,621]};let Sf=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u,g,_,f){this._cashsalesService=e,this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this.cd=r,this.toastr=a,this._router=o,this._generalService=s,this.translate=c,this._translateGlobalService=l,this._activeRoute=d,this.modalService=p,this.spinner=h,this._authService=m,this._printService=u,this._VerifyReportsService=g,this.datepipe=_,this.location=f,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=85,this.Transaction_move=0,this._Receipt=new C.tY,this._ReceiptOriginal=new C.tY,this._Receipt_h_Edit=new C.Iu,this._CashSalesDetailsReceipt=new C.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new C.tH,this._LinkedReceipt=new C.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.NOComponents="",this.VouchersLinkedCount=0,this.BranchList=[],this.CustomerAccountsList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CarsList=[],this.DriversList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.DivisionList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.BatchesListForEatchRow=[],this.reporturl="",this.reportdomainUrl=xe.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.Receiptnoitems="",this.NoUnits="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.CustomerPricelistMsg="",this.RelatedwithSerialsOrBatches="",this.DuringSaveDisable=!1,this.show_all_component=!1,this.StopSelesErrorMsg="",this.QtyIsValidWithAvailableQty="",this.requiredserial=2,this._batchqty=0,this.InValidQty="",this.selectedindex=0,this.InValidNumberOfBatch="",this.InValidQtyForBatch="",this.BranchApplyTax=!0,this.TaxPercentage=0,this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemqtyList=new Array,this._totalcost=0,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.CustomerCostCenterList=[],d.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods(),this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransiction/giftissue/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","SaveMsg","Gift Issue","NOComponents","CostPostingPeriodMessage","No","swalNewActionTitle","swalNewActionText","CustomerPricelistMsg","RelatedwithSerialsOrBatches","QtyIsValidWithAvailableQty","InValidQty","InValidNumberOfBatch","InValidQtyForBatch","cantNotDuplicateItem"]).subscribe(e=>{document.title=e["Gift Issue"],this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.Receiptnoitems=e.Receiptnoitems,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.NoUnits=e.NoUnits,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.Close=e.Close,this.NOComponents=e.NOComponents,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.No=e.No,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,this.InValidQty=e.InValidQty,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.InValidQtyForBatch=e.InValidQtyForBatch,this.cantNotDuplicateItem=e.cantNotDuplicateItem})})}ngOnInit(){}SetInitialMethods(){this._Receipt=new C.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.DriverUsersByCarID(),this.CarByDriverID(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,be.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt(),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.customersalesprice=5,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),console.log(this._Receipt.entry_date),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{if(console.log("fhdof",e.receipt),null!=e.receipt){if(this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this.BranchApplyTax=e.receipt.applytax,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.qtotal=e.items.qty,this._Receipt.totalitem=e.items.length,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this.PriceListItemsOnly=e.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:e.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.cashcustomername_ar:e.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.divisionfieldname="ar"==this.lang?{divisionfieldname:e.receipt.division_sug_ar}:{divisionfieldname:e.receipt.division_sug},this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.divisionfieldname="ar"==this.lang?{divisionfieldname:e.receipt.division_sug_ar}:{divisionfieldname:e.receipt.division_sug},this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptmultipayment=e.receiptmultipayment,this.ItemsComponentList=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),null==this._Receipt.qtotal||null==this._Receipt.totalitem){let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=e.items.length}this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._ReceiptOriginal),console.log(this._Receipt),this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck()}})}CheckPre_SaveReceipt(e){if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++)if(null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{if(!(this._Receipt.details[e].qty>0))return void this.toastr.error(this.qtyZeroErrorSaveMsg);0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].qty>0){0!=this._Receipt.value?(this._Receipt.itemscomponent[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty%(1/0)||0,this._Receipt.itemscomponent[e].h_discount_percentage=100*(this._Receipt.itemscomponent[e].h_discount_value/(this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty)%(1/0)||0)):(this._Receipt.itemscomponent[e].h_discount_value=0,this._Receipt.itemscomponent[e].h_discount_percentage=0);{let t=this.ItemComponentUnitsList.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._Receipt.itemscomponent[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.itemscomponent[e].conv/t.conv):this._Receipt.itemscomponent[e].conv,this._Receipt.itemscomponent[e].final_conv=0==this._Receipt.itemscomponent[e].final_conv?1:this._Receipt.itemscomponent[e].final_conv}}this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status||"INVALID"==e.form.controls.Division.status?5:1}SaveReceipt(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();if(1==this.CashCustomerSetting.salesreturneffect){let e=[];if(this._Receipt.details.forEach(t=>{3==t.isrequireserial&&(t.allowqtyselectforitem=!0,0==t.batcheslist.length?(t.allowqtyselectforitem=!1,e.push(!1)):0==t.validrow&&(t.allowqtyselectforitem=!1,e.push(!0)))}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.details.forEach(t=>{if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,e.push(!1);else{let n=0;t.batcheslist.forEach(e=>{var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0});let i=this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id);n!=t.qty*(t.conv*i[0].finalconv/i[0].conv)&&(t.allowqtyselectforitem=!1,e.push(!1))}}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}console.log("con..."),this.DuringSaveDisable=!0;for(let e=0;e<this._Receipt.linkedreceipts.length;e++)0==this._Receipt.linkedreceipts[e].fire&&(this._Receipt.linkedreceipts.splice(e,1),e--);null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,this._router.navigate(["/page/inventorytransiction/giftissue/"+this.ReceiptID]).then(()=>{window.location.reload()})})):(this._Receipt_h_Edit=new C.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/inventorytransiction/giftissue/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e&&this.ChangeEntryDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&ye().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/inventorytransiction/giftissue/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetDefaultStoreCostCenterByBranch(e=!1,t=!0){1==t&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==e&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{if(e.length>0?(this.StoreCostCenterSetting=e[0],this.BranchApplyTax=e[0].applytax):this.StoreCostCenterSetting={storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid){if(0==this._Receipt.details.length){this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}}1==t&&this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this._Receipt.itemscomponent.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))}null!=this.StoreCostCenterSetting.costcenterid&&(this._Receipt.costcenterid=this.StoreCostCenterSetting.costcenterid,this._Receipt.costcenterfieldname={costcenterfieldname:"ar"==this.lang?this.StoreCostCenterSetting.costcentername_ar:this.StoreCostCenterSetting.costcentername}),this.cd.markForCheck()})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:1,allowpack:!1,dispensingpolicy:1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e,this.cd.markForCheck()})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeCurrency(e){if(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.Calculate_Total_Tax_Net(),this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(let e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null)}}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;ye().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){ye().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this._Receipt.vendor_balance=e.balance,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetCustomerCostCenter()}GetCustomerAccountsList(e=""){this._CustomerService.CustomerAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}GetCustomerCostCenter(){this._ReceiptSharedService.GetCustomerCostCenter(this.subsidiaryID,this._Receipt.vendor_id).subscribe(e=>{this.CustomerCostCenterList=[],this.CustomerCostCenterList=e,this.CustomerCostCenterList.length>0?(this._Receipt.costcenterid=this.CustomerCostCenterList[0].id,this._Receipt.costcenterfieldname="ar"==this.lang?{costcenterfieldname:this.CustomerCostCenterList[0].sugar}:{costcenterfieldname:this.CustomerCostCenterList[0].sug}):this.GetDefaultStoreCostCenterByBranch(!0,!1),this.cd.markForCheck()})}onClearCustomer(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_balance=null,this._Receipt.vendor_id=null}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e,t){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,this.cd.markForCheck()})}onClearItems(e){let t=this._Receipt.details[e];if(3==t.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));if(null!=this._Receipt.details[e].id){let t=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[e].rowno=t+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(t=>t.item_id==e.id)?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),1!=this.CashCustomerSetting.salesreturneffect||1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}duplicateItemSwalPopUp(e){ye().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(t=>{this.onClearItems(e),this._Receipt.details[e].itemcode=null,this.cd.markForCheck()})}DispensingPolicy(e){}GetItemsList(e=""){this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):3==e.item_type&&0==n.itemcomponents.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NOComponents)):(this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this._Receipt.details[t].haswarrenty=n.item.haswarrenty,this._Receipt.details[t].warrantydate=n.item.haswarrenty?this.getwarrantydateDate():null,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.inventory_unitid,n.componentsunits.length>0&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.componentsunits)),n.itemcomponents.length>0&&n.itemcomponents.forEach(e=>{let n=new C.hm;n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode=e.itemcode,n.unit_id=e.itemcomponentunitid,n.qty=e.itemcomponentqty,n.basicqtycomponent=e.itemcomponentqty,n.conv=e.itemcomponentconv,n.itemcode=e.itemcode,n.price=0,n.total=n.price*n.qty,n.store_id=this._Receipt.details[t].store_id,n.transaction_move=this.Transaction_move,n.item_type=e.item_type,n.storecode=null!=this._Receipt.details[t].storecode?this._Receipt.details[t].storecode.code:null,n.parentrowno=this._Receipt.details[t].rowno,this._Receipt.itemscomponent.push(n)}),this.ChangeItemUnits(e.inventory_unitid,t)),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);5==this._Receipt.customersalesprice&&null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(e=>{console.log(e),e.length>0?(this._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)):(this._Receipt.details[t].price=Number((0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)),1!=this.CashCustomerSetting.salesreturneffect||1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[t].isrequireserial&&3!=this._Receipt.details[t].isrequireserial||this.OnSerialItems(t,this.serialModel)}),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,5==this._Receipt.customersalesprice&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(i=>{console.log(i),i.length>0?(t=Number((i[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)):(t=0,this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)),1!=this.CashCustomerSetting.salesreturneffect||1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[e].isrequireserial&&3!=this._Receipt.details[e].isrequireserial||this.OnSerialItems(e,this.serialModel)}),this.cd.markForCheck()},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{if(this.timeout=null,3==this._Receipt.details[e].item_type)if(this.ItemsComponentList=new Array,null!=this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id){let n=this._ReceiptOriginal.details.find(e=>e.id==t.id).qty,i=this._ReceiptOriginal.itemscomponent.find(n=>n.finishedreceipt_did==t.id&&n.id==this._Receipt.itemscomponent[e].id).qty;this._Receipt.itemscomponent[e].basicqtycomponent=i/n,this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e])}}else if(null==this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[e].id&&this._Receipt.itemscomponent[e].parentrowno==t.rowno&&(this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e]))}this.StockBalances(e),this.CheckBalanceForItemInStore(e),this.CalaculteValuesItemsRow(e),1!=this.CashCustomerSetting.salesreturneffect||1!=this.CashCustomerSetting.dispensingpolicy||2!=this._Receipt.details[e].isrequireserial&&3!=this._Receipt.details[e].isrequireserial||this.OnSerialItems(e,this.serialModel)},1e3)}OnSelectedItem(e=null,t=null,n="",i=!1){if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){let t=e;if(null!=t.id)for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[e]);else null==t.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id&&null==e.id&&e.parentrowno==t.rowno))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}AddItems(){if(this._CashSalesDetailsReceipt=new C.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode);let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}DeleteItems(e){let t=this._Receipt.details[e];if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));1==this._Receipt.details.filter(e=>e.item_id==t.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id)),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()}OnSerialItems(e,t){var n;if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)return void this.toastr.error(this.InValidQty);this.requiredserial=this._Receipt.details[e].isrequireserial;let i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),r=this._Receipt.details[e].conv*i[0].finalconv/i[0].conv;this._batchqty=this._Receipt.details[e].qty*r,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(n=this._Receipt.id)&&void 0!==n?n:0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(n=>{this.BatchesListForEatchRow=[];let i=[];if(n.seriallist.forEach(t=>{let n=this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id);null!=n&&n.length>1&&n.forEach(e=>{let n=e.batcheslist.filter(e=>e.batchno==t.serial&&e.previtemserialid==t.id);null!=n&&n.length>0&&(t.availableqty=(t.availableqty/r-n[0].qty).toFixed(2))})}),i=n.seriallist,console.log(n.seriallist,"d.seriallist"),this._Receipt.details[this.selectedindex].batcheslist.forEach(e=>{let t=i.findIndex(t=>t.id==e.previtemserialid);-1!=t&&(e.inv_receipt_d_id>0?null==this._Receipt.details[this.selectedindex].validrow||1==this._Receipt.details[this.selectedindex].validrow?(i[t].qty=e.qty,i[t].oldqty=e.qty,this._Receipt.details[this.selectedindex].validrow=!0):i[t].availableqty=i[t].availableqty+e.qty:1==this._Receipt.details[this.selectedindex].validrow&&(i[t].qty=e.qty,i[t].oldqty=e.qty,i[t].availableqty=i[t].availableqty-e.qty,this._Receipt.details[this.selectedindex].validrow=!0))}),this._Receipt.id>0)for(let e=0;e<i.length;e++)null==i[e].qty&&0==i[e].availableqty||this.BatchesListForEatchRow.push(i[e]);else this.BatchesListForEatchRow=[...i];if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy){if(this._Receipt.details[this.selectedindex].id>0&&this.ReceiptID>0){console.log(this.BatchesListForEatchRow);for(let e=0;e<this.BatchesListForEatchRow.length;e++)this.BatchesListForEatchRow[e].availableqty+=this.BatchesListForEatchRow[e].oldqty,this.BatchesListForEatchRow[e].qty=0,this.BatchesListForEatchRow[e].solidquantity=0}let t=0;if(this.BatchesListForEatchRow.forEach(e=>{t+=e.availableqty}),console.log(t,this._Receipt.details[e].qty),this._Receipt.details[e].qty>t)return void this.toastr.error(this.InValidQtyForBatch);if(this._Receipt.details[e].qty==t)this.BatchesListForEatchRow.forEach(e=>{e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),this.saveSerialOnSalesReturnEffectDispensingPolicy();else{let t=this._Receipt.details[e].qty;this.BatchesListForEatchRow.forEach(e=>{0!=t&&(e.availableqty>=t?(e.qty=t,e.oldqty=t,e.availableqty=e.availableqty-t,t=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,t-=e.availableqty,e.availableqty=0))}),this.saveSerialOnSalesReturnEffectDispensingPolicy()}}else this.OpenModal(t);1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&this.OpenModal(t)})}saveSerialOnSalesReturnEffectDispensingPolicy(){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Me.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}}),console.log(this._Receipt.details,"this._Receipt.details")}saveserial(e){if(e.valid){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Me.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}ChangeBatchQty(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}dealWith(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}CalaculteValuesItemsRow(e,t="percent"){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;let n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}ReCalaculteValuesChangeItemsRow(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}onFocusInCostCenter(e){this.GetCostCenterList("")}CostCenterChangeSearch(e,t){this.GetCostCenterList(e.query.trim())}CostCenterSelectEvent(e){this._Receipt.costcenterid=e.id}GetCostCenterList(e=""){this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,e,this._Receipt.vendor_id).subscribe(e=>{this.CostCenterList=[],this.CostCenterList=e,this.CostCenterList.length>0&&this.setFieldNameForArray(this.CostCenterList,"costcenter"),this.cd.markForCheck()})}onFocusInLocations(e){this.GetLocationsList("")}LocationsChangeSearch(e,t){this.GetLocationsList(e.query.trim())}LocationsSelectEvent(e){this._Receipt.locationid=e.id}GetLocationsList(e=""){this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.LocationList=[],this.LocationList=e,this.LocationList.length>0&&this.setFieldNameForArray(this.LocationList,"location"),this.cd.markForCheck()})}onFocusInClasses(e){this.GetClassesList("")}ClassesChangeSearch(e,t){this.GetClassesList(e.query.trim())}ClassesSelectEvent(e){this._Receipt.classid=e.id}GetClassesList(e=""){this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.ClassList=[],this.ClassList=e,this.ClassList.length>0&&this.setFieldNameForArray(this.ClassList,"class"),this.cd.markForCheck()})}onFocusInDepartment(e){this.GetDepartmentList("")}DepartmentChangeSearch(e,t){this.GetDepartmentList(e.query.trim())}DepartmentSelectEvent(e){this._Receipt.departmentid=e.id}GetDepartmentList(e=""){this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.DepartmentList=[],this.DepartmentList=e,this.DepartmentList.length>0&&this.setFieldNameForArray(this.DepartmentList,"department"),this.cd.markForCheck()})}onFocusInDivision(e){this.GetDivisionList("")}DivisionChangeSearch(e,t){this.GetDivisionList(e.query.trim())}DivisionSelectEvent(e){this._Receipt.divisionid=e.id}GetDivisionList(e=""){this._ReceiptSharedService.GetSubsidaryDivisions(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.DivisionList=[],this.DivisionList=e,console.log(e),this.DivisionList.length>0&&this.setFieldNameForArray(this.DivisionList,"division"),this.cd.markForCheck()})}setFieldNameForArray(e,t=null){for(let n=0;n<e.length;n++){let i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t?i.departmentfieldname="ar"==this.lang?i.sugar:i.sug:"division"==t&&(i.divisionfieldname="ar"==this.lang?i.sugar:i.sug)}}CarByDriverID(){this._ReceiptSharedService.CarByDriverID(this.subsidiaryID,this._Receipt.driverid).subscribe(e=>{this.CarsList=e,this.CarsList.length>0&&null!=this._Receipt.driverid&&(this._Receipt.carid=this.CarsList[0].id),this.cd.markForCheck()})}DriverUsersByCarID(){this._ReceiptSharedService.DriverUsersByCarID(this.subsidiaryID,this._Receipt.carid).subscribe(e=>{this.DriversList=e,this.DriversList.length>0&&null!=this._Receipt.carid&&(this._Receipt.driverid=this.DriversList[0].id),this.cd.markForCheck()})}ChangeDriver(){this.CarByDriverID(),null==this._Receipt.driverid&&(this._Receipt.carid=null,this.DriverUsersByCarID())}ChangeCar(){this.DriverUsersByCarID(),null==this._Receipt.carid&&(this._Receipt.driverid=null,this.DriverUsersByCarID())}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(t=>{if(this.spinner.hide(),null==t.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(t.items.length>0){1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=t.receipt.subsidiaryid,this._Receipt.customersalesprice=null!=t.receipt.customersalesprice?t.receipt.customersalesprice:this._Receipt.customersalesprice,this._Receipt.payment_type=null!=t.receipt.payment_type?t.receipt.payment_type:this._Receipt.payment_type,this._Receipt.vendor_id=null!=t.receipt.vendor_id?t.receipt.vendor_id:this._Receipt.vendor_id,this._Receipt.cashcustomerid=null!=t.receipt.cashcustomerid?t.receipt.cashcustomerid:this._Receipt.cashcustomerid,this._Receipt.discount_foreignpercent=t.receipt.discount_foreignpercent,this._Receipt.discount_percent=t.receipt.discount_percent,this._Receipt.discount_foreignvalue=t.receipt.discount_foreignvalue,this._Receipt.discount_value=t.receipt.discount_value,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.vendornamear:t.receipt.vendorname,this._Receipt.vendor_balance=null!=t.receipt.vendor_balance?t.receipt.vendor_balance:this._Receipt.vendor_balance,this.PriceListItemsOnly=t.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:t.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.cashcustomername_ar:t.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=t.receipt.currency_id,this._Receipt.currency_rate=t.receipt.currency_rate,this._Receipt.empoyee_id=null!=t.receipt.empoyee_id?t.receipt.empoyee_id:this._Receipt.empoyee_id,this._Receipt.memo=t.receipt.memo,this._Receipt.reference_no=t.receipt.reference_no,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=t.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id;for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);t.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),t.itemcomponents.length>0&&(this.ItemComponentsLinkedReceipt=t.itemcomponents,81==t.receipt.code&&(this.ItemComponentsLinkedReceipt=this.ItemComponentsLinkedReceipt.filter(e=>-1==e.transaction_move)),this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(t.componentsunits)),this.ItemLinkedReceipt=t.items,81==t.receipt.code&&(this.ItemLinkedReceipt=this.ItemLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0])}else this.spinner.hide(),this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._CashSalesDetailsReceipt=new C.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv);if(-1==n){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total;let n=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=n+1,3==t.item_type&&this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id).forEach(e=>{let t=new C.hm;t.store_id=this._CashSalesDetailsReceipt.store_id,t.storecode=this._CashSalesDetailsReceipt.storecode.code,t.item_id=e.item_id,t.itemcode=e.itemcode,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.unit_id=e.unit_id,t.conv=e.conv,t.qty=e.qty,t.basicqtycomponent=e.qty/this._CashSalesDetailsReceipt.qty||0,t.price=e.price,t.discount_value=e.discount_value,t.discount_percent=e.discount_percent,t.total=e.total,t.transaction_move=this.Transaction_move,t.finishedproductid=e.finishedproductid,t.item_type=e.item_type,t.notes=e.notes,t.haswarrenty=e.haswarrenty,t.warrantydate=e.warrantydate,t.detailshtml=e.detailshtml,t.customitemname=e.customitemname,t.salesmanid=e.salesmanid,t.parentrowno=this._CashSalesDetailsReceipt.rowno,this._Receipt.itemscomponent.push(t)}),this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished()}else{if(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),3==t.item_type){let e=this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id);if(null!=this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)if(this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id){var i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id);this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty)}}else if(null==this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[n].id&&this._Receipt.itemscomponent[n].parentrowno==t.rowno&&(i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id),this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty))}}this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished()}}SetLinkReceiptItemFinished(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;let e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&(this.GetLinkedReceipt(e),console.log("(this._Receipt.linkedreceipts.length)-(this.IxLRS+1)"),console.log(e))}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}OnSignatureSet(e){this._Receipt.signature=e.signature}Calculate_Total_Tax_Net(){let e=0;this._Receipt.details.forEach(t=>{e+=Number(t.total)}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this._Receipt.discount_percent>0?this.Calculate_Disc("local","percent"):this._Receipt.discount_value>0?this.Calculate_Disc("local","value"):this._Receipt.discount_foreignvalue>0?this.Calculate_Disc("foreign","value"):this.CalculateTax_Net(e);let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t}CalculateTax_Net(e=0){1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number((e-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number((e-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}Calculate_Disc(e="local",t="percent"){this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,"local"==e?("percent"==t&&(this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_percent=Number((100*(this._Receipt.discount_value/this._Receipt.value%(1/0)||0)).toFixed(8)),this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision)))):"foreign"==e&&("percent"==t&&(this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_foreignpercent=Number((100*(this._Receipt.discount_foreignvalue/this._Receipt.valueforeign%(1/0)||0)).toFixed(8)),this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)))),1==this._Receipt.currency_rate?(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalueforeign=Number((this._Receipt.valueforeign-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){var i;1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let r=!0,a=new C.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id,console.log(a);let o=null!==(i=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==i?i:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==o||1==o&&this._Receipt.details[e].id>0)&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(a).subscribe(i=>{let a=0,s=0,c=0,l=[],d=!0;if(0==i.consignment.consignment){if(null!=i.totalqty.totalqty){if(a=i.totalqty.totalqty,l=i.itemcomponent,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;s=parseFloat(s.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._Receipt.details[e].item_type){this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.details[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});let t=[],n=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let i=0;i<n.length;i++){t=[],t=this._Receipt.itemscomponent.filter(t=>t.parentrowno==n[i].rowno&&t.finishedproductid==n[i].item_id&&null==t.id&&t.item_id==this._Receipt.details[e].item_id);for(let e=0;e<t.length;e++){let n=t[e].qty,i=this.ItemComponentUnitsList.find(n=>n.item_id==t[e].item_id&&n.id==t[e].unit_id);if(null!=i){let r=(null!=i.finalconv?i.finalconv:1)*(t[e].conv/(null!=i.conv?i.conv:1))*parseFloat(n.toString());s=parseFloat(s.toString())+r}}}}if(-1==o?c=a-s:1==o&&(c=a+s),3==this._Receipt.details[e].item_type)for(let e=0;e<l.length;e++)if(2!=l[e].item_type){let t=this._Receipt.details.filter(t=>t.item_id==l[e].item_id),n=0;t.forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;n=parseFloat(n.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),this._Receipt.itemscomponent.filter(t=>t.item_id==l[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());n=parseFloat(n.toString())+i}});let i=[],r=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let a=0;a<r.length;a++){i=[],i=this._Receipt.itemscomponent.filter(t=>t.parentrowno==r[a].rowno&&t.finishedproductid==r[a].item_id&&null==t.id&&t.item_id==l[e].item_id);for(let e=0;e<i.length;e++){let t=i[e].qty,r=this.ItemComponentUnitsList.find(t=>t.item_id==i[e].item_id&&t.id==i[e].unit_id);if(null!=r){let a=(null!=r.finalconv?r.finalconv:1)*(i[e].conv/(null!=r.conv?r.conv:1))*parseFloat(t.toString());n=parseFloat(n.toString())+a}}}if(!(n<=l[e].totalqty)){d=!1;break}d=!0}r=c>=0&&1==d}else r=!1;0==r?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+a)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(621)?this._router.navigate(["/page/inventorytransiction/giftissue/0"]).then(()=>{window.location.reload()}):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/giftissue/0"]).then(()=>{window.location.reload()})})}DeleteAction(){ye().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransiction/giftissue"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{Date.parse(e[0].maxpostingdate.toString())<Date.parse(this._Receipt.entry_date.toString())?(this.ShowModeReceipt=!1,this.ValidPeriod=!0):(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/inventorytransiction/giftissue/0"),this.ReceiptID=0,this._Receipt.id=null,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/giftissue"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){const t=this._authService.userInfo().clientdatabase;let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_60_IssueVoucher"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("darshgf")>-1?n="P_All_Inv_Receipt_gl_web_darshgf"+i:t.indexOf("alshaimaa")>-1&&(n="P_I_60_IssueVoucher_GL_WEB_alshaimaa"),r.reportName=n,r.toEmail=this._emailobj.email,r.Subject=this._emailobj.subject,r}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(621)||0==this.ReceiptID&&!this.checkRoleParms(589)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/giftissue"]):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/giftissue"])})}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}getwarrantydateDate(){let e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}formateDecimal(e,t=3){return e.toFixed(t)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Re.H),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](w.FF),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](v.J),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-gift-issue-details"]],viewQuery:function(e,t){if(1&e&&(y["\u0275\u0275viewQuery"](Zg,5),y["\u0275\u0275viewQuery"](Kg,5)),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.serialModel=e.first),y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([_.n,Se.v,f.t,i.uU,Re.H,v.J])],decls:5,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-3","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5",2,"margin-top","4rem"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_ForiegnDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_ForiegnDiscountPerc","ngModel"],["style","color: red",4,"ngIf"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_LocalDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_LocalDiscountPerc","ngModel"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_LocalDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"col-md-7"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],["Value","null"],[3,"value"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"btn","btn-primary","ransparent-BG",3,"click"],[1,"fa","fa-trash","font-medium-3"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],[3,"signature","signatureoutput"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["for","Cars",1,"col-form-label"],["name","Cars",1,"form-control",3,"ngModel","ngModelChange","change"],["for","Drivers",1,"col-form-label"],["name","Drivers",1,"form-control",3,"ngModel","ngModelChange","change"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],["minLength","0","delay","0","field","divisionfieldname","name","Division",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDivion","","Division","ngModel"],["pTemplate","DivisionTemplate"],[2,"color","red"],[3,"wrappe"],["ItemStoreQty",""]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Xg,4,3,"div",0),y["\u0275\u0275template"](1,yf,192,168,"ng-container",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(588)||t.checkRoleParms(589)||t.checkRoleParms(590)||t.checkRoleParms(621)||t.checkRoleParms(591))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction0"](3,bf))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,i.mk,i.sg,a.Fj,Ie.L,Pe.a,s.Qc,Oe.jx,w.Pz,w.nv,w.Vx,w.uN,w.tO,a.wV,E.K,a.qQ,we.Z,Ee.k,a.YN,a.Kr,De.t,Be.T],pipes:[l.X$,i.uU,Le.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();function Rf(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function xf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function Mf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function If(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",51),y["\u0275\u0275template"](1,xf,2,1,"span",1),y["\u0275\u0275template"](2,Mf,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Pf(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",52),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnAdd()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Of(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Ef(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function wf(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Of,1,0,"i",48),y["\u0275\u0275template"](3,Ef,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function kf(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Df(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Bf(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,kf,1,0,"i",48),y["\u0275\u0275template"](3,Df,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function Lf(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Ff(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Nf(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Vf(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function qf(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Tf(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Af(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,qf,1,0,"i",48),y["\u0275\u0275template"](3,Tf,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"desc"==e.sortDirection)}}function Gf(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Uf(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function $f(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Gf,1,0,"i",55),y["\u0275\u0275template"](3,Uf,1,0,"i",56),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","CustomerNamear"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"desc"==e.sortDirection)}}function jf(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function zf(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Wf(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1,"\xa0"),y["\u0275\u0275elementEnd"]())}function Jf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function Qf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function Yf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.customername)}}function Hf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.customernamear)}}function Zf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td",61),y["\u0275\u0275elementStart"](1,"a",62),y["\u0275\u0275element"](2,"i",63),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuereturn/",null==e?null:e.id,"")}}function Kf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275template"](1,Jf,2,1,"td",1),y["\u0275\u0275template"](2,Qf,2,1,"td",1),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](7,Yf,2,1,"td",1),y["\u0275\u0275template"](8,Hf,2,1,"td",1),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275text"](10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](11,Zf,3,1,"td",58),y["\u0275\u0275elementStart"](12,"td"),y["\u0275\u0275elementStart"](13,"a",59),y["\u0275\u0275elementStart"](14,"span"),y["\u0275\u0275element"](15,"i",60),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](1==(null==n.CurrentUserSetting?null:n.CurrentUserSetting.showcostprice)?null==e?null:e.netvalue:"****"),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",n.checkRoleParms(623)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuereturn/",null==e?null:e.id,"/show")}}function Xf(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275template"](1,Kf,16,9,"tr",57),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.ReceiptList)}}function ev(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275elementStart"](1,"tr"),y["\u0275\u0275elementStart"](2,"td",64),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,1,"NoData")))}function tv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",65),y["\u0275\u0275elementStart"](1,"ngb-pagination",66),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",67),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",68),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",69),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",70),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function nv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",6),y["\u0275\u0275elementStart"](2,"div",7),y["\u0275\u0275elementStart"](3,"div",8),y["\u0275\u0275elementStart"](4,"h6",9),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",10),y["\u0275\u0275elementStart"](8,"div",11),y["\u0275\u0275elementStart"](9,"section"),y["\u0275\u0275elementStart"](10,"div",4),y["\u0275\u0275elementStart"](11,"div",12),y["\u0275\u0275elementStart"](12,"form",13,14),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](14,"div",4),y["\u0275\u0275elementStart"](15,"div",15),y["\u0275\u0275elementStart"](16,"div",16),y["\u0275\u0275elementStart"](17,"label",17),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"select",18,19),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](22,"option",20),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,If,3,3,"option",21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",15),y["\u0275\u0275elementStart"](27,"div",16),y["\u0275\u0275elementStart"](28,"label",22),y["\u0275\u0275text"](29),y["\u0275\u0275pipe"](30,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"input",23,24),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",25),y["\u0275\u0275elementStart"](34,"button",26),y["\u0275\u0275element"](35,"i",27),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"button",28),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ShowAll()}),y["\u0275\u0275element"](39,"i",27),y["\u0275\u0275text"](40),y["\u0275\u0275pipe"](41,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"div",29),y["\u0275\u0275elementStart"](43,"div",30),y["\u0275\u0275elementStart"](44,"div",31),y["\u0275\u0275template"](45,Pf,4,3,"button",32),y["\u0275\u0275elementStart"](46,"button",33),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint()}),y["\u0275\u0275element"](47,"i",27),y["\u0275\u0275text"](48),y["\u0275\u0275pipe"](49,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](50,"button",34),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(1)}),y["\u0275\u0275element"](51,"i",27),y["\u0275\u0275text"](52),y["\u0275\u0275pipe"](53,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"button",35),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](55,"i",27),y["\u0275\u0275text"](56),y["\u0275\u0275pipe"](57,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"div",36),y["\u0275\u0275elementStart"](59,"div",37),y["\u0275\u0275elementStart"](60,"label",38),y["\u0275\u0275text"](61),y["\u0275\u0275pipe"](62,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](63,"input",39,40),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"div",4),y["\u0275\u0275elementStart"](66,"div",41),y["\u0275\u0275elementStart"](67,"div",42),y["\u0275\u0275elementStart"](68,"div",43),y["\u0275\u0275elementStart"](69,"div",44),y["\u0275\u0275elementStart"](70,"table",45),y["\u0275\u0275elementStart"](71,"thead"),y["\u0275\u0275elementStart"](72,"tr"),y["\u0275\u0275elementStart"](73,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),y["\u0275\u0275text"](74),y["\u0275\u0275pipe"](75,"translate"),y["\u0275\u0275template"](76,wf,4,3,"ng-container",1),y["\u0275\u0275template"](77,Bf,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](78,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),y["\u0275\u0275text"](79),y["\u0275\u0275pipe"](80,"translate"),y["\u0275\u0275elementContainerStart"](81),y["\u0275\u0275element"](82,"i",47),y["\u0275\u0275template"](83,Lf,1,0,"i",48),y["\u0275\u0275template"](84,Ff,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](85,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),y["\u0275\u0275text"](86),y["\u0275\u0275pipe"](87,"translate"),y["\u0275\u0275elementContainerStart"](88),y["\u0275\u0275element"](89,"i",47),y["\u0275\u0275template"](90,Nf,1,0,"i",48),y["\u0275\u0275template"](91,Vf,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](92,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),y["\u0275\u0275text"](93),y["\u0275\u0275pipe"](94,"translate"),y["\u0275\u0275template"](95,Af,4,3,"ng-container",1),y["\u0275\u0275template"](96,$f,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](97,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),y["\u0275\u0275text"](98),y["\u0275\u0275pipe"](99,"translate"),y["\u0275\u0275elementContainerStart"](100),y["\u0275\u0275element"](101,"i",47),y["\u0275\u0275template"](102,jf,1,0,"i",48),y["\u0275\u0275template"](103,zf,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](104,Wf,2,0,"th",1),y["\u0275\u0275elementStart"](105,"th"),y["\u0275\u0275text"](106,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](107,Xf,2,1,"tbody",1),y["\u0275\u0275template"](108,ev,5,3,"tbody",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](109,tv,12,7,"div",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,37,"Issue Return"),""),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](19,39,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,41,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](30,43,"EntryNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](37,45,"Search")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](41,47,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(234)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](49,49,"Print")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](53,51,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](57,53,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](62,55,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](75,57,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](80,59,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](87,61,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](94,63,"custvendor")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](99,65,"value")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","NetValue"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(623)),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.ReceiptList.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let iv=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=a,this._translateGlobalService=o,this.spinner=s,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.GetCurrentUserSetting(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Issue Return"]).subscribe(e=>{this.title=e["Issue Return"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="63",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/inventorytransiction/issuereturn/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransiction/issuereturn/0"])}OnView(e){this._router.navigate(["/page/inventorytransiction/issuereturn/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/inventorytransiction/issuereturn/${e.id}`,this._router.navigate([t])}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",o="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",s="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(c=>{this.cd.markForCheck(),t=`\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>${i}</th>\n                     <th>${r}</th>\n                     <th>${a}</th>\n                     <th>${o}</th>\n                     <th>${s}</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         `,c.map(e=>{var n;t+=`\n        <tr>\n         <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n         <td>${e.entry_no}</td>\n         <td>${e.entry_date}</td>\n         <td>${null!==(n="ar"==this.lang?e.customernamear:e.customername)&&void 0!==n?n:""}</td>\n         <td>${e.netvalue}</td>\n        </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":t.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":t.netvalue}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,"Customer/Vendor":t.customernamear,Total:t.netvalue})}),this._Excel.exportAsExcelFile(e,"IssueReturn")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](P.x),y["\u0275\u0275directiveInject"](O.z),y["\u0275\u0275directiveInject"](v.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-return"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,v.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success\n                    mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-4",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped","table-accountdetails"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","text-truncate",4,"ngIf"],[1,"primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"routerLink"],[1,"ft-edit","mr-1"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Rf,4,3,"div",0),y["\u0275\u0275template"](1,nv,110,67,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4," Loading... "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(233)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(233)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,E.K,c.yS,w.N9],pipes:[l.X$],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}.width-table-input[_ngcontent-%COMP%]{min-width:130px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();const rv=["RForm"];function av(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",5),y["\u0275\u0275elementStart"](1,"h1",6),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function ov(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",93),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DocumentAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function sv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",94),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PrintPreview(0)}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null)("disabled",!e.checkRoleParms(236)||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,3,"PrintPreview")," ")}}function cv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",97),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).onPrint()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function lv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",97),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](4).DeleteAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function dv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,lv,3,4,"button",95),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function pv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",97),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DupilcateAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function hv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,cv,3,4,"button",95),y["\u0275\u0275template"](2,dv,2,1,"div",1),y["\u0275\u0275template"](3,pv,3,4,"button",95),y["\u0275\u0275elementStart"](4,"email-popup",96),y["\u0275\u0275listener"]("_savedemailobj",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).sendEmail(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(236)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(235)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(234)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("entryno",e._Receipt.entry_no)}}function mv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text,"")}}function uv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.text_ar,"")}}function gv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",98),y["\u0275\u0275template"](1,mv,2,1,"span",1),y["\u0275\u0275template"](2,uv,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function _v(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",99),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function Cv(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",99),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function fv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function vv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function yv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",98),y["\u0275\u0275template"](1,fv,2,1,"span",1),y["\u0275\u0275template"](2,vv,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function bv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function Sv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function Rv(e,t){if(1&e&&(y["\u0275\u0275template"](0,bv,2,1,"div",1),y["\u0275\u0275template"](1,Sv,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const xv=function(e,t){return{"invalid-data":e,"valid-data":t}};function Mv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"p-autoComplete",100,101),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](1);return y["\u0275\u0275nextContext"](2).onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CustomerAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onClearCustomer(t)}),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275template"](4,Rv,2,2,"ng-template",102),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngModel",n._Receipt.cashcustomer_vendor_code)("suggestions",n.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",y["\u0275\u0275pureFunction2"](8,xv,e.invalid&&t.submitted,e.valid&&t.submitted))}}function Iv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function Pv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function Ov(e,t){if(1&e&&(y["\u0275\u0275template"](0,Iv,2,1,"div",1),y["\u0275\u0275template"](1,Pv,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Ev(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"p-autoComplete",103,104),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](1);return y["\u0275\u0275nextContext"](2).onFocusInOtherAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OtherAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onClearCustomer(t)}),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275template"](4,Ov,2,2,"ng-template",105),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngModel",n._Receipt.cashcustomer_vendor_code)("suggestions",n.OtherAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",y["\u0275\u0275pureFunction2"](8,xv,e.invalid&&t.submitted,e.valid&&t.submitted))}}function wv(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",76),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function kv(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",76),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function Dv(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",76),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function Bv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Lv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Fv(e,t){if(1&e&&(y["\u0275\u0275template"](0,Bv,2,1,"div",1),y["\u0275\u0275template"](1,Lv,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Nv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Vv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function qv(e,t){if(1&e&&(y["\u0275\u0275template"](0,Nv,2,1,"div",1),y["\u0275\u0275template"](1,Vv,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const Tv=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function Av(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",134),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,Tv,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function Gv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",134),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,Tv,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function Uv(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",135),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function $v(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",135),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function jv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function zv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Wv(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",136),y["\u0275\u0275template"](1,jv,2,1,"span",1),y["\u0275\u0275template"](2,zv,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Jv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",137,138),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("step",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack),y["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),y["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id))("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](9,xv,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Qv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",139,140),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.price=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),y["\u0275\u0275property"]("readonly",5==a._Receipt.customersalesprice)("ngModel",i.price)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](6,xv,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Yv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",141),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.total=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_total",t,""),y["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}const Hv=function(e){return{item_id:e}};function Zv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",114),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"p-autoComplete",115,116),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](5),r=y["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275template"](7,Fv,2,2,"ng-template",117),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"p-autoComplete",118,119),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](10),r=y["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).onClearItems(t)}),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275template"](12,qv,2,2,"ng-template",120),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"td",121),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),y["\u0275\u0275template"](14,Av,2,5,"div",122),y["\u0275\u0275template"](15,Gv,2,5,"div",122),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"select",123,124),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),y["\u0275\u0275template"](19,Uv,2,1,"option",125),y["\u0275\u0275template"](20,$v,2,1,"option",125),y["\u0275\u0275template"](21,Wv,3,4,"option",126),y["\u0275\u0275pipe"](22,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,Jv,3,12,"td",1),y["\u0275\u0275elementStart"](24,"td"),y["\u0275\u0275elementStart"](25,"input",127,128),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](27,Qv,3,9,"td",1),y["\u0275\u0275template"](28,Yv,2,3,"td",1),y["\u0275\u0275elementStart"](29,"td",129),y["\u0275\u0275elementStart"](30,"a",130),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.index,i=t.$implicit,r=y["\u0275\u0275nextContext"](3),a=y["\u0275\u0275reference"](4);return r.OnSerialItems(n,i,a)}),y["\u0275\u0275element"](31,"i",131),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"a",132),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteItems(t)}),y["\u0275\u0275element"](33,"i",133),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=t.index,r=y["\u0275\u0275reference"](18),a=y["\u0275\u0275reference"](26);y["\u0275\u0275nextContext"](2);const o=y["\u0275\u0275reference"](4),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i+1),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),y["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](6,33,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),y["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](11,35,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](40,xv,r.invalid&&o.submitted,r.valid&&o.submitted)),y["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](22,37,s.ItemUnitsList,y["\u0275\u0275pureFunction1"](43,Hv,null==e?null:e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",y["\u0275\u0275pureFunction2"](45,xv,a.invalid&&o.submitted,a.valid&&o.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!(2==e.isrequireserial||3==e.isrequireserial))}}const Kv=function(e){return{"table-for-autocomplete":e}};function Xv(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",106),y["\u0275\u0275elementStart"](1,"div",73),y["\u0275\u0275elementStart"](2,"div",107),y["\u0275\u0275elementStart"](3,"table",75),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275element"](6,"th"),y["\u0275\u0275elementStart"](7,"th",108),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",76),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"th",76),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"th",109),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,wv,3,3,"th",110),y["\u0275\u0275elementStart"](20,"th",76),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,kv,3,3,"th",110),y["\u0275\u0275template"](24,Dv,3,3,"th",110),y["\u0275\u0275elementStart"](25,"th",111),y["\u0275\u0275text"](26," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](27,"tbody"),y["\u0275\u0275elementStart"](28,"tbody"),y["\u0275\u0275template"](29,Zv,34,48,"tr",112),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"button",113),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddItems()}),y["\u0275\u0275text"](31),y["\u0275\u0275pipe"](32,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](24,Kv,e.isType)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,12,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,18,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,20,"qty")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](32,22,"Add")," ")}}function ey(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",76),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function ty(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function ny(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function iy(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",135),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ry(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",135),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ay(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function oy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function sy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",98),y["\u0275\u0275template"](1,ay,2,1,"span",1),y["\u0275\u0275template"](2,oy,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](5);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function cy(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",146),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",t,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",n.conv)}}function ly(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"input",143),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"input",143),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275template"](6,ty,2,1,"div",1),y["\u0275\u0275template"](7,ny,2,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"select",144),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),y["\u0275\u0275template"](10,iy,2,1,"option",125),y["\u0275\u0275template"](11,ry,2,1,"option",125),y["\u0275\u0275template"](12,sy,3,3,"option",31),y["\u0275\u0275pipe"](13,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](14,cy,2,3,"td",1),y["\u0275\u0275elementStart"](15,"td"),y["\u0275\u0275elementStart"](16,"input",145),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"input",145),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"td"),y["\u0275\u0275elementStart"](20,"input",145),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.storecode),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.itemcode),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id),y["\u0275\u0275attribute"]("disabled",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](13,24,i.ItemComponentUnitsList,y["\u0275\u0275pureFunction1"](27,Hv,e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",n,""),y["\u0275\u0275property"]("ngModel",e.qty)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_price_c",n,""),y["\u0275\u0275property"]("ngModel",e.price)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_total_c",n,""),y["\u0275\u0275property"]("ngModel",e.total)("readonly",!0)}}const dy=function(e){return{finishedproductid:e}};function py(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",106),y["\u0275\u0275elementStart"](1,"div",73),y["\u0275\u0275elementStart"](2,"div",74),y["\u0275\u0275elementStart"](3,"table",75),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",76),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",76),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",76),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",109),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](18,ey,3,3,"th",110),y["\u0275\u0275elementStart"](19,"th",76),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",76),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"th",76),y["\u0275\u0275text"](26),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"tbody"),y["\u0275\u0275template"](29,ly,21,29,"tr",142),y["\u0275\u0275pipe"](30,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,9,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](17,15,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,17,"qty")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,19,"Price")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](27,21,"Total")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",0==e.show_all_component?y["\u0275\u0275pipeBind2"](30,23,e.ItemsComponentList,y["\u0275\u0275pureFunction1"](26,dy,null==e.SelectedItem?null:e.SelectedItem.item_id)):e.ItemsComponentList)}}function hy(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"li",70),y["\u0275\u0275elementStart"](1,"a",67),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](4,py,31,28,"ng-template",68),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngbNavItem",2),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,2,"Components")))}function my(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",99),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function uy(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",99),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]())}function gy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function _y(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Cy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",98),y["\u0275\u0275template"](1,gy,2,1,"span",1),y["\u0275\u0275template"](2,_y,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function fy(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",135),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function vy(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",135),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function yy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function by(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function Sy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",98),y["\u0275\u0275template"](1,yy,2,1,"span",1),y["\u0275\u0275template"](2,by,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Ry(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",147),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),y["\u0275\u0275template"](3,my,2,0,"option",35),y["\u0275\u0275template"](4,uy,2,0,"option",35),y["\u0275\u0275template"](5,Cy,3,3,"option",31),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"select",147),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](8,fy,2,1,"option",125),y["\u0275\u0275template"](9,vy,2,1,"option",125),y["\u0275\u0275template"](10,Sy,3,3,"option",31),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275elementStart"](12,"input",148,149),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"td"),y["\u0275\u0275elementStart"](15,"a",150),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),y["\u0275\u0275element"](16,"i",151),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"a",152),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),y["\u0275\u0275element"](19,"i",153),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"td"),y["\u0275\u0275elementStart"](21,"a",132),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),y["\u0275\u0275element"](22,"i",133),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),y["\u0275\u0275property"]("ngModel",e.branch_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.BranchList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no),y["\u0275\u0275advance"](3),y["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function xy(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",106),y["\u0275\u0275elementStart"](1,"div",73),y["\u0275\u0275elementStart"](2,"div",74),y["\u0275\u0275elementStart"](3,"table",75),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",76),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",76),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",76),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",111),y["\u0275\u0275text"](16," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"th",111),y["\u0275\u0275text"](18," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"th",111),y["\u0275\u0275text"](20," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"tbody"),y["\u0275\u0275template"](22,Ry,23,13,"tr",142),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"button",113),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,5,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function My(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",106),y["\u0275\u0275elementStart"](1,"div",73),y["\u0275\u0275elementStart"](2,"Signature",154),y["\u0275\u0275listener"]("signatureoutput",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("signature",e._Receipt.signature)}}function Iy(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function Py(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e.subsaidarySetting?null:e.subsaidarySetting.costcenteralternativetext,"")}}function Oy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Ey(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function wy(e,t){if(1&e&&(y["\u0275\u0275template"](0,Oy,2,1,"div",1),y["\u0275\u0275template"](1,Ey,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function ky(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function Dy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetextar)}}function By(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetext)}}function Ly(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,Dy,2,1,"span",1),y["\u0275\u0275template"](2,By,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Fy(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",32),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function Ny(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Vy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function qy(e,t){if(1&e&&(y["\u0275\u0275template"](0,Ny,2,1,"div",1),y["\u0275\u0275template"](1,Vy,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Ty(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",156),y["\u0275\u0275elementStart"](1,"label",42),y["\u0275\u0275template"](2,ky,3,3,"span",1),y["\u0275\u0275template"](3,Ly,3,2,"span",1),y["\u0275\u0275template"](4,Fy,2,0,"span",161),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",162,163),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInClasses(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.classfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesChangeSearch(t)}),y["\u0275\u0275template"](8,qy,2,2,"ng-template",164),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans)("ngModel",n._Receipt.classfieldname)("suggestions",n.ClassList)("ngClass",y["\u0275\u0275pureFunction2"](7,xv,e.invalid&&t.submitted,e.valid&&t.submitted))}}function Ay(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function Gy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetext)}}function Uy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetextar)}}function $y(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,Gy,2,1,"span",1),y["\u0275\u0275template"](2,Uy,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function jy(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",32),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function zy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Wy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Jy(e,t){if(1&e&&(y["\u0275\u0275template"](0,zy,2,1,"div",1),y["\u0275\u0275template"](1,Wy,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Qy(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",156),y["\u0275\u0275elementStart"](1,"label",42),y["\u0275\u0275template"](2,Ay,3,3,"span",1),y["\u0275\u0275template"](3,$y,3,2,"span",1),y["\u0275\u0275template"](4,jy,2,0,"span",161),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",165,166),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInLocations(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsChangeSearch(t)}),y["\u0275\u0275template"](8,Jy,2,2,"ng-template",167),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans)("ngModel",n._Receipt.locationfieldname)("suggestions",n.LocationList)("ngClass",y["\u0275\u0275pureFunction2"](7,xv,e.invalid&&t.submitted,e.valid&&t.submitted))}}function Yy(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function Hy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetextar)}}function Zy(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetext)}}function Ky(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,Hy,2,1,"span",1),y["\u0275\u0275template"](2,Zy,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Xy(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",32),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function eb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function tb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function nb(e,t){if(1&e&&(y["\u0275\u0275template"](0,eb,2,1,"div",1),y["\u0275\u0275template"](1,tb,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function ib(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",156),y["\u0275\u0275elementStart"](1,"label",42),y["\u0275\u0275template"](2,Yy,3,3,"span",1),y["\u0275\u0275template"](3,Ky,3,2,"span",1),y["\u0275\u0275template"](4,Xy,2,0,"span",161),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",168,169),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInDepartment(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentChangeSearch(t)}),y["\u0275\u0275template"](8,nb,2,2,"ng-template",170),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans)("ngModel",n._Receipt.departmentfieldname)("suggestions",n.DepartmentList)("ngClass",y["\u0275\u0275pureFunction2"](7,xv,e.invalid&&t.submitted,e.valid&&t.submitted))}}function rb(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",5),y["\u0275\u0275elementStart"](1,"div",155),y["\u0275\u0275elementStart"](2,"div",156),y["\u0275\u0275elementStart"](3,"label",42),y["\u0275\u0275template"](4,Iy,3,3,"span",1),y["\u0275\u0275template"](5,Py,2,1,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"p-autoComplete",157,158),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"](2).onFocusInCostCenter(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterChangeSearch(t)}),y["\u0275\u0275template"](9,wy,2,2,"ng-template",159),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](10,Ty,9,10,"div",160),y["\u0275\u0275template"](11,Qy,9,10,"div",160),y["\u0275\u0275template"](12,ib,9,10,"div",160),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.costcentermandatory4invtrans)("ngModel",n._Receipt.costcenterfieldname)("suggestions",n.CostCenterList)("ngClass",y["\u0275\u0275pureFunction2"](9,xv,e.invalid&&t.submitted,e.valid&&t.submitted)),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentisactive)}}function ab(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",135),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ob(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",135),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function sb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function cb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function lb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",98),y["\u0275\u0275template"](1,sb,2,1,"span",1),y["\u0275\u0275template"](2,cb,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function db(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",174),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](3,ab,2,1,"option",125),y["\u0275\u0275template"](4,ob,2,1,"option",125),y["\u0275\u0275template"](5,lb,3,3,"option",31),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"input",175,176),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"td",177),y["\u0275\u0275elementStart"](10,"a",178),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenReceiptHistory(t)}),y["\u0275\u0275element"](11,"i",153),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","historyReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","historyReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no)}}function pb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",171),y["\u0275\u0275elementStart"](1,"div",172),y["\u0275\u0275elementStart"](2,"div",173),y["\u0275\u0275elementStart"](3,"table",75),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",76),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",76),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",76),y["\u0275\u0275text"](13,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"tbody"),y["\u0275\u0275template"](15,db,12,7,"tr",142),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,3,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,5,"EntryNo")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e.ReceiptHistoryList)}}function hb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function mb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function ub(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",179),y["\u0275\u0275template"](1,hb,2,1,"span",1),y["\u0275\u0275template"](2,mb,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function gb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function _b(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function Cb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",179),y["\u0275\u0275template"](1,gb,2,1,"span",1),y["\u0275\u0275template"](2,_b,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function fb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"Item-StoreQty",180,181),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function vb(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"div",7),y["\u0275\u0275elementStart"](2,"div",8),y["\u0275\u0275elementStart"](3,"form",9,10),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](4);return y["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),y["\u0275\u0275elementStart"](5,"div",11),y["\u0275\u0275elementStart"](6,"div",12),y["\u0275\u0275elementStart"](7,"div",13),y["\u0275\u0275elementStart"](8,"div",14),y["\u0275\u0275elementStart"](9,"h6",15),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",5),y["\u0275\u0275elementStart"](13,"div",16),y["\u0275\u0275elementStart"](14,"button",17),y["\u0275\u0275element"](15,"i",18),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"button",19),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateNewAction()}),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,ov,3,4,"button",20),y["\u0275\u0275template"](22,sv,3,5,"button",21),y["\u0275\u0275elementStart"](23,"button",22),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",23),y["\u0275\u0275elementStart"](27,"button",24),y["\u0275\u0275text"](28),y["\u0275\u0275pipe"](29,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"div",25),y["\u0275\u0275template"](31,hv,5,4,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](32,"hr",26),y["\u0275\u0275elementStart"](33,"div",5),y["\u0275\u0275elementStart"](34,"div",27),y["\u0275\u0275elementStart"](35,"div",28),y["\u0275\u0275elementStart"](36,"label",29),y["\u0275\u0275text"](37),y["\u0275\u0275pipe"](38,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"select",30),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.customersalesprice=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changesalesprice(t)}),y["\u0275\u0275template"](40,gv,3,3,"option",31),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](41,"div",27),y["\u0275\u0275elementStart"](42,"div",28),y["\u0275\u0275elementStart"](43,"label",29),y["\u0275\u0275text"](44),y["\u0275\u0275pipe"](45,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](46,"span",32),y["\u0275\u0275text"](47,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](48,"select",33,34),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeBranch(t)}),y["\u0275\u0275template"](50,_v,2,0,"option",35),y["\u0275\u0275template"](51,Cv,2,0,"option",35),y["\u0275\u0275template"](52,yv,3,3,"option",36),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](53,"div",27),y["\u0275\u0275elementStart"](54,"div",28),y["\u0275\u0275elementStart"](55,"label",37),y["\u0275\u0275text"](56),y["\u0275\u0275pipe"](57,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"span",32),y["\u0275\u0275text"](59,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"input",38,39),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](62,"div",5),y["\u0275\u0275elementStart"](63,"div",40),y["\u0275\u0275elementStart"](64,"div",28),y["\u0275\u0275elementStart"](65,"label"),y["\u0275\u0275elementStart"](66,"input",41),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.accounttype=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](67,"span",32),y["\u0275\u0275text"](68,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](69,"span",42),y["\u0275\u0275text"](70),y["\u0275\u0275pipe"](71,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](72,"label",43),y["\u0275\u0275elementStart"](73,"input",41),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.accounttype=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](74,"span",32),y["\u0275\u0275text"](75,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](76,"span",42),y["\u0275\u0275text"](77),y["\u0275\u0275pipe"](78,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](79,Mv,5,11,"p-autoComplete",44),y["\u0275\u0275template"](80,Ev,5,11,"p-autoComplete",45),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](81,"div",40),y["\u0275\u0275elementStart"](82,"div",28),y["\u0275\u0275elementStart"](83,"label",46),y["\u0275\u0275text"](84),y["\u0275\u0275pipe"](85,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](86,"input",47,48),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](88,"div",40),y["\u0275\u0275elementStart"](89,"div",28),y["\u0275\u0275elementStart"](90,"label",49),y["\u0275\u0275text"](91),y["\u0275\u0275pipe"](92,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](93,"input",50,51),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),y["\u0275\u0275pipe"](95,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](96,"div",40),y["\u0275\u0275elementStart"](97,"div",28),y["\u0275\u0275elementStart"](98,"label",52),y["\u0275\u0275text"](99),y["\u0275\u0275pipe"](100,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](101,"input",53,54),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](103,"div",5),y["\u0275\u0275elementStart"](104,"div",40),y["\u0275\u0275elementStart"](105,"div",28),y["\u0275\u0275elementStart"](106,"label",55),y["\u0275\u0275text"](107),y["\u0275\u0275pipe"](108,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](109,"input",56,57),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.memo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](111,"div",40),y["\u0275\u0275elementStart"](112,"div",28),y["\u0275\u0275elementStart"](113,"label",58),y["\u0275\u0275text"](114),y["\u0275\u0275pipe"](115,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](116,"input",59,60),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](118,"div",61),y["\u0275\u0275elementStart"](119,"div",62),y["\u0275\u0275elementStart"](120,"div",5),y["\u0275\u0275elementStart"](121,"div",63),y["\u0275\u0275elementStart"](122,"ul",64,65),y["\u0275\u0275listener"]("activeIdChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().activeNav=t}),y["\u0275\u0275elementStart"](124,"li",66),y["\u0275\u0275elementStart"](125,"a",67),y["\u0275\u0275text"](126),y["\u0275\u0275pipe"](127,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](128,Xv,33,26,"ng-template",68),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](129,hy,5,4,"li",69),y["\u0275\u0275elementStart"](130,"li",70),y["\u0275\u0275elementStart"](131,"a",67),y["\u0275\u0275text"](132),y["\u0275\u0275pipe"](133,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](134,xy,26,13,"ng-template",68),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](135,"li",70),y["\u0275\u0275elementStart"](136,"a",67),y["\u0275\u0275text"](137),y["\u0275\u0275pipe"](138,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](139,My,3,1,"ng-template",68),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](140,"li",70),y["\u0275\u0275elementStart"](141,"a",67),y["\u0275\u0275text"](142),y["\u0275\u0275pipe"](143,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](144,rb,13,12,"ng-template",68),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](145,"li",70),y["\u0275\u0275elementStart"](146,"a",67),y["\u0275\u0275text"](147),y["\u0275\u0275pipe"](148,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](149,pb,16,7,"ng-template",68),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](150,"div",71),y["\u0275\u0275elementStart"](151,"div",5),y["\u0275\u0275elementStart"](152,"div",72),y["\u0275\u0275elementStart"](153,"div",73),y["\u0275\u0275elementStart"](154,"div",74),y["\u0275\u0275elementStart"](155,"table",75),y["\u0275\u0275elementStart"](156,"thead"),y["\u0275\u0275elementStart"](157,"tr"),y["\u0275\u0275element"](158,"th",76),y["\u0275\u0275elementStart"](159,"th",77),y["\u0275\u0275text"](160),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](161,"th",76),y["\u0275\u0275text"](162),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](163,"tbody"),y["\u0275\u0275elementStart"](164,"tr"),y["\u0275\u0275elementStart"](165,"td"),y["\u0275\u0275text"](166),y["\u0275\u0275pipe"](167,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](168,"td",78),y["\u0275\u0275elementStart"](169,"input",79),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.valueforeign=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](170,"td"),y["\u0275\u0275elementStart"](171,"input",80),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.value=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](172,"tr"),y["\u0275\u0275elementStart"](173,"td"),y["\u0275\u0275text"](174),y["\u0275\u0275pipe"](175,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](176,"td",78),y["\u0275\u0275elementStart"](177,"input",81,82),y["\u0275\u0275listener"]("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("foreign","percent")})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_foreignpercent=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](179,ub,3,2,"div",83),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](180,"td"),y["\u0275\u0275elementStart"](181,"input",84,85),y["\u0275\u0275listener"]("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("local","percent")})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_percent=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](183,Cb,3,2,"div",83),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](184,"tr"),y["\u0275\u0275elementStart"](185,"td"),y["\u0275\u0275text"](186),y["\u0275\u0275pipe"](187,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](188,"td",78),y["\u0275\u0275elementStart"](189,"input",86),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_foreignvalue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("foreign","value")}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](190,"td"),y["\u0275\u0275elementStart"](191,"input",87),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.discount_value=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Calculate_Disc("local","value")}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](192,"tr"),y["\u0275\u0275elementStart"](193,"td"),y["\u0275\u0275text"](194),y["\u0275\u0275pipe"](195,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](196,"td",78),y["\u0275\u0275elementStart"](197,"input",88),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](198,"td"),y["\u0275\u0275elementStart"](199,"input",89),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.netvalue=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](200,"tr"),y["\u0275\u0275elementStart"](201,"td"),y["\u0275\u0275text"](202),y["\u0275\u0275pipe"](203,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](204,"td"),y["\u0275\u0275elementStart"](205,"input",90),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.qtotal=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](206,"tr"),y["\u0275\u0275elementStart"](207,"td"),y["\u0275\u0275text"](208),y["\u0275\u0275pipe"](209,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](210,"td"),y["\u0275\u0275elementStart"](211,"input",91),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.totalitem=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](212,"div",92),y["\u0275\u0275template"](213,fb,3,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](4),t=y["\u0275\u0275reference"](49),n=y["\u0275\u0275reference"](61),i=y["\u0275\u0275reference"](94),r=y["\u0275\u0275reference"](123),a=y["\u0275\u0275reference"](178),o=y["\u0275\u0275reference"](182),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](10),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,105,"Issue Return"),""),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("disabled",s.VouchersLinkedCount>0||1==s.ShowModeReceipt||1==s.DuringSaveDisable||s.ReceiptID>0&&!s.checkRoleParms(623)||0==s.ReceiptID&&!s.checkRoleParms(234)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](17,107,"Save")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275attribute"]("disabled",!s.checkRoleParms(234)||1==s.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](20,109,"CreateNew")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",s.ReceiptID>0&&0==s.VouchersLinkedCount),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",s.ReceiptID>0&&s.checkRoleParms(236)),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==s.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,111,"Exit")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](29,113,"Action Menu")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",s.ReceiptID>0),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](38,115,"CostPrice")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.customersalesprice),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",s.CustomerSalesPriceList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](45,117,"Branch")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",s._Receipt.branch_id)("ngClass",y["\u0275\u0275pureFunction2"](160,xv,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",s.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",s.BranchList)("ngForTrackBy",s.customTrackBy),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](57,119,"Entry#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("stepallow",1)("ngModel",s._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](163,xv,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngModel",s._Receipt.accounttype)("value",!1),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](71,121,"Customer#")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngModel",s._Receipt.accounttype)("value",!0),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](78,123,"OtherAccount")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",0==s._Receipt.accounttype),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==s._Receipt.accounttype),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](85,125,"CustomerName")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.cashcustomer_vendor_name)("readonly",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](92,127,"Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](95,129,s._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](166,xv,i.invalid&&e.submitted||0==s.ValidPeriod,i.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](100,132,"time")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",0==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.controlvouchernumanddate)||s.VouchersLinkedCount>0||1==s.LockedRecepit)("ngModel",s._Receipt.entry_time),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](108,134,"Memo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.memo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](115,136,"ReferenceNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.reference_no),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("destroyOnHide",!1)("activeId",s.activeNav),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngbNavItem",1),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](127,138,"Items")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",null==s.CurrentUserSetting?null:s.CurrentUserSetting.showreceiptitemcomponent),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngbNavItem",3),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](133,140,"LinkedReceipt")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",4),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](138,142,"Signature")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",5),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](143,144,"AnalyticalAccount")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",6),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](148,146,"History")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavOutlet",r),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" Total - ",null==s._CurrencySelected?null:s._CurrencySelected.currencysymbol," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" Total - ",null==s._BaseCurrency?null:s._BaseCurrency.currencysymbol," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](167,148,"Total")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.valueforeign),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.value),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](175,150,"Disc%")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("customMax",null==s.CurrentUserSetting?null:s.CurrentUserSetting.maxreceiptdiscountperc),y["\u0275\u0275property"]("readonly",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",s._Receipt.discount_foreignpercent)("ngClass",y["\u0275\u0275pureFunction2"](169,xv,a.invalid&&e.submitted,a.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==a.errors?null:a.errors.customMax),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate"]("customMax",null==s.CurrentUserSetting?null:s.CurrentUserSetting.maxreceiptdiscountperc),y["\u0275\u0275property"]("readonly",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",s._Receipt.discount_percent)("ngClass",y["\u0275\u0275pureFunction2"](172,xv,o.invalid&&e.submitted,o.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==o.errors?null:o.errors.customMax),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](187,152,"Discount")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("readonly",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",s._Receipt.discount_foreignvalue),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",s._Receipt.discount_value),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](195,154,"Net")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!s.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",s._Receipt.netvalueforeign)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._Receipt.netvalue)("readonly",!0),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](203,156,"totalqty")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.qtotal),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](209,158,"totalitem")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",s._Receipt.totalitem),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",s.itemqtyview)}}function yb(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",194),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function bb(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",194),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function Sb(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",195),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function Rb(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function xb(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Mb(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}const Ib=function(e){return{"invalid-data":e}};function Pb(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",203),y["\u0275\u0275listener"]("change",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"](),i=n.$implicit,r=n.index;return y["\u0275\u0275nextContext"](2).ChangeBatchQty(i,t.target.value,r)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),y["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",y["\u0275\u0275pureFunction1"](4,Ib,null==(null==n?null:n.qty)&&i.submitted||(null==n?null:n.qty)<=0&&i.submitted))("disabled",null==n||!n.fromOutSide||null)}}function Ob(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",204),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.date=t}),y["\u0275\u0275pipe"](2,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Expire_Date",t,""),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](2,4,null==n?null:n.date,"yyyy-MM-dd"))("ngClass",y["\u0275\u0275pureFunction1"](7,Ib,null==(null==n?null:n.date)&&i.submitted||""==(null==n?null:n.date)&&i.submitted))("disabled",!!((null==n?null:n.solidquantity)>0||null!=n&&n.fromOutSide)||null)}}function Eb(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275element"](2,"input",196),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275element"](4,"input",197),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,Pb,2,6,"td",1),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275element"](7,"input",198),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](8,Ob,3,9,"td",1),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275elementStart"](10,"input",199),y["\u0275\u0275listener"]("change",function(t){const n=y["\u0275\u0275restoreView"](e),i=n.$implicit,r=n.index;return y["\u0275\u0275nextContext"](2).ChangeBatchNo(i,t.target.value,r)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td",200),y["\u0275\u0275elementStart"](12,"button",201),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](2).DeleteRow(n,i)}),y["\u0275\u0275element"](13,"i",202),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),y["\u0275\u0275property"]("checked",null==e?null:e.valid),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Serial",n,""),y["\u0275\u0275property"]("value",null==e?null:e.serial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Store",n,""),y["\u0275\u0275propertyInterpolate"]("value","ar"!=i.lang?null==e?null:e.storename:null==e?null:e.storename_ar),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","BatchNo",n,""),y["\u0275\u0275property"]("value",null==e?null:e.batchno)("ngClass",y["\u0275\u0275pureFunction1"](13,Ib,null==e?null:e.isdublicatebatch))("disabled",!!((null==e?null:e.solidquantity)>0||null!=e&&e.fromOutSide)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",(null==e?null:e.solidquantity)>0||null)}}function wb(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",5),y["\u0275\u0275elementStart"](1,"button",205),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",206),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"button",207),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,3,"SampleFile")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,5,"SelectExcleFile")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,7,"Upload")," "))}function kb(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",182),y["\u0275\u0275template"](1,yb,3,3,"h6",183),y["\u0275\u0275template"](2,bb,3,3,"h6",183),y["\u0275\u0275elementStart"](3,"button",184),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](4,"span",185),y["\u0275\u0275text"](5,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"form",9,10),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"]().SubmitOk(t)}),y["\u0275\u0275elementStart"](8,"div",186),y["\u0275\u0275elementStart"](9,"div",187),y["\u0275\u0275elementStart"](10,"div",5),y["\u0275\u0275elementStart"](11,"form"),y["\u0275\u0275elementStart"](12,"div",188),y["\u0275\u0275elementStart"](13,"table",75),y["\u0275\u0275elementStart"](14,"thead"),y["\u0275\u0275elementStart"](15,"tr"),y["\u0275\u0275elementStart"](16,"th"),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"th",189),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](22,Sb,3,3,"th",190),y["\u0275\u0275elementStart"](23,"th",191),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](26,Rb,3,3,"th",1),y["\u0275\u0275template"](27,xb,3,3,"th",1),y["\u0275\u0275template"](28,Mb,3,3,"th",1),y["\u0275\u0275element"](29,"th"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"tbody"),y["\u0275\u0275template"](31,Eb,14,15,"tr",112),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](32,wb,10,9,"div",0),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",192),y["\u0275\u0275elementStart"](34,"button",193),y["\u0275\u0275text"](35),y["\u0275\u0275pipe"](36,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](15),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,13,"Valid")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,15,"Serial")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,17,"Store")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e._Receipt.details[e.SelectedRowIndex].batcheslist)("ngForTrackBy",e.trackByFn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](36,19,"Cancel")," ")}}const Db=function(){return[233,234,235,236,623]};let Bb=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u,g,_,f){this._cashsalesService=e,this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this.cd=r,this.toastr=a,this._router=o,this._generalService=s,this.translate=c,this._translateGlobalService=l,this._activeRoute=d,this.modalService=p,this.spinner=h,this._authService=m,this._printService=u,this._VerifyReportsService=g,this.datepipe=_,this.location=f,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=63,this.Transaction_move=0,this._Receipt=new C.tY,this._ReceiptOriginal=new C.tY,this._Receipt_h_Edit=new C.Iu,this._CashSalesDetailsReceipt=new C.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new C.tH,this._LinkedReceipt=new C.Cb,this.ShowWarrantyDateCols=!1,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.NOComponents="",this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.BranchList=[],this.PaymentTypeList=[],this.CustomerAccountsList=[],this.OtherAccountsList=[],this.CashCustomerList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.reporturl="",this.reportdomainUrl=xe.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.RelatedwithSerialsOrBatches="",this.UpdateReceiptItemService="",this.DuringSaveDisable=!1,this.show_all_component=!1,this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemqtyList=new Array,this._totalcost=0,this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},this.requiredserial=2,this.RowItem=null,this.SelectedRowIndex=0,this.BatchesAndSeialsList=[],this.InValidQty="",this.InValidNumberOfBatch="",this.DublicateBatchMassage="",this.DeleteUsedBatchesOrSerials="",this.ReceiptHistoryList=[],this.CustomerCostCenterList=[],d.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods(),this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransiction/issuereturn/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","NOComponents","CostPostingPeriodMessage","SaveMsg","Issue Return","No","swalNewActionTitle","swalNewActionText","InValidQty","InValidNumberOfBatch","DublicateBatchMassage","DeleteUsedBatchesOrSerials","RelatedwithSerialsOrBatches","cantNotDuplicateItem","UpdateReceiptItemService"]).subscribe(e=>{document.title=e["Issue Return"],this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.NOComponents=e.NOComponents,this.MultiPayErrorMsg=e.MultiPayErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.Close=e.Close,this.DeliverDateMsg=e.DeliverDateMsg,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.No=e.No,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.InValidQty=e.InValidQty,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.DublicateBatchMassage=e.DublicateBatchMassage,this.DeleteUsedBatchesOrSerials=e.DeleteUsedBatchesOrSerials,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.cantNotDuplicateItem=e.cantNotDuplicateItem,this.UpdateReceiptItemService=e.UpdateReceiptItemService})})}ngOnInit(){}SetInitialMethods(){this._Receipt=new C.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,be.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt(),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.accounttype=!1,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),console.log(this._Receipt.entry_date),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{if(null!=e.receipt){if(this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.qtotal=e.items.qty,this._Receipt.totalitem=e.items.length,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,this._Receipt.accounttype=e.receipt.accounttype,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code=1==this._Receipt.accounttype?{code:e.receipt.othercode}:{code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this.PriceListItemsOnly=e.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:e.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.cashcustomername_ar:e.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.divisionfieldname="ar"==this.lang?{divisionfieldname:e.receipt.division_sug_ar}:{divisionfieldname:e.receipt.division_sug},this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptmultipayment=e.receiptmultipayment,this.ItemsComponentList=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),this.ReceiptHistoryList=e.receipthistory,null==this._Receipt.qtotal||null==this._Receipt.totalitem){let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=e.items.length}this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._ReceiptOriginal),console.log(this._Receipt),this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck()}})}CheckPre_SaveReceipt(e){if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++)if(null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{if(!(this._Receipt.details[e].qty>0))return void this.toastr.error(this.qtyZeroErrorSaveMsg);0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].qty>0){0!=this._Receipt.value?(this._Receipt.itemscomponent[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty%(1/0)||0,this._Receipt.itemscomponent[e].h_discount_percentage=100*(this._Receipt.itemscomponent[e].h_discount_value/(this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty)%(1/0)||0)):(this._Receipt.itemscomponent[e].h_discount_value=0,this._Receipt.itemscomponent[e].h_discount_percentage=0);{let t=this.ItemComponentUnitsList.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._Receipt.itemscomponent[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.itemscomponent[e].conv/t.conv):this._Receipt.itemscomponent[e].conv,this._Receipt.itemscomponent[e].final_conv=0==this._Receipt.itemscomponent[e].final_conv?1:this._Receipt.itemscomponent[e].final_conv}}this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status||"INVALID"==e.form.controls.Division.status?5:1}SaveReceipt(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0;for(let e=0;e<this._Receipt.linkedreceipts.length;e++)0==this._Receipt.linkedreceipts[e].fire&&(this._Receipt.linkedreceipts.splice(e,1),e--);this.CheckBatchesAndSerials()}Save(){null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,this._router.navigate(["/page/inventorytransiction/issuereturn/"+this.ReceiptID]).then(()=>{window.location.reload()})})):(this._Receipt_h_Edit=new C.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/inventorytransiction/issuereturn/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e&&this.ChangeEntryDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&ye().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/inventorytransiction/issuereturn/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}changesalesprice(e){let t=JSON.parse(localStorage.getItem("IssuePricePolicy "));null!=t&&null!=t&&localStorage.removeItem("IssuePricePolicy "),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?(this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.customersalesprice=this.originalSalesPrice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:this._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("IssuePricePolicy ",JSON.stringify({IssuePricePolicy:this._Receipt.customersalesprice})))}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetDefaultStoreCostCenterByBranch(e=!1,t=!0){1==t&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==e&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{if(this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid){if(0==this._Receipt.details.length){this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}}1==t&&this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this._Receipt.itemscomponent.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))}null!=this.StoreCostCenterSetting.costcenterid&&(this._Receipt.costcenterid=this.StoreCostCenterSetting.costcenterid,this._Receipt.costcenterfieldname={costcenterfieldname:"ar"==this.lang?this.StoreCostCenterSetting.costcentername_ar:this.StoreCostCenterSetting.costcentername}),this.cd.markForCheck()})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e,console.log(e),this.SetCustomerSalesPriceList()})}SetCustomerSalesPriceList(){let e=this.CurrentUserSetting.issuepricepolicy;if(null==e||0==e){this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"},{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"},{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"},{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}];let e=JSON.parse(localStorage.getItem("IssuePricePolicy "));this._Receipt.customersalesprice=null!=e&&null!=e?parseInt(e.IssuePricePolicy):this.CustomerSalesPriceList[6].id}else 1==e?this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"}]:2==e?this.CustomerSalesPriceList=[{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"}]:3==e?this.CustomerSalesPriceList=[{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"}]:4==e?this.CustomerSalesPriceList=[{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"}]:5==e?this.CustomerSalesPriceList=[{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}]:6==e&&(this.CustomerSalesPriceList=[{id:5,text:"Cost Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"}]),this._Receipt.customersalesprice=this.CustomerSalesPriceList[0].id;this.originalSalesPrice=this._Receipt.customersalesprice}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e,this.cd.markForCheck()})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeCurrency(e){if(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.Calculate_Total_Tax_Net(),this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(let e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null)}}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;ye().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){ye().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?ye().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?(this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetCustomerCostCenter()):this.GetDefaultStoreCostCenterByBranch(!1)}):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetCustomerCostCenter())}GetCustomerAccountsList(e=""){this._CustomerService.CustomerAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}GetCustomerCostCenter(){this._ReceiptSharedService.GetCustomerCostCenter(this.subsidiaryID,this._Receipt.vendor_id).subscribe(e=>{this.CustomerCostCenterList=[],this.CustomerCostCenterList=e,this.CustomerCostCenterList.length>0?(this._Receipt.costcenterid=this.CustomerCostCenterList[0].id,this._Receipt.costcenterfieldname="ar"==this.lang?{costcenterfieldname:this.CustomerCostCenterList[0].sugar}:{costcenterfieldname:this.CustomerCostCenterList[0].sug}):this.GetDefaultStoreCostCenterByBranch(!0,!1),this.cd.markForCheck()})}onFocusInOtherAccounts(e){this.GetOtherAccountsList("")}OtherAccountsChangeSearch(e){this.GetOtherAccountsList(e.query.trim())}GetOtherAccountsList(e=""){this._ReceiptSharedService.GetTransactionAccountList(this.subsidiaryID,e).subscribe(e=>{this.OtherAccountsList=[],this.OtherAccountsList=e,this.cd.markForCheck()})}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e,t){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,this.cd.markForCheck()})}onClearItems(e){let t=this._Receipt.details[e];if(3==t.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));if(null!=this._Receipt.details[e].id){let t=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[e].rowno=t+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(t=>t.item_id==e.id)?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}duplicateItemSwalPopUp(e){ye().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(t=>{this.onClearItems(e),this._Receipt.details[e].itemcode=null,this.cd.markForCheck()})}GetItemsList(e=""){0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].allowtax=n.item.allowtax,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):3==e.item_type&&0==n.itemcomponents.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].allowtax=n.item.allowtax,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NOComponents)):(this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].allowtax=n.item.allowtax,this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this._Receipt.details[t].haswarrenty=n.item.haswarrenty,this._Receipt.details[t].warrantydate=n.item.haswarrenty?this.getwarrantydateDate():null,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.inventory_unitid,n.componentsunits.length>0&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.componentsunits)),n.itemcomponents.length>0&&n.itemcomponents.forEach(e=>{let n=new C.hm;n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode=e.itemcode,n.unit_id=e.itemcomponentunitid,n.qty=e.itemcomponentqty,n.basicqtycomponent=e.itemcomponentqty,n.conv=e.itemcomponentconv,n.itemcode=e.itemcode,n.price=0,n.total=n.price*n.qty,n.store_id=this._Receipt.details[t].store_id,n.transaction_move=this.Transaction_move,n.item_type=e.item_type,n.storecode=null!=this._Receipt.details[t].storecode?this._Receipt.details[t].storecode.code:null,n.parentrowno=this._Receipt.details[t].rowno,this._Receipt.itemscomponent.push(n)}),this.ChangeItemUnits(e.inventory_unitid,t)),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);5==this._Receipt.customersalesprice?null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(e=>{console.log(e),e.length>0?(this._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)):(this._Receipt.details[t].price=Number((0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t))}):this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,n,e,this._Receipt.customersalesprice).subscribe(e=>{e.customerprice.length>0&&(this._Receipt.details[t].price=e.customerprice[0].saleprice,5==e.customerdiscount.customersalesprice?(this._Receipt.details[t].conv=e.customerprice[0].itemconv,this._Receipt.details[t].discount_value=e.customerprice[0].discountvalue,this._Receipt.details[t].discount_percent=e.customerprice[0].discountpercentage,this._Receipt.details[t].unit_id=e.customerprice[0].itemunitid):(this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv),this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t))}),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,5==this._Receipt.customersalesprice?this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(i=>{console.log(i),i.length>0?(t=Number((i[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)):(t=0,this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e))}):this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,this._Receipt.customersalesprice).subscribe(i=>{i.customerprice.length>0&&(t=i.customerprice[0].saleprice,5==i.customerdiscount.customersalesprice&&(n=i.customerprice[0].itemconv),this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e))}),this.cd.markForCheck()},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{if(this.timeout=null,3==this._Receipt.details[e].item_type)if(this.ItemsComponentList=new Array,null!=this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id){let n=this._ReceiptOriginal.details.find(e=>e.id==t.id).qty,i=this._ReceiptOriginal.itemscomponent.find(n=>n.finishedreceipt_did==t.id&&n.id==this._Receipt.itemscomponent[e].id).qty;this._Receipt.itemscomponent[e].basicqtycomponent=i/n,this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e])}}else if(null==this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[e].id&&this._Receipt.itemscomponent[e].parentrowno==t.rowno&&(this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e]))}this.StockBalances(e),this.CheckBalanceForItemInStore(e),this.CalaculteValuesItemsRow(e)},1e3)}OnSelectedItem(e=null,t=null,n="",i=!1){if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){let t=e;if(null!=t.id)for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[e]);else null==t.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id&&null==e.id&&e.parentrowno==t.rowno))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}AddItems(){if(this._CashSalesDetailsReceipt=new C.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode);let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}DeleteItems(e){this.itemqtyview=!1;let t=this._Receipt.details[e];if(null==t.batcheslist||-1==t.batcheslist.findIndex(e=>e.solidquantity>0)){if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(e,1),e--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));1==this._Receipt.details.filter(e=>e.item_id==t.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id)),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()}else this.toastr.error(this.DeleteUsedBatchesOrSerials)}CalaculteValuesItemsRow(e,t="percent"){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;let n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}ReCalaculteValuesChangeItemsRow(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}onFocusInCostCenter(e){this.GetCostCenterList("")}CostCenterChangeSearch(e,t){this.GetCostCenterList(e.query.trim())}CostCenterSelectEvent(e){this._Receipt.costcenterid=e.id}GetCostCenterList(e=""){this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,e,this._Receipt.vendor_id).subscribe(e=>{this.CostCenterList=[],this.CostCenterList=e,this.CostCenterList.length>0&&this.setFieldNameForArray(this.CostCenterList,"costcenter"),this.cd.markForCheck()})}onFocusInLocations(e){this.GetLocationsList("")}LocationsChangeSearch(e,t){this.GetLocationsList(e.query.trim())}LocationsSelectEvent(e){this._Receipt.locationid=e.id}GetLocationsList(e=""){this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.LocationList=[],this.LocationList=e,this.LocationList.length>0&&this.setFieldNameForArray(this.LocationList,"location"),this.cd.markForCheck()})}onFocusInClasses(e){this.GetClassesList("")}ClassesChangeSearch(e,t){this.GetClassesList(e.query.trim())}ClassesSelectEvent(e){this._Receipt.classid=e.id}GetClassesList(e=""){this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.ClassList=[],this.ClassList=e,this.ClassList.length>0&&this.setFieldNameForArray(this.ClassList,"class"),this.cd.markForCheck()})}onFocusInDepartment(e){this.GetDepartmentList("")}DepartmentChangeSearch(e,t){this.GetDepartmentList(e.query.trim())}DepartmentSelectEvent(e){this._Receipt.departmentid=e.id}GetDepartmentList(e=""){this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.DepartmentList=[],this.DepartmentList=e,this.DepartmentList.length>0&&this.setFieldNameForArray(this.DepartmentList,"department"),this.cd.markForCheck()})}setFieldNameForArray(e,t=null){for(let n=0;n<e.length;n++){let i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t?i.departmentfieldname="ar"==this.lang?i.sugar:i.sug:"division"==t&&(i.divisionfieldname="ar"==this.lang?i.sugar:i.sug)}}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(n=>{if(this.spinner.hide(),null==n.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(n.items.length>0)if(1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=n.receipt.subsidiaryid,this._Receipt.customersalesprice=null!=n.receipt.customersalesprice?n.receipt.customersalesprice:this._Receipt.customersalesprice,this._Receipt.payment_type=null!=n.receipt.payment_type?n.receipt.payment_type:this._Receipt.payment_type,this._Receipt.vendor_id=null!=n.receipt.vendor_id?n.receipt.vendor_id:this._Receipt.vendor_id,this._Receipt.cashcustomerid=null!=n.receipt.cashcustomerid?n.receipt.cashcustomerid:this._Receipt.cashcustomerid,this._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,this._Receipt.discount_percent=n.receipt.discount_percent,this._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,this._Receipt.discount_value=n.receipt.discount_value,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?n.receipt.vendornamear:n.receipt.vendorname,this._Receipt.vendor_balance=null!=n.receipt.vendor_balance?n.receipt.vendor_balance:this._Receipt.vendor_balance,this.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=n.receipt.currency_id,this._Receipt.currency_rate=n.receipt.currency_rate,this._Receipt.empoyee_id=null!=n.receipt.empoyee_id?n.receipt.empoyee_id:this._Receipt.empoyee_id,this._Receipt.memo=n.receipt.memo,this._Receipt.reference_no=n.receipt.reference_no,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),0==this.PriceListItemsOnly||n.receipt.vendor_id==this._Receipt.vendor_id){this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=n.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id;for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);if(n.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),n.itemcomponents.length>0&&(this.ItemComponentsLinkedReceipt=n.itemcomponents,81==n.receipt.code&&(this.ItemComponentsLinkedReceipt=this.ItemComponentsLinkedReceipt.filter(e=>-1==e.transaction_move)),this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.componentsunits)),this.ItemLinkedReceipt=n.items,81==n.receipt.code&&(this.ItemLinkedReceipt=this.ItemLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0]),60==t.code||51==t.code||52==t.code){let e=n.batches;e.length>0&&this._Receipt.details.map(t=>{t.batcheslist=new Array;for(let n=0;n<e.length;n++)e[n].inv_receipt_d_id==t.linkedreceiptid&&this._ReceiptSharedService.GetStoreByID(t.store_id).subscribe(i=>{var r,a;let o=new Me.WB;o.storeid=t.store_id,o.storename=null!==(r=null==i?void 0:i.name)&&void 0!==r?r:"",o.storename_ar=null!==(a=null==i?void 0:i.name_ar)&&void 0!==a?a:"",o.qty=e[n].quantity,o.date=e[n].expire_date.split("T")[0],o.batchno=e[n].serial,o.serial=t.batcheslist.length>0?t.batcheslist.length+1:1,o.fromOutSide=!0,t.batcheslist.push(o),this.cd.markForCheck()})})}}else this._Receipt.linkedreceipts[e].fire=0,this.spinner.hide(),this.toastr.info(this.CustomerPricelistMsg);else this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._CashSalesDetailsReceipt=new C.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv);if(-1==n){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.linkedreceiptid=t.id,this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total;let n=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=n+1,3==t.item_type&&this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id).forEach(e=>{let t=new C.hm;t.store_id=this._CashSalesDetailsReceipt.store_id,t.storecode=this._CashSalesDetailsReceipt.storecode.code,t.item_id=e.item_id,t.itemcode=e.itemcode,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.unit_id=e.unit_id,t.conv=e.conv,t.qty=e.qty,t.basicqtycomponent=e.qty/this._CashSalesDetailsReceipt.qty||0,t.price=e.price,t.discount_value=e.discount_value,t.discount_percent=e.discount_percent,t.total=e.total,t.transaction_move=this.Transaction_move,t.finishedproductid=e.finishedproductid,t.item_type=e.item_type,t.notes=e.notes,t.haswarrenty=e.haswarrenty,t.warrantydate=e.warrantydate,t.detailshtml=e.detailshtml,t.customitemname=e.customitemname,t.salesmanid=e.salesmanid,t.parentrowno=this._CashSalesDetailsReceipt.rowno,this._Receipt.itemscomponent.push(t)}),this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished()}else{if(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),3==t.item_type){let e=this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id);if(null!=this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)if(this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id){var i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id);this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty)}}else if(null==this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[n].id&&this._Receipt.itemscomponent[n].parentrowno==t.rowno&&(i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id),this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty))}}this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished()}}SetLinkReceiptItemFinished(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;let e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&(this.GetLinkedReceipt(e),console.log("(this._Receipt.linkedreceipts.length)-(this.IxLRS+1)"),console.log(e))}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}OnOpenReceiptHistory(e){let t=this.ReceiptHistoryList[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);""!=n.Url&&window.open(n.Url+this.ReceiptHistoryList[e].receiptid+"/show","_blank")}OnSignatureSet(e){this._Receipt.signature=e.signature}Calculate_Total_Tax_Net(){let e=0;this._Receipt.details.forEach(t=>{e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0,this._Receipt.discount_percent>0?this.Calculate_Disc("local","percent"):this._Receipt.discount_value>0?this.Calculate_Disc("local","value"):this._Receipt.discount_foreignvalue>0?this.Calculate_Disc("foreign","value"):this.CalculateTax_Net(e);let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t}CalculateTax_Net(e=0){1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number((e-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number((e-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}Calculate_Disc(e="local",t="percent"){this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,"local"==e?("percent"==t&&(this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_percent=Number((100*(this._Receipt.discount_value/this._Receipt.value%(1/0)||0)).toFixed(8)),this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision)))):"foreign"==e&&("percent"==t&&(this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_foreignpercent=Number((100*(this._Receipt.discount_foreignvalue/this._Receipt.valueforeign%(1/0)||0)).toFixed(8)),this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)))),1==this._Receipt.currency_rate?(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.surchargevalue=0,this._Receipt.surchargevalueforeign=0,this._Receipt.netvalueforeign=Number((this._Receipt.valueforeign-this._Receipt.discount_foreignvalue).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.value-this._Receipt.discount_value).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){var i;1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let r=!0,a=new C.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id,console.log(a);let o=null!==(i=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==i?i:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._Receipt.details[e].item_type&&(-1==o||1==o&&this._Receipt.details[e].id>0)&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(a).subscribe(i=>{let a=0,s=0,c=0,l=[],d=!0;if(0==i.consignment.consignment){if(null!=i.totalqty.totalqty){if(a=i.totalqty.totalqty,l=i.itemcomponent,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;s=parseFloat(s.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._Receipt.details[e].item_type){this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.details[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});let t=[],n=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let i=0;i<n.length;i++){t=[],t=this._Receipt.itemscomponent.filter(t=>t.parentrowno==n[i].rowno&&t.finishedproductid==n[i].item_id&&null==t.id&&t.item_id==this._Receipt.details[e].item_id);for(let e=0;e<t.length;e++){let n=t[e].qty,i=this.ItemComponentUnitsList.find(n=>n.item_id==t[e].item_id&&n.id==t[e].unit_id);if(null!=i){let r=(null!=i.finalconv?i.finalconv:1)*(t[e].conv/(null!=i.conv?i.conv:1))*parseFloat(n.toString());s=parseFloat(s.toString())+r}}}}if(-1==o?c=a-s:1==o&&(c=a+s),3==this._Receipt.details[e].item_type)for(let e=0;e<l.length;e++)if(2!=l[e].item_type){let t=this._Receipt.details.filter(t=>t.item_id==l[e].item_id),n=0;t.forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;n=parseFloat(n.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),this._Receipt.itemscomponent.filter(t=>t.item_id==l[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());n=parseFloat(n.toString())+i}});let i=[],r=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let a=0;a<r.length;a++){i=[],i=this._Receipt.itemscomponent.filter(t=>t.parentrowno==r[a].rowno&&t.finishedproductid==r[a].item_id&&null==t.id&&t.item_id==l[e].item_id);for(let e=0;e<i.length;e++){let t=i[e].qty,r=this.ItemComponentUnitsList.find(t=>t.item_id==i[e].item_id&&t.id==i[e].unit_id);if(null!=r){let a=(null!=r.finalconv?r.finalconv:1)*(i[e].conv/(null!=r.conv?r.conv:1))*parseFloat(t.toString());n=parseFloat(n.toString())+a}}}if(!(n<=l[e].totalqty)){d=!1;break}d=!0}r=c>=0&&1==d}else r=!1;0==r?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+a)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(623)?this._router.navigate(["/page/inventorytransiction/issuereturn/0"]).then(()=>{window.location.reload()}):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/issuereturn/0"]).then(()=>{window.location.reload()})})}DeleteAction(){ye().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransiction/issuereturn"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}CheckServiceItemComponentsInUpdate(){this._ReceiptSharedService.CheckServiceItemComponentsInUpdate(this._Receipt.id).subscribe(e=>{e[0].exist?(this.ShowModeReceipt=!0,this.toastr.warning(this.UpdateReceiptItemService)):this.ShowModeReceipt=!1,this.cd.markForCheck()})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{Date.parse(e[0].maxpostingdate.toString())<Date.parse(this._Receipt.entry_date.toString())?(this.ShowModeReceipt=!1,this.ValidPeriod=!0,this.CheckServiceItemComponentsInUpdate()):(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/inventorytransiction/issuereturn/0"),this.ReceiptID=0,this._Receipt.id=null,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/issuereturn"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){const t=this._authService.userInfo().clientdatabase;let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_63_ReturnIssue_GL_WEB_alromaih"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alshaima")>-1?n="P_I_60_63_GL_WEB_alshaimaa"+i:t.indexOf("192.168.1.90")>-1||t.indexOf("rafc.matixerp.com")>-1?(n="P_S_52_CashSales_rahtElKhalig",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:i,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}):t.indexOf("alromaih")>-1?n="P_I_63_ReturnIssue_GL_WEB_alromaih":t.indexOf("darshgf")>-1&&(n="P_I_63_IssueReturn_GL_WEB_darshgf"),r.reportName=n,r.toEmail=this._emailobj.email,r.Subject=this._emailobj.subject,r}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(623)||0==this.ReceiptID&&!this.checkRoleParms(234)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/issuereturn"]):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/issuereturn"])})}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}getwarrantydateDate(){let e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}formateDecimal(e,t=3){return e.toFixed(t)}onMainAccountRadioClick(){this._Receipt.vendor_id=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this.cd.markForCheck()}OnSerialItems(e,t,n=null){if(console.log(e,"ix",t),this.SelectedRowIndex=e,this.RowItem=t,t.qty<=0)this.toastr.error(this.InValidQty);else{if(this.requiredserial=this._Receipt.details[e].isrequireserial,0==this._Receipt.details[e].batcheslist.length)this.AddNewRow(e);else{let t=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),n=this._Receipt.details[e].conv*t[0].finalconv/t[0].conv;this._Receipt.details[e].batcheslist.map(e=>{e.qty=e.qty*n})}this.OpenModal(n)}}AddNewRow(e=null){this._ReceiptSharedService.GetStoreByID(this.RowItem.store_id).subscribe(t=>{var n,i;console.log(t,"dd",this.RowItem);let r=new Me.WB;r.storeid=this.RowItem.store_id,r.storename=null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",r.storename_ar=null!==(i=null==t?void 0:t.name_ar)&&void 0!==i?i:"";let a=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),o=this._Receipt.details[e].conv*a[0].finalconv/a[0].conv;r.qty=this._Receipt.details[e].qty*o,console.log(a,"_selectedunit",o,r.qty),r.serial=this._Receipt.details[e].batcheslist.length>0?this._Receipt.details[e].batcheslist.length+1:1,this._Receipt.details[e].batcheslist.push(r),this.cd.markForCheck(),console.log(this._Receipt.details[e].batcheslist,"this.BatchesList")})}SubmitOk(e){e.valid&&this.CloseModal()}ChangeBatchQty(e,t,n){this._Receipt.details[this.SelectedRowIndex].batcheslist[n].qty=t}ChangeBatchNo(e,t,n){this._Receipt.details[this.SelectedRowIndex].batcheslist[n].batchno=t,console.log(this._Receipt.details,"ChangeBatchNo")}DeleteRow(e,t){this._Receipt.details[this.SelectedRowIndex].batcheslist.pop(),console.log(this._Receipt.details,"DeleteRow")}CheckBatchesAndSerials(){this.BatchesAndSeialsList=[],console.log(this.BatchesAndSeialsList,"BatchesAndSeialsList"),this._Receipt.details.some(e=>3==e.isrequireserial)?(console.log("Validate"),this._Receipt.details.forEach(e=>{this.BatchesAndSeialsList=[...this.BatchesAndSeialsList,...e.batcheslist]}),this.ValidateInFrontEnd()?(this.DuringSaveDisable=!0,this.Save()):this.DuringSaveDisable=!1):(this.DuringSaveDisable=!0,console.log("Saved"),this.Save())}ValidateInFrontEnd(){return 0==this.ValidateBatchesAndSerialsList()?(this.toastr.error(this.InValidNumberOfBatch),!1):(this._Receipt.details.map(e=>{e.batcheslist.length>0&&""==e.batcheslist[0].batchno&&(e.batcheslist[0].batchno=new Date(e.batcheslist[0].date).toLocaleDateString()+"_"+e.item_id)}),!0)}ValidateBatchesAndSerialsList(){let e=!0;this.BatchesAndSeialsList.forEach(t=>0==t.qty||null==t.qty||null==t.date||""==t.date?e=!1:void 0);let t=0;for(let n=0;n<this._Receipt.details.length;n++)if(3==this._Receipt.details[n].isrequireserial){let e=this.ItemUnitsList.filter(e=>e.item_id==this._Receipt.details[n].item_id&&e.id==this._Receipt.details[n].unit_id);t+=this._Receipt.details[n].qty*(this._Receipt.details[n].conv*e[0].finalconv/e[0].conv)}return t!=this.BatchesAndSeialsList.reduce((e,t)=>e+t.qty,0)&&(e=!1),e}ValidateDublicateBatchesInFrontEnd(){let e=[];for(let t=0;t<this._Receipt.details.length;t++)if(0!=this._Receipt.details[t].batcheslist.length){let n=this._Receipt.details[t].batcheslist[0];if(1==n.isdublicatebatch)continue;n.isdublicatebatch=!1;for(let i=t+1;i<this._Receipt.details.length;i++)0!=this._Receipt.details[i].batcheslist.length&&n.batchno.toLowerCase().trim()==this._Receipt.details[i].batcheslist[0].batchno.toLowerCase().trim()&&new Date(n.date).toLocaleDateString()!=new Date(this._Receipt.details[i].batcheslist[0].date).toLocaleDateString()&&(this._Receipt.details[i].batcheslist[0].isdublicatebatch=!0,e.push(this._Receipt.details[i].batcheslist[0]))}return e}ValidateDublicateBatchesInBackEnd(){console.log(this._Receipt.details,"this._Receipt.details"),this._ReceiptSharedService.ValidateDublicateBatches(this._Receipt.details).subscribe(e=>{if(this._Receipt.details=[],this._Receipt.details=null!=e?e:[],console.log(this._Receipt.details,"details"),this.cd.markForCheck(),this._Receipt.details.some(e=>{if(e.batcheslist.length>0)return 1==e.batcheslist[0].isdublicatebatch}))return ye().fire(this.DublicateBatchMassage),void(this.DuringSaveDisable=!1);this.DuringSaveDisable=!0,this.Save()})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Re.H),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](w.FF),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](v.J),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-return-details"]],viewQuery:function(e,t){if(1&e&&y["\u0275\u0275viewQuery"](rv,5),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([_.n,Se.v,f.t,i.uU,Re.H,v.J])],decls:8,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["_AddPatchModal",""],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-md-12","col-lg-12"],[1,"row","match-height"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","btn-md","mr-2","mb-2"],[1,""],["type","button",1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],["class","btn btn-primary btn-md\n                  mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn\n                  btn-warning btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-md","mr-2","mb-2",3,"click"],[1,"btn-group"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle","btn-md","mr-2","mb-2"],[1,"dropdown-menu"],["_ngcontent-xws-c281","",1,"horizontal","dark","my-2"],[1,"col-12","col-md-4","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["type","radio","name","AccountType","id","mainAccountType",1,"radio-col-green",3,"ngModel","value","click","ngModelChange"],[1,"col-form-label"],[1,"ml-2"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_ForiegnDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_ForiegnDiscountPerc","ngModel"],["style","color: red",4,"ngIf"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_LocalDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_LocalDiscountPerc","ngModel"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_LocalDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput","font-weight-bold","ng-pristine","ng-valid","ng-touched",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","btn-md","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","btn-md","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],[3,"value"],["Value","null"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoOtherAccounts","","Other","ngModel"],["pTemplate","OtherAccountsTemplate"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-primary",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],[2,"width","55px"],["href","javascript:;",1,"btn","btn-primary","transparent-BG","mb-2","mr-1",2,"padding","0","margin","0","background-color","transparent !important",3,"hidden","click"],[1,"fa","fa-list","font-medium-3","mr-0",2,"padding","7px","margin","0px 0px 0px","font-size","15px !important","color","#4ba6ec","background-color","transparent"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"readonly","ngModel","name","Min","CheckMin","ngClass","keyup","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["href","javascript:;",1,"info","p-0",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"signature","signatureoutput"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],[1,"row","mb-6"],[1,"col-12"],[1,"table-responsive","table-accountdetails"],["disabled","",1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number","disabled","",1,"form-control","red",3,"ngModel","name","ngModelChange"],["historyReceiptsentry_no","ngModel"],[1,"gridActionsTd","text-center"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"click"],[2,"color","red"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","10%"],["style","width: 15%",4,"ngIf"],[2,"width","20%"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary","mx-2"],[1,"modal-title"],[2,"width","15%"],["type","checkbox","disabled","",3,"name","checked"],["type","number","disabled","",1,"form-control",3,"name","value"],["type","text","disabled","",1,"form-control",3,"name","value"],["type","text",1,"form-control",3,"name","value","ngClass","disabled","change"],[1,"text-center"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"icon-trash"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","disabled","change"],["type","date","required","",1,"form-control",3,"name","ngModel","ngClass","disabled","ngModelChange"],["type","button",1,"btn","btn-primary","col-md-4"],["type","button",1,"btn","btn-info","col-md-2","mx-2"],["type","button",1,"btn","btn-primary","col-md-2"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,av,4,3,"div",0),y["\u0275\u0275template"](1,vb,214,175,"ng-container",1),y["\u0275\u0275elementStart"](2,"div"),y["\u0275\u0275template"](3,kb,37,21,"ng-template",null,2,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"ngx-spinner",3),y["\u0275\u0275elementStart"](6,"p",4),y["\u0275\u0275text"](7,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(233)||t.checkRoleParms(234)||t.checkRoleParms(235)||t.checkRoleParms(623)||t.checkRoleParms(236))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction0"](3,Db))),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.JJ,a.On,i.sg,a.Q7,i.mk,a.Fj,Ie.L,Pe.a,a._,w.Pz,w.nv,w.Vx,w.uN,w.tO,a.wV,E.K,a.qQ,we.Z,Ee.k,a.YN,a.Kr,s.Qc,Oe.jx,De.t,Be.T],pipes:[l.X$,i.uU,Le.N],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}.width-table-input[_ngcontent-%COMP%]{min-width:130px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();function Lb(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Fb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function Nb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function Vb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",51),y["\u0275\u0275template"](1,Fb,2,1,"span",1),y["\u0275\u0275template"](2,Nb,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function qb(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",52),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnAdd()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Tb(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Ab(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Gb(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Tb,1,0,"i",48),y["\u0275\u0275template"](3,Ab,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function Ub(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function $b(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function jb(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",47),y["\u0275\u0275template"](2,Ub,1,0,"i",48),y["\u0275\u0275template"](3,$b,1,0,"i",49),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function zb(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Wb(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Jb(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Qb(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Yb(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Hb(e,t){1&e&&y["\u0275\u0275element"](0,"i",54)}function Zb(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1,"\xa0"),y["\u0275\u0275elementEnd"]())}function Kb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function Xb(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function eS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td",59),y["\u0275\u0275elementStart"](1,"a",60),y["\u0275\u0275element"](2,"i",61),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/destroyvoucher/",null==e?null:e.id,"")}}function tS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275template"](1,Kb,2,1,"td",1),y["\u0275\u0275template"](2,Xb,2,1,"td",1),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"td"),y["\u0275\u0275text"](8),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](9,eS,3,1,"td",56),y["\u0275\u0275elementStart"](10,"td"),y["\u0275\u0275elementStart"](11,"a",57),y["\u0275\u0275elementStart"](12,"span"),y["\u0275\u0275element"](13,"i",58),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](1==(null==n.CurrentUserSetting?null:n.CurrentUserSetting.showcostprice)?null==e?null:e.netvalue:"****"),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",n.checkRoleParms(625)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/destroyvoucher/",null==e?null:e.id,"/show")}}function nS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275template"](1,tS,14,7,"tr",55),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.ReceiptList)}}function iS(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275elementStart"](1,"tr",62),y["\u0275\u0275elementStart"](2,"td",63),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,1,"NoData")))}function rS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",64),y["\u0275\u0275elementStart"](1,"ngb-pagination",65),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",66),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",67),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",68),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",69),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function aS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",6),y["\u0275\u0275elementStart"](2,"div",7),y["\u0275\u0275elementStart"](3,"div",8),y["\u0275\u0275elementStart"](4,"h6",9),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",10),y["\u0275\u0275elementStart"](8,"div",11),y["\u0275\u0275elementStart"](9,"section"),y["\u0275\u0275elementStart"](10,"div",4),y["\u0275\u0275elementStart"](11,"div",12),y["\u0275\u0275elementStart"](12,"form",13,14),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](14,"div",4),y["\u0275\u0275elementStart"](15,"div",15),y["\u0275\u0275elementStart"](16,"div",16),y["\u0275\u0275elementStart"](17,"label",17),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"select",18,19),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](22,"option",20),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,Vb,3,3,"option",21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",15),y["\u0275\u0275elementStart"](27,"div",16),y["\u0275\u0275elementStart"](28,"label",22),y["\u0275\u0275text"](29),y["\u0275\u0275pipe"](30,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"input",23,24),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",25),y["\u0275\u0275elementStart"](34,"button",26),y["\u0275\u0275element"](35,"i",27),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"button",28),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ShowAll()}),y["\u0275\u0275element"](39,"i",27),y["\u0275\u0275text"](40),y["\u0275\u0275pipe"](41,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"div",29),y["\u0275\u0275elementStart"](43,"div",30),y["\u0275\u0275elementStart"](44,"div",31),y["\u0275\u0275template"](45,qb,4,3,"button",32),y["\u0275\u0275elementStart"](46,"button",33),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint()}),y["\u0275\u0275element"](47,"i",27),y["\u0275\u0275text"](48),y["\u0275\u0275pipe"](49,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](50,"button",34),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(1)}),y["\u0275\u0275element"](51,"i",27),y["\u0275\u0275text"](52),y["\u0275\u0275pipe"](53,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"button",35),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](55,"i",27),y["\u0275\u0275text"](56),y["\u0275\u0275pipe"](57,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"div",36),y["\u0275\u0275elementStart"](59,"div",37),y["\u0275\u0275elementStart"](60,"label",38),y["\u0275\u0275text"](61),y["\u0275\u0275pipe"](62,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](63,"input",39,40),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"div",4),y["\u0275\u0275elementStart"](66,"div",41),y["\u0275\u0275elementStart"](67,"div",42),y["\u0275\u0275elementStart"](68,"div",43),y["\u0275\u0275elementStart"](69,"div",44),y["\u0275\u0275elementStart"](70,"table",45),y["\u0275\u0275elementStart"](71,"thead"),y["\u0275\u0275elementStart"](72,"tr"),y["\u0275\u0275elementStart"](73,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),y["\u0275\u0275text"](74),y["\u0275\u0275pipe"](75,"translate"),y["\u0275\u0275template"](76,Gb,4,3,"ng-container",1),y["\u0275\u0275template"](77,jb,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](78,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),y["\u0275\u0275text"](79),y["\u0275\u0275pipe"](80,"translate"),y["\u0275\u0275elementContainerStart"](81),y["\u0275\u0275element"](82,"i",47),y["\u0275\u0275template"](83,zb,1,0,"i",48),y["\u0275\u0275template"](84,Wb,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](85,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),y["\u0275\u0275text"](86),y["\u0275\u0275pipe"](87,"translate"),y["\u0275\u0275elementContainerStart"](88),y["\u0275\u0275element"](89,"i",47),y["\u0275\u0275template"](90,Jb,1,0,"i",48),y["\u0275\u0275template"](91,Qb,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](92,"th",46),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),y["\u0275\u0275text"](93),y["\u0275\u0275pipe"](94,"translate"),y["\u0275\u0275elementContainerStart"](95),y["\u0275\u0275element"](96,"i",47),y["\u0275\u0275template"](97,Yb,1,0,"i",48),y["\u0275\u0275template"](98,Hb,1,0,"i",49),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](99,Zb,2,0,"th",1),y["\u0275\u0275elementStart"](100,"th"),y["\u0275\u0275text"](101,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](102,nS,2,1,"tbody",1),y["\u0275\u0275template"](103,iS,5,3,"tbody",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](104,rS,12,7,"div",50),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,34,"Destroy Voucher"),""),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](19,36,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,38,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](30,40,"EntryNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](37,42,"Search")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](41,44,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(243)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](49,46,"Print")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](53,48,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](57,50,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](62,52,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](75,54,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](80,56,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](87,58,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](94,60,"value")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","NetValue"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(625)),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.ReceiptList.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let oS=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=a,this._translateGlobalService=o,this.spinner=s,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.GetCurrentUserSetting(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Destroy Voucher"]).subscribe(e=>{this.title=e["Destroy Voucher"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="61",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/inventorytransiction/destroyvoucher/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransiction/destroyvoucher/0"])}OnView(e){this._router.navigate(["/page/inventorytransiction/destroyvoucher/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/inventorytransiction/destroyvoucher/${e.id}`,this._router.navigate([t])}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",o="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(s=>{this.cd.markForCheck(),t=`\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>${i}</th>\n                     <th>${r}</th>\n                     <th>${a}</th>\n                     <th>${o}</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         `,s.map(e=>{t+=`\n        <tr>\n         <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n         <td>${e.entry_no}</td>\n         <td>${e.entry_date}</td>\n         <td>${e.netvalue}</td>\n        </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0642\u064a\u0645\u0629":t.netvalue}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,Total:t.netvalue})}),this._Excel.exportAsExcelFile(e,"DestoryVoucher")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](P.x),y["\u0275\u0275directiveInject"](O.z),y["\u0275\u0275directiveInject"](v.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-destroy-voucher"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,v.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success\n                    mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped","table-accountdetails"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["class","text-truncate",4,"ngIf"],[1,"primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"routerLink"],[1,"ft-edit","mr-2"],[2,"background-color","#B0BED9"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,Lb,4,3,"div",0),y["\u0275\u0275template"](1,aS,105,62,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4," Loading... "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(242)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(242)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,E.K,c.yS,w.N9],pipes:[l.X$],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.isExpired[_ngcontent-%COMP%]{color:red}']}),e})();const sS=["RForm"];function cS(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",5),y["\u0275\u0275elementStart"](1,"h1",6),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function lS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",70),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DocumentAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function dS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",73),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).onPrint()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function pS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",73),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DupilcateAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function hS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",73),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](4).DeleteAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function mS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,hS,3,4,"button",71),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function uS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,dS,3,4,"button",71),y["\u0275\u0275elementStart"](2,"email-popup",72),y["\u0275\u0275listener"]("_savedemailobj",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).sendEmail(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,pS,3,4,"button",71),y["\u0275\u0275template"](4,mS,2,1,"div",1),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(246)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("entryno",e._Receipt.entry_no),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(243)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(244))}}function gS(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",74),y["\u0275\u0275text"](1,"choose"),y["\u0275\u0275elementEnd"]())}function _S(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",74),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function CS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function fS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function vS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",75),y["\u0275\u0275template"](1,CS,2,1,"span",1),y["\u0275\u0275template"](2,fS,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function yS(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",62),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function bS(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",79),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function SS(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",79),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function RS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function xS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function MS(e,t){if(1&e&&(y["\u0275\u0275template"](0,RS,2,1,"div",1),y["\u0275\u0275template"](1,xS,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function IS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function PS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function OS(e,t){if(1&e&&(y["\u0275\u0275template"](0,IS,2,1,"div",1),y["\u0275\u0275template"](1,PS,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const ES=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function wS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",104),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,ES,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function kS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",104),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,ES,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function DS(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",105),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function BS(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",105),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function LS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function FS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function NS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",106),y["\u0275\u0275template"](1,LS,2,1,"span",1),y["\u0275\u0275template"](2,FS,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang)}}const VS=function(e,t){return{"invalid-data":e,"valid-data":t}};function qS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",107,108),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("step",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack),y["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),y["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id))("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](9,VS,e.invalid&&r.submitted,e.valid&&r.submitted))}}function TS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",109,110),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.price=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),y["\u0275\u0275property"]("ngModel",i.price)("readonly",!0)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](6,VS,e.invalid&&r.submitted,e.valid&&r.submitted))}}function AS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",111),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.total=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_total",t,""),y["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}function GS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"a",113),y["\u0275\u0275listener"]("click",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"](2).index,n=y["\u0275\u0275nextContext"](3),i=y["\u0275\u0275reference"](6);return n.OnSerialItems(t,i)}),y["\u0275\u0275element"](1,"i",114),y["\u0275\u0275elementEnd"]()}}function US(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,GS,2,0,"a",112),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1!=e.CashCustomerSetting.dispensingpolicy)}}const $S=function(e){return{item_id:e}};function jS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",87),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"p-autoComplete",88,89),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](5),r=y["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275template"](7,MS,2,2,"ng-template",90),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"p-autoComplete",91,92),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](10),r=y["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).onClearItems(t)}),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275template"](12,OS,2,2,"ng-template",93),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"td",94),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),y["\u0275\u0275template"](14,wS,2,5,"div",95),y["\u0275\u0275template"](15,kS,2,5,"div",95),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"select",96,97),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),y["\u0275\u0275template"](19,DS,2,1,"option",98),y["\u0275\u0275template"](20,BS,2,1,"option",98),y["\u0275\u0275template"](21,NS,3,4,"option",99),y["\u0275\u0275pipe"](22,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,qS,3,12,"td",1),y["\u0275\u0275elementStart"](24,"td"),y["\u0275\u0275elementStart"](25,"input",100,101),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](27,TS,3,9,"td",1),y["\u0275\u0275template"](28,AS,2,3,"td",1),y["\u0275\u0275elementStart"](29,"td"),y["\u0275\u0275elementStart"](30,"a",102),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteItems(t)}),y["\u0275\u0275element"](31,"i",103),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](32,US,2,1,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=t.index,r=y["\u0275\u0275reference"](18),a=y["\u0275\u0275reference"](26);y["\u0275\u0275nextContext"](2);const o=y["\u0275\u0275reference"](4),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i+1),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),y["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](6,33,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),y["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](11,35,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](40,VS,r.invalid&&o.submitted,r.valid&&o.submitted)),y["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](22,37,s.ItemUnitsList,y["\u0275\u0275pureFunction1"](43,$S,null==e?null:e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),y["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",y["\u0275\u0275pureFunction2"](45,VS,a.invalid&&o.submitted,a.valid&&o.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",2==e.isrequireserial||3==e.isrequireserial)}}const zS=function(e){return{"table-for-autocomplete":e}};function WS(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",76),y["\u0275\u0275elementStart"](1,"div",59),y["\u0275\u0275elementStart"](2,"div",77),y["\u0275\u0275elementStart"](3,"table",61),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275element"](6,"th"),y["\u0275\u0275elementStart"](7,"th",78),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",62),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"th",79),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"th",80),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,yS,3,3,"th",81),y["\u0275\u0275elementStart"](20,"th",62),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,bS,3,3,"th",82),y["\u0275\u0275template"](24,SS,3,3,"th",83),y["\u0275\u0275elementStart"](25,"th",84),y["\u0275\u0275text"](26," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](27,"tbody"),y["\u0275\u0275elementStart"](28,"tbody"),y["\u0275\u0275template"](29,jS,33,48,"tr",85),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"button",86),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddItems()}),y["\u0275\u0275text"](31),y["\u0275\u0275pipe"](32,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](24,zS,e.isType)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,12,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,18,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,20,"qty")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](32,22,"Add")," ")}}function JS(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",62),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function QS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function YS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function HS(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",105),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function ZS(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",105),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function KS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function XS(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function eR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",75),y["\u0275\u0275template"](1,KS,2,1,"span",1),y["\u0275\u0275template"](2,XS,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](5);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function tR(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",120),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",t,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",n.conv)}}function nR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"input",116),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"input",116),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275template"](6,QS,2,1,"div",1),y["\u0275\u0275template"](7,YS,2,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"select",117),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),y["\u0275\u0275template"](10,HS,2,1,"option",98),y["\u0275\u0275template"](11,ZS,2,1,"option",98),y["\u0275\u0275template"](12,eR,3,3,"option",118),y["\u0275\u0275pipe"](13,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](14,tR,2,3,"td",1),y["\u0275\u0275elementStart"](15,"td"),y["\u0275\u0275elementStart"](16,"input",119),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"input",119),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"td"),y["\u0275\u0275elementStart"](20,"input",119),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.storecode),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",n,""),y["\u0275\u0275property"]("readonly",!0)("ngModel",e.itemcode),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id),y["\u0275\u0275attribute"]("disabled",!0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](13,24,i.ItemComponentUnitsList,y["\u0275\u0275pureFunction1"](27,$S,e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",n,""),y["\u0275\u0275property"]("ngModel",e.qty)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_price_c",n,""),y["\u0275\u0275property"]("ngModel",e.price)("readonly",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_total_c",n,""),y["\u0275\u0275property"]("ngModel",e.total)("readonly",!0)}}const iR=function(e){return{finishedproductid:e}};function rR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",76),y["\u0275\u0275elementStart"](1,"div",59),y["\u0275\u0275elementStart"](2,"div",60),y["\u0275\u0275elementStart"](3,"table",61),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",62),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",62),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",62),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",80),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](18,JS,3,3,"th",81),y["\u0275\u0275elementStart"](19,"th",62),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",62),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"th",62),y["\u0275\u0275text"](26),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"tbody"),y["\u0275\u0275template"](29,nR,21,29,"tr",115),y["\u0275\u0275pipe"](30,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,9,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](17,15,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,17,"qty")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,19,"Price")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](27,21,"Total")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",0==e.show_all_component?y["\u0275\u0275pipeBind2"](30,23,e.ItemsComponentList,y["\u0275\u0275pureFunction1"](26,iR,null==e.SelectedItem?null:e.SelectedItem.item_id)):e.ItemsComponentList)}}function aR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"li",56),y["\u0275\u0275elementStart"](1,"a",53),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](4,rR,31,28,"ng-template",54),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngbNavItem",2),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,2,"Components")))}function oR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",74),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function sR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",74),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]())}function cR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function lR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function dR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",75),y["\u0275\u0275template"](1,cR,2,1,"span",1),y["\u0275\u0275template"](2,lR,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function pR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",105),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function hR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",105),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function mR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function uR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function gR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",75),y["\u0275\u0275template"](1,mR,2,1,"span",1),y["\u0275\u0275template"](2,uR,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function _R(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",121),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),y["\u0275\u0275template"](3,oR,2,0,"option",30),y["\u0275\u0275template"](4,sR,2,0,"option",30),y["\u0275\u0275template"](5,dR,3,3,"option",118),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"select",121),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](8,pR,2,1,"option",98),y["\u0275\u0275template"](9,hR,2,1,"option",98),y["\u0275\u0275template"](10,gR,3,3,"option",118),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275elementStart"](12,"input",122,123),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"td"),y["\u0275\u0275elementStart"](15,"a",124),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),y["\u0275\u0275element"](16,"i",125),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"a",113),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),y["\u0275\u0275element"](19,"i",126),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"td"),y["\u0275\u0275elementStart"](21,"a",102),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),y["\u0275\u0275element"](22,"i",103),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),y["\u0275\u0275property"]("ngModel",e.branch_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.BranchList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no),y["\u0275\u0275advance"](3),y["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function CR(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",76),y["\u0275\u0275elementStart"](1,"div",59),y["\u0275\u0275elementStart"](2,"div",60),y["\u0275\u0275elementStart"](3,"table",61),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",62),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",62),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",62),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",84),y["\u0275\u0275text"](16," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"th",84),y["\u0275\u0275text"](18," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"th",84),y["\u0275\u0275text"](20," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"tbody"),y["\u0275\u0275template"](22,_R,23,13,"tr",115),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"button",86),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,5,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function fR(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",76),y["\u0275\u0275elementStart"](1,"div",59),y["\u0275\u0275elementStart"](2,"Signature",127),y["\u0275\u0275listener"]("signatureoutput",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("signature",e._Receipt.signature)}}function vR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function yR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e.subsaidarySetting?null:e.subsaidarySetting.costcenteralternativetext,"")}}function bR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function SR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function RR(e,t){if(1&e&&(y["\u0275\u0275template"](0,bR,2,1,"div",1),y["\u0275\u0275template"](1,SR,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function xR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function MR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetextar)}}function IR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetext)}}function PR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,MR,2,1,"span",1),y["\u0275\u0275template"](2,IR,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function OR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",27),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function ER(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function wR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function kR(e,t){if(1&e&&(y["\u0275\u0275template"](0,ER,2,1,"div",1),y["\u0275\u0275template"](1,wR,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function DR(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",129),y["\u0275\u0275elementStart"](1,"label",130),y["\u0275\u0275template"](2,xR,3,3,"span",1),y["\u0275\u0275template"](3,PR,3,2,"span",1),y["\u0275\u0275template"](4,OR,2,0,"span",135),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",136,137),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInClasses(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.classfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.classid=null}),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275template"](9,kR,2,2,"ng-template",138),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans)("ngModel",n._Receipt.classfieldname)("suggestions",n.ClassList)("ngClass",y["\u0275\u0275pureFunction2"](12,VS,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function BR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function LR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetext)}}function FR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetextar)}}function NR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,LR,2,1,"span",1),y["\u0275\u0275template"](2,FR,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function VR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",27),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function qR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function TR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function AR(e,t){if(1&e&&(y["\u0275\u0275template"](0,qR,2,1,"div",1),y["\u0275\u0275template"](1,TR,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function GR(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",129),y["\u0275\u0275elementStart"](1,"label",130),y["\u0275\u0275template"](2,BR,3,3,"span",1),y["\u0275\u0275template"](3,NR,3,2,"span",1),y["\u0275\u0275template"](4,VR,2,0,"span",135),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",139,140),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInLocations(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.locationid=null}),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275template"](9,AR,2,2,"ng-template",141),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans)("ngModel",n._Receipt.locationfieldname)("suggestions",n.LocationList)("ngClass",y["\u0275\u0275pureFunction2"](12,VS,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function UR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function $R(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetextar)}}function jR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetext)}}function zR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,$R,2,1,"span",1),y["\u0275\u0275template"](2,jR,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function WR(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",27),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function JR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function QR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function YR(e,t){if(1&e&&(y["\u0275\u0275template"](0,JR,2,1,"div",1),y["\u0275\u0275template"](1,QR,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function HR(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",129),y["\u0275\u0275elementStart"](1,"label",130),y["\u0275\u0275template"](2,UR,3,3,"span",1),y["\u0275\u0275template"](3,zR,3,2,"span",1),y["\u0275\u0275template"](4,WR,2,0,"span",135),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",142,143),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInDepartment(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.debartmentid=null}),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275template"](9,YR,2,2,"ng-template",144),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans)("ngModel",n._Receipt.departmentfieldname)("suggestions",n.DepartmentList)("ngClass",y["\u0275\u0275pureFunction2"](12,VS,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function ZR(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",5),y["\u0275\u0275elementStart"](1,"div",128),y["\u0275\u0275elementStart"](2,"div",129),y["\u0275\u0275elementStart"](3,"label",130),y["\u0275\u0275template"](4,vR,3,3,"span",1),y["\u0275\u0275template"](5,yR,2,1,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"p-autoComplete",131,132),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"](2).onFocusInCostCenter(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.costcenterid=null}),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275template"](10,RR,2,2,"ng-template",133),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](11,DR,10,15,"div",134),y["\u0275\u0275template"](12,GR,10,15,"div",134),y["\u0275\u0275template"](13,HR,10,15,"div",134),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.costcentermandatory4invtrans)("ngModel",n._Receipt.costcenterfieldname)("suggestions",n.CostCenterList)("ngClass",y["\u0275\u0275pureFunction2"](14,VS,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](9,12,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentisactive)}}function KR(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"Item-StoreQty",145,146),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function XR(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"div",7),y["\u0275\u0275elementStart"](2,"div",5),y["\u0275\u0275elementStart"](3,"form",8,9),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](4);return y["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),y["\u0275\u0275elementStart"](5,"div",10),y["\u0275\u0275elementStart"](6,"div",11),y["\u0275\u0275elementStart"](7,"div",12),y["\u0275\u0275elementStart"](8,"div",13),y["\u0275\u0275elementStart"](9,"h6",14),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",5),y["\u0275\u0275elementStart"](13,"div",15),y["\u0275\u0275elementStart"](14,"button",16),y["\u0275\u0275element"](15,"i",17),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"button",18),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateNewAction()}),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,lS,3,4,"button",19),y["\u0275\u0275elementStart"](22,"button",20),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"div",21),y["\u0275\u0275elementStart"](26,"button",22),y["\u0275\u0275text"](27),y["\u0275\u0275pipe"](28,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"div",23),y["\u0275\u0275template"](30,uS,5,4,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](31,"hr"),y["\u0275\u0275elementStart"](32,"div",5),y["\u0275\u0275elementStart"](33,"div",24),y["\u0275\u0275elementStart"](34,"div",25),y["\u0275\u0275elementStart"](35,"label",26),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"span",27),y["\u0275\u0275text"](39,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"select",28,29),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeBranch(t)}),y["\u0275\u0275template"](42,gS,2,0,"option",30),y["\u0275\u0275template"](43,_S,2,0,"option",30),y["\u0275\u0275template"](44,vS,3,3,"option",31),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](45,"div",32),y["\u0275\u0275elementStart"](46,"div",25),y["\u0275\u0275elementStart"](47,"label",33),y["\u0275\u0275text"](48),y["\u0275\u0275pipe"](49,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](50,"span",27),y["\u0275\u0275text"](51,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](52,"input",34,35),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"div",5),y["\u0275\u0275elementStart"](55,"div",32),y["\u0275\u0275elementStart"](56,"div",25),y["\u0275\u0275elementStart"](57,"label",36),y["\u0275\u0275text"](58),y["\u0275\u0275pipe"](59,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"input",37,38),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),y["\u0275\u0275pipe"](62,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](63,"div",32),y["\u0275\u0275elementStart"](64,"div",25),y["\u0275\u0275elementStart"](65,"label",39),y["\u0275\u0275text"](66),y["\u0275\u0275pipe"](67,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](68,"input",40,41),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](70,"div",32),y["\u0275\u0275elementStart"](71,"div",25),y["\u0275\u0275elementStart"](72,"label",42),y["\u0275\u0275text"](73),y["\u0275\u0275pipe"](74,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](75,"input",43,44),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](77,"div",32),y["\u0275\u0275elementStart"](78,"div",25),y["\u0275\u0275elementStart"](79,"label",45),y["\u0275\u0275text"](80),y["\u0275\u0275pipe"](81,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](82,"input",46,47),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.memo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](84,"div",11),y["\u0275\u0275elementStart"](85,"div",48),y["\u0275\u0275elementStart"](86,"div",5),y["\u0275\u0275elementStart"](87,"div",49),y["\u0275\u0275elementStart"](88,"ul",50,51),y["\u0275\u0275listener"]("activeIdChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().activeNav=t}),y["\u0275\u0275elementStart"](90,"li",52),y["\u0275\u0275elementStart"](91,"a",53),y["\u0275\u0275text"](92),y["\u0275\u0275pipe"](93,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](94,WS,33,26,"ng-template",54),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](95,aR,5,4,"li",55),y["\u0275\u0275elementStart"](96,"li",56),y["\u0275\u0275elementStart"](97,"a",53),y["\u0275\u0275text"](98),y["\u0275\u0275pipe"](99,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](100,CR,26,13,"ng-template",54),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](101,"li",56),y["\u0275\u0275elementStart"](102,"a",53),y["\u0275\u0275text"](103),y["\u0275\u0275pipe"](104,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](105,fR,3,1,"ng-template",54),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](106,"li",56),y["\u0275\u0275elementStart"](107,"a",53),y["\u0275\u0275text"](108),y["\u0275\u0275pipe"](109,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](110,ZR,14,17,"ng-template",54),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](111,"div",57),y["\u0275\u0275elementStart"](112,"div",5),y["\u0275\u0275elementStart"](113,"div",58),y["\u0275\u0275elementStart"](114,"div",59),y["\u0275\u0275elementStart"](115,"div",60),y["\u0275\u0275elementStart"](116,"table",61),y["\u0275\u0275elementStart"](117,"thead"),y["\u0275\u0275elementStart"](118,"tr"),y["\u0275\u0275element"](119,"th",62),y["\u0275\u0275elementStart"](120,"th",63),y["\u0275\u0275text"](121),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](122,"th",62),y["\u0275\u0275text"](123),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](124,"tbody"),y["\u0275\u0275elementStart"](125,"tr"),y["\u0275\u0275elementStart"](126,"td"),y["\u0275\u0275text"](127),y["\u0275\u0275pipe"](128,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](129,"td",64),y["\u0275\u0275elementStart"](130,"input",65),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.valueforeign=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](131,"td"),y["\u0275\u0275elementStart"](132,"input",66),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.value=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](133,"tr"),y["\u0275\u0275elementStart"](134,"td"),y["\u0275\u0275text"](135),y["\u0275\u0275pipe"](136,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](137,"td"),y["\u0275\u0275elementStart"](138,"input",67),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.qtotal=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](139,"tr"),y["\u0275\u0275elementStart"](140,"td"),y["\u0275\u0275text"](141),y["\u0275\u0275pipe"](142,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](143,"td"),y["\u0275\u0275elementStart"](144,"input",68),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.totalitem=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](145,"div",69),y["\u0275\u0275template"](146,KR,3,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](4),t=y["\u0275\u0275reference"](41),n=y["\u0275\u0275reference"](53),i=y["\u0275\u0275reference"](61),r=y["\u0275\u0275reference"](89),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](10),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,64,"Destroy Voucher"),""),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("disabled",a.VouchersLinkedCount>0||1==a.ShowModeReceipt||1==a.DuringSaveDisable||a.ReceiptID>0&&!a.checkRoleParms(625)||0==a.ReceiptID&&!a.checkRoleParms(243)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](17,66,"Save")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275attribute"]("disabled",!a.checkRoleParms(243)||1==a.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](20,68,"CreateNew")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",a.ReceiptID>0&&0==a.VouchersLinkedCount),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==a.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,70,"Exit")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](28,72,"Action Menu")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",a.ReceiptID>0),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](37,74,"Branch")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",a._Receipt.branch_id)("ngClass",y["\u0275\u0275pureFunction2"](103,VS,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",a.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",a.BranchList)("ngForTrackBy",a.customTrackBy),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](49,76,"Entry#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("stepallow",1)("ngModel",a._Receipt.entry_no)("readonly",0==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.controlvouchernumanddate)||a.VouchersLinkedCount>0||1==a.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",y["\u0275\u0275pureFunction2"](106,VS,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](59,78,"Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](62,80,a._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.controlvouchernumanddate)||a.VouchersLinkedCount>0||1==a.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](109,VS,i.invalid&&e.submitted||0==a.ValidPeriod,i.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](67,83,"time")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",0==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.controlvouchernumanddate)||a.VouchersLinkedCount>0||1==a.LockedRecepit)("ngModel",a._Receipt.entry_time),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](74,85,"ReferenceNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",a._Receipt.reference_no),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](81,87,"Memo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",a._Receipt.memo),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("destroyOnHide",!1)("activeId",a.activeNav),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngbNavItem",1),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](93,89,"Items")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",null==a.CurrentUserSetting?null:a.CurrentUserSetting.showreceiptitemcomponent),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngbNavItem",3),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](99,91,"LinkedReceipt")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",4),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](104,93,"Signature")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",5),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](109,95,"AnalyticalAccount")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavOutlet",r),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("hidden",!a.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" Total - ",null==a._CurrencySelected?null:a._CurrencySelected.currencysymbol," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" Total - ",null==a._BaseCurrency?null:a._BaseCurrency.currencysymbol," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](128,97,"Total")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!a.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("readonly",!0)("ngModel",a._Receipt.valueforeign),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",!0)("ngModel",a._Receipt.value),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](136,99,"totalqty")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",a._Receipt.qtotal),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](142,101,"totalitem")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",a._Receipt.totalitem),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",a.itemqtyview)}}function ex(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",154),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function tx(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",154),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function nx(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function ix(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function rx(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function ax(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",159),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function ox(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",159),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"qty")," "))}const sx=function(e){return{isExpired:e}};function cx(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td",104),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"date"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](5,sx,null==e?null:e.isexpired)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind2"](2,2,null==e?null:e.expire_date,"yyyy-MM-dd")," ")}}function lx(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",163),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}const dx=function(e){return{"invalid-data":e}};function px(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",161),y["\u0275\u0275listener"]("change",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]().$implicit;return y["\u0275\u0275nextContext"](2).ChangeBatchQty(n,t.target.value)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](2,lx,3,3,"span",162),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),y["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",y["\u0275\u0275pureFunction1"](4,dx,(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)}}function hx(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275element"](2,"input",160),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,cx,3,7,"td",95),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275text"](7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275text"](9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](10,px,3,6,"td",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),y["\u0275\u0275property"]("checked",null==e?null:e.valid),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ","ar"!=i.lang?null==e?null:e.name:null==e?null:e.name_ar," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.serial," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.availableqty),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserial)}}function mx(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",147),y["\u0275\u0275template"](1,ex,3,3,"h6",148),y["\u0275\u0275template"](2,tx,3,3,"h6",148),y["\u0275\u0275elementStart"](3,"button",149),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](4,"span",150),y["\u0275\u0275text"](5,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"form",8,9),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"]().saveserial(t)}),y["\u0275\u0275elementStart"](8,"div",151),y["\u0275\u0275elementStart"](9,"div",152),y["\u0275\u0275elementStart"](10,"div",5),y["\u0275\u0275elementStart"](11,"form"),y["\u0275\u0275elementStart"](12,"div",153),y["\u0275\u0275elementStart"](13,"h6",154),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"table",61),y["\u0275\u0275elementStart"](17,"thead"),y["\u0275\u0275elementStart"](18,"tr"),y["\u0275\u0275elementStart"](19,"th"),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",155),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,nx,3,3,"th",1),y["\u0275\u0275template"](26,ix,3,3,"th",1),y["\u0275\u0275template"](27,rx,3,3,"th",1),y["\u0275\u0275template"](28,ax,3,3,"th",156),y["\u0275\u0275template"](29,ox,3,3,"th",156),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"tbody"),y["\u0275\u0275template"](31,hx,11,7,"tr",85),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"div",157),y["\u0275\u0275elementStart"](33,"button",158),y["\u0275\u0275text"](34),y["\u0275\u0275pipe"](35,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](12),y["\u0275\u0275textInterpolate2"](" ",y["\u0275\u0275pipeBind1"](15,14,"qty")," : ",e._batchqty," "),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,16,"Choose")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,18,"Store")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserial),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BatchesListForEatchRow)("ngForTrackBy",e.trackByFn),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](35,20,"save")," ")}}const ux=function(){return[242,243,244,246,625]};let gx=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u,g,_,f){this._cashsalesService=e,this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this.cd=r,this.toastr=a,this._router=o,this._generalService=s,this.translate=c,this._translateGlobalService=l,this._activeRoute=d,this.modalService=p,this.spinner=h,this._authService=m,this._printService=u,this._VerifyReportsService=g,this.datepipe=_,this.location=f,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.BasicCodeReceipt=61,this.Transaction_move=0,this._Receipt=new C.tY,this._ReceiptOriginal=new C.tY,this._Receipt_h_Edit=new C.Iu,this._CashSalesDetailsReceipt=new C.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new C.tH,this._LinkedReceipt=new C.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.PaymentTypeList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.QtyIsValidWithAvailableQty="",this.reporturl="",this.reportdomainUrl=xe.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.CustomerPricelistMsg="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.NOComponents="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.RelatedwithSerialsOrBatches="",this.InValidQty="",this.InValidNumberOfBatch="",this.DublicateBatchMassage="",this.DeleteUsedBatchesOrSerials="",this.InValidQtyForBatch="",this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this.requiredserial=2,this.RowItem=null,this.SelectedRowIndex=0,this.BatchesAndSeialsList=[],this._batchqty=0,this.BatchesListForEatchRow=[],this.selectedindex=0,d.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransiction/destroyvoucher/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","No","swalNewActionTitle","swalNewActionText","NOComponents","CostPostingPeriodMessage","Destroy Voucher","RelatedwithSerialsOrBatches","InValidQty","InValidNumberOfBatch","DublicateBatchMassage","DeleteUsedBatchesOrSerials","cantNotDuplicateItem","InValidQtyForBatch","QtyIsValidWithAvailableQty"]).subscribe(e=>{document.title=e["Destroy Voucher"],this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.No=e.No,this.NOComponents=e.NOComponents,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.Close=e.Close,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.InValidQty=e.InValidQty,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.DublicateBatchMassage=e.DublicateBatchMassage,this.DeleteUsedBatchesOrSerials=e.DeleteUsedBatchesOrSerials,this.cantNotDuplicateItem=e.cantNotDuplicateItem,this.InValidQtyForBatch=e.InValidQtyForBatch,this.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty})})}ngOnInit(){}SetInitialMethods(){this._Receipt=new C.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,be.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt(),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow(),this.cd.markForCheck();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),console.log(this._Receipt)},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{if(null!=e.receipt){if(this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.qtotal=e.items.qty,this._Receipt.totalitem=e.items.length,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:e.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.cashcustomername_ar:e.receipt.cashcustomername),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.total=e.total.toFixed(this._Currencyprecision),e.discount_value=e.discount_value.toFixed(this._Currencyprecision),e.price=e.price.toFixed(this._Currencyprecision),e.rowno=0,e.parentrowno=0}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptmultipayment=e.receiptmultipayment,this.ItemsComponentList=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),null==this._Receipt.qtotal||null==this._Receipt.totalitem){let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=e.items.length}this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck()}})}CheckPre_SaveReceipt(e){if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++)if(null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{if(!(this._Receipt.details[e].qty>0))return void this.toastr.error(this.qtyZeroErrorSaveMsg);0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].qty>0){0!=this._Receipt.value?(this._Receipt.itemscomponent[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty%(1/0)||0,this._Receipt.itemscomponent[e].h_discount_percentage=100*(this._Receipt.itemscomponent[e].h_discount_value/(this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty)%(1/0)||0)):(this._Receipt.itemscomponent[e].h_discount_value=0,this._Receipt.itemscomponent[e].h_discount_percentage=0);{let t=this.ItemComponentUnitsList.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._Receipt.itemscomponent[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.itemscomponent[e].conv/t.conv):this._Receipt.itemscomponent[e].conv,this._Receipt.itemscomponent[e].final_conv=0==this._Receipt.itemscomponent[e].final_conv?1:this._Receipt.itemscomponent[e].final_conv}}this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status||"INVALID"==e.form.controls.Division.status?5:1}SaveReceipt(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),1==this.CashCustomerSetting.salesreturneffect){let e=[];if(this._Receipt.details.forEach(t=>{if(3==t.isrequireserial){t.allowqtyselectforitem=!0,0==t.batcheslist.length?(t.allowqtyselectforitem=!1,e.push(!1)):0==t.validrow&&(t.allowqtyselectforitem=!1,e.push(!0));let n=[],i=[],r=this._Receipt.details.filter(e=>e.item_id==t.item_id);if(null!=r&&r.length>1){r.forEach(e=>{let t=e.final_conv;e.batcheslist.forEach(e=>{let i=new Me.WB;i.availableqty=e.availableqty*t,i.qty=e.qty*t,i.serial=e.serial,i.batchno=e.batchno,n.push(i)})}),console.log("serialdata:",n),n.forEach(e=>{var t=n.filter(t=>t.batchno==e.batchno&&t.serial==e.serial).map(e=>e.qty).reduce(function(e,t){return e+t});i.push({serial:e.batchno,qty:t,availableqty:e.availableqty})}),console.log("sum:",i);let a=i.filter(e=>e.qty>e.availableqty);null!=a&&a.length>0&&(t.validrow=!1,t.allowqtyselectforitem=!1,e.push(!1))}console.log("end:",t.validrow)}}),console.log("_isValidArr:",e),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.details.forEach(t=>{if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,e.push(!1);else{let n=0;t.batcheslist.forEach(e=>{var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=t.qty&&(t.allowqtyselectforitem=!1,e.push(!1))}}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}if(this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0;for(let e=0;e<this._Receipt.linkedreceipts.length;e++)0==this._Receipt.linkedreceipts[e].fire&&(this._Receipt.linkedreceipts.splice(e,1),e--);this.Save()}Save(){null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,this._router.navigate(["/page/inventorytransiction/destroyvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})})):(this._Receipt_h_Edit=new C.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/inventorytransiction/destroyvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e&&this.ChangeEntryDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&ye().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/inventorytransiction/destroyvoucher/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetDefaultStoreCostCenterByBranch(e=!1){1==e&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{if(this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid){if(0==this._Receipt.details.length){this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}}this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this._Receipt.itemscomponent.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))}null!=this.StoreCostCenterSetting.costcenterid&&(this._Receipt.costcenterid=this.StoreCostCenterSetting.costcenterid,this._Receipt.costcenterfieldname={costcenterfieldname:"ar"==this.lang?this.StoreCostCenterSetting.costcentername_ar:this.StoreCostCenterSetting.costcentername}),this.cd.markForCheck()})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1,dispensingpolicy:1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e,this.cd.markForCheck()})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeCurrency(e){if(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.Calculate_Total_Tax_Net(),this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(let e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;ye().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){ye().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e,t){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,this.cd.markForCheck()})}onClearItems(e){let t=this._Receipt.details[e];if(3==t.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));if(null!=this._Receipt.details[e].id){let t=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[e].rowno=t+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(t=>t.item_id==e.id)?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}duplicateItemSwalPopUp(e){ye().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(t=>{this.onClearItems(e),this._Receipt.details[e].itemcode=null,this.cd.markForCheck()})}GetItemsList(e=""){this._ReceiptSharedService.GetItemsListWithoutService(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):3==e.item_type&&0==n.itemcomponents.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NOComponents)):(this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this._Receipt.details[t].haswarrenty=n.item.haswarrenty,this._Receipt.details[t].warrantydate=n.item.haswarrenty?this.getwarrantydateDate():null,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.inventory_unitid,n.componentsunits.length>0&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.componentsunits)),n.itemcomponents.length>0&&n.itemcomponents.forEach(e=>{let n=new C.hm;n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode=e.itemcode,n.unit_id=e.itemcomponentunitid,n.qty=e.itemcomponentqty,n.basicqtycomponent=e.itemcomponentqty,n.conv=e.itemcomponentconv,n.itemcode=e.itemcode,n.price=0,n.total=n.price*n.qty,n.store_id=this._Receipt.details[t].store_id,n.transaction_move=this.Transaction_move,n.item_type=e.item_type,n.storecode=null!=this._Receipt.details[t].storecode?this._Receipt.details[t].storecode.code:null,n.parentrowno=this._Receipt.details[t].rowno,this._Receipt.itemscomponent.push(n)}),this.ChangeItemUnits(e.inventory_unitid,t)),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(e=>{e.length>0?(this._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)):(this._Receipt.details[t].price=Number((0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t))}),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(i=>{i.length>0?(t=Number((i[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].price=Number((t*this._Receipt.details[e].conv/n).toFixed(this._Currencyprecision)),this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)):(t=0,this._Receipt.details[e].price=Number((t*this._Receipt.details[e].conv/n).toFixed(this._Currencyprecision)),this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e))}),this.cd.markForCheck()},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{if(this.timeout=null,3==this._Receipt.details[e].item_type)if(this.ItemsComponentList=new Array,null!=this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id){let n=this._ReceiptOriginal.details.find(e=>e.id==t.id).qty,i=this._ReceiptOriginal.itemscomponent.find(n=>n.finishedreceipt_did==t.id&&n.id==this._Receipt.itemscomponent[e].id).qty;this._Receipt.itemscomponent[e].basicqtycomponent=i/n,this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e])}}else if(null==this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[e].id&&this._Receipt.itemscomponent[e].parentrowno==t.rowno&&(this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e]))}this.StockBalances(e),this.CheckBalanceForItemInStore(e),this.CalaculteValuesItemsRow(e)},1e3)}OnSelectedItem(e=null,t=null,n="",i=!1){if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){let t=e;if(null!=t.id)for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[e]);else null==t.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id&&null==e.id&&e.parentrowno==t.rowno))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}AddItems(){if(this._CashSalesDetailsReceipt=new C.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode);let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}DeleteItems(e){this.itemqtyview=!1;let t=this._Receipt.details[e];if(null==t.batcheslist||-1==t.batcheslist.findIndex(e=>e.solidquantity>0)){if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(e,1),e--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));1==this._Receipt.details.filter(e=>e.item_id==t.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id)),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck()}else this.toastr.error(this.DeleteUsedBatchesOrSerials)}CalaculteValuesItemsRow(e,t="percent"){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;let n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}ReCalaculteValuesChangeItemsRow(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}onFocusInCostCenter(e){this.GetCostCenterList("")}CostCenterChangeSearch(e,t){this.GetCostCenterList(e.query.trim())}CostCenterSelectEvent(e){this._Receipt.costcenterid=e.id}GetCostCenterList(e=""){this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,e,this._Receipt.vendor_id).subscribe(e=>{this.CostCenterList=[],this.CostCenterList=e,this.CostCenterList.length>0&&this.setFieldNameForArray(this.CostCenterList,"costcenter"),this.cd.markForCheck()})}onFocusInLocations(e){this.GetLocationsList("")}LocationsChangeSearch(e,t){this.GetLocationsList(e.query.trim())}LocationsSelectEvent(e){this._Receipt.locationid=e.id}GetLocationsList(e=""){this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.LocationList=[],this.LocationList=e,this.LocationList.length>0&&this.setFieldNameForArray(this.LocationList,"location"),this.cd.markForCheck()})}onFocusInClasses(e){this.GetClassesList("")}ClassesChangeSearch(e,t){this.GetClassesList(e.query.trim())}ClassesSelectEvent(e){this._Receipt.classid=e.id}GetClassesList(e=""){this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.ClassList=[],this.ClassList=e,this.ClassList.length>0&&this.setFieldNameForArray(this.ClassList,"class"),this.cd.markForCheck()})}onFocusInDepartment(e){this.GetDepartmentList("")}DepartmentChangeSearch(e,t){this.GetDepartmentList(e.query.trim())}DepartmentSelectEvent(e){this._Receipt.departmentid=e.id}GetDepartmentList(e=""){this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.DepartmentList=[],this.DepartmentList=e,this.DepartmentList.length>0&&this.setFieldNameForArray(this.DepartmentList,"department"),this.cd.markForCheck()})}setFieldNameForArray(e,t=null){for(let n=0;n<e.length;n++){let i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t&&(i.departmentfieldname="ar"==this.lang?i.sugar:i.sug)}}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(t=>{if(this.spinner.hide(),null==t.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(t.items.length>0){1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=t.receipt.subsidiaryid,this._Receipt.customersalesprice=t.receipt.customersalesprice,this._Receipt.payment_type=t.receipt.payment_type,this._Receipt.currency_id=t.receipt.currency_id,this._Receipt.currency_rate=t.receipt.currency_rate,this._Receipt.empoyee_id=t.receipt.empoyee_id,this._Receipt.memo=t.receipt.memo,this._Receipt.reference_no=t.receipt.reference_no,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=t.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id;for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);t.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),t.itemcomponents.length>0&&(this.ItemComponentsLinkedReceipt=t.itemcomponents,81==t.receipt.code&&(this.ItemComponentsLinkedReceipt=this.ItemComponentsLinkedReceipt.filter(e=>-1==e.transaction_move)),this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(t.componentsunits)),this.ItemLinkedReceipt=t.items,81==t.receipt.code&&(this.ItemLinkedReceipt=this.ItemLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0])}else this.spinner.hide(),this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._CashSalesDetailsReceipt=new C.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv);if(-1==n){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.basicqtycomponent=t.basicqtycomponent,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total;let n=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=n+1,3==t.item_type&&this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id).forEach(e=>{let t=new C.hm;t.store_id=this._CashSalesDetailsReceipt.store_id,t.storecode=this._CashSalesDetailsReceipt.storecode.code,t.item_id=e.item_id,t.itemcode=e.itemcode,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.unit_id=e.unit_id,t.conv=e.conv,t.qty=e.qty,t.basicqtycomponent=e.qty/this._CashSalesDetailsReceipt.qty||0,t.price=e.price,t.discount_value=e.discount_value,t.discount_percent=e.discount_percent,t.total=e.total,t.transaction_move=this.Transaction_move,t.finishedproductid=e.finishedproductid,t.item_type=e.item_type,t.notes=e.notes,t.haswarrenty=e.haswarrenty,t.warrantydate=e.warrantydate,t.detailshtml=e.detailshtml,t.customitemname=e.customitemname,t.salesmanid=e.salesmanid,t.parentrowno=this._CashSalesDetailsReceipt.rowno,this._Receipt.itemscomponent.push(t)}),this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id),this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished()}else{if(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),3==t.item_type){let e=this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id);if(null!=this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)if(this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id){var i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id);this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty)}}else if(null==this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[n].id&&this._Receipt.itemscomponent[n].parentrowno==t.rowno&&(i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id),this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty))}}this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemFinished()}}SetLinkReceiptItemFinished(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;let e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}OnSignatureSet(e){this._Receipt.signature=e.signature}Calculate_Total_Tax_Net(){let e=0;this._Receipt.details.forEach(t=>{e+=Number(t.total)}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0;let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this.CalculateTax_Net(e)}CalculateTax_Net(e=0){1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){var i;1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let r=!0,a=new C.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id,console.log(a);let o=null!==(i=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==i?i:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;console.log(this._Receipt.details[e].item_type),2!=this._Receipt.details[e].item_type&&(-1==o||1==o&&this._Receipt.details[e].id>0)&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(a).subscribe(i=>{let a=0,s=0,c=0,l=[],d=!0;if(0==i.consignment.consignment){if(null!=i.totalqty.totalqty){if(a=i.totalqty.totalqty,l=i.itemcomponent,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;s=parseFloat(s.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._Receipt.details[e].item_type){this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.details[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});let t=[],n=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let i=0;i<n.length;i++){t=[],t=this._Receipt.itemscomponent.filter(t=>t.parentrowno==n[i].rowno&&t.finishedproductid==n[i].item_id&&null==t.id&&t.item_id==this._Receipt.details[e].item_id);for(let e=0;e<t.length;e++){let n=t[e].qty,i=this.ItemComponentUnitsList.find(n=>n.item_id==t[e].item_id&&n.id==t[e].unit_id);if(null!=i){let r=(null!=i.finalconv?i.finalconv:1)*(t[e].conv/(null!=i.conv?i.conv:1))*parseFloat(n.toString());s=parseFloat(s.toString())+r}}}}if(-1==o?c=a-s:1==o&&(c=a+s),3==this._Receipt.details[e].item_type)for(let e=0;e<l.length;e++)if(2!=l[e].item_type){let t=this._Receipt.details.filter(t=>t.item_id==l[e].item_id),n=0;t.forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;n=parseFloat(n.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),this._Receipt.itemscomponent.filter(t=>t.item_id==l[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());n=parseFloat(n.toString())+i}});let i=[],r=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let a=0;a<r.length;a++){i=[],i=this._Receipt.itemscomponent.filter(t=>t.parentrowno==r[a].rowno&&t.finishedproductid==r[a].item_id&&null==t.id&&t.item_id==l[e].item_id);for(let e=0;e<i.length;e++){let t=i[e].qty,r=this.ItemComponentUnitsList.find(t=>t.item_id==i[e].item_id&&t.id==i[e].unit_id);if(null!=r){let a=(null!=r.finalconv?r.finalconv:1)*(i[e].conv/(null!=r.conv?r.conv:1))*parseFloat(t.toString());n=parseFloat(n.toString())+a}}}if(!(n<=l[e].totalqty)){d=!1;break}d=!0}r=c>=0&&1==d}else r=!1;0==r?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+a)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(625)?this._router.navigate(["/page/inventorytransiction/destroyvoucher/0"]).then(()=>{window.location.reload()}):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/destroyvoucher/0"]).then(()=>{window.location.reload()})})}DeleteAction(){ye().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransiction/destroyvoucher"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{Date.parse(e[0].maxpostingdate.toString())<Date.parse(this._Receipt.entry_date.toString())?(this.ShowModeReceipt=!1,this.ValidPeriod=!0):(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/inventorytransiction/destroyvoucher/0"),this.ReceiptID=0,this._Receipt.id=null,this.VouchersLinkedCount=0,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/destroyvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){this._authService.userInfo();let t="",n="";"ar"==this.lang&&(n="_ar"),t="P_I_61_Destruction"+n;let i={reportName:t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return i.reportName=t,i.toEmail=this._emailobj.email,i.Subject=this._emailobj.subject,i}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(625)||0==this.ReceiptID&&!this.checkRoleParms(243)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/destroyvoucher"]):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/destroyvoucher"])})}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}getwarrantydateDate(){let e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}formateDecimal(e,t=3){return e.toFixed(t)}OnSerialItems(e,t){var n;if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)return void this.toastr.error(this.InValidQty);this.requiredserial=this._Receipt.details[e].isrequireserial;let i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),r=this._Receipt.details[e].conv*i[0].finalconv/i[0].conv;this._batchqty=this._Receipt.details[e].qty,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(n=this._Receipt.id)&&void 0!==n?n:0,this._Receipt.entry_date+" "+this._Receipt.entry_time,this.subsidiaryID).subscribe(n=>{this.BatchesListForEatchRow=[];let i=[];if(n.seriallist.forEach(t=>{null!=this._Receipt.id&&0!=this._Receipt.id&&null!=this._ReceiptOriginal.details[this.selectedindex]&&this._ReceiptOriginal.details[this.selectedindex].unit_id!=this._Receipt.details[this.selectedindex].unit_id&&(t.availableqty=t.availableqty+this._ReceiptOriginal.details[e].qty*this._ReceiptOriginal.details[e].final_conv-this._Receipt.details[e].qty*this._Receipt.details[e].final_conv),t.availableqtywithsmallestunit=t.availableqty,t.availableqty=parseFloat((t.availableqty/r).toFixed(4))}),i=n.seriallist,console.log(n.seriallist,"d.seriallist"),this._Receipt.details[this.selectedindex].batcheslist.forEach(e=>{let t=i.findIndex(t=>t.id==e.previtemserialid);-1!=t&&(e.inv_receipt_d_id>0?null==this._Receipt.details[this.selectedindex].validrow||1==this._Receipt.details[this.selectedindex].validrow?(i[t].qty=e.qty,i[t].oldqty=e.qty,this._ReceiptOriginal.details[this.selectedindex].unit_id!=this._Receipt.details[this.selectedindex].unit_id&&(i[t].qty=this._Receipt.details[this.selectedindex].qty,i[t].oldqty=this._Receipt.details[this.selectedindex].qty),this._Receipt.details[this.selectedindex].validrow=!0):i[t].availableqty=i[t].availableqty+e.qty:1==this._Receipt.details[this.selectedindex].validrow&&i[t].availableqty-e.qty>=0?(i[t].qty=e.qty,i[t].oldqty=e.qty,i[t].availableqty=parseFloat((i[t].availableqty-e.qty).toFixed(4)),this._Receipt.details[this.selectedindex].validrow=!0):(i[t].qty=null,i[t].availableqty=parseFloat(i[t].availableqty.toFixed(4)),this._Receipt.details[this.selectedindex].validrow=!1))}),this._Receipt.id>0)for(let e=0;e<i.length;e++)null==i[e].qty&&0==i[e].availableqty||this.BatchesListForEatchRow.push(i[e]);else this.BatchesListForEatchRow=[...i];if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy){if(this._Receipt.details[this.selectedindex].id>0&&this.ReceiptID>0){console.log(this.BatchesListForEatchRow);for(let e=0;e<this.BatchesListForEatchRow.length;e++)this.BatchesListForEatchRow[e].availableqty+=this.BatchesListForEatchRow[e].oldqty,this.BatchesListForEatchRow[e].qty=0,this.BatchesListForEatchRow[e].solidquantity=0}let t=0;if(this.BatchesListForEatchRow.forEach(e=>{t+=e.availableqty}),console.log(t,this._Receipt.details[e].qty),this._Receipt.details[e].qty>t)return void this.toastr.error(this.InValidQtyForBatch);if(this._Receipt.details[e].qty==t)this.BatchesListForEatchRow.forEach(e=>{e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),this.saveSerialOnSalesReturnEffectDispensingPolicy();else{let t=this._Receipt.details[e].qty;this.BatchesListForEatchRow.forEach(e=>{0!=t&&(e.availableqty>=t?(e.qty=t,e.oldqty=t,e.availableqty=parseFloat((e.availableqty-t).toFixed(4)),t=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,t-=e.availableqty,e.availableqty=0))}),this.saveSerialOnSalesReturnEffectDispensingPolicy()}}else this.OpenModal(t);1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&this.OpenModal(t)})}saveserial(e){if(e.valid){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Me.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.availableqty=t.availableqty+t.qty,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}else{let e=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=e&&this._Receipt.details[this.selectedindex].batcheslist.splice(e,1)}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}saveSerialOnSalesReturnEffectDispensingPolicy(){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Me.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.availableqty=t.availableqty+t.qty,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}}),console.log(this._Receipt.details,"this._Receipt.details")}ChangeBatchQty(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}dealWith(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Re.H),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](w.FF),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](v.J),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-destroy-voucher-details"]],viewQuery:function(e,t){if(1&e&&y["\u0275\u0275viewQuery"](sS,5),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([_.n,Se.v,f.t,i.uU,Re.H,v.J])],decls:7,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["serialModel",""],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-md-12","col-lg-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","btn-md","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],["class","btn btn-primary btn-md\n                  mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-md","mr-2","mb-2",3,"click"],[1,"btn-group"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","btn-md","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],["Value","null"],[3,"value"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","15%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col","style","width:15%",4,"ngIf"],["scope","col","style","width: 15%",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"signature","signatureoutput"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],[1,"col-form-label"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[1,"modal-title"],[2,"width","20%"],["style","width: 15%",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-success"],[2,"width","15%"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOrDecimalOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,cS,4,3,"div",0),y["\u0275\u0275template"](1,XR,147,112,"ng-container",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,mx,36,22,"ng-template",null,4,y["\u0275\u0275templateRefExtractor"])),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(242)||t.checkRoleParms(243)||t.checkRoleParms(244)||t.checkRoleParms(625)||t.checkRoleParms(246))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction0"](3,ux))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,i.mk,i.sg,a.Fj,Ie.L,Pe.a,w.Pz,w.nv,w.Vx,w.uN,w.tO,a.wV,E.K,Ee.k,a.YN,a.Kr,s.Qc,Oe.jx,De.t,Be.T],pipes:[l.X$,i.uU,Le.N],styles:['.headerform[_ngcontent-%COMP%]{border-radius:5px;font-size:1.5rem;padding:5px 2em}.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.isExpired[_ngcontent-%COMP%]{color:red}']}),e})();function _x(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Cx(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function fx(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function vx(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",50),y["\u0275\u0275template"](1,Cx,2,1,"span",1),y["\u0275\u0275template"](2,fx,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function yx(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",51),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnAdd()}),y["\u0275\u0275element"](1,"i",27),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function bx(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function Sx(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Rx(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",46),y["\u0275\u0275template"](2,bx,1,0,"i",47),y["\u0275\u0275template"](3,Sx,1,0,"i",48),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function xx(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function Mx(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Ix(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",46),y["\u0275\u0275template"](2,xx,1,0,"i",47),y["\u0275\u0275template"](3,Mx,1,0,"i",48),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function Px(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function Ox(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Ex(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function wx(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function kx(e,t){1&e&&y["\u0275\u0275element"](0,"i",52)}function Dx(e,t){1&e&&y["\u0275\u0275element"](0,"i",53)}function Bx(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1,"\xa0"),y["\u0275\u0275elementEnd"]())}function Lx(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function Fx(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function Nx(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td",58),y["\u0275\u0275elementStart"](1,"a",59),y["\u0275\u0275element"](2,"i",60),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/adjustmentvoucher/",null==e?null:e.id,"")}}function Vx(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275template"](1,Lx,2,1,"td",1),y["\u0275\u0275template"](2,Fx,2,1,"td",1),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"td"),y["\u0275\u0275text"](8),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](9,Nx,3,1,"td",55),y["\u0275\u0275elementStart"](10,"td"),y["\u0275\u0275elementStart"](11,"a",56),y["\u0275\u0275elementStart"](12,"span"),y["\u0275\u0275element"](13,"i",57),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](1==(null==n.CurrentUserSetting?null:n.CurrentUserSetting.showcostprice)?null==e?null:e.value:"****"),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",n.checkRoleParms(626)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/adjustmentvoucher/",null==e?null:e.id,"/show")}}function qx(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275template"](1,Vx,14,7,"tr",54),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",e.ReceiptList)}}function Tx(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275elementStart"](1,"tr",61),y["\u0275\u0275elementStart"](2,"td",62),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Ax(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",63),y["\u0275\u0275elementStart"](1,"ngb-pagination",64),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",65),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",66),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",67),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",68),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}function Gx(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"div",6),y["\u0275\u0275elementStart"](2,"div",7),y["\u0275\u0275elementStart"](3,"div",8),y["\u0275\u0275elementStart"](4,"h6",9),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"div",10),y["\u0275\u0275elementStart"](8,"div",11),y["\u0275\u0275elementStart"](9,"section"),y["\u0275\u0275elementStart"](10,"div",4),y["\u0275\u0275elementStart"](11,"div",12),y["\u0275\u0275elementStart"](12,"form",13,14),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](14,"div",4),y["\u0275\u0275elementStart"](15,"div",15),y["\u0275\u0275elementStart"](16,"div",16),y["\u0275\u0275elementStart"](17,"label",17),y["\u0275\u0275text"](18),y["\u0275\u0275pipe"](19,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"select",18,19),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](22,"option",20),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,vx,3,3,"option",21),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",15),y["\u0275\u0275elementStart"](27,"div",16),y["\u0275\u0275elementStart"](28,"label",22),y["\u0275\u0275text"](29),y["\u0275\u0275pipe"](30,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"input",23,24),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",25),y["\u0275\u0275elementStart"](34,"button",26),y["\u0275\u0275element"](35,"i",27),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"button",28),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ShowAll()}),y["\u0275\u0275element"](39,"i",27),y["\u0275\u0275text"](40),y["\u0275\u0275pipe"](41,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](42,"div",29),y["\u0275\u0275elementStart"](43,"div",30),y["\u0275\u0275elementStart"](44,"div",31),y["\u0275\u0275template"](45,yx,4,3,"button",32),y["\u0275\u0275elementStart"](46,"button",33),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint()}),y["\u0275\u0275element"](47,"i",27),y["\u0275\u0275text"](48),y["\u0275\u0275pipe"](49,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](50,"button",34),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(1)}),y["\u0275\u0275element"](51,"i",27),y["\u0275\u0275text"](52),y["\u0275\u0275pipe"](53,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"button",35),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](55,"i",27),y["\u0275\u0275text"](56),y["\u0275\u0275pipe"](57,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](58,"div",36),y["\u0275\u0275elementStart"](59,"div",37),y["\u0275\u0275elementStart"](60,"label",38),y["\u0275\u0275text"](61),y["\u0275\u0275pipe"](62,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](63,"input",39,40),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"div",4),y["\u0275\u0275elementStart"](66,"div",11),y["\u0275\u0275elementStart"](67,"div",41),y["\u0275\u0275elementStart"](68,"div",42),y["\u0275\u0275elementStart"](69,"div",43),y["\u0275\u0275elementStart"](70,"table",44),y["\u0275\u0275elementStart"](71,"thead"),y["\u0275\u0275elementStart"](72,"tr"),y["\u0275\u0275elementStart"](73,"th",45),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),y["\u0275\u0275text"](74),y["\u0275\u0275pipe"](75,"translate"),y["\u0275\u0275template"](76,Rx,4,3,"ng-container",1),y["\u0275\u0275template"](77,Ix,4,3,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](78,"th",45),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),y["\u0275\u0275text"](79),y["\u0275\u0275pipe"](80,"translate"),y["\u0275\u0275elementContainerStart"](81),y["\u0275\u0275element"](82,"i",46),y["\u0275\u0275template"](83,Px,1,0,"i",47),y["\u0275\u0275template"](84,Ox,1,0,"i",48),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](85,"th",45),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),y["\u0275\u0275text"](86),y["\u0275\u0275pipe"](87,"translate"),y["\u0275\u0275elementContainerStart"](88),y["\u0275\u0275element"](89,"i",46),y["\u0275\u0275template"](90,Ex,1,0,"i",47),y["\u0275\u0275template"](91,wx,1,0,"i",48),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](92,"th",45),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),y["\u0275\u0275text"](93),y["\u0275\u0275pipe"](94,"translate"),y["\u0275\u0275elementContainerStart"](95),y["\u0275\u0275element"](96,"i",46),y["\u0275\u0275template"](97,kx,1,0,"i",47),y["\u0275\u0275template"](98,Dx,1,0,"i",48),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](99,Bx,2,0,"th",1),y["\u0275\u0275elementStart"](100,"th"),y["\u0275\u0275text"](101,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](102,qx,2,1,"tbody",1),y["\u0275\u0275template"](103,Tx,5,3,"tbody",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](104,Ax,12,7,"div",49),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,34,"Adjustment Voucher"),""),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](19,36,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,38,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](30,40,"EntryNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](37,42,"Search")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](41,44,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(248)),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](49,46,"Print")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](53,48,"pdf")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](57,50,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](62,52,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](75,54,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](80,56,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](87,58,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](94,60,"value")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","NetValue"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(626)),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",e.ReceiptList.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let Ux=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=a,this._translateGlobalService=o,this.spinner=s,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=h,this._convertToPDF=m,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.GetCurrentUserSetting(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Adjustment Voucher"]).subscribe(e=>{this.title=e["Adjustment Voucher"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="83",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/0"])}OnView(e){this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/inventorytransiction/adjustmentvoucher/${e.id}`,this._router.navigate([t])}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",o="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(s=>{this.cd.markForCheck(),t=`\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                 <thead>\n                   <tr style="background: #e9f1f5;color: cornflowerblue;">\n                     <th>${i}</th>\n                     <th>${r}</th>\n                     <th>${a}</th>\n                     <th>${o}</th>\n\n                   </tr>\n                 </thead>\n             <tbody>\n         `,s.map(e=>{t+=`\n        <tr>\n         <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n         <td>${e.entry_no}</td>\n         <td>${e.entry_date}</td>\n         <td>${e.netvalue}</td>\n        </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0642\u064a\u0645\u0629":t.netvalue}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,Total:t.netvalue})}),this._Excel.exportAsExcelFile(e,"AdjustmentVoucher")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](P.x),y["\u0275\u0275directiveInject"](O.z),y["\u0275\u0275directiveInject"](v.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-adjustment-voucher"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,v.J])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-lg-8","col-md-10"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted ",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-4",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"card"],[1,"card-content"],[1,"card-body","table-responsive"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw\n                                fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                                fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["class","text-truncate",4,"ngIf"],[1,"primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-truncate"],["href","javascript:;",1,"primary","p-0",3,"routerLink"],[1,"ft-edit","mr-2"],[2,"background-color","#B0BED9"],["colspan","7"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,_x,4,3,"div",0),y["\u0275\u0275template"](1,Gx,105,62,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4," Loading... "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(247)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(247)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,E.K,c.yS,w.N9],pipes:[l.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.isExpired[_ngcontent-%COMP%]{color:red}']}),e})();var $x=n(49202);const jx=["RForm"];function zx(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",6),y["\u0275\u0275elementStart"](1,"h1",7),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Wx(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",70),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DocumentAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function Jx(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",73),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).onPrint()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Print")," ")}}function Qx(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",73),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DupilcateAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function Yx(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",73),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](4).DeleteAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Hx(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275template"](1,Yx,3,4,"button",71),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function Zx(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275template"](1,Jx,3,4,"button",71),y["\u0275\u0275elementStart"](2,"email-popup",72),y["\u0275\u0275listener"]("_savedemailobj",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).sendEmail(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,Qx,3,4,"button",71),y["\u0275\u0275template"](4,Hx,2,1,"div",1),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(250)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("entryno",e._Receipt.entry_no),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(248)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",e.checkRoleParms(249))}}function Kx(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",74),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function Xx(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",74),y["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),y["\u0275\u0275elementEnd"]())}function eM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function tM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function nM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",75),y["\u0275\u0275template"](1,eM,2,1,"span",1),y["\u0275\u0275template"](2,tM,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function iM(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",62),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function rM(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",62),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Price")," "))}function aM(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",62),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function oM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function sM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function cM(e,t){if(1&e&&(y["\u0275\u0275template"](0,oM,2,1,"div",1),y["\u0275\u0275template"](1,sM,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function lM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function dM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function pM(e,t){if(1&e&&(y["\u0275\u0275template"](0,lM,2,1,"div",1),y["\u0275\u0275template"](1,dM,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const hM=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function mM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",103),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,hM,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function uM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",103),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4);y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction2"](2,hM,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function gM(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",104),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function _M(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",104),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function CM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function fM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function vM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",105),y["\u0275\u0275template"](1,CM,2,1,"span",1),y["\u0275\u0275template"](2,fM,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]().$implicit,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang)}}const yM=function(e,t){return{"invalid-data":e,"valid-data":t}};function bM(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",106,107),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.conv=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate"]("step",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack),y["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),y["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id))("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](9,yM,e.invalid&&r.submitted,e.valid&&r.submitted))}}function SM(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",108,109),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.price=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2),t=y["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;y["\u0275\u0275nextContext"](2);const r=y["\u0275\u0275reference"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),y["\u0275\u0275property"]("ngModel",i.price)("readonly",!0)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",y["\u0275\u0275pureFunction2"](6,yM,e.invalid&&r.submitted,e.valid&&r.submitted))}}function RM(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",110),y["\u0275\u0275listener"]("keyup",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275nextContext"]().index;return y["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(t)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.total=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","item_total",t,""),y["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}const xM=function(e){return{item_id:e}};function MM(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",84),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275elementStart"](4,"p-autoComplete",85,86),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](5),r=y["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275template"](7,cM,2,2,"ng-template",87),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275elementStart"](9,"p-autoComplete",88,89),y["\u0275\u0275listener"]("onFocus",function(t){const n=y["\u0275\u0275restoreView"](e).index,i=y["\u0275\u0275reference"](10),r=y["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).onClearItems(t)}),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275template"](12,pM,2,2,"ng-template",90),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"td",91),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),y["\u0275\u0275template"](14,mM,2,5,"div",92),y["\u0275\u0275template"](15,uM,2,5,"div",92),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"td"),y["\u0275\u0275elementStart"](17,"select",93,94),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),y["\u0275\u0275template"](19,gM,2,1,"option",95),y["\u0275\u0275template"](20,_M,2,1,"option",95),y["\u0275\u0275template"](21,vM,3,4,"option",96),y["\u0275\u0275pipe"](22,"filterby"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,bM,3,12,"td",1),y["\u0275\u0275elementStart"](24,"td"),y["\u0275\u0275elementStart"](25,"input",97,98),y["\u0275\u0275listener"]("keyup",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](27,SM,3,9,"td",1),y["\u0275\u0275template"](28,RM,2,3,"td",1),y["\u0275\u0275elementStart"](29,"td"),y["\u0275\u0275elementStart"](30,"a",99),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteItems(t)}),y["\u0275\u0275element"](31,"i",100),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"a",101),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.index,i=t.$implicit,r=y["\u0275\u0275nextContext"](3),a=y["\u0275\u0275reference"](7),o=y["\u0275\u0275reference"](9);return r.OnSerialItems(n,i,a,o)}),y["\u0275\u0275element"](33,"i",102),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=t.index,r=y["\u0275\u0275reference"](18),a=y["\u0275\u0275reference"](26);y["\u0275\u0275nextContext"](2);const o=y["\u0275\u0275reference"](4),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](i+1),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),y["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](6,32,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),y["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](11,34,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),y["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",y["\u0275\u0275pureFunction2"](39,yM,r.invalid&&o.submitted,r.valid&&o.submitted)),y["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind2"](22,36,s.ItemUnitsList,y["\u0275\u0275pureFunction1"](42,xM,null==e?null:e.item_id))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),y["\u0275\u0275property"]("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",y["\u0275\u0275pureFunction2"](44,yM,a.invalid&&o.submitted,a.valid&&o.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden",!(2==e.isrequireserial||3==e.isrequireserial))}}const IM=function(e){return{"table-for-autocomplete":e}};function PM(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",76),y["\u0275\u0275elementStart"](1,"div",59),y["\u0275\u0275elementStart"](2,"div",77),y["\u0275\u0275elementStart"](3,"table",61),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275element"](6,"th"),y["\u0275\u0275elementStart"](7,"th",78),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",62),y["\u0275\u0275text"](11),y["\u0275\u0275pipe"](12,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](13,"th",62),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"th",79),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](19,iM,3,3,"th",80),y["\u0275\u0275elementStart"](20,"th",62),y["\u0275\u0275text"](21),y["\u0275\u0275pipe"](22,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](23,rM,3,3,"th",80),y["\u0275\u0275template"](24,aM,3,3,"th",80),y["\u0275\u0275elementStart"](25,"th",81),y["\u0275\u0275text"](26," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](27,"tbody"),y["\u0275\u0275elementStart"](28,"tbody"),y["\u0275\u0275template"](29,MM,34,47,"tr",82),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"button",83),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddItems()}),y["\u0275\u0275text"](31),y["\u0275\u0275pipe"](32,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](24,IM,e.isType)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,12,"Store")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](12,14,"ItemCode")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](15,16,"ItemDescription")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,18,"Unit")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](22,20,"qty")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](32,22,"Add")," ")}}function OM(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",74),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]())}function EM(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",74),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]())}function wM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function kM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function DM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",75),y["\u0275\u0275template"](1,wM,2,1,"span",1),y["\u0275\u0275template"](2,kM,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function BM(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",104),y["\u0275\u0275text"](1," choose "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function LM(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",104),y["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function FM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function NM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function VM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",75),y["\u0275\u0275template"](1,FM,2,1,"span",1),y["\u0275\u0275template"](2,NM,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("value",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function qM(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"select",112),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),y["\u0275\u0275template"](3,OM,2,0,"option",31),y["\u0275\u0275template"](4,EM,2,0,"option",31),y["\u0275\u0275template"](5,DM,3,3,"option",113),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275elementStart"](7,"select",112),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),y["\u0275\u0275template"](8,BM,2,1,"option",95),y["\u0275\u0275template"](9,LM,2,1,"option",95),y["\u0275\u0275template"](10,VM,3,3,"option",113),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275elementStart"](12,"input",114,115),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"td"),y["\u0275\u0275elementStart"](15,"a",116),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),y["\u0275\u0275element"](16,"i",117),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275elementStart"](18,"a",118),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),y["\u0275\u0275element"](19,"i",119),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](20,"td"),y["\u0275\u0275elementStart"](21,"a",99),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).index;return y["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),y["\u0275\u0275element"](22,"i",100),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),y["\u0275\u0275property"]("ngModel",e.branch_id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.BranchList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),y["\u0275\u0275property"]("ngModel",e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==i.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),y["\u0275\u0275property"]("ngModel",e.entry_no),y["\u0275\u0275advance"](3),y["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function TM(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",76),y["\u0275\u0275elementStart"](1,"div",59),y["\u0275\u0275elementStart"](2,"div",60),y["\u0275\u0275elementStart"](3,"table",61),y["\u0275\u0275elementStart"](4,"thead"),y["\u0275\u0275elementStart"](5,"tr"),y["\u0275\u0275elementStart"](6,"th",62),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",62),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"th",62),y["\u0275\u0275text"](13),y["\u0275\u0275pipe"](14,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"th",81),y["\u0275\u0275text"](16," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"th",81),y["\u0275\u0275text"](18," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"th",81),y["\u0275\u0275text"](20," \xa0 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"tbody"),y["\u0275\u0275template"](22,qM,23,13,"tr",111),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"button",83),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,5,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,11,"Add")," ")}}function AM(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",76),y["\u0275\u0275elementStart"](1,"div",59),y["\u0275\u0275elementStart"](2,"Signature",120),y["\u0275\u0275listener"]("signatureoutput",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("signature",e._Receipt.signature)}}function GM(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function UM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e.subsaidarySetting?null:e.subsaidarySetting.costcenteralternativetext,"")}}function $M(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function jM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function zM(e,t){if(1&e&&(y["\u0275\u0275template"](0,$M,2,1,"div",1),y["\u0275\u0275template"](1,jM,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function WM(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function JM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetextar)}}function QM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetext)}}function YM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,JM,2,1,"span",1),y["\u0275\u0275template"](2,QM,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function HM(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",28),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function ZM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function KM(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function XM(e,t){if(1&e&&(y["\u0275\u0275template"](0,ZM,2,1,"div",1),y["\u0275\u0275template"](1,KM,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function eI(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",122),y["\u0275\u0275elementStart"](1,"label",123),y["\u0275\u0275template"](2,WM,3,3,"span",1),y["\u0275\u0275template"](3,YM,3,2,"span",1),y["\u0275\u0275template"](4,HM,2,0,"span",128),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",129,130),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInClasses(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.classfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).ClassesChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.classid=null}),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275template"](9,XM,2,2,"ng-template",131),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans)("ngModel",n._Receipt.classfieldname)("suggestions",n.ClassList)("ngClass",y["\u0275\u0275pureFunction2"](12,yM,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function tI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function nI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetext)}}function iI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetextar)}}function rI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,nI,2,1,"span",1),y["\u0275\u0275template"](2,iI,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function aI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",28),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function oI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function sI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function cI(e,t){if(1&e&&(y["\u0275\u0275template"](0,oI,2,1,"div",1),y["\u0275\u0275template"](1,sI,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function lI(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",122),y["\u0275\u0275elementStart"](1,"label",123),y["\u0275\u0275template"](2,tI,3,3,"span",1),y["\u0275\u0275template"](3,rI,3,2,"span",1),y["\u0275\u0275template"](4,aI,2,0,"span",128),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",132,133),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInLocations(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).LocationsChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.locationid=null}),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275template"](9,cI,2,2,"ng-template",134),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans)("ngModel",n._Receipt.locationfieldname)("suggestions",n.LocationList)("ngClass",y["\u0275\u0275pureFunction2"](12,yM,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function dI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function pI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetextar)}}function hI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](5);y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetext)}}function mI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275template"](1,pI,2,1,"span",1),y["\u0275\u0275template"](2,hI,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function uI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",28),y["\u0275\u0275text"](1,"*"),y["\u0275\u0275elementEnd"]())}function gI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function _I(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function CI(e,t){if(1&e&&(y["\u0275\u0275template"](0,gI,2,1,"div",1),y["\u0275\u0275template"](1,_I,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](4);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function fI(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",122),y["\u0275\u0275elementStart"](1,"label",123),y["\u0275\u0275template"](2,dI,3,3,"span",1),y["\u0275\u0275template"](3,mI,3,2,"span",1),y["\u0275\u0275template"](4,uI,2,0,"span",128),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"p-autoComplete",135,136),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](6);return y["\u0275\u0275nextContext"](3).onFocusInDepartment(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3).DepartmentChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](3)._Receipt.debartmentid=null}),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275template"](9,CI,2,2,"ng-template",137),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](7);y["\u0275\u0275nextContext"](2);const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans)("ngModel",n._Receipt.departmentfieldname)("suggestions",n.DepartmentList)("ngClass",y["\u0275\u0275pureFunction2"](12,yM,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function vI(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",6),y["\u0275\u0275elementStart"](1,"div",121),y["\u0275\u0275elementStart"](2,"div",122),y["\u0275\u0275elementStart"](3,"label",123),y["\u0275\u0275template"](4,GM,3,3,"span",1),y["\u0275\u0275template"](5,UM,2,1,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"p-autoComplete",124,125),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"](2).onFocusInCostCenter(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CostCenterChangeSearch(t)})("onClear",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Receipt.costcenterid=null}),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275template"](10,zM,2,2,"ng-template",126),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](11,eI,10,15,"div",127),y["\u0275\u0275template"](12,lI,10,15,"div",127),y["\u0275\u0275template"](13,fI,10,15,"div",127),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](8);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](4),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.costcentermandatory4invtrans)("ngModel",n._Receipt.costcenterfieldname)("suggestions",n.CostCenterList)("ngClass",y["\u0275\u0275pureFunction2"](14,yM,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](9,12,"NoResultsFound"))("forceSelection",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationisactive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentisactive)}}function yI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275element"](1,"Item-StoreQty",138,139),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function bI(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"div",8),y["\u0275\u0275elementStart"](2,"div",6),y["\u0275\u0275elementStart"](3,"form",9,10),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](4);return y["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),y["\u0275\u0275elementStart"](5,"div",11),y["\u0275\u0275elementStart"](6,"div",12),y["\u0275\u0275elementStart"](7,"div",13),y["\u0275\u0275elementStart"](8,"div",14),y["\u0275\u0275elementStart"](9,"h6",15),y["\u0275\u0275text"](10),y["\u0275\u0275pipe"](11,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"div",6),y["\u0275\u0275elementStart"](13,"div",16),y["\u0275\u0275elementStart"](14,"button",17),y["\u0275\u0275element"](15,"i",18),y["\u0275\u0275text"](16),y["\u0275\u0275pipe"](17,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"button",19),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateNewAction()}),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](21,Wx,3,4,"button",20),y["\u0275\u0275elementStart"](22,"button",21),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"div",22),y["\u0275\u0275elementStart"](26,"button",23),y["\u0275\u0275text"](27),y["\u0275\u0275pipe"](28,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](29,"div",24),y["\u0275\u0275template"](30,Zx,5,4,"ng-container",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](31,"hr"),y["\u0275\u0275elementStart"](32,"div",6),y["\u0275\u0275elementStart"](33,"div",25),y["\u0275\u0275elementStart"](34,"div",26),y["\u0275\u0275elementStart"](35,"label",27),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"span",28),y["\u0275\u0275text"](39,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"select",29,30),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().changeBranch(t)}),y["\u0275\u0275template"](42,Kx,2,0,"option",31),y["\u0275\u0275template"](43,Xx,2,0,"option",31),y["\u0275\u0275template"](44,nM,3,3,"option",32),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](45,"div",33),y["\u0275\u0275elementStart"](46,"div",26),y["\u0275\u0275elementStart"](47,"label",34),y["\u0275\u0275text"](48),y["\u0275\u0275pipe"](49,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](50,"span",28),y["\u0275\u0275text"](51,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](52,"input",35,36),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"div",6),y["\u0275\u0275elementStart"](55,"div",33),y["\u0275\u0275elementStart"](56,"div",26),y["\u0275\u0275elementStart"](57,"label",37),y["\u0275\u0275text"](58),y["\u0275\u0275pipe"](59,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"input",38,39),y["\u0275\u0275listener"]("ngModelChange",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),y["\u0275\u0275pipe"](62,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](63,"div",33),y["\u0275\u0275elementStart"](64,"div",26),y["\u0275\u0275elementStart"](65,"label",40),y["\u0275\u0275text"](66),y["\u0275\u0275pipe"](67,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](68,"input",41,42),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](70,"div",33),y["\u0275\u0275elementStart"](71,"div",26),y["\u0275\u0275elementStart"](72,"label",43),y["\u0275\u0275text"](73),y["\u0275\u0275pipe"](74,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](75,"input",44,45),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](77,"div",33),y["\u0275\u0275elementStart"](78,"div",26),y["\u0275\u0275elementStart"](79,"label",46),y["\u0275\u0275text"](80),y["\u0275\u0275pipe"](81,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](82,"input",47,48),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.memo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](84,"div",12),y["\u0275\u0275elementStart"](85,"div",49),y["\u0275\u0275elementStart"](86,"div",6),y["\u0275\u0275elementStart"](87,"div",50),y["\u0275\u0275elementStart"](88,"ul",51,52),y["\u0275\u0275listener"]("activeIdChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().activeNav=t}),y["\u0275\u0275elementStart"](90,"li",53),y["\u0275\u0275elementStart"](91,"a",54),y["\u0275\u0275text"](92),y["\u0275\u0275pipe"](93,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](94,PM,33,26,"ng-template",55),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](95,"li",56),y["\u0275\u0275elementStart"](96,"a",54),y["\u0275\u0275text"](97),y["\u0275\u0275pipe"](98,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](99,TM,26,13,"ng-template",55),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](100,"li",56),y["\u0275\u0275elementStart"](101,"a",54),y["\u0275\u0275text"](102),y["\u0275\u0275pipe"](103,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](104,AM,3,1,"ng-template",55),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](105,"li",56),y["\u0275\u0275elementStart"](106,"a",54),y["\u0275\u0275text"](107),y["\u0275\u0275pipe"](108,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](109,vI,14,17,"ng-template",55),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](110,"div",57),y["\u0275\u0275elementStart"](111,"div",6),y["\u0275\u0275elementStart"](112,"div",58),y["\u0275\u0275elementStart"](113,"div",59),y["\u0275\u0275elementStart"](114,"div",60),y["\u0275\u0275elementStart"](115,"table",61),y["\u0275\u0275elementStart"](116,"thead"),y["\u0275\u0275elementStart"](117,"tr"),y["\u0275\u0275element"](118,"th",62),y["\u0275\u0275elementStart"](119,"th",63),y["\u0275\u0275text"](120),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](121,"th",62),y["\u0275\u0275text"](122),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](123,"tbody"),y["\u0275\u0275elementStart"](124,"tr"),y["\u0275\u0275elementStart"](125,"td"),y["\u0275\u0275text"](126),y["\u0275\u0275pipe"](127,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](128,"td",64),y["\u0275\u0275elementStart"](129,"input",65),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.valueforeign=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](130,"td"),y["\u0275\u0275elementStart"](131,"input",66),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.value=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](132,"tr"),y["\u0275\u0275elementStart"](133,"td"),y["\u0275\u0275text"](134),y["\u0275\u0275pipe"](135,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](136,"td"),y["\u0275\u0275elementStart"](137,"input",67),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.qtotal=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](138,"tr"),y["\u0275\u0275elementStart"](139,"td"),y["\u0275\u0275text"](140),y["\u0275\u0275pipe"](141,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](142,"td"),y["\u0275\u0275elementStart"](143,"input",68),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Receipt.totalitem=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](144,"div",69),y["\u0275\u0275template"](145,yI,3,1,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](4),t=y["\u0275\u0275reference"](41),n=y["\u0275\u0275reference"](53),i=y["\u0275\u0275reference"](61),r=y["\u0275\u0275reference"](89),a=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](10),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](11,63,"Adjustment Voucher"),""),y["\u0275\u0275advance"](4),y["\u0275\u0275attribute"]("disabled",a.VouchersLinkedCount>0||1==a.ShowModeReceipt||1==a.DuringSaveDisable||a.ReceiptID>0&&!a.checkRoleParms(626)||0==a.ReceiptID&&!a.checkRoleParms(248)||null),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](17,65,"Save")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275attribute"]("disabled",!a.checkRoleParms(248)||1==a.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](20,67,"CreateNew")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",a.ReceiptID>0&&0==a.VouchersLinkedCount),y["\u0275\u0275advance"](1),y["\u0275\u0275attribute"]("disabled",1==a.DuringSaveDisable||null),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,69,"Exit")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](28,71,"Action Menu")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",a.ReceiptID>0),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](37,73,"Branch")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngModel",a._Receipt.branch_id)("ngClass",y["\u0275\u0275pureFunction2"](102,yM,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275attribute"]("disabled",a.ReceiptID>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==a.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",a.BranchList)("ngForTrackBy",a.customTrackBy),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](49,75,"Entry#")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("stepallow",1)("ngModel",a._Receipt.entry_no)("readonly",0==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.controlvouchernumanddate)||a.VouchersLinkedCount>0||1==a.LockedRecepit)("Min",1)("CheckMin",!0)("ngClass",y["\u0275\u0275pureFunction2"](105,yM,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](59,77,"Date")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](62,79,a._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.controlvouchernumanddate)||a.VouchersLinkedCount>0||1==a.LockedRecepit)("ngClass",y["\u0275\u0275pureFunction2"](108,yM,i.invalid&&e.submitted||0==a.ValidPeriod,i.valid&&e.submitted)),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](67,82,"time")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",0==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.controlvouchernumanddate)||a.VouchersLinkedCount>0||1==a.LockedRecepit)("ngModel",a._Receipt.entry_time),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](74,84,"ReferenceNo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",a._Receipt.reference_no),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](81,86,"Memo")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",a._Receipt.memo),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("destroyOnHide",!1)("activeId",a.activeNav),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngbNavItem",1),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](93,88,"Items")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",3),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](98,90,"LinkedReceipt")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",4),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](103,92,"Signature")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavItem",5),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](108,94,"AnalyticalAccount")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngbNavOutlet",r),y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("hidden",!a.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" Total - ",null==a._CurrencySelected?null:a._CurrencySelected.currencysymbol," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" Total - ",null==a._BaseCurrency?null:a._BaseCurrency.currencysymbol," "),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](127,96,"Total")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("hidden",!a.ForeignCurrencyShow),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("readonly",!0)("ngModel",a._Receipt.valueforeign),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("readonly",!0)("ngModel",a._Receipt.value),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](135,98,"totalqty")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",a._Receipt.qtotal),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](141,100,"totalitem")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("readonly",!0)("ngModel",a._Receipt.totalitem),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",a.itemqtyview)}}function SI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",152),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function RI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",152),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function xI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",153),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function MI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function II(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function PI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}const OI=function(e){return{"invalid-data":e}};function EI(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",161),y["\u0275\u0275listener"]("change",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"](),i=n.$implicit,r=n.index;return y["\u0275\u0275nextContext"](2).ChangeBatchQty(i,t.target.value,r)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),y["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",y["\u0275\u0275pureFunction1"](3,OI,null==(null==n?null:n.qty)&&i.submitted||(null==n?null:n.qty)<=0&&i.submitted))}}function wI(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",162),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().$implicit.date=t}),y["\u0275\u0275pipe"](2,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Expire_Date",t,""),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](2,4,null==n?null:n.date,"yyyy-MM-dd"))("ngClass",y["\u0275\u0275pureFunction1"](7,OI,null==(null==n?null:n.date)&&i.submitted||""==(null==n?null:n.date)&&i.submitted))("disabled",(null==n?null:n.solidquantity)>0||null)}}function kI(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275element"](2,"input",154),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275element"](4,"input",155),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,EI,2,5,"td",1),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275element"](7,"input",156),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](8,wI,3,9,"td",1),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275elementStart"](10,"input",157),y["\u0275\u0275listener"]("change",function(t){const n=y["\u0275\u0275restoreView"](e),i=n.$implicit,r=n.index;return y["\u0275\u0275nextContext"](2).ChangeBatchNo(i,t.target.value,r)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td",158),y["\u0275\u0275elementStart"](12,"button",159),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return y["\u0275\u0275nextContext"](2).DeleteRow(n,i)}),y["\u0275\u0275element"](13,"i",160),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),y["\u0275\u0275property"]("checked",null==e?null:e.valid),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Serial",n,""),y["\u0275\u0275property"]("value",null==e?null:e.serial),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserialForPositive),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Store",n,""),y["\u0275\u0275propertyInterpolate"]("value","ar"!=i.lang?null==e?null:e.storename:null==e?null:e.storename_ar),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserialForPositive),y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","BatchNo",n,""),y["\u0275\u0275property"]("value",null==e?null:e.batchno)("ngClass",y["\u0275\u0275pureFunction1"](13,OI,null==e?null:e.isdublicatebatch))("disabled",(null==e?null:e.solidquantity)>0||null),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("disabled",(null==e?null:e.solidquantity)>0||null)}}function DI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",6),y["\u0275\u0275elementStart"](1,"button",163),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"button",164),y["\u0275\u0275text"](5),y["\u0275\u0275pipe"](6,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"button",165),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,3,"SampleFile")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](6,5,"SelectExcleFile")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,7,"Upload")," "))}function BI(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",140),y["\u0275\u0275template"](1,SI,3,3,"h6",141),y["\u0275\u0275template"](2,RI,3,3,"h6",141),y["\u0275\u0275elementStart"](3,"button",142),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](4,"span",143),y["\u0275\u0275text"](5,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"form",9,10),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"]().SubmitOk(t)}),y["\u0275\u0275elementStart"](8,"div",144),y["\u0275\u0275elementStart"](9,"div",145),y["\u0275\u0275elementStart"](10,"div",6),y["\u0275\u0275elementStart"](11,"form"),y["\u0275\u0275elementStart"](12,"div",146),y["\u0275\u0275elementStart"](13,"table",61),y["\u0275\u0275elementStart"](14,"thead"),y["\u0275\u0275elementStart"](15,"tr"),y["\u0275\u0275elementStart"](16,"th"),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"th",147),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](22,xI,3,3,"th",148),y["\u0275\u0275elementStart"](23,"th",149),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](26,MI,3,3,"th",1),y["\u0275\u0275template"](27,II,3,3,"th",1),y["\u0275\u0275template"](28,PI,3,3,"th",1),y["\u0275\u0275element"](29,"th"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"tbody"),y["\u0275\u0275template"](31,kI,14,15,"tr",82),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](32,DI,10,9,"div",0),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"div",150),y["\u0275\u0275elementStart"](34,"button",151),y["\u0275\u0275text"](35),y["\u0275\u0275pipe"](36,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserialForPositive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserialForPositive),y["\u0275\u0275advance"](15),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](18,13,"Valid")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,15,"Serial")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",3==e.requiredserialForPositive),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,17,"Store")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",3==e.requiredserialForPositive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserialForPositive),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserialForPositive),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngForOf",e._Receipt.details[e.SelectedRowIndex].batcheslist)("ngForTrackBy",e.trackByFn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserialForPositive),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](36,19,"Cancel")," ")}}function LI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",152),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function FI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"h6",152),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function NI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function VI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function qI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th"),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function TI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",153),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function AI(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"th",153),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"qty")," "))}const GI=function(e){return{isExpired:e}};function UI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td",103),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"date"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275property"]("ngClass",y["\u0275\u0275pureFunction1"](5,GI,null==e?null:e.isexpired)),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind2"](2,2,null==e?null:e.expire_date,"yyyy-MM-dd")," ")}}function $I(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"span",171),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}function jI(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275elementStart"](1,"input",169),y["\u0275\u0275listener"]("change",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275nextContext"]().$implicit;return y["\u0275\u0275nextContext"](2).ChangeBatchQtyForNegative(n,t.target.value)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](2,$I,3,3,"span",170),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;y["\u0275\u0275nextContext"]();const i=y["\u0275\u0275reference"](7);y["\u0275\u0275advance"](1),y["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),y["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",y["\u0275\u0275pureFunction1"](4,OI,(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)}}function zI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275element"](2,"input",168),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](5,UI,3,7,"td",92),y["\u0275\u0275elementStart"](6,"td"),y["\u0275\u0275text"](7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"td"),y["\u0275\u0275text"](9),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](10,jI,3,6,"td",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](2),y["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),y["\u0275\u0275property"]("checked",null==e?null:e.valid),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ","ar"!=i.lang?null==e?null:e.name:null==e?null:e.name_ar," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserialForNegative),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.serial," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.availableqty),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==i.requiredserialForNegative)}}function WI(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",140),y["\u0275\u0275template"](1,LI,3,3,"h6",141),y["\u0275\u0275template"](2,FI,3,3,"h6",141),y["\u0275\u0275elementStart"](3,"button",142),y["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),y["\u0275\u0275elementStart"](4,"span",143),y["\u0275\u0275text"](5,"\xd7"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"form",9,10),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](7);return y["\u0275\u0275nextContext"]().saveserial(t)}),y["\u0275\u0275elementStart"](8,"div",144),y["\u0275\u0275elementStart"](9,"div",145),y["\u0275\u0275elementStart"](10,"div",6),y["\u0275\u0275elementStart"](11,"form"),y["\u0275\u0275elementStart"](12,"div",146),y["\u0275\u0275elementStart"](13,"h6",152),y["\u0275\u0275text"](14),y["\u0275\u0275pipe"](15,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"table",61),y["\u0275\u0275elementStart"](17,"thead"),y["\u0275\u0275elementStart"](18,"tr"),y["\u0275\u0275elementStart"](19,"th"),y["\u0275\u0275text"](20),y["\u0275\u0275pipe"](21,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"th",149),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](25,NI,3,3,"th",1),y["\u0275\u0275template"](26,VI,3,3,"th",1),y["\u0275\u0275template"](27,qI,3,3,"th",1),y["\u0275\u0275template"](28,TI,3,3,"th",166),y["\u0275\u0275template"](29,AI,3,3,"th",166),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"tbody"),y["\u0275\u0275template"](31,zI,11,7,"tr",82),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"div",150),y["\u0275\u0275elementStart"](33,"button",167),y["\u0275\u0275text"](34),y["\u0275\u0275pipe"](35,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserialForNegative),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserialForNegative),y["\u0275\u0275advance"](12),y["\u0275\u0275textInterpolate2"](" ",y["\u0275\u0275pipeBind1"](15,14,"qty")," : ",e._batchqty," "),y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](21,16,"Choose")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](24,18,"Store")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",3==e.requiredserialForNegative),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",2==e.requiredserialForNegative),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserialForNegative),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserialForNegative),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",3==e.requiredserialForNegative),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BatchesListForEatchRow)("ngForTrackBy",e.trackByFn),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](35,20,"save")," ")}}const JI=function(){return[247,248,249,250,626]};let QI=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u,g,_,f){this._cashsalesService=e,this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this.cd=r,this.toastr=a,this._router=o,this._generalService=s,this.translate=c,this._translateGlobalService=l,this._activeRoute=d,this.modalService=p,this.spinner=h,this._authService=m,this._printService=u,this._VerifyReportsService=g,this.datepipe=_,this.location=f,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.BasicCodeReceipt=83,this.Transaction_move=0,this._Receipt=new C.tY,this._ReceiptOriginal=new C.tY,this._Receipt_h_Edit=new C.Iu,this._CashSalesDetailsReceipt=new C.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new C.tH,this._LinkedReceipt=new C.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.PaymentTypeList=[],this.CostCenterList=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.reporturl="",this.reportdomainUrl=xe.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.FinancialPeriodCloseMsg="",this.CostPostingPeriodMessage="",this.StopInventoryErrorMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.CustomerPricelistMsg="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.SaveMsg="",this.NOComponents="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.RelatedwithSerialsOrBatches="",this.InValidNumberOfBatch="",this.InValidQty="",this.DublicateBatchMassage="",this.QtyIsValidWithAvailableQty="",this.DeleteUsedBatchesOrSerials="",this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this.requiredserialForPositive=2,this.RowItem=null,this.SelectedRowIndex=0,this.BatchesAndSeialsList=[],this.selectedindex=0,this.requiredserialForNegative=2,this._batchqty=0,this.BatchesListForEatchRow=[],d.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","StopInventoryErrorMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","No","swalNewActionTitle","swalNewActionText","NOComponents","CostPostingPeriodMessage","Adjustment Voucher","RelatedwithSerialsOrBatches","InValidNumberOfBatch","InValidQty","DublicateBatchMassage","QtyIsValidWithAvailableQty","DeleteUsedBatchesOrSerials","cantNotDuplicateItem"]).subscribe(e=>{document.title=e["Adjustment Voucher"],this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.No=e.No,this.NOComponents=e.NOComponents,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.Close=e.Close,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.InValidQty=e.InValidQty,this.DublicateBatchMassage=e.DublicateBatchMassage,this.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,this.DeleteUsedBatchesOrSerials=e.DeleteUsedBatchesOrSerials,this.cantNotDuplicateItem=e.cantNotDuplicateItem})})}ngOnInit(){}SetInitialMethods(){this._Receipt=new C.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,be.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt(),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt))},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{if(null!=e.receipt){if(this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.qtotal=e.items.qty,this._Receipt.totalitem=e.items.length,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:e.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.cashcustomername_ar:e.receipt.cashcustomername),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.allowqtyselectforitem=!0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptmultipayment=e.receiptmultipayment,this.ItemsComponentList=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),null==this._Receipt.qtotal||null==this._Receipt.totalitem){let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this._Receipt.totalitem=e.items.length}this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck()}})}CheckPre_SaveReceipt(e){if(e.form.valid)if(0!=this.ValidPeriod){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++)if(this._Receipt.details[e].transaction_move=this.Transaction_move,null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();this.CheckBalanceForItemInStore(0,!0,!0)}else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status||"INVALID"==e.form.controls.Division.status?5:1}SaveReceipt(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();let e=[];if(this._Receipt.details.forEach(t=>{3==t.isrequireserial&&t.qty<0&&(t.allowqtyselectforitem=!0,0==t.batcheslist.length?(t.allowqtyselectforitem=!1,e.push(!1)):0==t.validrow&&(t.allowqtyselectforitem=!1,e.push(!0)))}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.details.forEach(t=>{if(3==t.isrequireserial&&t.qty<0)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,e.push(!1);else{let n=0;t.batcheslist.forEach(e=>{var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0});let i=this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id),r=t.conv*i[0].finalconv/i[0].conv,a=Math.abs(t.qty)*r;n!=a&&(t.allowqtyselectforitem=!1,e.push(!1))}}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);console.log("con..."),this.DuringSaveDisable=!0;for(let t=0;t<this._Receipt.linkedreceipts.length;t++)0==this._Receipt.linkedreceipts[t].fire&&(this._Receipt.linkedreceipts.splice(t,1),t--);this.CheckBatchesAndSerials()}Save(){null==this._Receipt.id||0==this._Receipt.id?(this._Receipt.totalitem=this._Receipt.details.length,this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})})):(this._Receipt_h_Edit=new C.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e&&this.ChangeEntryDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&ye().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)ye().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetDefaultStoreCostCenterByBranch(e=!1){1==e&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid&&(0==this._Receipt.details.length&&(this._CashSalesDetailsReceipt=new C.hm,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}),this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this._Receipt.itemscomponent.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))),null!=this.StoreCostCenterSetting.costcenterid&&(this._Receipt.costcenterid=this.StoreCostCenterSetting.costcenterid,this._Receipt.costcenterfieldname={costcenterfieldname:"ar"==this.lang?this.StoreCostCenterSetting.costcentername_ar:this.StoreCostCenterSetting.costcentername}),this.cd.markForCheck()})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e,this.cd.markForCheck()})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeCurrency(e){if(console.log(e.target.value),this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.Calculate_Total_Tax_Net(),this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){this.CheckValidDateBySubsidaryID();for(let e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;ye().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){ye().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e,t){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach((t,n)=>{t.store_id=e.id,t.storecode=e}),this.CheckBalanceForItemInStore(0,!0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,this.cd.markForCheck()})}onClearItems(e){this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?(t==this._Receipt.details.length-1&&(this.InventorySetting?this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher&&null!=this.InventorySetting[0].permissiontorepeatiteminvoucher?this.AddItems():this._Receipt.details.some(t=>t.item_id==e.id)?this.duplicateItemSwalPopUp(t):this.AddItems():this.AddItems()),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new C.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}duplicateItemSwalPopUp(e){ye().fire({title:this.warning,text:this.cantNotDuplicateItem,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(t=>{this.onClearItems(e),this._Receipt.details[e].itemcode=null,this.cd.markForCheck()})}GetItemsList(e=""){this._ReceiptSharedService.GetItemsDataListCostAdjustment(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new C.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):(this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this._Receipt.details[t].haswarrenty=n.item.haswarrenty,this._Receipt.details[t].warrantydate=n.item.haswarrenty?this.getwarrantydateDate():null,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.inventory_unitid,this.ChangeItemUnits(e.inventory_unitid,t)),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);null!=this._Receipt.details[t].item_id&&null!=this._Receipt.details[t].unit_id&&this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[t].item_id,this._Receipt.details[t].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(e=>{e.length>0?(this._Receipt.details[t].price=Number((e[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t)):(this._Receipt.details[t].price=Number((0).toFixed(this._Currencyprecision)),this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t))}),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,this._ReceiptSharedService.GetItemCostAtDateStore(this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(i=>{console.log(i),i.length>0?(t=Number((i[0].avgcost||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e)):(t=0,this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e))}),this.cd.markForCheck()},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.StockBalances(e),this.CheckBalanceForItemInStore(e),this.CalaculteValuesItemsRow(e)},1e3)}OnSelectedItem(e=null,t=null,n="",i=!1){this.SelectedItem=e,this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemInStore(t)}AddItems(){if(this._CashSalesDetailsReceipt=new C.hm,this._Receipt.details.length>0){this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode;let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}else{0==this._Receipt.id?(this._CashSalesDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._CashSalesDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._CashSalesDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._CashSalesDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode);let e=0;this._Receipt.details.forEach(t=>{e+=t.qty}),this._Receipt.qtotal=e,this._Receipt.totalitem=this._Receipt.details.length}this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.cd.markForCheck()}DeleteItems(e){this.itemqtyview=!1;let t=this._Receipt.details[e];t.qty>0&&null!=t.batcheslist&&-1!=t.batcheslist.findIndex(e=>e.solidquantity>0)?this.toastr.error(this.DeleteUsedBatchesOrSerials):(1==this._Receipt.details.filter(e=>e.item_id==t.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id)),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this._Receipt.totalitem=this._Receipt.details.length,this.OnSelectedItem(null),this.cd.markForCheck())}CalaculteValuesItemsRow(e,t="percent"){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;let n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}ReCalaculteValuesChangeItemsRow(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}onFocusInCostCenter(e){this.GetCostCenterList("")}CostCenterChangeSearch(e,t){this.GetCostCenterList(e.query.trim())}CostCenterSelectEvent(e){this._Receipt.costcenterid=e.id}GetCostCenterList(e=""){this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,e,this._Receipt.vendor_id).subscribe(e=>{this.CostCenterList=[],this.CostCenterList=e,this.CostCenterList.length>0&&this.setFieldNameForArray(this.CostCenterList,"costcenter"),this.cd.markForCheck()})}onFocusInLocations(e){this.GetLocationsList("")}LocationsChangeSearch(e,t){this.GetLocationsList(e.query.trim())}LocationsSelectEvent(e){this._Receipt.locationid=e.id}GetLocationsList(e=""){this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.LocationList=[],this.LocationList=e,this.LocationList.length>0&&this.setFieldNameForArray(this.LocationList,"location"),this.cd.markForCheck()})}onFocusInClasses(e){this.GetClassesList("")}ClassesChangeSearch(e,t){this.GetClassesList(e.query.trim())}ClassesSelectEvent(e){this._Receipt.classid=e.id}GetClassesList(e=""){this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.ClassList=[],this.ClassList=e,this.ClassList.length>0&&this.setFieldNameForArray(this.ClassList,"class"),this.cd.markForCheck()})}onFocusInDepartment(e){this.GetDepartmentList("")}DepartmentChangeSearch(e,t){this.GetDepartmentList(e.query.trim())}DepartmentSelectEvent(e){this._Receipt.departmentid=e.id}GetDepartmentList(e=""){this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.DepartmentList=[],this.DepartmentList=e,this.DepartmentList.length>0&&this.setFieldNameForArray(this.DepartmentList,"department"),this.cd.markForCheck()})}setFieldNameForArray(e,t=null){for(let n=0;n<e.length;n++){let i=e[n];"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t&&(i.departmentfieldname="ar"==this.lang?i.sugar:i.sug)}}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new C.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(t=>{if(this.spinner.hide(),null==t.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(t.items.length>0){1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=t.receipt.subsidiaryid,this._Receipt.customersalesprice=t.receipt.customersalesprice,this._Receipt.payment_type=t.receipt.payment_type,this._Receipt.currency_id=t.receipt.currency_id,this._Receipt.currency_rate=t.receipt.currency_rate,this._Receipt.empoyee_id=t.receipt.empoyee_id,this._Receipt.memo=t.receipt.memo,this._Receipt.reference_no=t.receipt.reference_no,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=t.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id;for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);t.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),t.items.forEach(e=>{3!=e.item_type&&2!=e.item_type&&this.ItemLinkedReceipt.push(e)}),81==t.receipt.code&&(this.ItemLinkedReceipt=this.ItemLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0])}else this.spinner.hide(),this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._CashSalesDetailsReceipt=new C.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv);if(-1==n){this._Receipt.details.length>0?(this._CashSalesDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._CashSalesDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.transaction_move=this.Transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.total=t.total;let n=this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id);this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.final_conv=n[0].finalconv,this._CashSalesDetailsReceipt.discount_value=t.discount_value,this._CashSalesDetailsReceipt.discount_percent=t.discount_percent,this._Receipt.details.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):this.SetLinkReceiptItemComponentsRows()}else this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length&&this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1])}SetLinkReceiptItemComponentsRows(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;let e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),this.StockBalances(0)}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}OnSignatureSet(e){this._Receipt.signature=e.signature}Calculate_Total_Tax_Net(){let e=0;this._Receipt.details.forEach(t=>{e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.surchargepercent=this._Receipt.surchargepercent||0,this._Receipt.surchargevalue=this._Receipt.surchargevalue||0;let t=0;this._Receipt.details.forEach(e=>{t+=e.qty}),this._Receipt.qtotal=t,this.CalculateTax_Net(e)}CalculateTax_Net(e=0){1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0)}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new C.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){var i;1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let r=!0,a=new C.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id;let o=null!==(i=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==i?i:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._Receipt.details[e].item_type&&this._Receipt.details[e].qty<0&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStore(a).subscribe(i=>{let a=0,s=0,c=0,l=[],d=!0;if(0==i.consignment.consignment){if(null!=i.totalqty.totalqty){if(a=i.totalqty.totalqty,l=i.itemcomponent,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;s=parseFloat(s.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._Receipt.details[e].item_type){this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.details[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});let t=[],n=[],i=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let r=0;r<i.length;r++){t=[],n=[],t=this._Receipt.itemscomponent.filter(t=>t.finishedproductid==i[r].item_id&&t.item_id==this._Receipt.details[e].item_id&&null==t.id),n=[...new Map(t.map(e=>[e.finishedproductid,e]&&[e.item_id,e])).values()];for(let e=0;e<n.length;e++){let t=n[e].basicqtycomponent*i[r].qty,a=this.ItemComponentUnitsList.find(t=>t.item_id==n[e].item_id&&t.id==n[e].unit_id);if(null!=a){let i=(null!=a.finalconv?a.finalconv:1)*(n[e].conv/(null!=a.conv?a.conv:1))*parseFloat(t.toString());s=parseFloat(s.toString())+i}}}}if(-1==o?c=a-s:1==o&&(c=a+s),3==this._Receipt.details[e].item_type)for(let e=0;e<l.length;e++)if(2!=l[e].item_type){let t=this._Receipt.details.filter(t=>t.item_id==l[e].item_id),n=0;if(t.forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,a=e.conv;n=parseFloat(n.toString())+i*(a/r)*parseFloat(e.qty.toString())}this._Receipt.itemscomponent.filter(t=>t.item_id==e.item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());n=parseFloat(n.toString())+i}});let i=[],r=[],a=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let o=0;o<a.length;o++){i=[],r=[],i=this._Receipt.itemscomponent.filter(t=>t.finishedproductid==a[o].item_id&&t.item_id==e.item_id&&null==t.id),r=[...new Map(i.map(e=>[e.finishedproductid,e]&&[e.item_id,e])).values()];for(let e=0;e<r.length;e++){let t=r[e].basicqtycomponent*a[o].qty,i=this.ItemUnitsList.find(t=>t.item_id==r[e].item_id&&t.id==r[e].unit_id);if(null!=i){let a=(null!=i.finalconv?i.finalconv:1)*(r[e].conv/(null!=i.conv?i.conv:1))*parseFloat(t.toString());n=parseFloat(n.toString())+a}}}}),!(n<=l[e].totalqty)){d=!1;break}d=!0}r=c>=0&&1==d}else r=!1;0==r?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+a)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}):1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(626)?this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/0"]).then(()=>{window.location.reload()}):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/adjustmentvoucher/0"]).then(()=>{window.location.reload()})})}DeleteAction(){ye().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransiction/adjustmentvoucher"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{Date.parse(e[0].maxpostingdate.toString())<Date.parse(this._Receipt.entry_date.toString())?(this.ShowModeReceipt=!1,this.ValidPeriod=!0):(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/inventorytransiction/adjustmentvoucher/0"),this.ReceiptID=0,this._Receipt.id=null,this.VouchersLinkedCount=0,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/adjustmentvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){this._authService.userInfo();let t="",n="";"ar"==this.lang&&(n="_ar"),t="P_I_83_Adjustment"+n;let i={reportName:t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return i.reportName=t,i.toEmail=this._emailobj.email,i.Subject=this._emailobj.subject,i}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(626)||0==this.ReceiptID&&!this.checkRoleParms(248)||1==this.ShowModeReceipt?this._router.navigate(["/page/inventorytransiction/adjustmentvoucher"]):ye().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===ye().DismissReason.cancel&&this._router.navigate(["/page/inventorytransiction/adjustmentvoucher"])})}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}getwarrantydateDate(){let e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}formateDecimal(e,t=3){return e.toFixed(t)}OnSerialItems(e,t,n,i){t.qty>0?this.OnSerialItemsForPositive(e,t,n):t.qty<0?this.OnSerialItemsForNegative(e,i):this.toastr.error(this.InValidQty)}OnSerialItemsForPositive(e,t,n=null){if(console.log(e,"ix",t),this.SelectedRowIndex=e,this.RowItem=t,t.qty<=0)this.toastr.error(this.InValidQty);else{if(this.requiredserialForPositive=this._Receipt.details[e].isrequireserial,0==this._Receipt.details[e].batcheslist.length)this.AddNewRow(e);else{let t=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].batcheslist[0].qty=this._Receipt.details[e].qty*(this._Receipt.details[e].conv*t[0].finalconv/t[0].conv)}this.OpenModal(n)}}ChangeBatchQty(e,t,n){}AddNewRow(e=null){this._ReceiptSharedService.GetStoreByID(this.RowItem.store_id).subscribe(t=>{var n,i;console.log(t,"dd",this.RowItem);let r=new Me.WB;r.storeid=this.RowItem.store_id,r.storename=null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",r.storename_ar=null!==(i=null==t?void 0:t.name_ar)&&void 0!==i?i:"";let a=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),o=this._Receipt.details[e].conv*a[0].finalconv/a[0].conv;r.qty=this._Receipt.details[e].qty*o,console.log(a,"_selectedunit",o,r.qty),r.serial=this._Receipt.details[e].batcheslist.length>0?this._Receipt.details[e].batcheslist.length+1:1,this._Receipt.details[e].batcheslist.push(r),this.cd.markForCheck(),console.log(this._Receipt.details[e].batcheslist,"this.BatchesList")})}SubmitOk(e){e.valid&&this.CloseModal()}ChangeBatchNo(e,t,n){this._Receipt.details[this.SelectedRowIndex].batcheslist[n].batchno=t,console.log(this._Receipt.details,"ChangeBatchNo")}DeleteRow(e,t){this._Receipt.details[this.SelectedRowIndex].batcheslist.pop(),console.log(this._Receipt.details,"DeleteRow")}CheckBatchesAndSerials(){this.BatchesAndSeialsList=[],console.log(this.BatchesAndSeialsList,"BatchesAndSeialsList"),this._Receipt.details.some(e=>3==e.isrequireserial&&e.qty>0)?(console.log("Validate"),this._Receipt.details.forEach(e=>{e.qty>0&&(this.BatchesAndSeialsList=[...this.BatchesAndSeialsList,...e.batcheslist])}),this.ValidateInFrontEnd()?(this.DuringSaveDisable=!0,this.Save()):this.DuringSaveDisable=!1):(this.DuringSaveDisable=!0,console.log("Saved"),this.Save())}ValidateInFrontEnd(){return 0==this.ValidateBatchesAndSerialsList()?(this.toastr.error(this.InValidNumberOfBatch),!1):(this._Receipt.details.map(e=>{e.qty>0&&e.batcheslist.length>0&&""==e.batcheslist[0].batchno&&(e.batcheslist[0].batchno=new Date(e.batcheslist[0].date).toLocaleDateString()+"_"+e.item_id)}),!0)}ValidateBatchesAndSerialsList(){let e=!0;this.BatchesAndSeialsList.forEach(t=>0==t.qty||null==t.qty||null==t.date||""==t.date?e=!1:void 0);let t=0;for(let n=0;n<this._Receipt.details.length;n++)if(3==this._Receipt.details[n].isrequireserial&&this._Receipt.details[n].qty>0){let e=this.ItemUnitsList.filter(e=>e.item_id==this._Receipt.details[n].item_id&&e.id==this._Receipt.details[n].unit_id);t+=this._Receipt.details[n].qty*(this._Receipt.details[n].conv*e[0].finalconv/e[0].conv)}return t!=this.BatchesAndSeialsList.reduce((e,t)=>e+t.qty,0)&&(e=!1),e}ValidateDublicateBatchesInFrontEnd(){let e=[];for(let t=0;t<this._Receipt.details.length;t++)if(this._Receipt.details[t].qty>0){if(0==this._Receipt.details[t].batcheslist.length)continue;{let n=this._Receipt.details[t].batcheslist[0];if(1==n.isdublicatebatch)continue;n.isdublicatebatch=!1;for(let i=t+1;i<this._Receipt.details.length;i++)if(this._Receipt.details[i].qty>0){if(0==this._Receipt.details[i].batcheslist.length)continue;n.batchno.toLowerCase().trim()==this._Receipt.details[i].batcheslist[0].batchno.toLowerCase().trim()&&new Date(n.date).toLocaleDateString()!=new Date(this._Receipt.details[i].batcheslist[0].date).toLocaleDateString()&&(this._Receipt.details[i].batcheslist[0].isdublicatebatch=!0,e.push(this._Receipt.details[i].batcheslist[0]))}}}return e}ValidateDublicateBatchesInBackEnd(){console.log(this._Receipt.details,"this._Receipt.details"),this._ReceiptSharedService.ValidateDublicateBatches(this._Receipt.details).subscribe(e=>{if(this._Receipt.details=[],this._Receipt.details=null!=e?e:[],console.log(this._Receipt.details,"details"),this.cd.markForCheck(),this._Receipt.details.some(e=>{if(e.batcheslist.length>0)return 1==e.batcheslist[0].isdublicatebatch}))return ye().fire(this.DublicateBatchMassage),void(this.DuringSaveDisable=!1);this.DuringSaveDisable=!0,this.Save()})}OnSerialItemsForNegative(e,t){var n;this.SelectedItem=this._Receipt.details[e],this.selectedindex=e;let i=Math.abs(this._Receipt.details[e].qty);if(i<=0)return void this.toastr.error(this.InValidQty);this.requiredserialForNegative=this._Receipt.details[e].isrequireserial;let r=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._batchqty=i*(this._Receipt.details[e].conv*r[0].finalconv/r[0].conv),this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(n=this._Receipt.id)&&void 0!==n?n:0,this._Receipt.entry_date+" "+this._Receipt.entry_time,this.subsidiaryID).subscribe(e=>{this.BatchesListForEatchRow=[];let n=[];if(n=e.seriallist,console.log(e.seriallist,"d.seriallist"),this._Receipt.details[this.selectedindex].batcheslist.forEach(e=>{let t=n.findIndex(t=>t.id==e.previtemserialid);-1!=t&&(e.inv_receipt_d_id>0?null==this._Receipt.details[this.selectedindex].validrow||1==this._Receipt.details[this.selectedindex].validrow?(n[t].qty=e.qty,n[t].oldqty=e.qty,this._Receipt.details[this.selectedindex].validrow=!0):n[t].availableqty=n[t].availableqty+e.qty:1==this._Receipt.details[this.selectedindex].validrow&&(n[t].qty=e.qty,n[t].oldqty=e.qty,n[t].availableqty=n[t].availableqty-e.qty,this._Receipt.details[this.selectedindex].validrow=!0))}),this._Receipt.id>0)for(let t=0;t<n.length;t++)null==n[t].qty&&0==n[t].availableqty||this.BatchesListForEatchRow.push(n[t]);else this.BatchesListForEatchRow=[...n];this.OpenModal(t)})}saveserial(e){if(e.valid){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Me.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}ChangeBatchQtyForNegative(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=e.availableqty+e.oldqty-+t,e.oldqty=+t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Re.H),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](w.FF),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](v.J),y["\u0275\u0275directiveInject"](i.uU),y["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-adjustment-voucher-details"]],viewQuery:function(e,t){if(1&e&&y["\u0275\u0275viewQuery"](jx,5),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([_.n,Se.v,f.t,i.uU,Re.H,v.J])],decls:10,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["PatchModalForPositive",""],["PatchModalForNegative",""],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"col-md-12","col-lg-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-12","col-md-6","mb-2","mb-md-0"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","VendorCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","readonly","Min","CheckMin","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-7","col-md-7"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"row","col-md-5",2,"margin-top","4rem"],[1,"col"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalqty",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotalitem",1,"form-control","totalValInput","font-weight-bold",3,"readonly","ngModel","ngModelChange"],[1,"row","col-md-7"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],["type","button",1,"dropdown-item",3,"click"],["Value","null"],[3,"value"],[1,"row",2,"margin-top","10px"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","9%"],["scope","col",4,"ngIf"],["scope","col",2,"min-width","30px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[2,"padding-top","15px !important"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["required","","NumbersOnly","","type","number",1,"form-control",3,"CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],["href","javascript:;",1,"info","p-0",3,"hidden","click"],[1,"fa","fa-list","font-medium-3","mr-2"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["price","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],[4,"ngFor","ngForOf"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],["href","javascript:;",2,"color","green",3,"click"],["aria-hidden","true",1,"fa","fa-plus-square","fa-lg"],["href","javascript:;",1,"info","p-0",3,"click"],["aria-hidden","true",1,"fa","fa-eye","fa-lg"],[3,"signature","signatureoutput"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],[1,"col-form-label"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","10%"],["style","width: 15%",4,"ngIf"],[2,"width","20%"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary","mx-2"],[1,"modal-title"],[2,"width","15%"],["type","checkbox","disabled","",3,"name","checked"],["type","number","disabled","",1,"form-control",3,"name","value"],["type","text","disabled","",1,"form-control",3,"name","value"],["type","text",1,"form-control",3,"name","value","ngClass","disabled","change"],[1,"text-center"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"icon-trash"],["type","number","PositiveNumbersOnly","","min","0","disabled","",1,"form-control",3,"name","value","ngClass","change"],["type","date","required","",1,"form-control",3,"name","ngModel","ngClass","disabled","ngModelChange"],["type","button",1,"btn","btn-primary","col-md-4"],["type","button",1,"btn","btn-info","col-md-2","mx-2"],["type","button",1,"btn","btn-primary","col-md-2"],["style","width:\n                      15%",4,"ngIf"],["type","submit",1,"btn","btn-success"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,zx,4,3,"div",0),y["\u0275\u0275template"](1,bI,146,111,"ng-container",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"div"),y["\u0275\u0275template"](6,BI,37,21,"ng-template",null,4,y["\u0275\u0275templateRefExtractor"]),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](8,WI,36,22,"ng-template",null,5,y["\u0275\u0275templateRefExtractor"])),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(247)||t.checkRoleParms(248)||t.checkRoleParms(249)||t.checkRoleParms(626)||t.checkRoleParms(250))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction0"](3,JI))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,i.mk,i.sg,a.Fj,Ie.L,Pe.a,w.Pz,w.nv,w.Vx,w.uN,w.tO,a.wV,E.K,Ee.k,a.YN,a.Kr,s.Qc,Oe.jx,$x.X,De.t,Be.T],pipes:[l.X$,i.uU,Le.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important;text-align:center}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.isExpired[_ngcontent-%COMP%]{color:red}']}),e})();function YI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function HI(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function ZI(e,t){if(1&e&&(y["\u0275\u0275template"](0,YI,2,1,"div",27),y["\u0275\u0275template"](1,HI,2,1,"div",27)),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function KI(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function XI(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function eP(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function tP(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function nP(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",24),y["\u0275\u0275template"](2,eP,1,0,"i",28),y["\u0275\u0275template"](3,tP,1,0,"i",29),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function iP(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function rP(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function aP(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",24),y["\u0275\u0275template"](2,iP,1,0,"i",28),y["\u0275\u0275template"](3,rP,1,0,"i",29),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function oP(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function sP(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function cP(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function lP(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function dP(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",24),y["\u0275\u0275template"](2,cP,1,0,"i",28),y["\u0275\u0275template"](3,lP,1,0,"i",29),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","Name"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Name"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Name"==e.sortColumn&&"desc"==e.sortDirection)}}function pP(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function hP(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function mP(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",24),y["\u0275\u0275template"](2,pP,1,0,"i",28),y["\u0275\u0275template"](3,hP,1,0,"i",29),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","Namear"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Namear"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Namear"==e.sortColumn&&"desc"==e.sortDirection)}}function uP(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function gP(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname_ar)}}function _P(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function CP(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function fP(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,uP,2,1,"td",27),y["\u0275\u0275template"](4,gP,2,1,"td",27),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](8,_P,2,1,"td",27),y["\u0275\u0275template"](9,CP,2,1,"td",27),y["\u0275\u0275elementStart"](10,"td"),y["\u0275\u0275elementStart"](11,"a",36),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).$implicit;return y["\u0275\u0275nextContext"]().onEdit(t.accountid)}),y["\u0275\u0275elementStart"](12,"span"),y["\u0275\u0275element"](13,"i",37),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind2"](7,6,null==e?null:e.entry_date,"yyyy-MM-dd")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function vP(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",38),y["\u0275\u0275elementStart"](1,"ngb-pagination",39),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"div",6),y["\u0275\u0275elementStart"](5,"select",40),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().PageSize=t}),y["\u0275\u0275elementStart"](6,"option",41),y["\u0275\u0275text"](7,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"option",42),y["\u0275\u0275text"](9,"25 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"option",43),y["\u0275\u0275text"](11,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"option",44),y["\u0275\u0275text"](13,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"label",11),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",10)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.PageSize),y["\u0275\u0275advance"](10),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](16,8,"Records per page"))}}let yP=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m){this._cashsalesService=e,this._CustomerService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=o,this._translateGlobalService=s,this.spinner=c,this._ReceiptSharedService=d,this._authService=p,this._printService=h,this._VerifyReportsService=m,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.orderby="",this.SearchValue="",this.CustomerSearch="",this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.Customerlist=[],this.Customerlistbycustomerid=[],this.CustomerAccountsList=[],this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),l.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Issue Voucher With No Receipt"]).subscribe(e=>{this.title=e["Issue Voucher With No Receipt"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(e=>{this.subsidiaryID=this._generalService.SubsidiaryID,this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()})}ngOnInit(){this.ReceiptCode=60,this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()}ReceiptSearch(){this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetCustomerReceiptsList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("BranchName"!=this.sortColumn&&"Name"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this.orderby=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._cashsalesService.GetCustomerReceiptsList(this.subsidiaryID,this.ReceiptCode,this.PageNo,this.PageSize,this.SearchValue,this.orderby,this.CustomerSearch).subscribe(e=>{console.log("Customerlist---d",e),this.ReceiptList=[...e],console.log(this.ReceiptList),this.spinner.hide(),this.cd.markForCheck()})}GetCustomerReceiptsListCount(){this._cashsalesService.GetCustomerReceiptsListCount(this.subsidiaryID,this.ReceiptCode,this.PageNo,this.PageSize,this.SearchValue,this.CustomerSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}groupBy(e,t){return e.reduce((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e),{})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){console.log(e),this.CustomerSearch=e.accountid,this.CustomerSearchname={name:e.name},setTimeout(()=>{this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()},100)}GetAllCustomer(){this.CustomerSearch="",this.CustomerSearchname={name:""},setTimeout(()=>{this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()},100)}GetCustomerAccountsList(e=""){this._CustomerService.CustomerAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}OnView(){this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"])}onEdit(e){let t="";t=`/page/receivables/creditsales/0/${e}/0/0`,this._router.navigate([t])}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()):this.toastr.warning(this.EntryNumberMsg)}PrintPreview(e){let t=this.getReportfilter(e);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),this._authService.printJS(e.bytes)}),this.cd.markForCheck()}getReportfilter(e){const t=this._authService.userInfo().clientdatabase;let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_3_ReceivingVoucher"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alromaih")>-1?n="P_I_3_ReceivingVoucher_GL_WEB_alromaih":t.indexOf("bander")>-1||t.indexOf("win-69te7j9nfsu")>-1||t.indexOf("192.168.1.50")>-1||t.indexOf("localhost:1000")>-1?n="P_I_3_ReceivingVoucher_Bandar"+i:t.indexOf("darshgf")>-1?(n="P_I_3_ReceivingVoucher_GL_WEB_darshgf",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:i,DomainName:"",toEmail:"",Subject:"",boby:""}):t.indexOf("istones")>-1&&(n="P_S_52_Issue_GL_WEB_istones",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:i,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}),r}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetCustomerReceiptsList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetCustomerReceiptsList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](v.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["creditsales"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,v.J,Se.v])],decls:69,vars:40,consts:[[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"row"],[1,"card"],[1,"card-header"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],[1,"m-1"],["minLength","0","delay","0","field","name","name","CreditAccount",3,"suggestions","ngModel","onFocus","onSelect","completeMethod","ngModelChange"],["autoCustomerAccounts",""],["pTemplate","CustomerAccountsTemplate"],[1,"col-lg-4","col-md-4","mt-3","col-sm-12"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"form-group","row"],["for","SearchValue",1,"col-md-3","mt-3"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-8","mt-3",3,"ngModel","ngModelChange","keyup"],[1,"card-content"],[1,"card-body","table-responsive"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[4,"ngIf"],["class","fa fa-fw\n                              fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                              fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between p-2",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],["href","javascript:;",1,"primary","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-list"],[1,"d-flex","justify-content-between","p-2"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","25"],["Value","50"],["Value","100"]],template:function(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"h6",3),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"div",4),y["\u0275\u0275elementStart"](7,"div",5),y["\u0275\u0275elementStart"](8,"section"),y["\u0275\u0275elementStart"](9,"div",6),y["\u0275\u0275elementStart"](10,"div",5),y["\u0275\u0275elementStart"](11,"div",7),y["\u0275\u0275elementStart"](12,"div",8),y["\u0275\u0275elementStart"](13,"div",6),y["\u0275\u0275elementStart"](14,"div",9),y["\u0275\u0275elementStart"](15,"div",10),y["\u0275\u0275elementStart"](16,"label",11),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"p-autoComplete",12,13),y["\u0275\u0275listener"]("onFocus",function(n){y["\u0275\u0275restoreView"](e);const i=y["\u0275\u0275reference"](20);return t.onFocusInCustomerAccounts(n),i.show()})("onSelect",function(e){return t.CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return t.CustomerAccountsChangeSearch(e)})("ngModelChange",function(e){return t.CustomerSearchname=e}),y["\u0275\u0275template"](21,ZI,2,2,"ng-template",14),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"div",15),y["\u0275\u0275elementStart"](23,"button",16),y["\u0275\u0275listener"]("click",function(){return t.GetAllCustomer()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",15),y["\u0275\u0275elementStart"](27,"div",17),y["\u0275\u0275elementStart"](28,"label",18),y["\u0275\u0275text"](29),y["\u0275\u0275pipe"](30,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"input",19),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.SearchValue=e})("keyup",function(){return t.ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"div",20),y["\u0275\u0275elementStart"](33,"div",21),y["\u0275\u0275elementStart"](34,"table",22),y["\u0275\u0275elementStart"](35,"thead"),y["\u0275\u0275elementStart"](36,"tr"),y["\u0275\u0275elementStart"](37,"th",23),y["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Entry_No")}),y["\u0275\u0275text"](38),y["\u0275\u0275pipe"](39,"translate"),y["\u0275\u0275elementContainerStart"](40),y["\u0275\u0275element"](41,"i",24),y["\u0275\u0275template"](42,KI,1,0,"i",25),y["\u0275\u0275template"](43,XI,1,0,"i",26),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](44,"th",23),y["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("BranchName")}),y["\u0275\u0275text"](45),y["\u0275\u0275pipe"](46,"translate"),y["\u0275\u0275template"](47,nP,4,3,"ng-container",27),y["\u0275\u0275template"](48,aP,4,3,"ng-container",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](49,"th",23),y["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Entry_Date")}),y["\u0275\u0275text"](50),y["\u0275\u0275pipe"](51,"translate"),y["\u0275\u0275elementContainerStart"](52),y["\u0275\u0275element"](53,"i",24),y["\u0275\u0275template"](54,oP,1,0,"i",28),y["\u0275\u0275template"](55,sP,1,0,"i",29),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](56,"th",23),y["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Name")}),y["\u0275\u0275text"](57),y["\u0275\u0275pipe"](58,"translate"),y["\u0275\u0275template"](59,dP,4,3,"ng-container",27),y["\u0275\u0275template"](60,mP,4,3,"ng-container",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](61,"th"),y["\u0275\u0275text"](62,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](63,"tbody"),y["\u0275\u0275template"](64,fP,14,9,"tr",30),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](65,vP,17,10,"div",31),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](66,"ngx-spinner",32),y["\u0275\u0275elementStart"](67,"p",33),y["\u0275\u0275text"](68," Loading... "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](5,24,"Issue Voucher With No Receipt")),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](18,26,"Customer Name")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("suggestions",t.CustomerAccountsList)("ngModel",t.CustomerSearchname),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,28,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](30,30,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",t.SearchValue),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](39,32,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==t.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==t.sortColumn&&"asc"==t.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==t.sortColumn&&"desc"==t.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](46,34,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=t.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==t.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](51,36,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==t.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==t.sortColumn&&"asc"==t.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==t.sortColumn&&"desc"==t.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](58,38,"custvendor")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=t.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==t.lang),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngForOf",t.ReceiptList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.totalCount>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[s.Qc,a.JJ,a.On,Oe.jx,a.Fj,i.O5,i.sg,x.Ro,w.N9,a.EJ,a.YN,a.Kr],pipes:[l.X$,i.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}']}),e})();function bP(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function SP(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function RP(e,t){if(1&e&&(y["\u0275\u0275template"](0,bP,2,1,"div",27),y["\u0275\u0275template"](1,SP,2,1,"div",27)),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function xP(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function MP(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function IP(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function PP(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function OP(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",24),y["\u0275\u0275template"](2,IP,1,0,"i",28),y["\u0275\u0275template"](3,PP,1,0,"i",29),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function EP(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function wP(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function kP(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",24),y["\u0275\u0275template"](2,EP,1,0,"i",28),y["\u0275\u0275template"](3,wP,1,0,"i",29),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function DP(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function BP(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function LP(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function FP(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function NP(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",24),y["\u0275\u0275template"](2,LP,1,0,"i",28),y["\u0275\u0275template"](3,FP,1,0,"i",29),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","Name"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Name"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Name"==e.sortColumn&&"desc"==e.sortDirection)}}function VP(e,t){1&e&&y["\u0275\u0275element"](0,"i",34)}function qP(e,t){1&e&&y["\u0275\u0275element"](0,"i",35)}function TP(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",24),y["\u0275\u0275template"](2,VP,1,0,"i",28),y["\u0275\u0275template"](3,qP,1,0,"i",29),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","Namear"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Namear"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Namear"==e.sortColumn&&"desc"==e.sortDirection)}}function AP(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function GP(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.branchname_ar)}}function UP(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function $P(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"td"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function jP(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](3,AP,2,1,"td",27),y["\u0275\u0275template"](4,GP,2,1,"td",27),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](8,UP,2,1,"td",27),y["\u0275\u0275template"](9,$P,2,1,"td",27),y["\u0275\u0275elementStart"](10,"td"),y["\u0275\u0275elementStart"](11,"a",36),y["\u0275\u0275listener"]("click",function(){const t=y["\u0275\u0275restoreView"](e).$implicit;return y["\u0275\u0275nextContext"]().onEdit(t.accountid)}),y["\u0275\u0275elementStart"](12,"span"),y["\u0275\u0275element"](13,"i",37),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind2"](7,6,null==e?null:e.entry_date,"yyyy-MM-dd")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function zP(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",38),y["\u0275\u0275elementStart"](1,"ngb-pagination",39),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",40),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().PageSize=t}),y["\u0275\u0275elementStart"](5,"option",41),y["\u0275\u0275text"](6,"10 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"option",42),y["\u0275\u0275text"](8,"50 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"option",43),y["\u0275\u0275text"](10,"100 "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](11,"br"),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize)}}let WP=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m){this._cashsalesService=e,this._CustomerService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=a,this.translate=o,this._translateGlobalService=s,this.spinner=c,this._ReceiptSharedService=d,this._authService=p,this._printService=h,this._VerifyReportsService=m,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.orderby="",this.SearchValue="",this.VendorSearch="",this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new C.Wb,this.NumNotExist="",this.title="",this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.Customerlist=[],this.Customerlistbycustomerid=[],this.CustomerAccountsList=[],this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),l.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["Receiving Voucher With No Receipt"]).subscribe(e=>{this.title=e["Receiving Voucher With No Receipt"],document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(e=>{this.subsidiaryID=this._generalService.SubsidiaryID,this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()})}ngOnInit(){this.ReceiptCode=3,this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()}ReceiptSearch(){this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetCustomerReceiptsList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("BranchName"!=this.sortColumn&&"Name"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this.orderby=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._cashsalesService.GetVendorReceiptsList(this.subsidiaryID,this.ReceiptCode,this.PageNo,this.PageSize,this.SearchValue,this.orderby,this.VendorSearch).subscribe(e=>{console.log("Customerlist---d",e),this.ReceiptList=[...e],console.log(this.ReceiptList),this.spinner.hide(),this.cd.markForCheck()})}GetCustomerReceiptsListCount(){this._cashsalesService.GetVendorReceiptsListCount(this.subsidiaryID,this.ReceiptCode,this.PageNo,this.PageSize,this.SearchValue,this.VendorSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}groupBy(e,t){return e.reduce((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e),{})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){console.log(e),this.VendorSearch=e.accountid,this.VendorSearchname={name:e.name},setTimeout(()=>{this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()},100)}GetAllCustomer(){this.VendorSearch="",this.VendorSearchname={name:""},setTimeout(()=>{this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()},100)}GetCustomerAccountsList(e=""){this._CustomerService.GetVendorAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}OnView(){this._router.navigate(["/page/inventorytransiction/receivingvoucherreturns/0"])}onEdit(e){let t="";t=`/page/payables/transreceipt/0/${e}/0`,this._router.navigate([t])}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetCustomerReceiptsList(),this.GetCustomerReceiptsListCount()):this.toastr.warning(this.EntryNumberMsg)}PrintPreview(e){let t=this.getReportfilter(e);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),this._authService.printJS(e.bytes)}),this.cd.markForCheck()}getReportfilter(e){const t=this._authService.userInfo().clientdatabase;let n="",i="";"ar"==this.lang&&(i="_ar"),n="P_I_3_ReceivingVoucher"+i;let r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return t.indexOf("alromaih")>-1?n="P_I_3_ReceivingVoucher_GL_WEB_alromaih":t.indexOf("bander")>-1||t.indexOf("win-69te7j9nfsu")>-1||t.indexOf("192.168.1.50")>-1||t.indexOf("localhost:1000")>-1?n="P_I_3_ReceivingVoucher_Bandar"+i:t.indexOf("darshgf")>-1?(n="P_I_3_ReceivingVoucher_GL_WEB_darshgf",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:i,DomainName:"",toEmail:"",Subject:"",boby:""}):t.indexOf("istones")>-1&&(n="P_S_52_Issue_GL_WEB_istones",r={reportName:n,SubsidaryID:this.subsidiaryID,ReceiptID:e,lang:i,DomainName:window.location.origin,toEmail:"",Subject:"",boby:""}),r}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetCustomerReceiptsList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetCustomerReceiptsList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](v.J))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["receivingvoucherwithnoreceipt"]],features:[y["\u0275\u0275ProvidersFeature"]([_.n,f.t,v.J,Se.v])],decls:69,vars:40,consts:[[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"row"],[1,"card"],[1,"card-header"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],[1,"m-1"],["minLength","0","delay","0","field","name","name","CreditAccount",3,"suggestions","ngModel","onFocus","onSelect","completeMethod","ngModelChange"],["autoCustomerAccounts",""],["pTemplate","CustomerAccountsTemplate"],[1,"col-lg-4","col-md-4","mt-3","col-sm-12"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"form-group","row"],["for","SearchValue",1,"col-md-3","mt-3"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-8","mt-3",3,"ngModel","ngModelChange","keyup"],[1,"card-content"],[1,"card-body","table-responsive"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[4,"ngIf"],["class","fa fa-fw\n                              fa-sort-desc",4,"ngIf"],["class","fa fa-fw\n                              fa-sort-asc",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],["href","javascript:;",1,"primary","mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-list"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",0),y["\u0275\u0275elementStart"](1,"div",1),y["\u0275\u0275elementStart"](2,"div",2),y["\u0275\u0275elementStart"](3,"h6",3),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"div",4),y["\u0275\u0275elementStart"](7,"div",5),y["\u0275\u0275elementStart"](8,"section"),y["\u0275\u0275elementStart"](9,"div",6),y["\u0275\u0275elementStart"](10,"div",5),y["\u0275\u0275elementStart"](11,"div",7),y["\u0275\u0275elementStart"](12,"div",8),y["\u0275\u0275elementStart"](13,"div",6),y["\u0275\u0275elementStart"](14,"div",9),y["\u0275\u0275elementStart"](15,"div",10),y["\u0275\u0275elementStart"](16,"label",11),y["\u0275\u0275text"](17),y["\u0275\u0275pipe"](18,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"p-autoComplete",12,13),y["\u0275\u0275listener"]("onFocus",function(n){y["\u0275\u0275restoreView"](e);const i=y["\u0275\u0275reference"](20);return t.onFocusInCustomerAccounts(n),i.show()})("onSelect",function(e){return t.CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return t.CustomerAccountsChangeSearch(e)})("ngModelChange",function(e){return t.VendorSearchname=e}),y["\u0275\u0275template"](21,RP,2,2,"ng-template",14),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](22,"div",15),y["\u0275\u0275elementStart"](23,"button",16),y["\u0275\u0275listener"]("click",function(){return t.GetAllCustomer()}),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"div",15),y["\u0275\u0275elementStart"](27,"div",17),y["\u0275\u0275elementStart"](28,"label",18),y["\u0275\u0275text"](29),y["\u0275\u0275pipe"](30,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"input",19),y["\u0275\u0275listener"]("ngModelChange",function(e){return t.SearchValue=e})("keyup",function(){return t.ChangePropFinish()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](32,"div",20),y["\u0275\u0275elementStart"](33,"div",21),y["\u0275\u0275elementStart"](34,"table",22),y["\u0275\u0275elementStart"](35,"thead"),y["\u0275\u0275elementStart"](36,"tr"),y["\u0275\u0275elementStart"](37,"th",23),y["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Entry_No")}),y["\u0275\u0275text"](38),y["\u0275\u0275pipe"](39,"translate"),y["\u0275\u0275elementContainerStart"](40),y["\u0275\u0275element"](41,"i",24),y["\u0275\u0275template"](42,xP,1,0,"i",25),y["\u0275\u0275template"](43,MP,1,0,"i",26),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](44,"th",23),y["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("BranchName")}),y["\u0275\u0275text"](45),y["\u0275\u0275pipe"](46,"translate"),y["\u0275\u0275template"](47,OP,4,3,"ng-container",27),y["\u0275\u0275template"](48,kP,4,3,"ng-container",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](49,"th",23),y["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Entry_Date")}),y["\u0275\u0275text"](50),y["\u0275\u0275pipe"](51,"translate"),y["\u0275\u0275elementContainerStart"](52),y["\u0275\u0275element"](53,"i",24),y["\u0275\u0275template"](54,DP,1,0,"i",28),y["\u0275\u0275template"](55,BP,1,0,"i",29),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](56,"th",23),y["\u0275\u0275listener"]("click",function(){return t.GetCustomerReceiptsList("Name")}),y["\u0275\u0275text"](57),y["\u0275\u0275pipe"](58,"translate"),y["\u0275\u0275template"](59,NP,4,3,"ng-container",27),y["\u0275\u0275template"](60,TP,4,3,"ng-container",27),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](61,"th"),y["\u0275\u0275text"](62,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](63,"tbody"),y["\u0275\u0275template"](64,jP,14,9,"tr",30),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](65,zP,12,7,"div",31),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](66,"ngx-spinner",32),y["\u0275\u0275elementStart"](67,"p",33),y["\u0275\u0275text"](68," Loading... "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](5,24,"Receiving Voucher With No Receipt")),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](18,26,"Vendor Name")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("suggestions",t.CustomerAccountsList)("ngModel",t.VendorSearchname),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,28,"All")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](30,30,"Search")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",t.SearchValue),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](39,32,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_No"==t.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==t.sortColumn&&"asc"==t.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_No"==t.sortColumn&&"desc"==t.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](46,34,"Branch")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=t.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==t.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](51,36,"Date")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("hidden","Entry_Date"==t.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==t.sortColumn&&"asc"==t.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Entry_Date"==t.sortColumn&&"desc"==t.sortDirection),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](58,38,"custvendor")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=t.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==t.lang),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngForOf",t.ReceiptList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.totalCount>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[s.Qc,a.JJ,a.On,Oe.jx,a.Fj,i.O5,i.sg,x.Ro,w.N9,a.EJ,a.YN,a.Kr],pipes:[l.X$,i.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}']}),e})();class JP{constructor(){this.UserID=0,this.SubsidaryID=null,this.BranchID=null,this.Customer=null,this.CustomerId=null,this.FromReceiptCode=null,this.ToReceiptCode=null,this.ReceiptNumber=null,this.FromDateString="",this.ToDateString="",this.physicalnegativeinventoryid=0,this.salesreturneffect=0,this.Transiction=0,this.SearchValue="",this.Lang="",this.Skip=1,this.Take=10,this.allSelect=!1,this.isAllSelect=!1,this.selectedRows="",this.unSelectedRows="",this.orderby=""}}var QP=n(79996);let YP=(()=>{class e{constructor(e){this._http=e,this.baseUrl=xe.N.apiUrl}GetsubsidiaryDateFormate(e){return this._http.get(`${this.baseUrl}/Subsidiary/GetSubsidiariesDetailsByID?ID=${e}`).pipe((0,QP.U)(e=>e))}GetReciptsList(e){return this._http.post(this.baseUrl+"/TransferInvoices/GetReciptsList",e).pipe((0,QP.U)(e=>e))}GetCountReceiptList(e){return this._http.post(this.baseUrl+"/TransferInvoices/GetCountReceiptList",e).pipe((0,QP.U)(e=>e))}GetCurrencyForSubsidaryAndBaseCurrency(e){return this._http.get(`${this.baseUrl}/PostVouchers/GetCurrencyForSubsidaryAndBaseCurrency?SubsidiaryID=${e}`).pipe((0,QP.U)(e=>e))}TransferReceiptInsert(e){return this._http.post(this.baseUrl+"/TransferInvoices/TransferReceipt",e).pipe((0,QP.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275inject"](o.eN))},e.\u0275prov=y["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var HP=n(48724);const ZP=["RForm"];function KP(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",4),y["\u0275\u0275elementStart"](1,"h1",5),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function XP(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",68),y["\u0275\u0275text"](1," All "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function eO(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",68),y["\u0275\u0275text"](1," \u0627\u0644\u0643\u0644 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function tO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.name)}}function nO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.name_ar)}}function iO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",69),y["\u0275\u0275template"](1,tO,2,1,"span",1),y["\u0275\u0275template"](2,nO,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",null==e?null:e.id),y["\u0275\u0275property"]("selected",(null==e?null:e.id)==n._TransferInvoices.BranchID),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function rO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function aO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function oO(e,t){if(1&e&&(y["\u0275\u0275template"](0,rO,2,1,"div",1),y["\u0275\u0275template"](1,aO,2,1,"div",1)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function sO(e,t){1&e&&y["\u0275\u0275template"](0,oO,2,2,"ng-template",70)}function cO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span",73),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function lO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function dO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",71),y["\u0275\u0275template"](1,cO,2,1,"span",72),y["\u0275\u0275template"](2,lO,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function pO(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",68),y["\u0275\u0275text"](1," All "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function hO(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",68),y["\u0275\u0275text"](1," \u0627\u0644\u0643\u0644 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function mO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.codename)}}function uO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.codenamear)}}function gO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",74),y["\u0275\u0275template"](1,mO,2,1,"span",1),y["\u0275\u0275template"](2,uO,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",null==e?null:e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function _O(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",68),y["\u0275\u0275text"](1," All "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function CO(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"option",68),y["\u0275\u0275text"](1," \u0627\u0644\u0643\u0644 "),y["\u0275\u0275elementEnd"]()),2&e&&y["\u0275\u0275property"]("ngValue",null)}function fO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.codename)}}function vO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](null==e?null:e.codenamear)}}function yO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",74),y["\u0275\u0275template"](1,fO,2,1,"span",1),y["\u0275\u0275template"](2,vO,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",null==e?null:e.code),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function bO(e,t){1&e&&y["\u0275\u0275element"](0,"img",75)}function SO(e,t){1&e&&y["\u0275\u0275element"](0,"i",82)}function RO(e,t){1&e&&y["\u0275\u0275element"](0,"i",83)}function xO(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",78),y["\u0275\u0275template"](2,SO,1,0,"i",79),y["\u0275\u0275template"](3,RO,1,0,"i",80),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","Branch"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Branch"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Branch"==e.sortColumn&&"desc"==e.sortDirection)}}function MO(e,t){1&e&&y["\u0275\u0275element"](0,"i",82)}function IO(e,t){1&e&&y["\u0275\u0275element"](0,"i",83)}function PO(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",78),y["\u0275\u0275template"](2,MO,1,0,"i",79),y["\u0275\u0275template"](3,IO,1,0,"i",80),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","Branchar"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Branchar"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Branchar"==e.sortColumn&&"desc"==e.sortDirection)}}function OO(e,t){1&e&&y["\u0275\u0275element"](0,"i",82)}function EO(e,t){1&e&&y["\u0275\u0275element"](0,"i",83)}function wO(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",78),y["\u0275\u0275template"](2,OO,1,0,"i",79),y["\u0275\u0275template"](3,EO,1,0,"i",80),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","ReceiptType"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ReceiptType"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ReceiptType"==e.sortColumn&&"desc"==e.sortDirection)}}function kO(e,t){1&e&&y["\u0275\u0275element"](0,"i",82)}function DO(e,t){1&e&&y["\u0275\u0275element"](0,"i",83)}function BO(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",78),y["\u0275\u0275template"](2,kO,1,0,"i",79),y["\u0275\u0275template"](3,DO,1,0,"i",80),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","ReceiptTypear"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ReceiptTypear"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ReceiptTypear"==e.sortColumn&&"desc"==e.sortDirection)}}function LO(e,t){1&e&&y["\u0275\u0275element"](0,"i",82)}function FO(e,t){1&e&&y["\u0275\u0275element"](0,"i",83)}function NO(e,t){1&e&&y["\u0275\u0275element"](0,"i",82)}function VO(e,t){1&e&&y["\u0275\u0275element"](0,"i",83)}function qO(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",78),y["\u0275\u0275template"](2,NO,1,0,"i",79),y["\u0275\u0275template"](3,VO,1,0,"i",80),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","Customer"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Customer"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Customer"==e.sortColumn&&"desc"==e.sortDirection)}}function TO(e,t){1&e&&y["\u0275\u0275element"](0,"i",82)}function AO(e,t){1&e&&y["\u0275\u0275element"](0,"i",83)}function GO(e,t){if(1&e&&(y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275element"](1,"i",78),y["\u0275\u0275template"](2,TO,1,0,"i",79),y["\u0275\u0275template"](3,AO,1,0,"i",80),y["\u0275\u0275elementContainerEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("hidden","Customerar"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Customerar"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Customerar"==e.sortColumn&&"desc"==e.sortDirection)}}function UO(e,t){1&e&&y["\u0275\u0275element"](0,"i",82)}function $O(e,t){1&e&&y["\u0275\u0275element"](0,"i",83)}function jO(e,t){1&e&&y["\u0275\u0275element"](0,"i",82)}function zO(e,t){1&e&&y["\u0275\u0275element"](0,"i",83)}function WO(e,t){1&e&&y["\u0275\u0275element"](0,"i",82)}function JO(e,t){1&e&&y["\u0275\u0275element"](0,"i",83)}function QO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.branchname," ")}}function YO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.branchname_ar," ")}}function HO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.receipttypename," ")}}function ZO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.receipttypename_ar," ")}}function KO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.customername," ")}}function XO(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.customername_ar," ")}}function eE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.transctioncode," ")}}function tE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.transctioncodear," ")}}const nE=function(e){return{minimumFractionDigits:e}};function iE(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275elementStart"](2,"div",84),y["\u0275\u0275elementStart"](3,"input",85),y["\u0275\u0275listener"]("change",function(){const t=y["\u0275\u0275restoreView"](e).$implicit;return y["\u0275\u0275nextContext"](3).onRowSelect(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"td"),y["\u0275\u0275template"](5,QO,2,1,"span",1),y["\u0275\u0275template"](6,YO,2,1,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"td"),y["\u0275\u0275template"](8,HO,2,1,"span",1),y["\u0275\u0275template"](9,ZO,2,1,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"td"),y["\u0275\u0275text"](11),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](12,"td"),y["\u0275\u0275template"](13,KO,2,1,"span",1),y["\u0275\u0275template"](14,XO,2,1,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](15,"td"),y["\u0275\u0275text"](16),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"td"),y["\u0275\u0275text"](18),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"td"),y["\u0275\u0275text"](20),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"td"),y["\u0275\u0275template"](22,eE,2,1,"span",1),y["\u0275\u0275template"](23,tE,2,1,"span",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](24,"td",86),y["\u0275\u0275elementStart"](25,"a",87),y["\u0275\u0275element"](26,"i",88),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](3);y["\u0275\u0275styleMap"](n.getStyle(e)),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("checked",n._TransferInvoices.allSelect),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","en"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","en"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.entry_no," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","en"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.receiptdate," "),y["\u0275\u0275advance"](1),y["\u0275\u0275styleMap"]("en"==n.lang?"text-align: left !important;":"text-align: right !important;"),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",null==e?null:e.netvalue.toLocaleString(n.currencycode,y["\u0275\u0275pureFunction1"](18,nE,n.currencyprecision))," "),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.memo.trim()),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","en"==n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("href",n.ShowReceipt(e),y["\u0275\u0275sanitizeUrl"])}}function rE(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td",89),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](3,1,"NoData")))}function aE(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"table",76),y["\u0275\u0275elementStart"](1,"thead"),y["\u0275\u0275elementStart"](2,"tr"),y["\u0275\u0275element"](3,"th"),y["\u0275\u0275elementStart"](4,"th",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).columnSorting("Branch")}),y["\u0275\u0275template"](5,xO,4,3,"ng-container",1),y["\u0275\u0275template"](6,PO,4,3,"ng-container",1),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"th",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).columnSorting("ReceiptType")}),y["\u0275\u0275template"](10,wO,4,3,"ng-container",1),y["\u0275\u0275template"](11,BO,4,3,"ng-container",1),y["\u0275\u0275text"](12),y["\u0275\u0275pipe"](13,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"th",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).columnSorting("EntryNo")}),y["\u0275\u0275elementContainerStart"](15),y["\u0275\u0275element"](16,"i",78),y["\u0275\u0275template"](17,LO,1,0,"i",79),y["\u0275\u0275template"](18,FO,1,0,"i",80),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"th",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).columnSorting("Customer")}),y["\u0275\u0275template"](22,qO,4,3,"ng-container",1),y["\u0275\u0275template"](23,GO,4,3,"ng-container",1),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](26,"th",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).columnSorting("ReceiptDate")}),y["\u0275\u0275elementContainerStart"](27),y["\u0275\u0275element"](28,"i",78),y["\u0275\u0275template"](29,UO,1,0,"i",79),y["\u0275\u0275template"](30,$O,1,0,"i",80),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](31),y["\u0275\u0275pipe"](32,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](33,"th",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).columnSorting("value")}),y["\u0275\u0275elementContainerStart"](34),y["\u0275\u0275element"](35,"i",78),y["\u0275\u0275template"](36,jO,1,0,"i",79),y["\u0275\u0275template"](37,zO,1,0,"i",80),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](38),y["\u0275\u0275pipe"](39,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](40,"th",77),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).columnSorting("Memo")}),y["\u0275\u0275elementContainerStart"](41),y["\u0275\u0275element"](42,"i",78),y["\u0275\u0275template"](43,WO,1,0,"i",79),y["\u0275\u0275template"](44,JO,1,0,"i",80),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](45),y["\u0275\u0275pipe"](46,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](47,"th"),y["\u0275\u0275text"](48),y["\u0275\u0275pipe"](49,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](50,"th"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](51,"tbody"),y["\u0275\u0275template"](52,iE,27,20,"tr",81),y["\u0275\u0275template"](53,rE,4,3,"tr",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,28,"Branch")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](13,30,"VoucherType")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","EntryNo"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","EntryNo"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","EntryNo"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](20,32,"EntryNo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf","ar"!=e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,34,"Customer")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","ReceiptDate"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ReceiptDate"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ReceiptDate"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](32,36,"Date")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","value"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","value"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","value"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](39,38,"value")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","Memo"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Memo"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","Memo"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](46,40,"Memo")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](49,42,"Transiction")),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngForOf",e.ReceiptList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length)}}function oE(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",90),y["\u0275\u0275elementStart"](1,"ngb-pagination",91),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",92),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).PageSize=t}),y["\u0275\u0275elementStart"](5,"option",93),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"option",94),y["\u0275\u0275text"](9),y["\u0275\u0275pipe"](10,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"option",95),y["\u0275\u0275text"](12),y["\u0275\u0275pipe"](13,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"option",96),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",10)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](7,11,"10 items per page")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](10,13,"50 items per page")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](13,15,"100 items per page")," "),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](16,17,"200 items per page")," ")}}const sE=function(e,t){return{"invalid-data":e,"valid-data":t}},cE=function(){return{width:"100%"}},lE=function(e,t){return{"pd-invalid-data":e,"valid-data":t}};function dE(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275elementStart"](1,"section"),y["\u0275\u0275elementStart"](2,"div",6),y["\u0275\u0275elementStart"](3,"div",7),y["\u0275\u0275elementStart"](4,"div",8),y["\u0275\u0275elementStart"](5,"div",9),y["\u0275\u0275elementStart"](6,"h6",10),y["\u0275\u0275text"](7),y["\u0275\u0275pipe"](8,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"div",11),y["\u0275\u0275elementStart"](10,"div",12),y["\u0275\u0275elementStart"](11,"section"),y["\u0275\u0275elementStart"](12,"div",13),y["\u0275\u0275elementStart"](13,"div",12),y["\u0275\u0275elementStart"](14,"div",14),y["\u0275\u0275elementStart"](15,"div",15),y["\u0275\u0275elementStart"](16,"div",11),y["\u0275\u0275elementStart"](17,"form",16,17),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](18);return y["\u0275\u0275nextContext"]().viewAll(t)}),y["\u0275\u0275elementStart"](19,"div",4),y["\u0275\u0275elementStart"](20,"div",18),y["\u0275\u0275elementStart"](21,"div",19),y["\u0275\u0275elementStart"](22,"label",20),y["\u0275\u0275text"](23),y["\u0275\u0275pipe"](24,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"select",21,22),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._TransferInvoices.BranchID=t}),y["\u0275\u0275template"](27,XP,2,1,"option",23),y["\u0275\u0275template"](28,eO,2,1,"option",23),y["\u0275\u0275template"](29,iO,3,4,"option",24),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"div",18),y["\u0275\u0275elementStart"](31,"div",19),y["\u0275\u0275elementStart"](32,"label",25),y["\u0275\u0275text"](33),y["\u0275\u0275pipe"](34,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](35,"p-dropdown",26,27),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._TransferInvoices.Customer=t})("onChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeCustomers(t)}),y["\u0275\u0275pipe"](38,"translate"),y["\u0275\u0275template"](39,sO,1,0,void 0,1),y["\u0275\u0275template"](40,dO,3,2,"ng-template",28),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](41,"div",18),y["\u0275\u0275elementStart"](42,"div",19),y["\u0275\u0275elementStart"](43,"label",29),y["\u0275\u0275text"](44),y["\u0275\u0275pipe"](45,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](46,"input",30,31),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._TransferInvoices.FromDate=t})("focusout",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().FromDateChange(t.target.value)}),y["\u0275\u0275pipe"](48,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](49,"div",4),y["\u0275\u0275elementStart"](50,"div",18),y["\u0275\u0275elementStart"](51,"div",19),y["\u0275\u0275elementStart"](52,"label",32),y["\u0275\u0275text"](53),y["\u0275\u0275pipe"](54,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](55,"select",33,34),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._TransferInvoices.FromReceiptCode=t})("focusout",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().FromReceiptCodeChange(t.target.value)}),y["\u0275\u0275template"](57,pO,2,1,"option",23),y["\u0275\u0275template"](58,hO,2,1,"option",23),y["\u0275\u0275template"](59,gO,3,3,"option",35),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](60,"div",18),y["\u0275\u0275elementStart"](61,"div",19),y["\u0275\u0275elementStart"](62,"label",36),y["\u0275\u0275text"](63),y["\u0275\u0275pipe"](64,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](65,"select",37,38),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._TransferInvoices.ToReceiptCode=t})("focusout",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ToReceiptCodeChange(t.target.value)}),y["\u0275\u0275template"](67,_O,2,1,"option",23),y["\u0275\u0275template"](68,CO,2,1,"option",23),y["\u0275\u0275template"](69,yO,3,3,"option",35),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](70,"div",18),y["\u0275\u0275elementStart"](71,"div",19),y["\u0275\u0275elementStart"](72,"label",39),y["\u0275\u0275text"](73),y["\u0275\u0275pipe"](74,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](75,"input",40,41),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._TransferInvoices.ToDate=t})("focusout",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ToDateChange(t.target.value)}),y["\u0275\u0275pipe"](77,"date"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](78,"div",4),y["\u0275\u0275elementStart"](79,"div",18),y["\u0275\u0275elementStart"](80,"div",19),y["\u0275\u0275elementStart"](81,"label",42),y["\u0275\u0275text"](82),y["\u0275\u0275pipe"](83,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](84,"input",43,44),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._TransferInvoices.ReceiptNumber=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](86,"div",45),y["\u0275\u0275elementStart"](87,"button",46),y["\u0275\u0275element"](88,"i",47),y["\u0275\u0275text"](89),y["\u0275\u0275pipe"](90,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](91,"div",45),y["\u0275\u0275elementStart"](92,"button",48),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().Apply()}),y["\u0275\u0275element"](93,"i",47),y["\u0275\u0275text"](94),y["\u0275\u0275pipe"](95,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](96,"div",49),y["\u0275\u0275elementStart"](97,"div",45),y["\u0275\u0275element"](98,"div"),y["\u0275\u0275elementStart"](99,"div"),y["\u0275\u0275elementStart"](100,"input",50),y["\u0275\u0275listener"]("change",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().AllSelect()})("checkedChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._TransferInvoices.allSelect=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](101,"label",51),y["\u0275\u0275text"](102),y["\u0275\u0275pipe"](103,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](104,"div",4),y["\u0275\u0275elementStart"](105,"div",52),y["\u0275\u0275elementStart"](106,"div",14),y["\u0275\u0275elementStart"](107,"div",53),y["\u0275\u0275elementStart"](108,"div",4),y["\u0275\u0275elementStart"](109,"div",54),y["\u0275\u0275elementStart"](110,"div",55),y["\u0275\u0275elementStart"](111,"div",56),y["\u0275\u0275elementStart"](112,"div",4),y["\u0275\u0275elementStart"](113,"div",45),y["\u0275\u0275elementStart"](114,"button",57),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()}),y["\u0275\u0275element"](115,"i",47),y["\u0275\u0275text"](116),y["\u0275\u0275pipe"](117,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](118,"div",45),y["\u0275\u0275elementStart"](119,"button",58),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint()}),y["\u0275\u0275element"](120,"i",47),y["\u0275\u0275text"](121),y["\u0275\u0275pipe"](122,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](123,"div",59),y["\u0275\u0275elementStart"](124,"div",60),y["\u0275\u0275elementStart"](125,"label",61),y["\u0275\u0275text"](126),y["\u0275\u0275pipe"](127,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](128,"input",62,63),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._TransferInvoices.SearchValue=t})("keyup",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().TransferInvoicesSearch()}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](130,"div",15),y["\u0275\u0275elementStart"](131,"div",64),y["\u0275\u0275template"](132,bO,1,0,"img",65),y["\u0275\u0275template"](133,aE,54,44,"table",66),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](134,oE,17,19,"div",67),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](18),t=y["\u0275\u0275reference"](26),n=y["\u0275\u0275reference"](37),i=y["\u0275\u0275reference"](47),r=y["\u0275\u0275reference"](56),a=y["\u0275\u0275reference"](66),o=y["\u0275\u0275reference"](76),s=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](8,49,"TransferInvoices")," "),y["\u0275\u0275advance"](16),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](24,51,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._TransferInvoices.BranchID)("ngClass",y["\u0275\u0275pureFunction2"](85,sE,t.invalid&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",s.BranchList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](34,53,"Customer")),y["\u0275\u0275advance"](2),y["\u0275\u0275styleMap"](y["\u0275\u0275pureFunction0"](88,cE)),y["\u0275\u0275propertyInterpolate"]("filterBy","ar"==s.lang?"sugar":"sug"),y["\u0275\u0275propertyInterpolate"]("placeholder",y["\u0275\u0275pipeBind1"](38,55,"All")),y["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==s.lang?"sugar":"sug"),y["\u0275\u0275property"]("options",s.ALLCustomerList)("ngModel",s._TransferInvoices.Customer)("filter",!0)("ngClass",y["\u0275\u0275pureFunction2"](89,lE,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",s._TransferInvoices.Customer),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](45,57,"FromDate")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](48,59,s._TransferInvoices.FromDate,"yyyy-MM-dd"))("ngClass",y["\u0275\u0275pureFunction2"](92,sE,i.invalid,i.valid)),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](54,62,"FromReceiptCode")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._TransferInvoices.FromReceiptCode)("ngClass",y["\u0275\u0275pureFunction2"](95,sE,r.invalid&&e.submitted,r.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",s.ReceiptTypeList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](64,64,"ToReceiptCode")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._TransferInvoices.ToReceiptCode)("ngClass",y["\u0275\u0275pureFunction2"](98,sE,a.invalid&&e.submitted,a.valid&&e.submitted)),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf","ar"!=s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==s.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",s.ReceiptTypeList),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](74,66,"ToDate")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",y["\u0275\u0275pipeBind2"](77,68,s._TransferInvoices.ToDate,"yyyy-MM-dd"))("ngClass",y["\u0275\u0275pureFunction2"](101,sE,o.invalid,o.valid)),y["\u0275\u0275advance"](7),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](83,71,"EntryNum")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._TransferInvoices.ReceiptNumber),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](90,73,"ViewAll")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](95,75,"Apply")," "),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("checked",s._TransferInvoices.allSelect),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](103,77,"All")),y["\u0275\u0275advance"](14),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](117,79,"Excel")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](122,81,"Print")," "),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](127,83,"Search"),":"),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",s._TransferInvoices.SearchValue),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",s.isloading),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",!s.isloading),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",s.totalCount>0)}}let pE=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u){this._ReceiptSharedService=e,this._VoucherService=t,this._TransferInvoicesService=n,this._CustomerService=i,this.cd=r,this.toastr=a,this._router=o,this._generalService=s,this.translate=c,this._translateGlobalService=l,this.spinner=d,this._printService=h,this._Excel=m,this._authService=u,this.Typeparam=0,this.subsidiaryDateFormate="",this.subsidiaryID=0,this.ReceiptTypeCode=0,this.PageSize=10,this.PageNo=1,this.emptyDateMsg="",this.invalidDateMsg="",this.activateOneMsg="",this.ReceiptList=[],this.VoucherList=[],this.totalCount=0,this.BranchList=[],this.ReceiptTypeList=[],this.OperationTypeList=[],this.OtherVoucherList=[],this.selectedRows=[],this.unSelectedRows=[],this.PassedReceipt=[],this.faildReceipt=[],this.currencycode="en-US",this.currencyprecision=3,this.SelectBranchMsg="",this.EntryNumberMsg="",this.CloseFinancialPeriodMsg="",this.performActionMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.TransferInvoicesVoucher="",this.swalDetlateConfirmButtonText="",this.TransferErrorMsg="",this.DeleteRelationmsg="",this._TransferInvoices=new JP,this.isloading=!1,this.noData=!0,this.styled=!1,this.Branch="",this.ReceiptType="",this.EntryNo="",this.Vendor="",this.Customer="",this.Date="",this.value="",this.Memo="",this.passedMsg="",this.falidMsg="",this.close="",this.sortDirection="asc",this.sortColumn="",this.ReceiptCodeList=[],this.BasicCodeReceipt=0,this.Transaction_move=0,this.allCustomersearch=new HP.Rz,this.ALLCustomerList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.GetData(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["TransferInvoices","EmptyDateMsg","InvalidDateMsg","CloseFinancialPeriodMsg","PerformAction","ActivateOne","UnbalancedVouchers","ShowUnbalancedVouchers","Okay","Branch","VoucherType","EntryNo","Vendor","Customer","Date","value","Memo","TransferErrorMsg","passedMsg","falidMsg","Close"]).subscribe(e=>{document.title=e.TransferInvoices,this.TransferInvoicesVoucher=e.TransferInvoices,this.emptyDateMsg=e.EmptyDateMsg,this.invalidDateMsg=e.InvalidDateMsg,this.CloseFinancialPeriodMsg=e.CloseFinancialPeriodMsg,this.performActionMsg=e.PerformAction,this.activateOneMsg=e.ActivateOne,this.swalDeleteTitle=e.UnbalancedVouchers,this.swalDetlateText=e.ShowUnbalancedVouchers,this.swalDetlateConfirmButtonText=e.Okay,this.Branch=e.Branch,this.ReceiptType=e.VoucherType,this.EntryNo=e.EntryNo,this.Vendor=e.Vendor,this.Customer=e.Customer,this.Date=e.Date,this.value=e.value,this.Memo=e.Memo,this.TransferErrorMsg=e.TransferErrorMsg,this.passedMsg=e.passedMsg,this.falidMsg=e.falidMsg,this.close=e.Close}),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(e=>{this.subsidiaryID=this._generalService.SubsidiaryID,this.GetData()})}ngOnInit(){}TransferInvoicesSearch(){this.filterData&&(this.filterData.SearchValue=this._TransferInvoices.SearchValue.trim(),this.GetReciptsListWithCount(this.filterData))}GetData(){let e=this._VoucherService.AllActiveUserBranchddl(this.subsidiaryID),t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),n=this._TransferInvoicesService.GetsubsidiaryDateFormate(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);this.GetAllCustomer(),(0,be.D)([e,t,n,i]).subscribe(([e,t,n,i])=>{var r;this.BranchList=e,this.InventorySetting=i,this._TransferInvoices.physicalnegativeinventoryid=this.InventorySetting[0].physicalnegativeinventoryid,this._TransferInvoices.salesreturneffect=this.InventorySetting[0].salesreturneffect;const a=[51,52,53,54,50,55,88,64,60,63];this.ReceiptCodeList=t,this.ReceiptTypeList=t.filter(e=>a.includes(e.code)),this.subsidiaryDateFormate=n.date_format,this._TransferInvoices.FromDate=new Date((new Date).getFullYear(),(new Date).getMonth(),1),this._TransferInvoices.ToDate=new Date,this._TransferInvoices.FromDateString=`${this._TransferInvoices.FromDate.getFullYear()}-${this._TransferInvoices.FromDate.getMonth()+1}-${this._TransferInvoices.FromDate.getDate()}`,this._TransferInvoices.ToDateString=`${this._TransferInvoices.ToDate.getFullYear()}-${this._TransferInvoices.ToDate.getMonth()+1}-${this._TransferInvoices.ToDate.getDate()}`,this._TransferInvoices.FromDateString=this._TransferInvoices.FromDateString+" 00:00:00",this._TransferInvoices.ToDateString=this._TransferInvoices.ToDateString+" 23:59:59",this._TransferInvoices.BranchID=(null===(r=this.BranchList[0])||void 0===r?void 0:r.id)||null,this.cd.markForCheck()}),this.OperationTypeList=[{id:1,name:"Post",name_ar:"\u062a\u0631\u062d\u064a\u0644 "},{id:2,name:"UnPost",name_ar:"\u0625\u0644\u063a\u0627\u0621 \u062a\u0631\u062d\u064a\u0644"}]}GetAllCustomer(){this.allCustomersearch.SubsidiaryID=this.subsidiaryID,this.allCustomersearch.PageNo=1,this.allCustomersearch.PageSize=1e3,this.allCustomersearch.CustomerType=0,this._CustomerService.CustomerList(this.allCustomersearch).subscribe(e=>{this.ALLCustomerList=[{accountid:null,sug:"All",sugar:"\u0627\u0644\u0643\u0644"}].concat(e),this.cd.markForCheck()})}ChangeCustomers(e){this._TransferInvoices.CustomerId=e.value.accountid}FromDateChange(e){this._TransferInvoices.FromDate=new Date(e),this._TransferInvoices.FromDateString=e+" 00:00:00"}ToDateChange(e){this._TransferInvoices.ToDate=new Date(e),this._TransferInvoices.ToDateString=e+" 23:59:59"}FromReceiptCodeChange(e){this._TransferInvoices.FromReceiptCode==this._TransferInvoices.ToReceiptCode&&(this.toastr.error(this.TransferErrorMsg),this._TransferInvoices.FromReceiptCode=null,this.cd.markForCheck())}ToReceiptCodeChange(e){if(this._TransferInvoices.FromReceiptCode==this._TransferInvoices.ToReceiptCode)this.toastr.error(this.TransferErrorMsg),this._TransferInvoices.ToReceiptCode=null,this.cd.markForCheck();else{let t=this.ReceiptCodeList.find(t=>t.code==e);this.Transaction_move=t.items,this._TransferInvoices.Transiction=this.Transaction_move}}onEdit(e){}getCurrency(e){this._TransferInvoicesService.GetCurrencyForSubsidaryAndBaseCurrency(e).subscribe(e=>{this.currencycode=e[0].currencycode,this.currencyprecision=e[0].currencyprecision,this.cd.markForCheck()})}viewAll(e){if(e.form.valid)if(this._TransferInvoices.SubsidaryID=parseInt(this.subsidiaryID.toString()),this.filterData=Object.assign({},this._TransferInvoices),""==this._TransferInvoices.FromDateString||""==this._TransferInvoices.FromDateString)this.toastr.error(this.emptyDateMsg);else{if(this._TransferInvoices.ToDate<this._TransferInvoices.FromDate)return void this.toastr.error(this.invalidDateMsg);this.filterData.BranchID=null==this._TransferInvoices.BranchID||"null"==this._TransferInvoices.BranchID?0:parseInt(this._TransferInvoices.BranchID),this.filterData.CustomerId=null==this._TransferInvoices.CustomerId||"null"==this._TransferInvoices.CustomerId?0:parseInt(this._TransferInvoices.CustomerId),null==this._TransferInvoices.ReceiptNumber&&(this.filterData.ReceiptNumber=0),this.filterData.FromReceiptCode=null==this._TransferInvoices.FromReceiptCode||"null"==this._TransferInvoices.FromReceiptCode?0:parseInt(this._TransferInvoices.FromReceiptCode),this.filterData.ToReceiptCode=null==this._TransferInvoices.ToReceiptCode||"null"==this._TransferInvoices.ToReceiptCode?0:parseInt(this._TransferInvoices.ToReceiptCode),this.totalCount=0,this.PageNo=1,this.PageSize=10,this.filterData.Skip=1,this.filterData.SearchValue="",this._TransferInvoices.SearchValue="",this.GetReciptsListWithCount(this.filterData)}}columnSorting(e=null){0!==Object.keys(this.filterData).length&&(this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("Branch"!=this.sortColumn&&"ReceiptType"!=this.sortColumn&&"Customer"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this.filterData.orderby=this.sortColumn+"."+this.sortDirection),this.filterData.Skip=1,this.PageNo=1,this.GetReciptsListWithCount(this.filterData))}GetReciptsListWithCount(e){this.isloading=!0;let t=this._TransferInvoicesService.GetReciptsList(e);(0,be.D)([t]).subscribe(([t])=>{"closed"==t?(this.toastr.error(this.CloseFinancialPeriodMsg),this.PassedReceipt=[],this.faildReceipt=[],this.ReceiptList=[],this.totalCount=0,this.selectedRows=[],this.unSelectedRows=[],this.filterData.selectedRows="",this.filterData.unSelectedRows=""):0==t.length?(this.PassedReceipt=[],this.faildReceipt=[],this.ReceiptList=[],this.totalCount=0,this.selectedRows=[],this.unSelectedRows=[],this.filterData.selectedRows="",this.filterData.unSelectedRows=""):(this.PassedReceipt=[],this.faildReceipt=[],this.GetCountReceiptList(e),this.getCurrency(this._TransferInvoices.SubsidaryID),this.ReceiptList=t,this.cd.markForCheck(),this.selectedRows=[],this.unSelectedRows=[],this._TransferInvoices.isAllSelect=!1,this._TransferInvoices.allSelect=!1,this.filterData.selectedRows="",this.filterData.unSelectedRows=""),this.isloading=!1,this.cd.markForCheck()})}GetReciptsList(e){this.isloading=!0;let t=this._TransferInvoicesService.GetReciptsList(e);(0,be.D)([t]).subscribe(([e])=>{"closed"==e?(this.toastr.error(this.CloseFinancialPeriodMsg),this.PassedReceipt=[],this.faildReceipt=[],this.ReceiptList=[],this.selectedRows=[],this.unSelectedRows=[],this.filterData.selectedRows="",this.filterData.unSelectedRows=""):0==e.length?(this.PassedReceipt=[],this.faildReceipt=[],this.ReceiptList=[],this.selectedRows=[],this.unSelectedRows=[],this.filterData.selectedRows="",this.filterData.unSelectedRows=""):(this.ReceiptList=e,this.PassedReceipt=[],this.faildReceipt=[],this.selectedRows=[],this.unSelectedRows=[],this.filterData.selectedRows="",this.filterData.unSelectedRows="",this._TransferInvoices.isAllSelect=1==this._TransferInvoices.allSelect),this.isloading=!1,this.cd.markForCheck()})}GetCountReceiptList(e){this._TransferInvoicesService.GetCountReceiptList(e).subscribe(e=>{this.totalCount=e[0].total,console.log(this.totalCount,"s"),this.cd.markForCheck()})}onRowSelect(e){1==this._TransferInvoices.isAllSelect?(this._TransferInvoices.isAllSelect=!1,this.unSelectedRows.push(e.receiptid)):0==this.unSelectedRows.length?this.selectedRows.indexOf(e.receiptid)>-1?this.selectedRows.splice(this.selectedRows.indexOf(e.receiptid),1):this.selectedRows.push(e.receiptid):this.unSelectedRows.indexOf(e.receiptid)>-1?(this.unSelectedRows.splice(this.unSelectedRows.indexOf(e.receiptid),1),0==this.unSelectedRows.length&&(this._TransferInvoices.isAllSelect=!0,this.selectedRows=[],this.unSelectedRows=[],this.filterData.selectedRows="",this.filterData.unSelectedRows="")):this.unSelectedRows.push(e.receiptid)}AllSelect(){0==this.ReceiptList.length||1==this._TransferInvoices.allSelect?(this._TransferInvoices.allSelect=!1,this._TransferInvoices.isAllSelect=!1,this.selectedRows=[],this.unSelectedRows=[],this.filterData.selectedRows="",this.filterData.unSelectedRows=""):(this._TransferInvoices.allSelect=!0,this._TransferInvoices.isAllSelect=!0,this.selectedRows=[],this.unSelectedRows=[],this.ReceiptList.forEach(e=>this.selectedRows.push(e.receiptid)),this.filterData.selectedRows="",this.filterData.unSelectedRows="")}Apply(){0==this.ReceiptList.length?this.toastr.error(this.performActionMsg):0==this._TransferInvoices.isAllSelect&&0==this.selectedRows.length&&0==this.unSelectedRows.length?this.toastr.error(this.activateOneMsg):(this.filterData.allSelect=this._TransferInvoices.allSelect,this.filterData.isAllSelect=this._TransferInvoices.isAllSelect,1==this._TransferInvoices.isAllSelect||this.selectedRows.length>0?(this.filterData.selectedRows=this.selectedRows.join(","),this.updateRows(this.filterData)):(this.filterData.unSelectedRows=this.unSelectedRows.join(","),this.updateRows(this.filterData)))}updateRows(e){this.spinner.show(),this._TransferInvoicesService.TransferReceiptInsert(e).subscribe(e=>{e?(""!=e.passedreceiptsid&&null!=e.passedreceiptsid&&(this.PassedReceipt=e.passedreceiptsid.split(",").map(Number)),""!=e.faildreceiptsid&&null!=e.faildreceiptsid&&(this.faildReceipt=e.faildreceiptsid.split(",").map(Number)),this.spinner.hide(),this.cd.markForCheck(),ye().fire({text:this.passedMsg+this.PassedReceipt.length+"\n"+this.falidMsg+this.faildReceipt.length,showCancelButton:!1,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.close,customClass:{confirmButton:"btn btn-danger",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{})):(this.toastr.error("Somethings is error"),this.spinner.hide(),this.cd.markForCheck())})}getStyle(e){const t=this.faildReceipt.includes(e.receiptid),n=this.PassedReceipt.includes(e.receiptid),i=this.selectedRows.indexOf(e.receiptid)>-1||this._TransferInvoices.isAllSelect||-1==this.unSelectedRows.indexOf(e.receiptid)&&0!=this.unSelectedRows.length;return t?"background-color: red;":n?"background-color: green;":i?"background-color: #B0BED9;":""}ShowReceipt(e){return 51===e.code?`/page/receivables/cashsales/${e.receiptid}`:52===e.code?`/page/receivables/creditsales/${e.receiptid}`:53===e.code?`/page/receivables/cashreturn/${e.receiptid}`:54===e.code?`/page/receivables/creditreturn/${e.receiptid}`:50===e.code?`/page/receivables/quotations/${e.receiptid}`:88===e.code?`/page/receivables/salesorder/${e.receiptid}`:64===e.code?`/page/inventorytransiction/issuerequest/${e.receiptid}`:60===e.code?`/page/inventorytransiction/issuevoucher/${e.receiptid}`:63===e.code?`/page/inventorytransiction/issuereturn/${e.receiptid}`:55===e.code?`/page/inventorytransiction/performa/${e.receiptid}`:""}OnExcel(){let e=[];this.filterData.Skip=1,this.filterData.Take=1e4,this._TransferInvoicesService.GetReciptsList(this.filterData).subscribe(t=>{t.forEach(t=>{let n;n="ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchname_ar,"\u0646\u0648\u0639 \u0627\u0644\u0633\u0646\u062f":t.receipttypename_ar,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0645\u0648\u0631\u062f / \u0639\u0645\u064a\u0644":t.customername_ar,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.receiptdate,"\u0627\u0644\u0642\u064a\u0645\u0629":t.netvalue.toLocaleString(this.currencycode,{minimumFractionDigits:this.currencyprecision}),"\u0627\u0644\u0628\u064a\u0627\u0646":t.memo.trim()}:{Branch:t.branchname,"Receipt Type":t.receipttypename,"Entry No":t.entry_no,"Vendor / Customer":t.customername,Date:t.receiptdate,value:t.netvalue.toLocaleString(this.currencycode,{minimumFractionDigits:this.currencyprecision}),Memo:t.memo.trim()},e.push(n)}),this._Excel.exportAsExcelFile(e,this.TransferInvoicesVoucher)})}OnPrint(){let e="",t="ar"==this.lang?"rtl":"ltr";this.filterData.Skip=1,this.filterData.Take=1e4,this._TransferInvoicesService.GetReciptsList(this.filterData).subscribe(n=>{e="\n        <h3>"+this.TransferInvoicesVoucher+`</h3>\n            <table class="table m-0 table table-striped" style="width:100%; border: 1px solid black;\n            border-collapse: collapse;text-align:left;" dir = ${t}>\n                  <theadstyle="border: 1px solid black;\n                  border-collapse: collapse;">\n                    <tr style="background: #e9f1f5;color: cornflowerblue;">\n                      <th></th>\n                      <th>`+this.Branch+"</th>\n                      <th>"+this.ReceiptType+"</th>\n                      <th>"+this.EntryNo+"</th>\n                      <th>"+this.Vendor+"\\"+this.Customer+"</th>\n                      <th>"+this.Date+"</th>\n                      <th>"+this.value+"</th>\n                      <th>"+this.Memo+"</th>\n                      <th></th>\n                    </tr>\n                  </thead>\n              <tbody>\n          ",n.map(t=>{e+=`\n         <tr>\n          <td></td>\n          <td>${"ar"==this.lang?t.branchname_ar:t.branchname}</td>\n          <td>${"ar"==this.lang?t.receipttypename_ar:t.receipttypename}</td>\n          <td>${t.entry_no}</td>\n          <td>${"ar"==this.lang?t.customername_ar:t.customername}</td>\n          <td>${t.receiptdate}</td>\n          <td>${t.netvalue.toLocaleString(this.currencycode,{minimumFractionDigits:this.currencyprecision})}</td>\n          <td>${t.memo.trim()}</td>\n          <td></td>\n         </tr>\n         `}),e+="</tbody></table>",this._printService.OnPrintContent(e)})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this.filterData.Skip=e,this.PageNo=e,this.GetReciptsList(this.filterData)}onPageSizeChange(e){this.filterData.Take=e,this.PageSize=e,this.GetReciptsList(this.filterData)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](Re.H),y["\u0275\u0275directiveInject"](YP),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](P.x),y["\u0275\u0275directiveInject"](M.e))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["TransferInvoices"]],viewQuery:function(e,t){if(1&e&&y["\u0275\u0275viewQuery"](ZP,5),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([Re.H,f.t,YP,Se.v])],decls:5,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"row","match-height"],[1,"card","transparent-BG","box-shadow-none"],[1,"card-content"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","id","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["Branch","ngModel"],[3,"ngValue",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],["for","Customer",1,"label"],["scrollHeight","400px","name","customers",3,"options","ngModel","filter","filterBy","placeholder","optionLabel","ngClass","ngModelChange","onChange"],["autoCustomerAccounts","","customers","ngModel"],["pTemplate","item"],["for","FromDate"],["type","date","id","FromDate","name","FromDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["FromDate","ngModel"],["for","FromReceiptCode"],["name","FromReceiptCode","id","FromReceiptCode","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["FromReceiptCode","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","ToReceiptCode"],["name","ToReceiptCode","id","ToReceiptCode","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["ToReceiptCode","ngModel"],["for","ToDate"],["type","date","id","ToDate","name","ToDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["ToDate","ngModel"],["for","EntryNum"],["type","number","id","EntryNum","name","EntryNum","min","0","PositiveNumbersOnly","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-2","col-md-2","col-sm-12"],["type","submit",1,"btn","btn-primary","mt-3","btn-md","mr-2","mb-2"],[1,""],["type","button",1,"btn","btn-primary","mt-3","btn-md","mr-2","mb-2",3,"click"],[1,"row","mt-3","mb-3"],["type","checkbox","id","exampleCheck1",3,"checked","change","checkedChange"],["for","exampleCheck1",1,"form-check-label","mr-3"],[1,"col-12","p-0"],[1,"card-header","p-0"],[1,"col-12","d-flex","justify-content-between"],[1,"col-lg-4","col-md-4","col-sm-6"],[1,"form-group","row"],[1,"btn","btn-success","btn-md","mr-2","mb-2",3,"click"],[1,"btn","btn-warning","btn-md","mr-4","mb-2",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"card-body","table-responsive"],["src","../../../../assets/img/loading/loading.gif",4,"ngIf"],["class","table text-center m-0 table table-striped",4,"ngIf"],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"ngValue"],[3,"value","selected"],["pTemplate","CustomerAccountsTemplate"],[1,"item-drop1"],["class","item-value1",4,"ngIf"],[1,"item-value1"],[3,"value"],["src","../../../../assets/img/loading/loading.gif"],[1,"table","text-center","m-0","table","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[3,"style",4,"ngFor","ngForOf"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[1,"custom-control","custom-checkbox"],["type","checkbox",3,"checked","change"],[1,"text-truncate"],["target","_blank",1,"p-0",3,"href"],["aria-hidden","true",1,"fa","fa-file"],["colspan","9"],[1,"d-flex","justify-content-between","p-2"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"],["Value","200"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,KP,4,3,"div",0),y["\u0275\u0275template"](1,dE,135,104,"div",1),y["\u0275\u0275elementStart"](2,"ngx-spinner",2),y["\u0275\u0275elementStart"](3,"p",3),y["\u0275\u0275text"](4,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(17113)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(17113)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,i.mk,i.sg,g.Lt,Oe.jx,a.Fj,a.qQ,a.wV,E.K,a.YN,a.Kr,w.N9],pipes:[l.X$,i.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.headerform[_ngcontent-%COMP%]{color:#fff;height:44px;margin-bottom:17px}.custom-style-posting-table-part[_ngcontent-%COMP%]{border:.5px solid #d3d3d3;border-radius:5px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}']}),e})();var hE=n(53233);class mE{constructor(){this.pageNo=1,this.pageSize=10,this.orderBy="Code.Asc",this.subsidiaryId=1,this.searchValue="",this.branchID=0}}class uE{constructor(){this.code=null,this.branchid=null,this.branch=null,this.storeid=null,this.accounttype=!1,this.customerid=null,this.customer=null,this.receipt=[]}}let gE=(()=>{class e{constructor(e){this.http=e,this.baseUrl=xe.N.apiUrl}GetAllServiceIssueVoucher(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/GetAllServiceIssueVoucher",e).pipe((0,QP.U)(e=>e))}GetServiceIssueVoucherCount(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/GetServiceIssueVoucherCount",e).pipe((0,QP.U)(e=>e))}GetServiceIssueVoucherByID(e,t){return this.http.get(`${this.baseUrl}/ServiceIssueVoucher/GetServiceIssueVoucherByID?ID=${e}&SubsidaryId=${t}`).pipe((0,QP.U)(e=>e))}AddServiceIssueVoucher(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/AddServiceIssueVoucher",e).pipe((0,QP.U)(e=>e))}UpdateServiceIssueVoucher(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/UpdateServiceIssueVoucher",e).pipe((0,QP.U)(e=>e))}GetAllInvoicesIssuesItems(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/GetAllInvoicesIssuesItems",e).pipe((0,QP.U)(e=>e))}DeleteServiceIssueComponent(e){return this.http.get(`${this.baseUrl}/ServiceIssueVoucher/DeleteServiceIssueComponent?Id=${e}`).pipe((0,QP.U)(e=>e))}GetMaxCode(e,t){return this.http.get(`${this.baseUrl}/ServiceIssueVoucher/GetMaxCode?SubsidiaryId=${e}&BranchID=${t}`).pipe((0,QP.U)(e=>e))}CheckDate(e){return this.http.post(this.baseUrl+"/ServiceIssueVoucher/CheckDate",e).pipe((0,QP.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275inject"](o.eN))},e.\u0275prov=y["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var _E=n(40430);const CE=["RForm"];function fE(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",5),y["\u0275\u0275elementStart"](1,"h1"),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function vE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function yE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function bE(e,t){if(1&e&&(y["\u0275\u0275template"](0,vE,2,1,"div",22),y["\u0275\u0275template"](1,yE,2,1,"div",22)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function SE(e,t){1&e&&y["\u0275\u0275template"](0,bE,2,2,"ng-template",46)}function RE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span",49),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function xE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function ME(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div",47),y["\u0275\u0275template"](1,RE,2,1,"span",48),y["\u0275\u0275template"](2,xE,2,1,"span",22),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function IE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function PE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function OE(e,t){if(1&e&&(y["\u0275\u0275template"](0,IE,2,1,"div",22),y["\u0275\u0275template"](1,PE,2,1,"div",22)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const EE=function(e,t){return{"invalid-data":e,"valid-data":t}};function wE(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"p-autoComplete",50,51),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](1);return y["\u0275\u0275nextContext"](2).onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Wrapper.customer=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CustomerAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onClearCustomer(t)}),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275template"](4,OE,2,2,"ng-template",52),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](10),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngModel",n._Wrapper.customer)("suggestions",n.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",y["\u0275\u0275pureFunction2"](8,EE,e.invalid&&t.submitted,e.valid&&t.submitted))}}function kE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sugar)}}function DE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"div"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.sug)}}function BE(e,t){if(1&e&&(y["\u0275\u0275template"](0,kE,2,1,"div",22),y["\u0275\u0275template"](1,DE,2,1,"div",22)),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275property"]("ngIf","ar"==e.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function LE(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"p-autoComplete",53,54),y["\u0275\u0275listener"]("onFocus",function(t){y["\u0275\u0275restoreView"](e);const n=y["\u0275\u0275reference"](1);return y["\u0275\u0275nextContext"](2).onFocusInOtherAccounts(t),n.show()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2)._Wrapper.customer=t})("onSelect",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).OtherAccountsChangeSearch(t)})("onClear",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).onClearCustomer(t)}),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275template"](4,BE,2,2,"ng-template",55),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](2);y["\u0275\u0275nextContext"]();const t=y["\u0275\u0275reference"](10),n=y["\u0275\u0275nextContext"]();y["\u0275\u0275property"]("ngModel",n._Wrapper.customer)("suggestions",n.OtherAccountsList)("showEmptyMessage",!0)("emptyMessage",y["\u0275\u0275pipeBind1"](3,6,"NoResultsFound"))("forceSelection",!0)("ngClass",y["\u0275\u0275pureFunction2"](8,EE,e.invalid&&t.submitted,e.valid&&t.submitted))}}function FE(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"button",56),y["\u0275\u0275element"](1,"i",57),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"]("",y["\u0275\u0275pipeBind1"](3,1,"Apply")," "))}function NE(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"button",40),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).DeleteAction()}),y["\u0275\u0275text"](1),y["\u0275\u0275pipe"](2,"translate"),y["\u0275\u0275elementEnd"]()}2&e&&(y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](2,1,"Delete")," "))}function VE(e,t){1&e&&y["\u0275\u0275element"](0,"img",58)}function qE(e,t){1&e&&y["\u0275\u0275element"](0,"i",65)}function TE(e,t){1&e&&y["\u0275\u0275element"](0,"i",66)}function AE(e,t){1&e&&y["\u0275\u0275element"](0,"i",65)}function GE(e,t){1&e&&y["\u0275\u0275element"](0,"i",66)}function UE(e,t){1&e&&y["\u0275\u0275element"](0,"i",65)}function $E(e,t){1&e&&y["\u0275\u0275element"](0,"i",66)}function jE(e,t){1&e&&y["\u0275\u0275element"](0,"i",65)}function zE(e,t){1&e&&y["\u0275\u0275element"](0,"i",66)}function WE(e,t){1&e&&y["\u0275\u0275element"](0,"i",65)}function JE(e,t){1&e&&y["\u0275\u0275element"](0,"i",66)}function QE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"a",69),y["\u0275\u0275elementStart"](1,"span"),y["\u0275\u0275element"](2,"i",70),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuevoucher/",null==e?null:e.id,"/show")}}function YE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"a",69),y["\u0275\u0275elementStart"](1,"span"),y["\u0275\u0275element"](2,"i",70),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275propertyInterpolate1"]("routerLink","/page/inventorytransiction/issuereturn/",null==e?null:e.id,"/show")}}function HE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tr"),y["\u0275\u0275elementStart"](1,"td"),y["\u0275\u0275text"](2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](3,"td"),y["\u0275\u0275text"](4),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](5,"td"),y["\u0275\u0275text"](6),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](7,"td"),y["\u0275\u0275text"](8),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](9,"td"),y["\u0275\u0275text"](10),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"td"),y["\u0275\u0275template"](12,QE,3,1,"a",68),y["\u0275\u0275template"](13,YE,3,1,"a",68),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.billno),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.transaction),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.date),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.customername),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](null==e?null:e.amount),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",60==e.transictionid),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",63==e.transictionid)}}function ZE(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275template"](1,HE,14,7,"tr",67),y["\u0275\u0275pipe"](2,"slice"),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"](3);y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",y["\u0275\u0275pipeBind3"](2,1,e.VoucherDetailLists,(e.PageNo-1)*e.PageSize,e.PageNo*e.PageSize))}}function KE(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"tbody"),y["\u0275\u0275elementStart"](1,"tr",71),y["\u0275\u0275elementStart"](2,"td",72),y["\u0275\u0275text"](3),y["\u0275\u0275pipe"](4,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](4,1,"NoData")))}function XE(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"table",59),y["\u0275\u0275elementStart"](1,"thead"),y["\u0275\u0275elementStart"](2,"tr"),y["\u0275\u0275elementStart"](3,"th",60),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).VoucherDetailListsSort("billno")}),y["\u0275\u0275elementContainerStart"](4),y["\u0275\u0275element"](5,"i",61),y["\u0275\u0275template"](6,qE,1,0,"i",62),y["\u0275\u0275template"](7,TE,1,0,"i",63),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](8),y["\u0275\u0275pipe"](9,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](10,"th",60),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).VoucherDetailListsSort("transaction")}),y["\u0275\u0275elementContainerStart"](11),y["\u0275\u0275element"](12,"i",61),y["\u0275\u0275template"](13,AE,1,0,"i",62),y["\u0275\u0275template"](14,GE,1,0,"i",63),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"th",60),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).VoucherDetailListsSort("date")}),y["\u0275\u0275elementContainerStart"](18),y["\u0275\u0275element"](19,"i",61),y["\u0275\u0275template"](20,UE,1,0,"i",62),y["\u0275\u0275template"](21,$E,1,0,"i",63),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](22),y["\u0275\u0275pipe"](23,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](24,"th",64),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).VoucherDetailListsSort("customername")}),y["\u0275\u0275elementContainerStart"](25),y["\u0275\u0275element"](26,"i",61),y["\u0275\u0275template"](27,jE,1,0,"i",62),y["\u0275\u0275template"](28,zE,1,0,"i",63),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](29),y["\u0275\u0275pipe"](30,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](31,"th",60),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"](2).VoucherDetailListsSort("amount")}),y["\u0275\u0275elementContainerStart"](32),y["\u0275\u0275element"](33,"i",61),y["\u0275\u0275template"](34,WE,1,0,"i",62),y["\u0275\u0275template"](35,JE,1,0,"i",63),y["\u0275\u0275elementContainerEnd"](),y["\u0275\u0275text"](36),y["\u0275\u0275pipe"](37,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](38,"th"),y["\u0275\u0275text"](39,"\xa0"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](40,ZE,3,5,"tbody",22),y["\u0275\u0275template"](41,KE,5,3,"tbody",22),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"](2);y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("hidden","billno"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","billno"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","billno"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](9,22,"BillNo")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","transaction"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","transaction"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","transaction"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](16,24,"Transaction")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","date"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","date"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","date"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](23,26,"Date")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","customername"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","customername"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","customername"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](30,28,"custvendor")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("hidden","amount"==e.sortColumn),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","amount"==e.sortColumn&&"asc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","amount"==e.sortColumn&&"desc"==e.sortDirection),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](37,30,"Amount")," "),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",e.VoucherDetailLists.length>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",0==e.VoucherDetailLists.length)}}const ew=function(){return{width:"100%"}},tw=function(e,t){return{"pd-invalid-data":e,"valid-data":t}};function nw(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",6),y["\u0275\u0275elementStart"](1,"div",7),y["\u0275\u0275elementStart"](2,"div",8),y["\u0275\u0275elementStart"](3,"h6",9),y["\u0275\u0275text"](4),y["\u0275\u0275pipe"](5,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](6,"div",10),y["\u0275\u0275elementStart"](7,"div",11),y["\u0275\u0275elementStart"](8,"section"),y["\u0275\u0275elementStart"](9,"form",12,13),y["\u0275\u0275listener"]("ngSubmit",function(){y["\u0275\u0275restoreView"](e);const t=y["\u0275\u0275reference"](10);return y["\u0275\u0275nextContext"]().preview(t)}),y["\u0275\u0275elementStart"](11,"div",5),y["\u0275\u0275elementStart"](12,"div",14),y["\u0275\u0275elementStart"](13,"div",15),y["\u0275\u0275elementStart"](14,"label",16),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](17,"input",17,18),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.code=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](19,"div",14),y["\u0275\u0275elementStart"](20,"div",15),y["\u0275\u0275elementStart"](21,"label",19),y["\u0275\u0275text"](22),y["\u0275\u0275pipe"](23,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](24,"p-dropdown",20,21),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.branch=t})("onChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t)}),y["\u0275\u0275pipe"](27,"translate"),y["\u0275\u0275template"](28,SE,1,0,void 0,22),y["\u0275\u0275template"](29,ME,3,2,"ng-template",23),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](30,"div",24),y["\u0275\u0275elementStart"](31,"div",15),y["\u0275\u0275elementStart"](32,"label"),y["\u0275\u0275elementStart"](33,"input",25),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.accounttype=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](34,"span",26),y["\u0275\u0275text"](35,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](36,"span",27),y["\u0275\u0275text"](37),y["\u0275\u0275pipe"](38,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](39,"label",28),y["\u0275\u0275elementStart"](40,"input",25),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onMainAccountRadioClick()})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.accounttype=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](41,"span",26),y["\u0275\u0275text"](42,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](43,"span",27),y["\u0275\u0275text"](44),y["\u0275\u0275pipe"](45,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](46,wE,5,11,"p-autoComplete",29),y["\u0275\u0275template"](47,LE,5,11,"p-autoComplete",30),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](48,"div",5),y["\u0275\u0275elementStart"](49,"div",31),y["\u0275\u0275elementStart"](50,"div",15),y["\u0275\u0275elementStart"](51,"label",32),y["\u0275\u0275text"](52),y["\u0275\u0275pipe"](53,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](54,"input",33,34),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.fromdate=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](56,"div",31),y["\u0275\u0275elementStart"](57,"div",15),y["\u0275\u0275elementStart"](58,"label",35),y["\u0275\u0275text"](59),y["\u0275\u0275pipe"](60,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](61,"input",36,37),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]()._Wrapper.todate=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](63,"div",31),y["\u0275\u0275template"](64,FE,4,3,"button",38),y["\u0275\u0275template"](65,NE,3,3,"button",39),y["\u0275\u0275elementStart"](66,"button",40),y["\u0275\u0275listener"]("click",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BackAction()}),y["\u0275\u0275text"](67),y["\u0275\u0275pipe"](68,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](69,"div",5),y["\u0275\u0275elementStart"](70,"div",11),y["\u0275\u0275elementStart"](71,"div",41),y["\u0275\u0275elementStart"](72,"div",42),y["\u0275\u0275template"](73,VE,1,0,"img",43),y["\u0275\u0275elementStart"](74,"div",44),y["\u0275\u0275template"](75,XE,42,32,"table",45),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275reference"](10),t=y["\u0275\u0275reference"](26),n=y["\u0275\u0275reference"](55),i=y["\u0275\u0275reference"](62),r=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](5,37,"ServiceIssueComponents")," "),y["\u0275\u0275advance"](11),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](16,39,"Entry#")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("stepallow",1)("ngModel",r._Wrapper.code)("Min",1)("CheckMin",!0)("readonly",!0),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](23,41,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275styleMap"](y["\u0275\u0275pureFunction0"](55,ew)),y["\u0275\u0275propertyInterpolate"]("filterBy","ar"==r.lang?"name_ar":"name"),y["\u0275\u0275propertyInterpolate"]("placeholder",y["\u0275\u0275pipeBind1"](27,43,"All")),y["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==r.lang?"name_ar":"name"),y["\u0275\u0275property"]("options",r.BranchList)("ngModel",r._Wrapper.branch)("filter",!0)("ngClass",y["\u0275\u0275pureFunction2"](56,tw,(t.invalid||null==r._Wrapper.branchid)&&e.submitted,t.valid&&e.submitted)),y["\u0275\u0275advance"](4),y["\u0275\u0275property"]("ngIf",r._Wrapper.branch),y["\u0275\u0275advance"](5),y["\u0275\u0275property"]("ngModel",r._Wrapper.accounttype)("value",!1),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](38,45,"Customer#")),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngModel",r._Wrapper.accounttype)("value",!0),y["\u0275\u0275advance"](4),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](45,47,"OtherAccount")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",0==r._Wrapper.accounttype),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",1==r._Wrapper.accounttype),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](53,49,"fromDate")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",r._Wrapper.fromdate)("ngClass",y["\u0275\u0275pureFunction2"](59,EE,n.invalid&&e.submitted,n.valid&&e.submitted)),y["\u0275\u0275advance"](5),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](60,51,"toDate")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",r._Wrapper.todate)("ngClass",y["\u0275\u0275pureFunction2"](62,EE,i.invalid&&e.submitted,i.valid&&e.submitted)),y["\u0275\u0275advance"](3),y["\u0275\u0275property"]("ngIf",0==r._Wrapper.id||null==r._Wrapper.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",r._Wrapper.id>0&&r.checkRoleParms(r.Permission.Delete)&&0==r.Show),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](68,53,"Exit")," "),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngIf",r.isloading),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",!r.isloading)}}function iw(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementStart"](0,"div",73),y["\u0275\u0275elementStart"](1,"ngb-pagination",74),y["\u0275\u0275listener"]("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onPageChange(t)})("pageChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().PageNo=t}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](2,"p"),y["\u0275\u0275text"](3),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"select",75),y["\u0275\u0275listener"]("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().PageSize=t}),y["\u0275\u0275elementStart"](5,"option",76),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"option",77),y["\u0275\u0275text"](9),y["\u0275\u0275pipe"](10,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](11,"option",78),y["\u0275\u0275text"](12),y["\u0275\u0275pipe"](13,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](14,"option",79),y["\u0275\u0275text"](15),y["\u0275\u0275pipe"](16,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",10)("boundaryLinks",!0),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngModel",e.PageSize),y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](7,11,"10 items per page")),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](10,13,"50 items per page")),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](13,15,"100 items per page")),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](16,17,"200 items per page"))}}const rw=function(e,t,n,i){return[e,t,n,i]};let aw=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h,m,u,g,_){this._ServiceIssueComponentservice=e,this._InvoiceFollowService=t,this._VoucherService=n,this._CustomerService=i,this._ReceiptSharedService=r,this.cd=a,this.toastr=o,this._router=s,this._generalService=c,this.translate=l,this._translateGlobalService=d,this.modalService=p,this.spinner=m,this._authService=u,this.location=g,this.datepipe=_,this.isType=!1,this.subsidiaryid=0,this.DuringSaveDisable=!1,this.ServiceIssueComponentsID=0,this._ServiceIssueComponents=new hE.F,this.RelCount=0,this.Permission={View:23005,Add:23006,Edit:23007,Delete:23008},this._Wrapper=new uE,this.filterData=new uE,this.Transaction_move=0,this.ReturnTransaction_move=0,this.BasicCodeReceipt=60,this.BasicReturnCodeReceipt=63,this._Receipt=new C.tY,this._CashSalesDetailsReceipt=new C.hm,this._linkedReceipt=new C.Cb,this.Invoicecustomerid=0,this.VoucherDetailLists=[],this.BranchList=[],this.CustomerAccountsList=[],this.OtherAccountsList=[],this.InvoicesList=[],this.DetailsList=[],this.ComponentList=[],this.ItemUnitsList=[],this.isloading=!1,this.swalSubmitConfirmButtonText="",this.PageSize=10,this.totalCount=0,this.PageNo=1,this.title="",this.invalidDateMsg="",this.invalidInvNoMsg="",this.selectErrorMessage="",this.All="",this.fromdateValid=!0,this.todateValid=!0,this.toNumValid=!0,this.fromNumValid=!0,this.swalEntrynoText="",this.swalEntrynoConfirmButton="",this.swalEntrynoCancel="",this.swalTitleEntryno="",this.MainBranchNotSetForVoucher="",this.Cancel="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.Close="",this.SaveMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.swalNewActionTitle="",this.swalNewActionText="",this.No="",this.NoReceipt="",this.IssuesError=" ",this.CostPostingPeriodMessage="",this.imgSrc="../../../assets/img/datatables/details_open.png",this.CurrencyList=[],this._Currencyprecision=3,this.ItemComponentsLinkedReceipt=[],this.PaymentTypeList=[],this.ReceiptCodeList=[],this.Show=!1,this.sortDirection="asc",this.sortColumn="",this.AllOpj={id:null,name:"All",name_ar:"\u0627\u0644\u0643\u0644"},h.params.subscribe(e=>{this.ServiceIssueComponentsID=e.id,this.Show=null!=e.show&&"show"==e.show&&e.id>0,this.subsidiaryid=this._generalService.SubsidiaryID,this.subsidiaryid>0&&this.GetData(),this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=c.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryid&&(this.subsidiaryid=this._generalService.SubsidiaryID,this.GetData()),this.subsidiaryid!=this._generalService.SubsidiaryID&&this.subsidiaryid>0&&(this.subsidiaryid=this._generalService.SubsidiaryID,this._router.navigate(["/page/inventorytransiction/serviceissuevoucher/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["warning","Close","swalTitleEntryno","swalEntrynoText","Cancel","swalEntrynoText","swalEntrynoConfirmButton","swalEntrynoConfirmButton","warning","SaveMsg","ServiceIssueComponents","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","No","swalNewActionTitle","swalNewActionText","Yes","CostPostingPeriodMessage","ClausesZeroErrorMsg","InvoiceFollowup","invalidDateMsg","invalidInvNoMsg","swalSubmitConfirmButtonText","SaveMsg","selectErrorMessage","NoReceipt","IssuesError","selectErrorMessage","All"]).subscribe(e=>{document.title=e.ServiceIssueComponents,this.warning=e.warning,this.swalTitleEntryno=e.swalTitleEntryno,this.swalEntrynoText=e.swalEntrynoText,this.Close=e.Close,this.Cancel=e.Cancel,this.NoReceipt=e.NoReceipt,this.IssuesError=e.IssuesError,this.swalEntrynoConfirmButton=e.swalEntrynoConfirmButton,this.SaveMsg=e.SaveMsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.No=e.No,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.Yes=e.Yes,this.invalidDateMsg=e.invalidDateMsg,this.invalidInvNoMsg=e.invalidInvNoMsg,this.swalSubmitConfirmButtonText=e.swalSubmitConfirmButtonText,this.SaveMsg=e.SaveMsg,this.selectErrorMessage=e.selectErrorMessage,this.selectErrorMessage=e.selectErrorMessage,this.All=e.All,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage})})}ngOnInit(){}ngAfterViewInit(){if(this.ServiceIssueComponentsID>0){var e=document.getElementById("Name En"),t=document.getElementById("Arabic Name");e.classList.remove("invalid-data"),t.classList.remove("invalid-data")}}GetReceipReceiptCode(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryid),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryid);(0,be.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items;let i=this.ReceiptCodeList.find(e=>e.code==this.BasicReturnCodeReceipt);this.ReturnTransaction_move=i.items,this.cd.markForCheck()})}SaveReceipt(){if(this.spinner.show(),this.InvoicesList.length>0){var e=[];for(var t of this.InvoicesList)if(e.push(t.id),51==t.transictionid||52==t.transictionid){let e=this._Wrapper.receipt.findIndex(e=>e.code==this.BasicCodeReceipt&&e.costcenterid==t.costcenterid&&e.fromstoreid==t.storeid);-1==e?(this._Receipt=new C.tY,this._Receipt.subsidiaryid=this.subsidiaryid,this._Receipt.code=this.BasicCodeReceipt,this.entry_no+=1,this._Receipt.entry_no=this.entry_no,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.customerdeliverdate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.duedate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.entry_time=this.SetTimeNow(),this._Receipt.customerdeliverdate_time=this.SetTimeAfterHouer(),this._Receipt.branch_id=this._Wrapper.branchid,this._Receipt.accounttype=this._Wrapper.accounttype,this._Receipt.vendor_id=this._Wrapper.customerid,this._Receipt.empoyee_id=this._UserLogin.id,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.customersalesprice=5,this._Receipt.costcenterid=t.costcenterid,this._linkedReceipt=new C.Cb,this._linkedReceipt.branch_id=this._Receipt.branch_id,this._linkedReceipt.code=t.transictionid,this._linkedReceipt.entry_no=t.billno,this._linkedReceipt.receiptid=t.id,this._linkedReceipt.subsidiaryid=this.subsidiaryid,this._Receipt.memo+=","+t.billno,this._Receipt.fromstoreid=t.storeid,this._Receipt.linkedreceipts.push(this._linkedReceipt),this._Wrapper.receipt.push(this._Receipt)):(this._linkedReceipt=new C.Cb,this._linkedReceipt.branch_id=this._Receipt.branch_id,this._linkedReceipt.code=t.transictionid,this._linkedReceipt.entry_no=t.billno,this._linkedReceipt.receiptid=t.id,this._linkedReceipt.subsidiaryid=this.subsidiaryid,this._Wrapper.receipt[e].memo+=","+t.billno,this._Wrapper.receipt[e].linkedreceipts.push(this._linkedReceipt))}else{let e=this._Wrapper.receipt.findIndex(e=>e.code==this.BasicReturnCodeReceipt&&e.costcenterid==t.costcenterid&&e.fromstoreid==t.storeid);-1==e?(this._Receipt=new C.tY,this._Receipt.subsidiaryid=this.subsidiaryid,this._Receipt.code=this.BasicReturnCodeReceipt,this.returnentry_no+=1,this._Receipt.entry_no=this.returnentry_no,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.customerdeliverdate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.duedate=this.datepipe.transform(new Date,"yyyy-MM-dd"),this._Receipt.entry_time=this.SetTimeNow(),this._Receipt.customerdeliverdate_time=this.SetTimeAfterHouer(),this._Receipt.branch_id=this._Wrapper.branchid,this._Receipt.accounttype=this._Wrapper.accounttype,this._Receipt.vendor_id=this._Wrapper.customerid,this._Receipt.empoyee_id=this._UserLogin.id,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.customersalesprice=5,this._Receipt.costcenterid=t.costcenterid,this._linkedReceipt=new C.Cb,this._linkedReceipt.branch_id=this._Receipt.branch_id,this._linkedReceipt.code=t.transictionid,this._linkedReceipt.entry_no=t.billno,this._linkedReceipt.receiptid=t.id,this._linkedReceipt.subsidiaryid=this.subsidiaryid,this._Receipt.memo+=","+t.billno,this._Receipt.fromstoreid=t.storeid,this._Receipt.linkedreceipts.push(this._linkedReceipt),this._Wrapper.receipt.push(this._Receipt)):(this._linkedReceipt=new C.Cb,this._linkedReceipt.branch_id=this._Receipt.branch_id,this._linkedReceipt.code=t.transictionid,this._linkedReceipt.entry_no=t.billno,this._linkedReceipt.receiptid=t.id,this._linkedReceipt.subsidiaryid=this.subsidiaryid,this._Wrapper.receipt[e].memo+=","+t.billno,this._Wrapper.receipt[e].linkedreceipts.push(this._linkedReceipt))}for(var n of this._Wrapper.receipt)for(var i of n.linkedreceipts){var r=this.DetailsList.filter(e=>e.parent_id==i.receiptid);if(null!=r)for(var a of r){var o=this.ComponentList.filter(e=>e.item_id==a.item_id);o.length>0&&o.forEach(e=>{let t=new C.hm;t.item_id=e.itemcomponentid,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.itemcode=e.itemcode,t.unit_id=e.inventory_unitid,t.qty=a.qty*(a.final_conv/e.finalconv)*(e.itemcomponentqty*e.itemcomponentconv)*e.subfinalconv,t.basicqtycomponent=e.itemcomponentqty,t.conv=e.conv,t.final_conv=(null!=e.finalconv?e.finalconv:1)*(t.conv/e.conv),t.itemcode=e.itemcode,t.price=e.averagecost,t.total=t.price*t.qty,t.store_id=n.fromstoreid,t.transaction_move=n.code==this.BasicCodeReceipt?this.Transaction_move:this.ReturnTransaction_move,t.item_type=e.item_type,this.SetLinkReceiptItemRow(n.details,t)})}}this._Wrapper.allinvoicesids=e.join(",")}0==this.ServiceIssueComponentsID?this._ServiceIssueComponentservice.AddServiceIssueVoucher(this._Wrapper).subscribe(e=>{0==e?(this.toastr.error("Somethisg is wrong"),this.spinner.hide()):(this.toastr.success(this.SaveMsg),this.spinner.hide(),this._router.navigate(["/page/inventorytransiction/serviceissuevoucher/"+e.data[0].id]).then(()=>{window.location.reload()}))}):(this._Wrapper.id=this.ServiceIssueComponentsID,this._Receipt.entry_no=this._Wrapper.code,this._ServiceIssueComponentservice.UpdateServiceIssueVoucher(this._Wrapper).subscribe(e=>{0==e?this.toastr.error():(this.toastr.success(this.SaveMsg),this.spinner.hide(),this._router.navigate(["/page/inventorytransiction/serviceissuevoucher/"+e.data[0].id]).then(()=>{window.location.reload()}))}))}SetLinkReceiptItemRow(e,t){var n,i,r,a;this._CashSalesDetailsReceipt=new C.hm;let o=e.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id);if(-1==o){e.length>0?(this._CashSalesDetailsReceipt.store_id=e[e.length-1].store_id,this._CashSalesDetailsReceipt.storecode=e[e.length-1].storecode):(this._CashSalesDetailsReceipt.store_id=t.store_id,this._CashSalesDetailsReceipt.storecode={code:t.storecode}),this._CashSalesDetailsReceipt.item_id=t.item_id,this._CashSalesDetailsReceipt.itemcode={code:t.itemcode},this._CashSalesDetailsReceipt.itemname=t.itemname,this._CashSalesDetailsReceipt.itemname_ar=t.itemname_ar,this._CashSalesDetailsReceipt.unit_id=t.unit_id,this._CashSalesDetailsReceipt.qty=t.qty,this._CashSalesDetailsReceipt.conv=t.conv,this._CashSalesDetailsReceipt.transaction_move=t.transaction_move,this._CashSalesDetailsReceipt.isrequireserial=t.isrequireserial,this._CashSalesDetailsReceipt.item_type=t.item_type,this._CashSalesDetailsReceipt.notes=t.notes,this._CashSalesDetailsReceipt.haswarrenty=t.haswarrenty,this._CashSalesDetailsReceipt.warrantydate=t.warrantydate,this._CashSalesDetailsReceipt.detailshtml=t.detailshtml,this._CashSalesDetailsReceipt.customitemname=t.customitemname,this._CashSalesDetailsReceipt.salesmanid=t.salesmanid,this._CashSalesDetailsReceipt.price=t.price,this._CashSalesDetailsReceipt.final_conv=t.final_conv,this._CashSalesDetailsReceipt.discount_percent=null!==(n=t.discount_percent)&&void 0!==n?n:0,this._CashSalesDetailsReceipt.discount_value=null!==(i=t.discount_value)&&void 0!==i?i:0,this._CashSalesDetailsReceipt.h_discount_percentage=null!==(r=t.h_discount_percentage)&&void 0!==r?r:0,this._CashSalesDetailsReceipt.h_discount_value=null!==(a=t.h_discount_value)&&void 0!==a?a:0,this._CashSalesDetailsReceipt.total=t.total;let o=Math.max(...e.map(e=>e.rowno),0);this._CashSalesDetailsReceipt.rowno=o+1,3==t.item_type&&this.ComponentList.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id).forEach(e=>{let n=new C.hm;n.store_id=this._CashSalesDetailsReceipt.store_id,n.storecode=this._CashSalesDetailsReceipt.storecode.code,n.item_id=e.item_id,n.itemcode=e.itemcode,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.unit_id=e.unit_id,n.conv=e.conv,n.qty=e.qty,n.basicqtycomponent=e.qty/this._CashSalesDetailsReceipt.qty||0,n.price=e.price,n.discount_value=e.discount_value,n.discount_percent=e.discount_percent,n.total=e.total,n.transaction_move=t.transaction_move,n.finishedproductid=e.finishedproductid,n.item_type=e.item_type,n.notes=e.notes,n.haswarrenty=e.haswarrenty,n.warrantydate=e.warrantydate,n.detailshtml=e.detailshtml,n.customitemname=e.customitemname,n.salesmanid=e.salesmanid,n.parentrowno=this._CashSalesDetailsReceipt.rowno,this._Receipt.itemscomponent.push(n)}),e.push(this._CashSalesDetailsReceipt),this.CalaculteValuesItemsRow(e,e.length-1)}else{if(e[o].qty=e[o].qty+parseFloat(t.qty),3==t.item_type){let n=this.ComponentList.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id);if(null!=e[o].id){let t=e[o];for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id){var s=n.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id);this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].qty+parseFloat(s.qty)}}else if(null==e[o].id){let t=e[o];for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[e].id&&this._Receipt.itemscomponent[e].parentrowno==t.rowno&&(s=n.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id),this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].qty+parseFloat(s.qty))}}this.CalaculteValuesItemsRow(e,o)}}CalaculteValuesItemsRow(e,t,n="percent"){e[t].qty=e[t].qty||0,e[t].price=Number(e[t].price)||0,e[t].discount_value=Number(e[t].discount_value)||0,e[t].discount_percent=e[t].discount_percent||0;let i=Number((e[t].price*e[t].qty).toFixed(this._Currencyprecision));"percent"==n&&(e[t].discount_value=((i*e[t].discount_percent||0)/100).toFixed(this._Currencyprecision)),"value"==n&&(e[t].discount_percent=100*(e[t].discount_value/i%(1/0)||0)),e[t].total=(i-e[t].discount_value).toFixed(this._Currencyprecision),this.cd.markForCheck()}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryid).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}SetTimeAfterHouer(){let e=new Date,t=("0"+(e.getHours()+1)).slice(-2);return"24"==t&&(t="00"),t+":"+("0"+e.getMinutes()).slice(-2)}GetData(){this._Wrapper.todate=(new Date).toISOString().slice(0,10),this._Wrapper.fromdate=(new Date).toISOString().slice(0,10),this._Wrapper.subsidiaryid=this.subsidiaryid,this.GetBranch(),this.GetCurrencyList(),this.GetReceipReceiptCode(),this.GetServiceIssueComponents()}GetServiceIssueComponents(){if(this.ServiceIssueComponentsID>0)this._ServiceIssueComponentservice.GetServiceIssueVoucherByID(this.ServiceIssueComponentsID,this.subsidiaryid).subscribe(e=>{this._Wrapper.code=Number(e.data.hedear.code),this._Wrapper.id=Number(e.data.hedear.id),this._Wrapper.subsidiaryid=Number(e.data.hedear.subsidiaryid),this._Wrapper.code=e.data.hedear.code,this._Wrapper.branchid=e.data.hedear.branchid,null!=this._Wrapper.branchid&&(this._Wrapper.branch=this.BranchList.find(e=>e.id==this._Wrapper.branchid)),this._Wrapper.accounttype=e.data.hedear.accounttype,this._Wrapper.customerid=e.data.hedear.customerid,null!=this._Wrapper.customerid&&(this._Wrapper.customer={code:e.data.hedear.accountcode}),this._Wrapper.fromdate=this.datepipe.transform(e.data.hedear.fromdate,"yyyy-MM-dd"),this._Wrapper.todate=this.datepipe.transform(e.data.hedear.todate,"yyyy-MM-dd"),this._Wrapper.invoiceid=e.data.hedear.invoiceid,this._Wrapper.allinvoicesids=e.data.hedear.allinvoicesids,this.VoucherDetailLists=e.data.details,this.totalCount=this.VoucherDetailLists.length,console.log(e),this.isloading=!1,this.cd.markForCheck()});else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Wrapper.branchid="null"==e.branchid||0==e.branchid?null:e.branchid,null!=this._Wrapper.branchid&&(this.GetReceiptEntryCode(),this.GetReturnReceiptEntryCode())),this.GetMaxCode()}}VoucherDetailListsSort(e){this.sortDirection="asc"==this.sortDirection?"desc":"asc",this.InvoicesList.sort((t,n)=>{const i=t[e],r=n[e];return"string"==typeof i?"asc"===this.sortDirection?i.localeCompare(r):r.localeCompare(i):"asc"===this.sortDirection?i-r:r-i}),this.cd.markForCheck()}preview(e){if(e.form.valid){this.filterData=Object.assign({},this._Wrapper);let e=Xh(this._Wrapper.todate,"YYYY-MM-DD").format(),t=Xh(this._Wrapper.fromdate,"YYYY-MM-DD").format();if(0==Xh(t).isSameOrBefore(e))return void this.toastr.error(this.invalidDateMsg);if(null==this._Wrapper.branchid||"null"==this._Wrapper.branchid)return void(this.filterData.branchid=0);if(null==this._Wrapper.customerid||"null"==this._Wrapper.customerid)return void(this.filterData.customerid=0);this.CheckDate()}}CheckDate(){0!==Object.keys(this.filterData).length&&(this.filterData.receipt=null,this.filterData.subsidiaryid=this.subsidiaryid,this._ServiceIssueComponentservice.CheckDate(this.filterData).subscribe(e=>{if(1==e.data[0].exits)return this.toastr.error(this.IssuesError);this.GetMaxCostPostedSerDate(),this.cd.markForCheck()}))}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryid).subscribe(e=>{let t=Xh(e[0].maxpostingdate,"YYYY-MM-DD").format(),n=Xh(this._Wrapper.fromdate,"YYYY-MM-DD").format();if(Xh(n).isSameOrBefore(t))return this.toastr.error(this.CostPostingPeriodMessage);this.GetInvoicesList(),this.cd.markForCheck()})}GetInvoicesList(){0!==Object.keys(this.filterData).length&&(this.filterData.receipt=null,this.filterData.subsidiaryid=this.subsidiaryid,this.spinner.show(),this._ServiceIssueComponentservice.GetAllInvoicesIssuesItems(this.filterData).subscribe(e=>{if(this.InvoicesList=e.data.receipts,0==this.InvoicesList.length)return this.toastr.error(this.NoReceipt),void this.spinner.hide();this.DetailsList=e.data.details,this.ComponentList=e.data.components,this.SaveReceipt(),this.cd.markForCheck()}))}onMainAccountRadioClick(){this._Wrapper.customer=null,this._Wrapper.customerid=null,this.cd.markForCheck()}ChangeCustomer(e){this._Wrapper.customerid=e.value.accountid}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){this._Wrapper.customerid=e.accountid,this.cd.markForCheck()}GetCustomerAccountsList(e=""){this._CustomerService.CustomerAccountsList(this.subsidiaryid,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}onFocusInOtherAccounts(e){this.GetOtherAccountsList("")}OtherAccountsChangeSearch(e){this.GetOtherAccountsList(e.query.trim())}GetOtherAccountsList(e=""){this._ReceiptSharedService.GetTransactionAccountList(this.subsidiaryid,e).subscribe(e=>{this.OtherAccountsList=[],this.OtherAccountsList=e,this.cd.markForCheck()})}onClearCustomer(e){this._Wrapper.customer=null}GetBranch(){this._InvoiceFollowService.AllActiveUserBranchddl(this.subsidiaryid).subscribe(e=>{this.BranchList=[this.AllOpj].concat(e),this._Wrapper.branch=this.BranchList.find(e=>e.id==this._Wrapper.branchid),this._Wrapper.storeid=this._Wrapper.branch.storeid,this.cd.markForCheck()})}ChangeBranch(e){this._Wrapper.branchid=e.value.id,this._Wrapper.storeid=this._Wrapper.branch.storeid;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchid:this._Wrapper.branchid})),null!=this._Wrapper.branchid?(this.GetMaxCode(),this.GetReceiptEntryCode(),this.GetReturnReceiptEntryCode()):this._Receipt.entry_no=null}CreateNewAction(){this._router.navigate(["/page/inventorytransiction/serviceissuevoucher/0"]).then(()=>{window.location.reload()})}BackAction(){this._router.navigate(["/page/inventorytransiction/serviceissuevoucher"])}DeleteAction(){ye().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ServiceIssueComponentservice.DeleteServiceIssueComponent(this._Wrapper.id).subscribe(e=>{0==e.count?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/inventorytransiction/serviceissuevoucher"])):this.toastr.error(this.DeleteRelationmsg)})})}GetMaxCode(){this._ServiceIssueComponentservice.GetMaxCode(this.subsidiaryid,this._Wrapper.branchid).subscribe(e=>{this._Wrapper.code=e,this.cd.markForCheck()})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryid,this.BasicCodeReceipt,this._Wrapper.branchid).subscribe(e=>{this.entry_no=0==e.length?0:e[0].entry_no,this.cd.markForCheck()})}GetReturnReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryid,this.BasicReturnCodeReceipt,this._Wrapper.branchid).subscribe(e=>{this.returnentry_no=0==e.length?0:e[0].entry_no,this.cd.markForCheck()})}onPageChange(e){this.PageNo=e}onPageSizeChange(e){this.PageSize=e}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](gE),y["\u0275\u0275directiveInject"](_E.J),y["\u0275\u0275directiveInject"](Re.H),y["\u0275\u0275directiveInject"](Se.v),y["\u0275\u0275directiveInject"](f.t),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](w.FF),y["\u0275\u0275directiveInject"](c.gz),y["\u0275\u0275directiveInject"](x.t2),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](i.Ye),y["\u0275\u0275directiveInject"](i.uU))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-service-issue-voucher"]],viewQuery:function(e,t){if(1&e&&y["\u0275\u0275viewQuery"](CE,5),2&e){let e;y["\u0275\u0275queryRefresh"](e=y["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[y["\u0275\u0275ProvidersFeature"]([gE,_E.J,Re.H,f.t,Se.v,i.uU])],decls:7,vars:9,consts:[["class","row",4,"ngIf"],["class","card my-4 mx-2 px-3",4,"ngIf"],["class","d-flex justify-content-between p-2 pagination-display-block",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Choose2",1,"col-form-label"],["type","text","id","code","name","code","PositiveNumbersOrDecimalOnly","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngModelChange"],["code","ngModel"],["for","branch",1,"col-form-label"],["scrollHeight","400px","name","branch","required","",3,"options","ngModel","filter","filterBy","placeholder","optionLabel","ngClass","ngModelChange","onChange"],["autobranch","","branch","ngModel"],[4,"ngIf"],["pTemplate","item"],[1,"col-lg-4","col-md-4","col-sm-4"],["type","radio","name","AccountType","id","mainAccountType",1,"radio-col-green",3,"ngModel","value","click","ngModelChange"],[2,"color","red","font-weight","bold"],[1,"col-form-label"],[1,"ml-2"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear",4,"ngIf"],[1,"col-lg-4","col-md-4","col-sm-2"],["for","fromDate",1,"col-form-label"],["type","date","id","fromDate","name","fromDate","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["fromdate","ngModel"],["for","todate",1,"col-form-label"],["type","date","id","todate","name","todate","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["todate","ngModel"],["type","submit","class","btn btn-primary mt-4 btn-md mr-2 mb-2",4,"ngIf"],["class","btn btn-danger mt-4 btn-md mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mt-4","btn-md","mr-2","mb-2",3,"click"],[1,"card","transparent-BG"],[1,"card-content"],["src","../../../../../assets/img/loading/loading.gif",4,"ngIf"],[1,"table-responsive","card-body"],["class","table m-0 table-striped",4,"ngIf"],["pTemplate","BranchTemplate"],[1,"item-drop1"],["class","item-value1",4,"ngIf"],[1,"item-value1"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["minLength","0","delay","0","field","code","name","OtherAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoOtherAccounts","","Other","ngModel"],["pTemplate","OtherAccountsTemplate"],["type","submit",1,"btn","btn-primary","mt-4","btn-md","mr-2","mb-2"],[1,""],["src","../../../../../assets/img/loading/loading.gif"],[1,"table","m-0","table-striped"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[1,"col-3",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],["class","btn btn-primary mr-1","href","javascript:;","target","_blank",3,"routerLink",4,"ngIf"],["href","javascript:;","target","_blank",1,"btn","btn-primary","mr-1",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list"],[1,"text-center"],["colspan","6"],[1,"d-flex","justify-content-between","p-2","pagination-display-block"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"],["Value","200"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,fE,4,3,"div",0),y["\u0275\u0275elementStart"](1,"section"),y["\u0275\u0275template"](2,nw,76,65,"div",1),y["\u0275\u0275template"](3,iw,17,19,"div",2),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](4,"ngx-spinner",3),y["\u0275\u0275elementStart"](5,"p",4),y["\u0275\u0275text"](6,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(t.Permission.Add)||t.checkRoleParms(t.Permission.Edit)||t.checkRoleParms(t.Permission.View)||t.checkRoleParms(t.Permission.Delete))),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngIf",t.checkRolesParms(y["\u0275\u0275pureFunction4"](4,rw,t.Permission.View,t.Permission.Add,t.Permission.Edit,t.Permission.Delete))),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.totalCount>0),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,x.Ro,a._Y,a.JL,a.F,a.Fj,Ie.L,Pe.a,a.JJ,a.On,g.Lt,a.Q7,i.mk,Oe.jx,a._,s.Qc,i.sg,c.yS,w.N9,a.EJ,a.YN,a.Kr],pipes:[l.X$,i.OU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.pd-invalid-data[_ngcontent-%COMP%]{border-color:red;border-style:solid;border-width:8px 2px}p-autocomplete[_ngcontent-%COMP%]{height:41px;display:block;border-radius:3px}.CanceledReceipt[_ngcontent-%COMP%]{background-color:red}.table-accountdetails[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-accountdetails[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.35rem .5rem}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}textarea.vertical[_ngcontent-%COMP%]{resize:vertical;max-height:50px;min-height:35px}.batch-input[_ngcontent-%COMP%]{border:1px solid #1b62d8!important}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.headerform[_ngcontent-%COMP%]{background-color:#2f8be6;color:#fff;height:44px;padding-top:9px;margin-bottom:17px}.total-price[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}textarea[_ngcontent-%COMP%]{resize:none}.radio-col-green[_ngcontent-%COMP%]{margin-top:10px}']}),e})();var ow=n(66687),sw=n(8443),cw=n(90159);function lw(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"div",2),y["\u0275\u0275elementStart"](1,"h1"),y["\u0275\u0275text"](2),y["\u0275\u0275pipe"](3,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](2),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function dw(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name)}}function pw(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"span"),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){const e=y["\u0275\u0275nextContext"]().$implicit;y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate"](e.name_ar)}}function hw(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"option",22),y["\u0275\u0275template"](1,dw,2,1,"span",1),y["\u0275\u0275template"](2,pw,2,1,"span",1),y["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=y["\u0275\u0275nextContext"](2);y["\u0275\u0275propertyInterpolate"]("value",e.id),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"!=n.lang),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function mw(e,t){if(1&e){const e=y["\u0275\u0275getCurrentView"]();y["\u0275\u0275elementContainerStart"](0),y["\u0275\u0275elementStart"](1,"section"),y["\u0275\u0275elementStart"](2,"div",3),y["\u0275\u0275elementStart"](3,"div",4),y["\u0275\u0275elementStart"](4,"div",5),y["\u0275\u0275elementStart"](5,"h6",6),y["\u0275\u0275text"](6),y["\u0275\u0275pipe"](7,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](8,"div",7),y["\u0275\u0275elementStart"](9,"div",8),y["\u0275\u0275elementStart"](10,"section"),y["\u0275\u0275elementStart"](11,"div",2),y["\u0275\u0275elementStart"](12,"div",9),y["\u0275\u0275elementStart"](13,"form",10,11),y["\u0275\u0275listener"]("ngSubmit",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),y["\u0275\u0275elementStart"](15,"div",2),y["\u0275\u0275elementStart"](16,"div",12),y["\u0275\u0275elementStart"](17,"div",13),y["\u0275\u0275elementStart"](18,"label",14),y["\u0275\u0275text"](19),y["\u0275\u0275pipe"](20,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](21,"select",15,16),y["\u0275\u0275listener"]("ngModelChange",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().BranchID=t})("change",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),y["\u0275\u0275elementStart"](23,"option",17),y["\u0275\u0275text"](24),y["\u0275\u0275pipe"](25,"translate"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275template"](26,hw,3,3,"option",18),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](27,"app-Matix-table",19),y["\u0275\u0275listener"]("OnShow",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnShow(t)})("OnEdit",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnAdd()})("OnExcel",function(){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnExcel()})("OnPrint",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().OnPrint(t)})("OnSearch",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateInvoicesSearch(t)})("OnSort",function(t){return y["\u0275\u0275restoreView"](e),y["\u0275\u0275nextContext"]().CreateInvoicesSearch(t)}),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](28,"ngx-spinner",20),y["\u0275\u0275elementStart"](29,"p",21),y["\u0275\u0275text"](30,"Loading..."),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=y["\u0275\u0275nextContext"]();y["\u0275\u0275advance"](6),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](7,10,"ServiceIssueComponents")),y["\u0275\u0275advance"](13),y["\u0275\u0275textInterpolate"](y["\u0275\u0275pipeBind1"](20,12,"Branch")),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngModel",e.BranchID),y["\u0275\u0275advance"](3),y["\u0275\u0275textInterpolate1"](" ",y["\u0275\u0275pipeBind1"](25,14,"All")," "),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("ngForOf",e.BranchList),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("dataList",e.ServiceIssueComponentsList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("fullScreen",!0)}}function uw(e){return new d.z(e,[{prefix:"assets/i18n/shared/",suffix:".json"},{prefix:"assets/i18n/items/",suffix:".json"},{prefix:"assets/i18n/Receivable/",suffix:".json"},{prefix:"assets/i18n/Inventory/",suffix:".json"}])}const gw=[{path:"issuerequest",component:fe},{path:"issuerequest/:id",component:Hn},{path:"issuerequest/:id/:show",component:Hn},{path:"issuevoucher",component:_o},{path:"issuevoucher/:id",component:Al},{path:"issuevoucher/:id/:show",component:Al},{path:"issuevoucher/:id/:show/:linkedreceiptid",component:Al},{path:"issuevoucher/:id/:show/:linkedreceiptid/:issuerequestid",component:Al},{path:"customerreceipts",component:yP},{path:"giftissue",component:Hg},{path:"giftissue/:id",component:Sf},{path:"giftissue/:id/:show",component:Sf},{path:"issuereturn",component:iv},{path:"issuereturn/:id",component:Bb},{path:"issuereturn/:id/:show",component:Bb},{path:"receivingvoucher",component:wi},{path:"receivingvoucher/:id",component:Fa},{path:"receivingvoucher/:id/:show",component:Fa},{path:"receivingvoucher/:id/:purchaseorderid",component:Fa},{path:"destroyvoucher",component:oS},{path:"destroyvoucher/:id",component:gx},{path:"destroyvoucher/:id/:show",component:gx},{path:"adjustmentvoucher",component:Ux},{path:"adjustmentvoucher/:id",component:QI},{path:"adjustmentvoucher/:id/:show",component:QI},{path:"receivingvoucherreturns",component:yd},{path:"receivingvoucherreturns/:id",component:vh},{path:"receivingvoucherreturns/:id/:show",component:vh},{path:"vendorreceipts",component:WP},{path:"giftvoucher",component:Kh},{path:"giftvoucher/:id",component:_g},{path:"giftvoucher/:id/:show",component:_g},{path:"transferinvoices",component:pE},{path:"serviceissuevoucher",component:(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,l,d,p,h){this._cashsalesService=e,this._ServiceIssueComponentsService=t,this.cd=n,this.toastr=i,this._generalService=r,this._router=a,this.translate=o,this._translateGlobalService=s,this._printService=c,this._Excel=l,this._convertToPDF=d,this._authService=p,this.datepipe=h,this._ServiceIssueComponentsSearch=new ow.M,this.subsidiaryID=0,this.BranchID=0,this.PageSize=10,this.totalCount=0,this.PageNo=1,this.ServiceIssueComponentsList=[],this.BranchList=[],this.sortDirection="asc",this.sortColumn="",this.orderby="",this.timeout=null,this.title="",this._Wrapper=new mE,this.Permission={View:23005,Add:23006,Edit:23007,Delete:23008,Print:23005,PDF:23005,Excel:23005},this.constructionPerms=sw.u,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"Code"},{sortByAr:"branchname_ar",sortByEn:"branchname",displayName:"Branch"},{sortByAr:"customer_ar",sortByEn:"customer",displayName:"Customer"},{sortByAr:"fromdate",sortByEn:"fromdate",displayName:"fromDate"},{sortByAr:"todate",sortByEn:"todate",displayName:"toDate"}],this.Search="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["ServiceIssueComponents"]).subscribe(e=>{this.title=e.ServiceIssueComponents,document.title=this.title})}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this.BranchID})),this.GetBranchList(),this.GetServiceIssueComponentsList(),this.GetServiceIssueComponentsListCount()}if(this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this.BranchID})),this._ServiceIssueComponentsSearch.pageNo=1,this._ServiceIssueComponentsSearch.pageSize=10,this.GetBranchList(),this.GetServiceIssueComponentsList(),this.GetServiceIssueComponentsListCount()}})}ngOnInit(){this._ServiceIssueComponentsSearch.subsidaryID=this.subsidiaryID,this._ServiceIssueComponentsSearch.filterCoulmn="Code.asc",0!=this.subsidiaryID&&(this.GetBranchList(),this.GetServiceIssueComponentsList(),this.GetServiceIssueComponentsListCount())}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetServiceIssueComponentsList(),this.GetServiceIssueComponentsListCount()},1e3*e)}ServiceIssueComponentsSearch(e){e.subsidaryID=this.subsidiaryID,Object.assign(this._ServiceIssueComponentsSearch,e),this.GetServiceIssueComponentsList(),this.GetServiceIssueComponentsListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this.BranchID})),this.PageNo=1,this.PageSize=10,this.GetServiceIssueComponentsList(),this.GetServiceIssueComponentsListCount()}GetServiceIssueComponentsList(){this._Wrapper={pageNo:this.PageNo,pageSize:this.PageSize,orderBy:this.orderby,subsidiaryId:this.subsidiaryID,searchValue:this.Search,branchID:this.BranchID},this._ServiceIssueComponentsService.GetAllServiceIssueVoucher(this._Wrapper).subscribe(e=>{this.ServiceIssueComponentsList=[],this.ServiceIssueComponentsList=e.data,console.log(this.ServiceIssueComponentsList,"this.ServiceIssueComponentsList"),this.cd.markForCheck()})}GetServiceIssueComponentsListCount(){this._Wrapper={pageNo:this.PageNo,pageSize:this.PageSize,orderBy:this.orderby,subsidiaryId:this.subsidiaryID,searchValue:this.Search,branchID:this.BranchID},this._ServiceIssueComponentsService.GetServiceIssueVoucherCount(this._Wrapper).subscribe(e=>{this.totalCount=e.count,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/inventorytransiction/serviceissuevoucher/0"])}OnEdit(e){this._router.navigateByUrl("/page/inventorytransiction/serviceissuevoucher/"+e)}OnShow(e){this._router.navigateByUrl("/page/inventorytransiction/serviceissuevoucher/"+e+"/show")}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f":"Code",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",a="ar"==this.lang?"\u0627\u0644\u0639\u0645\u064a\u0644":"Customer",o="ar"==this.lang?"\u0645\u0646":"From",s="ar"==this.lang?"\u0627\u0644\u0649":"To";this._ServiceIssueComponentsSearch.pageSize=this.PageSize,this._ServiceIssueComponentsSearch.pageNo=this.PageNo,this._Wrapper={pageNo:this.PageNo,pageSize:this.PageSize,orderBy:this.orderby,subsidiaryId:this.subsidiaryID,searchValue:this.Search,branchID:this.BranchID},this._ServiceIssueComponentsService.GetAllServiceIssueVoucher(this._Wrapper).subscribe(c=>{this.cd.markForCheck(),t=`\n            <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                  <thead>\n                    <tr style="background: #e9f1f5;color: cornflowerblue;">\n                      <th>${i}</th>\n                      <th>${r}</th>\n                      <th>${a}</th>\n                      <th>${o}</th>\n                      <th>${s}</th>\n                    </tr>\n                  </thead>\n              <tbody>\n          `,c.data.map(e=>{var n,i;t+=`\n          <tr>\n          <td>${e.code}</td>\n          <td>${null!==(n="ar"==this.lang?e.branchname_ar:e.branchname)&&void 0!==n?n:""}</td>\n          <td>${null!==(i="ar"==this.lang?e.customer_ar:e.customer)&&void 0!==i?i:""}</td>\n          <td>${this.datepipe.transform(null==e?void 0:e.fromdate,"yyyy-MM-dd")}</td>\n          <td>${this.datepipe.transform(null==e?void 0:e.todate,"yyyy-MM-dd")}</td>\n   \n          </tr>\n          `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ServiceIssueComponentsSearch.pageSize=this.PageSize,this._ServiceIssueComponentsSearch.pageNo=this.PageNo,this._Wrapper={pageNo:this.PageNo,pageSize:this.PageSize,orderBy:this.orderby,subsidiaryId:this.subsidiaryID,searchValue:this.Search,branchID:this.BranchID},this._ServiceIssueComponentsService.GetAllServiceIssueVoucher(this._Wrapper).subscribe(t=>{t.data.forEach(t=>{var n,i,r,a,o,s,c,l;if("ar"==this.lang){let o={"\u0627\u0644\u0643\u0648\u062f":t.code,"\u0627\u0644\u0641\u0631\u0639":null!==(n=t.branchname_ar)&&void 0!==n?n:"","\u0627\u0644\u0639\u0645\u064a\u0644":null!==(i=t.customer_ar)&&void 0!==i?i:"","\u0645\u0646":null!==(r=this.datepipe.transform(null==t?void 0:t.fromdate,"yyyy-MM-dd"))&&void 0!==r?r:"","\u0627\u0644\u0649":null!==(a=this.datepipe.transform(null==t?void 0:t.fromdate,"yyyy-MM-dd"))&&void 0!==a?a:""};e.push(o)}else{let n={Code:t.code,Branch:null!==(o=t.branchname)&&void 0!==o?o:"",Customer:null!==(s=t.customer)&&void 0!==s?s:"",From:null!==(c=this.datepipe.transform(null==t?void 0:t.fromdate,"yyyy-MM-dd"))&&void 0!==c?c:"",To:null!==(l=this.datepipe.transform(null==t?void 0:t.fromdate,"yyyy-MM-dd"))&&void 0!==l?l:""};e.push(n)}}),this._Excel.exportAsExcelFile(e,"Service Item Issues")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}onPageChange(e){this._ServiceIssueComponentsSearch.pageNo=e,this.PageNo=e,this.GetServiceIssueComponentsList()}onPageSizeChange(e){this._ServiceIssueComponentsSearch.pageSize=e,this.PageSize=e,this.GetServiceIssueComponentsList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(y["\u0275\u0275directiveInject"](_.n),y["\u0275\u0275directiveInject"](gE),y["\u0275\u0275directiveInject"](y.ChangeDetectorRef),y["\u0275\u0275directiveInject"](b._W),y["\u0275\u0275directiveInject"](S.m),y["\u0275\u0275directiveInject"](c.F0),y["\u0275\u0275directiveInject"](l.sK),y["\u0275\u0275directiveInject"](R.K),y["\u0275\u0275directiveInject"](I.$),y["\u0275\u0275directiveInject"](P.x),y["\u0275\u0275directiveInject"](O.z),y["\u0275\u0275directiveInject"](M.e),y["\u0275\u0275directiveInject"](i.uU))},e.\u0275cmp=y["\u0275\u0275defineComponent"]({type:e,selectors:[["app-service-issue-voucher-list"]],features:[y["\u0275\u0275ProvidersFeature"]([gE,_.n,i.uU])],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"dataList","headerList","totalCount","permission","OnShow","OnEdit","OnAdd","OnExcel","OnPrint","OnSearch","OnSort"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[3,"value"]],template:function(e,t){1&e&&(y["\u0275\u0275template"](0,lw,4,3,"div",0),y["\u0275\u0275template"](1,mw,31,16,"ng-container",1)),2&e&&(y["\u0275\u0275property"]("ngIf",!t.checkRoleParms(t.Permission.View)),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngIf",t.checkRoleParms(t.Permission.View)))},directives:[i.O5,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,cw.u,x.Ro],pipes:[l.X$],styles:[""]}),e})()},{path:"serviceissuevoucher/:id",component:aw},{path:"serviceissuevoucher/:id/:show",component:aw}];let _w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=y["\u0275\u0275defineInjector"]({providers:[l.gM,l.sK,i.uU],imports:[[a.u5,i.ez,r.m,a.UX,s.WN,h.o6,g.kW,l.aw.forChild({loader:{provide:l.Zw,useFactory:uw,deps:[o.eN]},extend:!0}),c.Bz.forChild(gw),p.xc,u.d,m.fi.forRoot()]]}),e})()},52529:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var i=n(31572),r=n(49450),a=n(48160);let o=(()=>{class e{constructor(){this.signatureImg="",this.signatureoutput=new i.EventEmitter,this.signaturePadOptions={minWidth:2,canvasWidth:300,canvasHeight:200}}set signatureProperty(e){null!=e&&null!=e&&(this.signatureImg=e,this.SetSignatureValue())}ngAfterViewInit(){this.SetSignatureValue()}SetSignatureValue(){this.signaturePad.fromDataURL("data:image/png;base64,"+this.signatureImg),this.cd.markForCheck()}drawComplete(){const e=this.signaturePad.toDataURL();this.signatureImg=e.replace("data:image/png;base64,",""),this.signatureoutput.emit({signature:this.signatureImg})}drawStart(){}clearSignature(){this.signaturePad.clear()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["Signature"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](r.u,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.signaturePad=e.first)}},inputs:{signatureProperty:["signature","signatureProperty"]},outputs:{signatureoutput:"signatureoutput"},decls:6,vars:4,consts:[[1,"signature-container"],[3,"options","onBeginEvent","onEndEvent"],[1,"buttons"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"signature-pad",1),i["\u0275\u0275listener"]("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"button",3),i["\u0275\u0275listener"]("click",function(){return t.clearSignature()}),i["\u0275\u0275text"](4),i["\u0275\u0275pipe"](5,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("options",t.signaturePadOptions),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](5,2,"Clear")))},directives:[r.u],pipes:[a.X$],styles:[".signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:300px}"]}),e})()},71309:function(e,t,n){"use strict";n.d(t,{k:function(){return h}});var i=n(31572),r=n(61900),a=n(96898),o=n(48160),s=n(62120),c=n(5851),l=n(25181),d=n(16073);function p(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275elementStart"](1,"h6",3),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",4),i["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),i["\u0275\u0275elementStart"](5,"span",5),i["\u0275\u0275text"](6,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div"),i["\u0275\u0275element"](8,"br"),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275elementStart"](10,"label",7),i["\u0275\u0275text"](11),i["\u0275\u0275pipe"](12,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"input",8,9),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]()._emailobj.email=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",6),i["\u0275\u0275elementStart"](16,"label",7),i["\u0275\u0275text"](17),i["\u0275\u0275pipe"](18,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"input",10,11),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]()._emailobj.subject=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",12),i["\u0275\u0275elementStart"](22,"button",13),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().Setemailobj()}),i["\u0275\u0275text"](23),i["\u0275\u0275pipe"](24,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](25,"button",14),i["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),i["\u0275\u0275element"](26,"i",15),i["\u0275\u0275text"](27),i["\u0275\u0275pipe"](28,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](3,7,"sendbyemail")),i["\u0275\u0275advance"](9),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](12,9,"email")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e._emailobj.email),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind1"](18,11,"subject")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e._emailobj.subject),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](24,13,"Save")," "),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("",i["\u0275\u0275pipeBind1"](28,15,"Cancel")," ")}}let h=(()=>{class e{constructor(e,t,n,r,a,o,s,c){this._ReceiptSharedService=e,this.cd=t,this._router=n,this.translate=a,this._translateGlobalService=o,this.modalService=s,this.toastr=c,this._emailobj={email:"",subject:""},this._savedemailobj=new i.EventEmitter,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["SelectFristCustomerFrist"]).subscribe(e=>{})})}set entrynoProperty(e){this._emailobj.subject=e}ngOnInit(){}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}Setemailobj(){this._savedemailobj.emit({list:this._emailobj}),this.CloseModal()}ngOnDestroy(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.t),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](a.F0),i["\u0275\u0275directiveInject"](a.gz),i["\u0275\u0275directiveInject"](o.sK),i["\u0275\u0275directiveInject"](s.K),i["\u0275\u0275directiveInject"](c.FF),i["\u0275\u0275directiveInject"](l._W))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["email-popup"]],inputs:{entrynoProperty:["entryno","entrynoProperty"]},outputs:{_savedemailobj:"_savedemailobj"},features:[i["\u0275\u0275ProvidersFeature"]([r.t])],decls:6,vars:3,consts:[["type","button",1,"dropdown-item",3,"click"],["EmailModel",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"form-group","row"],["for","SearchValue",1,"col-md-3"],["type","text","id","email","name","email",1,"form-control","col-md-4",3,"ngModel","ngModelChange"],["email","ngModel"],["type","text","id","subject","name","subject",1,"form-control","col-md-4",3,"ngModel","ngModelChange"],["subject","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"button",0),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](5);return t.OpenModal(n)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,p,29,17,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("\n",i["\u0275\u0275pipeBind1"](3,1,"sendbyemail"),"\n"))},directives:[d.Fj,d.JJ,d.On],pipes:[o.X$],encapsulation:2,changeDetection:0}),e})()},64328:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(16073),r=n(31572);let a=(()=>{class e{validate(e){return Number(e.value)>Number(this.customMax)?{customMax:!0}:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","customMax",""]],inputs:{customMax:"customMax"},features:[r["\u0275\u0275ProvidersFeature"]([{provide:i.Cf,useExisting:e,multi:!0}])]}),e})()},8443:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});var i=function(e){return e[e.SubContractorAdd=10097]="SubContractorAdd",e[e.SubContractorEdit=10098]="SubContractorEdit",e[e.SubContractorView=10099]="SubContractorView",e[e.SubContractorDelete=10100]="SubContractorDelete",e[e.ManageSubContractorDocuments=10118]="ManageSubContractorDocuments",e[e.SubContractorContractsAdd=10101]="SubContractorContractsAdd",e[e.SubContractorContractsEdit=10102]="SubContractorContractsEdit",e[e.SubContractorContractsView=10103]="SubContractorContractsView",e[e.SubContractorContractsDelete=10104]="SubContractorContractsDelete",e[e.ManageSubContractorContractsDocuments=10119]="ManageSubContractorContractsDocuments",e[e.SubContractorContractsChangeStatus=10120]="SubContractorContractsChangeStatus",e[e.ContractorsAdd=10106]="ContractorsAdd",e[e.ContractorsEdit=10107]="ContractorsEdit",e[e.ContractorsView=10108]="ContractorsView",e[e.ContractorsDelete=10109]="ContractorsDelete",e[e.ManageContractorsDocuments=10121]="ManageContractorsDocuments",e[e.ContractorsChangeStatus=10122]="ContractorsChangeStatus",e[e.SubContractorPaymentRequestAdd=10110]="SubContractorPaymentRequestAdd",e[e.SubContractorPaymentRequestEdit=10111]="SubContractorPaymentRequestEdit",e[e.SubContractorPaymentRequestView=10112]="SubContractorPaymentRequestView",e[e.SubContractorPaymentRequestDelete=10113]="SubContractorPaymentRequestDelete",e[e.ManageSubContractorPaymentRequestDocuments=10123]="ManageSubContractorPaymentRequestDocuments",e[e.SubContractorPaymentRequestChangeStatus=10124]="SubContractorPaymentRequestChangeStatus",e[e.SubContractorPaymentRequestPrint=10125]="SubContractorPaymentRequestPrint",e[e.ContractorPaymentRequestAdd=10114]="ContractorPaymentRequestAdd",e[e.ContractorPaymentRequestEdit=10115]="ContractorPaymentRequestEdit",e[e.ContractorPaymentRequestView=10116]="ContractorPaymentRequestView",e[e.ContractorPaymentRequestDelete=10117]="ContractorPaymentRequestDelete",e[e.ManageContractorPaymentRequestDocuments=10126]="ManageContractorPaymentRequestDocuments",e[e.ContractorPaymentRequestChangeStatus=10127]="ContractorPaymentRequestChangeStatus",e[e.ContractorPaymentRequestPrint=10128]="ContractorPaymentRequestPrint",e[e.ViewDeductionsAdditions=10162]="ViewDeductionsAdditions",e[e.AddDeductionsAdditions=10163]="AddDeductionsAdditions",e[e.EditDeductionsAdditions=10164]="EditDeductionsAdditions",e[e.DeleteDeductionsAdditions=10165]="DeleteDeductionsAdditions",e[e.ProjectsOfficials=11097]="ProjectsOfficials",e[e.ViewProjectsPricing=17102]="ViewProjectsPricing",e[e.AddProjectsPricing=17103]="AddProjectsPricing",e[e.EditProjectsPricing=17104]="EditProjectsPricing",e[e.DeleteProjectsPricing=17105]="DeleteProjectsPricing",e[e.PricingRatioSettings=17106]="PricingRatioSettings",e[e.Approveprojectspricing=17107]="Approveprojectspricing",e[e.ManageProjectsPricingDocuments=17108]="ManageProjectsPricingDocuments",e[e.ViewActualExecutions=18105]="ViewActualExecutions",e[e.EditActualExecutions=18106]="EditActualExecutions",e[e.DeleteActualExecutions=18107]="DeleteActualExecutions",e[e.ViewProjectsDepartments=18108]="ViewProjectsDepartments",e[e.EditProjectsDepartments=18109]="EditProjectsDepartments",e[e.DeleteProjectsDepartments=18110]="DeleteProjectsDepartments",e[e.AddProjectsDepartments=18111]="AddProjectsDepartments",e[e.ViewClausesOfWorks=18112]="ViewClausesOfWorks",e[e.AddClausesOfWorks=18113]="AddClausesOfWorks",e[e.EditClausesOfWorks=18114]="EditClausesOfWorks",e[e.DeleteClausesOfWorks=18115]="DeleteClausesOfWorks",e}({})},20590:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var i=n(31572);let r=(()=>{class e{transform(e,t){return isNaN(e)||null==e?"":new Intl.NumberFormat("en",{minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"numberFormat",type:e,pure:!0}),e})()}}]);
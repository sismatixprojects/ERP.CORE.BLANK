(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["src_app_page_HR_ManageEmployeeModule_HrManageEmployee_module_ts"],{36618:function(e,t,n){"use strict";n.r(t),n.d(t,{HrManageEmployeeModule:function(){return Vh},childLoaderFactory:function(){return Rh}});var a=n(61511),i=n(59218),l=n(45593),r=n(16073),o=n(29063),s=n(53544),d=n(88402),c=n(96898),m=n(48160),p=n(20180),h=n(64802),u=n(33398),y=n(40925),g=n(31572),v=n(7427),S=n(16395),f=n(62120),b=n(71825),E=n(76757),x=n(72796),C=n(77915),D=n(90159);function _(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",2),g["\u0275\u0275elementStart"](1,"h1"),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function I(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",3),g["\u0275\u0275elementStart"](2,"div",4),g["\u0275\u0275elementStart"](3,"div",5),g["\u0275\u0275elementStart"](4,"h6",6),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",7),g["\u0275\u0275elementStart"](8,"div",8),g["\u0275\u0275elementStart"](9,"app-Matix-table",9),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnExcel",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnExcel()})("OnPrint",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnPrint(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"employee")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}let w=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.cd=e,this._generalService=t,this._employeesService=n,this._router=a,this.translate=i,this._translateGlobalService=l,this._printService=r,this._Excel=o,this._authService=s,this._convertToPDF=d,this.EmployeeList=[],this.totalCount=0,this.title="",this.subsidiaryID=0,this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"fullname_ar",sortByEn:"fullname_en",displayName:"name"},{sortByAr:"civilnumber",sortByEn:"civilnumber",displayName:"civilNumber"},{sortByAr:"dateofhiringstring",sortByEn:"dateofhiringstring",displayName:"dateofhiring"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["employee"]).subscribe(e=>{this.title=e.employee,document.title=this.title})})}ngOnInit(){this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(e=>{this.EmployeeList=e,this.cd.markForCheck()}),this._employeesService.CountOfEmployee("",this.subsidiaryID).subscribe(e=>{this.totalCount=e.employees,this.cd.markForCheck()})}OnAdd(){this._router.navigateByUrl("page/hr/manageemployee/employees/0")}OnShow(e){this._router.navigateByUrl("page/hr/manageemployee/employees/"+e+"/show")}OnEdit(e){this._router.navigateByUrl("page/hr/manageemployee/employees/"+e)}OnPrint(e=0){let t=" ",n="ar"==this.lang?"rtl":"ltr",a="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Employees",i="ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f":"Code",l="ar"==this.lang?"\u0627\u0644\u0627\u0633\u0645":"Name",r="ar"==this.lang?"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0645\u062f\u0646\u0649":"Civil number",o="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0639\u064a\u064a\u0646":"Date of hiring";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(s=>{this.cd.markForCheck(),t=`\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;" >${a}</div>\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir=${n}>\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>${i}</th>              \n            <th>${l}</th>\n            <th>${r}</th>              \n            <th>${o}</th>\n            </tr>\n           </thead>\n           <tbody>\n      `,s.map(e=>{t+=`\n          <tr>\n            <td>${e.code}</td>\n            <td>${"ar"==this.lang?e.fullname_ar:e.fullname_en}</td>\n            <td>${e.civilnumber}</td>\n            <td>${e.dateofhiring}</td>\n          </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0643\u0648\u062f":t.code,"\u0627\u0644\u0627\u0633\u0645":t.fullname_ar,"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0645\u062f\u0646\u0649":t.civilnumber,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0639\u064a\u064a\u0646":t.dateofhiring}:{Code:t.code,Name:t.fullname_en,"Civil number":t.civilnumber,"Date of hiring":t.dateofhiring})}),this._Excel.exportAsExcelFile(e,"Employees")})}EmployeeSearch(e){Object.assign(this._searchModel,e),this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(e=>{this.EmployeeList=e,this.cd.markForCheck()}),this._employeesService.CountOfEmployee(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeSort(e){Object.assign(this._searchModel,e),this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(e=>{this.EmployeeList=e,this.cd.markForCheck()}),this._employeesService.CountOfEmployee(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](b.$),g["\u0275\u0275directiveInject"](E.x),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](C.z))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-EmployeeListing"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnExcel","OnPrint","OnSearch","OnSort"]],template:function(e,t){1&e&&(g["\u0275\u0275template"](0,_,4,3,"div",0),g["\u0275\u0275template"](1,I,10,7,"section",1)),2&e&&(g["\u0275\u0275property"]("ngIf",!t.checkRoleParms(400)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[a.O5,D.u],pipes:[m.X$],styles:[""]}),e})();class T{constructor(){this.firstname_ar="",this.secondname_ar="",this.thirdname_ar="",this.lastname_ar="",this.fullname_ar="",this.firstname_en="",this.secondname_en="",this.thirdname_en="",this.lastname_en="",this.fullname_en="",this.employeestatus_en="",this.employeestatus_ar="",this.subsidaryid=null}}var M=n(22501),k=n.n(M),B=n(25181),F=n(82270),H=n(29743);class R{constructor(){this.civilnumber="",this.maritalstatusid=null,this.gender=null,this.nationalityid=null,this.religionid=null,this.birthdate=null,this.birthplace="",this.mobilenumber="",this.emailadress="",this.directmanagerid=null,this.subsidaryid=null}}var O=n(31663),V=n(24490),A=n(58705);function N(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function G(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function P(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",32),g["\u0275\u0275template"](1,N,2,1,"div",33),g["\u0275\u0275template"](2,G,2,1,"div",33),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function j(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function $(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function U(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",32),g["\u0275\u0275template"](1,j,2,1,"div",33),g["\u0275\u0275template"](2,$,2,1,"div",33),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function L(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function J(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function z(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",32),g["\u0275\u0275template"](1,L,2,1,"div",33),g["\u0275\u0275template"](2,J,2,1,"div",33),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Y(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function q(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Q(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",32),g["\u0275\u0275template"](1,Y,2,1,"div",33),g["\u0275\u0275template"](2,q,2,1,"div",33),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function K(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function W(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function X(e,t){if(1&e&&(g["\u0275\u0275template"](0,K,2,1,"div",33),g["\u0275\u0275template"](1,W,2,1,"div",33)),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngIf","ar"==e.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Z(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",34),g["\u0275\u0275element"](1,"i",35),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}let ee=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._nationalityService=d,this._maritalStatusService=c,this._religionsService=m,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new R,this._oldEmployeeT="",this.nationalityList=[],this.maritalStatusList=[],this.religionList=[],this.managerList=[],this.genderList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","No","MissData","savedChanges","Yes"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetNationality(),this.GetMaritalStatus(),this.GetReligion(),this.GetGender(),this.GetData()})}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeesService.GetEmployeePersonalDataById(this.EmployeeID).subscribe(e=>{this._employeeT.id=this.EmployeeID,this._employeeT.civilnumber=e.civilnumber,this._employeeT.maritalstatusid=e.maritalstatusid,this._employeeT.gender=e.gender,this._employeeT.nationalityid=e.nationalityid,this._employeeT.religionid=e.religionid,this._employeeT.birthdate=e.birthdate,this._employeeT.birthplace=e.birthplace,this._employeeT.mobilenumber=e.mobilenumber,this._employeeT.emailadress=e.emailadress,this._employeeT.directmanagerid=e.directmanagerid,e.directmanagerid>0&&(this._employeeT.directmanageremployee=new Object,this._employeeT.directmanageremployee.id=e.directmanagerid,this._employeeT.directmanageremployee.fullname_ar=e.directmanagerfullname_ar,this._employeeT.directmanageremployee.fullname_en=e.directmanagerfullname_en,this._employeeT.directmanageremployee.code=e.directmanagercode,this._employeeT.directmanageremployee.name_ar=e.directmanagercode+" | "+e.directmanagerfullname_ar,this._employeeT.directmanageremployee.name=e.directmanagercode+" | "+e.directmanagerfullname_en),this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}GetNationality(){this._nationalityService.GetAllForDropdown().subscribe(e=>{this.nationalityList=e,this.cd.markForCheck()})}GetMaritalStatus(){this._maritalStatusService.GetAllForDropdown().subscribe(e=>{this.maritalStatusList=e,this.cd.markForCheck()})}GetReligion(){this._religionsService.GetAllForDropdown().subscribe(e=>{this.religionList=e,this.cd.markForCheck()})}GetGender(){this._employeesService.GetStaticValues("Gender").subscribe(e=>{this.genderList=e,this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onCompleteEmployeeAuto(e){let t="";t=e.query?e.query.trim():"",this._employeesService.getHrEmployees(this.subsidiaryID,t).subscribe(e=>{this.managerList=[],this.managerList=[...this.managerList,...e],this.cd.markForCheck()})}onFocusInAutoEmployeeComplete(e){let t=e.target.value;null!=t&&""!=t||this.onCompleteEmployeeAuto(e),this.onCompleteEmployeeAuto(e)}onSelectEmployeeAuto(e){this._employeeT.directmanagerid=e.id}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.id>0&&this._employeesService.UpdateEmployeePersonalData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)})}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("page/hr/manageemployee/employees")}):this.router.navigateByUrl("page/hr/manageemployee/employees")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](O.R),g["\u0275\u0275directiveInject"](V.E),g["\u0275\u0275directiveInject"](A.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-personal-data-form"]],decls:94,vars:69,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","civilNumber",1,"col-form-label"],["type","text","name","civilNumber",1,"form-control",3,"ngModel","ngModelChange"],["id","maritalstatusid",1,"col-form-label"],["name","maritalstatusid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","gender",1,"col-form-label"],["name","gender",1,"form-control",3,"ngModel","ngModelChange"],["id","nationalityID",1,"col-form-label"],["name","nationalityID",1,"form-control",3,"ngModel","ngModelChange"],["id","Religionid",1,"col-form-label"],["name","Religionid",1,"form-control",3,"ngModel","ngModelChange"],["id","birthdate",1,"col-form-label"],["type","Date","id","birthdate","name","birthdate",1,"form-control",3,"ngModel","ngModelChange"],["id","birthplace",1,"col-form-label"],["type","text","name","birthplace",1,"form-control",3,"ngModel","ngModelChange"],["id","mobilenumber",1,"col-form-label"],["type","text","name","mobilenumber",1,"form-control",3,"ngModel","ngModelChange"],["id","emailadress",1,"col-form-label"],["type","text","name","emailadress",1,"form-control",3,"ngModel","ngModelChange"],["id","Employee"],["delay","0","id","Employee","minLength","0","name","code",1,"inline-flex",3,"ngModel","suggestions","field","completeMethod","onFocus","onSelect","ngModelChange"],["autoEmployee",""],["pTemplate","item"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"value"],[4,"ngIf"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"input",6),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.civilnumber=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",3),g["\u0275\u0275elementStart"](11,"div",4),g["\u0275\u0275elementStart"](12,"label",7),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"select",8),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.maritalstatusid=e}),g["\u0275\u0275elementStart"](16,"option",9),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](19,P,3,3,"option",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"div",3),g["\u0275\u0275elementStart"](21,"div",4),g["\u0275\u0275elementStart"](22,"label",11),g["\u0275\u0275text"](23),g["\u0275\u0275pipe"](24,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"select",12),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.gender=e}),g["\u0275\u0275elementStart"](26,"option",9),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](29,U,3,3,"option",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"div",2),g["\u0275\u0275elementStart"](31,"div",3),g["\u0275\u0275elementStart"](32,"div",4),g["\u0275\u0275elementStart"](33,"label",13),g["\u0275\u0275text"](34),g["\u0275\u0275pipe"](35,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"select",14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.nationalityid=e}),g["\u0275\u0275elementStart"](37,"option",9),g["\u0275\u0275text"](38),g["\u0275\u0275pipe"](39,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](40,z,3,3,"option",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"div",3),g["\u0275\u0275elementStart"](42,"div",4),g["\u0275\u0275elementStart"](43,"label",15),g["\u0275\u0275text"](44),g["\u0275\u0275pipe"](45,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](46,"select",16),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.religionid=e}),g["\u0275\u0275elementStart"](47,"option",9),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](50,Q,3,3,"option",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"div",3),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"label",17),g["\u0275\u0275text"](54),g["\u0275\u0275pipe"](55,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](56,"input",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.birthdate=e}),g["\u0275\u0275pipe"](57,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](58,"div",2),g["\u0275\u0275elementStart"](59,"div",3),g["\u0275\u0275elementStart"](60,"div",4),g["\u0275\u0275elementStart"](61,"label",19),g["\u0275\u0275text"](62),g["\u0275\u0275pipe"](63,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](64,"input",20),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.birthplace=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](65,"div",3),g["\u0275\u0275elementStart"](66,"div",4),g["\u0275\u0275elementStart"](67,"label",21),g["\u0275\u0275text"](68),g["\u0275\u0275pipe"](69,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](70,"input",22),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.mobilenumber=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](71,"div",3),g["\u0275\u0275elementStart"](72,"div",4),g["\u0275\u0275elementStart"](73,"label",23),g["\u0275\u0275text"](74),g["\u0275\u0275pipe"](75,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](76,"input",24),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.emailadress=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](77,"div",2),g["\u0275\u0275elementStart"](78,"div",3),g["\u0275\u0275elementStart"](79,"div",4),g["\u0275\u0275elementStart"](80,"label",25),g["\u0275\u0275text"](81),g["\u0275\u0275pipe"](82,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](83,"p-autoComplete",26,27),g["\u0275\u0275listener"]("completeMethod",function(e){return t.onCompleteEmployeeAuto(e)})("onFocus",function(n){g["\u0275\u0275restoreView"](e);const a=g["\u0275\u0275reference"](84);return t.onFocusInAutoEmployeeComplete(n),a.show()})("onSelect",function(e){return t.onSelectEmployeeAuto(e)})("ngModelChange",function(e){return t._employeeT.directmanageremployee=e}),g["\u0275\u0275template"](85,X,2,2,"ng-template",28),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](86,"div",3),g["\u0275\u0275elementStart"](87,"div",3),g["\u0275\u0275elementStart"](88,"div",29),g["\u0275\u0275template"](89,Z,4,4,"button",30),g["\u0275\u0275elementStart"](90,"a",31),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](91),g["\u0275\u0275pipe"](92,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](93,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](8,36,"civilNumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.civilnumber),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](14,38,"maritalstatusid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.maritalstatusid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](18,40,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.maritalStatusList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](24,42,"gender")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.gender),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](28,44,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.genderList),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](35,46,"nationalityID")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.nationalityid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](39,48,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.nationalityList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](45,50,"Religion")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.religionid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,52,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.religionList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](55,54,"BirthDayDate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](57,56,t._employeeT.birthdate,"yyyy-MM-dd")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](63,59,"BirthDayPlace")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.birthplace),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](69,61,"mobilenumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.mobilenumber),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](75,63,"emailadress")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.emailadress),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](82,65,"directmanager")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.directmanageremployee)("suggestions",t.managerList)("field","ar"==t.lang?"name_ar":"name"),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](92,67,"Cancel")," "))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.EJ,r.YN,r.Kr,a.sg,s.Qc,H.jx,a.O5],pipes:[m.X$,a.uU],styles:[""]}),e})();class te{constructor(){this.jobsite=null,this.sectionid=null,this.department=null,this.contracttypeid=null,this.category="",this.degree="",this.professionsjobid=null,this.dateofhiring=null,this.workstartdate=null,this.costcenterid=null,this.vacationuntildate=null,this.vacationdays=null,this.vacationdaysafter=null,this.noticeperioddays=null,this.stbbonusdays=null,this.stbbonusdaysafter=null}}var ne=n(29609),ae=n(97441),ie=n(78216),le=n(55115),re=n(30445),oe=n(57897),se=n(37516),de=n(35248);const ce=["autocostcenter"],me=["RForm"];function pe(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function he(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function ue(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",47),g["\u0275\u0275template"](1,pe,2,1,"div",48),g["\u0275\u0275template"](2,he,2,1,"div",48),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ye(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function ge(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function ve(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",47),g["\u0275\u0275template"](1,ye,2,1,"div",48),g["\u0275\u0275template"](2,ge,2,1,"div",48),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Se(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function fe(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function be(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",47),g["\u0275\u0275template"](1,Se,2,1,"div",48),g["\u0275\u0275template"](2,fe,2,1,"div",48),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ee(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function xe(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Ce(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",47),g["\u0275\u0275template"](1,Ee,2,1,"div",48),g["\u0275\u0275template"](2,xe,2,1,"div",48),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function De(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function _e(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Ie(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",47),g["\u0275\u0275template"](1,De,2,1,"div",48),g["\u0275\u0275template"](2,_e,2,1,"div",48),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function we(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",49),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Te(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",49),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"WorkStartDateGreaterThanHiring")," "))}function Me(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.sugar)}}function ke(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.sug)}}function Be(e,t){if(1&e&&(g["\u0275\u0275template"](0,Me,2,1,"div",48),g["\u0275\u0275template"](1,ke,2,1,"div",48)),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngIf","ar"==e.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Fe(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",4),g["\u0275\u0275elementStart"](1,"label",50),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",51),g["\u0275\u0275listener"]("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().ChangeSTBBonusDaysAfter()})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.stbbonusdaysafter=t}),g["\u0275\u0275element"](5,"option",7),g["\u0275\u0275elementStart"](6,"option",7),g["\u0275\u0275text"](7,"26"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"option",7),g["\u0275\u0275text"](9,"30"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"option",7),g["\u0275\u0275text"](11),g["\u0275\u0275pipe"](12,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,7,"stbbonusdaysafter")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.stbbonusdaysafter),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",26),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",30),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",0),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](12,9,"Other"))}}function He(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",4),g["\u0275\u0275elementStart"](1,"label",50),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"input",52),g["\u0275\u0275listener"]("keyup",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().ChangeSTBBonusDaysAfterText()})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.stbbonusdaysafter=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"stbbonusdaysafter")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.stbbonusdaysafter)}}function Re(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"a",53),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("href","/page/hr/manageemployee/changeemployeedata/"+e._employeeT.id,g["\u0275\u0275sanitizeUrl"]),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Add")," ")}}function Oe(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",54),g["\u0275\u0275element"](1,"i",55),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}const Ve=function(e,t){return{"invalid-data":e,"valid-data":t}};let Ae=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m,p,h,u){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._sectionsService=d,this._contractTypesService=c,this._professionsJobsService=m,this._branchService=p,this._departmentService=h,this._employeeVacationsService=u,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.NumNotExist="",this.VacationUntilDateMsg="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new te,this._oldEmployeeT="",this.jobSiteList=[],this.departmentList=[],this.sectionList=[],this.contractTypeList=[],this.ProfessionsJobList=[],this.costcenterList=[],this.VacationUntilDateValid=!0,this.showSTBBonusDaysAfterTextbox=!1,this.showSTBBonusDaysAfterDropdown=!0,this.WorkStartDateValid=!0,this.WorkStartDate=null,this.showAddButton=!1,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","NumNotExist","VacationUntilDateMsg","DataSavedsuccessfully","No","MissData","savedChanges","Yes"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.NumNotExist=e.NumNotExist,this.VacationUntilDateMsg=e.VacationUntilDateMsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetJobSites(),this.GetDepartments(),this.GetSections(),this.GetContractTypes(),this.GetProfessionsJobs(),this.GetData(),this.GetEmployeeDataForValidation()})}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeesService.GetEmployeeFunctionalInformationById(this.EmployeeID,this.lang).subscribe(e=>{this._employeeT.id=this.EmployeeID,this._employeeT.jobsite=e.jobsite,this._employeeT.sectionid=e.sectionid,this._employeeT.department=e.department,this._employeeT.contracttypeid=e.contracttypeid,this._employeeT.category=e.category,this._employeeT.degree=e.degree,this._employeeT.professionsjobid=e.professionsjobid,this._employeeT.dateofhiring=e.dateofhiring,this._employeeT.workstartdate=e.workstartdate,this._employeeT.costcenterid=e.costcenterid,this._employeeT.vacationuntildate=e.vacationuntildate,this._employeeT.vacationdays=e.vacationdays,this._employeeT.vacationdaysafter=e.vacationdaysafter,this._employeeT.noticeperioddays=e.noticeperioddays,this._employeeT.stbbonusdays=e.stbbonusdays,this._employeeT.stbbonusdaysafter=e.stbbonusdaysafter,null==this._employeeT.stbbonusdaysafter||0==this._employeeT.stbbonusdaysafter||this._employeeT.stbbonusdaysafter>0&&(26==this._employeeT.stbbonusdaysafter||30==this._employeeT.stbbonusdaysafter)?(this.showSTBBonusDaysAfterDropdown=!0,this.showSTBBonusDaysAfterTextbox=!1):(this.showSTBBonusDaysAfterDropdown=!1,this.showSTBBonusDaysAfterTextbox=!0),e.costcenterid>0&&(this._employeeT.costcenterobj={id:e.costcenterid,name_ar:e.costcentername_ar,name:e.costcentername_en,code:e.costcentercode,sugar:e.costcentercode+" | "+e.costcentername_ar,sug:e.costcentercode+" | "+e.costcentername_en,costcentercode:e.costcentercode+" | "+e.costcentername_ar}),this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}GetJobSites(){this._branchService.GetAllForDropdown().subscribe(e=>{this.jobSiteList=e,this.cd.markForCheck()})}GetDepartments(){this._departmentService.GetAllForDropdown().subscribe(e=>{this.departmentList=e,this.cd.markForCheck()})}GetSections(){this._sectionsService.GetAllForDropdown().subscribe(e=>{this.sectionList=e,this.cd.markForCheck()})}GetContractTypes(){this._contractTypesService.GetAllForDropdown().subscribe(e=>{this.contractTypeList=e,this.cd.markForCheck()})}GetProfessionsJobs(){this._professionsJobsService.GetAllForDropdown(this.subsidiaryID).subscribe(e=>{this.ProfessionsJobList=e,this.cd.markForCheck()})}Getcostcenter(e){this._employeesService.Getcostcenter(this.subsidiaryID,e.query.trim(),this.lang).subscribe(e=>{this.costcenterList=[],this.costcenterList=[...this.costcenterList,...e],0==this.costcenterList.length&&this.toastr.success(this.NumNotExist),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}GetEmployeeDataForValidation(){this.WorkStartDate=null,this._employeeVacationsService.GetEmployeeDataForValidation(this.EmployeeID).subscribe(e=>{null!=e&&(null!=e.workstartdate?(this.WorkStartDate=e.workstartdate,this.showAddButton=!0):this.showAddButton=!1)})}onSelectcostcenter(e){this._employeeT.costcenterid=e.id;let t=e.id;null!=t&&null!=t&&""!=t||(this._employeeT.costcenterid=null),this.cd.markForCheck()}onFocusInAutoComplete(e){let t=e.target.value;null!=t&&null!=t&&""!=t||(this._employeeT.costcenterid=null,this.autocostcenter.completeMethod.emit({originalEvent:e,query:""}))}onFocusOutAutoComplete(e){let t=e.target.value;null!=t&&null!=t&&""!=t||(this._employeeT.costcenterid=null)}validateVacationUntilDate(){if(null!=this._employeeT.workstartdate&&null!=this._employeeT.workstartdate&&""!=this._employeeT.workstartdate.toString()&&null!=this._employeeT.vacationuntildate&&null!=this._employeeT.vacationuntildate&&""!=this._employeeT.vacationuntildate.toString()){let e=ne(`${this._employeeT.workstartdate}`,"YYYY-MM-DD").format(),t=ne(`${this._employeeT.vacationuntildate}`,"YYYY-MM-DD").format();0==ne(e).isSameOrBefore(t)?(this.VacationUntilDateValid=!1,this.toastr.error(this.VacationUntilDateMsg)):this.VacationUntilDateValid=!0}else this.VacationUntilDateValid=!0;this.cd.markForCheck()}ChangeSTBBonusDaysAfter(){0==this._employeeT.stbbonusdaysafter?(this.showSTBBonusDaysAfterTextbox=!0,this.showSTBBonusDaysAfterDropdown=!1):(this.showSTBBonusDaysAfterTextbox=!1,this.showSTBBonusDaysAfterDropdown=!0)}ChangeSTBBonusDaysAfterText(){0==this._employeeT.stbbonusdaysafter?(this.showSTBBonusDaysAfterTextbox=!1,this.showSTBBonusDaysAfterDropdown=!0):(this.showSTBBonusDaysAfterTextbox=!0,this.showSTBBonusDaysAfterDropdown=!1)}validateWorkStartDate(){this.WorkStartDateValid=null==this._employeeT.dateofhiring||null==this._employeeT.workstartdate||!(this._employeeT.workstartdate<this._employeeT.dateofhiring)}onWorkStartDateChange(){this.validateWorkStartDate()}onHiringDateChange(){this.validateWorkStartDate()}PreSave(e){this.validateVacationUntilDate(),0!=this.VacationUntilDateValid&&!this.RForm.form.invalid&&this.WorkStartDateValid&&this.onSave(e)}onSave(e){this._employeeT.id>0&&this._employeesService.UpdateEmployeeFunctionalInformation(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)})}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("page/hr/manageemployee/employees")}):this.router.navigateByUrl("page/hr/manageemployee/employees")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](ae.J),g["\u0275\u0275directiveInject"](ie.x),g["\u0275\u0275directiveInject"](le._),g["\u0275\u0275directiveInject"](re.b),g["\u0275\u0275directiveInject"](oe.n),g["\u0275\u0275directiveInject"](se.C))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-functional-information-form"]],viewQuery:function(e,t){if(1&e&&(g["\u0275\u0275viewQuery"](ce,5),g["\u0275\u0275viewQuery"](me,5)),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.autocostcenter=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},decls:143,vars:109,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","jobSite",1,"col-form-label"],["name","jobSite","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","sectionid",1,"col-form-label"],["name","sectionid","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","department",1,"col-form-label"],["name","department","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","contracttypeid",1,"col-form-label"],["name","contracttypeid","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","category",1,"col-form-label"],["type","text","name","category","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","degree",1,"col-form-label"],["type","text","name","degree","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","jobtitleid",1,"col-form-label"],["name","jobtitleid","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","dateofhiring",1,"col-form-label"],["type","Date","id","dateofhiring","name","dateofhiring",1,"form-control",3,"ngModel","ngModelChange","change"],["id","workstartdate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","workstartdate","name","workstartdate",1,"form-control",3,"ngModel","required","ngClass","ngModelChange","change"],["DateWorkStartDate","ngModel"],["style","color: red",4,"ngIf"],["field","costcentercode","name","costcentercode","disabled","",1,"w-100",3,"ngModel","suggestions","onFocus","focusout","ngModelChange","onSelect","completeMethod"],["autocostcenter",""],["pTemplate","item"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","vacationuntildate",1,"col-form-label"],["type","Date","id","vacationuntildate","name","vacationuntildate",1,"form-control",3,"ngModel","ngModelChange"],["id","vacationdays",1,"col-form-label"],["PositiveNumbersWithoutDecimal","","type","text","name","vacationdays",1,"form-control",3,"ngModel","ngModelChange"],["id","vacationdaysafter",1,"col-form-label"],["PositiveNumbersWithoutDecimal","","type","text","name","vacationdaysafter",1,"form-control",3,"ngModel","ngModelChange"],["id","noticeperioddays",1,"col-form-label"],["PositiveNumbersWithoutDecimal","","type","text","name","noticeperioddays",1,"form-control",3,"ngModel","ngModelChange"],["id","stbbonusdays",1,"col-form-label"],["PositiveNumbersWithoutDecimal","","type","text","name","stbbonusdays",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],[1,"col-12",2,"margin-top","20px"],["class","btn mr-1 border btn-success",3,"href",4,"ngIf"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"value"],[4,"ngIf"],[2,"color","red"],["id","stbbonusdaysafter",1,"col-form-label"],["name","stbbonusdaysafter",1,"form-control",3,"ngModel","change","ngModelChange"],["PositiveNumbersWithoutDecimal","","type","text","name","stbbonusdaysafter",1,"form-control",3,"ngModel","keyup","ngModelChange"],[1,"btn","mr-1","border","btn-success",3,"href"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.PreSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"select",6),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.jobsite=e}),g["\u0275\u0275elementStart"](10,"option",7),g["\u0275\u0275text"](11),g["\u0275\u0275pipe"](12,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](13,ue,3,3,"option",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"div",3),g["\u0275\u0275elementStart"](15,"div",4),g["\u0275\u0275elementStart"](16,"label",9),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"select",10),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.sectionid=e}),g["\u0275\u0275elementStart"](20,"option",7),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](23,ve,3,3,"option",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"div",3),g["\u0275\u0275elementStart"](25,"div",4),g["\u0275\u0275elementStart"](26,"label",11),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"select",12),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.department=e}),g["\u0275\u0275elementStart"](30,"option",7),g["\u0275\u0275text"](31),g["\u0275\u0275pipe"](32,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](33,be,3,3,"option",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](34,"div",2),g["\u0275\u0275elementStart"](35,"div",3),g["\u0275\u0275elementStart"](36,"div",4),g["\u0275\u0275elementStart"](37,"label",13),g["\u0275\u0275text"](38),g["\u0275\u0275pipe"](39,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"select",14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.contracttypeid=e}),g["\u0275\u0275elementStart"](41,"option",7),g["\u0275\u0275text"](42),g["\u0275\u0275pipe"](43,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](44,Ce,3,3,"option",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"div",3),g["\u0275\u0275elementStart"](46,"div",4),g["\u0275\u0275elementStart"](47,"label",15),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"input",16),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.category=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"div",3),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"label",17),g["\u0275\u0275text"](54),g["\u0275\u0275pipe"](55,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](56,"input",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.degree=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](57,"div",2),g["\u0275\u0275elementStart"](58,"div",3),g["\u0275\u0275elementStart"](59,"div",4),g["\u0275\u0275elementStart"](60,"label",19),g["\u0275\u0275text"](61),g["\u0275\u0275pipe"](62,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](63,"select",20),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.professionsjobid=e}),g["\u0275\u0275elementStart"](64,"option",7),g["\u0275\u0275text"](65),g["\u0275\u0275pipe"](66,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](67,Ie,3,3,"option",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](68,"div",3),g["\u0275\u0275elementStart"](69,"div",4),g["\u0275\u0275elementStart"](70,"label",21),g["\u0275\u0275text"](71),g["\u0275\u0275pipe"](72,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](73,"input",22),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.dateofhiring=e})("change",function(){return t.onHiringDateChange()}),g["\u0275\u0275pipe"](74,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](75,"div",3),g["\u0275\u0275elementStart"](76,"div",4),g["\u0275\u0275elementStart"](77,"label",23),g["\u0275\u0275text"](78),g["\u0275\u0275pipe"](79,"translate"),g["\u0275\u0275elementStart"](80,"span",24),g["\u0275\u0275text"](81,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](82,"input",25,26),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.workstartdate=e})("change",function(){return t.onWorkStartDateChange()}),g["\u0275\u0275pipe"](84,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](85,we,3,3,"span",27),g["\u0275\u0275template"](86,Te,3,3,"span",27),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](87,"div",2),g["\u0275\u0275elementStart"](88,"div",3),g["\u0275\u0275elementStart"](89,"div",4),g["\u0275\u0275elementStart"](90,"label"),g["\u0275\u0275text"](91),g["\u0275\u0275pipe"](92,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](93,"p-autoComplete",28,29),g["\u0275\u0275listener"]("onFocus",function(n){g["\u0275\u0275restoreView"](e);const a=g["\u0275\u0275reference"](94);return t.onFocusInAutoComplete(n),a.show()})("focusout",function(e){return t.onFocusOutAutoComplete(e)})("ngModelChange",function(e){return t._employeeT.costcenterobj=e})("onSelect",function(e){return t.onSelectcostcenter(e)})("completeMethod",function(e){return t.Getcostcenter(e)}),g["\u0275\u0275template"](95,Be,2,2,"ng-template",30),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](96,"div",3),g["\u0275\u0275elementStart"](97,"div",2),g["\u0275\u0275elementStart"](98,"div",31),g["\u0275\u0275elementStart"](99,"div",4),g["\u0275\u0275elementStart"](100,"label",32),g["\u0275\u0275text"](101),g["\u0275\u0275pipe"](102,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](103,"input",33),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.vacationuntildate=e,t.validateVacationUntilDate()}),g["\u0275\u0275pipe"](104,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](105,"div",31),g["\u0275\u0275elementStart"](106,"div",4),g["\u0275\u0275elementStart"](107,"label",34),g["\u0275\u0275text"](108),g["\u0275\u0275pipe"](109,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](110,"input",35),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.vacationdays=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](111,"div",3),g["\u0275\u0275elementStart"](112,"div",4),g["\u0275\u0275elementStart"](113,"label",36),g["\u0275\u0275text"](114),g["\u0275\u0275pipe"](115,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](116,"input",37),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.vacationdaysafter=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](117,"div",2),g["\u0275\u0275elementStart"](118,"div",3),g["\u0275\u0275elementStart"](119,"div",4),g["\u0275\u0275elementStart"](120,"label",38),g["\u0275\u0275text"](121),g["\u0275\u0275pipe"](122,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](123,"input",39),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.noticeperioddays=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](124,"div",3),g["\u0275\u0275elementStart"](125,"div",4),g["\u0275\u0275elementStart"](126,"label",40),g["\u0275\u0275text"](127),g["\u0275\u0275pipe"](128,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](129,"input",41),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.stbbonusdays=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](130,"div",3),g["\u0275\u0275template"](131,Fe,13,11,"div",42),g["\u0275\u0275template"](132,He,5,4,"div",42),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](133,"div",2),g["\u0275\u0275element"](134,"div",3),g["\u0275\u0275element"](135,"div",3),g["\u0275\u0275elementStart"](136,"div",3),g["\u0275\u0275elementStart"](137,"div",43),g["\u0275\u0275template"](138,Re,3,4,"a",44),g["\u0275\u0275template"](139,Oe,4,4,"button",45),g["\u0275\u0275elementStart"](140,"a",46),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](141),g["\u0275\u0275pipe"](142,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275reference"](2),n=g["\u0275\u0275reference"](83);g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](8,55,"jobSite")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.jobsite),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](12,57,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.jobSiteList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](18,59,"sectionid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.sectionid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,61,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.sectionList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](28,63,"department")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.department),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](32,65,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.departmentList),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](39,67,"contracttypeid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.contracttypeid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](43,69,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.contractTypeList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,71,"category")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.category),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](55,73,"degree")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.degree),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](62,75,"job")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.professionsjobid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](66,77,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.ProfessionsJobList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](72,79,"dateofhiring"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](74,81,t._employeeT.dateofhiring,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](79,84,"workstartdate"),""),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](84,86,t._employeeT.workstartdate,"yyyy-MM-dd"))("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](106,Ve,n.invalid&&e.submitted||!t.WorkStartDateValid,n.valid&&e.submitted&&t.WorkStartDateValid)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",n.invalid&&e.submitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.WorkStartDateValid),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](92,89,"CostCenterId")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.costcenterobj)("suggestions",t.costcenterList),g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](102,91,"vacationuntildate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](104,93,t._employeeT.vacationuntildate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](109,96,"vacationdays")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.vacationdays),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](115,98,"vacationdaysafter")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.vacationdaysafter),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](122,100,"noticeperioddays")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.noticeperioddays),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](128,102,"stbbonusdays")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.stbbonusdays),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.showSTBBonusDaysAfterDropdown),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.showSTBBonusDaysAfterTextbox),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(430)||t.checkRoleParms(431)||t.checkRoleParms(432)||t.checkRoleParms(433)||t.checkRoleParms(434))&&t.showAddButton),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](142,104,"Cancel")," ")}},directives:[r._Y,r.JL,r.F,r.EJ,r.JJ,r.On,r.YN,r.Kr,a.sg,r.Fj,r.Q7,a.mk,a.O5,s.Qc,H.jx,de.k],pipes:[m.X$,a.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}  .p-autocomplete-input.p-inputtext.p-component.ng-star-inserted.p-disabled{color:#000!important;background:#f7f7f8!important;opacity:1!important}"]}),e})();class Ne{constructor(){this.addresscountryid=null,this.addressgovernorateid=null,this.addresscityid=null,this.addressregion="",this.partnumber="",this.departmentnumber="",this.district="",this.street="",this.buildingtype="",this.buildingname="",this.entrance="",this.floor="",this.flat="",this.town="",this.realestatearea="",this.blocknumber="",this.phone1="",this.phone2="",this.mailbox="",this.postalcode="",this.fax="",this.distancefromfacility="",this.address="",this.kinshiprelationid=null,this.emergencycontactphone="",this.emergencycontactname=""}}var Ge=n(63425);function Pe(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",62),g["\u0275\u0275text"](1,"choose"),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function je(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",62),g["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function $e(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.countryname,"")}}function Ue(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.countryname_ar,"")}}function Le(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",63),g["\u0275\u0275template"](1,$e,2,1,"span",64),g["\u0275\u0275template"](2,Ue,2,1,"span",64),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Je(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",62),g["\u0275\u0275text"](1," choose "),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function ze(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",62),g["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function Ye(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function qe(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Qe(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",63),g["\u0275\u0275template"](1,Ye,2,1,"span",64),g["\u0275\u0275template"](2,qe,2,1,"span",64),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Ke(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",62),g["\u0275\u0275text"](1," choose "),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function We(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",62),g["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function Xe(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Ze(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function et(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",63),g["\u0275\u0275template"](1,Xe,2,1,"span",64),g["\u0275\u0275template"](2,Ze,2,1,"span",64),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function tt(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",62),g["\u0275\u0275text"](1," choose "),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function nt(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",62),g["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function at(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function it(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function lt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",63),g["\u0275\u0275template"](1,at,2,1,"span",64),g["\u0275\u0275template"](2,it,2,1,"span",64),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function rt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",65),g["\u0275\u0275element"](1,"i",66),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}let ot=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._kinshipRelationsService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.NumNotExist="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new Ne,this._oldEmployeeT="",this.CountryList=[],this.GovernorateList=[],this.AreaList=[],this.RelationsList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","No","MissData","savedChanges","Yes"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.Country(),this.GetRelations(),this.GetData()})}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeesService.GetEmployeeAddressesAndContactInformationById(this.EmployeeID).subscribe(e=>{this._employeeT.id=this.EmployeeID,this._employeeT.addresscountryid=e.addresscountryid,this._employeeT.addressgovernorateid=e.addressgovernorateid,this._employeeT.addresscityid=e.addresscityid,this._employeeT.addressregion=e.addressregion,this._employeeT.partnumber=e.partnumber,this._employeeT.departmentnumber=e.departmentnumber,this._employeeT.district=e.district,this._employeeT.street=e.street,this._employeeT.buildingtype=e.buildingtype,this._employeeT.buildingname=e.buildingname,this._employeeT.entrance=e.entrance,this._employeeT.floor=e.floor,this._employeeT.flat=e.flat,this._employeeT.town=e.town,this._employeeT.realestatearea=e.realestatearea,this._employeeT.blocknumber=e.blocknumber,this._employeeT.phone1=e.phone1,this._employeeT.phone2=e.phone2,this._employeeT.mailbox=e.mailbox,this._employeeT.postalcode=e.postalcode,this._employeeT.fax=e.fax,this._employeeT.distancefromfacility=e.distancefromfacility,this._employeeT.address=e.address,this._employeeT.kinshiprelationid=e.kinshiprelationid,this._employeeT.emergencycontactname=e.emergencycontactname,this._employeeT.emergencycontactphone=e.emergencycontactphone,this.GovernorateByCountryID(),this.ChangeGovernorate(),this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}Country(){this._employeesService.Countries().subscribe(e=>{this.CountryList=e,this.cd.markForCheck()},e=>{console.log("-> err",e),this.toastr.error(this.translate.instant("InternalServerError")),this.cd.markForCheck()})}GovernorateByCountryID(){this._employeesService.GovernorateByCountryID(this._employeeT.addresscountryid).subscribe(e=>{this.GovernorateList=e,this.cd.markForCheck()},e=>{console.log("-> err",e),this.toastr.error(this.translate.instant("InternalServerError")),this.cd.markForCheck()})}AreaByGovernorateID(){this._employeesService.AreaByGovernorateID(this._employeeT.addressgovernorateid,"",this.lang).subscribe(e=>{this.AreaList=e,this.cd.markForCheck()},e=>{console.log("-> err",e),this.toastr.error(this.translate.instant("InternalServerError")),this.cd.markForCheck()})}ChangeCountry(e=1){this.GovernorateList=[],this.AreaList=[],1==e&&(this._employeeT.addressgovernorateid=null,this._employeeT.addresscityid=null),this.GovernorateByCountryID()}ChangeGovernorate(){this.AreaList=[],this.AreaByGovernorateID()}GetRelations(){this._kinshipRelationsService.GetAllForDropdown().subscribe(e=>{this.RelationsList=e,this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.id>0&&this._employeesService.UpdateEmployeeAddressesAndContactInformation(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)})}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("page/hr/manageemployee/employees")}):this.router.navigateByUrl("page/hr/manageemployee/employees")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](Ge.g))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-addresses-contact-information-form"]],decls:198,vars:123,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["for","CountryId",1,"control-label"],["name","addresscountryid",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","GovernorateId",1,"control-label"],["name","GovernorateId",1,"form-control",3,"ngModel","change","ngModelChange"],["for","AreaId"],["name","AreaId",1,"form-control",3,"ngModel","ngModelChange"],["id","addressregion",1,"col-form-label"],["type","text","name","addressregion",1,"form-control",3,"ngModel","ngModelChange"],["id","partnumber",1,"col-form-label"],["type","text","name","partnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","departmentnumber",1,"col-form-label"],["type","text","name","departmentnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","district",1,"col-form-label"],["type","text","name","district",1,"form-control",3,"ngModel","ngModelChange"],["id","street",1,"col-form-label"],["type","text","name","street",1,"form-control",3,"ngModel","ngModelChange"],["id","buildingtype",1,"col-form-label"],["type","text","name","buildingtype",1,"form-control",3,"ngModel","ngModelChange"],["id","buildingname",1,"col-form-label"],["type","text","name","buildingname",1,"form-control",3,"ngModel","ngModelChange"],["id","entrance",1,"col-form-label"],["type","text","name","entrance",1,"form-control",3,"ngModel","ngModelChange"],["id","floor",1,"col-form-label"],["type","text","name","floor",1,"form-control",3,"ngModel","ngModelChange"],["id","flat",1,"col-form-label"],["type","text","name","flat",1,"form-control",3,"ngModel","ngModelChange"],["id","town",1,"col-form-label"],["type","text","name","town",1,"form-control",3,"ngModel","ngModelChange"],["id","realestatearea",1,"col-form-label"],["type","text","name","realestatearea",1,"form-control",3,"ngModel","ngModelChange"],["id","blocknumber",1,"col-form-label"],["type","text","name","blocknumber",1,"form-control",3,"ngModel","ngModelChange"],["id","phone1",1,"col-form-label"],["type","text","name","phone1",1,"form-control",3,"ngModel","ngModelChange"],["id","phone2",1,"col-form-label"],["type","text","name","phone2",1,"form-control",3,"ngModel","ngModelChange"],["id","mailbox",1,"col-form-label"],["type","text","name","mailbox",1,"form-control",3,"ngModel","ngModelChange"],["id","postalcode",1,"col-form-label"],["type","text","name","postalcode",1,"form-control",3,"ngModel","ngModelChange"],["id","fax",1,"col-form-label"],["type","text","name","fax",1,"form-control",3,"ngModel","ngModelChange"],["id","distancefromfacility",1,"col-form-label"],["type","text","name","distancefromfacility",1,"form-control",3,"ngModel","ngModelChange"],["id","address",1,"col-form-label"],["id","address","name","address",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["for","AreaId",1,"col-form-label"],["name","kinshipRelationID",1,"form-control",3,"ngModel","ngModelChange"],["id","emergencyContactName",1,"col-form-label"],["type","text","name","emergencyContactName",1,"form-control",3,"ngModel","ngModelChange"],["id","emergencyContactPhone",1,"col-form-label"],["type","text","name","emergencyContactPhone",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"ngValue"],[3,"value"],[4,"ngIf"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"select",6),g["\u0275\u0275listener"]("change",function(){return t.ChangeCountry()})("ngModelChange",function(e){return t._employeeT.addresscountryid=e}),g["\u0275\u0275template"](10,Pe,2,1,"option",7),g["\u0275\u0275template"](11,je,2,1,"option",7),g["\u0275\u0275template"](12,Le,3,3,"option",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"label",9),g["\u0275\u0275text"](16),g["\u0275\u0275pipe"](17,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"select",10),g["\u0275\u0275listener"]("change",function(){return t.ChangeGovernorate()})("ngModelChange",function(e){return t._employeeT.addressgovernorateid=e}),g["\u0275\u0275template"](19,Je,2,1,"option",7),g["\u0275\u0275template"](20,ze,2,1,"option",7),g["\u0275\u0275template"](21,Qe,3,3,"option",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](22,"div",3),g["\u0275\u0275elementStart"](23,"div",4),g["\u0275\u0275elementStart"](24,"label",11),g["\u0275\u0275text"](25),g["\u0275\u0275pipe"](26,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](27,"select",12),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.addresscityid=e}),g["\u0275\u0275template"](28,Ke,2,1,"option",7),g["\u0275\u0275template"](29,We,2,1,"option",7),g["\u0275\u0275template"](30,et,3,3,"option",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"div",2),g["\u0275\u0275elementStart"](32,"div",3),g["\u0275\u0275elementStart"](33,"div",4),g["\u0275\u0275elementStart"](34,"label",13),g["\u0275\u0275text"](35),g["\u0275\u0275pipe"](36,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](37,"input",14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.addressregion=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"div",3),g["\u0275\u0275elementStart"](39,"div",4),g["\u0275\u0275elementStart"](40,"label",15),g["\u0275\u0275text"](41),g["\u0275\u0275pipe"](42,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](43,"input",16),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.partnumber=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"div",3),g["\u0275\u0275elementStart"](45,"div",4),g["\u0275\u0275elementStart"](46,"label",17),g["\u0275\u0275text"](47),g["\u0275\u0275pipe"](48,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](49,"input",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.departmentnumber=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"div",2),g["\u0275\u0275elementStart"](51,"div",3),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"label",19),g["\u0275\u0275text"](54),g["\u0275\u0275pipe"](55,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](56,"input",20),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.district=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](57,"div",3),g["\u0275\u0275elementStart"](58,"div",4),g["\u0275\u0275elementStart"](59,"label",21),g["\u0275\u0275text"](60),g["\u0275\u0275pipe"](61,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](62,"input",22),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.street=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](63,"div",3),g["\u0275\u0275elementStart"](64,"div",4),g["\u0275\u0275elementStart"](65,"label",23),g["\u0275\u0275text"](66),g["\u0275\u0275pipe"](67,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](68,"input",24),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.buildingtype=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](69,"div",2),g["\u0275\u0275elementStart"](70,"div",3),g["\u0275\u0275elementStart"](71,"div",4),g["\u0275\u0275elementStart"](72,"label",25),g["\u0275\u0275text"](73),g["\u0275\u0275pipe"](74,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](75,"input",26),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.buildingname=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](76,"div",3),g["\u0275\u0275elementStart"](77,"div",4),g["\u0275\u0275elementStart"](78,"label",27),g["\u0275\u0275text"](79),g["\u0275\u0275pipe"](80,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](81,"input",28),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.entrance=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](82,"div",3),g["\u0275\u0275elementStart"](83,"div",4),g["\u0275\u0275elementStart"](84,"label",29),g["\u0275\u0275text"](85),g["\u0275\u0275pipe"](86,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](87,"input",30),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.floor=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](88,"div",2),g["\u0275\u0275elementStart"](89,"div",3),g["\u0275\u0275elementStart"](90,"div",4),g["\u0275\u0275elementStart"](91,"label",31),g["\u0275\u0275text"](92),g["\u0275\u0275pipe"](93,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](94,"input",32),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.flat=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](95,"div",3),g["\u0275\u0275elementStart"](96,"div",4),g["\u0275\u0275elementStart"](97,"label",33),g["\u0275\u0275text"](98),g["\u0275\u0275pipe"](99,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](100,"input",34),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.town=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](101,"div",3),g["\u0275\u0275elementStart"](102,"div",4),g["\u0275\u0275elementStart"](103,"label",35),g["\u0275\u0275text"](104),g["\u0275\u0275pipe"](105,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](106,"input",36),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.realestatearea=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](107,"div",2),g["\u0275\u0275elementStart"](108,"div",3),g["\u0275\u0275elementStart"](109,"div",4),g["\u0275\u0275elementStart"](110,"label",37),g["\u0275\u0275text"](111),g["\u0275\u0275pipe"](112,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](113,"input",38),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.blocknumber=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](114,"div",3),g["\u0275\u0275elementStart"](115,"div",4),g["\u0275\u0275elementStart"](116,"label",39),g["\u0275\u0275text"](117),g["\u0275\u0275pipe"](118,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](119,"input",40),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.phone1=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](120,"div",3),g["\u0275\u0275elementStart"](121,"div",4),g["\u0275\u0275elementStart"](122,"label",41),g["\u0275\u0275text"](123),g["\u0275\u0275pipe"](124,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](125,"input",42),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.phone2=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](126,"div",2),g["\u0275\u0275elementStart"](127,"div",3),g["\u0275\u0275elementStart"](128,"div",4),g["\u0275\u0275elementStart"](129,"label",43),g["\u0275\u0275text"](130),g["\u0275\u0275pipe"](131,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](132,"input",44),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.mailbox=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](133,"div",3),g["\u0275\u0275elementStart"](134,"div",4),g["\u0275\u0275elementStart"](135,"label",45),g["\u0275\u0275text"](136),g["\u0275\u0275pipe"](137,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](138,"input",46),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.postalcode=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](139,"div",3),g["\u0275\u0275elementStart"](140,"div",4),g["\u0275\u0275elementStart"](141,"label",47),g["\u0275\u0275text"](142),g["\u0275\u0275pipe"](143,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](144,"input",48),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.fax=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](145,"div",2),g["\u0275\u0275elementStart"](146,"div",3),g["\u0275\u0275elementStart"](147,"div",4),g["\u0275\u0275elementStart"](148,"label",49),g["\u0275\u0275text"](149),g["\u0275\u0275pipe"](150,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](151,"input",50),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.distancefromfacility=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](152,"div",3),g["\u0275\u0275elementStart"](153,"div",4),g["\u0275\u0275elementStart"](154,"label",51),g["\u0275\u0275text"](155),g["\u0275\u0275pipe"](156,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](157,"textarea",52),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.address=e}),g["\u0275\u0275text"](158,"          "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](159,"div",2),g["\u0275\u0275elementStart"](160,"div",3),g["\u0275\u0275elementStart"](161,"div",53),g["\u0275\u0275elementStart"](162,"h4"),g["\u0275\u0275text"](163),g["\u0275\u0275pipe"](164,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](165,"div",3),g["\u0275\u0275element"](166,"div",3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](167,"div",2),g["\u0275\u0275elementStart"](168,"div",3),g["\u0275\u0275elementStart"](169,"div",4),g["\u0275\u0275elementStart"](170,"label",54),g["\u0275\u0275text"](171),g["\u0275\u0275pipe"](172,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](173,"select",55),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.kinshiprelationid=e}),g["\u0275\u0275template"](174,tt,2,1,"option",7),g["\u0275\u0275template"](175,nt,2,1,"option",7),g["\u0275\u0275template"](176,lt,3,3,"option",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](177,"div",3),g["\u0275\u0275elementStart"](178,"div",4),g["\u0275\u0275elementStart"](179,"label",56),g["\u0275\u0275text"](180),g["\u0275\u0275pipe"](181,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](182,"input",57),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.emergencycontactname=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](183,"div",3),g["\u0275\u0275elementStart"](184,"div",4),g["\u0275\u0275elementStart"](185,"label",58),g["\u0275\u0275text"](186),g["\u0275\u0275pipe"](187,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](188,"input",59),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.emergencycontactphone=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](189,"div",2),g["\u0275\u0275element"](190,"div",3),g["\u0275\u0275element"](191,"div",3),g["\u0275\u0275elementStart"](192,"div",3),g["\u0275\u0275elementStart"](193,"div",53),g["\u0275\u0275template"](194,rt,4,4,"button",60),g["\u0275\u0275elementStart"](195,"a",61),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](196),g["\u0275\u0275pipe"](197,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](8,67,"Country")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.addresscountryid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.CountryList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](17,69,"State")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.addressgovernorateid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang&&t.GovernorateList.length>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==t.lang&&t.GovernorateList.length>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.GovernorateList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](26,71,"AreaOrCity")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.addresscityid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang&&t.AreaList.length>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==t.lang&&t.AreaList.length>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.AreaList),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](36,73,"addressregion")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.addressregion),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](42,75,"partnumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.partnumber),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](48,77,"departmentnumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.departmentnumber),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](55,79,"district")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.district),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](61,81,"street")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.street),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](67,83,"buildingtype")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.buildingtype),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](74,85,"buildingname")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.buildingname),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](80,87,"entrance")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.entrance),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](86,89,"floor")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.floor),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](93,91,"flat")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.flat),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](99,93,"town")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.town),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](105,95,"realestatearea")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.realestatearea),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](112,97,"blocknumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.blocknumber),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](118,99,"phone1")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.phone1),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](124,101,"phone2")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.phone2),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](131,103,"mailbox")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.mailbox),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](137,105,"postalcode")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.postalcode),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](143,107,"fax")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.fax),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](150,109,"distancefromfacility")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.distancefromfacility),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](156,111,"address")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.address),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](164,113,"ContactIfNecessary")," "),g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](172,115,"kinshipRelationID")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.kinshiprelationid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang&&t.RelationsList.length>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==t.lang&&t.RelationsList.length>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.RelationsList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](181,117,"emergencyContactName")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.emergencycontactname),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](187,119,"emergencyContactPhone")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.emergencycontactphone),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](197,121,"Cancel")," "))},directives:[r._Y,r.JL,r.F,r.EJ,r.JJ,r.On,a.O5,a.sg,r.Fj,r.YN,r.Kr],pipes:[m.X$],styles:[""]}),e})();class st{constructor(){this.id=0,this.code="",this.fromdate=null,this.todate=null,this.untilnow=!1,this.facilityname="",this.job="",this.salary=null,this.salarycurrency="",this.referencename="",this.referencejob="",this.facilityphone="",this.countryid=null,this.workplace="",this.leaveworkreasonid=null,this.placeofexperience="",this.typeofexperience="",this.natureofwork="",this.jobclassification="",this.relevanceofexperience="",this.responsibilities="",this.subsidaryid=null}}var dt=n(529),ct=n(79996);let mt=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAll(e,t,n){let a=`/EmployeeExperiences/GetAll?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeExperience(e,t){return this.http.get(this.baseUrl+`/EmployeeExperiences/CountOfEmployeeExperience?searchValue=${e}&subsidaryid=${t}`).pipe((0,ct.U)(e=>e))}GetMaxCode(e){return this.http.get(this.baseUrl+`/EmployeeExperiences/GetMaxCode?subsidaryid=${e}`).pipe((0,ct.U)(e=>e))}Delete(e){return this.http.get(this.baseUrl+`/EmployeeExperiences/Delete?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeExperience(e){return this.http.post(`${this.baseUrl}/EmployeeExperiences/Create`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeExperience(e){return this.http.post(this.baseUrl+"/EmployeeExperiences/Update",e).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var pt=n(96115),ht=n(63567);function ut(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",37),g["\u0275\u0275text"](1,"choose"),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function yt(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",37),g["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function gt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.countryname,"")}}function vt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.countryname_ar,"")}}function St(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",55),g["\u0275\u0275template"](1,gt,2,1,"span",54),g["\u0275\u0275template"](2,vt,2,1,"span",54),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function ft(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function bt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Et(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",55),g["\u0275\u0275template"](1,ft,2,1,"div",54),g["\u0275\u0275template"](2,bt,2,1,"div",54),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function xt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",56),g["\u0275\u0275element"](1,"i",57),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Ct(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",52),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.DeleteExperience(t._experienceT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Dt(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",58),g["\u0275\u0275elementStart"](2,"div",59),g["\u0275\u0275elementStart"](3,"div",60),g["\u0275\u0275elementStart"](4,"h6",61),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",62),g["\u0275\u0275elementStart"](8,"div",63),g["\u0275\u0275elementStart"](9,"app-Matix-table",64),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeExperienceSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeExperienceSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"EmployeeExperience")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeExperienceList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}const _t=function(){return{standalone:!0}};let It=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._employeeExperiencesService=d,this._leaveWorkReasonsService=c,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"facilityname",sortByEn:"facilityname",displayName:"facilityname"},{sortByAr:"job",sortByEn:"job",displayName:"job"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._experienceT=new st,this.EmployeeExperienceList=[],this.CountryList=[],this.LeaveWorkReasonList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.emptyerror=e.emptyerror,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.Country(),this.GetLeaveWorkReasons(),this.GetList(),this.GetData()})}GetLeaveWorkReasons(){this._leaveWorkReasonsService.GetAllForDropdown().subscribe(e=>{this.LeaveWorkReasonList=e,this.cd.markForCheck()})}Country(){this._employeesService.Countries().subscribe(e=>{this.CountryList=e,this.cd.markForCheck()},e=>{console.log("-> err",e),this.toastr.error(this.translate.instant("InternalServerError")),this.cd.markForCheck()})}ngOnInit(){}GetList(){this._employeeExperiencesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeExperienceList=e,this.cd.markForCheck()}),this._employeeExperiencesService.CountOfEmployeeExperience("",this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetData(e=0){0==e?this._employeeExperiencesService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._experienceT.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this.cd.markForCheck()}):this._experienceT=this.EmployeeExperienceList.find(t=>t.id==e)}EmployeeExperienceSearch(e){Object.assign(this._searchModel,e),this._employeeExperiencesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeExperienceList=e,this.cd.markForCheck()}),this._employeeExperiencesService.CountOfEmployeeExperience(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeExperienceSort(e){Object.assign(this._searchModel,e),this._employeeExperiencesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeExperienceList=e,this.cd.markForCheck()}),this._employeeExperiencesService.CountOfEmployeeExperience(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}OnAdd(){this._experienceT=new st,this.showmood=!1,this.GetData()}OnEdit(e){this._experienceT=new st,this.showmood=!1,this.GetData(e)}OnShow(e){this._experienceT=new st,this.showmood=!0,this.GetData(e)}CancelForm(){this._experienceT=new st,this.GetData()}DeleteExperience(e){k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeeExperiencesService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this._experienceT=new st,this.GetList(),this.showmood=!1,this.GetData()):this.toastr.error(this.DeleteRelationmsg)})})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._experienceT.employeeid=this.EmployeeID,this._experienceT.subsidaryid=this.subsidiaryID,this._experienceT.id>0?this._employeeExperiencesService.UpdateEmployeeExperience(this._experienceT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()}):this._employeeExperiencesService.CreateEmployeeExperience(this._experienceT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](mt),g["\u0275\u0275directiveInject"](pt.q))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-experiences-form"]],decls:155,vars:103,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","40px"],["type","checkbox","id","untilnow",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","untilnow"],["id","facilityname",1,"col-form-label"],["type","text","name","facilityname",1,"form-control",3,"ngModel","ngModelChange"],["id","job",1,"col-form-label"],["type","text","name","job",1,"form-control",3,"ngModel","ngModelChange"],["id","salary",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","salary",1,"form-control",3,"ngModel","ngModelChange"],["id","salarycurrency",1,"col-form-label"],["type","text","name","salarycurrency",1,"form-control",3,"ngModel","ngModelChange"],["id","referencename",1,"col-form-label"],["type","text","name","referencename",1,"form-control",3,"ngModel","ngModelChange"],["id","referencejob",1,"col-form-label"],["type","text","name","referencejob",1,"form-control",3,"ngModel","ngModelChange"],["id","facilityphone",1,"col-form-label"],["type","text","name","facilityphone",1,"form-control",3,"ngModel","ngModelChange"],["for","CountryId",1,"control-label"],["name","addresscountryid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["id","workplace",1,"col-form-label"],["type","text","name","workplace",1,"form-control",3,"ngModel","ngModelChange"],["id","leaveworkreasonid",1,"col-form-label"],["name","leaveworkreasonid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["id","placeofexperience",1,"col-form-label"],["type","text","name","placeofexperience",1,"form-control",3,"ngModel","ngModelChange"],["id","typeofexperience",1,"col-form-label"],["type","text","name","typeofexperience",1,"form-control",3,"ngModel","ngModelChange"],["id","natureofwork",1,"col-form-label"],["type","text","name","natureofwork",1,"form-control",3,"ngModel","ngModelChange"],["id","jobclassification",1,"col-form-label"],["type","text","name","jobclassification",1,"form-control",3,"ngModel","ngModelChange"],["id","relevanceofexperience",1,"col-form-label"],["type","text","name","relevanceofexperience",1,"form-control",3,"ngModel","ngModelChange"],["id","responsibilities",1,"col-form-label"],["id","responsibilities","name","responsibilities",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"form",1,2),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](3);return t.onSave(n)}),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"div",5),g["\u0275\u0275elementStart"](7,"label",6),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",4),g["\u0275\u0275element"](12,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"label",8),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"input",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.fromdate=e}),g["\u0275\u0275pipe"](20,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"div",4),g["\u0275\u0275elementStart"](22,"div",5),g["\u0275\u0275elementStart"](23,"label",10),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"input",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.todate=e}),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"div",4),g["\u0275\u0275elementStart"](29,"div",12),g["\u0275\u0275elementStart"](30,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.untilnow=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"label",14),g["\u0275\u0275elementStart"](32,"span"),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"div",3),g["\u0275\u0275elementStart"](36,"div",4),g["\u0275\u0275elementStart"](37,"div",5),g["\u0275\u0275elementStart"](38,"label",15),g["\u0275\u0275text"](39),g["\u0275\u0275pipe"](40,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"input",16),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.facilityname=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](42,"div",4),g["\u0275\u0275elementStart"](43,"div",5),g["\u0275\u0275elementStart"](44,"label",17),g["\u0275\u0275text"](45),g["\u0275\u0275pipe"](46,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](47,"input",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.job=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](48,"div",4),g["\u0275\u0275elementStart"](49,"div",5),g["\u0275\u0275elementStart"](50,"label",19),g["\u0275\u0275text"](51),g["\u0275\u0275pipe"](52,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](53,"input",20),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.salary=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](54,"div",3),g["\u0275\u0275elementStart"](55,"div",4),g["\u0275\u0275elementStart"](56,"div",5),g["\u0275\u0275elementStart"](57,"label",21),g["\u0275\u0275text"](58),g["\u0275\u0275pipe"](59,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](60,"input",22),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.salarycurrency=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](61,"div",4),g["\u0275\u0275elementStart"](62,"div",5),g["\u0275\u0275elementStart"](63,"label",23),g["\u0275\u0275text"](64),g["\u0275\u0275pipe"](65,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](66,"input",24),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.referencename=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](67,"div",4),g["\u0275\u0275elementStart"](68,"div",5),g["\u0275\u0275elementStart"](69,"label",25),g["\u0275\u0275text"](70),g["\u0275\u0275pipe"](71,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](72,"input",26),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.referencejob=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](73,"div",3),g["\u0275\u0275elementStart"](74,"div",4),g["\u0275\u0275elementStart"](75,"div",5),g["\u0275\u0275elementStart"](76,"label",27),g["\u0275\u0275text"](77),g["\u0275\u0275pipe"](78,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](79,"input",28),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.facilityphone=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](80,"div",4),g["\u0275\u0275elementStart"](81,"div",5),g["\u0275\u0275elementStart"](82,"label",29),g["\u0275\u0275text"](83),g["\u0275\u0275pipe"](84,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](85,"select",30),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.countryid=e}),g["\u0275\u0275template"](86,ut,2,1,"option",31),g["\u0275\u0275template"](87,yt,2,1,"option",31),g["\u0275\u0275template"](88,St,3,3,"option",32),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](89,"div",4),g["\u0275\u0275elementStart"](90,"div",5),g["\u0275\u0275elementStart"](91,"label",33),g["\u0275\u0275text"](92),g["\u0275\u0275pipe"](93,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](94,"input",34),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.workplace=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](95,"div",3),g["\u0275\u0275elementStart"](96,"div",4),g["\u0275\u0275elementStart"](97,"div",5),g["\u0275\u0275elementStart"](98,"label",35),g["\u0275\u0275text"](99),g["\u0275\u0275pipe"](100,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](101,"select",36),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.leaveworkreasonid=e}),g["\u0275\u0275elementStart"](102,"option",37),g["\u0275\u0275text"](103),g["\u0275\u0275pipe"](104,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](105,Et,3,3,"option",32),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](106,"div",4),g["\u0275\u0275elementStart"](107,"div",5),g["\u0275\u0275elementStart"](108,"label",38),g["\u0275\u0275text"](109),g["\u0275\u0275pipe"](110,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](111,"input",39),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.placeofexperience=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](112,"div",4),g["\u0275\u0275elementStart"](113,"div",5),g["\u0275\u0275elementStart"](114,"label",40),g["\u0275\u0275text"](115),g["\u0275\u0275pipe"](116,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](117,"input",41),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.typeofexperience=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](118,"div",3),g["\u0275\u0275elementStart"](119,"div",4),g["\u0275\u0275elementStart"](120,"div",5),g["\u0275\u0275elementStart"](121,"label",42),g["\u0275\u0275text"](122),g["\u0275\u0275pipe"](123,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](124,"input",43),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.natureofwork=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](125,"div",4),g["\u0275\u0275elementStart"](126,"div",5),g["\u0275\u0275elementStart"](127,"label",44),g["\u0275\u0275text"](128),g["\u0275\u0275pipe"](129,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](130,"input",45),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.jobclassification=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](131,"div",4),g["\u0275\u0275elementStart"](132,"div",5),g["\u0275\u0275elementStart"](133,"label",46),g["\u0275\u0275text"](134),g["\u0275\u0275pipe"](135,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](136,"input",47),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.relevanceofexperience=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](137,"div",3),g["\u0275\u0275elementStart"](138,"div",4),g["\u0275\u0275elementStart"](139,"div",5),g["\u0275\u0275elementStart"](140,"label",48),g["\u0275\u0275text"](141),g["\u0275\u0275pipe"](142,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](143,"textarea",49),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.responsibilities=e}),g["\u0275\u0275text"](144,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](145,"div",4),g["\u0275\u0275elementStart"](146,"div",4),g["\u0275\u0275elementStart"](147,"div",50),g["\u0275\u0275template"](148,xt,4,4,"button",51),g["\u0275\u0275elementStart"](149,"button",52),g["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),g["\u0275\u0275text"](150),g["\u0275\u0275pipe"](151,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](152,Ct,3,4,"button",53),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](153,"div",0),g["\u0275\u0275template"](154,Dt,10,7,"section",54),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,52,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.code),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](18,54,"fromdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](20,56,t._experienceT.fromdate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](25,59,"todate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](27,61,t._experienceT.todate,"yyyy-MM-dd")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("checked",t._experienceT.untilnow)("ngModelOptions",g["\u0275\u0275pureFunction0"](102,_t))("ngModel",t._experienceT.untilnow),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](34,64,"untilnow")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](40,66,"facilityname")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.facilityname),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](46,68,"job")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.job),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](52,70,"salary")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.salary),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](59,72,"salarycurrency")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.salarycurrency),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](65,74,"referencename")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.referencename),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](71,76,"referencejob")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.referencejob),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](78,78,"facilityphone")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.facilityphone),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](84,80,"Country")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.countryid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.CountryList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](93,82,"workplace")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.workplace),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](100,84,"leaveworkreasonid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.leaveworkreasonid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](104,86,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.LeaveWorkReasonList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](110,88,"placeofexperience")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.placeofexperience),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](116,90,"typeofexperience")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.typeofexperience),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](123,92,"natureofwork")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.natureofwork),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](129,94,"jobclassification")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.jobclassification),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](135,96,"relevanceofexperience")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.relevanceofexperience),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](142,98,"responsibilities")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceT.responsibilities),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](151,100,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._experienceT.id>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.Wl,ht.L,r.EJ,a.O5,a.sg,r.YN,r.Kr,D.u],pipes:[m.X$,a.uU],styles:[""]}),e})();class wt{constructor(){this.code="",this.fromdate=null,this.todate=null,this.untilnow=!1,this.countryid=null,this.governorateid=null,this.university="",this.college="",this.academicqualificationid=null,this.otheracademicqualification="",this.specialty="",this.universityrate="",this.degree="",this.graduationyear="",this.qualificationnotes="",this.secondaryeducation=!1,this.subsidaryid=null}}let Tt=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAll(e,t,n){let a=`/EmployeeQualifications/GetAll?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeQualification(e,t){return this.http.get(this.baseUrl+`/EmployeeQualifications/CountOfEmployeeQualification?searchValue=${e}&subsidaryid=${t}`).pipe((0,ct.U)(e=>e))}GetMaxCode(e){return this.http.get(this.baseUrl+`/EmployeeQualifications/GetMaxCode?subsidaryid=${e}`).pipe((0,ct.U)(e=>e))}Delete(e){return this.http.get(this.baseUrl+`/EmployeeQualifications/Delete?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeQualification(e){return this.http.post(`${this.baseUrl}/EmployeeQualifications/Create`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeQualification(e){return this.http.post(this.baseUrl+"/EmployeeQualifications/Update",e).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var Mt=n(29388);function kt(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",27),g["\u0275\u0275text"](1,"choose"),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function Bt(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",27),g["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function Ft(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.countryname,"")}}function Ht(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.countryname_ar,"")}}function Rt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",47),g["\u0275\u0275template"](1,Ft,2,1,"span",46),g["\u0275\u0275template"](2,Ht,2,1,"span",46),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Ot(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",27),g["\u0275\u0275text"](1," choose "),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function Vt(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",27),g["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function At(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Nt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Gt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",47),g["\u0275\u0275template"](1,At,2,1,"span",46),g["\u0275\u0275template"](2,Nt,2,1,"span",46),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Pt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function jt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function $t(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",47),g["\u0275\u0275template"](1,Pt,2,1,"div",46),g["\u0275\u0275template"](2,jt,2,1,"div",46),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ut(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",48),g["\u0275\u0275element"](1,"i",49),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Lt(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",44),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.DeleteQualification(t._qualificationT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Jt(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",50),g["\u0275\u0275elementStart"](2,"div",51),g["\u0275\u0275elementStart"](3,"div",52),g["\u0275\u0275elementStart"](4,"h6",53),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",54),g["\u0275\u0275elementStart"](8,"div",55),g["\u0275\u0275elementStart"](9,"app-Matix-table",56),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeQualificationSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeQualificationSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"EmployeeQualification")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeQualificationList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}const zt=function(){return{standalone:!0}};let Yt=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._employeeQualificationsService=d,this._educationalQualificationsService=c,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._qualificationT=new wt,this.EmployeeQualificationList=[],this.CountryList=[],this.GovernorateList=[],this.AcademicQualificationList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.emptyerror=e.emptyerror,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.Country(),this.GetAcademicQualification(),this.GetList(),this.GetData()})}Country(){this._employeesService.Countries().subscribe(e=>{this.CountryList=e,this.cd.markForCheck()},e=>{console.log("-> err",e),this.toastr.error(this.translate.instant("InternalServerError")),this.cd.markForCheck()})}GovernorateByCountryID(){this._employeesService.GovernorateByCountryID(this._qualificationT.countryid).subscribe(e=>{this.GovernorateList=e,this.cd.markForCheck()},e=>{console.log("-> err",e),this.toastr.error(this.translate.instant("InternalServerError")),this.cd.markForCheck()})}ChangeCountry(e=1){this.GovernorateList=[],1==e&&(this._qualificationT.governorateid=null),this.GovernorateByCountryID()}GetAcademicQualification(){this._educationalQualificationsService.GetAllForDropdown().subscribe(e=>{this.AcademicQualificationList=e,this.cd.markForCheck()})}ngOnInit(){}GetList(){this._employeeQualificationsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeQualificationList=e,this.cd.markForCheck()}),this._employeeQualificationsService.CountOfEmployeeQualification("",this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetData(e=0){0==e?this._employeeQualificationsService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._qualificationT.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this.cd.markForCheck()}):this._qualificationT=this.EmployeeQualificationList.find(t=>t.id==e)}EmployeeQualificationSearch(e){Object.assign(this._searchModel,e),this._employeeQualificationsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeQualificationList=e,this.cd.markForCheck()}),this._employeeQualificationsService.CountOfEmployeeQualification(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeQualificationSort(e){Object.assign(this._searchModel,e),this._employeeQualificationsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeQualificationList=e,this.cd.markForCheck()}),this._employeeQualificationsService.CountOfEmployeeQualification(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}OnAdd(){this._qualificationT=new wt,this.showmood=!1,this.GetData()}OnEdit(e){this._qualificationT=new wt,this.showmood=!1,this.GetData(e)}OnShow(e){this._qualificationT=new wt,this.showmood=!0,this.GetData(e)}CancelForm(){this._qualificationT=new wt,this.GetData()}DeleteQualification(e){k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeeQualificationsService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this._qualificationT=new wt,this.GetList(),this.showmood=!1,this.GetData()):this.toastr.error(this.DeleteRelationmsg)})})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._qualificationT.employeeid=this.EmployeeID,this._qualificationT.subsidaryid=this.subsidiaryID,this._qualificationT.id>0?this._employeeQualificationsService.UpdateEmployeeQualification(this._qualificationT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()}):this._employeeQualificationsService.CreateEmployeeQualification(this._qualificationT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](Tt),g["\u0275\u0275directiveInject"](Mt.c))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-qualifications-form"]],decls:135,vars:93,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","40px"],["type","checkbox","id","untilnow",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","untilnow"],["for","CountryId",1,"control-label"],["name","countryid",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","GovernorateId",1,"control-label"],["name","GovernorateId",1,"form-control",3,"ngModel","ngModelChange"],["id","university",1,"col-form-label"],["type","text","name","university",1,"form-control",3,"ngModel","ngModelChange"],["id","college",1,"col-form-label"],["type","text","name","college",1,"form-control",3,"ngModel","ngModelChange"],["id","academicqualificationid",1,"col-form-label"],["name","academicqualificationid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["id","otheracademicqualification",1,"col-form-label"],["type","text","name","otheracademicqualification",1,"form-control",3,"ngModel","ngModelChange"],["id","specialty",1,"col-form-label"],["type","text","name","specialty",1,"form-control",3,"ngModel","ngModelChange"],["id","universityrate",1,"col-form-label"],["type","text","name","universityrate",1,"form-control",3,"ngModel","ngModelChange"],["id","degree",1,"col-form-label"],["type","text","name","degree",1,"form-control",3,"ngModel","ngModelChange"],["id","graduationyear",1,"col-form-label"],["type","text","name","graduationyear",1,"form-control",3,"ngModel","ngModelChange"],["id","qualificationnotes",1,"col-form-label"],["id","qualificationnotes","name","qualificationnotes",1,"form-control",3,"ngModel","ngModelChange"],["type","checkbox","id","secondaryeducation",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","secondaryeducation"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"form",1,2),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](3);return t.onSave(n)}),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"div",5),g["\u0275\u0275elementStart"](7,"label",6),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",4),g["\u0275\u0275element"](12,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"label",8),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"input",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.fromdate=e}),g["\u0275\u0275pipe"](20,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"div",4),g["\u0275\u0275elementStart"](22,"div",5),g["\u0275\u0275elementStart"](23,"label",10),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"input",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.todate=e}),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"div",4),g["\u0275\u0275elementStart"](29,"div",12),g["\u0275\u0275elementStart"](30,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.untilnow=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"label",14),g["\u0275\u0275elementStart"](32,"span"),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"div",3),g["\u0275\u0275elementStart"](36,"div",4),g["\u0275\u0275elementStart"](37,"div",5),g["\u0275\u0275elementStart"](38,"label",15),g["\u0275\u0275text"](39),g["\u0275\u0275pipe"](40,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"select",16),g["\u0275\u0275listener"]("change",function(){return t.ChangeCountry()})("ngModelChange",function(e){return t._qualificationT.countryid=e}),g["\u0275\u0275template"](42,kt,2,1,"option",17),g["\u0275\u0275template"](43,Bt,2,1,"option",17),g["\u0275\u0275template"](44,Rt,3,3,"option",18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"div",4),g["\u0275\u0275elementStart"](46,"div",5),g["\u0275\u0275elementStart"](47,"label",19),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"select",20),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.governorateid=e}),g["\u0275\u0275template"](51,Ot,2,1,"option",17),g["\u0275\u0275template"](52,Vt,2,1,"option",17),g["\u0275\u0275template"](53,Gt,3,3,"option",18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](54,"div",4),g["\u0275\u0275elementStart"](55,"div",5),g["\u0275\u0275elementStart"](56,"label",21),g["\u0275\u0275text"](57),g["\u0275\u0275pipe"](58,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](59,"input",22),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.university=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](60,"div",3),g["\u0275\u0275elementStart"](61,"div",4),g["\u0275\u0275elementStart"](62,"div",5),g["\u0275\u0275elementStart"](63,"label",23),g["\u0275\u0275text"](64),g["\u0275\u0275pipe"](65,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](66,"input",24),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.college=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](67,"div",4),g["\u0275\u0275elementStart"](68,"div",5),g["\u0275\u0275elementStart"](69,"label",25),g["\u0275\u0275text"](70),g["\u0275\u0275pipe"](71,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](72,"select",26),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.academicqualificationid=e}),g["\u0275\u0275elementStart"](73,"option",27),g["\u0275\u0275text"](74),g["\u0275\u0275pipe"](75,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](76,$t,3,3,"option",18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](77,"div",4),g["\u0275\u0275elementStart"](78,"div",5),g["\u0275\u0275elementStart"](79,"label",28),g["\u0275\u0275text"](80),g["\u0275\u0275pipe"](81,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](82,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.otheracademicqualification=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](83,"div",3),g["\u0275\u0275elementStart"](84,"div",4),g["\u0275\u0275elementStart"](85,"div",5),g["\u0275\u0275elementStart"](86,"label",30),g["\u0275\u0275text"](87),g["\u0275\u0275pipe"](88,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](89,"input",31),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.specialty=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](90,"div",4),g["\u0275\u0275elementStart"](91,"div",5),g["\u0275\u0275elementStart"](92,"label",32),g["\u0275\u0275text"](93),g["\u0275\u0275pipe"](94,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](95,"input",33),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.universityrate=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](96,"div",4),g["\u0275\u0275elementStart"](97,"div",5),g["\u0275\u0275elementStart"](98,"label",34),g["\u0275\u0275text"](99),g["\u0275\u0275pipe"](100,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](101,"input",35),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.degree=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](102,"div",3),g["\u0275\u0275elementStart"](103,"div",4),g["\u0275\u0275elementStart"](104,"div",5),g["\u0275\u0275elementStart"](105,"label",36),g["\u0275\u0275text"](106),g["\u0275\u0275pipe"](107,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](108,"input",37),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.graduationyear=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](109,"div",4),g["\u0275\u0275elementStart"](110,"div",5),g["\u0275\u0275elementStart"](111,"label",38),g["\u0275\u0275text"](112),g["\u0275\u0275pipe"](113,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](114,"textarea",39),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.qualificationnotes=e}),g["\u0275\u0275text"](115,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](116,"div",4),g["\u0275\u0275elementStart"](117,"div",12),g["\u0275\u0275elementStart"](118,"input",40),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.secondaryeducation=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](119,"label",41),g["\u0275\u0275elementStart"](120,"span"),g["\u0275\u0275text"](121),g["\u0275\u0275pipe"](122,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](123,"div",3),g["\u0275\u0275element"](124,"div",4),g["\u0275\u0275element"](125,"div",4),g["\u0275\u0275elementStart"](126,"div",4),g["\u0275\u0275elementStart"](127,"div",42),g["\u0275\u0275template"](128,Ut,4,4,"button",43),g["\u0275\u0275elementStart"](129,"button",44),g["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),g["\u0275\u0275text"](130),g["\u0275\u0275pipe"](131,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](132,Lt,3,4,"button",45),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](133,"div",0),g["\u0275\u0275template"](134,Jt,10,7,"section",46),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,49,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.code),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](18,51,"fromdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](20,53,t._qualificationT.fromdate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](25,56,"todate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](27,58,t._qualificationT.todate,"yyyy-MM-dd")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("checked",t._qualificationT.untilnow)("ngModelOptions",g["\u0275\u0275pureFunction0"](91,zt))("ngModel",t._qualificationT.untilnow),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](34,61,"untilnow")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](40,63,"Country")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.countryid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.CountryList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](49,65,"State")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.governorateid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang&&t.GovernorateList.length>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==t.lang&&t.GovernorateList.length>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.GovernorateList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](58,67,"university")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.university),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](65,69,"college")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.college),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](71,71,"academicqualificationid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.academicqualificationid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](75,73,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.AcademicQualificationList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](81,75,"otheracademicqualification")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.otheracademicqualification),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](88,77,"specialty")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.specialty),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](94,79,"universityrate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.universityrate),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](100,81,"degree")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.degree),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](107,83,"graduationyear")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.graduationyear),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](113,85,"qualificationnotes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._qualificationT.qualificationnotes),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("checked",t._qualificationT.secondaryeducation)("ngModelOptions",g["\u0275\u0275pureFunction0"](92,zt))("ngModel",t._qualificationT.secondaryeducation),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](122,87,"secondaryeducation")),g["\u0275\u0275advance"](7),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](131,89,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._qualificationT.id>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.Wl,r.EJ,a.O5,a.sg,r.YN,r.Kr,D.u],pipes:[m.X$,a.uU],styles:[""]}),e})();class qt{constructor(){this.code="",this.category="",this.type="",this.skill="",this.yearsofexperience="",this.level="",this.skillsource="",this.appearsin="",this.notes="",this.subsidaryid=null}}let Qt=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAll(e,t,n){let a=`/EmployeeSkills/GetAll?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeSkill(e,t){return this.http.get(this.baseUrl+`/EmployeeSkills/CountOfEmployeeSkill?searchValue=${e}&subsidaryid=${t}`).pipe((0,ct.U)(e=>e))}GetMaxCode(e){return this.http.get(this.baseUrl+`/EmployeeSkills/GetMaxCode?subsidaryid=${e}`).pipe((0,ct.U)(e=>e))}Delete(e){return this.http.get(this.baseUrl+`/EmployeeSkills/Delete?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeSkill(e){return this.http.post(`${this.baseUrl}/EmployeeSkills/Create`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeSkill(e){return this.http.post(this.baseUrl+"/EmployeeSkills/Update",e).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function Kt(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",29),g["\u0275\u0275element"](1,"i",30),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Wt(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",26),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.DeleteSkill(t._skillT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Xt(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",31),g["\u0275\u0275elementStart"](2,"div",32),g["\u0275\u0275elementStart"](3,"div",33),g["\u0275\u0275elementStart"](4,"h6",34),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",35),g["\u0275\u0275elementStart"](8,"div",36),g["\u0275\u0275elementStart"](9,"app-Matix-table",37),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeSkillSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeSkillSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"EmployeeSkill")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeSkillList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}let Zt=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._employeeSkillsService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"skill",sortByEn:"skill",displayName:"skill"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._skillT=new qt,this.EmployeeSkillList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.emptyerror=e.emptyerror,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetList(),this.GetData()})}ngOnInit(){}GetList(){this._employeeSkillsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeSkillList=e,this.cd.markForCheck()}),this._employeeSkillsService.CountOfEmployeeSkill("",this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetData(e=0){0==e?this._employeeSkillsService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._skillT.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this.cd.markForCheck()}):this._skillT=this.EmployeeSkillList.find(t=>t.id==e)}EmployeeSkillSearch(e){Object.assign(this._searchModel,e),this._employeeSkillsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeSkillList=e,this.cd.markForCheck()}),this._employeeSkillsService.CountOfEmployeeSkill(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeSkillSort(e){Object.assign(this._searchModel,e),this._employeeSkillsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeSkillList=e,this.cd.markForCheck()}),this._employeeSkillsService.CountOfEmployeeSkill(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}OnAdd(){this._skillT=new qt,this.showmood=!1,this.GetData()}OnEdit(e){this._skillT=new qt,this.showmood=!1,this.GetData(e)}OnShow(e){this._skillT=new qt,this.showmood=!0,this.GetData(e)}CancelForm(){this._skillT=new qt,this.GetData()}DeleteSkill(e){k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeeSkillsService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this._skillT=new qt,this.showmood=!1,this.GetList()):this.toastr.error(this.DeleteRelationmsg)})})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._skillT.employeeid=this.EmployeeID,this._skillT.subsidaryid=this.subsidiaryID,this._skillT.id>0?this._employeeSkillsService.UpdateEmployeeSkill(this._skillT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()}):this._employeeSkillsService.CreateEmployeeSkill(this._skillT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](Qt))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-skills-form"]],decls:74,vars:42,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","category",1,"col-form-label"],["type","text","name","category",1,"form-control",3,"ngModel","ngModelChange"],["id","type",1,"col-form-label"],["type","text","name","type",1,"form-control",3,"ngModel","ngModelChange"],["id","skill",1,"col-form-label"],["type","text","name","skill",1,"form-control",3,"ngModel","ngModelChange"],["id","yearsofexperience",1,"col-form-label"],["type","text","name","yearsofexperience",1,"form-control",3,"ngModel","ngModelChange"],["id","level",1,"col-form-label"],["type","text","name","level",1,"form-control",3,"ngModel","ngModelChange"],["id","skillsource",1,"col-form-label"],["type","text","name","skillsource",1,"form-control",3,"ngModel","ngModelChange"],["id","appearsin",1,"col-form-label"],["type","text","name","appearsin",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"form",1,2),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](3);return t.onSave(n)}),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"div",5),g["\u0275\u0275elementStart"](7,"label",6),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",4),g["\u0275\u0275element"](12,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"label",8),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"input",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.category=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"div",4),g["\u0275\u0275elementStart"](21,"div",5),g["\u0275\u0275elementStart"](22,"label",10),g["\u0275\u0275text"](23),g["\u0275\u0275pipe"](24,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"input",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.type=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"div",4),g["\u0275\u0275elementStart"](27,"div",5),g["\u0275\u0275elementStart"](28,"label",12),g["\u0275\u0275text"](29),g["\u0275\u0275pipe"](30,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.skill=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"div",3),g["\u0275\u0275elementStart"](33,"div",4),g["\u0275\u0275elementStart"](34,"div",5),g["\u0275\u0275elementStart"](35,"label",14),g["\u0275\u0275text"](36),g["\u0275\u0275pipe"](37,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"input",15),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.yearsofexperience=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](39,"div",4),g["\u0275\u0275elementStart"](40,"div",5),g["\u0275\u0275elementStart"](41,"label",16),g["\u0275\u0275text"](42),g["\u0275\u0275pipe"](43,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"input",17),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.level=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"div",4),g["\u0275\u0275elementStart"](46,"div",5),g["\u0275\u0275elementStart"](47,"label",18),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"input",19),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.skillsource=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"div",3),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"div",5),g["\u0275\u0275elementStart"](54,"label",20),g["\u0275\u0275text"](55),g["\u0275\u0275pipe"](56,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](57,"input",21),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.appearsin=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](58,"div",4),g["\u0275\u0275elementStart"](59,"div",5),g["\u0275\u0275elementStart"](60,"label",22),g["\u0275\u0275text"](61),g["\u0275\u0275pipe"](62,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](63,"textarea",23),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.notes=e}),g["\u0275\u0275text"](64,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](65,"div",4),g["\u0275\u0275elementStart"](66,"div",24),g["\u0275\u0275template"](67,Kt,4,4,"button",25),g["\u0275\u0275elementStart"](68,"button",26),g["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),g["\u0275\u0275text"](69),g["\u0275\u0275pipe"](70,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](71,Wt,3,4,"button",27),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](72,"div",0),g["\u0275\u0275template"](73,Xt,10,7,"section",28),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,22,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._skillT.code),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](18,24,"category")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._skillT.category),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](24,26,"type")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._skillT.type),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](30,28,"skill")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._skillT.skill),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](37,30,"yearsofexperience")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._skillT.yearsofexperience),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](43,32,"level")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._skillT.level),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,34,"skillsource")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._skillT.skillsource),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](56,36,"appearsin")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._skillT.appearsin),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](62,38,"notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._skillT.notes),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](70,40,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._skillT.id>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,a.O5,D.u],pipes:[m.X$],styles:[""]}),e})();class en{constructor(){this.id=0,this.code="",this.source="",this.fromdate=null,this.todate=null,this.coursetypeid=null,this.othercoursetype="",this.coursenameid=null,this.othercoursename="",this.value=null,this.numberofhours=null,this.trainingside="",this.programtype="",this.programstatus="",this.lecturer="",this.trainingsite="",this.trainingfunder="",this.countryid=null,this.governorateid=null,this.trainingactionplan="",this.appearsin="",this.description="",this.location="",this.notes="",this.subsidaryid=null}}let tn=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAll(e,t,n){let a=`/EmployeeTrainings/GetAll?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeTraining(e,t){return this.http.get(this.baseUrl+`/EmployeeTrainings/CountOfEmployeeTraining?searchValue=${e}&subsidaryid=${t}`).pipe((0,ct.U)(e=>e))}GetMaxCode(e){return this.http.get(this.baseUrl+`/EmployeeTrainings/GetMaxCode?subsidaryid=${e}`).pipe((0,ct.U)(e=>e))}Delete(e){return this.http.get(this.baseUrl+`/EmployeeTrainings/Delete?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeTraining(e){return this.http.post(`${this.baseUrl}/EmployeeTrainings/Create`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeTraining(e){return this.http.post(this.baseUrl+"/EmployeeTrainings/Update",e).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var nn=n(52572),an=n(18850);function ln(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function rn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function on(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",60),g["\u0275\u0275template"](1,ln,2,1,"div",59),g["\u0275\u0275template"](2,rn,2,1,"div",59),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function sn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function dn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function cn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",60),g["\u0275\u0275template"](1,sn,2,1,"div",59),g["\u0275\u0275template"](2,dn,2,1,"div",59),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function mn(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",16),g["\u0275\u0275text"](1,"choose"),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function pn(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",16),g["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function hn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.countryname,"")}}function un(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.countryname_ar,"")}}function yn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",60),g["\u0275\u0275template"](1,hn,2,1,"span",59),g["\u0275\u0275template"](2,un,2,1,"span",59),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function gn(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",16),g["\u0275\u0275text"](1," choose "),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function vn(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"option",16),g["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),g["\u0275\u0275elementEnd"]()),2&e&&g["\u0275\u0275property"]("ngValue",null)}function Sn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function fn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function bn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",60),g["\u0275\u0275template"](1,Sn,2,1,"span",59),g["\u0275\u0275template"](2,fn,2,1,"span",59),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function En(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",61),g["\u0275\u0275element"](1,"i",62),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function xn(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",57),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.DeleteTraining(t._trainingT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Cn(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",63),g["\u0275\u0275elementStart"](2,"div",64),g["\u0275\u0275elementStart"](3,"div",65),g["\u0275\u0275elementStart"](4,"h6",66),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",67),g["\u0275\u0275elementStart"](8,"div",68),g["\u0275\u0275elementStart"](9,"app-Matix-table",69),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeTrainingSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeTrainingSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"EmployeeTraining")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeTrainingList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}let Dn=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._employeeTrainingsService=d,this._coursesTypesService=c,this._trainingCoursesNamesService=m,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"trainingcoursesname_ar",sortByEn:"trainingcoursesname_en",displayName:"coursenameid"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._trainingT=new en,this.EmployeeTrainingList=[],this.CoursesTypeList=[],this.CoursesNameList=[],this.CountryList=[],this.GovernorateList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.emptyerror=e.emptyerror,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.Country(),this.GetCoursesType(),this.GetData()})}Country(){this._employeesService.Countries().subscribe(e=>{this.CountryList=e,this.cd.markForCheck()},e=>{console.log("-> err",e),this.toastr.error(this.translate.instant("InternalServerError")),this.cd.markForCheck()})}GovernorateByCountryID(){this._employeesService.GovernorateByCountryID(this._trainingT.countryid).subscribe(e=>{this.GovernorateList=e,this.cd.markForCheck()},e=>{console.log("-> err",e),this.toastr.error(this.translate.instant("InternalServerError")),this.cd.markForCheck()})}ChangeCountry(e=1){this.GovernorateList=[],1==e&&(this._trainingT.governorateid=null),this.GovernorateByCountryID()}GetCoursesType(){this._coursesTypesService.GetAllForDropdown().subscribe(e=>{this.CoursesTypeList=e,this.cd.markForCheck()})}GetCoursesName(){this._trainingCoursesNamesService.GetAllForDropdown(this._trainingT.coursetypeid).subscribe(e=>{this.CoursesNameList=e,this.cd.markForCheck()})}ngOnInit(){this.GetList()}GetList(){this._employeeTrainingsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeTrainingList=e,this.cd.markForCheck()}),this._employeeTrainingsService.CountOfEmployeeTraining("",this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetData(e=0){0==e?this._employeeTrainingsService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._trainingT.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this.cd.markForCheck()}):this._trainingT=this.EmployeeTrainingList.find(t=>t.id==e)}EmployeeTrainingSearch(e){Object.assign(this._searchModel,e),this._employeeTrainingsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeTrainingList=e,this.cd.markForCheck()}),this._employeeTrainingsService.CountOfEmployeeTraining(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeTrainingSort(e){Object.assign(this._searchModel,e),this._employeeTrainingsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeTrainingList=e,this.cd.markForCheck()}),this._employeeTrainingsService.CountOfEmployeeTraining(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}OnAdd(){this._trainingT=new en,this.showmood=!1,this.GetData()}OnEdit(e){this._trainingT=new en,this.showmood=!1,this.GetData(e)}OnShow(e){this._trainingT=new en,this.showmood=!0,this.GetData(e)}CancelForm(){this._trainingT=new en,this.GetData()}DeleteTraining(e){k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeeTrainingsService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this._trainingT=new en,this.showmood=!1,this.GetList()):this.toastr.error(this.DeleteRelationmsg)})})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._trainingT.employeeid=this.EmployeeID,this._trainingT.subsidaryid=this.subsidiaryID,this._trainingT.id>0?this._employeeTrainingsService.UpdateEmployeeTraining(this._trainingT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()}):this._employeeTrainingsService.CreateEmployeeTraining(this._trainingT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](tn),g["\u0275\u0275directiveInject"](nn.D),g["\u0275\u0275directiveInject"](an.q))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-trainings-form"]],decls:180,vars:120,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","source",1,"col-form-label"],["type","text","name","source",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],["id","coursetypeid",1,"col-form-label"],["name","coursetypeid",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","othercoursetype",1,"col-form-label"],["type","text","name","othercoursetype",1,"form-control",3,"ngModel","ngModelChange"],["id","coursenameid",1,"col-form-label"],["name","coursenameid",1,"form-control",3,"ngModel","ngModelChange"],["id","othercoursename",1,"col-form-label"],["type","text","name","othercoursename",1,"form-control",3,"ngModel","ngModelChange"],["id","value",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","value",1,"form-control",3,"ngModel","ngModelChange"],["id","numberofhours",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","numberofhours",1,"form-control",3,"ngModel","ngModelChange"],["id","trainingside",1,"col-form-label"],["type","text","name","trainingside",1,"form-control",3,"ngModel","ngModelChange"],["id","programtype",1,"col-form-label"],["type","text","name","programtype",1,"form-control",3,"ngModel","ngModelChange"],["id","programstatus",1,"col-form-label"],["type","text","name","programstatus",1,"form-control",3,"ngModel","ngModelChange"],["id","lecturer",1,"col-form-label"],["type","text","name","lecturer",1,"form-control",3,"ngModel","ngModelChange"],["id","trainingsite",1,"col-form-label"],["type","text","name","trainingsite",1,"form-control",3,"ngModel","ngModelChange"],["id","trainingfunder",1,"col-form-label"],["type","text","name","trainingfunder",1,"form-control",3,"ngModel","ngModelChange"],["for","CountryId",1,"control-label"],["name","countryid",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngIf"],["for","GovernorateId",1,"control-label"],["name","GovernorateId",1,"form-control",3,"ngModel","ngModelChange"],["id","trainingactionplan",1,"col-form-label"],["type","text","name","trainingactionplan",1,"form-control",3,"ngModel","ngModelChange"],["id","appearsin",1,"col-form-label"],["type","text","name","appearsin",1,"form-control",3,"ngModel","ngModelChange"],["id","description",1,"col-form-label"],["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],["id","location",1,"col-form-label"],["type","text","name","location",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"form",1,2),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](3);return t.onSave(n)}),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"div",5),g["\u0275\u0275elementStart"](7,"label",6),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",4),g["\u0275\u0275element"](12,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"label",8),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"input",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.source=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"div",4),g["\u0275\u0275elementStart"](21,"div",5),g["\u0275\u0275elementStart"](22,"label",10),g["\u0275\u0275text"](23),g["\u0275\u0275pipe"](24,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"input",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.fromdate=e}),g["\u0275\u0275pipe"](26,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](27,"div",4),g["\u0275\u0275elementStart"](28,"div",5),g["\u0275\u0275elementStart"](29,"label",12),g["\u0275\u0275text"](30),g["\u0275\u0275pipe"](31,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.todate=e}),g["\u0275\u0275pipe"](33,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](34,"div",3),g["\u0275\u0275elementStart"](35,"div",4),g["\u0275\u0275elementStart"](36,"div",5),g["\u0275\u0275elementStart"](37,"label",14),g["\u0275\u0275text"](38),g["\u0275\u0275pipe"](39,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"select",15),g["\u0275\u0275listener"]("change",function(){return t.GetCoursesName()})("ngModelChange",function(e){return t._trainingT.coursetypeid=e}),g["\u0275\u0275elementStart"](41,"option",16),g["\u0275\u0275text"](42),g["\u0275\u0275pipe"](43,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](44,on,3,3,"option",17),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"div",4),g["\u0275\u0275elementStart"](46,"div",5),g["\u0275\u0275elementStart"](47,"label",18),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"input",19),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.othercoursetype=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"div",4),g["\u0275\u0275elementStart"](52,"div",5),g["\u0275\u0275elementStart"](53,"label",20),g["\u0275\u0275text"](54),g["\u0275\u0275pipe"](55,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](56,"select",21),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.coursenameid=e}),g["\u0275\u0275elementStart"](57,"option",16),g["\u0275\u0275text"](58),g["\u0275\u0275pipe"](59,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](60,cn,3,3,"option",17),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](61,"div",3),g["\u0275\u0275elementStart"](62,"div",4),g["\u0275\u0275elementStart"](63,"div",5),g["\u0275\u0275elementStart"](64,"label",22),g["\u0275\u0275text"](65),g["\u0275\u0275pipe"](66,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](67,"input",23),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.othercoursename=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](68,"div",4),g["\u0275\u0275elementStart"](69,"div",5),g["\u0275\u0275elementStart"](70,"label",24),g["\u0275\u0275text"](71),g["\u0275\u0275pipe"](72,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](73,"input",25),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.value=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](74,"div",4),g["\u0275\u0275elementStart"](75,"div",5),g["\u0275\u0275elementStart"](76,"label",26),g["\u0275\u0275text"](77),g["\u0275\u0275pipe"](78,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](79,"input",27),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.numberofhours=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](80,"div",3),g["\u0275\u0275elementStart"](81,"div",4),g["\u0275\u0275elementStart"](82,"div",5),g["\u0275\u0275elementStart"](83,"label",28),g["\u0275\u0275text"](84),g["\u0275\u0275pipe"](85,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](86,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.trainingside=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](87,"div",4),g["\u0275\u0275elementStart"](88,"div",5),g["\u0275\u0275elementStart"](89,"label",30),g["\u0275\u0275text"](90),g["\u0275\u0275pipe"](91,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](92,"input",31),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.programtype=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](93,"div",4),g["\u0275\u0275elementStart"](94,"div",5),g["\u0275\u0275elementStart"](95,"label",32),g["\u0275\u0275text"](96),g["\u0275\u0275pipe"](97,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](98,"input",33),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.programstatus=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](99,"div",3),g["\u0275\u0275elementStart"](100,"div",4),g["\u0275\u0275elementStart"](101,"div",5),g["\u0275\u0275elementStart"](102,"label",34),g["\u0275\u0275text"](103),g["\u0275\u0275pipe"](104,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](105,"input",35),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.lecturer=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](106,"div",4),g["\u0275\u0275elementStart"](107,"div",5),g["\u0275\u0275elementStart"](108,"label",36),g["\u0275\u0275text"](109),g["\u0275\u0275pipe"](110,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](111,"input",37),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.trainingsite=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](112,"div",4),g["\u0275\u0275elementStart"](113,"div",5),g["\u0275\u0275elementStart"](114,"label",38),g["\u0275\u0275text"](115),g["\u0275\u0275pipe"](116,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](117,"input",39),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.trainingfunder=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](118,"div",3),g["\u0275\u0275elementStart"](119,"div",4),g["\u0275\u0275elementStart"](120,"div",5),g["\u0275\u0275elementStart"](121,"label",40),g["\u0275\u0275text"](122),g["\u0275\u0275pipe"](123,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](124,"select",41),g["\u0275\u0275listener"]("change",function(){return t.ChangeCountry()})("ngModelChange",function(e){return t._trainingT.countryid=e}),g["\u0275\u0275template"](125,mn,2,1,"option",42),g["\u0275\u0275template"](126,pn,2,1,"option",42),g["\u0275\u0275template"](127,yn,3,3,"option",17),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](128,"div",4),g["\u0275\u0275elementStart"](129,"div",5),g["\u0275\u0275elementStart"](130,"label",43),g["\u0275\u0275text"](131),g["\u0275\u0275pipe"](132,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](133,"select",44),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.governorateid=e}),g["\u0275\u0275template"](134,gn,2,1,"option",42),g["\u0275\u0275template"](135,vn,2,1,"option",42),g["\u0275\u0275template"](136,bn,3,3,"option",17),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](137,"div",4),g["\u0275\u0275elementStart"](138,"div",5),g["\u0275\u0275elementStart"](139,"label",45),g["\u0275\u0275text"](140),g["\u0275\u0275pipe"](141,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](142,"input",46),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.trainingactionplan=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](143,"div",3),g["\u0275\u0275elementStart"](144,"div",4),g["\u0275\u0275elementStart"](145,"div",5),g["\u0275\u0275elementStart"](146,"label",47),g["\u0275\u0275text"](147),g["\u0275\u0275pipe"](148,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](149,"input",48),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.appearsin=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](150,"div",4),g["\u0275\u0275elementStart"](151,"div",5),g["\u0275\u0275elementStart"](152,"label",49),g["\u0275\u0275text"](153),g["\u0275\u0275pipe"](154,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](155,"input",50),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.description=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](156,"div",4),g["\u0275\u0275elementStart"](157,"div",5),g["\u0275\u0275elementStart"](158,"label",51),g["\u0275\u0275text"](159),g["\u0275\u0275pipe"](160,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](161,"input",52),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.location=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](162,"div",3),g["\u0275\u0275elementStart"](163,"div",4),g["\u0275\u0275elementStart"](164,"div",5),g["\u0275\u0275elementStart"](165,"label",53),g["\u0275\u0275text"](166),g["\u0275\u0275pipe"](167,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](168,"textarea",54),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.notes=e}),g["\u0275\u0275text"](169,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](170,"div",4),g["\u0275\u0275elementStart"](171,"div",4),g["\u0275\u0275elementStart"](172,"div",55),g["\u0275\u0275template"](173,En,4,4,"button",56),g["\u0275\u0275elementStart"](174,"button",57),g["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),g["\u0275\u0275text"](175),g["\u0275\u0275pipe"](176,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](177,xn,3,4,"button",58),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](178,"div",0),g["\u0275\u0275template"](179,Cn,10,7,"section",59),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,62,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.code),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](18,64,"source")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.source),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](24,66,"fromdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](26,68,t._trainingT.fromdate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](31,71,"todate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](33,73,t._trainingT.todate,"yyyy-MM-dd")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](39,76,"coursetypeid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.coursetypeid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](43,78,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.CoursesTypeList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,80,"othercoursetype")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.othercoursetype),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](55,82,"coursenameid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.coursenameid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](59,84,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.CoursesNameList),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](66,86,"othercoursename")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.othercoursename),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](72,88,"value")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.value),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](78,90,"numberofhours")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.numberofhours),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](85,92,"trainingside")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.trainingside),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](91,94,"programtype")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.programtype),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](97,96,"programstatus")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.programstatus),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](104,98,"lecturer")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.lecturer),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](110,100,"trainingsite")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.trainingsite),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](116,102,"trainingfunder")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.trainingfunder),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](123,104,"Country")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.countryid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.CountryList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](132,106,"State")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.governorateid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang&&t.GovernorateList.length>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==t.lang&&t.GovernorateList.length>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.GovernorateList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](141,108,"trainingactionplan")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.trainingactionplan),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](148,110,"appearsin")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.appearsin),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](154,112,"description")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.description),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](160,114,"location")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.location),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](167,116,"notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._trainingT.notes),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](176,118,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._trainingT.id>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.EJ,r.YN,r.Kr,a.sg,ht.L,a.O5,D.u],pipes:[m.X$,a.uU],styles:[""]}),e})();class _n{constructor(){this.code="",this.fromdate=null,this.todate=null,this.type="",this.name="",this.issuedate=null,this.serialnumber="",this.degree="",this.certificatenumber="",this.appearsin="",this.notes="",this.status=null,this.subsidaryid=null}}let In=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAll(e,t,n){let a=`/EmployeeExperienceCertificates/GetAll?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeExperienceCertificate(e,t){return this.http.get(this.baseUrl+`/EmployeeExperienceCertificates/CountOfEmployeeExperienceCertificate?searchValue=${e}&subsidaryid=${t}`).pipe((0,ct.U)(e=>e))}GetMaxCode(e){return this.http.get(this.baseUrl+`/EmployeeExperienceCertificates/GetMaxCode?subsidaryid=${e}`).pipe((0,ct.U)(e=>e))}Delete(e){return this.http.get(this.baseUrl+`/EmployeeExperienceCertificates/Delete?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeExperienceCertificate(e){return this.http.post(`${this.baseUrl}/EmployeeExperienceCertificates/Create`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeExperienceCertificate(e){return this.http.post(this.baseUrl+"/EmployeeExperienceCertificates/Update",e).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function wn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",39),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function Tn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",39),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Mn(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"label",36),g["\u0275\u0275elementStart"](1,"input",37),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._experienceCertificateT.status=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](2,wn,2,1,"label",38),g["\u0275\u0275template"](3,Tn,2,1,"label",38),g["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("value",e.id)("ngModel",n._experienceCertificateT.status),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function kn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",40),g["\u0275\u0275element"](1,"i",41),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Bn(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",33),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.DeleteExperienceCertificate(t._experienceCertificateT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Fn(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",42),g["\u0275\u0275elementStart"](2,"div",43),g["\u0275\u0275elementStart"](3,"div",44),g["\u0275\u0275elementStart"](4,"h6",45),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",46),g["\u0275\u0275elementStart"](8,"div",47),g["\u0275\u0275elementStart"](9,"app-Matix-table",48),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeExperienceCertificateSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeExperienceCertificateSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"EmployeeExperienceCertificate")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeExperienceCertificateList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}let Hn=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._employeeExperienceCertificatesService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"type",sortByEn:"type",displayName:"type"},{sortByAr:"name",sortByEn:"name",displayName:"name"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._experienceCertificateT=new _n,this.EmployeeExperienceCertificateList=[],this.ExperienceCertificatesStatuList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.emptyerror=e.emptyerror,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetExperienceCertificatesStatus(),this.GetData()})}ngOnInit(){this.GetList()}GetExperienceCertificatesStatus(){this._employeesService.GetStaticValues("ExperienceCertificatesStatus").subscribe(e=>{this.ExperienceCertificatesStatuList=e,this.cd.markForCheck()})}GetList(){this._employeeExperienceCertificatesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeExperienceCertificateList=e,this.cd.markForCheck()}),this._employeeExperienceCertificatesService.CountOfEmployeeExperienceCertificate("",this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetData(e=0){0==e?this._employeeExperienceCertificatesService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._experienceCertificateT.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this.cd.markForCheck()}):this._experienceCertificateT=this.EmployeeExperienceCertificateList.find(t=>t.id==e)}EmployeeExperienceCertificateSearch(e){Object.assign(this._searchModel,e),this._employeeExperienceCertificatesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeExperienceCertificateList=e,this.cd.markForCheck()}),this._employeeExperienceCertificatesService.CountOfEmployeeExperienceCertificate(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeExperienceCertificateSort(e){Object.assign(this._searchModel,e),this._employeeExperienceCertificatesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeExperienceCertificateList=e,this.cd.markForCheck()}),this._employeeExperienceCertificatesService.CountOfEmployeeExperienceCertificate(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}OnAdd(){this._experienceCertificateT=new _n,this.showmood=!1,this.GetData()}OnEdit(e){this._experienceCertificateT=new _n,this.showmood=!1,this.GetData(e)}OnShow(e){this._experienceCertificateT=new _n,this.showmood=!0,this.GetData(e)}CancelForm(){this._experienceCertificateT=new _n,this.GetData()}DeleteExperienceCertificate(e){k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeeExperienceCertificatesService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this._experienceCertificateT=new _n,this.showmood=!1,this.GetList()):this.toastr.error(this.DeleteRelationmsg)})})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._experienceCertificateT.employeeid=this.EmployeeID,this._experienceCertificateT.subsidaryid=this.subsidiaryID,this._experienceCertificateT.id>0?this._employeeExperienceCertificatesService.UpdateEmployeeExperienceCertificate(this._experienceCertificateT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()}):this._employeeExperienceCertificatesService.CreateEmployeeExperienceCertificate(this._experienceCertificateT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](In))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-experience-certificates-form"]],decls:97,vars:63,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],["id","type",1,"col-form-label"],["type","text","name","type",1,"form-control",3,"ngModel","ngModelChange"],["id","name",1,"col-form-label"],["type","text","name","name",1,"form-control",3,"ngModel","ngModelChange"],["id","issuedate",1,"col-form-label"],["type","Date","id","issuedate","name","issuedate",1,"form-control",3,"ngModel","ngModelChange"],["id","serialnumber",1,"col-form-label"],["type","text","name","serialnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","degree",1,"col-form-label"],["type","text","name","degree",1,"form-control",3,"ngModel","ngModelChange"],["id","certificatenumber",1,"col-form-label"],["type","text","name","certificatenumber",1,"form-control",3,"ngModel","ngModelChange"],["id","appearsin",1,"col-form-label"],["type","text","name","appearsin",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],["for","posted",1,"ml-1"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[1,"mt-4"],["type","radio","name","status",3,"value","ngModel","ngModelChange"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"form",1,2),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](3);return t.onSave(n)}),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"div",5),g["\u0275\u0275elementStart"](7,"label",6),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",4),g["\u0275\u0275element"](12,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"label",8),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"input",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.fromdate=e}),g["\u0275\u0275pipe"](20,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"div",4),g["\u0275\u0275elementStart"](22,"div",5),g["\u0275\u0275elementStart"](23,"label",10),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"input",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.todate=e}),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"div",4),g["\u0275\u0275elementStart"](29,"div",5),g["\u0275\u0275elementStart"](30,"label",12),g["\u0275\u0275text"](31),g["\u0275\u0275pipe"](32,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](33,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.type=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](34,"div",3),g["\u0275\u0275elementStart"](35,"div",4),g["\u0275\u0275elementStart"](36,"div",5),g["\u0275\u0275elementStart"](37,"label",14),g["\u0275\u0275text"](38),g["\u0275\u0275pipe"](39,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"input",15),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.name=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"div",4),g["\u0275\u0275elementStart"](42,"div",5),g["\u0275\u0275elementStart"](43,"label",16),g["\u0275\u0275text"](44),g["\u0275\u0275pipe"](45,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](46,"input",17),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.issuedate=e}),g["\u0275\u0275pipe"](47,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](48,"div",4),g["\u0275\u0275elementStart"](49,"div",5),g["\u0275\u0275elementStart"](50,"label",18),g["\u0275\u0275text"](51),g["\u0275\u0275pipe"](52,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](53,"input",19),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.serialnumber=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](54,"div",3),g["\u0275\u0275elementStart"](55,"div",4),g["\u0275\u0275elementStart"](56,"div",5),g["\u0275\u0275elementStart"](57,"label",20),g["\u0275\u0275text"](58),g["\u0275\u0275pipe"](59,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](60,"input",21),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.degree=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](61,"div",4),g["\u0275\u0275elementStart"](62,"div",5),g["\u0275\u0275elementStart"](63,"label",22),g["\u0275\u0275text"](64),g["\u0275\u0275pipe"](65,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](66,"input",23),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.certificatenumber=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](67,"div",4),g["\u0275\u0275elementStart"](68,"div",5),g["\u0275\u0275elementStart"](69,"label",24),g["\u0275\u0275text"](70),g["\u0275\u0275pipe"](71,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](72,"input",25),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.appearsin=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](73,"div",3),g["\u0275\u0275elementStart"](74,"div",4),g["\u0275\u0275elementStart"](75,"div",5),g["\u0275\u0275elementStart"](76,"label",26),g["\u0275\u0275text"](77),g["\u0275\u0275pipe"](78,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](79,"textarea",27),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.notes=e}),g["\u0275\u0275text"](80,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](81,"div",4),g["\u0275\u0275elementStart"](82,"div",5),g["\u0275\u0275elementStart"](83,"label",28),g["\u0275\u0275text"](84),g["\u0275\u0275pipe"](85,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](86,"label",29),g["\u0275\u0275template"](87,Mn,4,4,"label",30),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](88,"div",4),g["\u0275\u0275elementStart"](89,"div",31),g["\u0275\u0275template"](90,kn,4,4,"button",32),g["\u0275\u0275elementStart"](91,"button",33),g["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),g["\u0275\u0275text"](92),g["\u0275\u0275pipe"](93,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](94,Bn,3,4,"button",34),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](95,"div",0),g["\u0275\u0275template"](96,Fn,10,7,"section",35),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,28,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceCertificateT.code),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](18,30,"fromdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](20,32,t._experienceCertificateT.fromdate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](25,35,"todate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](27,37,t._experienceCertificateT.todate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](32,40,"type")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceCertificateT.type),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](39,42,"name")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceCertificateT.name),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](45,44,"issuedate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](47,46,t._experienceCertificateT.issuedate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](52,49,"serialnumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceCertificateT.serialnumber),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](59,51,"degree")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceCertificateT.degree),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](65,53,"certificatenumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceCertificateT.certificatenumber),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](71,55,"appearsin")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceCertificateT.appearsin),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](78,57,"notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._experienceCertificateT.notes),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](85,59,"status")," : "),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngForOf",t.ExperienceCertificatesStatuList),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](93,61,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._experienceCertificateT.id>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,a.sg,a.O5,r._,D.u],pipes:[m.X$,a.uU],styles:[""]}),e})();class Rn{constructor(){this.code="",this.typeid=null,this.enddate=null,this.issuedate=null,this.documentnumber="",this.notes="",this.subsidaryid=null,this.imagepaths=[]}}let On=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAll(e,t,n){let a=`/EmployeeDocuments/GetAll?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeDocument(e,t){return this.http.get(this.baseUrl+`/EmployeeDocuments/CountOfEmployeeDocument?searchValue=${e}&subsidaryid=${t}`).pipe((0,ct.U)(e=>e))}GetMaxCode(e){return this.http.get(this.baseUrl+`/EmployeeDocuments/GetMaxCode?subsidaryid=${e}`).pipe((0,ct.U)(e=>e))}Delete(e){return this.http.get(this.baseUrl+`/EmployeeDocuments/Delete?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeDocument(e){return this.http.post(`${this.baseUrl}/EmployeeDocuments/Create`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeDocument(e){return this.http.post(this.baseUrl+"/EmployeeDocuments/Update",e).pipe((0,ct.U)(e=>e))}UploadFile(e){return this.http.post(this.baseUrl+"/EmployeeDocuments/UploadFile",e).pipe((0,ct.U)(e=>e))}GetEmployeeDocumentAttachments(e){return this.http.get(this.baseUrl+`/EmployeeDocuments/GetEmployeeDocumentAttachments?employeedocumentid=${e}`).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var Vn=n(58741),An=n(22829);function Nn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function Gn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Pn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",34),g["\u0275\u0275template"](1,Nn,2,1,"div",33),g["\u0275\u0275template"](2,Gn,2,1,"div",33),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function jn(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementContainerStart"](0,3),g["\u0275\u0275element"](1,"img",35),g["\u0275\u0275elementStart"](2,"button",36),g["\u0275\u0275listener"]("click",function(){const t=g["\u0275\u0275restoreView"](e).$implicit;return g["\u0275\u0275nextContext"]().onDeleteImage(t)}),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275element"](4,"i",37),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("src",e,g["\u0275\u0275sanitizeUrl"]),g["\u0275\u0275advance"](1),g["\u0275\u0275propertyInterpolate"]("title",g["\u0275\u0275pipeBind1"](3,2,"delete"))}}function $n(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",38),g["\u0275\u0275element"](1,"i",39),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Un(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",31),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.DeleteDocument(t._documentT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Ln(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",40),g["\u0275\u0275elementStart"](2,"div",41),g["\u0275\u0275elementStart"](3,"div",42),g["\u0275\u0275elementStart"](4,"h6",43),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",44),g["\u0275\u0275elementStart"](8,"div",45),g["\u0275\u0275elementStart"](9,"app-Matix-table",46),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeDocumentSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeDocumentSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"EmployeeDocument")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeDocumentList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}let Jn=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._employeeDocumentsService=d,this._documentTypesService=c,this._DocumentsCategoryService=m,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this.attachments=[],this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"documenttypename_ar",sortByEn:"documenttypename_en",displayName:"documenttypeid"},{sortByAr:"issuedatestring",sortByEn:"issuedatestring",displayName:"issuedate"},{sortByAr:"enddatestring",sortByEn:"enddatestring",displayName:"documentenddate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._documentT=new Rn,this.EmployeeDocumentList=[],this.DocumentTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.emptyerror=e.emptyerror,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetDocumentType(),this.GetData()})}GetDocumentType(){this._documentTypesService.GetAllForDropdown().subscribe(e=>{this.DocumentTypeList=e,this.cd.markForCheck()})}ngOnInit(){this.GetList()}GetList(){this._employeeDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeDocumentList=e,this.cd.markForCheck()}),this._employeeDocumentsService.CountOfEmployeeDocument("",this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetData(e=0){0==e?this._employeeDocumentsService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._documentT.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this.cd.markForCheck()}):(this._documentT=this.EmployeeDocumentList.find(t=>t.id==e),this._documentT.imagepaths=[],this._employeeDocumentsService.GetEmployeeDocumentAttachments(e).subscribe(e=>{if(e.length>0)for(let t=0;t<e.length;t++)this._documentT.imagepaths.push(e[t].imagepath),this.GetImage(e[t].imagepath);this.cd.markForCheck()}))}EmployeeDocumentSearch(e){Object.assign(this._searchModel,e),this._employeeDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeDocumentList=e,this.cd.markForCheck()}),this._employeeDocumentsService.CountOfEmployeeDocument(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeDocumentSort(e){Object.assign(this._searchModel,e),this._employeeDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeDocumentList=e,this.cd.markForCheck()}),this._employeeDocumentsService.CountOfEmployeeDocument(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}OnAdd(){this._documentT=new Rn,this.previews=null,this.showmood=!1,this.GetData()}OnEdit(e){this._documentT=new Rn,this.previews=null,this.showmood=!1,this.GetData(e)}OnShow(e){this._documentT=new Rn,this.previews=null,this.showmood=!0,this.GetData(e)}CancelForm(){this._documentT=new Rn,this.previews=null,this.GetData()}DeleteDocument(e){k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeeDocumentsService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this._documentT=new Rn,this.previews=null,this.showmood=!1,this.GetList()):this.toastr.error(this.DeleteRelationmsg)})})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this.attachments.length>0?this.UploadPhoto():this.FinalSave()}UploadPhoto(){for(let e=0;e<this.attachments.length;e++){const t=new FormData;t.append("FileSend",this.attachments[e]),this._employeeDocumentsService.UploadFile(t).subscribe(e=>{null!=e&&null!=e&&(this._documentT.imagepaths.push(e.filepath),this._documentT.imagepaths.length==this.previews.length&&(this.FinalSave(),this.cd.markForCheck()))})}}FinalSave(){this._documentT.employeeid=this.EmployeeID,this._documentT.subsidaryid=this.subsidiaryID,this._documentT.id>0?this._employeeDocumentsService.UpdateEmployeeDocument(this._documentT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()}):this._employeeDocumentsService.CreateEmployeeDocument(this._documentT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()})}previewImage(e){if(this.selectedFiles=e.target.files,this.selectedFiles&&this.selectedFiles[0]){const e=this.selectedFiles.length;for(let t=0;t<e;t++){const e=new FileReader;e.onload=e=>{this.previews&&this.previews.length>0||(this.previews=[]),this.previews.push(e.target.result)},e.readAsDataURL(this.selectedFiles[t])}}this.cd.markForCheck()}fileChange(e){if(e.length>0&&null!=e[0])if(this.attachments&&this.attachments.length>0)this.attachments.push(e);else{this.attachments=[];for(const t of e)this.attachments.push(t)}this.cd.markForCheck()}onDeleteImage(e){let t=this.previews.find(t=>t==e),n=this.previews.indexOf(t);this.previews.splice(n,1),this.attachments.splice(n,1),this._documentT.imagepaths.splice(n,1),this.cd.markForCheck()}GetImage(e){this._DocumentsCategoryService.GetImage(e).subscribe(e=>{null!=e&&(this.createImageFromBlob(e),this.cd.markForCheck())},e=>{console.log(e)})}createImageFromBlob(e){let t=new FileReader;console.log(t),t.addEventListener("load",()=>{this.previews&&this.previews.length>0||(this.previews=[]),this.previews.push(t.result),this.cd.markForCheck()},!1),e&&t.readAsDataURL(e)}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](On),g["\u0275\u0275directiveInject"](Vn.T),g["\u0275\u0275directiveInject"](An.F))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-documents-form"]],decls:75,vars:45,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","typeid",1,"col-form-label"],["name","typeid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","issuedate",1,"col-form-label"],["type","Date","id","issuedate","name","issuedate",1,"form-control",3,"ngModel","ngModelChange"],["id","enddate",1,"col-form-label"],["type","Date","id","enddate","name","enddate",1,"form-control",3,"ngModel","ngModelChange"],["id","documentnumber",1,"col-form-label"],["type","text","name","documentnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","30px"],["id","attachment",1,"col-form-label"],["type","button",1,"add-photo",3,"change"],["accept",".jpg, .png, .jpeg, .gif|image/*","id","file","multiple","multiple","name","file","type","file",2,"display","none","border","none",3,"change"],["fileupload",""],["for","file",1,"text-white","m-0"],[1,"fa","fa-camera","camera"],[1,"col-lg-8","col-md-8","col-sm-12","mb-2","mb-md-0"],["class","row",4,"ngFor","ngForOf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["alt","...",1,"preview",2,"height","100px","width","100px",3,"src"],[1,"col-1","delete-img",3,"title","click"],[1,"fa","fa-times","danger"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"form",1,2),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](3);return t.onSave(n)}),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"div",5),g["\u0275\u0275elementStart"](7,"label",6),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",4),g["\u0275\u0275element"](12,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"label",8),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"select",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.typeid=e}),g["\u0275\u0275elementStart"](20,"option",10),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](23,Pn,3,3,"option",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"div",4),g["\u0275\u0275elementStart"](25,"div",5),g["\u0275\u0275elementStart"](26,"label",12),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.issuedate=e}),g["\u0275\u0275pipe"](30,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"div",4),g["\u0275\u0275elementStart"](32,"div",5),g["\u0275\u0275elementStart"](33,"label",14),g["\u0275\u0275text"](34),g["\u0275\u0275pipe"](35,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"input",15),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.enddate=e}),g["\u0275\u0275pipe"](37,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"div",3),g["\u0275\u0275elementStart"](39,"div",4),g["\u0275\u0275elementStart"](40,"div",5),g["\u0275\u0275elementStart"](41,"label",16),g["\u0275\u0275text"](42),g["\u0275\u0275pipe"](43,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"input",17),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.documentnumber=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"div",4),g["\u0275\u0275elementStart"](46,"div",5),g["\u0275\u0275elementStart"](47,"label",18),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"textarea",19),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.notes=e}),g["\u0275\u0275text"](51,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"div",20),g["\u0275\u0275elementStart"](54,"label",21),g["\u0275\u0275text"](55),g["\u0275\u0275pipe"](56,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](57,"button",22),g["\u0275\u0275listener"]("change",function(e){return t.previewImage(e)}),g["\u0275\u0275elementStart"](58,"input",23,24),g["\u0275\u0275listener"]("change",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](59);return t.fileChange(n.files)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](60,"label",25),g["\u0275\u0275element"](61,"i",26),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](62,"div",3),g["\u0275\u0275elementStart"](63,"div",27),g["\u0275\u0275elementStart"](64,"div",5),g["\u0275\u0275template"](65,jn,5,4,"ng-container",28),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](66,"div",4),g["\u0275\u0275elementStart"](67,"div",29),g["\u0275\u0275template"](68,$n,4,4,"button",30),g["\u0275\u0275elementStart"](69,"button",31),g["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),g["\u0275\u0275text"](70),g["\u0275\u0275pipe"](71,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](72,Un,3,4,"button",32),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](73,"div",0),g["\u0275\u0275template"](74,Ln,10,7,"section",33),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,21,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._documentT.code),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](18,23,"documenttypeid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._documentT.typeid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,25,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.DocumentTypeList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](28,27,"issuedate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](30,29,t._documentT.issuedate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](35,32,"documentenddate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](37,34,t._documentT.enddate,"yyyy-MM-dd")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](43,37,"documentnumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._documentT.documentnumber),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,39,"notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._documentT.notes),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](56,41,"attachment")),g["\u0275\u0275advance"](10),g["\u0275\u0275property"]("ngForOf",t.previews),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](71,43,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._documentT.id>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.EJ,r.YN,r.Kr,a.sg,a.O5,D.u],pipes:[m.X$,a.uU],styles:[".add-photo[_ngcontent-%COMP%]{border:0 solid #fff;background-color:transparent}.add-photo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}.preview[_ngcontent-%COMP%]{position:relative}.delete-img[_ngcontent-%COMP%]{background-color:#00000085;width:5%;padding:5px;left:100px;top:-30px;border:0}.camera[_ngcontent-%COMP%]{color:#999;font-size:22px}"]}),e})();class zn{constructor(){this.code="",this.custodydate=null,this.custodyenddate=null,this.dropdate=null,this.custodynameid=null,this.value="",this.number=null,this.description="",this.factorynumber="",this.site="",this.decreasing=!1,this.notes="",this.subsidaryid=null}}let Yn=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAll(e,t,n){let a=`/EmployeeCustodies/GetAll?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeCustody(e,t){return this.http.get(this.baseUrl+`/EmployeeCustodies/CountOfEmployeeCustody?searchValue=${e}&subsidaryid=${t}`).pipe((0,ct.U)(e=>e))}GetMaxCode(e){return this.http.get(this.baseUrl+`/EmployeeCustodies/GetMaxCode?subsidaryid=${e}`).pipe((0,ct.U)(e=>e))}Delete(e){return this.http.get(this.baseUrl+`/EmployeeCustodies/Delete?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeCustody(e){return this.http.post(`${this.baseUrl}/EmployeeCustodies/Create`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeCustody(e){return this.http.post(this.baseUrl+"/EmployeeCustodies/Update",e).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var qn=n(23636);function Qn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function Kn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Wn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",38),g["\u0275\u0275template"](1,Qn,2,1,"div",37),g["\u0275\u0275template"](2,Kn,2,1,"div",37),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Xn(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",39),g["\u0275\u0275element"](1,"i",40),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Zn(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",35),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.DeleteCustody(t._custodyT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function ea(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",41),g["\u0275\u0275elementStart"](2,"div",42),g["\u0275\u0275elementStart"](3,"div",43),g["\u0275\u0275elementStart"](4,"h6",44),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",45),g["\u0275\u0275elementStart"](8,"div",46),g["\u0275\u0275elementStart"](9,"app-Matix-table",47),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeCustodySearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeCustodySort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"EmployeeCustody")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeCustodyList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}const ta=function(){return{standalone:!0}};let na=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._employeeCustodiesService=d,this._custodyNamesService=c,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"custodyname_ar",sortByEn:"custodyname_en",displayName:"custodynameid"},{sortByAr:"custodydatestring",sortByEn:"custodydatestring",displayName:"custodydate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._custodyT=new zn,this.EmployeeCustodyList=[],this.custodyNamesList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.emptyerror=e.emptyerror,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetCustodyNames(),this.GetData()})}GetCustodyNames(){this._custodyNamesService.GetAllForDropdown().subscribe(e=>{this.custodyNamesList=e,this.cd.markForCheck()})}ngOnInit(){this.GetList()}GetList(){this._employeeCustodiesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeCustodyList=e,this.cd.markForCheck()}),this._employeeCustodiesService.CountOfEmployeeCustody("",this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetData(e=0){0==e?this._employeeCustodiesService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._custodyT.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this.cd.markForCheck()}):this._custodyT=this.EmployeeCustodyList.find(t=>t.id==e)}EmployeeCustodySearch(e){Object.assign(this._searchModel,e),this._employeeCustodiesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeCustodyList=e,this.cd.markForCheck()}),this._employeeCustodiesService.CountOfEmployeeCustody(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeCustodySort(e){Object.assign(this._searchModel,e),this._employeeCustodiesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeCustodyList=e,this.cd.markForCheck()}),this._employeeCustodiesService.CountOfEmployeeCustody(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}OnAdd(){this._custodyT=new zn,this.showmood=!1,this.GetData()}OnEdit(e){this._custodyT=new zn,this.showmood=!1,this.GetData(e)}OnShow(e){this._custodyT=new zn,this.showmood=!0,this.GetData(e)}CancelForm(){this._custodyT=new zn,this.GetData()}DeleteCustody(e){k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeeCustodiesService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this._custodyT=new zn,this.showmood=!1,this.GetList()):this.toastr.error(this.DeleteRelationmsg)})})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._custodyT.employeeid=this.EmployeeID,this._custodyT.subsidaryid=this.subsidiaryID,this._custodyT.id>0?this._employeeCustodiesService.UpdateEmployeeCustody(this._custodyT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()}):this._employeeCustodiesService.CreateEmployeeCustody(this._custodyT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](Yn),g["\u0275\u0275directiveInject"](qn.p))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-custodies-form"]],decls:101,vars:71,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","custodydate",1,"col-form-label"],["type","Date","id","custodydate","name","custodydate",1,"form-control",3,"ngModel","ngModelChange"],["id","custodyenddate",1,"col-form-label"],["type","Date","id","custodyenddate","name","custodyenddate",1,"form-control",3,"ngModel","ngModelChange"],["id","dropdate",1,"col-form-label"],["type","Date","id","dropdate","name","dropdate",1,"form-control",3,"ngModel","ngModelChange"],["id","custodynameid",1,"col-form-label"],["name","custodynameid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","value",1,"col-form-label"],["type","text","name","value",1,"form-control",3,"ngModel","ngModelChange"],["id","number",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","number",1,"form-control",3,"ngModel","ngModelChange"],["id","description",1,"col-form-label"],["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],["id","factorynumber",1,"col-form-label"],["type","text","name","factorynumber",1,"form-control",3,"ngModel","ngModelChange"],["id","site",1,"col-form-label"],["type","text","name","site",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","40px"],["type","checkbox","id","decreasing",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","decreasing"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"form",1,2),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](3);return t.onSave(n)}),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"div",5),g["\u0275\u0275elementStart"](7,"label",6),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",4),g["\u0275\u0275element"](12,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"label",8),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"input",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.custodydate=e}),g["\u0275\u0275pipe"](20,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"div",4),g["\u0275\u0275elementStart"](22,"div",5),g["\u0275\u0275elementStart"](23,"label",10),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"input",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.custodyenddate=e}),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"div",4),g["\u0275\u0275elementStart"](29,"div",5),g["\u0275\u0275elementStart"](30,"label",12),g["\u0275\u0275text"](31),g["\u0275\u0275pipe"](32,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](33,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.dropdate=e}),g["\u0275\u0275pipe"](34,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"div",3),g["\u0275\u0275elementStart"](36,"div",4),g["\u0275\u0275elementStart"](37,"div",5),g["\u0275\u0275elementStart"](38,"label",14),g["\u0275\u0275text"](39),g["\u0275\u0275pipe"](40,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"select",15),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.custodynameid=e}),g["\u0275\u0275elementStart"](42,"option",16),g["\u0275\u0275text"](43),g["\u0275\u0275pipe"](44,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](45,Wn,3,3,"option",17),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](46,"div",4),g["\u0275\u0275elementStart"](47,"div",5),g["\u0275\u0275elementStart"](48,"label",18),g["\u0275\u0275text"](49),g["\u0275\u0275pipe"](50,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"input",19),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.value=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"div",5),g["\u0275\u0275elementStart"](54,"label",20),g["\u0275\u0275text"](55),g["\u0275\u0275pipe"](56,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](57,"input",21),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.number=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](58,"div",3),g["\u0275\u0275elementStart"](59,"div",4),g["\u0275\u0275elementStart"](60,"div",5),g["\u0275\u0275elementStart"](61,"label",22),g["\u0275\u0275text"](62),g["\u0275\u0275pipe"](63,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](64,"input",23),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.description=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](65,"div",4),g["\u0275\u0275elementStart"](66,"div",5),g["\u0275\u0275elementStart"](67,"label",24),g["\u0275\u0275text"](68),g["\u0275\u0275pipe"](69,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](70,"input",25),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.factorynumber=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](71,"div",4),g["\u0275\u0275elementStart"](72,"div",5),g["\u0275\u0275elementStart"](73,"label",26),g["\u0275\u0275text"](74),g["\u0275\u0275pipe"](75,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](76,"input",27),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.site=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](77,"div",3),g["\u0275\u0275elementStart"](78,"div",4),g["\u0275\u0275elementStart"](79,"div",28),g["\u0275\u0275elementStart"](80,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.decreasing=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](81,"label",30),g["\u0275\u0275elementStart"](82,"span"),g["\u0275\u0275text"](83),g["\u0275\u0275pipe"](84,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](85,"div",4),g["\u0275\u0275elementStart"](86,"div",5),g["\u0275\u0275elementStart"](87,"label",31),g["\u0275\u0275text"](88),g["\u0275\u0275pipe"](89,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](90,"textarea",32),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.notes=e}),g["\u0275\u0275text"](91,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](92,"div",4),g["\u0275\u0275elementStart"](93,"div",33),g["\u0275\u0275template"](94,Xn,4,4,"button",34),g["\u0275\u0275elementStart"](95,"button",35),g["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),g["\u0275\u0275text"](96),g["\u0275\u0275pipe"](97,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](98,Zn,3,4,"button",36),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](99,"div",0),g["\u0275\u0275template"](100,ea,10,7,"section",37),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,33,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._custodyT.code),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](18,35,"custodydate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](20,37,t._custodyT.custodydate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](25,40,"custodyenddate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](27,42,t._custodyT.custodyenddate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](32,45,"dropdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](34,47,t._custodyT.dropdate,"yyyy-MM-dd")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](40,50,"custodynameid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._custodyT.custodynameid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](44,52,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.custodyNamesList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](50,54,"value")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._custodyT.value),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](56,56,"number")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._custodyT.number),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](63,58,"description")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._custodyT.description),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](69,60,"factorynumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._custodyT.factorynumber),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](75,62,"site")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._custodyT.site),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("checked",t._custodyT.decreasing)("ngModelOptions",g["\u0275\u0275pureFunction0"](70,ta))("ngModel",t._custodyT.decreasing),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](84,64,"decreasing")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](89,66,"notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._custodyT.notes),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](97,68,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._custodyT.id>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.EJ,r.YN,r.Kr,a.sg,ht.L,r.Wl,a.O5,D.u],pipes:[m.X$,a.uU],styles:[""]}),e})();class aa{constructor(){this.code="",this.date=null,this.note="",this.employeecomment="",this.subsidaryid=null}}let ia=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAll(e,t,n){let a=`/EmployeeNotes/GetAll?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeNote(e,t){return this.http.get(this.baseUrl+`/EmployeeNotes/CountOfEmployeeNote?searchValue=${e}&subsidaryid=${t}`).pipe((0,ct.U)(e=>e))}GetMaxCode(e){return this.http.get(this.baseUrl+`/EmployeeNotes/GetMaxCode?subsidaryid=${e}`).pipe((0,ct.U)(e=>e))}Delete(e){return this.http.get(this.baseUrl+`/EmployeeNotes/Delete?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeNote(e){return this.http.post(`${this.baseUrl}/EmployeeNotes/Create`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeNote(e){return this.http.post(this.baseUrl+"/EmployeeNotes/Update",e).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function la(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",19),g["\u0275\u0275element"](1,"i",20),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function ra(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",16),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.DeleteNote(t._noteT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function oa(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",21),g["\u0275\u0275elementStart"](2,"div",22),g["\u0275\u0275elementStart"](3,"div",23),g["\u0275\u0275elementStart"](4,"h6",24),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",25),g["\u0275\u0275elementStart"](8,"div",26),g["\u0275\u0275elementStart"](9,"app-Matix-table",27),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeNoteSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeNoteSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"EmployeeNotes")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeNoteList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}let sa=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._employeeNotesService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"datestring",sortByEn:"datestring",displayName:"date"},{sortByAr:"note",sortByEn:"note",displayName:"note"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._noteT=new aa,this.EmployeeNoteList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.emptyerror=e.emptyerror,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetData()})}ngOnInit(){this.GetList()}GetList(){this._employeeNotesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeNoteList=e,this.cd.markForCheck()}),this._employeeNotesService.CountOfEmployeeNote("",this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetData(e=0){0==e?this._employeeNotesService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._noteT.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this.cd.markForCheck()}):this._noteT=this.EmployeeNoteList.find(t=>t.id==e)}EmployeeNoteSearch(e){Object.assign(this._searchModel,e),this._employeeNotesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeNoteList=e,this.cd.markForCheck()}),this._employeeNotesService.CountOfEmployeeNote(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeNoteSort(e){Object.assign(this._searchModel,e),this._employeeNotesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeNoteList=e,this.cd.markForCheck()}),this._employeeNotesService.CountOfEmployeeNote(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}OnAdd(){this._noteT=new aa,this.showmood=!1,this.GetData()}OnEdit(e){this._noteT=new aa,this.showmood=!1,this.GetData(e)}OnShow(e){this._noteT=new aa,this.showmood=!0,this.GetData(e)}CancelForm(){this._noteT=new aa,this.GetData()}DeleteNote(e){k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeeNotesService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this._noteT=new aa,this.showmood=!1,this.GetList()):this.toastr.error(this.DeleteRelationmsg)})})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._noteT.employeeid=this.EmployeeID,this._noteT.subsidaryid=this.subsidiaryID,this._noteT.id>0?this._employeeNotesService.UpdateEmployeeNote(this._noteT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()}):this._employeeNotesService.CreateEmployeeNote(this._noteT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](ia))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-notes-form"]],decls:47,vars:25,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","date",1,"col-form-label"],["type","Date","id","date","name","date",1,"form-control",3,"ngModel","ngModelChange"],["id","note",1,"col-form-label"],["id","note","name","note",1,"form-control",3,"ngModel","ngModelChange"],["id","employeecomment",1,"col-form-label"],["id","employeecomment","name","employeecomment",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"form",1,2),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](3);return t.onSave(n)}),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"div",5),g["\u0275\u0275elementStart"](7,"label",6),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._noteT.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",4),g["\u0275\u0275element"](12,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"label",8),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"input",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._noteT.date=e}),g["\u0275\u0275pipe"](20,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"div",4),g["\u0275\u0275elementStart"](22,"div",5),g["\u0275\u0275elementStart"](23,"label",10),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"textarea",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._noteT.note=e}),g["\u0275\u0275text"](27,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"div",4),g["\u0275\u0275elementStart"](29,"div",5),g["\u0275\u0275elementStart"](30,"label",12),g["\u0275\u0275text"](31),g["\u0275\u0275pipe"](32,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](33,"textarea",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._noteT.employeecomment=e}),g["\u0275\u0275text"](34,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"div",3),g["\u0275\u0275element"](36,"div",4),g["\u0275\u0275element"](37,"div",4),g["\u0275\u0275elementStart"](38,"div",4),g["\u0275\u0275elementStart"](39,"div",14),g["\u0275\u0275template"](40,la,4,4,"button",15),g["\u0275\u0275elementStart"](41,"button",16),g["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),g["\u0275\u0275text"](42),g["\u0275\u0275pipe"](43,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](44,ra,3,4,"button",17),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"div",0),g["\u0275\u0275template"](46,oa,10,7,"section",18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,12,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._noteT.code),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](18,14,"date"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](20,16,t._noteT.date,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](25,19,"note")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._noteT.note),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](32,21,"employeecomment")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._noteT.employeecomment),g["\u0275\u0275advance"](7),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](43,23,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._noteT.id>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,a.O5,D.u],pipes:[m.X$,a.uU],styles:[""]}),e})();class da{constructor(){this.entrycardnumber="",this.workinghourstype=null,this.shifttype="",this.shift=""}}function ca(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",20),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function ma(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",20),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function pa(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"label",17),g["\u0275\u0275elementStart"](1,"input",18),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.workinghourstype=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](2,ca,2,1,"label",19),g["\u0275\u0275template"](3,ma,2,1,"label",19),g["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("value",e.id)("ngModel",n._employeeT.workinghourstype),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ha(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",21),g["\u0275\u0275element"](1,"i",22),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}let ua=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.NumNotExist="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new da,this._oldEmployeeT="",this.WorkingHoursTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","No","MissData","savedChanges","Yes"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetWorkingHoursTypes(),this.GetData()})}GetWorkingHoursTypes(){this._employeesService.GetStaticValues("WorkingHoursTypes").subscribe(e=>{this.WorkingHoursTypeList=e,this.cd.markForCheck()})}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeesService.GetEmployeeShiftDetailsById(this.EmployeeID).subscribe(e=>{this._employeeT.id=this.EmployeeID,this._employeeT.entrycardnumber=e.entrycardnumber,this._employeeT.workinghourstype=e.workinghourstype,this._employeeT.shifttype=e.shifttype,this._employeeT.shift=e.shift,this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.id>0&&this._employeesService.UpdateEmployeeShiftDetails(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)})}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("page/hr/manageemployee/employees")}):this.router.navigateByUrl("page/hr/manageemployee/employees")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-shift-details-form"]],decls:37,vars:20,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","entrycardnumber",1,"col-form-label"],["type","text","name","entrycardnumber",1,"form-control",3,"ngModel","ngModelChange"],["for","posted",1,"ml-1"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],["id","shifttype",1,"col-form-label"],["type","text","name","shifttype",1,"form-control",3,"ngModel","ngModelChange"],["id","shift",1,"col-form-label"],["type","text","name","shift",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[1,"mt-4"],["type","radio","name","workinghourstype",3,"value","ngModel","ngModelChange"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"input",6),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.entrycardnumber=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",3),g["\u0275\u0275elementStart"](11,"div",4),g["\u0275\u0275elementStart"](12,"label",7),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"label",8),g["\u0275\u0275template"](16,pa,4,4,"label",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"div",3),g["\u0275\u0275elementStart"](18,"div",4),g["\u0275\u0275elementStart"](19,"label",10),g["\u0275\u0275text"](20),g["\u0275\u0275pipe"](21,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](22,"input",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.shifttype=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"div",2),g["\u0275\u0275elementStart"](24,"div",3),g["\u0275\u0275elementStart"](25,"div",4),g["\u0275\u0275elementStart"](26,"label",12),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.shift=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](30,"div",3),g["\u0275\u0275elementStart"](31,"div",3),g["\u0275\u0275elementStart"](32,"div",14),g["\u0275\u0275template"](33,ha,4,4,"button",15),g["\u0275\u0275elementStart"](34,"a",16),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](35),g["\u0275\u0275pipe"](36,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](8,10,"entrycardnumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.entrycardnumber),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](14,12,"workinghourstype")," : "),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngForOf",t.WorkingHoursTypeList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](21,14,"shifttype")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.shifttype),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](28,16,"shift")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.shift),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](36,18,"Cancel")," "))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,a.sg,a.O5,r._],pipes:[m.X$],styles:[""]}),e})();const ya=["RForm"];function ga(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",2),g["\u0275\u0275elementStart"](1,"h1"),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function va(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",40),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Sa(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",40),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275element"](3,"br"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueMustGreaterThan0")," "))}function fa(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",41),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2)._employeeT.employeestatus_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("ngModel",e._employeeT.employeestatus_en)}}function ba(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",41),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2)._employeeT.employeestatus_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("ngModel",e._employeeT.employeestatus_ar)}}function Ea(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",40),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function xa(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",40),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Ca(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",42),g["\u0275\u0275element"](1,"i",43),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Da(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",44),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"](2);return t.DeleteEmployee(t._employeeT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function _a(e,t){1&e&&g["\u0275\u0275element"](0,"app-personal-data-form")}function Ia(e,t){1&e&&g["\u0275\u0275element"](0,"app-functional-information-form")}function wa(e,t){1&e&&g["\u0275\u0275element"](0,"app-addresses-contact-information-form")}function Ta(e,t){1&e&&g["\u0275\u0275element"](0,"app-experiences-form")}function Ma(e,t){1&e&&g["\u0275\u0275element"](0,"app-qualifications-form")}function ka(e,t){1&e&&g["\u0275\u0275element"](0,"app-skills-form")}function Ba(e,t){1&e&&g["\u0275\u0275element"](0,"app-trainings-form")}function Fa(e,t){1&e&&g["\u0275\u0275element"](0,"app-experience-certificates-form")}function Ha(e,t){1&e&&g["\u0275\u0275element"](0,"app-documents-form")}function Ra(e,t){1&e&&g["\u0275\u0275element"](0,"app-custodies-form")}function Oa(e,t){1&e&&g["\u0275\u0275element"](0,"app-notes-form")}function Va(e,t){1&e&&g["\u0275\u0275element"](0,"app-shift-details-form")}function Aa(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"p-accordion"),g["\u0275\u0275elementStart"](1,"p-accordionTab"),g["\u0275\u0275elementStart"](2,"p-header"),g["\u0275\u0275text"](3),g["\u0275\u0275pipe"](4,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"p-accordion"),g["\u0275\u0275elementStart"](6,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).PersonalDataClick()}),g["\u0275\u0275elementStart"](7,"p-header"),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](10,_a,1,0,"app-personal-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).FunctionalInformationClick()}),g["\u0275\u0275elementStart"](12,"p-header"),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](15,Ia,1,0,"app-functional-information-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"p-accordionTab"),g["\u0275\u0275elementStart"](17,"p-header"),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"p-accordionTab"),g["\u0275\u0275elementStart"](21,"p-header"),g["\u0275\u0275text"](22),g["\u0275\u0275pipe"](23,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"p-accordionTab"),g["\u0275\u0275elementStart"](25,"p-header"),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"p-accordion"),g["\u0275\u0275elementStart"](29,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).AddressesAndContactInformationClick()}),g["\u0275\u0275elementStart"](30,"p-header"),g["\u0275\u0275text"](31),g["\u0275\u0275pipe"](32,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](33,wa,1,0,"app-addresses-contact-information-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](34,"p-accordionTab"),g["\u0275\u0275elementStart"](35,"p-header"),g["\u0275\u0275text"](36),g["\u0275\u0275pipe"](37,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"p-accordion"),g["\u0275\u0275elementStart"](39,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).ExperiencesClick()}),g["\u0275\u0275elementStart"](40,"p-header"),g["\u0275\u0275text"](41),g["\u0275\u0275pipe"](42,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](43,Ta,1,0,"app-experiences-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"p-accordionTab"),g["\u0275\u0275elementStart"](45,"p-header"),g["\u0275\u0275text"](46),g["\u0275\u0275pipe"](47,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](48,"p-accordion"),g["\u0275\u0275elementStart"](49,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).QualificationsClick()}),g["\u0275\u0275elementStart"](50,"p-header"),g["\u0275\u0275text"](51),g["\u0275\u0275pipe"](52,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](53,Ma,1,0,"app-qualifications-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](54,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).SkillsClick()}),g["\u0275\u0275elementStart"](55,"p-header"),g["\u0275\u0275text"](56),g["\u0275\u0275pipe"](57,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](58,ka,1,0,"app-skills-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](59,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).TrainingsClick()}),g["\u0275\u0275elementStart"](60,"p-header"),g["\u0275\u0275text"](61),g["\u0275\u0275pipe"](62,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](63,Ba,1,0,"app-trainings-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](64,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).ExperienceCertificatesClick()}),g["\u0275\u0275elementStart"](65,"p-header"),g["\u0275\u0275text"](66),g["\u0275\u0275pipe"](67,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](68,Fa,1,0,"app-experience-certificates-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](69,"p-accordionTab"),g["\u0275\u0275elementStart"](70,"p-header"),g["\u0275\u0275text"](71),g["\u0275\u0275pipe"](72,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](73,"p-accordion"),g["\u0275\u0275elementStart"](74,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).DocumentsClick()}),g["\u0275\u0275elementStart"](75,"p-header"),g["\u0275\u0275text"](76),g["\u0275\u0275pipe"](77,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](78,Ha,1,0,"app-documents-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](79,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).CustodiesClick()}),g["\u0275\u0275elementStart"](80,"p-header"),g["\u0275\u0275text"](81),g["\u0275\u0275pipe"](82,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](83,Ra,1,0,"app-custodies-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](84,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).NotesClick()}),g["\u0275\u0275elementStart"](85,"p-header"),g["\u0275\u0275text"](86),g["\u0275\u0275pipe"](87,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](88,Oa,1,0,"app-notes-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](89,"p-accordionTab"),g["\u0275\u0275elementStart"](90,"p-header"),g["\u0275\u0275text"](91),g["\u0275\u0275pipe"](92,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](93,"p-accordion"),g["\u0275\u0275elementStart"](94,"p-accordionTab",45),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).ShiftDetailsClick()}),g["\u0275\u0275elementStart"](95,"p-header"),g["\u0275\u0275text"](96),g["\u0275\u0275pipe"](97,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](98,Va,1,0,"app-shift-details-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](4,32,"PersonalAndEmploymentInfo")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,34,"PersonalData")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isPersonalDataClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](14,36,"FunctionalInformation")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isFunctionalInformationClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,38,"HusbandAndWives")),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](23,40,"Children")),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](27,42,"AddressesAndContactInformation")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](32,44,"AddressesAndContactInformation")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isAddressesAndContactInformationClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](37,46,"Experiences")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](42,48,"Experiences")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isExperiencesClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](47,50,"EducationAndDevelopment")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](52,52,"Qualifications")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isQualificationsClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](57,54,"Skills")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isSkillsClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](62,56,"TrainingAndCourses")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isTrainingsClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](67,58,"ExperienceCertificates")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isExperienceCertificatesClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](72,60,"CovenantAndDocuments")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](77,62,"DocumentsAndAttachments")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isDocumentsClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](82,64,"Covenant")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isCustodiesClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](87,66,"Notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isNotesClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](92,68,"Other")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](97,70,"ShiftDetails")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isShiftDetailsClicked)}}const Na=function(e,t){return{"invalid-data":e,"valid-data":t}};function Ga(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",3),g["\u0275\u0275elementStart"](2,"div",4),g["\u0275\u0275elementStart"](3,"div",5),g["\u0275\u0275elementStart"](4,"h6",6),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",7),g["\u0275\u0275elementStart"](8,"form",8,9),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275reference"](9);return g["\u0275\u0275nextContext"]().PreSave(t)}),g["\u0275\u0275elementStart"](10,"div",2),g["\u0275\u0275elementStart"](11,"div",10),g["\u0275\u0275elementStart"](12,"div",11),g["\u0275\u0275elementStart"](13,"label",12),g["\u0275\u0275text"](14),g["\u0275\u0275pipe"](15,"translate"),g["\u0275\u0275elementStart"](16,"span",13),g["\u0275\u0275text"](17,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"input",14,15),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.code=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().checkIsCodeExist()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](20,va,3,3,"span",16),g["\u0275\u0275template"](21,Sa,4,3,"span",16),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](22,"div",10),g["\u0275\u0275elementStart"](23,"div",11),g["\u0275\u0275elementStart"](24,"label",17),g["\u0275\u0275text"](25),g["\u0275\u0275pipe"](26,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](27,fa,1,1,"input",18),g["\u0275\u0275template"](28,ba,1,1,"input",18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](29,"div",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"div",2),g["\u0275\u0275elementStart"](31,"div",19),g["\u0275\u0275elementStart"](32,"div",11),g["\u0275\u0275elementStart"](33,"label",20),g["\u0275\u0275text"](34),g["\u0275\u0275pipe"](35,"translate"),g["\u0275\u0275elementStart"](36,"span",13),g["\u0275\u0275text"](37,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"div",21),g["\u0275\u0275elementStart"](39,"div",11),g["\u0275\u0275elementStart"](40,"input",22,23),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.firstname_ar=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().createFullName()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](42,Ea,3,3,"span",16),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](43,"div",21),g["\u0275\u0275elementStart"](44,"div",11),g["\u0275\u0275elementStart"](45,"input",24,25),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.secondname_ar=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().createFullName()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](47,xa,3,3,"span",16),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](48,"div",21),g["\u0275\u0275elementStart"](49,"div",11),g["\u0275\u0275elementStart"](50,"input",26),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.thirdname_ar=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().createFullName()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"div",21),g["\u0275\u0275elementStart"](52,"div",11),g["\u0275\u0275elementStart"](53,"input",27),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.lastname_ar=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().createFullName()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](54,"div",28),g["\u0275\u0275elementStart"](55,"div",11),g["\u0275\u0275elementStart"](56,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.fullname_ar=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](57,"div",2),g["\u0275\u0275elementStart"](58,"div",19),g["\u0275\u0275elementStart"](59,"div",11),g["\u0275\u0275elementStart"](60,"label",30),g["\u0275\u0275text"](61),g["\u0275\u0275pipe"](62,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](63,"div",21),g["\u0275\u0275elementStart"](64,"div",11),g["\u0275\u0275elementStart"](65,"input",31),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.firstname_en=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().createFullName()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](66,"div",21),g["\u0275\u0275elementStart"](67,"div",11),g["\u0275\u0275elementStart"](68,"input",32),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.secondname_en=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().createFullName()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](69,"div",21),g["\u0275\u0275elementStart"](70,"div",11),g["\u0275\u0275elementStart"](71,"input",33),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.thirdname_en=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().createFullName()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](72,"div",21),g["\u0275\u0275elementStart"](73,"div",11),g["\u0275\u0275elementStart"](74,"input",34),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.lastname_en=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().createFullName()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](75,"div",28),g["\u0275\u0275elementStart"](76,"div",11),g["\u0275\u0275elementStart"](77,"input",35),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.fullname_en=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](78,"div",2),g["\u0275\u0275element"](79,"div",10),g["\u0275\u0275element"](80,"div",10),g["\u0275\u0275elementStart"](81,"div",10),g["\u0275\u0275elementStart"](82,"div",36),g["\u0275\u0275template"](83,Ca,4,4,"button",37),g["\u0275\u0275elementStart"](84,"a",38),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275reference"](9);return g["\u0275\u0275nextContext"]().NotToMissData(t)}),g["\u0275\u0275text"](85),g["\u0275\u0275pipe"](86,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](87,Da,3,4,"button",39),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](88,Aa,99,72,"p-accordion",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275reference"](9),t=g["\u0275\u0275reference"](19),n=g["\u0275\u0275reference"](41),a=g["\u0275\u0275reference"](46),i=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,33,"addemployee")," "),g["\u0275\u0275advance"](9),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](15,35,"Code")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("readonly",i.EmployeeID>0)("ngModel",i._employeeT.code)("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](45,Na,t.invalid&&e.submitted||i._employeeT.code<=0,t.valid&&i._employeeT.code>0&&e.submitted)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.invalid&&e.submitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",i._employeeT.code<=0),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](26,37,"workingstatus")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"!=i.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==i.lang),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](35,39,"NameAR")),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngModel",i._employeeT.firstname_ar)("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](48,Na,n.invalid&&e.submitted,n.valid&&e.submitted)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",n.invalid&&e.submitted),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",i._employeeT.secondname_ar)("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](51,Na,a.invalid&&e.submitted,a.valid&&e.submitted)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",a.invalid&&e.submitted),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",i._employeeT.thirdname_ar),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",i._employeeT.lastname_ar),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",i._employeeT.fullname_ar),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](62,41,"NameEN")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",i._employeeT.firstname_en),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",i._employeeT.secondname_en),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",i._employeeT.thirdname_en),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",i._employeeT.lastname_en),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",i._employeeT.fullname_en),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngIf",i.checkRoleParms(401)||i.checkRoleParms(402)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](86,43,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",i.checkRoleParms(403)&&i._employeeT.id>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",i.EmployeeID>0)}}let Pa=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this.EmployeeID=0,this.subsidiaryID=0,this.showmood=!1,this.checkname="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Cancel="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.VacationCodeMsg="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this.datamsg="",this.isFunctionalInformationClicked=!1,this.isAddressesAndContactInformationClicked=!1,this.isExperiencesClicked=!1,this.isQualificationsClicked=!1,this.isSkillsClicked=!1,this.isTrainingsClicked=!1,this.isExperienceCertificatesClicked=!1,this.isPersonalDataClicked=!1,this.isCustodiesClicked=!1,this.isNotesClicked=!1,this.isShiftDetailsClicked=!1,this.isDocumentsClicked=!1,this.VacationCode=!0,this._employeeT=new T,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Cancel","DeleteRelationmsg","successMsg","checkname","addemployee","VacationCodeMsg","DataSavedsuccessfully","No","MissData","savedChanges","Yes","datamsg"]).subscribe(e=>{this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.Cancel=e.Cancel,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.checkname=e.checkname,this.title=e.addemployee,document.title=this.title,this.VacationCodeMsg=e.VacationCodeMsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.datamsg=e.datamsg})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetData()})}ngOnInit(){}GetData(){0==this.EmployeeID?this._employeesService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._employeeT.code=e.length>0?Number(e[0].code)+1:1,this.cd.markForCheck()}):this._employeesService.GetEmployeeMainDataById(this.EmployeeID).subscribe(e=>{this._employeeT.id=this.EmployeeID,this._employeeT.code=Number(e.code),this._employeeT.firstname_ar=e.firstname_ar,this._employeeT.secondname_ar=e.secondname_ar,this._employeeT.thirdname_ar=e.thirdname_ar,this._employeeT.lastname_ar=e.lastname_ar,this._employeeT.fullname_ar=e.fullname_ar,this._employeeT.firstname_en=e.firstname_en,this._employeeT.secondname_en=e.secondname_en,this._employeeT.thirdname_en=e.thirdname_en,this._employeeT.lastname_en=e.lastname_en,this._employeeT.fullname_en=e.fullname_en,this._employeeT.employeestatus_en=e.employeestatus_en,this._employeeT.employeestatus_ar=e.employeestatus_ar,this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}FunctionalInformationClick(){this.isFunctionalInformationClicked||(this.isFunctionalInformationClicked=!0)}AddressesAndContactInformationClick(){this.isAddressesAndContactInformationClicked||(this.isAddressesAndContactInformationClicked=!0)}ExperiencesClick(){this.isExperiencesClicked||(this.isExperiencesClicked=!0)}QualificationsClick(){this.isQualificationsClicked||(this.isQualificationsClicked=!0)}SkillsClick(){this.isSkillsClicked||(this.isSkillsClicked=!0)}TrainingsClick(){this.isTrainingsClicked||(this.isTrainingsClicked=!0)}ExperienceCertificatesClick(){this.isExperienceCertificatesClicked||(this.isExperienceCertificatesClicked=!0)}PersonalDataClick(){this.isPersonalDataClicked||(this.isPersonalDataClicked=!0)}CustodiesClick(){this.isCustodiesClicked||(this.isCustodiesClicked=!0)}NotesClick(){this.isNotesClicked||(this.isNotesClicked=!0)}ShiftDetailsClick(){this.isShiftDetailsClicked||(this.isShiftDetailsClicked=!0)}DocumentsClick(){this.isDocumentsClicked||(this.isDocumentsClicked=!0)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}createFullName(){this._employeeT.fullname_ar=this._employeeT.firstname_ar+" "+this._employeeT.secondname_ar+" "+this._employeeT.thirdname_ar+" "+this._employeeT.lastname_ar,this._employeeT.fullname_en=this._employeeT.firstname_en+" "+this._employeeT.secondname_en+" "+this._employeeT.thirdname_en+" "+this._employeeT.lastname_en}checkIsCodeExist(){this._employeesService.CheckCode(this.EmployeeID,this._employeeT.code,this.subsidiaryID).subscribe(e=>{e.length>0?e[0].id>0&&(this.VacationCode=!1,this.toastr.error(this.VacationCodeMsg)):this.VacationCode=!0,this.cd.markForCheck()})}PreSave(e){this.checkIsCodeExist(),0!=this.VacationCode&&this.onSave(e)}onSave(e){this.RForm.form.valid&&this._employeeT.code>0?(this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.id>0?this._employeesService.UpdateEmployeeMainData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)}):this._employeesService.CreateEmployeeMainData(this._employeeT).subscribe(e=>{this._employeeT.id=e[0].id,this.toastr.success(this.DataSavedsuccessfully),this.router.navigateByUrl("page/hr/manageemployee/employees/"+this._employeeT.id)})):this.RForm.form.valid||this.toastr.error(this.datamsg)}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("page/hr/manageemployee/employees")}):this.router.navigateByUrl("page/hr/manageemployee/employees")}DeleteEmployee(e){this._employeesService.GetEmployeeApprovalRelation(this.EmployeeID).subscribe(t=>{t.length>0&&(t[0].total>0?this.toastr.error(this.DeleteRelationmsg):k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeesService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this.router.navigate(["/page/hr/manageemployee/employees"])):this.toastr.error(this.DeleteRelationmsg)})}))})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-employee"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](ya,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],[2,"color","red","font-weight","bold"],["PositiveNumbersOnly","","type","text","name","formcode",1,"form-control",3,"readonly","ngModel","required","ngClass","ngModelChange","change"],["EmployeeCode","ngModel"],["style","color: red",4,"ngIf"],["id","workingstatus",1,"col-form-label"],["type","text","disabled","","name","workingstatus","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-lg-1","col-md-1","col-sm-12","mb-2","mb-md-0"],["id","NameAR",1,"col-form-label"],[1,"col-lg-2","col-md-2","col-sm-12","mb-2","mb-md-0"],["type","text","name","firstNameAR",1,"form-control",3,"ngModel","required","ngClass","ngModelChange","change"],["FirstNameAR","ngModel"],["type","text","name","secondNameAR",1,"form-control",3,"ngModel","required","ngClass","ngModelChange","change"],["SecondNameAR","ngModel"],["type","text","name","ThirdNameAR",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","name","lastNameAR",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],["type","text","readonly","","name","fullNameAR",1,"form-control",3,"ngModel","ngModelChange"],["id","NameEN",1,"col-form-label"],["type","text","name","firstNameEN",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","name","secondNameEN",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","name","ThirdNameEN",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","name","lastNameEN",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","readonly","","name","fullNameEN",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[2,"color","red"],["type","text","disabled","","name","workingstatus",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],[3,"click"]],template:function(e,t){1&e&&(g["\u0275\u0275template"](0,ga,4,3,"div",0),g["\u0275\u0275template"](1,Ga,89,54,"section",1)),2&e&&(g["\u0275\u0275property"]("ngIf",!t.checkRoleParms(400)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[a.O5,r._Y,r.JL,r.F,r.Fj,F.K,r.JJ,r.On,r.Q7,a.mk,h.UQ,h.US,H.h4,ee,Ae,ot,It,Yt,Zt,Dn,Hn,Jn,na,sa,ua],pipes:[m.X$],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();function ja(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",2),g["\u0275\u0275elementStart"](1,"h1"),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function $a(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",3),g["\u0275\u0275elementStart"](2,"div",4),g["\u0275\u0275elementStart"](3,"div",5),g["\u0275\u0275elementStart"](4,"h6",6),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",7),g["\u0275\u0275elementStart"](8,"div",8),g["\u0275\u0275elementStart"](9,"app-Matix-table",9),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnExcel",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnExcel()})("OnPrint",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnPrint(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"employee")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}let Ua=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.cd=e,this._generalService=t,this._employeesService=n,this._router=a,this.translate=i,this._translateGlobalService=l,this._printService=r,this._Excel=o,this._authService=s,this._convertToPDF=d,this.EmployeeList=[],this.totalCount=0,this.title="",this.subsidiaryID=0,this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"fullname_ar",sortByEn:"fullname_en",displayName:"name"}],this.Permission={View:407,Add:408,Edit:409,Delete:410,Print:411,PDF:412,Excel:413},this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["employee"]).subscribe(e=>{this.title=e.employee,document.title=this.title})})}ngOnInit(){this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(e=>{this.EmployeeList=e,this.cd.markForCheck()}),this._employeesService.CountOfEmployee("",this.subsidiaryID).subscribe(e=>{this.totalCount=e.employees,this.cd.markForCheck()})}OnShow(e){this._router.navigateByUrl("page/hr/manageemployee/employeefinancials/"+e+"/show")}OnEdit(e){this._router.navigateByUrl("page/hr/manageemployee/employeefinancials/"+e)}OnPrint(e=0){let t=" ",n="ar"==this.lang?"rtl":"ltr",a="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Employees",i="ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f":"Code",l="ar"==this.lang?"\u0627\u0644\u0627\u0633\u0645":"Name";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(r=>{this.cd.markForCheck(),t=`\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;" >${a}</div>\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir=${n}>\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>${i}</th>              \n            <th>${l}</th>\n            </tr>\n           </thead>\n           <tbody>\n      `,r.map(e=>{t+=`\n          <tr>\n            <td>${e.code}</td>\n            <td>${"ar"==this.lang?e.fullname_ar:e.fullname_en}</td>\n          </tr>\n        `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0643\u0648\u062f":t.code,"\u0627\u0644\u0627\u0633\u0645":t.fullname_ar}:{Code:t.code,Name:t.fullname_en})}),this._Excel.exportAsExcelFile(e,"Employees")})}EmployeeSearch(e){Object.assign(this._searchModel,e),this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(e=>{this.EmployeeList=e,this.cd.markForCheck()}),this._employeesService.CountOfEmployee(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeSort(e){Object.assign(this._searchModel,e),this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(e=>{this.EmployeeList=e,this.cd.markForCheck()}),this._employeesService.CountOfEmployee(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](b.$),g["\u0275\u0275directiveInject"](E.x),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](C.z))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-FinancialEmployeeListing"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnShow","OnExcel","OnPrint","OnSearch","OnSort"]],template:function(e,t){1&e&&(g["\u0275\u0275template"](0,ja,4,3,"div",0),g["\u0275\u0275template"](1,$a,10,7,"section",1)),2&e&&(g["\u0275\u0275property"]("ngIf",!t.checkRoleParms(407)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(407)))},directives:[a.O5,D.u],pipes:[m.X$],styles:[""]}),e})();class La{constructor(){this.basicsalary=null,this.workpermitsalary=null,this.salarytype=null,this.overtime=null,this.overtimetype=null,this.overtimevalue=null,this.overtimepercentage=null,this.subsidaryid=null}}let Ja=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}UpdateEmployeeFinancialData(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeFinancialData",e).pipe((0,ct.U)(e=>e))}GetEmployeeFinancialDataById(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetEmployeeFinancialDataById?employeeID=${e}`).pipe((0,ct.U)(e=>e))}UpdateEmployeeHousingData(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeHousingData",e).pipe((0,ct.U)(e=>e))}GetEmployeeHousingDataById(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetEmployeeHousingDataById?employeeID=${e}`).pipe((0,ct.U)(e=>e))}UpdateEmployeeFurnitureData(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeFurnitureData",e).pipe((0,ct.U)(e=>e))}GetEmployeeFurnitureDataById(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetEmployeeFurnitureDataById?employeeID=${e}`).pipe((0,ct.U)(e=>e))}UpdateEmployeeTravelTicketsData(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeTravelTicketsData",e).pipe((0,ct.U)(e=>e))}GetEmployeeTravelTicketsDataById(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetEmployeeTravelTicketsDataById?employeeID=${e}`).pipe((0,ct.U)(e=>e))}UpdateEmployeePaymentMethodData(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeePaymentMethodData",e).pipe((0,ct.U)(e=>e))}GetEmployeePaymentMethodDataById(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetEmployeePaymentMethodDataById?employeeID=${e}`).pipe((0,ct.U)(e=>e))}UpdateEmployeeHealthInsuranceData(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeHealthInsuranceData",e).pipe((0,ct.U)(e=>e))}GetEmployeeHealthInsuranceDataById(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetEmployeeHealthInsuranceDataById?employeeID=${e}`).pipe((0,ct.U)(e=>e))}UpdateEmployeeSocialSecurityData(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeSocialSecurityData",e).pipe((0,ct.U)(e=>e))}GetEmployeeSocialSecurityDataById(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetEmployeeSocialSecurityDataById?employeeID=${e}`).pipe((0,ct.U)(e=>e))}UpdateEmployeeEndOfServiceGratuityData(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeEndOfServiceGratuityData",e).pipe((0,ct.U)(e=>e))}GetEmployeeEndOfServiceGratuityDataById(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetEmployeeEndOfServiceGratuityDataById?employeeID=${e}`).pipe((0,ct.U)(e=>e))}UpdateEmployeeAccountingNumberData(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeAccountingNumberData",e).pipe((0,ct.U)(e=>e))}GetEmployeeAccountingNumberDataById(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetEmployeeAccountingNumberDataById?employeeID=${e}`).pipe((0,ct.U)(e=>e))}UpdateEmployeeOtherInsuranceData(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeOtherInsuranceData",e).pipe((0,ct.U)(e=>e))}GetEmployeeOtherInsuranceDataById(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetEmployeeOtherInsuranceDataById?employeeID=${e}`).pipe((0,ct.U)(e=>e))}UpdateEmployeeTaxData(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeTaxData",e).pipe((0,ct.U)(e=>e))}GetEmployeeTaxDataById(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetEmployeeTaxDataById?employeeID=${e}`).pipe((0,ct.U)(e=>e))}GetStaticValues(e){return this.http.get(this.baseUrl+`/EmployeeFinancialData/GetStaticValues?listDescription=${e}`).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function za(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"a",21),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().NotToMissData()}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"AddEmployeeSalary")," "))}function Ya(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",25),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function qa(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",25),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Qa(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"label",22),g["\u0275\u0275elementStart"](1,"input",23),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.salarytype=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](2,Ya,2,1,"label",24),g["\u0275\u0275template"](3,qa,2,1,"label",24),g["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("value",e.id)("ngModel",n._employeeT.salarytype),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ka(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",25),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function Wa(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",25),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Xa(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"label",22),g["\u0275\u0275elementStart"](1,"input",26),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.overtime=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().overtimeChange()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](2,Ka,2,1,"label",24),g["\u0275\u0275template"](3,Wa,2,1,"label",24),g["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("value",e.id)("ngModel",n._employeeT.overtime),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Za(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function ei(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function ti(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",31),g["\u0275\u0275template"](1,Za,2,1,"div",32),g["\u0275\u0275template"](2,ei,2,1,"div",32),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ni(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",10),g["\u0275\u0275elementStart"](1,"label",27),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",28),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.overtimetype=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().overtimetypeChange()}),g["\u0275\u0275elementStart"](5,"option",29),g["\u0275\u0275text"](6),g["\u0275\u0275pipe"](7,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](8,ti,3,3,"option",30),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,5,"overtimetype")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.overtimetype),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](7,7,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",e.OverTimeTypeList)}}function ai(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",10),g["\u0275\u0275elementStart"](1,"label",33),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"input",34),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.overtimevalue=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"overtimevalue")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.overtimevalue)}}function ii(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",10),g["\u0275\u0275elementStart"](1,"label",35),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"input",36),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.overtimepercentage=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"overtimepercentage"),"%"),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.overtimepercentage)}}function li(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",37),g["\u0275\u0275element"](1,"i",38),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}let ri=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeeFinancialDataService=o,this._generalService=s,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.showovertimetype=!1,this.showovertimevalue=!1,this.showovertimepercentage=!1,this.isAddEmployeeSalaryClicked=!1,this._employeeT=new La,this._oldEmployeeT=new La,this.SalaryTypeList=[],this.OverTimeList=[],this.OverTimeTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","DataSavedsuccessfully","No"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetSalaryTypes(),this.GetOverTime(),this.GetOverTimeTypes(),this.GetData()})}GetSalaryTypes(){this._employeeFinancialDataService.GetStaticValues("SalaryType").subscribe(e=>{this.SalaryTypeList=e,this.cd.markForCheck()})}GetOverTime(){this._employeeFinancialDataService.GetStaticValues("OverTime").subscribe(e=>{this.OverTimeList=e,this.cd.markForCheck()})}GetOverTimeTypes(){this._employeeFinancialDataService.GetStaticValues("OverTimeType").subscribe(e=>{this.OverTimeTypeList=e,this.cd.markForCheck()})}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeFinancialDataById(this.EmployeeID).subscribe(e=>{this._employeeT.employeeid=this.EmployeeID,this._employeeT.basicsalary=e.basicsalary,this._employeeT.workpermitsalary=e.workpermitsalary,this._employeeT.salarytype=e.salarytype,this._employeeT.overtime=e.overtime,this._employeeT.overtimetype=e.overtimetype,this._employeeT.overtimevalue=e.overtimevalue,this._employeeT.overtimepercentage=e.overtimepercentage,this._oldEmployeeT.employeeid=this.EmployeeID,this._oldEmployeeT.basicsalary=e.basicsalary,this._oldEmployeeT.workpermitsalary=e.workpermitsalary,this._oldEmployeeT.salarytype=e.salarytype,this._oldEmployeeT.overtime=e.overtime,this._oldEmployeeT.overtimetype=e.overtimetype,this._oldEmployeeT.overtimevalue=e.overtimevalue,this._oldEmployeeT.overtimepercentage=e.overtimepercentage,this.overtimeChange(),this.overtimetypeChange(),this.cd.markForCheck()})}overtimeChange(){3==this._employeeT.overtime?this.showovertimetype=!0:(this._employeeT.overtimetype=null,this.showovertimetype=!1,this.showovertimevalue=!1,this.showovertimepercentage=!1)}overtimetypeChange(){2==this._employeeT.overtimetype?(this.showovertimevalue=!0,this.showovertimepercentage=!1):3==this._employeeT.overtimetype?(this.showovertimepercentage=!0,this.showovertimevalue=!1):(this.showovertimevalue=!1,this.showovertimepercentage=!1)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&this._employeeFinancialDataService.UpdateEmployeeFinancialData(this._employeeT).subscribe(e=>{1==this.isAddEmployeeSalaryClicked?this.router.navigateByUrl("/page/hr/manageemployee/changeemployeedata/"+this._employeeT.employeeid):this.toastr.success(this.DataSavedsuccessfully)})}NotToMissData(){JSON.stringify(this._oldEmployeeT)!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed?this.isAddEmployeeSalaryClicked=!0:this.router.navigateByUrl("/page/hr/manageemployee/changeemployeedata/"+this._employeeT.employeeid)}):this.router.navigateByUrl("/page/hr/manageemployee/changeemployeedata/"+this._employeeT.employeeid)}NotToMissDataForCancel(e){JSON.stringify(this._oldEmployeeT)!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](Ja),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-financial-data-form"]],decls:51,vars:24,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],[1,"form-group","col-6"],["id","basicsalary",1,"col-form-label"],["disabled","","type","text","name","basicsalary",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],["style","margin-top: 30px;","class","btn btn-success mr-1",3,"click",4,"ngIf"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","workpermitsalary",1,"col-form-label"],["type","text","name","workpermitsalary",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-form-label"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],["class","form-group",4,"ngIf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[1,"btn","btn-success","mr-1",2,"margin-top","30px",3,"click"],[1,"mt-4"],["type","radio","name","salarytype","disabled","",3,"value","ngModel","ngModelChange"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["type","radio","name","overtime","disabled","",3,"value","ngModel","ngModelChange","change"],["id","overtimetype",1,"col-form-label"],["name","overtimetype","disabled","",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],["id","overtimevalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","overtimevalue","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","overtimepercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","overtimepercentage","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",2),g["\u0275\u0275elementStart"](6,"div",4),g["\u0275\u0275elementStart"](7,"label",5),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",6),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.basicsalary=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"div",7),g["\u0275\u0275template"](12,za,3,3,"a",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",9),g["\u0275\u0275elementStart"](14,"div",10),g["\u0275\u0275elementStart"](15,"label",11),g["\u0275\u0275text"](16),g["\u0275\u0275pipe"](17,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"input",12),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.workpermitsalary=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"div",9),g["\u0275\u0275elementStart"](20,"div",10),g["\u0275\u0275elementStart"](21,"label",13),g["\u0275\u0275text"](22),g["\u0275\u0275pipe"](23,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"label",14),g["\u0275\u0275template"](25,Qa,4,4,"label",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"div",2),g["\u0275\u0275elementStart"](27,"div",16),g["\u0275\u0275elementStart"](28,"div",10),g["\u0275\u0275elementStart"](29,"label",13),g["\u0275\u0275text"](30),g["\u0275\u0275pipe"](31,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"label",14),g["\u0275\u0275template"](33,Xa,4,4,"label",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](34,"div",16),g["\u0275\u0275template"](35,ni,9,9,"div",17),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"div",16),g["\u0275\u0275template"](37,ai,5,4,"div",17),g["\u0275\u0275template"](38,ii,5,4,"div",17),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](39,"div",2),g["\u0275\u0275elementStart"](40,"div",16),g["\u0275\u0275element"](41,"div",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](42,"div",16),g["\u0275\u0275element"](43,"div",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"div",16),g["\u0275\u0275elementStart"](45,"div",18),g["\u0275\u0275template"](46,li,4,4,"button",19),g["\u0275\u0275elementStart"](47,"a",20),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissDataForCancel(n)}),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](50,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,14,"basicsalary")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.basicsalary),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(435)),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](17,16,"workpermitsalary")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.workpermitsalary),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](23,18,"salarytype")," :"),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngForOf",t.SalaryTypeList),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](31,20,"overtime")," :"),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngForOf",t.OverTimeList),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.showovertimetype),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.showovertimevalue),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.showovertimepercentage),g["\u0275\u0275advance"](8),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](49,22,"Cancel")," "))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,a.O5,a.sg,r._,r.EJ,r.YN,r.Kr,ht.L],pipes:[m.X$],styles:[""]}),e})();var oi=n(66687);let si=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAllEmployeeBranchHistory(e,t,n){let a=`/ChangeEmployeeData/GetAllEmployeeBranchHistory?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeBranchHistory(e,t,n){return this.http.get(this.baseUrl+`/ChangeEmployeeData/CountOfEmployeeBranchHistory?searchValue=${e}&subsidaryid=${t}&employeeid=${n}`).pipe((0,ct.U)(e=>e))}GetEmployeeBranchHistoryById(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeBranchHistoryById?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeBranchHistory(e){return this.http.post(`${this.baseUrl}/ChangeEmployeeData/CreateEmployeeBranchHistory`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeBranchHistory(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeBranchHistory",e).pipe((0,ct.U)(e=>e))}GetMaxCodeEmployeeBranchHistory(e,t){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetMaxCodeEmployeeBranchHistory?subsidaryid=${e}&employeeid=${t}`).pipe((0,ct.U)(e=>e))}DeleteEmployeeBranchHistory(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/DeleteEmployeeBranchHistory?id=${e}`).pipe((0,ct.U)(e=>e))}GetEmployeeBranchHistoryDataForValidation(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeBranchHistoryDataForValidation?employeeid=${e}`).pipe((0,ct.U)(e=>e))}GetAllEmployeeSectionHistory(e,t,n){let a=`/ChangeEmployeeData/GetAllEmployeeSectionHistory?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeSectionHistory(e,t,n){return this.http.get(this.baseUrl+`/ChangeEmployeeData/CountOfEmployeeSectionHistory?searchValue=${e}&subsidaryid=${t}&employeeid=${n}`).pipe((0,ct.U)(e=>e))}GetEmployeeSectionHistoryById(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeSectionHistoryById?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeSectionHistory(e){return this.http.post(`${this.baseUrl}/ChangeEmployeeData/CreateEmployeeSectionHistory`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeSectionHistory(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeSectionHistory",e).pipe((0,ct.U)(e=>e))}GetMaxCodeEmployeeSectionHistory(e,t){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetMaxCodeEmployeeSectionHistory?subsidaryid=${e}&employeeid=${t}`).pipe((0,ct.U)(e=>e))}DeleteEmployeeSectionHistory(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/DeleteEmployeeSectionHistory?id=${e}`).pipe((0,ct.U)(e=>e))}GetEmployeeSectionHistoryDataForValidation(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeSectionHistoryDataForValidation?employeeid=${e}`).pipe((0,ct.U)(e=>e))}GetAllEmployeeDepartmentHistory(e,t,n){let a=`/ChangeEmployeeData/GetAllEmployeeDepartmentHistory?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeDepartmentHistory(e,t,n){return this.http.get(this.baseUrl+`/ChangeEmployeeData/CountOfEmployeeDepartmentHistory?searchValue=${e}&subsidaryid=${t}&employeeid=${n}`).pipe((0,ct.U)(e=>e))}GetEmployeeDepartmentHistoryById(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeDepartmentHistoryById?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeDepartmentHistory(e){return this.http.post(`${this.baseUrl}/ChangeEmployeeData/CreateEmployeeDepartmentHistory`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeDepartmentHistory(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeDepartmentHistory",e).pipe((0,ct.U)(e=>e))}GetMaxCodeEmployeeDepartmentHistory(e,t){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetMaxCodeEmployeeDepartmentHistory?subsidaryid=${e}&employeeid=${t}`).pipe((0,ct.U)(e=>e))}DeleteEmployeeDepartmentHistory(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/DeleteEmployeeDepartmentHistory?id=${e}`).pipe((0,ct.U)(e=>e))}GetEmployeeDepartmentHistoryDataForValidation(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeDepartmentHistoryDataForValidation?employeeid=${e}`).pipe((0,ct.U)(e=>e))}GetAllEmployeeCostcenterHistory(e,t,n){let a=`/ChangeEmployeeData/GetAllEmployeeCostcenterHistory?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeCostcenterHistory(e,t,n){return this.http.get(this.baseUrl+`/ChangeEmployeeData/CountOfEmployeeCostcenterHistory?searchValue=${e}&subsidaryid=${t}&employeeid=${n}`).pipe((0,ct.U)(e=>e))}GetEmployeeCostcenterHistoryById(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeCostcenterHistoryById?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeCostcenterHistory(e){return this.http.post(`${this.baseUrl}/ChangeEmployeeData/CreateEmployeeCostcenterHistory`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeCostcenterHistory(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeCostcenterHistory",e).pipe((0,ct.U)(e=>e))}GetMaxCodeEmployeeCostcenterHistory(e,t){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetMaxCodeEmployeeCostcenterHistory?subsidaryid=${e}&employeeid=${t}`).pipe((0,ct.U)(e=>e))}DeleteEmployeeCostcenterHistory(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/DeleteEmployeeCostcenterHistory?id=${e}`).pipe((0,ct.U)(e=>e))}GetEmployeeCostcenterHistoryDataForValidation(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeCostcenterHistoryDataForValidation?employeeid=${e}`).pipe((0,ct.U)(e=>e))}GetAllEmployeeJobHistory(e,t,n){let a=`/ChangeEmployeeData/GetAllEmployeeJobHistory?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeJobHistory(e,t,n){return this.http.get(this.baseUrl+`/ChangeEmployeeData/CountOfEmployeeJobHistory?searchValue=${e}&subsidaryid=${t}&employeeid=${n}`).pipe((0,ct.U)(e=>e))}GetEmployeeJobHistoryById(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeJobHistoryById?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeJobHistory(e){return this.http.post(`${this.baseUrl}/ChangeEmployeeData/CreateEmployeeJobHistory`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeJobHistory(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeJobHistory",e).pipe((0,ct.U)(e=>e))}GetMaxCodeEmployeeJobHistory(e,t){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetMaxCodeEmployeeJobHistory?subsidaryid=${e}&employeeid=${t}`).pipe((0,ct.U)(e=>e))}DeleteEmployeeJobHistory(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/DeleteEmployeeJobHistory?id=${e}`).pipe((0,ct.U)(e=>e))}GetEmployeeJobHistoryDataForValidation(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeJobHistoryDataForValidation?employeeid=${e}`).pipe((0,ct.U)(e=>e))}GetAllEmployeeSalaryHistory(e,t,n){let a=`/ChangeEmployeeData/GetAllEmployeeSalaryHistory?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeSalaryHistory(e,t,n){return this.http.get(this.baseUrl+`/ChangeEmployeeData/CountOfEmployeeSalaryHistory?searchValue=${e}&subsidaryid=${t}&employeeid=${n}`).pipe((0,ct.U)(e=>e))}GetEmployeeSalaryHistoryById(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeSalaryHistoryById?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeSalaryHistory(e){return this.http.post(`${this.baseUrl}/ChangeEmployeeData/CreateEmployeeSalaryHistory`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeSalaryHistory(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeSalaryHistory",e).pipe((0,ct.U)(e=>e))}GetMaxCodeEmployeeSalaryHistory(e,t){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetMaxCodeEmployeeSalaryHistory?subsidaryid=${e}&employeeid=${t}`).pipe((0,ct.U)(e=>e))}DeleteEmployeeSalaryHistory(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/DeleteEmployeeSalaryHistory?id=${e}`).pipe((0,ct.U)(e=>e))}GetEmployeeSalaryHistoryDataForValidation(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeSalaryHistoryDataForValidation?employeeid=${e}`).pipe((0,ct.U)(e=>e))}GetAllEmployeeAllowanceHistory(e,t,n,a){let i=`/ChangeEmployeeData/GetAllEmployeeAllowanceHistory?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}&viewOnlyValidAllowances=${a}`;return e.searchValue&&(i+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+i).pipe((0,ct.U)(e=>e))}CountOfEmployeeAllowanceHistory(e,t,n,a){return this.http.get(this.baseUrl+`/ChangeEmployeeData/CountOfEmployeeAllowanceHistory?searchValue=${e}&subsidaryid=${t}&employeeid=${n}&viewOnlyValidAllowances=${a}`).pipe((0,ct.U)(e=>e))}GetEmployeeAllowanceHistoryById(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeAllowanceHistoryById?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeAllowanceHistory(e){return this.http.post(`${this.baseUrl}/ChangeEmployeeData/CreateEmployeeAllowanceHistory`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeAllowanceHistory(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeAllowanceHistory",e).pipe((0,ct.U)(e=>e))}GetMaxCodeEmployeeAllowanceHistory(e,t){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetMaxCodeEmployeeAllowanceHistory?subsidaryid=${e}&employeeid=${t}`).pipe((0,ct.U)(e=>e))}DeleteEmployeeAllowanceHistory(e){return this.http.get(this.baseUrl+`/ChangeEmployeeData/DeleteEmployeeAllowanceHistory?id=${e}`).pipe((0,ct.U)(e=>e))}GetEmployeeAllowanceHistoryDataForValidation(e,t){return this.http.get(this.baseUrl+`/ChangeEmployeeData/GetEmployeeAllowanceHistoryDataForValidation?employeeid=${e}&allowancetypeid=${t}`).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var di=n(5851);function ci(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.allowancestypename_ar)}}function mi(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.allowancestypename_en)}}function pi(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function hi(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function ui(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function yi(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function gi(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function vi(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Si(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function fi(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function bi(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function Ei(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function xi(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function Ci(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Di(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function _i(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Ii(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function wi(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Ti(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function Mi(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function ki(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function Bi(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}const Fi=function(e){return{color:e}};function Hi(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275elementStart"](1,"tr",12),g["\u0275\u0275elementStart"](2,"td"),g["\u0275\u0275elementStart"](3,"div"),g["\u0275\u0275template"](4,ci,2,1,"span",9),g["\u0275\u0275template"](5,mi,2,1,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"td"),g["\u0275\u0275elementStart"](7,"div"),g["\u0275\u0275elementStart"](8,"span"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td"),g["\u0275\u0275elementStart"](12,"div"),g["\u0275\u0275elementStart"](13,"span"),g["\u0275\u0275text"](14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"td"),g["\u0275\u0275template"](16,pi,2,0,"span",9),g["\u0275\u0275template"](17,hi,2,0,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"td"),g["\u0275\u0275template"](19,ui,2,0,"span",9),g["\u0275\u0275template"](20,yi,2,0,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"td",13),g["\u0275\u0275template"](22,gi,2,0,"span",9),g["\u0275\u0275template"](23,vi,2,0,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"td",13),g["\u0275\u0275template"](25,Si,2,0,"span",9),g["\u0275\u0275template"](26,fi,2,0,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](27,"td"),g["\u0275\u0275template"](28,bi,2,0,"span",9),g["\u0275\u0275template"](29,Ei,2,0,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"td"),g["\u0275\u0275template"](31,xi,2,0,"span",9),g["\u0275\u0275template"](32,Ci,2,0,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](33,"td",13),g["\u0275\u0275template"](34,Di,2,0,"span",9),g["\u0275\u0275template"](35,_i,2,0,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"td"),g["\u0275\u0275template"](37,Ii,2,0,"span",9),g["\u0275\u0275template"](38,wi,2,0,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](39,"td"),g["\u0275\u0275template"](40,Ti,2,0,"span",9),g["\u0275\u0275template"](41,Mi,2,0,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](42,"td"),g["\u0275\u0275template"](43,ki,2,0,"span",9),g["\u0275\u0275template"](44,Bi,2,0,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](10,27,null==e?null:e.startdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](null==e?null:e.amountofallowance),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.overtime)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.overtime)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.rewards)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.rewards)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngStyle",g["\u0275\u0275pureFunction1"](30,Fi,3==e.deductibility?"black":"gray")),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.absences)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.absences)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngStyle",g["\u0275\u0275pureFunction1"](32,Fi,3==e.deductibility?"black":"gray")),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.penalties)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.penalties)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.paidvacations)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.paidvacations)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.vacationpay)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.vacationpay)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngStyle",g["\u0275\u0275pureFunction1"](34,Fi,3==e.deductibility?"black":"gray")),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.sickleave)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.sickleave)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.termination)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.termination)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.subjecttotaxes)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.subjecttotaxes)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.subjecttoinsurances)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.subjecttoinsurances))}}function Ri(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"tbody"),g["\u0275\u0275template"](1,Hi,45,36,"ng-container",11),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.EmployeeAllowanceHistoryList)}}function Oi(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",14),g["\u0275\u0275elementStart"](1,"ngb-pagination",15),g["\u0275\u0275listener"]("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNoChange(t)})("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNo=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](2,"p"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",16),g["\u0275\u0275listener"]("change",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageSize=t}),g["\u0275\u0275elementStart"](5,"option",17),g["\u0275\u0275text"](6,"10 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"option",18),g["\u0275\u0275text"](8,"20 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"option",19),g["\u0275\u0275text"](10,"50 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"option",20),g["\u0275\u0275text"](12,"100 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](13,"br"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngModel",e.PageSize)}}let Vi=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cdr=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._employeeVacationsService=d,this._changeEmployeeDataService=c,this._printService=m,this.EmployeeID=0,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeAllowanceHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this._searchModel=new y.h,this._filterAttribute=new oi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.GetData()})}ngOnInit(){this.GetData()}GetData(){setTimeout(()=>{this._changeEmployeeDataService.GetAllEmployeeAllowanceHistory(this._searchModel,this.subsidaryid,this.EmployeeID,!0).subscribe(e=>{this.EmployeeAllowanceHistoryList=e.data,this.cdr.markForCheck()}),this._changeEmployeeDataService.CountOfEmployeeAllowanceHistory(this._searchModel,this.subsidaryid,this.EmployeeID,!0).subscribe(e=>{this.totalCount=e.employees,this.cdr.markForCheck()})},0)}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onAddClick(){this.router.navigateByUrl("/page/hr/manageemployee/changeemployeedata/"+this.EmployeeID)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](b.$))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-monthly-allowances"]],decls:53,vars:47,consts:[[1,"btn","btn-success","mr-1",2,"margin-top","30px",3,"click"],[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[1,"text-center"],[1,"text-center",2,"width","6%","text-wrap","wrap"],[1,"text-center",2,"width","7%","text-wrap","wrap"],[1,"text-center",2,"width","5%","text-wrap","wrap"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[3,"ngStyle"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"a",0),g["\u0275\u0275listener"]("click",function(){return t.onAddClick()}),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"div",1),g["\u0275\u0275elementStart"](5,"div",2),g["\u0275\u0275elementStart"](6,"h6",3),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"div"),g["\u0275\u0275elementStart"](10,"table",4),g["\u0275\u0275elementStart"](11,"thead"),g["\u0275\u0275elementStart"](12,"th",5),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"th",5),g["\u0275\u0275text"](16),g["\u0275\u0275pipe"](17,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"th",5),g["\u0275\u0275text"](19),g["\u0275\u0275pipe"](20,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"th",6),g["\u0275\u0275text"](22),g["\u0275\u0275pipe"](23,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"th",7),g["\u0275\u0275text"](25),g["\u0275\u0275pipe"](26,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](27,"th",6),g["\u0275\u0275text"](28),g["\u0275\u0275pipe"](29,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"th",6),g["\u0275\u0275text"](31),g["\u0275\u0275pipe"](32,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](33,"th",7),g["\u0275\u0275text"](34),g["\u0275\u0275pipe"](35,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"th",6),g["\u0275\u0275text"](37),g["\u0275\u0275pipe"](38,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](39,"th",8),g["\u0275\u0275text"](40),g["\u0275\u0275pipe"](41,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](42,"th",7),g["\u0275\u0275text"](43),g["\u0275\u0275pipe"](44,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"th",6),g["\u0275\u0275text"](46),g["\u0275\u0275pipe"](47,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](48,"th",7),g["\u0275\u0275text"](49),g["\u0275\u0275pipe"](50,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](51,Ri,2,1,"tbody",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](52,Oi,14,7,"div",10)),2&e&&(g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](3,17,"Add")," "),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](8,19,"MonthlyAllowances")," "),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](14,21,"AllowanceType")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](17,23,"StartingFromDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](20,25,"TheAmount")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](23,27,"Overtime")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](26,29,"Rewards")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](29,31,"Absences")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](32,33,"Penalties")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](35,35,"PaidVacations")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](38,37,"VacationPay")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](41,39,"SickLeave")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](44,41,"Termination")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](47,43,"SubjectToTaxes")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](50,45,"SubjectToInsurances")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.EmployeeAllowanceHistoryList.length>0&&t.EmployeeID>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[a.O5,a.sg,a.PC,di.N9,r.EJ,r.JJ,r.On,r.YN,r.Kr],pipes:[m.X$,a.uU],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem .5rem;text-transform:capitalize;letter-spacing:0;border-bottom:1px solid #f0f2f5!important}"]}),e})();class Ai{constructor(){this.id=0,this.code="",this.bonustypeid=null,this.bonusvalue=null,this.fromdate=null,this.todate=null,this.reservation=null,this.notes="",this.subsidaryid=null}}let Ni=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAll(e,t,n){let a=`/EmployeeBonuses/GetAll?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeBonuse(e,t){return this.http.get(this.baseUrl+`/EmployeeBonuses/CountOfEmployeeBonuse?searchValue=${e}&subsidaryid=${t}`).pipe((0,ct.U)(e=>e))}GetMaxCode(e){return this.http.get(this.baseUrl+`/EmployeeBonuses/GetMaxCode?subsidaryid=${e}`).pipe((0,ct.U)(e=>e))}Delete(e){return this.http.get(this.baseUrl+`/EmployeeBonuses/Delete?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeBonuse(e){return this.http.post(`${this.baseUrl}/EmployeeBonuses/Create`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeBonuse(e){return this.http.post(this.baseUrl+"/EmployeeBonuses/Update",e).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var Gi=n(96720);function Pi(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function ji(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function $i(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",27),g["\u0275\u0275template"](1,Pi,2,1,"div",26),g["\u0275\u0275template"](2,ji,2,1,"div",26),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ui(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",28),g["\u0275\u0275element"](1,"i",29),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Li(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",24),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.DeleteBonuse(t._bonuseT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Ji(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",30),g["\u0275\u0275elementStart"](2,"div",31),g["\u0275\u0275elementStart"](3,"div",32),g["\u0275\u0275elementStart"](4,"h6",33),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",34),g["\u0275\u0275elementStart"](8,"div",35),g["\u0275\u0275elementStart"](9,"app-Matix-table",36),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeBonuseSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeBonuseSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"EmployeeBonuse")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeBonuseList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}let zi=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeeBonusesService=s,this._bonusTypesService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"bonustypename_ar",sortByEn:"bonustypename_en",displayName:"bonustype"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:407,Add:408,Edit:409,Delete:410,Print:411,PDF:412,Excel:413},this._bonuseT=new Ai,this.EmployeeBonuseList=[],this.BonusTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.emptyerror=e.emptyerror,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetBonusType(),this.GetList(),this.GetData()})}GetBonusType(){this._bonusTypesService.GetAllForDropdown().subscribe(e=>{this.BonusTypeList=e,this.cd.markForCheck()})}ngOnInit(){}GetList(){this._employeeBonusesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeBonuseList=e,this.cd.markForCheck()}),this._employeeBonusesService.CountOfEmployeeBonuse("",this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetData(e=0){0==e?this._employeeBonusesService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._bonuseT.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this.cd.markForCheck()}):this._bonuseT=this.EmployeeBonuseList.find(t=>t.id==e)}EmployeeBonuseSearch(e){Object.assign(this._searchModel,e),this._employeeBonusesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeBonuseList=e,this.cd.markForCheck()}),this._employeeBonusesService.CountOfEmployeeBonuse(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeBonuseSort(e){Object.assign(this._searchModel,e),this._employeeBonusesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeBonuseList=e,this.cd.markForCheck()}),this._employeeBonusesService.CountOfEmployeeBonuse(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}OnAdd(){this._bonuseT=new Ai,this.showmood=!1,this.GetData()}OnEdit(e){this._bonuseT=new Ai,this.showmood=!1,this.GetData(e)}OnShow(e){this._bonuseT=new Ai,this.showmood=!0,this.GetData(e)}CancelForm(){this._bonuseT=new Ai,this.GetData()}DeleteBonuse(e){k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeeBonusesService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this._bonuseT=new Ai,this.showmood=!1,this.GetList(),this.GetData()):this.toastr.error(this.DeleteRelationmsg)})})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._bonuseT.employeeid=this.EmployeeID,this._bonuseT.subsidaryid=this.subsidiaryID,this._bonuseT.id>0?this._employeeBonusesService.UpdateEmployeeBonuse(this._bonuseT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()}):this._employeeBonusesService.CreateEmployeeBonuse(this._bonuseT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](Ni),g["\u0275\u0275directiveInject"](Gi.F))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-bonuses-form"]],decls:70,vars:45,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","bonustypeid",1,"col-form-label"],["name","bonustypeid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","bonusvalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","bonusvalue",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],["id","reservation",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","reservation",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"form",1,2),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](3);return t.onSave(n)}),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"div",5),g["\u0275\u0275elementStart"](7,"label",6),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",4),g["\u0275\u0275element"](12,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"label",8),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"select",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.bonustypeid=e}),g["\u0275\u0275elementStart"](20,"option",10),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](23,$i,3,3,"option",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"div",4),g["\u0275\u0275elementStart"](25,"div",5),g["\u0275\u0275elementStart"](26,"label",12),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.bonusvalue=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"div",4),g["\u0275\u0275elementStart"](31,"div",5),g["\u0275\u0275elementStart"](32,"label",14),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"input",15),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.fromdate=e}),g["\u0275\u0275pipe"](36,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](37,"div",3),g["\u0275\u0275elementStart"](38,"div",4),g["\u0275\u0275elementStart"](39,"div",5),g["\u0275\u0275elementStart"](40,"label",16),g["\u0275\u0275text"](41),g["\u0275\u0275pipe"](42,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](43,"input",17),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.todate=e}),g["\u0275\u0275pipe"](44,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"div",4),g["\u0275\u0275elementStart"](46,"div",5),g["\u0275\u0275elementStart"](47,"label",18),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"input",19),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.reservation=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"div",4),g["\u0275\u0275elementStart"](52,"div",5),g["\u0275\u0275elementStart"](53,"label",20),g["\u0275\u0275text"](54),g["\u0275\u0275pipe"](55,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](56,"textarea",21),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.notes=e}),g["\u0275\u0275text"](57,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](58,"div",3),g["\u0275\u0275element"](59,"div",4),g["\u0275\u0275element"](60,"div",4),g["\u0275\u0275elementStart"](61,"div",4),g["\u0275\u0275elementStart"](62,"div",22),g["\u0275\u0275template"](63,Ui,4,4,"button",23),g["\u0275\u0275elementStart"](64,"button",24),g["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),g["\u0275\u0275text"](65),g["\u0275\u0275pipe"](66,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](67,Li,3,4,"button",25),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](68,"div",0),g["\u0275\u0275template"](69,Ji,10,7,"section",26),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,21,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._bonuseT.code),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](18,23,"bonustype")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._bonuseT.bonustypeid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,25,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.BonusTypeList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](28,27,"bonusvalue")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._bonuseT.bonusvalue),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](34,29,"fromdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](36,31,t._bonuseT.fromdate,"yyyy-MM-dd")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](42,34,"todate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](44,36,t._bonuseT.todate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](49,39,"reservation"),"%"),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._bonuseT.reservation),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](55,41,"notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._bonuseT.notes),g["\u0275\u0275advance"](7),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](66,43,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(408)||t.checkRoleParms(409))&&t._bonuseT.id>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(407)))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.EJ,r.YN,r.Kr,a.sg,ht.L,a.O5,D.u],pipes:[m.X$,a.uU],styles:[""]}),e})();class Yi{constructor(){this.id=0,this.code="",this.benefittypeid=null,this.benefitvalue=null,this.fromdate=null,this.todate=null,this.notes="",this.subsidaryid=null}}let qi=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAll(e,t,n){let a=`/EmployeeBenefits/GetAll?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeBenefit(e,t){return this.http.get(this.baseUrl+`/EmployeeBenefits/CountOfEmployeeBenefit?searchValue=${e}&subsidaryid=${t}`).pipe((0,ct.U)(e=>e))}GetMaxCode(e){return this.http.get(this.baseUrl+`/EmployeeBenefits/GetMaxCode?subsidaryid=${e}`).pipe((0,ct.U)(e=>e))}Delete(e){return this.http.get(this.baseUrl+`/EmployeeBenefits/Delete?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeBenefit(e){return this.http.post(`${this.baseUrl}/EmployeeBenefits/Create`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeBenefit(e){return this.http.post(this.baseUrl+"/EmployeeBenefits/Update",e).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();var Qi=n(29352);function Ki(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function Wi(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Xi(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",25),g["\u0275\u0275template"](1,Ki,2,1,"div",24),g["\u0275\u0275template"](2,Wi,2,1,"div",24),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Zi(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",26),g["\u0275\u0275element"](1,"i",27),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function el(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",22),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.DeleteBenefit(t._benefitT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function tl(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",28),g["\u0275\u0275elementStart"](2,"div",29),g["\u0275\u0275elementStart"](3,"div",30),g["\u0275\u0275elementStart"](4,"h6",31),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",32),g["\u0275\u0275elementStart"](8,"div",33),g["\u0275\u0275elementStart"](9,"app-Matix-table",34),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeBenefitSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeBenefitSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"EmployeeBenefit")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeBenefitList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}let nl=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeeBenefitsService=s,this._allowancesTypesService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"benefittypename_ar",sortByEn:"benefittypename_en",displayName:"benefittype"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:407,Add:408,Edit:409,Delete:410,Print:411,PDF:412,Excel:413},this._benefitT=new Yi,this.EmployeeBenefitList=[],this.AllowancesTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.emptyerror=e.emptyerror,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetAllowancesType(),this.GetList(),this.GetData()})}GetAllowancesType(){this._allowancesTypesService.GetAllForDropdown().subscribe(e=>{this.AllowancesTypeList=e,this.cd.markForCheck()})}ngOnInit(){}GetList(){this._employeeBenefitsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeBenefitList=e,this.cd.markForCheck()}),this._employeeBenefitsService.CountOfEmployeeBenefit("",this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetData(e=0){0==e?this._employeeBenefitsService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._benefitT.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this.cd.markForCheck()}):this._benefitT=this.EmployeeBenefitList.find(t=>t.id==e)}EmployeeBenefitSearch(e){Object.assign(this._searchModel,e),this._employeeBenefitsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeBenefitList=e,this.cd.markForCheck()}),this._employeeBenefitsService.CountOfEmployeeBenefit(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeBenefitSort(e){Object.assign(this._searchModel,e),this._employeeBenefitsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeBenefitList=e,this.cd.markForCheck()}),this._employeeBenefitsService.CountOfEmployeeBenefit(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}OnAdd(){this._benefitT=new Yi,this.showmood=!1,this.GetData()}OnEdit(e){this._benefitT=new Yi,this.showmood=!1,this.GetData(e)}OnShow(e){this._benefitT=new Yi,this.showmood=!0,this.GetData(e)}CancelForm(){this._benefitT=new Yi,this.GetData()}DeleteBenefit(e){k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeeBenefitsService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this._benefitT=new Yi,this.showmood=!1,this.GetList(),this.GetData()):this.toastr.error(this.DeleteRelationmsg)})})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._benefitT.employeeid=this.EmployeeID,this._benefitT.subsidaryid=this.subsidiaryID,this._benefitT.id>0?this._employeeBenefitsService.UpdateEmployeeBenefit(this._benefitT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()}):this._employeeBenefitsService.CreateEmployeeBenefit(this._benefitT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](qi),g["\u0275\u0275directiveInject"](Qi.w))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-benefits-form"]],decls:62,vars:41,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","benefittypeid",1,"col-form-label"],["name","benefittypeid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","benefitvalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","benefitvalue",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"form",1,2),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](3);return t.onSave(n)}),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"div",5),g["\u0275\u0275elementStart"](7,"label",6),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",4),g["\u0275\u0275element"](12,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"div",5),g["\u0275\u0275elementStart"](17,"label",8),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"select",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.benefittypeid=e}),g["\u0275\u0275elementStart"](21,"option",10),g["\u0275\u0275text"](22),g["\u0275\u0275pipe"](23,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](24,Xi,3,3,"option",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"div",4),g["\u0275\u0275elementStart"](26,"div",5),g["\u0275\u0275elementStart"](27,"label",12),g["\u0275\u0275text"](28),g["\u0275\u0275pipe"](29,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.benefitvalue=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"div",4),g["\u0275\u0275elementStart"](32,"div",5),g["\u0275\u0275elementStart"](33,"label",14),g["\u0275\u0275text"](34),g["\u0275\u0275pipe"](35,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"input",15),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.fromdate=e}),g["\u0275\u0275pipe"](37,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"div",3),g["\u0275\u0275elementStart"](39,"div",4),g["\u0275\u0275elementStart"](40,"div",5),g["\u0275\u0275elementStart"](41,"label",16),g["\u0275\u0275text"](42),g["\u0275\u0275pipe"](43,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"input",17),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.todate=e}),g["\u0275\u0275pipe"](45,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](46,"div",4),g["\u0275\u0275elementStart"](47,"div",5),g["\u0275\u0275elementStart"](48,"label",18),g["\u0275\u0275text"](49),g["\u0275\u0275pipe"](50,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"textarea",19),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.notes=e}),g["\u0275\u0275text"](52,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](53,"div",4),g["\u0275\u0275elementStart"](54,"div",20),g["\u0275\u0275template"](55,Zi,4,4,"button",21),g["\u0275\u0275elementStart"](56,"button",22),g["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),g["\u0275\u0275text"](57),g["\u0275\u0275pipe"](58,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](59,el,3,4,"button",23),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](60,"div",0),g["\u0275\u0275template"](61,tl,10,7,"section",24),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,19,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._benefitT.code),g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,21,"benefittype")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._benefitT.benefittypeid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](23,23,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.AllowancesTypeList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](29,25,"benefitvalue")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._benefitT.benefitvalue),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](35,27,"fromdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](37,29,t._benefitT.fromdate,"yyyy-MM-dd")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](43,32,"todate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](45,34,t._benefitT.todate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](50,37,"notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._benefitT.notes),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](58,39,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(408)||t.checkRoleParms(409))&&t._benefitT.id>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(407)))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.EJ,r.YN,r.Kr,a.sg,ht.L,a.O5,D.u],pipes:[m.X$,a.uU],styles:[""]}),e})();class al{constructor(){this.hashousingallowance=!1,this.housingallowancetype=null,this.housingallowancevalue=null,this.housingallowancepercentage=null,this.housingallowancestartdate=null,this.housingallowanceenddate=null,this.housingallowancerepetition=null,this.subsidaryid=null}}var il=n(25122);function ll(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",25),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function rl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",25),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function ol(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"label",22),g["\u0275\u0275elementStart"](1,"input",23),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.housingallowancetype=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().housingallowancetypeChange()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](2,ll,2,1,"label",24),g["\u0275\u0275template"](3,rl,2,1,"label",24),g["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("value",e.id)("ngModel",n._employeeT.housingallowancetype)("disabled",!n._employeeT.hashousingallowance),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function sl(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",4),g["\u0275\u0275elementStart"](1,"label",26),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"input",27),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.housingallowancevalue=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,3,"housingallowancevalue")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.housingallowancevalue)("disabled",!e._employeeT.hashousingallowance)}}function dl(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",4),g["\u0275\u0275elementStart"](1,"label",28),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.housingallowancepercentage=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,3,"housingallowancepercentage"),"%"),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.housingallowancepercentage)("disabled",!e._employeeT.hashousingallowance)}}function cl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",30),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=t.index;g["\u0275\u0275property"]("value",e+1),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e+1,"")}}function ml(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",31),g["\u0275\u0275element"](1,"i",32),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}const pl=function(){return[]};let hl=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeeFinancialDataService=o,this._generalService=s,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.Yes="",this.No="",this.MissData="",this.DataSavedsuccessfully="",this.showhousingallowancevalue=!1,this.showhousingallowancepercentage=!1,this._employeeT=new al,this._oldEmployeeT="",this.HousingAllowanceTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetHousingAllowanceTypes(),this.GetData()})}housingallowancetypeChange(){1==this._employeeT.housingallowancetype?(this.showhousingallowancevalue=!0,this.showhousingallowancepercentage=!1):(this.showhousingallowancepercentage=!0,this.showhousingallowancevalue=!1)}handleChange(e){e.checked||(this._employeeT=new al,this._employeeT.employeeid=this.EmployeeID)}GetHousingAllowanceTypes(){this._employeeFinancialDataService.GetStaticValues("HousingAllowanceType").subscribe(e=>{this.HousingAllowanceTypeList=e,this.cd.markForCheck()})}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeHousingDataById(this.EmployeeID).subscribe(e=>{this._employeeT.employeeid=this.EmployeeID,this._employeeT.hashousingallowance=e.hashousingallowance,this._employeeT.housingallowancetype=e.housingallowancetype,null==this._employeeT.housingallowancetype&&(this._employeeT.housingallowancetype=1),this._employeeT.housingallowancevalue=e.housingallowancevalue,this._employeeT.housingallowancepercentage=e.housingallowancepercentage,this._employeeT.housingallowancestartdate=e.housingallowancestartdate,this._employeeT.housingallowanceenddate=e.housingallowanceenddate,this._employeeT.housingallowancerepetition=e.housingallowancerepetition,this.housingallowancetypeChange(),this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hashousingallowance&&(this._employeeT.hashousingallowance=!1),this._employeeFinancialDataService.UpdateEmployeeHousingData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)}))}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](Ja),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-housing-data-form"]],decls:56,vars:41,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["name","hashousingallowance",3,"ngModel","ngModelChange","onChange"],["for","hashousingallowance"],[1,"col-form-label"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["id","housingallowancestartdate",1,"col-form-label"],["type","Date","id","housingallowancestartdate","name","housingallowancestartdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","housingallowanceenddate",1,"col-form-label"],["type","Date","id","housingallowanceenddate","name","housingallowanceenddate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","housingallowancerepetition",1,"col-form-label"],["name","housingallowancerepetition",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[1,"mt-4"],["type","radio","name","housingallowancetype",3,"value","ngModel","disabled","ngModelChange","change"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["id","housingallowancevalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","housingallowancevalue",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","housingallowancepercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","housingallowancepercentage",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"p-inputSwitch",5),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hashousingallowance=e})("onChange",function(e){return t.handleChange(e)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](7," \xa0 "),g["\u0275\u0275elementStart"](8,"label",6),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",3),g["\u0275\u0275element"](12,"div",3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",2),g["\u0275\u0275elementStart"](14,"div",3),g["\u0275\u0275elementStart"](15,"div",4),g["\u0275\u0275elementStart"](16,"label",7),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"label",8),g["\u0275\u0275template"](20,ol,4,5,"label",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"div",3),g["\u0275\u0275template"](22,sl,5,5,"div",10),g["\u0275\u0275template"](23,dl,5,5,"div",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"div",3),g["\u0275\u0275elementStart"](25,"div",4),g["\u0275\u0275elementStart"](26,"label",11),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"input",12),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.housingallowancestartdate=e}),g["\u0275\u0275pipe"](30,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"div",2),g["\u0275\u0275elementStart"](32,"div",3),g["\u0275\u0275elementStart"](33,"div",4),g["\u0275\u0275elementStart"](34,"label",13),g["\u0275\u0275text"](35),g["\u0275\u0275pipe"](36,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](37,"input",14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.housingallowanceenddate=e}),g["\u0275\u0275pipe"](38,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](39,"div",3),g["\u0275\u0275elementStart"](40,"div",4),g["\u0275\u0275elementStart"](41,"label",15),g["\u0275\u0275text"](42),g["\u0275\u0275pipe"](43,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"select",16),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.housingallowancerepetition=e}),g["\u0275\u0275elementStart"](45,"option",17),g["\u0275\u0275text"](46),g["\u0275\u0275pipe"](47,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](48,cl,2,2,"option",18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](49,"div",3),g["\u0275\u0275elementStart"](50,"div",19),g["\u0275\u0275template"](51,ml,4,4,"button",20),g["\u0275\u0275elementStart"](52,"a",21),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](53),g["\u0275\u0275pipe"](54,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](55,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngModel",t._employeeT.hashousingallowance),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,20,"hashousingallowance")),g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](18,22,"housingallowancetype")," :"),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngForOf",t.HousingAllowanceTypeList),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.showhousingallowancevalue),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.showhousingallowancepercentage),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](28,24,"housingallowancestartdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](30,26,t._employeeT.housingallowancestartdate,"yyyy-MM-dd"))("disabled",!t._employeeT.hashousingallowance),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](36,29,"housingallowanceenddate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](38,31,t._employeeT.housingallowanceenddate,"yyyy-MM-dd"))("disabled",!t._employeeT.hashousingallowance),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](43,34,"housingallowancerepetition")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.housingallowancerepetition)("disabled",!t._employeeT.hashousingallowance),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](47,36,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",g["\u0275\u0275pureFunction0"](40,pl).constructor(24)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](54,38,"Cancel")," "))},directives:[r._Y,r.JL,r.F,il.Ql,r.JJ,r.On,a.sg,a.O5,r.Fj,r.EJ,r.YN,r.Kr,r._,ht.L],pipes:[m.X$,a.uU],styles:[""]}),e})();class ul{constructor(){this.hasfurnitureallowance=!1,this.furnitureallowancemaritalstatus=null,this.furnitureallowanceduedate=null,this.furnitureallowanceexchangedate=null,this.furnitureallowancevalue=null,this.nonrefundableamount=null,this.furnitureallowancedescription="",this.furnitureallowancenotes="",this.subsidaryid=null}}function yl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",28),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function gl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",28),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function vl(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"label",25),g["\u0275\u0275elementStart"](1,"input",26),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.furnitureallowancemaritalstatus=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](2,yl,2,1,"label",27),g["\u0275\u0275template"](3,gl,2,1,"label",27),g["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("value",e.id)("ngModel",n._employeeT.furnitureallowancemaritalstatus)("disabled",!n._employeeT.hasfurnitureallowance),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Sl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",29),g["\u0275\u0275element"](1,"i",30),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}let fl=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeeFinancialDataService=o,this._generalService=s,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new ul,this._oldEmployeeT="",this.FurnitureAllowanceMaritalStatusList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetFurnitureAllowanceMaritalStatus(),this.GetData()})}GetFurnitureAllowanceMaritalStatus(){this._employeeFinancialDataService.GetStaticValues("FurnitureAllowanceMaritalStatus").subscribe(e=>{this.FurnitureAllowanceMaritalStatusList=e,this.cd.markForCheck()})}handleChange(e){e.checked||(this._employeeT=new ul,this._employeeT.employeeid=this.EmployeeID)}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeFurnitureDataById(this.EmployeeID).subscribe(e=>{this._employeeT.employeeid=this.EmployeeID,this._employeeT.hasfurnitureallowance=e.hasfurnitureallowance,this._employeeT.furnitureallowancemaritalstatus=e.furnitureallowancemaritalstatus,this._employeeT.furnitureallowanceduedate=e.furnitureallowanceduedate,this._employeeT.furnitureallowanceexchangedate=e.furnitureallowanceexchangedate,this._employeeT.furnitureallowancevalue=e.furnitureallowancevalue,this._employeeT.nonrefundableamount=e.nonrefundableamount,this._employeeT.furnitureallowancedescription=e.furnitureallowancedescription,this._employeeT.furnitureallowancenotes=e.furnitureallowancenotes,this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hasfurnitureallowance&&(this._employeeT.hasfurnitureallowance=!1),this._employeeFinancialDataService.UpdateEmployeeFurnitureData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)}))}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](Ja),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-furniture-data-form"]],decls:71,vars:48,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["name","hasfurnitureallowance",3,"ngModel","ngModelChange","onChange"],["for","hasfurnitureallowance"],[1,"col-form-label"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],["id","furnitureallowanceduedate",1,"col-form-label"],["type","Date","id","furnitureallowanceduedate","name","furnitureallowanceduedate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","furnitureallowanceexchangedate",1,"col-form-label"],["type","Date","id","furnitureallowanceexchangedate","name","furnitureallowanceexchangedate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","furnitureallowancevalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","furnitureallowancevalue",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","nonrefundableamount",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","nonrefundableamount",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","furnitureallowancedescription",1,"col-form-label"],["id","furnitureallowancedescription","name","furnitureallowancedescription",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","furnitureallowancenotes",1,"col-form-label"],["id","furnitureallowancenotes","name","furnitureallowancenotes",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[1,"mt-4"],["type","radio","name","furnitureallowancemaritalstatus",3,"value","ngModel","disabled","ngModelChange"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"p-inputSwitch",5),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hasfurnitureallowance=e})("onChange",function(e){return t.handleChange(e)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](7," \xa0 "),g["\u0275\u0275elementStart"](8,"label",6),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",3),g["\u0275\u0275element"](12,"div",3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",2),g["\u0275\u0275elementStart"](14,"div",3),g["\u0275\u0275elementStart"](15,"div",4),g["\u0275\u0275elementStart"](16,"label",7),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"label",8),g["\u0275\u0275template"](20,vl,4,5,"label",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"div",3),g["\u0275\u0275elementStart"](22,"div",4),g["\u0275\u0275elementStart"](23,"label",10),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"input",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.furnitureallowanceduedate=e}),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"div",3),g["\u0275\u0275elementStart"](29,"div",4),g["\u0275\u0275elementStart"](30,"label",12),g["\u0275\u0275text"](31),g["\u0275\u0275pipe"](32,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](33,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.furnitureallowanceexchangedate=e}),g["\u0275\u0275pipe"](34,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"div",2),g["\u0275\u0275elementStart"](36,"div",3),g["\u0275\u0275elementStart"](37,"div",4),g["\u0275\u0275elementStart"](38,"label",14),g["\u0275\u0275text"](39),g["\u0275\u0275pipe"](40,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"input",15),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.furnitureallowancevalue=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](42,"div",3),g["\u0275\u0275elementStart"](43,"div",4),g["\u0275\u0275elementStart"](44,"label",16),g["\u0275\u0275text"](45),g["\u0275\u0275pipe"](46,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](47,"input",17),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.nonrefundableamount=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](48,"div",3),g["\u0275\u0275elementStart"](49,"div",4),g["\u0275\u0275elementStart"](50,"label",18),g["\u0275\u0275text"](51),g["\u0275\u0275pipe"](52,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](53,"textarea",19),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.furnitureallowancedescription=e}),g["\u0275\u0275text"](54,"          "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](55,"div",2),g["\u0275\u0275elementStart"](56,"div",3),g["\u0275\u0275elementStart"](57,"div",4),g["\u0275\u0275elementStart"](58,"label",20),g["\u0275\u0275text"](59),g["\u0275\u0275pipe"](60,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](61,"textarea",21),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.furnitureallowancenotes=e}),g["\u0275\u0275text"](62,"          "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](63,"div",3),g["\u0275\u0275elementStart"](64,"div",3),g["\u0275\u0275elementStart"](65,"div",22),g["\u0275\u0275template"](66,Sl,4,4,"button",23),g["\u0275\u0275elementStart"](67,"a",24),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](68),g["\u0275\u0275pipe"](69,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](70,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngModel",t._employeeT.hasfurnitureallowance),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,24,"hasfurnitureallowance")),g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](18,26,"furnitureallowancemaritalstatus")," :"),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngForOf",t.FurnitureAllowanceMaritalStatusList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](25,28,"furnitureallowanceduedate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](27,30,t._employeeT.furnitureallowanceduedate,"yyyy-MM-dd"))("disabled",!t._employeeT.hasfurnitureallowance),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](32,33,"furnitureallowanceexchangedate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](34,35,t._employeeT.furnitureallowanceexchangedate,"yyyy-MM-dd"))("disabled",!t._employeeT.hasfurnitureallowance),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](40,38,"furnitureallowancevalue")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.furnitureallowancevalue)("disabled",!t._employeeT.hasfurnitureallowance),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](46,40,"nonrefundableamount")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.nonrefundableamount)("disabled",!t._employeeT.hasfurnitureallowance),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](52,42,"furnitureallowancedescription")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.furnitureallowancedescription)("disabled",!t._employeeT.hasfurnitureallowance),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](60,44,"furnitureallowancenotes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.furnitureallowancenotes)("disabled",!t._employeeT.hasfurnitureallowance),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](69,46,"Cancel")," "))},directives:[r._Y,r.JL,r.F,il.Ql,r.JJ,r.On,a.sg,r.Fj,ht.L,a.O5,r._],pipes:[m.X$,a.uU],styles:[""]}),e})();class bl{constructor(){this.hasemployeetraveltickets=!1,this.haspartnertraveltickets=!1,this.haschildtraveltickets=!1,this.minmonthsbetweenticketmoves=null,this.ischildticketsonages=!1,this.childticketsonagesvalue=null,this.maxchildnumberintickets=null,this.maxchildagetoissuetickets=null,this.maxticketsvaluespentonetime=null,this.employeetravelticketpercentage=null,this.partnertravelticketpercentage=null,this.childtravelticketpercentage=null,this.travelticketnotes="",this.subsidaryid=null}}function El(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",37),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=t.index;g["\u0275\u0275property"]("value",e+1),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e+1," ")}}function xl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",37),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=t.index;g["\u0275\u0275property"]("value",e+1),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e+1," ")}}function Cl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",37),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=t.index;g["\u0275\u0275property"]("value",e+1),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e+1," ")}}function Dl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",38),g["\u0275\u0275element"](1,"i",39),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}const _l=function(){return[]};let Il=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeeFinancialDataService=o,this._generalService=s,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new bl,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetData()})}handleChange(e){e.checked||(this._employeeT=new bl,this._employeeT.employeeid=this.EmployeeID)}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeTravelTicketsDataById(this.EmployeeID).subscribe(e=>{this._employeeT.employeeid=this.EmployeeID,this._employeeT.hasemployeetraveltickets=e.hasemployeetraveltickets,this._employeeT.haspartnertraveltickets=e.haspartnertraveltickets,this._employeeT.haschildtraveltickets=e.haschildtraveltickets,this._employeeT.minmonthsbetweenticketmoves=e.minmonthsbetweenticketmoves,this._employeeT.ischildticketsonages=e.ischildticketsonages,this._employeeT.childticketsonagesvalue=e.childticketsonagesvalue,this._employeeT.maxchildnumberintickets=e.maxchildnumberintickets,this._employeeT.maxchildagetoissuetickets=e.maxchildagetoissuetickets,this._employeeT.maxticketsvaluespentonetime=e.maxticketsvaluespentonetime,this._employeeT.employeetravelticketpercentage=e.employeetravelticketpercentage,this._employeeT.partnertravelticketpercentage=e.partnertravelticketpercentage,this._employeeT.childtravelticketpercentage=e.childtravelticketpercentage,this._employeeT.travelticketnotes=e.travelticketnotes,this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hasemployeetraveltickets&&(this._employeeT.hasemployeetraveltickets=!1),null==this._employeeT.haspartnertraveltickets&&(this._employeeT.haspartnertraveltickets=!1),null==this._employeeT.haschildtraveltickets&&(this._employeeT.haschildtraveltickets=!1),null==this._employeeT.ischildticketsonages&&(this._employeeT.ischildticketsonages=!1),this._employeeFinancialDataService.UpdateEmployeeTravelTicketsData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)}))}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](Ja),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-travel-tickets-data-form"]],decls:111,vars:86,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["name","hasemployeetraveltickets",3,"ngModel","ngModelChange","onChange"],["for","hasemployeetraveltickets"],["name","haspartnertraveltickets",3,"ngModel","disabled","ngModelChange"],["for","haspartnertraveltickets"],["name","haschildtraveltickets",3,"ngModel","disabled","ngModelChange"],["for","haschildtraveltickets"],["id","employeetravelticketpercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","employeetravelticketpercentage",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","partnertravelticketpercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","partnertravelticketpercentage",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","childtravelticketpercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","childtravelticketpercentage",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","minmonthsbetweenticketmoves",1,"col-form-label"],["name","minmonthsbetweenticketmoves",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","maxticketsvaluespentonetime",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","maxticketsvaluespentonetime",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"form-group",2,"margin-top","40px"],["name","ischildticketsonages",3,"ngModel","disabled","ngModelChange"],["for","ischildticketsonages"],["id","childticketsonagesvalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","childticketsonagesvalue",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","maxchildnumberintickets",1,"col-form-label"],["name","maxchildnumberintickets",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","maxchildagetoissuetickets",1,"col-form-label"],["name","maxchildagetoissuetickets",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","travelticketnotes",1,"col-form-label"],["id","travelticketnotes","name","travelticketnotes",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"p-inputSwitch",5),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hasemployeetraveltickets=e})("onChange",function(e){return t.handleChange(e)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](7," \xa0 "),g["\u0275\u0275elementStart"](8,"label",6),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"div",3),g["\u0275\u0275elementStart"](12,"div",4),g["\u0275\u0275elementStart"](13,"p-inputSwitch",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.haspartnertraveltickets=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](14," \xa0 "),g["\u0275\u0275elementStart"](15,"label",8),g["\u0275\u0275text"](16),g["\u0275\u0275pipe"](17,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"div",3),g["\u0275\u0275elementStart"](19,"div",4),g["\u0275\u0275elementStart"](20,"p-inputSwitch",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.haschildtraveltickets=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](21," \xa0 "),g["\u0275\u0275elementStart"](22,"label",10),g["\u0275\u0275text"](23),g["\u0275\u0275pipe"](24,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"div",2),g["\u0275\u0275elementStart"](26,"div",3),g["\u0275\u0275elementStart"](27,"div",4),g["\u0275\u0275elementStart"](28,"label",11),g["\u0275\u0275text"](29),g["\u0275\u0275pipe"](30,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"input",12),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.employeetravelticketpercentage=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"div",3),g["\u0275\u0275elementStart"](33,"div",4),g["\u0275\u0275elementStart"](34,"label",13),g["\u0275\u0275text"](35),g["\u0275\u0275pipe"](36,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](37,"input",14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.partnertravelticketpercentage=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"div",3),g["\u0275\u0275elementStart"](39,"div",4),g["\u0275\u0275elementStart"](40,"label",15),g["\u0275\u0275text"](41),g["\u0275\u0275pipe"](42,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](43,"input",16),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.childtravelticketpercentage=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"div",2),g["\u0275\u0275elementStart"](45,"div",3),g["\u0275\u0275elementStart"](46,"div",4),g["\u0275\u0275elementStart"](47,"label",17),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"select",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.minmonthsbetweenticketmoves=e}),g["\u0275\u0275elementStart"](51,"option",19),g["\u0275\u0275text"](52),g["\u0275\u0275pipe"](53,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](54,El,2,2,"option",20),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](55,"div",3),g["\u0275\u0275elementStart"](56,"div",4),g["\u0275\u0275elementStart"](57,"label",21),g["\u0275\u0275text"](58),g["\u0275\u0275pipe"](59,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](60,"input",22),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.maxticketsvaluespentonetime=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](61,"div",3),g["\u0275\u0275elementStart"](62,"div",23),g["\u0275\u0275elementStart"](63,"p-inputSwitch",24),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.ischildticketsonages=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](64," \xa0 "),g["\u0275\u0275elementStart"](65,"label",25),g["\u0275\u0275text"](66),g["\u0275\u0275pipe"](67,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](68,"div",2),g["\u0275\u0275elementStart"](69,"div",3),g["\u0275\u0275elementStart"](70,"div",4),g["\u0275\u0275elementStart"](71,"label",26),g["\u0275\u0275text"](72),g["\u0275\u0275pipe"](73,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](74,"input",27),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.childticketsonagesvalue=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](75,"div",3),g["\u0275\u0275elementStart"](76,"div",4),g["\u0275\u0275elementStart"](77,"label",28),g["\u0275\u0275text"](78),g["\u0275\u0275pipe"](79,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](80,"select",29),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.maxchildnumberintickets=e}),g["\u0275\u0275elementStart"](81,"option",19),g["\u0275\u0275text"](82),g["\u0275\u0275pipe"](83,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](84,xl,2,2,"option",20),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](85,"div",3),g["\u0275\u0275elementStart"](86,"div",4),g["\u0275\u0275elementStart"](87,"label",30),g["\u0275\u0275text"](88),g["\u0275\u0275pipe"](89,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](90,"select",31),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.maxchildagetoissuetickets=e}),g["\u0275\u0275elementStart"](91,"option",19),g["\u0275\u0275text"](92),g["\u0275\u0275pipe"](93,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](94,Cl,2,2,"option",20),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](95,"div",2),g["\u0275\u0275elementStart"](96,"div",3),g["\u0275\u0275elementStart"](97,"div",4),g["\u0275\u0275elementStart"](98,"label",32),g["\u0275\u0275text"](99),g["\u0275\u0275pipe"](100,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](101,"textarea",33),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.travelticketnotes=e}),g["\u0275\u0275text"](102,"          "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](103,"div",3),g["\u0275\u0275elementStart"](104,"div",3),g["\u0275\u0275elementStart"](105,"div",34),g["\u0275\u0275template"](106,Dl,4,4,"button",35),g["\u0275\u0275elementStart"](107,"a",36),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](108),g["\u0275\u0275pipe"](109,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](110,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngModel",t._employeeT.hasemployeetraveltickets),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,49,"hasemployeetraveltickets")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeT.haspartnertraveltickets)("disabled",!t._employeeT.hasemployeetraveltickets),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](17,51,"haspartnertraveltickets")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeT.haschildtraveltickets)("disabled",!t._employeeT.hasemployeetraveltickets),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](24,53,"haschildtraveltickets")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](30,55,"employeetravelticketpercentage")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.employeetravelticketpercentage)("disabled",!t._employeeT.hasemployeetraveltickets),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](36,57,"partnertravelticketpercentage")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.partnertravelticketpercentage)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haspartnertraveltickets),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](42,59,"childtravelticketpercentage")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.childtravelticketpercentage)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haschildtraveltickets),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,61,"minmonthsbetweenticketmoves")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.minmonthsbetweenticketmoves)("disabled",!t._employeeT.hasemployeetraveltickets),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](53,63,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",g["\u0275\u0275pureFunction0"](83,_l).constructor(24)),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](59,65,"maxticketsvaluespentonetime")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.maxticketsvaluespentonetime)("disabled",!t._employeeT.hasemployeetraveltickets),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",t._employeeT.ischildticketsonages)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haschildtraveltickets),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](67,67,"ischildticketsonages")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](73,69,"childticketsonagesvalue")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.childticketsonagesvalue)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haschildtraveltickets||!t._employeeT.ischildticketsonages),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](79,71,"maxchildnumberintickets")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.maxchildnumberintickets)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haschildtraveltickets||t._employeeT.ischildticketsonages),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](83,73,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",g["\u0275\u0275pureFunction0"](84,_l).constructor(20)),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](89,75,"maxchildagetoissuetickets")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.maxchildagetoissuetickets)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haschildtraveltickets||t._employeeT.ischildticketsonages),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](93,77,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",g["\u0275\u0275pureFunction0"](85,_l).constructor(20)),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](100,79,"notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.travelticketnotes)("disabled",!t._employeeT.hasemployeetraveltickets),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](109,81,"Cancel")," "))},directives:[r._Y,r.JL,r.F,il.Ql,r.JJ,r.On,r.Fj,ht.L,r.EJ,r.YN,r.Kr,a.sg,a.O5],pipes:[m.X$],styles:[""]}),e})();class wl{constructor(){this.paymentmethod=0,this.banksnameid=null,this.banksbrancheid=null,this.accountnumber="",this.ibannumber="",this.isbankcommitment=!1,this.subsidaryid=null}}var Tl=n(51677),Ml=n(61286);function kl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",16),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function Bl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"label",16),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Fl(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"label",13),g["\u0275\u0275elementStart"](1,"input",14),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.paymentmethod=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().paymentmethodChange()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](2,kl,2,1,"label",15),g["\u0275\u0275template"](3,Bl,2,1,"label",15),g["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("value",e.id)("ngModel",n._employeeT.paymentmethod),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Hl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function Rl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Ol(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",21),g["\u0275\u0275template"](1,Hl,2,1,"div",22),g["\u0275\u0275template"](2,Rl,2,1,"div",22),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Vl(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",4),g["\u0275\u0275elementStart"](1,"label",17),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",18),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.banksnameid=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().GetBanksBranche()}),g["\u0275\u0275elementStart"](5,"option",19),g["\u0275\u0275text"](6),g["\u0275\u0275pipe"](7,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](8,Ol,3,3,"option",20),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,5,"banksname")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.banksnameid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](7,7,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",e.BanksNameList)}}function Al(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function Nl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Gl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",21),g["\u0275\u0275template"](1,Al,2,1,"div",22),g["\u0275\u0275template"](2,Nl,2,1,"div",22),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Pl(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",4),g["\u0275\u0275elementStart"](1,"label",23),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",24),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.banksbrancheid=t}),g["\u0275\u0275elementStart"](5,"option",19),g["\u0275\u0275text"](6),g["\u0275\u0275pipe"](7,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](8,Gl,3,3,"option",20),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,5,"banksbranche")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.banksbrancheid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](7,7,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",e.BanksBrancheList)}}function jl(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",4),g["\u0275\u0275elementStart"](1,"label",25),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"input",26),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.accountnumber=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"accountnumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.accountnumber)}}function $l(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",4),g["\u0275\u0275elementStart"](1,"label",27),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"input",28),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.ibannumber=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"ibannumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.ibannumber)}}const Ul=function(){return{standalone:!0}};function Ll(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",29),g["\u0275\u0275elementStart"](1,"input",30),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.isbankcommitment=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](2,"label",31),g["\u0275\u0275elementStart"](3,"span"),g["\u0275\u0275text"](4),g["\u0275\u0275pipe"](5,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("checked",e._employeeT.isbankcommitment)("ngModelOptions",g["\u0275\u0275pureFunction0"](6,Ul))("ngModel",e._employeeT.isbankcommitment),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](5,4,"isbankcommitment"))}}function Jl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",32),g["\u0275\u0275element"](1,"i",33),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}let zl=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeeFinancialDataService=o,this._generalService=s,this._banksNamesService=d,this._banksBranchesService=c,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new wl,this._oldEmployeeT="",this.BanksNameList=[],this.BanksBrancheList=[],this.PaymentMethodList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetBanksName(),this.GetPaymentMethod(),this.GetData()})}GetPaymentMethod(){this._employeeFinancialDataService.GetStaticValues("PaymentMethod").subscribe(e=>{this.PaymentMethodList=e,this.cd.markForCheck()})}paymentmethodChange(){var e=this._employeeT.paymentmethod;2!=this._employeeT.paymentmethod&&(this._employeeT=new wl,this._employeeT.employeeid=this.EmployeeID,this._employeeT.paymentmethod=e)}GetBanksName(){this._banksNamesService.GetAllForDropdown().subscribe(e=>{this.BanksNameList=e,this.cd.markForCheck()})}GetBanksBranche(){this._banksBranchesService.GetAllForDropdown(this._employeeT.banksnameid).subscribe(e=>{this.BanksBrancheList=e,this.cd.markForCheck()})}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeePaymentMethodDataById(this.EmployeeID).subscribe(e=>{this._employeeT.employeeid=this.EmployeeID,this._employeeT.paymentmethod=e.paymentmethod,this._employeeT.banksnameid=e.banksnameid,this._employeeT.banksbrancheid=e.banksbrancheid,this._employeeT.accountnumber=e.accountnumber,this._employeeT.ibannumber=e.ibannumber,this._employeeT.isbankcommitment=e.isbankcommitment,this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&this._employeeFinancialDataService.UpdateEmployeePaymentMethodData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)})}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](Ja),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](Tl.H),g["\u0275\u0275directiveInject"](Ml.V))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-payment-method-data-form"]],decls:32,vars:13,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],[1,"col-form-label"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["class","form-group","style","margin-top: 40px;",4,"ngIf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[1,"mt-4"],["type","radio","name","paymentmethod",3,"value","ngModel","ngModelChange","change"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["id","banksnameid",1,"col-form-label"],["name","banksnameid",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],["id","banksbrancheid",1,"col-form-label"],["name","banksbrancheid",1,"form-control",3,"ngModel","ngModelChange"],["id","accountnumber",1,"col-form-label"],["type","text","name","accountnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","ibannumber",1,"col-form-label"],["type","text","name","ibannumber",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","40px"],["type","checkbox","id","isbankcommitment",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","isbankcommitment"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"label",6),g["\u0275\u0275template"](10,Fl,4,4,"label",7),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"div",3),g["\u0275\u0275template"](12,Vl,9,9,"div",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275template"](14,Pl,9,9,"div",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"div",2),g["\u0275\u0275elementStart"](16,"div",3),g["\u0275\u0275template"](17,jl,5,4,"div",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"div",3),g["\u0275\u0275template"](19,$l,5,4,"div",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"div",3),g["\u0275\u0275template"](21,Ll,6,7,"div",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](22,"div",2),g["\u0275\u0275element"](23,"div",3),g["\u0275\u0275element"](24,"div",3),g["\u0275\u0275elementStart"](25,"div",3),g["\u0275\u0275elementStart"](26,"div",10),g["\u0275\u0275template"](27,Jl,4,4,"button",11),g["\u0275\u0275elementStart"](28,"a",12),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](29),g["\u0275\u0275pipe"](30,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](31,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](8,9,"paymentmethod")," :"),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngForOf",t.PaymentMethodList),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",2===t._employeeT.paymentmethod),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",2===t._employeeT.paymentmethod),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",2===t._employeeT.paymentmethod),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",2===t._employeeT.paymentmethod),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",2===t._employeeT.paymentmethod),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](30,11,"Cancel")," "))},directives:[r._Y,r.JL,r.F,a.sg,a.O5,r._,r.Fj,r.JJ,r.On,r.EJ,r.YN,r.Kr,r.Wl],pipes:[m.X$],styles:[""]}),e})();class Yl{constructor(){this.hashealthinsurance=!1,this.healthinsurancestartdate=null,this.healthinsurancecardexpirydate=null,this.subsidaryid=null}}function ql(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",15),g["\u0275\u0275element"](1,"i",16),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}let Ql=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeeFinancialDataService=o,this._generalService=s,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new Yl,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetData()})}handleChange(e){e.checked||(this._employeeT=new Yl,this._employeeT.employeeid=this.EmployeeID)}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeHealthInsuranceDataById(this.EmployeeID).subscribe(e=>{this._employeeT.employeeid=this.EmployeeID,this._employeeT.hashealthinsurance=e.hashealthinsurance,this._employeeT.healthinsurancestartdate=e.healthinsurancestartdate,this._employeeT.healthinsurancecardexpirydate=e.healthinsurancecardexpirydate,this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hashealthinsurance&&(this._employeeT.hashealthinsurance=!1),this._employeeFinancialDataService.UpdateEmployeeHealthInsuranceData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)}))}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](Ja),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-health-insurance-data-form"]],decls:35,vars:24,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group",2,"margin-top","20px"],["name","hashealthinsurance",3,"ngModel","ngModelChange","onChange"],["for","hashealthinsurance"],[1,"form-group"],["id","healthinsurancestartdate",1,"col-form-label"],["type","Date","id","healthinsurancestartdate","name","healthinsurancestartdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","healthinsurancecardexpirydate",1,"col-form-label"],["type","Date","id","healthinsurancecardexpirydate","name","healthinsurancecardexpirydate",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"p-inputSwitch",5),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hashealthinsurance=e})("onChange",function(e){return t.handleChange(e)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](7," \xa0 "),g["\u0275\u0275elementStart"](8,"label",6),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"div",3),g["\u0275\u0275elementStart"](12,"div",7),g["\u0275\u0275elementStart"](13,"label",8),g["\u0275\u0275text"](14),g["\u0275\u0275pipe"](15,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"input",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.healthinsurancestartdate=e}),g["\u0275\u0275pipe"](17,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"div",3),g["\u0275\u0275elementStart"](19,"div",7),g["\u0275\u0275elementStart"](20,"label",10),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"input",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.healthinsurancecardexpirydate=e}),g["\u0275\u0275pipe"](24,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"div",2),g["\u0275\u0275element"](26,"div",3),g["\u0275\u0275element"](27,"div",3),g["\u0275\u0275elementStart"](28,"div",3),g["\u0275\u0275elementStart"](29,"div",12),g["\u0275\u0275template"](30,ql,4,4,"button",13),g["\u0275\u0275elementStart"](31,"a",14),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](32),g["\u0275\u0275pipe"](33,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](34,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngModel",t._employeeT.hashealthinsurance),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,10,"hashealthinsurance")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](15,12,"healthinsurancestartdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](17,14,t._employeeT.healthinsurancestartdate,"yyyy-MM-dd"))("disabled",!t._employeeT.hashealthinsurance),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](22,17,"healthinsurancecardexpirydate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](24,19,t._employeeT.healthinsurancecardexpirydate,"yyyy-MM-dd"))("disabled",!t._employeeT.hashealthinsurance),g["\u0275\u0275advance"](7),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](33,22,"Cancel")," "))},directives:[r._Y,r.JL,r.F,il.Ql,r.JJ,r.On,r.Fj,a.O5],pipes:[m.X$,a.uU],styles:[""]}),e})();class Kl{constructor(){this.hassocialsecurity=!1,this.extendingsocialsecuritydeduct=!1,this.socialsecuritystartdate=null,this.socialsecuritysalary=null,this.socialsecuritybonus=null,this.subsidaryid=null}}function Wl(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",19),g["\u0275\u0275element"](1,"i",20),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}let Xl=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeeFinancialDataService=o,this._generalService=s,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new Kl,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetData()})}handleChange(e){e.checked||(this._employeeT=new Kl,this._employeeT.employeeid=this.EmployeeID)}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeSocialSecurityDataById(this.EmployeeID).subscribe(e=>{this._employeeT.employeeid=this.EmployeeID,this._employeeT.hassocialsecurity=e.hassocialsecurity,this._employeeT.extendingsocialsecuritydeduct=e.extendingsocialsecuritydeduct,this._employeeT.socialsecuritystartdate=e.socialsecuritystartdate,this._employeeT.socialsecuritysalary=e.socialsecuritysalary,this._employeeT.socialsecuritybonus=e.socialsecuritybonus,this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hassocialsecurity&&(this._employeeT.hassocialsecurity=!1),null==this._employeeT.extendingsocialsecuritydeduct&&(this._employeeT.extendingsocialsecuritydeduct=!1),this._employeeFinancialDataService.UpdateEmployeeSocialSecurityData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)}))}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](Ja),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-social-security-data-form"]],decls:45,vars:31,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group",2,"margin-top","20px"],["name","hassocialsecurity",3,"ngModel","ngModelChange","onChange"],["for","hassocialsecurity"],["name","extendingsocialsecuritydeduct",3,"ngModel","disabled","ngModelChange"],["for","extendingsocialsecuritydeduct"],[1,"form-group"],["id","socialsecuritystartdate",1,"col-form-label"],["type","Date","id","socialsecuritystartdate","name","socialsecuritystartdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","socialsecuritysalary",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","socialsecuritysalary",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","socialsecuritybonus",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","socialsecuritybonus",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"p-inputSwitch",5),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hassocialsecurity=e})("onChange",function(e){return t.handleChange(e)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](7," \xa0 "),g["\u0275\u0275elementStart"](8,"label",6),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"div",3),g["\u0275\u0275elementStart"](12,"div",4),g["\u0275\u0275elementStart"](13,"p-inputSwitch",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.extendingsocialsecuritydeduct=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](14," \xa0 "),g["\u0275\u0275elementStart"](15,"label",8),g["\u0275\u0275text"](16),g["\u0275\u0275pipe"](17,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"div",3),g["\u0275\u0275elementStart"](19,"div",9),g["\u0275\u0275elementStart"](20,"label",10),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"input",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.socialsecuritystartdate=e}),g["\u0275\u0275pipe"](24,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"div",2),g["\u0275\u0275elementStart"](26,"div",3),g["\u0275\u0275elementStart"](27,"div",9),g["\u0275\u0275elementStart"](28,"label",12),g["\u0275\u0275text"](29),g["\u0275\u0275pipe"](30,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.socialsecuritysalary=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"div",3),g["\u0275\u0275elementStart"](33,"div",9),g["\u0275\u0275elementStart"](34,"label",14),g["\u0275\u0275text"](35),g["\u0275\u0275pipe"](36,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](37,"input",15),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.socialsecuritybonus=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"div",3),g["\u0275\u0275elementStart"](39,"div",16),g["\u0275\u0275template"](40,Wl,4,4,"button",17),g["\u0275\u0275elementStart"](41,"a",18),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](42),g["\u0275\u0275pipe"](43,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](44,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngModel",t._employeeT.hassocialsecurity),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,16,"hassocialsecurity")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeT.extendingsocialsecuritydeduct)("disabled",!t._employeeT.hassocialsecurity),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](17,18,"extendingsocialsecuritydeduct")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](22,20,"socialsecuritystartdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](24,22,t._employeeT.socialsecuritystartdate,"yyyy-MM-dd"))("disabled",!t._employeeT.hassocialsecurity),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](30,25,"socialsecuritysalary")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.socialsecuritysalary)("disabled",!t._employeeT.hassocialsecurity),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](36,27,"socialsecuritybonus")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.socialsecuritybonus)("disabled",!t._employeeT.hassocialsecurity),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](43,29,"Cancel")," "))},directives:[r._Y,r.JL,r.F,il.Ql,r.JJ,r.On,r.Fj,ht.L,a.O5],pipes:[m.X$,a.uU],styles:[""]}),e})();class Zl{constructor(){this.hasendofservicegratuity=!1,this.endofservicegratuitytypeid=null,this.endofservicegratuitydate=null,this.subsidaryid=null}}var er=n(3726);function tr(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function nr(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function ar(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",17),g["\u0275\u0275template"](1,tr,2,1,"div",18),g["\u0275\u0275template"](2,nr,2,1,"div",18),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ir(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",19),g["\u0275\u0275element"](1,"i",20),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}let lr=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeeFinancialDataService=o,this._generalService=s,this._endOfServiceGratuityTypesService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new Zl,this._oldEmployeeT="",this.EndOfServiceGratuityTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetEndOfServiceGratuityType(),this.GetData()})}GetEndOfServiceGratuityType(){this._endOfServiceGratuityTypesService.GetAllForDropdown().subscribe(e=>{this.EndOfServiceGratuityTypeList=e,this.cd.markForCheck()})}handleChange(e){e.checked||(this._employeeT=new Zl,this._employeeT.employeeid=this.EmployeeID)}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeEndOfServiceGratuityDataById(this.EmployeeID).subscribe(e=>{this._employeeT.employeeid=this.EmployeeID,this._employeeT.hasendofservicegratuity=e.hasendofservicegratuity,this._employeeT.endofservicegratuitytypeid=e.endofservicegratuitytypeid,this._employeeT.endofservicegratuitydate=e.endofservicegratuitydate,this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hasendofservicegratuity&&(this._employeeT.hasendofservicegratuity=!1),this._employeeFinancialDataService.UpdateEmployeeEndOfServiceGratuityData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)}))}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](Ja),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](er.D))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-end-of-service-gratuity-data-form"]],decls:38,vars:26,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group",2,"margin-top","20px"],["name","hasendofservicegratuity",3,"ngModel","ngModelChange","onChange"],["for","hasendofservicegratuity"],[1,"form-group"],["id","endofservicegratuitytypeid",1,"col-form-label"],["name","endofservicegratuitytypeid",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","endofservicegratuitydate",1,"col-form-label"],["type","Date","id","endofservicegratuitydate","name","endofservicegratuitydate",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"value"],[4,"ngIf"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"p-inputSwitch",5),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hasendofservicegratuity=e})("onChange",function(e){return t.handleChange(e)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](7," \xa0 "),g["\u0275\u0275elementStart"](8,"label",6),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"div",3),g["\u0275\u0275elementStart"](12,"div",7),g["\u0275\u0275elementStart"](13,"label",8),g["\u0275\u0275text"](14),g["\u0275\u0275pipe"](15,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"select",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.endofservicegratuitytypeid=e}),g["\u0275\u0275elementStart"](17,"option",10),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](20,ar,3,3,"option",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"div",3),g["\u0275\u0275elementStart"](22,"div",7),g["\u0275\u0275elementStart"](23,"label",12),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.endofservicegratuitydate=e}),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"div",2),g["\u0275\u0275element"](29,"div",3),g["\u0275\u0275element"](30,"div",3),g["\u0275\u0275elementStart"](31,"div",3),g["\u0275\u0275elementStart"](32,"div",14),g["\u0275\u0275template"](33,ir,4,4,"button",15),g["\u0275\u0275elementStart"](34,"a",16),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](35),g["\u0275\u0275pipe"](36,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](37,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngModel",t._employeeT.hasendofservicegratuity),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,13,"hasendofservicegratuity")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](15,15,"endofservicegratuitytypeid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.endofservicegratuitytypeid)("disabled",!t._employeeT.hasendofservicegratuity),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,17,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.EndOfServiceGratuityTypeList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](25,19,"endofservicegratuitydate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](27,21,t._employeeT.endofservicegratuitydate,"yyyy-MM-dd"))("disabled",!t._employeeT.hasendofservicegratuity),g["\u0275\u0275advance"](7),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](36,24,"Cancel")," "))},directives:[r._Y,r.JL,r.F,il.Ql,r.JJ,r.On,r.EJ,r.YN,r.Kr,a.sg,r.Fj,a.O5],pipes:[m.X$,a.uU],styles:[""]}),e})();class rr{constructor(){this.accountingnumber1="",this.accountingnumber2="",this.accountingnumbernotes="",this.subsidaryid=null}}function or(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",14),g["\u0275\u0275element"](1,"i",15),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}let sr=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeeFinancialDataService=o,this._generalService=s,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new rr,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetData()})}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeAccountingNumberDataById(this.EmployeeID).subscribe(e=>{this._employeeT.employeeid=this.EmployeeID,this._employeeT.accountingnumber1=e.accountingnumber1,this._employeeT.accountingnumber2=e.accountingnumber2,this._employeeT.accountingnumbernotes=e.accountingnumbernotes,this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&this._employeeFinancialDataService.UpdateEmployeeAccountingNumberData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)})}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](Ja),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-accounting-number-data-form"]],decls:33,vars:16,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","accountingnumber1",1,"col-form-label"],["type","text","name","accountingnumber1",1,"form-control",3,"ngModel","ngModelChange"],["id","accountingnumber2",1,"col-form-label"],["type","text","name","accountingnumber2",1,"form-control",3,"ngModel","ngModelChange"],["id","accountingnumbernotes",1,"col-form-label"],["id","accountingnumbernotes","name","accountingnumbernotes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"input",6),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.accountingnumber1=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",3),g["\u0275\u0275elementStart"](11,"div",4),g["\u0275\u0275elementStart"](12,"label",7),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"input",8),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.accountingnumber2=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"div",3),g["\u0275\u0275elementStart"](17,"div",4),g["\u0275\u0275elementStart"](18,"label",9),g["\u0275\u0275text"](19),g["\u0275\u0275pipe"](20,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"textarea",10),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.accountingnumbernotes=e}),g["\u0275\u0275text"](22,"          "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"div",2),g["\u0275\u0275element"](24,"div",3),g["\u0275\u0275element"](25,"div",3),g["\u0275\u0275elementStart"](26,"div",3),g["\u0275\u0275elementStart"](27,"div",11),g["\u0275\u0275template"](28,or,4,4,"button",12),g["\u0275\u0275elementStart"](29,"a",13),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](30),g["\u0275\u0275pipe"](31,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](32,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](8,8,"accountingnumber1")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.accountingnumber1),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](14,10,"accountingnumber2")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.accountingnumber2),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](20,12,"accountingnumbernotes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.accountingnumbernotes),g["\u0275\u0275advance"](7),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](31,14,"Cancel")," "))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,a.O5],pipes:[m.X$],styles:[""]}),e})();class dr{constructor(){this.otherinsurancesfixing=!1,this.otherinsurancesfixingdate=null,this.otherinsurancesstopping=!1,this.otherinsurancesstoppingdate=null,this.salarystoppingdate=null,this.salarymonthscount=null,this.subsidaryid=null}}function cr(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",23),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;g["\u0275\u0275property"]("value",e),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e,"")}}function mr(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",24),g["\u0275\u0275element"](1,"i",25),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}const pr=function(){return[12,13,14,15,16,17,18,19,20,21,22,23,24]};let hr=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeeFinancialDataService=o,this._generalService=s,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new dr,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetData()})}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeOtherInsuranceDataById(this.EmployeeID).subscribe(e=>{this._employeeT.employeeid=this.EmployeeID,this._employeeT.otherinsurancesfixing=e.otherinsurancesfixing,this._employeeT.otherinsurancesfixingdate=e.otherinsurancesfixingdate,this._employeeT.otherinsurancesstopping=e.otherinsurancesstopping,this._employeeT.otherinsurancesstoppingdate=e.otherinsurancesstoppingdate,this._employeeT.salarystoppingdate=e.salarystoppingdate,this._employeeT.salarymonthscount=e.salarymonthscount,this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.otherinsurancesfixing&&(this._employeeT.otherinsurancesfixing=!1),null==this._employeeT.otherinsurancesstopping&&(this._employeeT.otherinsurancesstopping=!1),this._employeeFinancialDataService.UpdateEmployeeOtherInsuranceData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)}))}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](Ja),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-other-insurance-data-form"]],decls:60,vars:45,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group",2,"margin-top","20px"],["name","otherinsurancesfixing",3,"ngModel","ngModelChange"],["for","otherinsurancesfixing"],[1,"form-group"],["id","otherinsurancesfixingdate",1,"col-form-label"],["type","Date","id","otherinsurancesfixingdate","name","otherinsurancesfixingdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["name","otherinsurancesstopping",3,"ngModel","ngModelChange"],["for","otherinsurancesstopping"],["id","otherinsurancesstoppingdate",1,"col-form-label"],["type","Date","id","otherinsurancesstoppingdate","name","otherinsurancesstoppingdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","salarystoppingdate",1,"col-form-label"],["type","Date","id","salarystoppingdate","name","salarystoppingdate",1,"form-control",3,"ngModel","ngModelChange"],["id","salarymonthscount",1,"col-form-label"],["name","salarymonthscount",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"p-inputSwitch",5),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.otherinsurancesfixing=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](7," \xa0 "),g["\u0275\u0275elementStart"](8,"label",6),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"div",3),g["\u0275\u0275elementStart"](12,"div",7),g["\u0275\u0275elementStart"](13,"label",8),g["\u0275\u0275text"](14),g["\u0275\u0275pipe"](15,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"input",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.otherinsurancesfixingdate=e}),g["\u0275\u0275pipe"](17,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"div",3),g["\u0275\u0275elementStart"](19,"div",4),g["\u0275\u0275elementStart"](20,"p-inputSwitch",10),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.otherinsurancesstopping=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](21," \xa0 "),g["\u0275\u0275elementStart"](22,"label",11),g["\u0275\u0275text"](23),g["\u0275\u0275pipe"](24,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"div",2),g["\u0275\u0275elementStart"](26,"div",3),g["\u0275\u0275elementStart"](27,"div",7),g["\u0275\u0275elementStart"](28,"label",12),g["\u0275\u0275text"](29),g["\u0275\u0275pipe"](30,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.otherinsurancesstoppingdate=e}),g["\u0275\u0275pipe"](32,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](33,"div",3),g["\u0275\u0275elementStart"](34,"div",7),g["\u0275\u0275elementStart"](35,"label",14),g["\u0275\u0275text"](36),g["\u0275\u0275pipe"](37,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"input",15),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.salarystoppingdate=e}),g["\u0275\u0275pipe"](39,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"div",3),g["\u0275\u0275elementStart"](41,"div",7),g["\u0275\u0275elementStart"](42,"label",16),g["\u0275\u0275text"](43),g["\u0275\u0275pipe"](44,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"select",17),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.salarymonthscount=e}),g["\u0275\u0275elementStart"](46,"option",18),g["\u0275\u0275text"](47),g["\u0275\u0275pipe"](48,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](49,cr,2,2,"option",19),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"div",2),g["\u0275\u0275element"](51,"div",3),g["\u0275\u0275element"](52,"div",3),g["\u0275\u0275elementStart"](53,"div",3),g["\u0275\u0275elementStart"](54,"div",20),g["\u0275\u0275template"](55,mr,4,4,"button",21),g["\u0275\u0275elementStart"](56,"a",22),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](57),g["\u0275\u0275pipe"](58,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](59,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngModel",t._employeeT.otherinsurancesfixing),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,19,"otherinsurancesfixing")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](15,21,"otherinsurancesfixingdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](17,23,t._employeeT.otherinsurancesfixingdate,"yyyy-MM-dd"))("disabled",!t._employeeT.otherinsurancesfixing),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeT.otherinsurancesstopping),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](24,26,"otherinsurancesstopping")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](30,28,"otherinsurancesstoppingdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](32,30,t._employeeT.otherinsurancesstoppingdate,"yyyy-MM-dd"))("disabled",!t._employeeT.otherinsurancesstopping),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](37,33,"salarystoppingdate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](39,35,t._employeeT.salarystoppingdate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](44,38,"salarymonthscount")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.salarymonthscount),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](48,40,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",g["\u0275\u0275pureFunction0"](44,pr)),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](58,42,"Cancel")," "))},directives:[r._Y,r.JL,r.F,il.Ql,r.JJ,r.On,r.Fj,r.EJ,r.YN,r.Kr,a.sg,a.O5],pipes:[m.X$,a.uU],styles:[""]}),e})();class ur{constructor(){this.istaxable=!1,this.haspersonalexemption=!1,this.hasfamilyexemption=!1,this.otherexemption=null,this.subsidaryid=null}}function yr(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",16),g["\u0275\u0275element"](1,"i",17),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}let gr=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeeFinancialDataService=o,this._generalService=s,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new ur,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetData()})}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeTaxDataById(this.EmployeeID).subscribe(e=>{this._employeeT.employeeid=this.EmployeeID,this._employeeT.istaxable=e.istaxable,this._employeeT.haspersonalexemption=e.haspersonalexemption,this._employeeT.hasfamilyexemption=e.hasfamilyexemption,this._employeeT.otherexemption=e.otherexemption,this._oldEmployeeT=JSON.stringify(this._employeeT),this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.istaxable&&(this._employeeT.istaxable=!1),null==this._employeeT.haspersonalexemption&&(this._employeeT.haspersonalexemption=!1),null==this._employeeT.hasfamilyexemption&&(this._employeeT.hasfamilyexemption=!1),this._employeeFinancialDataService.UpdateEmployeeTaxData(this._employeeT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully)}))}NotToMissData(e){this._oldEmployeeT!==JSON.stringify(this._employeeT)?k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed?this.onSave(e):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](Ja),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-tax-data-form"]],decls:40,vars:20,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["name","istaxable",3,"ngModel","ngModelChange"],["for","istaxable"],["name","haspersonalexemption",3,"ngModel","ngModelChange"],["for","haspersonalexemption"],["name","hasfamilyexemption",3,"ngModel","ngModelChange"],["for","hasfamilyexemption"],["id","otherexemption",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","otherexemption",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.onSave(n)}),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"p-inputSwitch",5),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.istaxable=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](7," \xa0 "),g["\u0275\u0275elementStart"](8,"label",6),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"div",3),g["\u0275\u0275elementStart"](12,"div",4),g["\u0275\u0275elementStart"](13,"p-inputSwitch",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.haspersonalexemption=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](14," \xa0 "),g["\u0275\u0275elementStart"](15,"label",8),g["\u0275\u0275text"](16),g["\u0275\u0275pipe"](17,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"div",3),g["\u0275\u0275elementStart"](19,"div",4),g["\u0275\u0275elementStart"](20,"p-inputSwitch",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hasfamilyexemption=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](21," \xa0 "),g["\u0275\u0275elementStart"](22,"label",10),g["\u0275\u0275text"](23),g["\u0275\u0275pipe"](24,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"div",2),g["\u0275\u0275elementStart"](26,"div",3),g["\u0275\u0275elementStart"](27,"div",4),g["\u0275\u0275elementStart"](28,"label",11),g["\u0275\u0275text"](29),g["\u0275\u0275pipe"](30,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"input",12),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.otherexemption=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](32,"div",3),g["\u0275\u0275elementStart"](33,"div",3),g["\u0275\u0275elementStart"](34,"div",13),g["\u0275\u0275template"](35,yr,4,4,"button",14),g["\u0275\u0275elementStart"](36,"a",15),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](2);return t.NotToMissData(n)}),g["\u0275\u0275text"](37),g["\u0275\u0275pipe"](38,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](39,"div",2),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngModel",t._employeeT.istaxable),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,10,"istaxable")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeT.haspersonalexemption),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](17,12,"haspersonalexemption")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeT.hasfamilyexemption),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](24,14,"hasfamilyexemption")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](30,16,"otherexemption")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeT.otherexemption),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](38,18,"Cancel")," "))},directives:[r._Y,r.JL,r.F,il.Ql,r.JJ,r.On,r.Fj,ht.L,a.O5],pipes:[m.X$],styles:[""]}),e})();class vr{constructor(){this.code="",this.typeid=null,this.issuedate=null,this.documentnumber="",this.enddate=null,this.description="",this.subsidaryid=null,this.imagepaths=[]}}let Sr=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAll(e,t,n){let a=`/EmployeeFinancialDocuments/GetAll?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeFinancialDocument(e,t){return this.http.get(this.baseUrl+`/EmployeeFinancialDocuments/CountOfEmployeeFinancialDocument?searchValue=${e}&subsidaryid=${t}`).pipe((0,ct.U)(e=>e))}GetMaxCode(e){return this.http.get(this.baseUrl+`/EmployeeFinancialDocuments/GetMaxCode?subsidaryid=${e}`).pipe((0,ct.U)(e=>e))}Delete(e){return this.http.get(this.baseUrl+`/EmployeeFinancialDocuments/Delete?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeFinancialDocument(e){return this.http.post(`${this.baseUrl}/EmployeeFinancialDocuments/Create`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeFinancialDocument(e){return this.http.post(this.baseUrl+"/EmployeeFinancialDocuments/Update",e).pipe((0,ct.U)(e=>e))}UploadFile(e){return this.http.post(this.baseUrl+"/EmployeeFinancialDocuments/UploadFile",e).pipe((0,ct.U)(e=>e))}GetEmployeeFinancialDocumentAttachments(e){return this.http.get(this.baseUrl+`/EmployeeFinancialDocuments/GetEmployeeFinancialDocumentAttachments?employeefinancialdocumentid=${e}`).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function fr(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function br(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Er(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",34),g["\u0275\u0275template"](1,fr,2,1,"div",33),g["\u0275\u0275template"](2,br,2,1,"div",33),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function xr(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementContainerStart"](0,3),g["\u0275\u0275element"](1,"img",35),g["\u0275\u0275elementStart"](2,"button",36),g["\u0275\u0275listener"]("click",function(){const t=g["\u0275\u0275restoreView"](e).$implicit;return g["\u0275\u0275nextContext"]().onDeleteImage(t)}),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275element"](4,"i",37),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("src",e,g["\u0275\u0275sanitizeUrl"]),g["\u0275\u0275advance"](1),g["\u0275\u0275propertyInterpolate"]("title",g["\u0275\u0275pipeBind1"](3,2,"delete"))}}function Cr(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"button",38),g["\u0275\u0275element"](1,"i",39),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"]("",g["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Dr(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",31),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]();return t.DeleteFinancialDocument(t._documentT.id)}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275attribute"]("disabled",1==e.showmood||null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function _r(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",40),g["\u0275\u0275elementStart"](2,"div",41),g["\u0275\u0275elementStart"](3,"div",42),g["\u0275\u0275elementStart"](4,"h6",43),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",44),g["\u0275\u0275elementStart"](8,"div",45),g["\u0275\u0275elementStart"](9,"app-Matix-table",46),g["\u0275\u0275listener"]("OnEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnEdit(t)})("OnAdd",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().OnShow(t)})("OnSearch",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeFinancialDocumentSearch(t)})("OnSort",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().EmployeeFinancialDocumentSort(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,5,"EmployeeFinancialDocument")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("dataList",e.EmployeeFinancialDocumentList)("headerList",e.ListHeader)("totalCount",e.totalCount)("permission",e.Permission)}}let Ir=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this._employeeFinancialDocumentsService=d,this._documentTypesService=c,this._DocumentsCategoryService=m,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this.attachments=[],this._searchModel=new y.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"documenttypename_ar",sortByEn:"documenttypename_en",displayName:"documenttypeid"},{sortByAr:"issuedatestring",sortByEn:"issuedatestring",displayName:"issuedate"},{sortByAr:"enddatestring",sortByEn:"enddatestring",displayName:"documentenddate"}],this.Permission={View:407,Add:408,Edit:409,Delete:410,Print:411,PDF:412,Excel:413},this._documentT=new vr,this.EmployeeFinancialDocumentList=[],this.DocumentTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(e=>{this.Cancel=e.Cancel,this.checkname=e.checkname,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.emptyerror=e.emptyerror,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetDocumentType(),this.GetData()})}GetDocumentType(){this._documentTypesService.GetAllForDropdown().subscribe(e=>{this.DocumentTypeList=e,this.cd.markForCheck()})}ngOnInit(){this.GetList()}GetList(){this._employeeFinancialDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeFinancialDocumentList=e,this.cd.markForCheck()}),this._employeeFinancialDocumentsService.CountOfEmployeeFinancialDocument("",this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetData(e=0){0==e?this._employeeFinancialDocumentsService.GetMaxCode(this.subsidiaryID).subscribe(e=>{this._documentT.code=e.length>0?(parseFloat(e[0].code)+1).toString():"1",this.cd.markForCheck()}):(this._documentT=this.EmployeeFinancialDocumentList.find(t=>t.id==e),this._documentT.imagepaths=[],this._employeeFinancialDocumentsService.GetEmployeeFinancialDocumentAttachments(e).subscribe(e=>{if(e.length>0)for(let t=0;t<e.length;t++)this._documentT.imagepaths.push(e[t].imagepath),this.GetImage(e[t].imagepath);this.cd.markForCheck()}))}EmployeeFinancialDocumentSearch(e){Object.assign(this._searchModel,e),this._employeeFinancialDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeFinancialDocumentList=e,this.cd.markForCheck()}),this._employeeFinancialDocumentsService.CountOfEmployeeFinancialDocument(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}EmployeeFinancialDocumentSort(e){Object.assign(this._searchModel,e),this._employeeFinancialDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(e=>{this.EmployeeFinancialDocumentList=e,this.cd.markForCheck()}),this._employeeFinancialDocumentsService.CountOfEmployeeFinancialDocument(this._searchModel.searchValue,this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total})}OnAdd(){this._documentT=new vr,this.previews=null,this.showmood=!1,this.GetData()}OnEdit(e){this._documentT=new vr,this.previews=null,this.showmood=!1,this.GetData(e)}OnShow(e){this._documentT=new vr,this.previews=null,this.showmood=!0,this.GetData(e)}CancelForm(){this._documentT=new vr,this.previews=null,this.GetData()}DeleteFinancialDocument(e){k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._employeeFinancialDocumentsService.Delete(e).subscribe(e=>{0==e?(this.GetData(),this.toastr.success(this.toastrSuccessDelete),this._documentT=new vr,this.previews=null,this.showmood=!1,this.GetList()):this.toastr.error(this.DeleteRelationmsg)})})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(e){this.attachments.length>0?this.UploadPhoto():this.FinalSave()}UploadPhoto(){for(let e=0;e<this.attachments.length;e++){const t=new FormData;t.append("FileSend",this.attachments[e]),this._employeeFinancialDocumentsService.UploadFile(t).subscribe(e=>{null!=e&&null!=e&&(this._documentT.imagepaths.push(e.filepath),this._documentT.imagepaths.length==this.previews.length&&(this.FinalSave(),this.cd.markForCheck()))})}}FinalSave(){this._documentT.employeeid=this.EmployeeID,this._documentT.subsidaryid=this.subsidiaryID,this._documentT.id>0?this._employeeFinancialDocumentsService.UpdateEmployeeFinancialDocument(this._documentT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()}):this._employeeFinancialDocumentsService.CreateEmployeeFinancialDocument(this._documentT).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.CancelForm(),this.GetList()})}previewImage(e){if(this.selectedFiles=e.target.files,this.selectedFiles&&this.selectedFiles[0]){const e=this.selectedFiles.length;for(let t=0;t<e;t++){const e=new FileReader;e.onload=e=>{this.previews&&this.previews.length>0||(this.previews=[]),this.previews.push(e.target.result)},e.readAsDataURL(this.selectedFiles[t])}}this.cd.markForCheck()}fileChange(e){if(e.length>0&&null!=e[0])if(this.attachments&&this.attachments.length>0)this.attachments.push(e);else{this.attachments=[];for(const t of e)this.attachments.push(t)}this.cd.markForCheck()}onDeleteImage(e){let t=this.previews.find(t=>t==e),n=this.previews.indexOf(t);this.previews.splice(n,1),this.attachments.splice(n,1),this._documentT.imagepaths.splice(n,1),this.cd.markForCheck()}GetImage(e){this._DocumentsCategoryService.GetImage(e).subscribe(e=>{null!=e&&(this.createImageFromBlob(e),this.cd.markForCheck())},e=>{console.log(e)})}createImageFromBlob(e){let t=new FileReader;console.log(t),t.addEventListener("load",()=>{this.previews&&this.previews.length>0||(this.previews=[]),this.previews.push(t.result),this.cd.markForCheck()},!1),e&&t.readAsDataURL(e)}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](Sr),g["\u0275\u0275directiveInject"](Vn.T),g["\u0275\u0275directiveInject"](An.F))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-financial-documents-form"]],decls:75,vars:45,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","typeid",1,"col-form-label"],["name","typeid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","issuedate",1,"col-form-label"],["type","Date","id","issuedate","name","issuedate",1,"form-control",3,"ngModel","ngModelChange"],["id","enddate",1,"col-form-label"],["type","Date","id","enddate","name","enddate",1,"form-control",3,"ngModel","ngModelChange"],["id","documentnumber",1,"col-form-label"],["type","text","name","documentnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","description",1,"col-form-label"],["id","description","name","description",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","30px"],["id","attachment",1,"col-form-label"],["type","button",1,"add-photo",3,"change"],["accept",".jpg, .png, .jpeg, .gif|image/*","id","file","multiple","multiple","name","file","type","file",2,"display","none","border","none",3,"change"],["fileupload",""],["for","file",1,"text-white","m-0"],[1,"fa","fa-camera","camera"],[1,"col-lg-8","col-md-8","col-sm-12","mb-2","mb-md-0"],["class","row",4,"ngFor","ngForOf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["alt","...",1,"preview",2,"height","100px","width","100px",3,"src"],[1,"col-1","delete-img",3,"title","click"],[1,"fa","fa-times","danger"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"form",1,2),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](3);return t.onSave(n)}),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"div",5),g["\u0275\u0275elementStart"](7,"label",6),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"input",7),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](11,"div",4),g["\u0275\u0275element"](12,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",3),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"label",8),g["\u0275\u0275text"](17),g["\u0275\u0275pipe"](18,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"select",9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.typeid=e}),g["\u0275\u0275elementStart"](20,"option",10),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](23,Er,3,3,"option",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"div",4),g["\u0275\u0275elementStart"](25,"div",5),g["\u0275\u0275elementStart"](26,"label",12),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.issuedate=e}),g["\u0275\u0275pipe"](30,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"div",4),g["\u0275\u0275elementStart"](32,"div",5),g["\u0275\u0275elementStart"](33,"label",14),g["\u0275\u0275text"](34),g["\u0275\u0275pipe"](35,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"input",15),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.enddate=e}),g["\u0275\u0275pipe"](37,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"div",3),g["\u0275\u0275elementStart"](39,"div",4),g["\u0275\u0275elementStart"](40,"div",5),g["\u0275\u0275elementStart"](41,"label",16),g["\u0275\u0275text"](42),g["\u0275\u0275pipe"](43,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"input",17),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.documentnumber=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"div",4),g["\u0275\u0275elementStart"](46,"div",5),g["\u0275\u0275elementStart"](47,"label",18),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"textarea",19),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.description=e}),g["\u0275\u0275text"](51,"            "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"div",20),g["\u0275\u0275elementStart"](54,"label",21),g["\u0275\u0275text"](55),g["\u0275\u0275pipe"](56,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](57,"button",22),g["\u0275\u0275listener"]("change",function(e){return t.previewImage(e)}),g["\u0275\u0275elementStart"](58,"input",23,24),g["\u0275\u0275listener"]("change",function(){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](59);return t.fileChange(n.files)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](60,"label",25),g["\u0275\u0275element"](61,"i",26),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](62,"div",3),g["\u0275\u0275elementStart"](63,"div",27),g["\u0275\u0275elementStart"](64,"div",5),g["\u0275\u0275template"](65,xr,5,4,"ng-container",28),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](66,"div",4),g["\u0275\u0275elementStart"](67,"div",29),g["\u0275\u0275template"](68,Cr,4,4,"button",30),g["\u0275\u0275elementStart"](69,"button",31),g["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),g["\u0275\u0275text"](70),g["\u0275\u0275pipe"](71,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](72,Dr,3,4,"button",32),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](73,"div",0),g["\u0275\u0275template"](74,_r,10,7,"section",33),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,21,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._documentT.code),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](18,23,"documenttypeid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._documentT.typeid),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,25,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.DocumentTypeList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](28,27,"issuedate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](30,29,t._documentT.issuedate,"yyyy-MM-dd")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](35,32,"documentenddate"),""),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](37,34,t._documentT.enddate,"yyyy-MM-dd")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](43,37,"documentnumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._documentT.documentnumber),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,39,"description")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._documentT.description),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](56,41,"attachment")),g["\u0275\u0275advance"](10),g["\u0275\u0275property"]("ngForOf",t.previews),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](71,43,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",(t.checkRoleParms(408)||t.checkRoleParms(409))&&t._documentT.id>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(407)))},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.EJ,r.YN,r.Kr,a.sg,a.O5,D.u],pipes:[m.X$,a.uU],styles:[".add-photo[_ngcontent-%COMP%]{border:0 solid #fff;background-color:transparent}.add-photo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}.preview[_ngcontent-%COMP%]{position:relative}.delete-img[_ngcontent-%COMP%]{background-color:#00000085;width:5%;padding:5px;left:100px;top:-30px;border:0}.camera[_ngcontent-%COMP%]{color:#999;font-size:22px}"]}),e})();function wr(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",2),g["\u0275\u0275elementStart"](1,"h1"),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Tr(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",22),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2)._employeeT.employeestatus_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("ngModel",e._employeeT.employeestatus_en)}}function Mr(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",22),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2)._employeeT.employeestatus_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("ngModel",e._employeeT.employeestatus_ar)}}function kr(e,t){1&e&&g["\u0275\u0275element"](0,"app-financial-data-form")}function Br(e,t){1&e&&g["\u0275\u0275element"](0,"app-monthly-allowances")}function Fr(e,t){1&e&&g["\u0275\u0275element"](0,"app-bonuses-form")}function Hr(e,t){1&e&&g["\u0275\u0275element"](0,"app-benefits-form")}function Rr(e,t){1&e&&g["\u0275\u0275element"](0,"app-housing-data-form")}function Or(e,t){1&e&&g["\u0275\u0275element"](0,"app-furniture-data-form")}function Vr(e,t){1&e&&g["\u0275\u0275element"](0,"app-travel-tickets-data-form")}function Ar(e,t){1&e&&g["\u0275\u0275element"](0,"app-payment-method-data-form")}function Nr(e,t){1&e&&g["\u0275\u0275element"](0,"app-health-insurance-data-form")}function Gr(e,t){1&e&&g["\u0275\u0275element"](0,"app-social-security-data-form")}function Pr(e,t){1&e&&g["\u0275\u0275element"](0,"app-end-of-service-gratuity-data-form")}function jr(e,t){1&e&&g["\u0275\u0275element"](0,"app-accounting-number-data-form")}function $r(e,t){1&e&&g["\u0275\u0275element"](0,"app-other-insurance-data-form")}function Ur(e,t){1&e&&g["\u0275\u0275element"](0,"app-tax-data-form")}function Lr(e,t){1&e&&g["\u0275\u0275element"](0,"app-financial-documents-form")}function Jr(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"p-accordion"),g["\u0275\u0275elementStart"](1,"p-accordionTab"),g["\u0275\u0275elementStart"](2,"p-header"),g["\u0275\u0275text"](3),g["\u0275\u0275pipe"](4,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"p-accordion"),g["\u0275\u0275elementStart"](6,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).FinancialDataClick()}),g["\u0275\u0275elementStart"](7,"p-header"),g["\u0275\u0275text"](8),g["\u0275\u0275pipe"](9,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](10,kr,1,0,"app-financial-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).MonthlyAllowancesClick()}),g["\u0275\u0275elementStart"](12,"p-header"),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](15,Br,1,0,"app-monthly-allowances",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).BonusesClick()}),g["\u0275\u0275elementStart"](17,"p-header"),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](20,Fr,1,0,"app-bonuses-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).OtherBenefitsClick()}),g["\u0275\u0275elementStart"](22,"p-header"),g["\u0275\u0275text"](23),g["\u0275\u0275pipe"](24,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](25,Hr,1,0,"app-benefits-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).HousingClick()}),g["\u0275\u0275elementStart"](27,"p-header"),g["\u0275\u0275text"](28),g["\u0275\u0275pipe"](29,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](30,Rr,1,0,"app-housing-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).FurnitureClick()}),g["\u0275\u0275elementStart"](32,"p-header"),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](35,Or,1,0,"app-furniture-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).TravelTicketsClick()}),g["\u0275\u0275elementStart"](37,"p-header"),g["\u0275\u0275text"](38),g["\u0275\u0275pipe"](39,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](40,Vr,1,0,"app-travel-tickets-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"p-accordionTab"),g["\u0275\u0275elementStart"](42,"p-header"),g["\u0275\u0275text"](43),g["\u0275\u0275pipe"](44,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"p-accordion"),g["\u0275\u0275elementStart"](46,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).PaymentMethodClick()}),g["\u0275\u0275elementStart"](47,"p-header"),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](50,Ar,1,0,"app-payment-method-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"p-accordionTab"),g["\u0275\u0275elementStart"](52,"p-header"),g["\u0275\u0275text"](53),g["\u0275\u0275pipe"](54,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](55,"p-accordion"),g["\u0275\u0275elementStart"](56,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).HealthInsuranceClick()}),g["\u0275\u0275elementStart"](57,"p-header"),g["\u0275\u0275text"](58),g["\u0275\u0275pipe"](59,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](60,Nr,1,0,"app-health-insurance-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](61,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).SocialSecurityClick()}),g["\u0275\u0275elementStart"](62,"p-header"),g["\u0275\u0275text"](63),g["\u0275\u0275pipe"](64,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](65,Gr,1,0,"app-social-security-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](66,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).EndOfServiceGratuityClick()}),g["\u0275\u0275elementStart"](67,"p-header"),g["\u0275\u0275text"](68),g["\u0275\u0275pipe"](69,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](70,Pr,1,0,"app-end-of-service-gratuity-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](71,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).AccountingNumberClick()}),g["\u0275\u0275elementStart"](72,"p-header"),g["\u0275\u0275text"](73),g["\u0275\u0275pipe"](74,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](75,jr,1,0,"app-accounting-number-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](76,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).OtherClick()}),g["\u0275\u0275elementStart"](77,"p-header"),g["\u0275\u0275text"](78),g["\u0275\u0275pipe"](79,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](80,$r,1,0,"app-other-insurance-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](81,"p-accordionTab"),g["\u0275\u0275elementStart"](82,"p-header"),g["\u0275\u0275text"](83),g["\u0275\u0275pipe"](84,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](85,"p-accordion"),g["\u0275\u0275elementStart"](86,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).TaxDataClick()}),g["\u0275\u0275elementStart"](87,"p-header"),g["\u0275\u0275text"](88),g["\u0275\u0275pipe"](89,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](90,Ur,1,0,"app-tax-data-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](91,"p-accordionTab"),g["\u0275\u0275elementStart"](92,"p-header"),g["\u0275\u0275text"](93),g["\u0275\u0275pipe"](94,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](95,"p-accordion"),g["\u0275\u0275elementStart"](96,"p-accordionTab",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).DocumentsClick()}),g["\u0275\u0275elementStart"](97,"p-header"),g["\u0275\u0275text"](98),g["\u0275\u0275pipe"](99,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](100,Lr,1,0,"app-financial-documents-form",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](4,35,"FinancialPackage")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](9,37,"FinancialData")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isFinancialDataClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](14,39,"MonthlyAllowances")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isMonthlyAllowancesClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,41,"Bonuses")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isBonusesClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](24,43,"OtherBenefits")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isOtherBenefitsClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](29,45,"Housing")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isHousingClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](34,47,"Furniture")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isFurnitureClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](39,49,"TravelTickets")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isTravelTicketsClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](44,51,"Payment")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,53,"PaymentMethod")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isPaymentMethodClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](54,55,"Insurance")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](59,57,"HealthInsurance")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isHealthInsuranceClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](64,59,"SocialSecurity")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isSocialSecurityClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](69,61,"EndOfServiceGratuity")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isEndOfServiceGratuityClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](74,63,"AccountingNumber")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isAccountingNumberClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](79,65,"Other")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isOtherClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](84,67,"TaxAndDiscounts")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](89,69,"TaxData")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isTaxDataClicked),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](94,71,"FinancialDocuments")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](99,73,"Documents")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.isDocumentsClicked)}}function zr(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",3),g["\u0275\u0275elementStart"](2,"div",4),g["\u0275\u0275elementStart"](3,"div",5),g["\u0275\u0275elementStart"](4,"h6",6),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",7),g["\u0275\u0275elementStart"](8,"form",8,9),g["\u0275\u0275listener"]("ngSubmit",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275reference"](9);return g["\u0275\u0275nextContext"]().onSave(t)}),g["\u0275\u0275elementStart"](10,"div",2),g["\u0275\u0275elementStart"](11,"div",10),g["\u0275\u0275elementStart"](12,"div",11),g["\u0275\u0275elementStart"](13,"label",12),g["\u0275\u0275text"](14),g["\u0275\u0275pipe"](15,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](16,"input",13),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.code=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"div",10),g["\u0275\u0275elementStart"](18,"div",11),g["\u0275\u0275elementStart"](19,"label",14),g["\u0275\u0275text"](20),g["\u0275\u0275pipe"](21,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](22,"input",15),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.fullname_ar=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"div",10),g["\u0275\u0275elementStart"](24,"div",11),g["\u0275\u0275elementStart"](25,"label",16),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"input",17),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeT.fullname_en=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"div",2),g["\u0275\u0275elementStart"](30,"div",10),g["\u0275\u0275elementStart"](31,"div",11),g["\u0275\u0275elementStart"](32,"label",18),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](35,Tr,1,1,"input",19),g["\u0275\u0275template"](36,Mr,1,1,"input",19),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](37,"div",10),g["\u0275\u0275elementStart"](38,"div",10),g["\u0275\u0275elementStart"](39,"div",20),g["\u0275\u0275elementStart"](40,"a",21),g["\u0275\u0275text"](41),g["\u0275\u0275pipe"](42,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](43,Jr,101,75,"p-accordion",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,12,"addemployee")," "),g["\u0275\u0275advance"](9),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](15,14,"Code")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](21,16,"NameAR")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.fullname_ar),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](27,18,"NameEN")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e._employeeT.fullname_en),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](34,20,"workingstatus")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"!=e.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==e.lang),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](42,22,"Cancel")," "),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.EmployeeID>0)}}let Yr=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._employeesService=o,this._generalService=s,this.EmployeeID=0,this.subsidiaryID=0,this.showmood=!1,this.checkname="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Cancel="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.isFinancialDataClicked=!1,this.isMonthlyAllowancesClicked=!1,this.isBonusesClicked=!1,this.isOtherBenefitsClicked=!1,this.isHousingClicked=!1,this.isFurnitureClicked=!1,this.isTravelTicketsClicked=!1,this.isPaymentMethodClicked=!1,this.isHealthInsuranceClicked=!1,this.isSocialSecurityClicked=!1,this.isEndOfServiceGratuityClicked=!1,this.isAccountingNumberClicked=!1,this.isOtherClicked=!1,this.isTaxDataClicked=!1,this.isDocumentsClicked=!1,this._employeeT=new T,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Cancel","DeleteRelationmsg","successMsg","checkname","addemployee"]).subscribe(e=>{this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.Cancel=e.Cancel,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.checkname=e.checkname,this.title=e.addemployee,document.title=this.title})}),this.route.params.subscribe(e=>{this.EmployeeID=e.id,this.showmood=null!=e.show&&"show"==e.show&&this.EmployeeID>0,this.GetData()})}ngOnInit(){}GetData(){0==this.EmployeeID||this._employeesService.GetEmployeeMainDataById(this.EmployeeID).subscribe(e=>{this._employeeT.id=this.EmployeeID,this._employeeT.code=e.code,this._employeeT.fullname_ar=e.fullname_ar,this._employeeT.fullname_en=e.fullname_en,this._employeeT.employeestatus_en=e.employeestatus_en,this._employeeT.employeestatus_ar=e.employeestatus_ar,this.cd.markForCheck()})}FinancialDataClick(){this.isFinancialDataClicked||(this.isFinancialDataClicked=!0)}MonthlyAllowancesClick(){this.isMonthlyAllowancesClicked||(this.isMonthlyAllowancesClicked=!0)}BonusesClick(){this.isBonusesClicked||(this.isBonusesClicked=!0)}OtherBenefitsClick(){this.isOtherBenefitsClicked||(this.isOtherBenefitsClicked=!0)}HousingClick(){this.isHousingClicked||(this.isHousingClicked=!0)}FurnitureClick(){this.isFurnitureClicked||(this.isFurnitureClicked=!0)}TravelTicketsClick(){this.isTravelTicketsClicked||(this.isTravelTicketsClicked=!0)}PaymentMethodClick(){this.isPaymentMethodClicked||(this.isPaymentMethodClicked=!0)}HealthInsuranceClick(){this.isHealthInsuranceClicked||(this.isHealthInsuranceClicked=!0)}SocialSecurityClick(){this.isSocialSecurityClicked||(this.isSocialSecurityClicked=!0)}EndOfServiceGratuityClick(){this.isEndOfServiceGratuityClicked||(this.isEndOfServiceGratuityClicked=!0)}AccountingNumberClick(){this.isAccountingNumberClicked||(this.isAccountingNumberClicked=!0)}OtherClick(){this.isOtherClicked||(this.isOtherClicked=!0)}TaxDataClick(){this.isTaxDataClicked||(this.isTaxDataClicked=!0)}DocumentsClick(){this.isDocumentsClicked||(this.isDocumentsClicked=!0)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}onSave(e){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](v.m))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-financial-add-employee"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","NameAR",1,"col-form-label"],["type","text","readonly","","name","fullNameAR",1,"form-control",3,"ngModel","ngModelChange"],["id","NameEN",1,"col-form-label"],["type","text","readonly","","name","fullNameEN",1,"form-control",3,"ngModel","ngModelChange"],["id","workingstatus",1,"col-form-label"],["type","text","disabled","","name","workingstatus","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-12",2,"margin-top","20px"],["routerLink","/page/hr/manageemployee/employeefinancials",1,"btn","btn-danger","mr-1"],["type","text","disabled","","name","workingstatus",1,"form-control",3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,t){1&e&&(g["\u0275\u0275template"](0,wr,4,3,"div",0),g["\u0275\u0275template"](1,zr,44,24,"section",1)),2&e&&(g["\u0275\u0275property"]("ngIf",!t.checkRoleParms(407)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(407)))},directives:[a.O5,r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,c.yS,h.UQ,h.US,H.h4,ri,Vi,zi,nl,hl,fl,Il,zl,Ql,Xl,lr,sr,hr,gr,Ir],pipes:[m.X$],styles:[""]}),e})();var qr=n(64762);class Qr{constructor(){this.id=0,this.code="",this.startdate=null,this.branchid=null,this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0}}const Kr=["VacationRForm"];function Wr(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Xr(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function Zr(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function eo(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function to(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function no(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",27),g["\u0275\u0275template"](1,eo,2,1,"div",28),g["\u0275\u0275template"](2,to,2,1,"div",28),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ao(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function io(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function lo(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeBranchHistory.editor_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeBranchHistory.editor_ar)}}function ro(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeBranchHistory.editor_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeBranchHistory.editor_en)}}const oo=function(e,t){return{"invalid-data":e,"valid-data":t}};let so=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._changeEmployeeDataService=d,this._branchService=c,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeBranchHistory=new Qr,this._oldEmployeeBranchHistory="",this.branchList=[],this.parentGetData=new g.EventEmitter,this.dataToParent=new g.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeBranchHistoryDate=null,this.EmployeeBranchHistoryBranchID=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.BranchIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;const m=this._authService.userInfo();this.currentUser=m,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}ngOnInit(){this._employeeBranchHistory.employeeid=this.employeeid,this._employeeBranchHistory.id=this.employeeBranchHistoryID,this.GetEmployeeDataForValidation(),this.GetBranchs()}GetEmployeeDataForValidation(){this._changeEmployeeDataService.GetEmployeeBranchHistoryDataForValidation(this.employeeid).subscribe(e=>{null!=e.data&&null!=e.data.workstartdate&&(this.EmployeeWorkStartDate=e.data.workstartdate,this.EmployeeDateOfHiring=e.data.dateofhiring,this.EmployeeBranchHistoryDate=e.data.branchhistorydate,this.EmployeeBranchHistoryBranchID=e.data.branchhistorybranchid),this.GetData()})}GetBranchs(){this._branchService.GetAllForDropdown().subscribe(e=>{this.branchList=e,this.cd.markForCheck()})}GetData(){this._employeeBranchHistory=new Qr,0==this.employeeBranchHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeBranchHistory(this.subsidiaryID,this.employeeid).subscribe(e=>{e.data[0].code>0?this._employeeBranchHistory.code=(parseFloat(e.data[0].code)+1).toString():(this._employeeBranchHistory.code="1",this._employeeBranchHistory.startdate=null==this.EmployeeDateOfHiring?this.EmployeeWorkStartDate:this.EmployeeDateOfHiring,this.isFirstRecored=!0),this._employeeBranchHistory.editor_en=this.currentUser.name,this._employeeBranchHistory.editor_ar=this.currentUser.name_ar,this._employeeBranchHistory.editingdate=new Date,this._oldEmployeeBranchHistory=JSON.stringify(this._employeeBranchHistory),this.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeBranchHistoryById(this.employeeBranchHistoryID).subscribe(e=>{this._employeeBranchHistory.id=e.data[0].id,this._employeeBranchHistory.code=e.data[0].code,this._employeeBranchHistory.employeeid=e.data[0].employeeid,this._employeeBranchHistory.startdate=e.data[0].startdate,this._employeeBranchHistory.branchid=e.data[0].branchid,this._employeeBranchHistory.notes=e.data[0].notes,this._employeeBranchHistory.subsidaryid=e.data[0].subsidaryid,this._employeeBranchHistory.editor_en=e.data[0].editor_en,this._employeeBranchHistory.editor_ar=e.data[0].editor_ar,this._employeeBranchHistory.editingdate=e.data[0].editingdate,this._employeeBranchHistory.islastrecored=e.data[0].islastrecored,this.dataToParent.emit(this._employeeBranchHistory.islastrecored),this._oldEmployeeBranchHistory=JSON.stringify(this._employeeBranchHistory),this.cd.markForCheck()})}getDateDifferences(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));let n=t.getFullYear()-e.getFullYear();const a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;let i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;let l=t.getDate()-e.getDate();l<0&&(l+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+l+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+l+" Day"}CalculateTotalServicePeriodTransactionDate(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeBranchHistory.startdate))}onStartingFromDateChange(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeBranchHistory.startdate<this.EmployeeDateOfHiring||this._employeeBranchHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeBranchHistory.startdate<=this.EmployeeBranchHistoryDate)}onTheNewBranchChange(){this.BranchIDOtherRecoredVaild=0!=this.isFirstRecored||this._employeeBranchHistory.branchid!=this.EmployeeBranchHistoryBranchID}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(){this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.BranchIDOtherRecoredVaild&&(this._employeeBranchHistory.employeeid=this.employeeid,this._employeeBranchHistory.subsidaryid=this.subsidiaryID,this._employeeBranchHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeBranchHistory(this._employeeBranchHistory).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeBranchHistory(this._employeeBranchHistory).subscribe(e=>{this._employeeBranchHistory.id=e.data[0].id,this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}),this.manuallySubmitted=!1)}NotToMissData(e){return(0,qr.mG)(this,void 0,void 0,function*(){if(this._oldEmployeeBranchHistory!==JSON.stringify(this._employeeBranchHistory)){const e=yield k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});return!e.isConfirmed||1!=e.isConfirmed}return!0})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](re.b))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-branch-form"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](Kr,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid",employeeBranchHistoryID:"employeeBranchHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:65,vars:58,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","TheNewBranch",1,"col-form-label"],["name","TheNewBranch",1,"form-control",3,"disabled","ngModel","required","ngClass","ngModelChange","change"],["TheNewBranchID","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],[4,"ngIf"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"input",6),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeBranchHistory.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",3),g["\u0275\u0275elementStart"](11,"div",4),g["\u0275\u0275elementStart"](12,"label",7),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementStart"](15,"span",8),g["\u0275\u0275text"](16,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"input",9,10),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeBranchHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),g["\u0275\u0275pipe"](19,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](20,Wr,3,3,"span",11),g["\u0275\u0275template"](21,Xr,3,3,"span",11),g["\u0275\u0275template"](22,Zr,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"div",3),g["\u0275\u0275elementStart"](24,"div",4),g["\u0275\u0275elementStart"](25,"label",12),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"translate"),g["\u0275\u0275elementStart"](28,"span",8),g["\u0275\u0275text"](29,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"select",13,14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeBranchHistory.branchid=e})("change",function(){return t.onTheNewBranchChange()}),g["\u0275\u0275elementStart"](32,"option",15),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](35,no,3,3,"option",16),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](36,ao,3,3,"span",11),g["\u0275\u0275template"](37,io,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"div",3),g["\u0275\u0275elementStart"](39,"div",4),g["\u0275\u0275elementStart"](40,"label",17),g["\u0275\u0275text"](41),g["\u0275\u0275pipe"](42,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](43,"input",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"div",2),g["\u0275\u0275elementStart"](45,"div",19),g["\u0275\u0275elementStart"](46,"div",4),g["\u0275\u0275elementStart"](47,"label",20),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"input",21),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeBranchHistory.notes=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"div",3),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"label",22),g["\u0275\u0275text"](54),g["\u0275\u0275pipe"](55,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](56,lo,1,1,"input",23),g["\u0275\u0275template"](57,ro,1,1,"input",23),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](58,"div",3),g["\u0275\u0275elementStart"](59,"div",4),g["\u0275\u0275elementStart"](60,"label",24),g["\u0275\u0275text"](61),g["\u0275\u0275pipe"](62,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](63,"input",25),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeBranchHistory.editingdate=e}),g["\u0275\u0275pipe"](64,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275reference"](18),n=g["\u0275\u0275reference"](31);g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](8,30,"Serial")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeBranchHistory.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](14,32,"StartingFromDate")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeBranchHistory.islastrecored)("required",!0)("ngModel",g["\u0275\u0275pipeBind2"](19,34,t._employeeBranchHistory.startdate,"yyyy-MM-dd"))("ngClass",g["\u0275\u0275pureFunction2"](52,oo,e.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,e.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](27,37,"TheNewBranch")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeBranchHistory.islastrecored)("ngModel",t._employeeBranchHistory.branchid)("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](55,oo,n.invalid&&t.manuallySubmitted||!t.BranchIDOtherRecoredVaild,n.valid&&t.manuallySubmitted&&t.BranchIDOtherRecoredVaild)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](34,39,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.branchList),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.BranchIDOtherRecoredVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](42,41,"TotalServicePeriodTransactionDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,43,"Notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeBranchHistory.notes)("disabled",!t._employeeBranchHistory.islastrecored),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](55,45,"Editor")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](62,47,"EditingDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](64,49,t._employeeBranchHistory.editingdate,"dd/MM/yyyy"))}},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.Q7,a.mk,a.O5,r.EJ,r.YN,r.Kr,a.sg],pipes:[m.X$,a.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();class co{constructor(){this.id=0,this.code="",this.startdate=null,this.sectionid=null,this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0}}const mo=["VacationRForm"];function po(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function ho(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function uo(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function yo(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function go(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function vo(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",27),g["\u0275\u0275template"](1,yo,2,1,"div",28),g["\u0275\u0275template"](2,go,2,1,"div",28),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function So(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function fo(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function bo(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeSectionHistory.editor_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeSectionHistory.editor_ar)}}function Eo(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeSectionHistory.editor_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeSectionHistory.editor_en)}}const xo=function(e,t){return{"invalid-data":e,"valid-data":t}};let Co=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._changeEmployeeDataService=d,this._sectionsService=c,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeSectionHistory=new co,this._oldEmployeeSectionHistory="",this.sectionList=[],this.parentGetData=new g.EventEmitter,this.dataToParent=new g.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeSectionHistoryDate=null,this.EmployeeSectionHistorySectionID=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.SectionIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;const m=this._authService.userInfo();this.currentUser=m,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}ngOnInit(){this._employeeSectionHistory.employeeid=this.employeeid,this._employeeSectionHistory.id=this.employeeSectionHistoryID,this.GetEmployeeDataForValidation(),this.GetSections()}GetEmployeeDataForValidation(){this._changeEmployeeDataService.GetEmployeeSectionHistoryDataForValidation(this.employeeid).subscribe(e=>{null!=e.data&&null!=e.data.workstartdate&&(this.EmployeeWorkStartDate=e.data.workstartdate,this.EmployeeDateOfHiring=e.data.dateofhiring,this.EmployeeSectionHistoryDate=e.data.sectionhistorydate,this.EmployeeSectionHistorySectionID=e.data.sectionhistorysectionid),this.GetData()})}GetSections(){this._sectionsService.GetAllForDropdown().subscribe(e=>{this.sectionList=e,this.cd.markForCheck()})}GetData(){this._employeeSectionHistory=new co,0==this.employeeSectionHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeSectionHistory(this.subsidiaryID,this.employeeid).subscribe(e=>{e.data[0].code>0?this._employeeSectionHistory.code=(parseFloat(e.data[0].code)+1).toString():(this._employeeSectionHistory.code="1",this._employeeSectionHistory.startdate=null==this.EmployeeDateOfHiring?this.EmployeeWorkStartDate:this.EmployeeDateOfHiring,this.isFirstRecored=!0),this._employeeSectionHistory.editor_en=this.currentUser.name,this._employeeSectionHistory.editor_ar=this.currentUser.name_ar,this._employeeSectionHistory.editingdate=new Date,this._oldEmployeeSectionHistory=JSON.stringify(this._employeeSectionHistory),this.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeSectionHistoryById(this.employeeSectionHistoryID).subscribe(e=>{this._employeeSectionHistory.id=e.data[0].id,this._employeeSectionHistory.code=e.data[0].code,this._employeeSectionHistory.employeeid=e.data[0].employeeid,this._employeeSectionHistory.startdate=e.data[0].startdate,this._employeeSectionHistory.sectionid=e.data[0].sectionid,this._employeeSectionHistory.notes=e.data[0].notes,this._employeeSectionHistory.subsidaryid=e.data[0].subsidaryid,this._employeeSectionHistory.editor_en=e.data[0].editor_en,this._employeeSectionHistory.editor_ar=e.data[0].editor_ar,this._employeeSectionHistory.editingdate=e.data[0].editingdate,this._employeeSectionHistory.islastrecored=e.data[0].islastrecored,this.dataToParent.emit(this._employeeSectionHistory.islastrecored),this._oldEmployeeSectionHistory=JSON.stringify(this._employeeSectionHistory),this.cd.markForCheck()})}getDateDifferences(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));let n=t.getFullYear()-e.getFullYear();const a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;let i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;let l=t.getDate()-e.getDate();l<0&&(l+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+l+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+l+" Day"}CalculateTotalServicePeriodTransactionDate(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeSectionHistory.startdate))}onStartingFromDateChange(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeSectionHistory.startdate<this.EmployeeDateOfHiring||this._employeeSectionHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeSectionHistory.startdate<=this.EmployeeSectionHistoryDate)}onTheNewSectionChange(){this.SectionIDOtherRecoredVaild=0!=this.isFirstRecored||this._employeeSectionHistory.sectionid!=this.EmployeeSectionHistorySectionID}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(){this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.SectionIDOtherRecoredVaild&&(this._employeeSectionHistory.employeeid=this.employeeid,this._employeeSectionHistory.subsidaryid=this.subsidiaryID,this._employeeSectionHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeSectionHistory(this._employeeSectionHistory).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeSectionHistory(this._employeeSectionHistory).subscribe(e=>{this._employeeSectionHistory.id=e.data[0].id,this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}),this.manuallySubmitted=!1)}NotToMissData(e){return(0,qr.mG)(this,void 0,void 0,function*(){if(this._oldEmployeeSectionHistory!==JSON.stringify(this._employeeSectionHistory)){const e=yield k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});return!e.isConfirmed||1!=e.isConfirmed}return!0})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](ae.J))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-section-form"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](mo,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid",employeeSectionHistoryID:"employeeSectionHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:65,vars:58,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","TheNewSection",1,"col-form-label"],["name","TheNewSection",1,"form-control",3,"disabled","ngModel","required","ngClass","ngModelChange","change"],["TheNewSectionID","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],[4,"ngIf"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"input",6),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSectionHistory.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",3),g["\u0275\u0275elementStart"](11,"div",4),g["\u0275\u0275elementStart"](12,"label",7),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementStart"](15,"span",8),g["\u0275\u0275text"](16,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"input",9,10),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSectionHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),g["\u0275\u0275pipe"](19,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](20,po,3,3,"span",11),g["\u0275\u0275template"](21,ho,3,3,"span",11),g["\u0275\u0275template"](22,uo,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"div",3),g["\u0275\u0275elementStart"](24,"div",4),g["\u0275\u0275elementStart"](25,"label",12),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"translate"),g["\u0275\u0275elementStart"](28,"span",8),g["\u0275\u0275text"](29,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"select",13,14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSectionHistory.sectionid=e})("change",function(){return t.onTheNewSectionChange()}),g["\u0275\u0275elementStart"](32,"option",15),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](35,vo,3,3,"option",16),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](36,So,3,3,"span",11),g["\u0275\u0275template"](37,fo,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"div",3),g["\u0275\u0275elementStart"](39,"div",4),g["\u0275\u0275elementStart"](40,"label",17),g["\u0275\u0275text"](41),g["\u0275\u0275pipe"](42,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](43,"input",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"div",2),g["\u0275\u0275elementStart"](45,"div",19),g["\u0275\u0275elementStart"](46,"div",4),g["\u0275\u0275elementStart"](47,"label",20),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"input",21),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSectionHistory.notes=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"div",3),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"label",22),g["\u0275\u0275text"](54),g["\u0275\u0275pipe"](55,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](56,bo,1,1,"input",23),g["\u0275\u0275template"](57,Eo,1,1,"input",23),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](58,"div",3),g["\u0275\u0275elementStart"](59,"div",4),g["\u0275\u0275elementStart"](60,"label",24),g["\u0275\u0275text"](61),g["\u0275\u0275pipe"](62,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](63,"input",25),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSectionHistory.editingdate=e}),g["\u0275\u0275pipe"](64,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275reference"](18),n=g["\u0275\u0275reference"](31);g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](8,30,"Serial")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeSectionHistory.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](14,32,"StartingFromDate")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeSectionHistory.islastrecored)("required",!0)("ngModel",g["\u0275\u0275pipeBind2"](19,34,t._employeeSectionHistory.startdate,"yyyy-MM-dd"))("ngClass",g["\u0275\u0275pureFunction2"](52,xo,e.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,e.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](27,37,"TheNewSection")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeSectionHistory.islastrecored)("ngModel",t._employeeSectionHistory.sectionid)("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](55,xo,n.invalid&&t.manuallySubmitted||!t.SectionIDOtherRecoredVaild,n.valid&&t.manuallySubmitted&&t.SectionIDOtherRecoredVaild)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](34,39,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.sectionList),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.SectionIDOtherRecoredVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](42,41,"TotalServicePeriodTransactionDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,43,"Notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeSectionHistory.notes)("disabled",!t._employeeSectionHistory.islastrecored),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](55,45,"Editor")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](62,47,"EditingDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](64,49,t._employeeSectionHistory.editingdate,"dd/MM/yyyy"))}},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.Q7,a.mk,a.O5,r.EJ,r.YN,r.Kr,a.sg],pipes:[m.X$,a.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();class Do{constructor(){this.id=0,this.code="",this.startdate=null,this.departmentid=null,this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0}}const _o=["VacationRForm"];function Io(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function wo(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function To(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function Mo(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function ko(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Bo(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",27),g["\u0275\u0275template"](1,Mo,2,1,"div",28),g["\u0275\u0275template"](2,ko,2,1,"div",28),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Fo(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Ho(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",26),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function Ro(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeDepartmentHistory.editor_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeDepartmentHistory.editor_ar)}}function Oo(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeDepartmentHistory.editor_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeDepartmentHistory.editor_en)}}const Vo=function(e,t){return{"invalid-data":e,"valid-data":t}};let Ao=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._changeEmployeeDataService=d,this._departmentService=c,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeDepartmentHistory=new Do,this._oldEmployeeDepartmentHistory="",this.departmentList=[],this.parentGetData=new g.EventEmitter,this.dataToParent=new g.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeDepartmentHistoryDate=null,this.EmployeeDepartmentHistoryDepartmentID=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.DepartmentIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;const m=this._authService.userInfo();this.currentUser=m,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}ngOnInit(){this._employeeDepartmentHistory.employeeid=this.employeeid,this._employeeDepartmentHistory.id=this.employeeDepartmentHistoryID,this.GetEmployeeDataForValidation(),this.GetDepartments()}GetEmployeeDataForValidation(){this._changeEmployeeDataService.GetEmployeeDepartmentHistoryDataForValidation(this.employeeid).subscribe(e=>{null!=e.data&&null!=e.data.workstartdate&&(this.EmployeeWorkStartDate=e.data.workstartdate,this.EmployeeDateOfHiring=e.data.dateofhiring,this.EmployeeDepartmentHistoryDate=e.data.departmenthistorydate,this.EmployeeDepartmentHistoryDepartmentID=e.data.departmenthistorydepartmentid),this.GetData()})}GetDepartments(){this._departmentService.GetAllForDropdown().subscribe(e=>{this.departmentList=e,this.cd.markForCheck()})}GetData(){this._employeeDepartmentHistory=new Do,0==this.employeeDepartmentHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeDepartmentHistory(this.subsidiaryID,this.employeeid).subscribe(e=>{e.data[0].code>0?this._employeeDepartmentHistory.code=(parseFloat(e.data[0].code)+1).toString():(this._employeeDepartmentHistory.code="1",this._employeeDepartmentHistory.startdate=null==this.EmployeeDateOfHiring?this.EmployeeWorkStartDate:this.EmployeeDateOfHiring,this.isFirstRecored=!0),this._employeeDepartmentHistory.editor_en=this.currentUser.name,this._employeeDepartmentHistory.editor_ar=this.currentUser.name_ar,this._employeeDepartmentHistory.editingdate=new Date,this._oldEmployeeDepartmentHistory=JSON.stringify(this._employeeDepartmentHistory),this.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeDepartmentHistoryById(this.employeeDepartmentHistoryID).subscribe(e=>{this._employeeDepartmentHistory.id=e.data[0].id,this._employeeDepartmentHistory.code=e.data[0].code,this._employeeDepartmentHistory.employeeid=e.data[0].employeeid,this._employeeDepartmentHistory.startdate=e.data[0].startdate,this._employeeDepartmentHistory.departmentid=e.data[0].departmentid,this._employeeDepartmentHistory.notes=e.data[0].notes,this._employeeDepartmentHistory.subsidaryid=e.data[0].subsidaryid,this._employeeDepartmentHistory.editor_en=e.data[0].editor_en,this._employeeDepartmentHistory.editor_ar=e.data[0].editor_ar,this._employeeDepartmentHistory.editingdate=e.data[0].editingdate,this._employeeDepartmentHistory.islastrecored=e.data[0].islastrecored,this.dataToParent.emit(this._employeeDepartmentHistory.islastrecored),this._oldEmployeeDepartmentHistory=JSON.stringify(this._employeeDepartmentHistory),this.cd.markForCheck()})}getDateDifferences(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));let n=t.getFullYear()-e.getFullYear();const a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;let i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;let l=t.getDate()-e.getDate();l<0&&(l+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+l+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+l+" Day"}CalculateTotalServicePeriodTransactionDate(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeDepartmentHistory.startdate))}onStartingFromDateChange(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeDepartmentHistory.startdate<this.EmployeeDateOfHiring||this._employeeDepartmentHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeDepartmentHistory.startdate<=this.EmployeeDepartmentHistoryDate)}onTheNewDepartmentChange(){this.DepartmentIDOtherRecoredVaild=0!=this.isFirstRecored||this._employeeDepartmentHistory.departmentid!=this.EmployeeDepartmentHistoryDepartmentID}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(){this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.DepartmentIDOtherRecoredVaild&&(this._employeeDepartmentHistory.employeeid=this.employeeid,this._employeeDepartmentHistory.subsidaryid=this.subsidiaryID,this._employeeDepartmentHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeDepartmentHistory(this._employeeDepartmentHistory).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeDepartmentHistory(this._employeeDepartmentHistory).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this._employeeDepartmentHistory.id=e.data[0].id,this.parentGetData.emit()}),this.manuallySubmitted=!1)}NotToMissData(e){return(0,qr.mG)(this,void 0,void 0,function*(){if(this._oldEmployeeDepartmentHistory!==JSON.stringify(this._employeeDepartmentHistory)){const e=yield k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});return!e.isConfirmed||1!=e.isConfirmed}return!0})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](oe.n))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-department-form"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](_o,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid",employeeDepartmentHistoryID:"employeeDepartmentHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:65,vars:58,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","TheNewDepartment",1,"col-form-label"],["name","TheNewDepartment",1,"form-control",3,"disabled","ngModel","required","ngClass","ngModelChange","change"],["TheNewDepartmentID","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],[4,"ngIf"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"input",6),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeDepartmentHistory.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",3),g["\u0275\u0275elementStart"](11,"div",4),g["\u0275\u0275elementStart"](12,"label",7),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementStart"](15,"span",8),g["\u0275\u0275text"](16,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"input",9,10),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeDepartmentHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),g["\u0275\u0275pipe"](19,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](20,Io,3,3,"span",11),g["\u0275\u0275template"](21,wo,3,3,"span",11),g["\u0275\u0275template"](22,To,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"div",3),g["\u0275\u0275elementStart"](24,"div",4),g["\u0275\u0275elementStart"](25,"label",12),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"translate"),g["\u0275\u0275elementStart"](28,"span",8),g["\u0275\u0275text"](29,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"select",13,14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeDepartmentHistory.departmentid=e})("change",function(){return t.onTheNewDepartmentChange()}),g["\u0275\u0275elementStart"](32,"option",15),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](35,Bo,3,3,"option",16),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](36,Fo,3,3,"span",11),g["\u0275\u0275template"](37,Ho,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"div",3),g["\u0275\u0275elementStart"](39,"div",4),g["\u0275\u0275elementStart"](40,"label",17),g["\u0275\u0275text"](41),g["\u0275\u0275pipe"](42,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](43,"input",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"div",2),g["\u0275\u0275elementStart"](45,"div",19),g["\u0275\u0275elementStart"](46,"div",4),g["\u0275\u0275elementStart"](47,"label",20),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"input",21),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeDepartmentHistory.notes=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"div",3),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"label",22),g["\u0275\u0275text"](54),g["\u0275\u0275pipe"](55,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](56,Ro,1,1,"input",23),g["\u0275\u0275template"](57,Oo,1,1,"input",23),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](58,"div",3),g["\u0275\u0275elementStart"](59,"div",4),g["\u0275\u0275elementStart"](60,"label",24),g["\u0275\u0275text"](61),g["\u0275\u0275pipe"](62,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](63,"input",25),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeDepartmentHistory.editingdate=e}),g["\u0275\u0275pipe"](64,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275reference"](18),n=g["\u0275\u0275reference"](31);g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](8,30,"Serial")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeDepartmentHistory.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](14,32,"StartingFromDate")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeDepartmentHistory.islastrecored)("required",!0)("ngModel",g["\u0275\u0275pipeBind2"](19,34,t._employeeDepartmentHistory.startdate,"yyyy-MM-dd"))("ngClass",g["\u0275\u0275pureFunction2"](52,Vo,e.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,e.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](27,37,"TheNewDepartment")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeDepartmentHistory.islastrecored)("ngModel",t._employeeDepartmentHistory.departmentid)("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](55,Vo,n.invalid&&t.manuallySubmitted||!t.DepartmentIDOtherRecoredVaild,n.valid&&t.manuallySubmitted&&t.DepartmentIDOtherRecoredVaild)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](34,39,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.departmentList),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.DepartmentIDOtherRecoredVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](42,41,"TotalServicePeriodTransactionDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,43,"Notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeDepartmentHistory.notes)("disabled",!t._employeeDepartmentHistory.islastrecored),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](55,45,"Editor")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](62,47,"EditingDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](64,49,t._employeeDepartmentHistory.editingdate,"dd/MM/yyyy"))}},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.Q7,a.mk,a.O5,r.EJ,r.YN,r.Kr,a.sg],pipes:[m.X$,a.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();class No{constructor(){this.id=0,this.code="",this.startdate=null,this.costcenterid=null,this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0}}const Go=["autocostcenter"],Po=["VacationRForm"];function jo(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",25),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function $o(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",25),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function Uo(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",25),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function Lo(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.sugar)}}function Jo(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.sug)}}function zo(e,t){if(1&e&&(g["\u0275\u0275template"](0,Lo,2,1,"div",26),g["\u0275\u0275template"](1,Jo,2,1,"div",26)),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngIf","ar"==e.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Yo(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",25),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function qo(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",25),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function Qo(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",27),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeCostcenterHistory.editor_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeCostcenterHistory.editor_ar)}}function Ko(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",27),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeCostcenterHistory.editor_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeCostcenterHistory.editor_en)}}const Wo=function(e,t){return{"invalid-data":e,"valid-data":t}};let Xo=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._changeEmployeeDataService=d,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumNotExist="",this._employeeCostcenterHistory=new No,this._oldEmployeeCostcenterHistory="",this.costcenterList=[],this.selectedCostcenter={},this.parentGetData=new g.EventEmitter,this.dataToParent=new g.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeCostcenterHistoryDate=null,this.EmployeeCostcenterHistoryCostcenterID=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.CostcenterIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;const c=this._authService.userInfo();this.currentUser=c,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumNotExist"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumNotExist=e.NumNotExist})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}ngOnInit(){this._employeeCostcenterHistory.employeeid=this.employeeid,this._employeeCostcenterHistory.id=this.employeeCostcenterHistoryID,this.Getcostcenter({originalEvent:FocusEvent,query:""})}GetEmployeeDataForValidation(){this._changeEmployeeDataService.GetEmployeeCostcenterHistoryDataForValidation(this.employeeid).subscribe(e=>{null!=e.data&&null!=e.data.workstartdate&&(this.EmployeeWorkStartDate=e.data.workstartdate,this.EmployeeDateOfHiring=e.data.dateofhiring,this.EmployeeCostcenterHistoryDate=e.data.costcenterhistorydate,this.EmployeeCostcenterHistoryCostcenterID=e.data.costcenterhistorycostcenterid),this.GetData()})}Getcostcenter(e){this._employeesService.Getcostcenter(this.subsidiaryID,e.query.trim(),this.lang).subscribe(e=>{this.costcenterList=[],this.costcenterList=[...this.costcenterList,...e],0==this.costcenterList.length&&this.toastr.success(this.NumNotExist),this.GetEmployeeDataForValidation(),this.cd.markForCheck()})}onSelectcostcenter(e){this._employeeCostcenterHistory.costcenterid=e.id;let t=e.id;null!=t&&null!=t&&""!=t||(this._employeeCostcenterHistory.costcenterid=null),this.onTheNewCostcenterChange(),this.cd.markForCheck()}onFocusInAutoComplete(e){let t=e.target.value;null!=t&&null!=t&&""!=t||(this._employeeCostcenterHistory.costcenterid=null,this.autocostcenter.completeMethod.emit({originalEvent:e,query:""}))}GetData(){this._employeeCostcenterHistory=new No,0==this.employeeCostcenterHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeCostcenterHistory(this.subsidiaryID,this.employeeid).subscribe(e=>{e.data[0].code>0?this._employeeCostcenterHistory.code=(parseFloat(e.data[0].code)+1).toString():(this._employeeCostcenterHistory.code="1",this._employeeCostcenterHistory.startdate=null==this.EmployeeDateOfHiring?this.EmployeeWorkStartDate:this.EmployeeDateOfHiring,this.isFirstRecored=!0),this._employeeCostcenterHistory.editor_en=this.currentUser.name,this._employeeCostcenterHistory.editor_ar=this.currentUser.name_ar,this._employeeCostcenterHistory.editingdate=new Date,this._oldEmployeeCostcenterHistory=JSON.stringify(this._employeeCostcenterHistory),this.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeCostcenterHistoryById(this.employeeCostcenterHistoryID).subscribe(e=>{this._employeeCostcenterHistory.id=e.data[0].id,this._employeeCostcenterHistory.code=e.data[0].code,this._employeeCostcenterHistory.employeeid=e.data[0].employeeid,this._employeeCostcenterHistory.startdate=e.data[0].startdate,this._employeeCostcenterHistory.costcenterid=e.data[0].costcenterid,this.selectedCostcenter=this.costcenterList.filter(t=>t.id==e.data[0].costcenterid)[0],this._employeeCostcenterHistory.notes=e.data[0].notes,this._employeeCostcenterHistory.subsidaryid=e.data[0].subsidaryid,this._employeeCostcenterHistory.editor_en=e.data[0].editor_en,this._employeeCostcenterHistory.editor_ar=e.data[0].editor_ar,this._employeeCostcenterHistory.editingdate=e.data[0].editingdate,this._employeeCostcenterHistory.islastrecored=e.data[0].islastrecored,this.dataToParent.emit(this._employeeCostcenterHistory.islastrecored),this._oldEmployeeCostcenterHistory=JSON.stringify(this._employeeCostcenterHistory),this.cd.markForCheck()})}getDateDifferences(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));let n=t.getFullYear()-e.getFullYear();const a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;let i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;let l=t.getDate()-e.getDate();l<0&&(l+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+l+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+l+" Day"}CalculateTotalServicePeriodTransactionDate(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeCostcenterHistory.startdate))}onStartingFromDateChange(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeCostcenterHistory.startdate<this.EmployeeDateOfHiring||this._employeeCostcenterHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeCostcenterHistory.startdate<=this.EmployeeCostcenterHistoryDate)}onTheNewCostcenterChange(){this.CostcenterIDOtherRecoredVaild=0!=this.isFirstRecored||this._employeeCostcenterHistory.costcenterid!=this.EmployeeCostcenterHistoryCostcenterID}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(){this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.CostcenterIDOtherRecoredVaild&&(this._employeeCostcenterHistory.employeeid=this.employeeid,this._employeeCostcenterHistory.subsidaryid=this.subsidiaryID,this._employeeCostcenterHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeCostcenterHistory(this._employeeCostcenterHistory).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeCostcenterHistory(this._employeeCostcenterHistory).subscribe(e=>{this._employeeCostcenterHistory.id=e.data[0].id,this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}),this.manuallySubmitted=!1)}NotToMissData(e){return(0,qr.mG)(this,void 0,void 0,function*(){if(this._oldEmployeeCostcenterHistory!==JSON.stringify(this._employeeCostcenterHistory)){const e=yield k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});return!e.isConfirmed||1!=e.isConfirmed}return!0})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](si))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-costcenter-form"]],viewQuery:function(e,t){if(1&e&&(g["\u0275\u0275viewQuery"](Go,5),g["\u0275\u0275viewQuery"](Po,5)),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.autocostcenter=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid",employeeCostcenterHistoryID:"employeeCostcenterHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:63,vars:56,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","TheNewCostcenter",1,"col-form-label"],["id","TheNewCostcenter","name","TheNewCostcenter",1,"inline-flex",3,"ngModel","suggestions","dataKey","field","disabled","required","ngClass","completeMethod","onFocus","onSelect","ngModelChange"],["autocostcenter","","TheNewCostcenterID","ngModel"],["pTemplate","item"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[4,"ngIf"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"input",6),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeCostcenterHistory.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",3),g["\u0275\u0275elementStart"](11,"div",4),g["\u0275\u0275elementStart"](12,"label",7),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementStart"](15,"span",8),g["\u0275\u0275text"](16,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"input",9,10),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeCostcenterHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),g["\u0275\u0275pipe"](19,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](20,jo,3,3,"span",11),g["\u0275\u0275template"](21,$o,3,3,"span",11),g["\u0275\u0275template"](22,Uo,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"div",3),g["\u0275\u0275elementStart"](24,"div",4),g["\u0275\u0275elementStart"](25,"label",12),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"translate"),g["\u0275\u0275elementStart"](28,"span",8),g["\u0275\u0275text"](29,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"p-autoComplete",13,14),g["\u0275\u0275listener"]("completeMethod",function(e){return t.Getcostcenter(e)})("onFocus",function(n){g["\u0275\u0275restoreView"](e);const a=g["\u0275\u0275reference"](31);return t.onFocusInAutoComplete(n),a.show()})("onSelect",function(e){return t.onSelectcostcenter(e)})("ngModelChange",function(e){return t.selectedCostcenter=e}),g["\u0275\u0275template"](33,zo,2,2,"ng-template",15),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](34,Yo,3,3,"span",11),g["\u0275\u0275template"](35,qo,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"div",3),g["\u0275\u0275elementStart"](37,"div",4),g["\u0275\u0275elementStart"](38,"label",16),g["\u0275\u0275text"](39),g["\u0275\u0275pipe"](40,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"input",17),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](42,"div",2),g["\u0275\u0275elementStart"](43,"div",18),g["\u0275\u0275elementStart"](44,"div",4),g["\u0275\u0275elementStart"](45,"label",19),g["\u0275\u0275text"](46),g["\u0275\u0275pipe"](47,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](48,"input",20),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeCostcenterHistory.notes=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](49,"div",3),g["\u0275\u0275elementStart"](50,"div",4),g["\u0275\u0275elementStart"](51,"label",21),g["\u0275\u0275text"](52),g["\u0275\u0275pipe"](53,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](54,Qo,1,1,"input",22),g["\u0275\u0275template"](55,Ko,1,1,"input",22),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](56,"div",3),g["\u0275\u0275elementStart"](57,"div",4),g["\u0275\u0275elementStart"](58,"label",23),g["\u0275\u0275text"](59),g["\u0275\u0275pipe"](60,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](61,"input",24),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeCostcenterHistory.editingdate=e}),g["\u0275\u0275pipe"](62,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275reference"](18),n=g["\u0275\u0275reference"](32);g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](8,30,"Serial")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeCostcenterHistory.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](14,32,"StartingFromDate")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeCostcenterHistory.islastrecored)("required",!0)("ngModel",g["\u0275\u0275pipeBind2"](19,34,t._employeeCostcenterHistory.startdate,"yyyy-MM-dd"))("ngClass",g["\u0275\u0275pureFunction2"](50,Wo,e.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,e.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](27,37,"TheNewCostcenter")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t.selectedCostcenter)("suggestions",t.costcenterList)("dataKey","ar"==t.lang?"sugar":"sug")("field","ar"==t.lang?"sugar":"sug")("disabled",!t._employeeCostcenterHistory.islastrecored)("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](53,Wo,n.invalid&&t.manuallySubmitted||!t.CostcenterIDOtherRecoredVaild,n.valid&&t.manuallySubmitted&&t.CostcenterIDOtherRecoredVaild)),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.CostcenterIDOtherRecoredVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](40,39,"TotalServicePeriodTransactionDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](47,41,"Notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeCostcenterHistory.notes)("disabled",!t._employeeCostcenterHistory.islastrecored),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](53,43,"Editor")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](60,45,"EditingDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](62,47,t._employeeCostcenterHistory.editingdate,"dd/MM/yyyy"))}},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.Q7,a.mk,a.O5,s.Qc,H.jx],pipes:[m.X$,a.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();class Zo{constructor(){this.id=0,this.code="",this.startdate=null,this.professionsjobid=null,this.contracttypeid=null,this.category="",this.degree="",this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0}}const es=["VacationRForm"];function ts(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",33),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function ns(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",33),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function as(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",33),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function is(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function ls(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function rs(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",34),g["\u0275\u0275template"](1,is,2,1,"div",35),g["\u0275\u0275template"](2,ls,2,1,"div",35),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function os(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",33),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function ss(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",33),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function ds(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function cs(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function ms(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",34),g["\u0275\u0275template"](1,ds,2,1,"div",35),g["\u0275\u0275template"](2,cs,2,1,"div",35),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ps(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",33),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function hs(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",33),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function us(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",33),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function ys(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",33),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function gs(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",36),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeJobHistory.editor_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeJobHistory.editor_ar)}}function vs(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",36),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeJobHistory.editor_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeJobHistory.editor_en)}}const Ss=function(e,t){return{"invalid-data":e,"valid-data":t}};let fs=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._changeEmployeeDataService=d,this._contractTypesService=c,this._professionsJobsService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeJobHistory=new Zo,this._oldEmployeeJobHistory="",this.ProfessionsJobList=[],this.contractTypeList=[],this.parentGetData=new g.EventEmitter,this.dataToParent=new g.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeJobHistoryDate=null,this.JobHistoryProfessionsJobID=null,this.EmployeeJobHistoryContractTypeID=null,this.EmployeeJobHistoryCategory=null,this.EmployeeJobHistoryDegree=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.JobIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;const p=this._authService.userInfo();this.currentUser=p,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}ngOnInit(){this._employeeJobHistory.employeeid=this.employeeid,this._employeeJobHistory.id=this.employeeJobHistoryID,this.GetEmployeeDataForValidation(),this.GetProfessionsJobs(),this.GetContractTypes()}GetEmployeeDataForValidation(){this._changeEmployeeDataService.GetEmployeeJobHistoryDataForValidation(this.employeeid).subscribe(e=>{null!=e.data&&null!=e.data.workstartdate&&(this.EmployeeWorkStartDate=e.data.workstartdate,this.EmployeeDateOfHiring=e.data.dateofhiring,this.EmployeeJobHistoryDate=e.data.jobhistorydate,this.JobHistoryProfessionsJobID=e.data.jobhistoryprofessionsjobid,this.EmployeeJobHistoryContractTypeID=e.data.jobhistorycontracttypeid,this.EmployeeJobHistoryCategory=e.data.jobhistorycategory,this.EmployeeJobHistoryDegree=e.data.jobhistorydegree),this.GetData()})}GetContractTypes(){this._contractTypesService.GetAllForDropdown().subscribe(e=>{this.contractTypeList=e,this.cd.markForCheck()})}GetProfessionsJobs(){this._professionsJobsService.GetAllForDropdown(this.subsidiaryID).subscribe(e=>{this.ProfessionsJobList=e,this.cd.markForCheck()})}GetData(){this._employeeJobHistory=new Zo,0==this.employeeJobHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeJobHistory(this.subsidiaryID,this.employeeid).subscribe(e=>{e.data[0].code>0?this._employeeJobHistory.code=(parseFloat(e.data[0].code)+1).toString():(this._employeeJobHistory.code="1",this._employeeJobHistory.startdate=null==this.EmployeeDateOfHiring?this.EmployeeWorkStartDate:this.EmployeeDateOfHiring,this.isFirstRecored=!0),this._employeeJobHistory.contracttypeid=this.EmployeeJobHistoryContractTypeID,this._employeeJobHistory.category=this.EmployeeJobHistoryCategory,this._employeeJobHistory.degree=this.EmployeeJobHistoryDegree,this._employeeJobHistory.editor_en=this.currentUser.name,this._employeeJobHistory.editor_ar=this.currentUser.name_ar,this._employeeJobHistory.editingdate=new Date,this._oldEmployeeJobHistory=JSON.stringify(this._employeeJobHistory),this.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeJobHistoryById(this.employeeJobHistoryID).subscribe(e=>{this._employeeJobHistory.id=e.data[0].id,this._employeeJobHistory.code=e.data[0].code,this._employeeJobHistory.employeeid=e.data[0].employeeid,this._employeeJobHistory.startdate=e.data[0].startdate,this._employeeJobHistory.professionsjobid=e.data[0].professionsjobid,this._employeeJobHistory.contracttypeid=e.data[0].contracttypeid,this._employeeJobHistory.category=e.data[0].category,this._employeeJobHistory.degree=e.data[0].degree,this._employeeJobHistory.notes=e.data[0].notes,this._employeeJobHistory.subsidaryid=e.data[0].subsidaryid,this._employeeJobHistory.editor_en=e.data[0].editor_en,this._employeeJobHistory.editor_ar=e.data[0].editor_ar,this._employeeJobHistory.editingdate=e.data[0].editingdate,this._employeeJobHistory.islastrecored=e.data[0].islastrecored,this.dataToParent.emit(this._employeeJobHistory.islastrecored),this._oldEmployeeJobHistory=JSON.stringify(this._employeeJobHistory),this.cd.markForCheck()})}getDateDifferences(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));let n=t.getFullYear()-e.getFullYear();const a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;let i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;let l=t.getDate()-e.getDate();l<0&&(l+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+l+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+l+" Day"}CalculateTotalServicePeriodTransactionDate(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeJobHistory.startdate))}onStartingFromDateChange(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeJobHistory.startdate<this.EmployeeDateOfHiring||this._employeeJobHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeJobHistory.startdate<=this.EmployeeJobHistoryDate)}onTheNewJobChange(){this.JobIDOtherRecoredVaild=0!=this.isFirstRecored||this._employeeJobHistory.professionsjobid!=this.JobHistoryProfessionsJobID||this._employeeJobHistory.contracttypeid!=this.EmployeeJobHistoryContractTypeID||this._employeeJobHistory.category!=this.EmployeeJobHistoryCategory||this._employeeJobHistory.degree!=this.EmployeeJobHistoryDegree}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(){this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.JobIDOtherRecoredVaild&&(this._employeeJobHistory.employeeid=this.employeeid,this._employeeJobHistory.subsidaryid=this.subsidiaryID,this._employeeJobHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeJobHistory(this._employeeJobHistory).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeJobHistory(this._employeeJobHistory).subscribe(e=>{this._employeeJobHistory.id=e.data[0].id,this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}),this.manuallySubmitted=!1)}NotToMissData(e){return(0,qr.mG)(this,void 0,void 0,function*(){if(this._oldEmployeeJobHistory!==JSON.stringify(this._employeeJobHistory)){const e=yield k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});return!e.isConfirmed||1!=e.isConfirmed}return!0})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](ie.x),g["\u0275\u0275directiveInject"](le._))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-job-form"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](es,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid",employeeJobHistoryID:"employeeJobHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:95,vars:95,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","TheNewJob",1,"col-form-label"],["name","TheNewJob",1,"form-control",3,"disabled","ngModel","required","ngClass","ngModelChange","change"],["TheNewJobID","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","TheNewContractType",1,"col-form-label"],["name","TheNewContractType",1,"form-control",3,"disabled","ngModel","required","ngClass","ngModelChange","change"],["TheNewContractTypeID","ngModel"],["id","TheNewCategory",1,"col-form-label"],["type","text","name","TheNewCategory",1,"form-control",3,"ngModel","disabled","ngClass","ngModelChange","change"],["id","TheNewDegree",1,"col-form-label"],["type","text","name","TheNewDegree",1,"form-control",3,"ngModel","disabled","ngClass","ngModelChange","change"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],[4,"ngIf"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"input",6),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",3),g["\u0275\u0275elementStart"](11,"div",4),g["\u0275\u0275elementStart"](12,"label",7),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementStart"](15,"span",8),g["\u0275\u0275text"](16,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"input",9,10),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),g["\u0275\u0275pipe"](19,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](20,ts,3,3,"span",11),g["\u0275\u0275template"](21,ns,3,3,"span",11),g["\u0275\u0275template"](22,as,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"div",3),g["\u0275\u0275elementStart"](24,"div",4),g["\u0275\u0275elementStart"](25,"label",12),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"translate"),g["\u0275\u0275elementStart"](28,"span",8),g["\u0275\u0275text"](29,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"select",13,14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.professionsjobid=e})("change",function(){return t.onTheNewJobChange()}),g["\u0275\u0275elementStart"](32,"option",15),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](35,rs,3,3,"option",16),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](36,os,3,3,"span",11),g["\u0275\u0275template"](37,ss,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"div",3),g["\u0275\u0275elementStart"](39,"div",4),g["\u0275\u0275elementStart"](40,"label",17),g["\u0275\u0275text"](41),g["\u0275\u0275pipe"](42,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](43,"input",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"div",2),g["\u0275\u0275elementStart"](45,"div",3),g["\u0275\u0275elementStart"](46,"div",4),g["\u0275\u0275elementStart"](47,"label",19),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementStart"](50,"span",8),g["\u0275\u0275text"](51,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](52,"select",20,21),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.contracttypeid=e})("change",function(){return t.onTheNewJobChange()}),g["\u0275\u0275elementStart"](54,"option",15),g["\u0275\u0275text"](55),g["\u0275\u0275pipe"](56,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](57,ms,3,3,"option",16),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](58,ps,3,3,"span",11),g["\u0275\u0275template"](59,hs,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](60,"div",3),g["\u0275\u0275elementStart"](61,"div",4),g["\u0275\u0275elementStart"](62,"label",22),g["\u0275\u0275text"](63),g["\u0275\u0275pipe"](64,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](65,"input",23),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.category=e})("change",function(){return t.onTheNewJobChange()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](66,us,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](67,"div",3),g["\u0275\u0275elementStart"](68,"div",4),g["\u0275\u0275elementStart"](69,"label",24),g["\u0275\u0275text"](70),g["\u0275\u0275pipe"](71,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](72,"input",25),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.degree=e})("change",function(){return t.onTheNewJobChange()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](73,ys,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](74,"div",2),g["\u0275\u0275elementStart"](75,"div",26),g["\u0275\u0275elementStart"](76,"div",4),g["\u0275\u0275elementStart"](77,"label",27),g["\u0275\u0275text"](78),g["\u0275\u0275pipe"](79,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](80,"input",28),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.notes=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](81,"div",3),g["\u0275\u0275elementStart"](82,"div",4),g["\u0275\u0275elementStart"](83,"label",29),g["\u0275\u0275text"](84),g["\u0275\u0275pipe"](85,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](86,gs,1,1,"input",30),g["\u0275\u0275template"](87,vs,1,1,"input",30),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](88,"div",3),g["\u0275\u0275elementStart"](89,"div",4),g["\u0275\u0275elementStart"](90,"label",31),g["\u0275\u0275text"](91),g["\u0275\u0275pipe"](92,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](93,"input",32),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.editingdate=e}),g["\u0275\u0275pipe"](94,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275reference"](18),n=g["\u0275\u0275reference"](31),a=g["\u0275\u0275reference"](53);g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](8,50,"Serial")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeJobHistory.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](14,52,"StartingFromDate")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeJobHistory.islastrecored)("required",!0)("ngModel",g["\u0275\u0275pipeBind2"](19,54,t._employeeJobHistory.startdate,"yyyy-MM-dd"))("ngClass",g["\u0275\u0275pureFunction2"](80,Ss,e.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,e.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](27,57,"TheNewJob")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeJobHistory.islastrecored)("ngModel",t._employeeJobHistory.professionsjobid)("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](83,Ss,n.invalid&&t.manuallySubmitted||!t.JobIDOtherRecoredVaild,n.valid&&t.manuallySubmitted&&t.JobIDOtherRecoredVaild)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](34,59,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.ProfessionsJobList),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.JobIDOtherRecoredVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](42,61,"TotalServicePeriodTransactionDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](49,63,"TheNewContractType")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeJobHistory.islastrecored)("ngModel",t._employeeJobHistory.contracttypeid)("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](86,Ss,a.invalid&&t.manuallySubmitted||!t.JobIDOtherRecoredVaild,a.valid&&t.manuallySubmitted&&t.JobIDOtherRecoredVaild)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](56,65,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.contractTypeList),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.JobIDOtherRecoredVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](64,67,"TheNewCategory")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeJobHistory.category)("disabled",!t._employeeJobHistory.islastrecored)("ngClass",g["\u0275\u0275pureFunction2"](89,Ss,!t.JobIDOtherRecoredVaild,t.manuallySubmitted&&t.JobIDOtherRecoredVaild)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.JobIDOtherRecoredVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](71,69,"TheNewDegree")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeJobHistory.degree)("disabled",!t._employeeJobHistory.islastrecored)("ngClass",g["\u0275\u0275pureFunction2"](92,Ss,!t.JobIDOtherRecoredVaild,t.manuallySubmitted&&t.JobIDOtherRecoredVaild)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.JobIDOtherRecoredVaild),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](79,71,"Notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeJobHistory.notes)("disabled",!t._employeeJobHistory.islastrecored),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](85,73,"Editor")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](92,75,"EditingDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](94,77,t._employeeJobHistory.editingdate,"dd/MM/yyyy"))}},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.Q7,a.mk,a.O5,r.EJ,r.YN,r.Kr,a.sg],pipes:[m.X$,a.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();class bs{constructor(){this.id=0,this.code="",this.startdate=null,this.salarytype=0,this.overtimestatus=0,this.overtimetype=0,this.overtimevalue=0,this.overtimepercentage=0,this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0}}const Es=["VacationRForm"];function xs(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Cs(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function Ds(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function _s(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Is(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function ws(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function Ts(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Ms(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",35),g["\u0275\u0275template"](1,ws,2,1,"div",36),g["\u0275\u0275template"](2,Ts,2,1,"div",36),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ks(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function Bs(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function Fs(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function Hs(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",35),g["\u0275\u0275template"](1,Bs,2,1,"div",36),g["\u0275\u0275template"](2,Fs,2,1,"div",36),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Rs(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function Os(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function Vs(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function As(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",35),g["\u0275\u0275template"](1,Os,2,1,"div",36),g["\u0275\u0275template"](2,Vs,2,1,"div",36),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ns(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Gs(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function Ps(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function js(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}const $s=function(e,t){return{"invalid-data":e,"valid-data":t}};function Us(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",4),g["\u0275\u0275elementStart"](1,"label",37),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementStart"](4,"span",23),g["\u0275\u0275text"](5,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"input",38,39),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeSalaryHistory.overtimevalue=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](8,Ps,3,3,"span",11),g["\u0275\u0275template"](9,js,3,3,"span",11),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275reference"](7),t=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,7,"OvertimeValueRate")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.overtimevalue)("disabled",1==t._employeeSalaryHistory.overtimetype||null==t._employeeSalaryHistory.overtimetype||!t._employeeSalaryHistory.islastrecored)("required",1!=t._employeeSalaryHistory.overtimetype||null!=t._employeeSalaryHistory.overtimetype)("ngClass",g["\u0275\u0275pureFunction2"](9,$s,e.invalid&&t.manuallySubmitted||!t.SalaryIDOtherRecoredVaild,e.valid&&t.manuallySubmitted&&t.SalaryIDOtherRecoredVaild)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.SalaryIDOtherRecoredVaild)}}function Ls(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Js(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",34),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function zs(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",4),g["\u0275\u0275elementStart"](1,"label",40),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementStart"](4,"span",23),g["\u0275\u0275text"](5,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"input",41,42),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeSalaryHistory.overtimepercentage=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](8,Ls,3,3,"span",11),g["\u0275\u0275template"](9,Js,3,3,"span",11),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275reference"](7),t=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,7,"OvertimeValueRate")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.overtimepercentage)("disabled",1==t._employeeSalaryHistory.overtimetype||null==t._employeeSalaryHistory.overtimetype||!t._employeeSalaryHistory.islastrecored)("required",1!=t._employeeSalaryHistory.overtimetype||null!=t._employeeSalaryHistory.overtimetype)("ngClass",g["\u0275\u0275pureFunction2"](9,$s,e.invalid&&t.manuallySubmitted||!t.SalaryIDOtherRecoredVaild,e.valid&&t.manuallySubmitted&&t.SalaryIDOtherRecoredVaild)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.SalaryIDOtherRecoredVaild)}}function Ys(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",43),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeSalaryHistory.editor_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeSalaryHistory.editor_ar)}}function qs(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",43),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeSalaryHistory.editor_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeSalaryHistory.editor_en)}}let Qs=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._changeEmployeeDataService=d,this._employeeFinancialDataService=c,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeSalaryHistory=new bs,this._oldEmployeeSalaryHistory="",this.SalaryTypeList=[],this.OverTimeList=[],this.OverTimeTypeList=[],this.parentGetData=new g.EventEmitter,this.dataToParent=new g.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeSalaryHistoryDate=null,this.EmployeeSalaryHistorySalary=null,this.EmployeeSalaryHistorySalaryType=null,this.EmployeeSalaryHistoryOvertimeStatus=null,this.EmployeeSalaryHistoryOvertimeType=null,this.EmployeeSalaryHistoryOvertimeValue=null,this.EmployeeSalaryHistoryOvertimePercentage=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.SalaryIDOtherRecoredVaild=!0,this.showovertimevalue=!0,this.showovertimepercentage=!1,this.subsidiaryID=this._generalService.SubsidiaryID;const m=this._authService.userInfo();this.currentUser=m,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}ngOnInit(){this._employeeSalaryHistory.employeeid=this.employeeid,this._employeeSalaryHistory.id=this.employeeSalaryHistoryID,this.GetEmployeeDataForValidation(),this.GetSalaryTypes(),this.GetOverTime(),this.GetOverTimeTypes()}GetEmployeeDataForValidation(){this._changeEmployeeDataService.GetEmployeeSalaryHistoryDataForValidation(this.employeeid).subscribe(e=>{null!=e.data&&null!=e.data.workstartdate&&(this.EmployeeWorkStartDate=e.data.workstartdate,this.EmployeeDateOfHiring=e.data.dateofhiring,this.EmployeeSalaryHistoryDate=e.data.salaryhistorydate,this.EmployeeSalaryHistorySalary=e.data.salaryhistorysalary,this.EmployeeSalaryHistorySalaryType=e.data.salaryhistorysalarytype,this.EmployeeSalaryHistoryOvertimeStatus=e.data.salaryhistoryovertimestatus,this.EmployeeSalaryHistoryOvertimeType=e.data.salaryhistoryovertimetype,this.EmployeeSalaryHistoryOvertimeValue=e.data.salaryhistoryovertimevalue,this.EmployeeSalaryHistoryOvertimePercentage=e.data.salaryhistoryovertimepercentage),this.GetData()})}GetSalaryTypes(){this._employeeFinancialDataService.GetStaticValues("SalaryType").subscribe(e=>{this.SalaryTypeList=e,this.cd.markForCheck()})}GetOverTime(){this._employeeFinancialDataService.GetStaticValues("OverTime").subscribe(e=>{this.OverTimeList=e,this.cd.markForCheck()})}GetOverTimeTypes(){this._employeeFinancialDataService.GetStaticValues("OverTimeType").subscribe(e=>{this.OverTimeTypeList=e,this.cd.markForCheck()})}GetData(){this._employeeSalaryHistory=new bs,0==this.employeeSalaryHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeSalaryHistory(this.subsidiaryID,this.employeeid).subscribe(e=>{e.data[0].code>0?this._employeeSalaryHistory.code=(parseFloat(e.data[0].code)+1).toString():(this._employeeSalaryHistory.code="1",this._employeeSalaryHistory.startdate=null==this.EmployeeDateOfHiring?this.EmployeeWorkStartDate:this.EmployeeDateOfHiring,this.isFirstRecored=!0),this._employeeSalaryHistory.salarytype=null==this.EmployeeSalaryHistorySalaryType?this.SalaryTypeList.filter(e=>1==e.isdefaultselection)[0].id:this.EmployeeSalaryHistorySalaryType,this._employeeSalaryHistory.overtimestatus=null==this.EmployeeSalaryHistoryOvertimeStatus?this.OverTimeList.filter(e=>1==e.isdefaultselection)[0].id:this.EmployeeSalaryHistoryOvertimeStatus,this._employeeSalaryHistory.overtimetype=this.EmployeeSalaryHistoryOvertimeType,this._employeeSalaryHistory.overtimevalue=this.EmployeeSalaryHistoryOvertimeValue,this._employeeSalaryHistory.overtimepercentage=this.EmployeeSalaryHistoryOvertimePercentage,this._employeeSalaryHistory.editor_en=this.currentUser.name,this._employeeSalaryHistory.editor_ar=this.currentUser.name_ar,this._employeeSalaryHistory.editingdate=new Date,this._oldEmployeeSalaryHistory=JSON.stringify(this._employeeSalaryHistory),this.overtimetypeChange(),this.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeSalaryHistoryById(this.employeeSalaryHistoryID).subscribe(e=>{this._employeeSalaryHistory.id=e.data[0].id,this._employeeSalaryHistory.code=e.data[0].code,this._employeeSalaryHistory.employeeid=e.data[0].employeeid,this._employeeSalaryHistory.startdate=e.data[0].startdate,this._employeeSalaryHistory.salary=e.data[0].salary,this._employeeSalaryHistory.salarytype=e.data[0].salarytype,this._employeeSalaryHistory.overtimestatus=e.data[0].overtimestatus,this._employeeSalaryHistory.overtimetype=e.data[0].overtimetype,this._employeeSalaryHistory.overtimevalue=e.data[0].overtimevalue,this._employeeSalaryHistory.overtimepercentage=e.data[0].overtimepercentage,this._employeeSalaryHistory.notes=e.data[0].notes,this._employeeSalaryHistory.subsidaryid=e.data[0].subsidaryid,this._employeeSalaryHistory.editor_en=e.data[0].editor_en,this._employeeSalaryHistory.editor_ar=e.data[0].editor_ar,this._employeeSalaryHistory.editingdate=e.data[0].editingdate,this._employeeSalaryHistory.islastrecored=e.data[0].islastrecored,this.dataToParent.emit(this._employeeSalaryHistory.islastrecored),this._oldEmployeeSalaryHistory=JSON.stringify(this._employeeSalaryHistory),this.overtimetypeChange(),this.cd.markForCheck()})}overtimetypeChange(){2==this._employeeSalaryHistory.overtimetype?(this.showovertimevalue=!0,this.showovertimepercentage=!1):3==this._employeeSalaryHistory.overtimetype?(this.showovertimepercentage=!0,this.showovertimevalue=!1):(this.showovertimevalue=!0,this.showovertimepercentage=!1,this._employeeSalaryHistory.overtimevalue=null,this._employeeSalaryHistory.overtimepercentage=null)}getDateDifferences(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));let n=t.getFullYear()-e.getFullYear();const a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;let i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;let l=t.getDate()-e.getDate();l<0&&(l+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+l+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+l+" Day"}CalculateTotalServicePeriodTransactionDate(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeSalaryHistory.startdate))}onStartingFromDateChange(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeSalaryHistory.startdate<this.EmployeeDateOfHiring||this._employeeSalaryHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeSalaryHistory.startdate<=this.EmployeeSalaryHistoryDate)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(){this.manuallySubmitted=!0,0==this.isFirstRecored&&this._employeeSalaryHistory.salary==this.EmployeeSalaryHistorySalary&&this._employeeSalaryHistory.salarytype==this.EmployeeSalaryHistorySalaryType&&this._employeeSalaryHistory.overtimestatus==this.EmployeeSalaryHistoryOvertimeStatus&&this._employeeSalaryHistory.overtimetype==this.EmployeeSalaryHistoryOvertimeType&&this._employeeSalaryHistory.overtimevalue==this.EmployeeSalaryHistoryOvertimeValue&&this._employeeSalaryHistory.overtimepercentage==this.EmployeeSalaryHistoryOvertimePercentage?this.SalaryIDOtherRecoredVaild=!1:(this.SalaryIDOtherRecoredVaild=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.SalaryIDOtherRecoredVaild&&(this._employeeSalaryHistory.employeeid=this.employeeid,this._employeeSalaryHistory.subsidaryid=this.subsidiaryID,this._employeeSalaryHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeSalaryHistory(this._employeeSalaryHistory).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeSalaryHistory(this._employeeSalaryHistory).subscribe(e=>{this._employeeSalaryHistory.id=e.data[0].id,this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}),this.manuallySubmitted=!1))}NotToMissData(e){return(0,qr.mG)(this,void 0,void 0,function*(){if(this._oldEmployeeSalaryHistory!==JSON.stringify(this._employeeSalaryHistory)){const e=yield k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});return!e.isConfirmed||1!=e.isConfirmed}return!0})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](Ja))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-salary-form"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](Es,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid",employeeSalaryHistoryID:"employeeSalaryHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:94,vars:89,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","month","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","salary",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","salary","required","",1,"form-control",2,"text-align","right",3,"disabled","ngModel","ngClass","ngModelChange"],["TheNewSalaryID","ngModel"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","salarytype",1,"col-form-label"],["name","salarytype",1,"form-control",3,"ngModel","disabled","ngClass","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","overtimestatus",1,"col-form-label"],["name","overtimestatus",1,"form-control",3,"ngModel","disabled","ngClass","ngModelChange","change"],["id","overtimetype",1,"col-form-label"],[2,"color","blue","font-weight","bold"],["name","overtimetype",1,"form-control",3,"ngModel","disabled","required","ngClass","ngModelChange","change"],["TheNewOvertimeType","ngModel"],["class","form-group",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],[4,"ngIf"],["id","overtimevalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","overtimevalue",1,"form-control",3,"ngModel","disabled","required","ngClass","ngModelChange"],["OvertimeValueRate","ngModel"],["id","overtimepercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","overtimepercentage",1,"form-control",3,"ngModel","disabled","required","ngClass","ngModelChange"],["OvertimePercentageRate","ngModel"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"input",6),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.code=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",3),g["\u0275\u0275elementStart"](11,"div",4),g["\u0275\u0275elementStart"](12,"label",7),g["\u0275\u0275text"](13),g["\u0275\u0275pipe"](14,"translate"),g["\u0275\u0275elementStart"](15,"span",8),g["\u0275\u0275text"](16,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"input",9,10),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),g["\u0275\u0275pipe"](19,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](20,xs,3,3,"span",11),g["\u0275\u0275template"](21,Cs,3,3,"span",11),g["\u0275\u0275template"](22,Ds,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"div",3),g["\u0275\u0275elementStart"](24,"div",4),g["\u0275\u0275elementStart"](25,"div",4),g["\u0275\u0275elementStart"](26,"label",12),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementStart"](29,"span",8),g["\u0275\u0275text"](30,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"input",13,14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.salary=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](33,_s,3,3,"span",11),g["\u0275\u0275template"](34,Is,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"div",3),g["\u0275\u0275elementStart"](36,"div",4),g["\u0275\u0275elementStart"](37,"label",15),g["\u0275\u0275text"](38),g["\u0275\u0275pipe"](39,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"input",16),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"div",2),g["\u0275\u0275elementStart"](42,"div",3),g["\u0275\u0275elementStart"](43,"div",4),g["\u0275\u0275elementStart"](44,"label",17),g["\u0275\u0275text"](45),g["\u0275\u0275pipe"](46,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](47,"select",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.salarytype=e}),g["\u0275\u0275template"](48,Ms,3,3,"option",19),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](49,ks,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"div",3),g["\u0275\u0275elementStart"](51,"div",4),g["\u0275\u0275elementStart"](52,"label",20),g["\u0275\u0275text"](53),g["\u0275\u0275pipe"](54,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](55,"select",21),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.overtimestatus=e})("change",function(){return t._employeeSalaryHistory.overtimetype=null,t.overtimetypeChange()}),g["\u0275\u0275template"](56,Hs,3,3,"option",19),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](57,Rs,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](58,"div",3),g["\u0275\u0275elementStart"](59,"div",4),g["\u0275\u0275elementStart"](60,"label",22),g["\u0275\u0275text"](61),g["\u0275\u0275pipe"](62,"translate"),g["\u0275\u0275elementStart"](63,"span",23),g["\u0275\u0275text"](64,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](65,"select",24,25),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.overtimetype=e})("change",function(){return t.overtimetypeChange()}),g["\u0275\u0275template"](67,As,3,3,"option",19),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](68,Ns,3,3,"span",11),g["\u0275\u0275template"](69,Gs,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](70,"div",3),g["\u0275\u0275template"](71,Us,10,12,"div",26),g["\u0275\u0275template"](72,zs,10,12,"div",26),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](73,"div",2),g["\u0275\u0275elementStart"](74,"div",27),g["\u0275\u0275elementStart"](75,"div",4),g["\u0275\u0275elementStart"](76,"label",28),g["\u0275\u0275text"](77),g["\u0275\u0275pipe"](78,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](79,"input",29),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.notes=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](80,"div",3),g["\u0275\u0275elementStart"](81,"div",4),g["\u0275\u0275elementStart"](82,"label",30),g["\u0275\u0275text"](83),g["\u0275\u0275pipe"](84,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](85,Ys,1,1,"input",31),g["\u0275\u0275template"](86,qs,1,1,"input",31),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](87,"div",3),g["\u0275\u0275elementStart"](88,"div",4),g["\u0275\u0275elementStart"](89,"label",32),g["\u0275\u0275text"](90),g["\u0275\u0275pipe"](91,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](92,"input",33),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.editingdate=e}),g["\u0275\u0275pipe"](93,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275reference"](18),n=g["\u0275\u0275reference"](32),a=g["\u0275\u0275reference"](66);g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](8,48,"Serial")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](14,50,"StartingFromDate")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeSalaryHistory.islastrecored)("required",!0)("ngModel",g["\u0275\u0275pipeBind2"](19,52,t._employeeSalaryHistory.startdate,"yyyy-MM"))("ngClass",g["\u0275\u0275pureFunction2"](74,$s,e.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,e.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](28,55,"TheNewSalary")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeSalaryHistory.islastrecored)("ngModel",t._employeeSalaryHistory.salary)("ngClass",g["\u0275\u0275pureFunction2"](77,$s,n.invalid&&t.manuallySubmitted||!t.SalaryIDOtherRecoredVaild,n.valid&&t.manuallySubmitted&&t.SalaryIDOtherRecoredVaild)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.SalaryIDOtherRecoredVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](39,57,"TotalServicePeriodTransactionDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](46,59,"TheNewSalaryType")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.salarytype)("disabled",!t._employeeSalaryHistory.islastrecored)("ngClass",g["\u0275\u0275pureFunction2"](80,$s,!t.SalaryIDOtherRecoredVaild,t.SalaryIDOtherRecoredVaild)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.SalaryTypeList),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.SalaryIDOtherRecoredVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](54,61,"TheNewStatusOvertimeAccrual")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.overtimestatus)("disabled",!t._employeeSalaryHistory.islastrecored)("ngClass",g["\u0275\u0275pureFunction2"](83,$s,!t.SalaryIDOtherRecoredVaild,t.SalaryIDOtherRecoredVaild)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.OverTimeList),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.SalaryIDOtherRecoredVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](62,63,"TheNewOvertimeType")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.overtimetype)("disabled",2==t._employeeSalaryHistory.overtimestatus||!t._employeeSalaryHistory.islastrecored)("required",3==t._employeeSalaryHistory.overtimestatus)("ngClass",g["\u0275\u0275pureFunction2"](86,$s,a.invalid&&t.manuallySubmitted||!t.SalaryIDOtherRecoredVaild,a.valid&&t.manuallySubmitted&&t.SalaryIDOtherRecoredVaild)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.OverTimeTypeList),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.SalaryIDOtherRecoredVaild),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.showovertimevalue),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.showovertimepercentage),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](78,65,"Notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.notes)("disabled",!t._employeeSalaryHistory.islastrecored),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](84,67,"Editor")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](91,69,"EditingDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](93,71,t._employeeSalaryHistory.editingdate,"dd/MM/yyyy"))}},directives:[r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,r.Q7,a.mk,a.O5,ht.L,r.EJ,a.sg,r.YN,r.Kr],pipes:[m.X$,a.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();class Ks{constructor(){this.id=0,this.code="",this.allowancetypeid=null,this.startdate=null,this.amountofallowance=null,this.allowancestatus=1,this.deductibility=null,this.overtime=!1,this.rewards=!1,this.absences=!1,this.penalties=!1,this.paidvacations=!1,this.vacationpay=!1,this.sickleave=!1,this.termination=!1,this.subjecttotaxes=!1,this.subjecttoinsurances=!1,this.appearanceonpayroll=null,this.notes="",this.dateofsuspensionorresumption=null,this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.allowancestatus_en="",this.allowancestatus_ar="",this.islastrecored=!0}}const Ws=["VacationRForm"];function Xs(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function Zs(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function ed(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",48),g["\u0275\u0275template"](1,Xs,2,1,"div",49),g["\u0275\u0275template"](2,Zs,2,1,"div",49),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function td(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",50),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function nd(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",50),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function ad(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",50),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"AllowanceRegisteredDateNotMatchEmploymentData")," "))}function id(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",50),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"AllowanceStartDateGreaterThanLastRecord")," "))}function ld(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",50),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function rd(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",51),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeAllowanceHistory.allowancestatus_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeAllowanceHistory.allowancestatus_ar)}}function od(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",51),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeAllowanceHistory.allowancestatus_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeAllowanceHistory.allowancestatus_en)}}function sd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function dd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function cd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",48),g["\u0275\u0275template"](1,sd,2,1,"div",49),g["\u0275\u0275template"](2,dd,2,1,"div",49),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function md(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function pd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function hd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",48),g["\u0275\u0275template"](1,md,2,1,"div",49),g["\u0275\u0275template"](2,pd,2,1,"div",49),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ud(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",52),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeAllowanceHistory.editor_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeAllowanceHistory.editor_ar)}}function yd(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",52),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeAllowanceHistory.editor_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeAllowanceHistory.editor_en)}}const gd=function(e,t){return{"invalid-data":e,"valid-data":t}};let vd=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._changeEmployeeDataService=d,this._allowancesTypesService=c,this._employeeFinancialDataService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NoChangeOnOldData="",this.SelectAll=!1,this._employeeAllowanceHistory=new Ks,this._oldEmployeeAllowanceHistory="",this.AllowancesTypeList=[],this.DeductibilityList=[],this.AppearanceOnPayrollList=[],this.parentGetData=new g.EventEmitter,this.dataToParent=new g.EventEmitter,this.dataToParentCanDelete=new g.EventEmitter,this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeAllowanceHistoryDate=null,this.EmployeeAllowanceHistoryAmount=null,this.EmployeeAllowanceHistoryDeductibility=null,this.EmployeeAllowanceHistoryOvertime=null,this.EmployeeAllowanceHistoryRewards=null,this.EmployeeAllowanceHistoryAbsences=null,this.EmployeeAllowanceHistoryPenalties=null,this.EmployeeAllowanceHistoryPaidVacations=null,this.EmployeeAllowanceHistoryVacationPay=null,this.EmployeeAllowanceHistorySickLeave=null,this.EmployeeAllowanceHistoryTermination=null,this.EmployeeAllowanceHistorySubjectToTaxes=null,this.EmployeeAllowanceHistorySubjectToInsurances=null,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.AllowanceIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;const p=this._authService.userInfo();this.currentUser=p,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NoChangeOnOldData"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NoChangeOnOldData=e.NoChangeOnOldData})})}ngOnInit(){this._employeeAllowanceHistory.employeeid=this.employeeid,this._employeeAllowanceHistory.id=this.employeeAllowanceHistoryID,this.GetAllowancesType()}GetAllowancesType(){this._allowancesTypesService.GetAllForDropdown().subscribe(e=>{this.AllowancesTypeList=e,this.GetDeductibility(),this.cd.markForCheck()})}GetEmployeeDataForValidation(){this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeAllowanceHistoryDate=null,this.EmployeeAllowanceHistoryAmount=null,this.EmployeeAllowanceHistoryDeductibility=null,this.EmployeeAllowanceHistoryOvertime=null,this.EmployeeAllowanceHistoryRewards=null,this.EmployeeAllowanceHistoryAbsences=null,this.EmployeeAllowanceHistoryPenalties=null,this.EmployeeAllowanceHistoryPaidVacations=null,this.EmployeeAllowanceHistoryVacationPay=null,this.EmployeeAllowanceHistorySickLeave=null,this.EmployeeAllowanceHistoryTermination=null,this.EmployeeAllowanceHistorySubjectToTaxes=null,this.EmployeeAllowanceHistorySubjectToInsurances=null,this._changeEmployeeDataService.GetEmployeeAllowanceHistoryDataForValidation(this.employeeid,this._employeeAllowanceHistory.allowancetypeid).subscribe(e=>{null!=e.data&&null!=e.data.workstartdate&&(this.EmployeeWorkStartDate=e.data.workstartdate,this.EmployeeDateOfHiring=e.data.dateofhiring,this.EmployeeAllowanceHistoryDate=e.data.allowancehistorydate,this.EmployeeAllowanceHistoryAmount=e.data.allowancehistoryamount,this.EmployeeAllowanceHistoryDeductibility=e.data.allowancehistorydeductibility,this.EmployeeAllowanceHistoryOvertime=e.data.allowancehistoryovertime,this.EmployeeAllowanceHistoryRewards=e.data.allowancehistoryrewards,this.EmployeeAllowanceHistoryAbsences=e.data.allowancehistoryabsences,this.EmployeeAllowanceHistoryPenalties=e.data.allowancehistorypenalties,this.EmployeeAllowanceHistoryPaidVacations=e.data.allowancehistorypaidvacations,this.EmployeeAllowanceHistoryVacationPay=e.data.allowancehistoryvacationpay,this.EmployeeAllowanceHistorySickLeave=e.data.allowancehistorysickleave,this.EmployeeAllowanceHistoryTermination=e.data.allowancehistorytermination,this.EmployeeAllowanceHistorySubjectToTaxes=e.data.allowancehistorysubjecttotaxes,this.EmployeeAllowanceHistorySubjectToInsurances=e.data.allowancehistorysubjecttoinsurances,this.onStartingFromDateChange())})}GetDeductibility(){this._employeeFinancialDataService.GetStaticValues("Deductibility").subscribe(e=>{this.DeductibilityList=e,this.GetAppearanceOnPayroll(),this.cd.markForCheck()})}GetAppearanceOnPayroll(){this._employeeFinancialDataService.GetStaticValues("AppearanceOnPayroll").subscribe(e=>{this.AppearanceOnPayrollList=e,this.GetData(),this.cd.markForCheck()})}GetData(){this._employeeAllowanceHistory=new Ks,0==this.employeeAllowanceHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeAllowanceHistory(this.subsidiaryID,this.employeeid).subscribe(e=>{this._employeeAllowanceHistory.code=e.data[0].code>0?(parseFloat(e.data[0].code)+1).toString():"1",this._employeeAllowanceHistory.deductibility=this.DeductibilityList.filter(e=>1==e.isdefaultselection)[0].id,this._employeeAllowanceHistory.appearanceonpayroll=this.AppearanceOnPayrollList.filter(e=>1==e.isdefaultselection)[0].id,this._employeeAllowanceHistory.editor_en=this.currentUser.name,this._employeeAllowanceHistory.editor_ar=this.currentUser.name_ar,this._employeeAllowanceHistory.editingdate=new Date,this.onDeductibilityChange(),this._oldEmployeeAllowanceHistory=JSON.stringify(this._employeeAllowanceHistory),this.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeAllowanceHistoryById(this.employeeAllowanceHistoryID).subscribe(e=>{this._employeeAllowanceHistory.id=e.data[0].id,this._employeeAllowanceHistory.code=e.data[0].code,this._employeeAllowanceHistory.employeeid=e.data[0].employeeid,this._employeeAllowanceHistory.allowancetypeid=e.data[0].allowancetypeid,this._employeeAllowanceHistory.startdate=e.data[0].startdate,this._employeeAllowanceHistory.amountofallowance=e.data[0].amountofallowance,this._employeeAllowanceHistory.allowancestatus=e.data[0].allowancestatus,this._employeeAllowanceHistory.deductibility=e.data[0].deductibility,this._employeeAllowanceHistory.overtime=e.data[0].overtime,this._employeeAllowanceHistory.rewards=e.data[0].rewards,this._employeeAllowanceHistory.absences=e.data[0].absences,this._employeeAllowanceHistory.penalties=e.data[0].penalties,this._employeeAllowanceHistory.paidvacations=e.data[0].paidvacations,this._employeeAllowanceHistory.vacationpay=e.data[0].vacationpay,this._employeeAllowanceHistory.sickleave=e.data[0].sickleave,this._employeeAllowanceHistory.termination=e.data[0].termination,this._employeeAllowanceHistory.subjecttotaxes=e.data[0].subjecttotaxes,this._employeeAllowanceHistory.subjecttoinsurances=e.data[0].subjecttoinsurances,this._employeeAllowanceHistory.appearanceonpayroll=e.data[0].appearanceonpayroll,this._employeeAllowanceHistory.notes=e.data[0].notes,this._employeeAllowanceHistory.dateofsuspensionorresumption=e.data[0].dateofsuspensionorresumption,this._employeeAllowanceHistory.subsidaryid=e.data[0].subsidaryid,this._employeeAllowanceHistory.editor_en=e.data[0].editor_en,this._employeeAllowanceHistory.editor_ar=e.data[0].editor_ar,this._employeeAllowanceHistory.editingdate=e.data[0].editingdate,this._employeeAllowanceHistory.allowancestatus_en=e.data[0].allowancestatus_en,this._employeeAllowanceHistory.allowancestatus_ar=e.data[0].allowancestatus_ar,this._employeeAllowanceHistory.islastrecored=e.data[0].islastrecored,this.dataToParent.emit(this._employeeAllowanceHistory.islastrecored),this.dataToParentCanDelete.emit(1==this._employeeAllowanceHistory.islastrecored&&null==this._employeeAllowanceHistory.dateofsuspensionorresumption&&1==this._employeeAllowanceHistory.allowancestatus),this._oldEmployeeAllowanceHistory=JSON.stringify(this._employeeAllowanceHistory),this.cd.markForCheck()})}onAllowanceTypeChange(){this.GetEmployeeDataForValidation();var e=this.AllowancesTypeList.filter(e=>e.id==this._employeeAllowanceHistory.allowancetypeid)[0];this._employeeAllowanceHistory.overtime=e.overtime,this._employeeAllowanceHistory.rewards=e.rewards,this._employeeAllowanceHistory.absences=e.absences,this._employeeAllowanceHistory.penalties=e.penalties,this._employeeAllowanceHistory.paidvacations=e.vacations,this._employeeAllowanceHistory.vacationpay=e.vacationpay,this._employeeAllowanceHistory.sickleave=e.sickleave,this._employeeAllowanceHistory.termination=e.termination,this._employeeAllowanceHistory.subjecttotaxes=e.subjecttotaxes,this._employeeAllowanceHistory.subjecttoinsurances=e.subjecttoinsurances,this.onDeductibilityChange()}onDeductibilityChange(){if(1==this._employeeAllowanceHistory.deductibility&&(this._employeeAllowanceHistory.absences=!0,this._employeeAllowanceHistory.penalties=!0,this._employeeAllowanceHistory.sickleave=!0),2==this._employeeAllowanceHistory.deductibility&&(this._employeeAllowanceHistory.absences=!1,this._employeeAllowanceHistory.penalties=!1,this._employeeAllowanceHistory.sickleave=!1),3==this._employeeAllowanceHistory.deductibility&&0==this.SelectAll){var e=this.AllowancesTypeList.filter(e=>e.id==this._employeeAllowanceHistory.allowancetypeid)[0];this._employeeAllowanceHistory.absences=e.absences,this._employeeAllowanceHistory.penalties=e.penalties,this._employeeAllowanceHistory.sickleave=e.sickleave}}OnSelectAllChange(){1==this.SelectAll?(this._employeeAllowanceHistory.overtime=!0,this._employeeAllowanceHistory.rewards=!0,this._employeeAllowanceHistory.absences=!0,this._employeeAllowanceHistory.penalties=!0,this._employeeAllowanceHistory.paidvacations=!0,this._employeeAllowanceHistory.vacationpay=!0,this._employeeAllowanceHistory.sickleave=!0,this._employeeAllowanceHistory.termination=!0,this._employeeAllowanceHistory.subjecttotaxes=!0,this._employeeAllowanceHistory.subjecttoinsurances=!0):(this._employeeAllowanceHistory.overtime=!1,this._employeeAllowanceHistory.rewards=!1,this._employeeAllowanceHistory.absences=!1,this._employeeAllowanceHistory.penalties=!1,this._employeeAllowanceHistory.paidvacations=!1,this._employeeAllowanceHistory.vacationpay=!1,this._employeeAllowanceHistory.sickleave=!1,this._employeeAllowanceHistory.termination=!1,this._employeeAllowanceHistory.subjecttotaxes=!1,this._employeeAllowanceHistory.subjecttoinsurances=!1),this.onDeductibilityChange()}onStartingFromDateChange(){null==this._employeeAllowanceHistory.startdate&&null==this._employeeAllowanceHistory.startdate||(null!=this.EmployeeAllowanceHistoryDate&&null!=this.EmployeeAllowanceHistoryDate||(this.StartDateFirstRecoredRangeVaild=!(null==this.EmployeeDateOfHiring&&this._employeeAllowanceHistory.startdate<this.EmployeeWorkStartDate||null!=this.EmployeeDateOfHiring&&this._employeeAllowanceHistory.startdate<this.EmployeeDateOfHiring)),this.StartDateOtherRecoredRangeVaild=!(null!=this.EmployeeAllowanceHistoryDate&&this._employeeAllowanceHistory.startdate<=this.EmployeeAllowanceHistoryDate))}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(){this.manuallySubmitted=!0,this._employeeAllowanceHistory.amountofallowance==this.EmployeeAllowanceHistoryAmount&&this._employeeAllowanceHistory.deductibility==this.EmployeeAllowanceHistoryDeductibility&&this._employeeAllowanceHistory.overtime==this.EmployeeAllowanceHistoryOvertime&&this._employeeAllowanceHistory.rewards==this.EmployeeAllowanceHistoryRewards&&this._employeeAllowanceHistory.absences==this.EmployeeAllowanceHistoryAbsences&&this._employeeAllowanceHistory.penalties==this.EmployeeAllowanceHistoryPenalties&&this._employeeAllowanceHistory.paidvacations==this.EmployeeAllowanceHistoryPaidVacations&&this._employeeAllowanceHistory.vacationpay==this.EmployeeAllowanceHistoryVacationPay&&this._employeeAllowanceHistory.sickleave==this.EmployeeAllowanceHistorySickLeave&&this._employeeAllowanceHistory.termination==this.EmployeeAllowanceHistoryTermination&&this._employeeAllowanceHistory.subjecttotaxes==this.EmployeeAllowanceHistorySubjectToTaxes&&this._employeeAllowanceHistory.subjecttoinsurances==this.EmployeeAllowanceHistorySubjectToInsurances?(this.AllowanceIDOtherRecoredVaild=!1,this.toastr.error(this.NoChangeOnOldData)):(this.AllowanceIDOtherRecoredVaild=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.AllowanceIDOtherRecoredVaild&&(this._employeeAllowanceHistory.employeeid=this.employeeid,this._employeeAllowanceHistory.subsidaryid=this.subsidiaryID,this._employeeAllowanceHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeAllowanceHistory(this._employeeAllowanceHistory).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}):(this._employeeAllowanceHistory.allowancestatus=1,this._changeEmployeeDataService.CreateEmployeeAllowanceHistory(this._employeeAllowanceHistory).subscribe(e=>{this._employeeAllowanceHistory.id=e.data[0].id,this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()})),this.manuallySubmitted=!1))}NotToMissData(e){return(0,qr.mG)(this,void 0,void 0,function*(){if(this._oldEmployeeAllowanceHistory!==JSON.stringify(this._employeeAllowanceHistory)){const e=yield k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});return!e.isConfirmed||1!=e.isConfirmed}return!0})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](Qi.w),g["\u0275\u0275directiveInject"](Ja))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-allowance-form"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](Ws,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid",employeeAllowanceHistoryID:"employeeAllowanceHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent",dataToParentCanDelete:"dataToParentCanDelete"},decls:170,vars:141,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","allowancetypeid",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","allowancetypeid",1,"form-control",3,"ngModel","required","ngClass","disabled","ngModelChange","change"],["AllowanceTypeId","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["style","color: red",4,"ngIf"],["id","StartingFromDate",1,"col-form-label"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"required","ngModel","ngClass","disabled","ngModelChange","change"],["DateStartDate","ngModel"],[1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","AmountOfAllowance","required","",1,"form-control",2,"text-align","right",3,"ngModel","ngClass","disabled","ngModelChange"],["AmountOfAllowance","ngModel"],["id","AllowanceStatus",1,"col-form-label"],["type","text","name","AllowanceStatus","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-md-12"],["id","deductibility",1,"col-form-label"],["name","deductibility",1,"form-control",3,"ngModel","disabled","ngModelChange","change"],["id","appearanceonpayroll",1,"col-form-label"],["name","appearanceonpayroll",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-lg-2","col-md-2","col-sm-12","mb-2","mb-md-0"],["type","checkbox","name","SelectAll",3,"ngModel","disabled","ngModelChange","change"],["for","sort",1,"col-form-label"],[1,"col-lg-7","col-md-7","col-sm-12","mb-2","mb-md-0",2,"border","1px ridge"],[1,"row",2,"margin-top","20px"],["type","checkbox","name","Overtime",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","Absences",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","PaidVacations",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","SickLeave",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","SubjectToTaxes",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","Rewards",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","Penalties",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","VacationPay",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","Termination",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","SubjectToInsurances",3,"ngModel","disabled","ngModelChange"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","DateOfSuspensionOrResumption",1,"col-form-label"],["type","text","name","DateOfSuspensionOrResumption","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],[4,"ngIf"],[2,"color","red"],["type","text","name","AllowanceStatus","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementStart"](9,"span",6),g["\u0275\u0275text"](10,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"select",7,8),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.allowancetypeid=e})("change",function(){return t.onAllowanceTypeChange()}),g["\u0275\u0275elementStart"](13,"option",9),g["\u0275\u0275text"](14),g["\u0275\u0275pipe"](15,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](16,ed,3,3,"option",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](17,td,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"div",3),g["\u0275\u0275elementStart"](19,"div",4),g["\u0275\u0275elementStart"](20,"label",12),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementStart"](23,"span",6),g["\u0275\u0275text"](24,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"input",13,14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](28,nd,3,3,"span",11),g["\u0275\u0275template"](29,ad,3,3,"span",11),g["\u0275\u0275template"](30,id,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"div",3),g["\u0275\u0275elementStart"](32,"div",4),g["\u0275\u0275elementStart"](33,"label",15),g["\u0275\u0275text"](34),g["\u0275\u0275pipe"](35,"translate"),g["\u0275\u0275elementStart"](36,"span",6),g["\u0275\u0275text"](37,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"input",16,17),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.amountofallowance=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](40,ld,3,3,"span",11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"div",3),g["\u0275\u0275elementStart"](42,"div",4),g["\u0275\u0275elementStart"](43,"label",18),g["\u0275\u0275text"](44),g["\u0275\u0275pipe"](45,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](46,rd,1,1,"input",19),g["\u0275\u0275template"](47,od,1,1,"input",19),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](48,"div",2),g["\u0275\u0275elementStart"](49,"div",3),g["\u0275\u0275elementStart"](50,"div",2),g["\u0275\u0275elementStart"](51,"div",20),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"label",21),g["\u0275\u0275text"](54),g["\u0275\u0275pipe"](55,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](56,"select",22),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.deductibility=e})("change",function(){return t.onDeductibilityChange()}),g["\u0275\u0275template"](57,cd,3,3,"option",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](58,"div",20),g["\u0275\u0275elementStart"](59,"div",4),g["\u0275\u0275elementStart"](60,"label",23),g["\u0275\u0275text"](61),g["\u0275\u0275pipe"](62,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](63,"select",24),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.appearanceonpayroll=e}),g["\u0275\u0275template"](64,hd,3,3,"option",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](65,"div",25),g["\u0275\u0275elementStart"](66,"div",2),g["\u0275\u0275elementStart"](67,"div",20),g["\u0275\u0275elementStart"](68,"div",4),g["\u0275\u0275elementStart"](69,"label",15),g["\u0275\u0275text"](70),g["\u0275\u0275pipe"](71,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](72,"div",2),g["\u0275\u0275elementStart"](73,"div",20),g["\u0275\u0275elementStart"](74,"div",4),g["\u0275\u0275elementStart"](75,"input",26),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.SelectAll=e})("change",function(){return t.OnSelectAllChange()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](76,"label",27),g["\u0275\u0275text"](77),g["\u0275\u0275pipe"](78,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](79,"div",28),g["\u0275\u0275elementStart"](80,"div",29),g["\u0275\u0275elementStart"](81,"div",25),g["\u0275\u0275elementStart"](82,"div",4),g["\u0275\u0275elementStart"](83,"input",30),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.overtime=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](84,"label",27),g["\u0275\u0275text"](85),g["\u0275\u0275pipe"](86,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](87,"div",25),g["\u0275\u0275elementStart"](88,"div",4),g["\u0275\u0275elementStart"](89,"input",31),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.absences=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](90,"label",27),g["\u0275\u0275text"](91),g["\u0275\u0275pipe"](92,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](93,"div",3),g["\u0275\u0275elementStart"](94,"div",4),g["\u0275\u0275elementStart"](95,"input",32),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.paidvacations=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](96,"label",27),g["\u0275\u0275text"](97),g["\u0275\u0275pipe"](98,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](99,"div",25),g["\u0275\u0275elementStart"](100,"div",4),g["\u0275\u0275elementStart"](101,"input",33),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.sickleave=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](102,"label",27),g["\u0275\u0275text"](103),g["\u0275\u0275pipe"](104,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](105,"div",3),g["\u0275\u0275elementStart"](106,"div",4),g["\u0275\u0275elementStart"](107,"input",34),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.subjecttotaxes=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](108,"label",27),g["\u0275\u0275text"](109),g["\u0275\u0275pipe"](110,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](111,"div",29),g["\u0275\u0275elementStart"](112,"div",25),g["\u0275\u0275elementStart"](113,"div",4),g["\u0275\u0275elementStart"](114,"input",35),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.rewards=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](115,"label",27),g["\u0275\u0275text"](116),g["\u0275\u0275pipe"](117,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](118,"div",25),g["\u0275\u0275elementStart"](119,"div",4),g["\u0275\u0275elementStart"](120,"input",36),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.penalties=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](121,"label",27),g["\u0275\u0275text"](122),g["\u0275\u0275pipe"](123,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](124,"div",3),g["\u0275\u0275elementStart"](125,"div",4),g["\u0275\u0275elementStart"](126,"input",37),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.vacationpay=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](127,"label",27),g["\u0275\u0275text"](128),g["\u0275\u0275pipe"](129,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](130,"div",25),g["\u0275\u0275elementStart"](131,"div",4),g["\u0275\u0275elementStart"](132,"input",38),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.termination=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](133,"label",27),g["\u0275\u0275text"](134),g["\u0275\u0275pipe"](135,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](136,"div",3),g["\u0275\u0275elementStart"](137,"div",4),g["\u0275\u0275elementStart"](138,"input",39),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.subjecttoinsurances=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](139,"label",27),g["\u0275\u0275text"](140),g["\u0275\u0275pipe"](141,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](142,"div",2),g["\u0275\u0275elementStart"](143,"div",3),g["\u0275\u0275elementStart"](144,"div",4),g["\u0275\u0275elementStart"](145,"label",40),g["\u0275\u0275text"](146),g["\u0275\u0275pipe"](147,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](148,"input",41),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.notes=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](149,"div",3),g["\u0275\u0275elementStart"](150,"div",4),g["\u0275\u0275elementStart"](151,"label",42),g["\u0275\u0275text"](152),g["\u0275\u0275pipe"](153,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](154,ud,1,1,"input",43),g["\u0275\u0275template"](155,yd,1,1,"input",43),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](156,"div",3),g["\u0275\u0275elementStart"](157,"div",4),g["\u0275\u0275elementStart"](158,"label",44),g["\u0275\u0275text"](159),g["\u0275\u0275pipe"](160,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](161,"input",45),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.editingdate=e}),g["\u0275\u0275pipe"](162,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](163,"div",3),g["\u0275\u0275elementStart"](164,"div",4),g["\u0275\u0275elementStart"](165,"label",46),g["\u0275\u0275text"](166),g["\u0275\u0275pipe"](167,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](168,"input",47),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.dateofsuspensionorresumption=e}),g["\u0275\u0275pipe"](169,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275reference"](12),n=g["\u0275\u0275reference"](26),a=g["\u0275\u0275reference"](39);g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](8,77,"AllowanceType")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.allowancetypeid)("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](132,gd,e.invalid&&t.manuallySubmitted,e.valid&&t.manuallySubmitted))("disabled",1!=t._employeeAllowanceHistory.allowancestatus||1==t._employeeAllowanceHistory.allowancestatus&&null!=t._employeeAllowanceHistory.dateofsuspensionorresumption),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](15,79,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.AllowancesTypeList),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](22,81,"StartingFromDate")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("required",!0)("ngModel",g["\u0275\u0275pipeBind2"](27,83,t._employeeAllowanceHistory.startdate,"yyyy-MM-dd"))("ngClass",g["\u0275\u0275pureFunction2"](135,gd,n.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,n.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild))("disabled",1!=t._employeeAllowanceHistory.allowancestatus||1==t._employeeAllowanceHistory.allowancestatus&&null!=t._employeeAllowanceHistory.dateofsuspensionorresumption),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](35,86,"AmountOfAllowance")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.amountofallowance)("ngClass",g["\u0275\u0275pureFunction2"](138,gd,a.invalid&&t.manuallySubmitted,a.valid&&t.manuallySubmitted))("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](45,88,"AllowanceStatus")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](55,90,"Deductibility")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.deductibility)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.DeductibilityList),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](62,92,"AppearanceOnPayroll")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.appearanceonpayroll)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.AppearanceOnPayrollList),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](71,94,"AddedWhenCalculatingValue")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",t.SelectAll)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](78,96,"SelectAll")),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.overtime)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](86,98,"Overtime")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.absences)("disabled",3!=t._employeeAllowanceHistory.deductibility||1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](92,100,"Absences")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.paidvacations)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](98,102,"PaidVacations")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.sickleave)("disabled",3!=t._employeeAllowanceHistory.deductibility||1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](104,104,"SickLeave")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.subjecttotaxes)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](110,106,"SubjectToTaxes")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.rewards)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](117,108,"Rewards")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.penalties)("disabled",3!=t._employeeAllowanceHistory.deductibility||1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](123,110,"Penalties")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.vacationpay)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](129,112,"VacationPay")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.termination)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](135,114,"Termination")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.subjecttoinsurances)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](141,116,"SubjectToInsurances")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](147,118,"Notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.notes)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](153,120,"Editor")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](160,122,"EditingDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](162,124,t._employeeAllowanceHistory.editingdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](167,127,"DateOfSuspensionOrResumption")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](169,129,t._employeeAllowanceHistory.dateofsuspensionorresumption,"dd/MM/yyyy"))}},directives:[r._Y,r.JL,r.F,r.EJ,r.JJ,r.On,r.Q7,a.mk,r.YN,r.Kr,a.sg,a.O5,r.Fj,ht.L,r.Wl],pipes:[m.X$,a.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();const Sd=["VacationRForm"];function fd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.branchname_ar)}}function bd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.branchname_en)}}function Ed(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_ar)}}function xd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_en)}}function Cd(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275elementStart"](1,"button",9),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]().$implicit;return g["\u0275\u0275nextContext"](2).onEditClick(t.id,t.rowno)}),g["\u0275\u0275element"](2,"i",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function Dd(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275elementStart"](1,"tr",8),g["\u0275\u0275elementStart"](2,"td"),g["\u0275\u0275elementStart"](3,"div"),g["\u0275\u0275elementStart"](4,"span"),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"td"),g["\u0275\u0275elementStart"](7,"div"),g["\u0275\u0275elementStart"](8,"span"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td"),g["\u0275\u0275elementStart"](12,"div"),g["\u0275\u0275template"](13,fd,2,1,"span",5),g["\u0275\u0275template"](14,bd,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"td"),g["\u0275\u0275elementStart"](16,"div"),g["\u0275\u0275elementStart"](17,"span"),g["\u0275\u0275text"](18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"td"),g["\u0275\u0275elementStart"](20,"div"),g["\u0275\u0275template"](21,Ed,2,1,"span",5),g["\u0275\u0275template"](22,xd,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"td"),g["\u0275\u0275elementStart"](24,"div"),g["\u0275\u0275elementStart"](25,"span"),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"td"),g["\u0275\u0275elementStart"](29,"div"),g["\u0275\u0275template"](30,Cd,3,0,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](null==e?null:e.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](10,9,null==e?null:e.startdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.notes),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](27,12,null==e?null:e.editingdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",n.checkRoleParms(438))}}function _d(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"tbody"),g["\u0275\u0275template"](1,Dd,31,15,"ng-container",7),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.EmployeeBranchHistoryList)}}function Id(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",11),g["\u0275\u0275elementStart"](1,"ngb-pagination",12),g["\u0275\u0275listener"]("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNoChange(t)})("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNo=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](2,"p"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",13),g["\u0275\u0275listener"]("change",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageSize=t}),g["\u0275\u0275elementStart"](5,"option",14),g["\u0275\u0275text"](6,"10 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"option",15),g["\u0275\u0275text"](8,"20 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"option",16),g["\u0275\u0275text"](10,"50 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"option",17),g["\u0275\u0275text"](12,"100 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](13,"br"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngModel",e.PageSize)}}let wd=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cdr=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._employeeVacationsService=d,this._changeEmployeeDataService=c,this._printService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeBranchHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new g.EventEmitter,this.parentEdit=new g.EventEmitter,this._searchModel=new y.h,this._filterAttribute=new oi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}ngOnInit(){this.GetData()}GetData(){setTimeout(()=>{this._changeEmployeeDataService.GetAllEmployeeBranchHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.EmployeeBranchHistoryList=e.data,this.cdr.markForCheck()}),this._changeEmployeeDataService.CountOfEmployeeBranchHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.totalCount=e.employees,this.cdr.markForCheck()})},0)}onEditClick(e,t){return(0,qr.mG)(this,void 0,void 0,function*(){this.parentEdit.emit({id:e,rowno:t})})}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}Print(e){let t=" ",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",l="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",r="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0641\u0631\u0639":"Branch change movements",o="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",s="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639 \u0627\u0644\u062c\u062f\u064a\u062f":"The new branch",c="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",m="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",p="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeBranchHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(h=>{this.cdr.markForCheck(),t=`\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${i}</div>\n        <br>\n        <div class="text-center"   dir=${n}>${l} : ${e}</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${r}</div>\n      <br>\n      <div dir=${n}>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>${o}</th>              \n            <th>${s}</th>\n            <th>${d}</th>              \n            <th>${c}</th>\n            <th>${m}</th>\n            <th>${p}</th>\n            </tr>\n           </thead>\n           <tbody>\n      `;var u=new a.uU("en-US");h.data.map(e=>{t+=`\n          <tr>\n            <td>${e.code}</td>\n            <td>${u.transform(e.startdate,"dd/MM/yyyy")}</td>\n            <td>${"ar"==this.lang?e.branchname_ar:e.branchname_en}</td>\n            <td>${e.notes}</td>\n            <td>${"ar"==this.lang?e.editor_ar:e.editor_en}</td>\n            <td>${u.transform(e.editingdate,"dd/MM/yyyy")}</td>\n          </tr>\n        `}),t+="</tbody></table></div>",this._printService.OnPrintContent(t)})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](b.$))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-branch-list"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](Sd,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:29,vars:23,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"h6",2),g["\u0275\u0275text"](3),g["\u0275\u0275pipe"](4,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div"),g["\u0275\u0275elementStart"](6,"table",3),g["\u0275\u0275elementStart"](7,"thead"),g["\u0275\u0275elementStart"](8,"th"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"th"),g["\u0275\u0275text"](12),g["\u0275\u0275pipe"](13,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"th"),g["\u0275\u0275text"](15),g["\u0275\u0275pipe"](16,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"th"),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"th"),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"th"),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](26,"th",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](27,_d,2,1,"tbody",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](28,Id,14,7,"div",6)),2&e&&(g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](4,9,"BranchChangeMovements")," "),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,11,"Serial")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](13,13,"StartingFromDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](16,15,"TheNewBranch")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,17,"Notes")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,19,"Editor")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](25,21,"EditingDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.EmployeeBranchHistoryList.length>0&&t.employeeid>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[a.O5,a.sg,di.N9,r.EJ,r.JJ,r.On,r.YN,r.Kr],pipes:[m.X$,a.uU],styles:[""]}),e})();const Td=["VacationRForm"];function Md(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.sectionname_ar)}}function kd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.sectionname_en)}}function Bd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_ar)}}function Fd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_en)}}function Hd(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275elementStart"](1,"button",9),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]().$implicit;return g["\u0275\u0275nextContext"](2).onEditClick(t.id,t.rowno)}),g["\u0275\u0275element"](2,"i",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function Rd(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275elementStart"](1,"tr",8),g["\u0275\u0275elementStart"](2,"td"),g["\u0275\u0275elementStart"](3,"div"),g["\u0275\u0275elementStart"](4,"span"),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"td"),g["\u0275\u0275elementStart"](7,"div"),g["\u0275\u0275elementStart"](8,"span"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td"),g["\u0275\u0275elementStart"](12,"div"),g["\u0275\u0275template"](13,Md,2,1,"span",5),g["\u0275\u0275template"](14,kd,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"td"),g["\u0275\u0275elementStart"](16,"div"),g["\u0275\u0275elementStart"](17,"span"),g["\u0275\u0275text"](18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"td"),g["\u0275\u0275elementStart"](20,"div"),g["\u0275\u0275template"](21,Bd,2,1,"span",5),g["\u0275\u0275template"](22,Fd,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"td"),g["\u0275\u0275elementStart"](24,"div"),g["\u0275\u0275elementStart"](25,"span"),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"td"),g["\u0275\u0275elementStart"](29,"div"),g["\u0275\u0275template"](30,Hd,3,0,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](null==e?null:e.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](10,9,null==e?null:e.startdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.notes),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](27,12,null==e?null:e.editingdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",n.checkRoleParms(438))}}function Od(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"tbody"),g["\u0275\u0275template"](1,Rd,31,15,"ng-container",7),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.EmployeeSectionHistoryList)}}function Vd(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",11),g["\u0275\u0275elementStart"](1,"ngb-pagination",12),g["\u0275\u0275listener"]("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNoChange(t)})("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNo=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](2,"p"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",13),g["\u0275\u0275listener"]("change",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageSize=t}),g["\u0275\u0275elementStart"](5,"option",14),g["\u0275\u0275text"](6,"10 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"option",15),g["\u0275\u0275text"](8,"20 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"option",16),g["\u0275\u0275text"](10,"50 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"option",17),g["\u0275\u0275text"](12,"100 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](13,"br"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngModel",e.PageSize)}}let Ad=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cdr=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._employeeVacationsService=d,this._changeEmployeeDataService=c,this._printService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeSectionHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new g.EventEmitter,this.parentEdit=new g.EventEmitter,this._searchModel=new y.h,this._filterAttribute=new oi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}ngOnInit(){this.GetData()}GetData(){setTimeout(()=>{this._changeEmployeeDataService.GetAllEmployeeSectionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.EmployeeSectionHistoryList=e.data,this.cdr.markForCheck()}),this._changeEmployeeDataService.CountOfEmployeeSectionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.totalCount=e.employees,this.cdr.markForCheck()})},0)}onEditClick(e,t){return(0,qr.mG)(this,void 0,void 0,function*(){this.parentEdit.emit({id:e,rowno:t})})}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}Print(e){let t=" ",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",l="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",r="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0625\u062f\u0627\u0631\u0629":"Section change movements",o="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",s="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629":"The new Section",c="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",m="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",p="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeSectionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(h=>{this.cdr.markForCheck(),t=`\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${i}</div>\n        <br>\n        <div class="text-center"   dir=${n}>${l} : ${e}</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${r}</div>\n      <br>\n      <div dir=${n}>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>${o}</th>              \n            <th>${s}</th>\n            <th>${d}</th>              \n            <th>${c}</th>\n            <th>${m}</th>\n            <th>${p}</th>\n            </tr>\n           </thead>\n           <tbody>\n      `;var u=new a.uU("en-US");h.data.map(e=>{t+=`\n          <tr>\n            <td>${e.code}</td>\n            <td>${u.transform(e.startdate,"dd/MM/yyyy")}</td>\n            <td>${"ar"==this.lang?e.sectionname_ar:e.sectionname_en}</td>\n            <td>${e.notes}</td>\n            <td>${"ar"==this.lang?e.editor_ar:e.editor_en}</td>\n            <td>${u.transform(e.editingdate,"dd/MM/yyyy")}</td>\n          </tr>\n        `}),t+="</tbody></table></div>",this._printService.OnPrintContent(t)})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](b.$))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-section-list"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](Td,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:29,vars:23,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"h6",2),g["\u0275\u0275text"](3),g["\u0275\u0275pipe"](4,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div"),g["\u0275\u0275elementStart"](6,"table",3),g["\u0275\u0275elementStart"](7,"thead"),g["\u0275\u0275elementStart"](8,"th"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"th"),g["\u0275\u0275text"](12),g["\u0275\u0275pipe"](13,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"th"),g["\u0275\u0275text"](15),g["\u0275\u0275pipe"](16,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"th"),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"th"),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"th"),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](26,"th",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](27,Od,2,1,"tbody",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](28,Vd,14,7,"div",6)),2&e&&(g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](4,9,"SectionChangeMovements")," "),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,11,"Serial")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](13,13,"StartingFromDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](16,15,"TheNewSection")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,17,"Notes")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,19,"Editor")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](25,21,"EditingDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.EmployeeSectionHistoryList.length>0&&t.employeeid>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[a.O5,a.sg,di.N9,r.EJ,r.JJ,r.On,r.YN,r.Kr],pipes:[m.X$,a.uU],styles:[""]}),e})();const Nd=["VacationRForm"];function Gd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.departmentname_ar)}}function Pd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.departmentname_en)}}function jd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_ar)}}function $d(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_en)}}function Ud(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275elementStart"](1,"button",9),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]().$implicit;return g["\u0275\u0275nextContext"](2).onEditClick(t.id,t.rowno)}),g["\u0275\u0275element"](2,"i",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function Ld(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275elementStart"](1,"tr",8),g["\u0275\u0275elementStart"](2,"td"),g["\u0275\u0275elementStart"](3,"div"),g["\u0275\u0275elementStart"](4,"span"),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"td"),g["\u0275\u0275elementStart"](7,"div"),g["\u0275\u0275elementStart"](8,"span"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td"),g["\u0275\u0275elementStart"](12,"div"),g["\u0275\u0275template"](13,Gd,2,1,"span",5),g["\u0275\u0275template"](14,Pd,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"td"),g["\u0275\u0275elementStart"](16,"div"),g["\u0275\u0275elementStart"](17,"span"),g["\u0275\u0275text"](18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"td"),g["\u0275\u0275elementStart"](20,"div"),g["\u0275\u0275template"](21,jd,2,1,"span",5),g["\u0275\u0275template"](22,$d,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"td"),g["\u0275\u0275elementStart"](24,"div"),g["\u0275\u0275elementStart"](25,"span"),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"td"),g["\u0275\u0275elementStart"](29,"div"),g["\u0275\u0275template"](30,Ud,3,0,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](null==e?null:e.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](10,9,null==e?null:e.startdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.notes),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](27,12,null==e?null:e.editingdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",n.checkRoleParms(438))}}function Jd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"tbody"),g["\u0275\u0275template"](1,Ld,31,15,"ng-container",7),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.EmployeeDepartmentHistoryList)}}function zd(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",11),g["\u0275\u0275elementStart"](1,"ngb-pagination",12),g["\u0275\u0275listener"]("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNoChange(t)})("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNo=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](2,"p"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",13),g["\u0275\u0275listener"]("change",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageSize=t}),g["\u0275\u0275elementStart"](5,"option",14),g["\u0275\u0275text"](6,"10 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"option",15),g["\u0275\u0275text"](8,"20 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"option",16),g["\u0275\u0275text"](10,"50 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"option",17),g["\u0275\u0275text"](12,"100 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](13,"br"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngModel",e.PageSize)}}let Yd=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cdr=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._employeeVacationsService=d,this._changeEmployeeDataService=c,this._printService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeDepartmentHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new g.EventEmitter,this.parentEdit=new g.EventEmitter,this._searchModel=new y.h,this._filterAttribute=new oi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}ngOnInit(){this.GetData()}GetData(){setTimeout(()=>{this._changeEmployeeDataService.GetAllEmployeeDepartmentHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.EmployeeDepartmentHistoryList=e.data,this.cdr.markForCheck()}),this._changeEmployeeDataService.CountOfEmployeeDepartmentHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.totalCount=e.employees,this.cdr.markForCheck()})},0)}onEditClick(e,t){return(0,qr.mG)(this,void 0,void 0,function*(){this.parentEdit.emit({id:e,rowno:t})})}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}Print(e){let t=" ",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",l="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",r="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0642\u0633\u0645":"Department change movements",o="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",s="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u062c\u062f\u064a\u062f":"The new Department",c="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",m="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",p="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeDepartmentHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(h=>{this.cdr.markForCheck(),t=`\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${i}</div>\n        <br>\n        <div class="text-center"   dir=${n}>${l} : ${e}</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${r}</div>\n      <br>\n      <div dir=${n}>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>${o}</th>              \n            <th>${s}</th>\n            <th>${d}</th>              \n            <th>${c}</th>\n            <th>${m}</th>\n            <th>${p}</th>\n            </tr>\n           </thead>\n           <tbody>\n      `;var u=new a.uU("en-US");h.data.map(e=>{t+=`\n          <tr>\n            <td>${e.code}</td>\n            <td>${u.transform(e.startdate,"dd/MM/yyyy")}</td>\n            <td>${"ar"==this.lang?e.departmentname_ar:e.departmentname_en}</td>\n            <td>${e.notes}</td>\n            <td>${"ar"==this.lang?e.editor_ar:e.editor_en}</td>\n            <td>${u.transform(e.editingdate,"dd/MM/yyyy")}</td>\n          </tr>\n        `}),t+="</tbody></table></div>",this._printService.OnPrintContent(t)})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](b.$))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-department-list"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](Nd,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:29,vars:23,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"h6",2),g["\u0275\u0275text"](3),g["\u0275\u0275pipe"](4,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div"),g["\u0275\u0275elementStart"](6,"table",3),g["\u0275\u0275elementStart"](7,"thead"),g["\u0275\u0275elementStart"](8,"th"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"th"),g["\u0275\u0275text"](12),g["\u0275\u0275pipe"](13,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"th"),g["\u0275\u0275text"](15),g["\u0275\u0275pipe"](16,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"th"),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"th"),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"th"),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](26,"th",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](27,Jd,2,1,"tbody",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](28,zd,14,7,"div",6)),2&e&&(g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](4,9,"DepartmentChangeMovements")," "),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,11,"Serial")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](13,13,"StartingFromDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](16,15,"TheNewDepartment")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,17,"Notes")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,19,"Editor")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](25,21,"EditingDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.EmployeeDepartmentHistoryList.length>0&&t.employeeid>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[a.O5,a.sg,di.N9,r.EJ,r.JJ,r.On,r.YN,r.Kr],pipes:[m.X$,a.uU],styles:[""]}),e})();const qd=["VacationRForm"];function Qd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.costcentername_ar)}}function Kd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.costcentername_en)}}function Wd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_ar)}}function Xd(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_en)}}function Zd(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275elementStart"](1,"button",9),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]().$implicit;return g["\u0275\u0275nextContext"](2).onEditClick(t.id,t.rowno)}),g["\u0275\u0275element"](2,"i",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function ec(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275elementStart"](1,"tr",8),g["\u0275\u0275elementStart"](2,"td"),g["\u0275\u0275elementStart"](3,"div"),g["\u0275\u0275elementStart"](4,"span"),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"td"),g["\u0275\u0275elementStart"](7,"div"),g["\u0275\u0275elementStart"](8,"span"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td"),g["\u0275\u0275elementStart"](12,"div"),g["\u0275\u0275template"](13,Qd,2,1,"span",5),g["\u0275\u0275template"](14,Kd,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"td"),g["\u0275\u0275elementStart"](16,"div"),g["\u0275\u0275elementStart"](17,"span"),g["\u0275\u0275text"](18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"td"),g["\u0275\u0275elementStart"](20,"div"),g["\u0275\u0275template"](21,Wd,2,1,"span",5),g["\u0275\u0275template"](22,Xd,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"td"),g["\u0275\u0275elementStart"](24,"div"),g["\u0275\u0275elementStart"](25,"span"),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"td"),g["\u0275\u0275elementStart"](29,"div"),g["\u0275\u0275template"](30,Zd,3,0,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](null==e?null:e.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](10,9,null==e?null:e.startdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.notes),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](27,12,null==e?null:e.editingdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",n.checkRoleParms(438))}}function tc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"tbody"),g["\u0275\u0275template"](1,ec,31,15,"ng-container",7),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.EmployeeCostcenterHistoryList)}}function nc(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",11),g["\u0275\u0275elementStart"](1,"ngb-pagination",12),g["\u0275\u0275listener"]("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNoChange(t)})("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNo=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](2,"p"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",13),g["\u0275\u0275listener"]("change",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageSize=t}),g["\u0275\u0275elementStart"](5,"option",14),g["\u0275\u0275text"](6,"10 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"option",15),g["\u0275\u0275text"](8,"20 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"option",16),g["\u0275\u0275text"](10,"50 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"option",17),g["\u0275\u0275text"](12,"100 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](13,"br"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngModel",e.PageSize)}}let ac=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cdr=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._employeeVacationsService=d,this._changeEmployeeDataService=c,this._printService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeCostcenterHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new g.EventEmitter,this.parentEdit=new g.EventEmitter,this._searchModel=new y.h,this._filterAttribute=new oi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}ngOnInit(){this.GetData()}GetData(){setTimeout(()=>{this._changeEmployeeDataService.GetAllEmployeeCostcenterHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.EmployeeCostcenterHistoryList=e.data,this.cdr.markForCheck()}),this._changeEmployeeDataService.CountOfEmployeeCostcenterHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.totalCount=e.employees,this.cdr.markForCheck()})},0)}onEditClick(e,t){return(0,qr.mG)(this,void 0,void 0,function*(){this.parentEdit.emit({id:e,rowno:t})})}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}Print(e){let t=" ",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",l="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",r="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0645\u0631\u0643\u0632 \u0627\u0644\u062a\u0643\u0644\u0641\u0629":"Cost center change movements",o="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",s="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0645\u0631\u0643\u0632 \u0627\u0644\u062a\u0643\u0644\u0641\u0629 \u0627\u0644\u062c\u062f\u064a\u062f":"The new Cost center",c="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",m="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",p="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeCostcenterHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(h=>{this.cdr.markForCheck(),t=`\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${i}</div>\n        <br>\n        <div class="text-center"   dir=${n}>${l} : ${e}</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${r}</div>\n      <br>\n        <div dir=${n}>\n             <table class="table text-center m-0 table table-striped"  border="1px"  >\n             <thead>\n              <tr style="background: #e9f1f5;color: cornflowerblue;">\n              <th>${o}</th>              \n              <th>${s}</th>\n              <th>${d}</th>              \n              <th>${c}</th>\n              <th>${m}</th>\n              <th>${p}</th>\n              </tr>\n             </thead>\n             <tbody>\n        `;var u=new a.uU("en-US");h.data.map(e=>{t+=`\n            <tr>\n              <td>${e.code}</td>\n              <td>${u.transform(e.startdate,"dd/MM/yyyy")}</td>\n              <td>${"ar"==this.lang?e.costcentername_ar:e.costcentername_en}</td>\n              <td>${e.notes}</td>\n              <td>${"ar"==this.lang?e.editor_ar:e.editor_en}</td>\n              <td>${u.transform(e.editingdate,"dd/MM/yyyy")}</td>\n            </tr>\n          `}),t+="</tbody></table></div>",this._printService.OnPrintContent(t)})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](b.$))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-costcenter-list"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](qd,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:29,vars:23,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"h6",2),g["\u0275\u0275text"](3),g["\u0275\u0275pipe"](4,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div"),g["\u0275\u0275elementStart"](6,"table",3),g["\u0275\u0275elementStart"](7,"thead"),g["\u0275\u0275elementStart"](8,"th"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"th"),g["\u0275\u0275text"](12),g["\u0275\u0275pipe"](13,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"th"),g["\u0275\u0275text"](15),g["\u0275\u0275pipe"](16,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"th"),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"th"),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"th"),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](26,"th",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](27,tc,2,1,"tbody",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](28,nc,14,7,"div",6)),2&e&&(g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](4,9,"CostcenterChangeMovements")," "),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,11,"Serial")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](13,13,"StartingFromDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](16,15,"TheNewCostcenter")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,17,"Notes")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,19,"Editor")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](25,21,"EditingDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.EmployeeCostcenterHistoryList.length>0&&t.employeeid>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[a.O5,a.sg,di.N9,r.EJ,r.JJ,r.On,r.YN,r.Kr],pipes:[m.X$,a.uU],styles:[""]}),e})();const ic=["VacationRForm"];function lc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.professionsjobname_ar)}}function rc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.professionsjobname_en)}}function oc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.contracttypename_ar)}}function sc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.contracttypename_en)}}function dc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_ar)}}function cc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_en)}}function mc(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275elementStart"](1,"button",9),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]().$implicit;return g["\u0275\u0275nextContext"](2).onEditClick(t.id,t.rowno)}),g["\u0275\u0275element"](2,"i",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function pc(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275elementStart"](1,"tr",8),g["\u0275\u0275elementStart"](2,"td"),g["\u0275\u0275elementStart"](3,"div"),g["\u0275\u0275elementStart"](4,"span"),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"td"),g["\u0275\u0275elementStart"](7,"div"),g["\u0275\u0275elementStart"](8,"span"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td"),g["\u0275\u0275elementStart"](12,"div"),g["\u0275\u0275template"](13,lc,2,1,"span",5),g["\u0275\u0275template"](14,rc,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"td"),g["\u0275\u0275elementStart"](16,"div"),g["\u0275\u0275template"](17,oc,2,1,"span",5),g["\u0275\u0275template"](18,sc,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"td"),g["\u0275\u0275elementStart"](20,"div"),g["\u0275\u0275elementStart"](21,"span"),g["\u0275\u0275text"](22),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"td"),g["\u0275\u0275elementStart"](24,"div"),g["\u0275\u0275elementStart"](25,"span"),g["\u0275\u0275text"](26),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](27,"td"),g["\u0275\u0275elementStart"](28,"div"),g["\u0275\u0275elementStart"](29,"span"),g["\u0275\u0275text"](30),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"td"),g["\u0275\u0275elementStart"](32,"div"),g["\u0275\u0275template"](33,dc,2,1,"span",5),g["\u0275\u0275template"](34,cc,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"td"),g["\u0275\u0275elementStart"](36,"div"),g["\u0275\u0275elementStart"](37,"span"),g["\u0275\u0275text"](38),g["\u0275\u0275pipe"](39,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"td"),g["\u0275\u0275elementStart"](41,"div"),g["\u0275\u0275template"](42,mc,3,0,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](null==e?null:e.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](10,13,null==e?null:e.startdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.category),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.degree),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.notes),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](39,16,null==e?null:e.editingdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",n.checkRoleParms(438))}}function hc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"tbody"),g["\u0275\u0275template"](1,pc,43,19,"ng-container",7),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.EmployeeJobHistoryList)}}function uc(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",11),g["\u0275\u0275elementStart"](1,"ngb-pagination",12),g["\u0275\u0275listener"]("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNoChange(t)})("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNo=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](2,"p"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",13),g["\u0275\u0275listener"]("change",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageSize=t}),g["\u0275\u0275elementStart"](5,"option",14),g["\u0275\u0275text"](6,"10 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"option",15),g["\u0275\u0275text"](8,"20 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"option",16),g["\u0275\u0275text"](10,"50 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"option",17),g["\u0275\u0275text"](12,"100 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](13,"br"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngModel",e.PageSize)}}let yc=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cdr=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._employeeVacationsService=d,this._changeEmployeeDataService=c,this._printService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeJobHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new g.EventEmitter,this.parentEdit=new g.EventEmitter,this._searchModel=new y.h,this._filterAttribute=new oi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}ngOnInit(){this.GetData()}GetData(){setTimeout(()=>{this._changeEmployeeDataService.GetAllEmployeeJobHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.EmployeeJobHistoryList=e.data,this.cdr.markForCheck()}),this._changeEmployeeDataService.CountOfEmployeeJobHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.totalCount=e.employees,this.cdr.markForCheck()})},0)}onEditClick(e,t){return(0,qr.mG)(this,void 0,void 0,function*(){this.parentEdit.emit({id:e,rowno:t})})}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}Print(e){let t=" ",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",l="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",r="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0648\u0638\u064a\u0641\u0629":"Job change movements",o="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",s="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629":"The new Job",c="ar"==this.lang?"\u0646\u0648\u0639 \u0627\u0644\u0639\u0642\u062f \u0627\u0644\u062c\u062f\u064a\u062f":"The new contract type",m="ar"==this.lang?"\u0627\u0644\u0641\u0626\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629":"The new category",p="ar"==this.lang?"\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629":"The new degree",h="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",u="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",y="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeJobHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(g=>{this.cdr.markForCheck(),t=`\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${i}</div>\n        <br>\n        <div class="text-center"   dir=${n}>${l} : ${e}</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${r}</div>\n      <br>\n      <div dir=${n}>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>${o}</th>              \n            <th>${s}</th>\n            <th>${d}</th>     \n            <th>${c}</th>     \n            <th>${m}</th>     \n            <th>${p}</th>              \n            <th>${h}</th>\n            <th>${u}</th>\n            <th>${y}</th>\n            </tr>\n           </thead>\n           <tbody>\n      `;var v=new a.uU("en-US");g.data.map(e=>{t+=`\n          <tr>\n            <td>${e.code}</td>\n            <td>${v.transform(e.startdate,"dd/MM/yyyy")}</td>\n            <td>${"ar"==this.lang?e.jobtitlename_ar:e.jobtitlename_en}</td>\n            <td>${"ar"==this.lang?e.contracttypename_ar:e.contracttypename_en}</td>\n            <td>${e.category}</td>\n            <td>${e.degree}</td>\n            <td>${e.notes}</td>\n            <td>${"ar"==this.lang?e.editor_ar:e.editor_en}</td>\n            <td>${v.transform(e.editingdate,"dd/MM/yyyy")}</td>\n          </tr>\n        `}),t+="</tbody></table></div>",this._printService.OnPrintContent(t)})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](b.$))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-job-list"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](ic,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:38,vars:32,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"h6",2),g["\u0275\u0275text"](3),g["\u0275\u0275pipe"](4,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div"),g["\u0275\u0275elementStart"](6,"table",3),g["\u0275\u0275elementStart"](7,"thead"),g["\u0275\u0275elementStart"](8,"th"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"th"),g["\u0275\u0275text"](12),g["\u0275\u0275pipe"](13,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"th"),g["\u0275\u0275text"](15),g["\u0275\u0275pipe"](16,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"th"),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"th"),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"th"),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"th"),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"th"),g["\u0275\u0275text"](30),g["\u0275\u0275pipe"](31,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"th"),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](35,"th",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](36,hc,2,1,"tbody",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](37,uc,14,7,"div",6)),2&e&&(g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](4,12,"JobChangeMovements")," "),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,14,"Serial")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](13,16,"StartingFromDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](16,18,"TheNewJob")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,20,"TheNewContractType")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,22,"TheNewCategory")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](25,24,"TheNewDegree")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](28,26,"Notes")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](31,28,"Editor")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](34,30,"EditingDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.EmployeeJobHistoryList.length>0&&t.employeeid>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[a.O5,a.sg,di.N9,r.EJ,r.JJ,r.On,r.YN,r.Kr],pipes:[m.X$,a.uU],styles:[""]}),e})();const gc=["VacationRForm"];function vc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.salarytype_ar)}}function Sc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.salarytype_en)}}function fc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.overtimestatus_ar)}}function bc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.overtimestatus_en)}}function Ec(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.overtimetype_ar)}}function xc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.overtimetype_en)}}function Cc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.overtimevalue)}}function Dc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.overtimepercentage)}}function _c(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_ar)}}function Ic(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_en)}}function wc(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275elementStart"](1,"button",9),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]().$implicit;return g["\u0275\u0275nextContext"](2).onEditClick(t.id,t.rowno)}),g["\u0275\u0275element"](2,"i",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function Tc(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275elementStart"](1,"tr",8),g["\u0275\u0275elementStart"](2,"td"),g["\u0275\u0275elementStart"](3,"div"),g["\u0275\u0275elementStart"](4,"span"),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"td"),g["\u0275\u0275elementStart"](7,"div"),g["\u0275\u0275elementStart"](8,"span"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td"),g["\u0275\u0275elementStart"](12,"span"),g["\u0275\u0275text"](13),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"td"),g["\u0275\u0275elementStart"](15,"div"),g["\u0275\u0275template"](16,vc,2,1,"span",5),g["\u0275\u0275template"](17,Sc,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"td"),g["\u0275\u0275elementStart"](19,"div"),g["\u0275\u0275template"](20,fc,2,1,"span",5),g["\u0275\u0275template"](21,bc,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](22,"td"),g["\u0275\u0275elementStart"](23,"div"),g["\u0275\u0275template"](24,Ec,2,1,"span",5),g["\u0275\u0275template"](25,xc,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"td"),g["\u0275\u0275elementStart"](27,"div"),g["\u0275\u0275template"](28,Cc,2,1,"span",5),g["\u0275\u0275template"](29,Dc,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"td"),g["\u0275\u0275elementStart"](31,"div"),g["\u0275\u0275elementStart"](32,"span"),g["\u0275\u0275text"](33),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](34,"td"),g["\u0275\u0275elementStart"](35,"div"),g["\u0275\u0275template"](36,_c,2,1,"span",5),g["\u0275\u0275template"](37,Ic,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"td"),g["\u0275\u0275elementStart"](39,"div"),g["\u0275\u0275elementStart"](40,"span"),g["\u0275\u0275text"](41),g["\u0275\u0275pipe"](42,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](43,"td"),g["\u0275\u0275elementStart"](44,"div"),g["\u0275\u0275template"](45,wc,3,0,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](null==e?null:e.code),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](10,16,null==e?null:e.startdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.salary),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",2==(null==e?null:e.overtimetype)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",3==(null==e?null:e.overtimetype)),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.notes),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](42,19,null==e?null:e.editingdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",n.checkRoleParms(438))}}function Mc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"tbody"),g["\u0275\u0275template"](1,Tc,46,22,"ng-container",7),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.EmployeeSalaryHistoryList)}}function kc(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",11),g["\u0275\u0275elementStart"](1,"ngb-pagination",12),g["\u0275\u0275listener"]("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNoChange(t)})("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNo=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](2,"p"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",13),g["\u0275\u0275listener"]("change",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageSize=t}),g["\u0275\u0275elementStart"](5,"option",14),g["\u0275\u0275text"](6,"10 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"option",15),g["\u0275\u0275text"](8,"20 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"option",16),g["\u0275\u0275text"](10,"50 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"option",17),g["\u0275\u0275text"](12,"100 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](13,"br"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngModel",e.PageSize)}}let Bc=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cdr=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._employeeVacationsService=d,this._changeEmployeeDataService=c,this._printService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeSalaryHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new g.EventEmitter,this.parentEdit=new g.EventEmitter,this._searchModel=new y.h,this._filterAttribute=new oi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}ngOnInit(){this.GetData()}GetData(){setTimeout(()=>{this._changeEmployeeDataService.GetAllEmployeeSalaryHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.EmployeeSalaryHistoryList=e.data,this.cdr.markForCheck()}),this._changeEmployeeDataService.CountOfEmployeeSalaryHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.totalCount=e.employees,this.cdr.markForCheck()})},0)}onEditClick(e,t){return(0,qr.mG)(this,void 0,void 0,function*(){this.parentEdit.emit({id:e,rowno:t})})}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}Print(e){let t=" ",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",l="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",r="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0631\u0627\u062a\u0628":"Salary change movements",o="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",s="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0631\u0627\u062a\u0628":"Salary",c="ar"==this.lang?"\u0646\u0648\u0639 \u0627\u0644\u0631\u0627\u062a\u0628":"Salary type",m="ar"==this.lang?"\u064a\u0633\u062a\u062d\u0642 \u0625\u0636\u0627\u0641\u0649":"Has overtime",p="ar"==this.lang?"\u0646\u0648\u0639 \u0627\u0644\u0625\u0636\u0627\u0641\u0649":"Overtime type",h="ar"==this.lang?"\u0627\u0644\u0645\u0639\u062f\u0644":"Rate",u="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",y="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",g="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeSalaryHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(v=>{this.cdr.markForCheck(),t=`\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${i}</div>\n        <br>\n        <div class="text-center"   dir=${n}>${l} : ${e}</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${r}</div>\n      <br>\n      <div dir=${n}>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>${o}</th>              \n            <th>${s}</th>\n            <th>${d}</th>     \n            <th>${c}</th>     \n            <th>${m}</th>     \n            <th>${p}</th>              \n            <th>${h}</th>\n            <th>${u}</th>\n            <th>${y}</th>\n            <th>${g}</th>\n            </tr>\n           </thead>\n           <tbody>\n      `;var S=new a.uU("en-US");v.data.map(e=>{t+=`\n          <tr>\n            <td>${e.code}</td>\n            <td>${S.transform(e.startdate,"dd/MM/yyyy")}</td>\n            <td>${e.salary}</td>\n            <td>${"ar"==this.lang?e.salarytype_ar:e.salarytype_en}</td>\n            <td>${"ar"==this.lang?e.overtimestatus_ar:e.overtimestatus_en}</td>\n            <td>${1==e.overtimestatus?"ar"==this.lang?e.overtimetype_ar:e.overtimetype_en:""}</td>\n            <td>${2==e.overtimetype?e.overtimevalue:3==e.overtimetype?e.overtimepercentage:""}</td>\n            <td>${e.notes}</td>\n            <td>${"ar"==this.lang?e.editor_ar:e.editor_en}</td>\n            <td>${S.transform(e.editingdate,"dd/MM/yyyy")}</td>\n          </tr>\n        `}),t+="</tbody></table></div>",this._printService.OnPrintContent(t)})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](b.$))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-salary-list"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](gc,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:41,vars:35,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"h6",2),g["\u0275\u0275text"](3),g["\u0275\u0275pipe"](4,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div"),g["\u0275\u0275elementStart"](6,"table",3),g["\u0275\u0275elementStart"](7,"thead"),g["\u0275\u0275elementStart"](8,"th"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"th"),g["\u0275\u0275text"](12),g["\u0275\u0275pipe"](13,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"th"),g["\u0275\u0275text"](15),g["\u0275\u0275pipe"](16,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"th"),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"th"),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"th"),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"th"),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"th"),g["\u0275\u0275text"](30),g["\u0275\u0275pipe"](31,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"th"),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"th"),g["\u0275\u0275text"](36),g["\u0275\u0275pipe"](37,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](38,"th",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](39,Mc,2,1,"tbody",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](40,kc,14,7,"div",6)),2&e&&(g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](4,13,"SalaryChangeMovements")," "),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,15,"Serial")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](13,17,"StartingFromDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](16,19,"Salary")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,21,"SalaryType")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,23,"HasOvertime")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](25,25,"OvertimeType")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](28,27,"Rate")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](31,29,"Notes")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](34,31,"Editor")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](37,33,"EditingDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.EmployeeSalaryHistoryList.length>0&&t.employeeid>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[a.O5,a.sg,di.N9,r.EJ,r.JJ,r.On,r.YN,r.Kr],pipes:[m.X$,a.uU],styles:[""]}),e})();const Fc=["VacationRForm"];function Hc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.allowancestypename_ar)}}function Rc(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.allowancestypename_en)}}function Oc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function Vc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Ac(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function Nc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Gc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function Pc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function jc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function $c(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Uc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function Lc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Jc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function zc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Yc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function qc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Qc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function Kc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Wc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function Xc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function Zc(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2713 "),g["\u0275\u0275elementEnd"]())}function em(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1," \u2718 "),g["\u0275\u0275elementEnd"]())}function tm(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.allowancestatus_ar)}}function nm(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.allowancestatus_en)}}function am(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275elementStart"](1,"button",20),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]().$implicit;return g["\u0275\u0275nextContext"](2).onEditClick(t.id,t.rowno)}),g["\u0275\u0275element"](2,"i",21),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275styleMap"]("ar"==e.lang?"margin-left: 50px;":"margin-right: 50px;")}}const im=function(e){return{color:e}};function lm(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275elementStart"](1,"tr",17),g["\u0275\u0275elementStart"](2,"td"),g["\u0275\u0275elementStart"](3,"div"),g["\u0275\u0275template"](4,Hc,2,1,"span",14),g["\u0275\u0275template"](5,Rc,2,1,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"td"),g["\u0275\u0275elementStart"](7,"div"),g["\u0275\u0275elementStart"](8,"span"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td"),g["\u0275\u0275elementStart"](12,"div"),g["\u0275\u0275elementStart"](13,"span"),g["\u0275\u0275text"](14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"td"),g["\u0275\u0275template"](16,Oc,2,0,"span",14),g["\u0275\u0275template"](17,Vc,2,0,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"td"),g["\u0275\u0275template"](19,Ac,2,0,"span",14),g["\u0275\u0275template"](20,Nc,2,0,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](21,"td",18),g["\u0275\u0275template"](22,Gc,2,0,"span",14),g["\u0275\u0275template"](23,Pc,2,0,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"td",18),g["\u0275\u0275template"](25,jc,2,0,"span",14),g["\u0275\u0275template"](26,$c,2,0,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](27,"td"),g["\u0275\u0275template"](28,Uc,2,0,"span",14),g["\u0275\u0275template"](29,Lc,2,0,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](30,"td"),g["\u0275\u0275template"](31,Jc,2,0,"span",14),g["\u0275\u0275template"](32,zc,2,0,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](33,"td",18),g["\u0275\u0275template"](34,Yc,2,0,"span",14),g["\u0275\u0275template"](35,qc,2,0,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"td"),g["\u0275\u0275template"](37,Qc,2,0,"span",14),g["\u0275\u0275template"](38,Kc,2,0,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](39,"td"),g["\u0275\u0275template"](40,Wc,2,0,"span",14),g["\u0275\u0275template"](41,Xc,2,0,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](42,"td"),g["\u0275\u0275template"](43,Zc,2,0,"span",14),g["\u0275\u0275template"](44,em,2,0,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"td"),g["\u0275\u0275elementStart"](46,"div"),g["\u0275\u0275template"](47,tm,2,1,"span",14),g["\u0275\u0275template"](48,nm,2,1,"span",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](49,"td",13),g["\u0275\u0275elementStart"](50,"div"),g["\u0275\u0275template"](51,am,3,2,"span",19),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](10,30,null==e?null:e.startdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](null==e?null:e.amountofallowance),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.overtime)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.overtime)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.rewards)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.rewards)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngStyle",g["\u0275\u0275pureFunction1"](33,im,3==e.deductibility?"black":"gray")),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.absences)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.absences)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngStyle",g["\u0275\u0275pureFunction1"](35,im,3==e.deductibility?"black":"gray")),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.penalties)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.penalties)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.paidvacations)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.paidvacations)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.vacationpay)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.vacationpay)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngStyle",g["\u0275\u0275pureFunction1"](37,im,3==e.deductibility?"black":"gray")),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.sickleave)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.sickleave)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.termination)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.termination)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.subjecttotaxes)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.subjecttotaxes)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",1==(null==e?null:e.subjecttoinsurances)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",0==(null==e?null:e.subjecttoinsurances)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",n.checkRoleParms(438))}}function rm(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"tbody"),g["\u0275\u0275template"](1,lm,52,39,"ng-container",16),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.EmployeeAllowanceHistoryList)}}function om(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",22),g["\u0275\u0275elementStart"](1,"ngb-pagination",23),g["\u0275\u0275listener"]("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNoChange(t)})("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNo=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](2,"p"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",24),g["\u0275\u0275listener"]("change",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageSize=t}),g["\u0275\u0275elementStart"](5,"option",25),g["\u0275\u0275text"](6,"10 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"option",26),g["\u0275\u0275text"](8,"20 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"option",27),g["\u0275\u0275text"](10,"50 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"option",28),g["\u0275\u0275text"](12,"100 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](13,"br"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngModel",e.PageSize)}}let sm=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cdr=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._employeeVacationsService=d,this._changeEmployeeDataService=c,this._printService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeAllowanceHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.ViewOnlyValidAllowances=!1,this.parentGetData=new g.EventEmitter,this.parentEdit=new g.EventEmitter,this._searchModel=new y.h,this._filterAttribute=new oi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}ngOnInit(){this.GetData()}GetData(){setTimeout(()=>{this._changeEmployeeDataService.GetAllEmployeeAllowanceHistory(this._searchModel,this.subsidaryid,this.employeeid,this.ViewOnlyValidAllowances).subscribe(e=>{this.EmployeeAllowanceHistoryList=e.data,this.cdr.markForCheck()}),this._changeEmployeeDataService.CountOfEmployeeAllowanceHistory(this._searchModel,this.subsidaryid,this.employeeid,this.ViewOnlyValidAllowances).subscribe(e=>{this.totalCount=e.employees,this.cdr.markForCheck()})},0)}onEditClick(e,t){return(0,qr.mG)(this,void 0,void 0,function*(){this.parentEdit.emit({id:e,rowno:t})})}OnViewOnlyValidAllowancesChange(){this.GetData()}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}Print(e){let t=" ",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",l="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",r="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u062f\u0644\u0627\u062a":"Allowance change movements",o="ar"==this.lang?"\u0646\u0648\u0639 \u0627\u0644\u0628\u062f\u0644":"Allowance Type",s="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0645\u0628\u0644\u063a":"The Amount",c="ar"==this.lang?"\u0625\u0636\u0627\u0641\u064a":"Overtime",m="ar"==this.lang?"\u0645\u0643\u0627\u0641\u0622\u062a":"Rewards",p="ar"==this.lang?"\u063a\u064a\u0627\u0628":"Absences",h="ar"==this.lang?"\u062c\u0632\u0627\u0621\u0627\u062a":"Penalties",u="ar"==this.lang?"\u0627\u062c\u0627\u0632\u0627\u062a \u0645\u062f\u0641\u0648\u0639\u0629":"Paid Vacations",y="ar"==this.lang?"\u0628\u062f\u0644 \u0627\u062c\u0627\u0632\u0629 \u0646\u0642\u062f\u064a":"Vacation Pay",g="ar"==this.lang?"\u0627\u062c\u0627\u0632\u0629 \u0645\u0631\u0636\u064a":"Sick Leave",v="ar"==this.lang?"\u0646\u0647\u0627\u064a\u0629 \u062e\u062f\u0645\u0629":"Termination",S="ar"==this.lang?"\u062e\u0627\u0636\u0639 \u0644\u0644\u0636\u0631\u0627\u0626\u0628":"Subject To Taxes",f="ar"==this.lang?"\u062e\u0627\u0636\u0639 \u0644\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a":"Subject To Insurances",b="ar"==this.lang?"\u062d\u0627\u0644\u0629 \u0627\u0644\u0628\u062f\u0644":"Allowance Status";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeAllowanceHistory(this._searchModel,this.subsidaryid,this.employeeid,this.ViewOnlyValidAllowances).subscribe(E=>{this.cdr.markForCheck(),t=`\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${i}</div>\n        <br>\n        <div class="text-center"   dir=${n}>${l} : ${e}</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${r}</div>\n      <br>\n      <div dir=${n}>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>${o}</th>  \n            <th>${s}</th>  \n            <th>${d}</th>\n            <th>${c}</th>             \n            <th>${m}</th>\n            <th>${p}</th>\n            <th>${h}</th>\n            <th>${u}</th>\n            <th>${y}</th>\n            <th>${g}</th>\n            <th>${v}</th>\n            <th>${S}</th>\n            <th>${f}</th>\n            <th>${b}</th>\n            </tr>\n           </thead>\n           <tbody>\n      `;var x=new a.uU("en-US");E.data.map(e=>{t+=`\n          <tr>\n          <td>${"ar"==this.lang?e.allowancestypename_ar:e.allowancestypename_en}</td>\n            <td>${x.transform(e.startdate,"dd/MM/yyyy")}</td>\n            <td>${e.amountofallowance}</td>\n            <td>${1==e.overtime?"\u2713":"\u2718"}</td>\n            <td>${1==e.rewards?"\u2713":"\u2718"}</td>\n            <td>${1==e.absences?"\u2713":"\u2718"}</td>\n            <td>${1==e.penalties?"\u2713":"\u2718"}</td>\n            <td>${1==e.paidvacations?"\u2713":"\u2718"}</td>\n            <td>${1==e.vacationpay?"\u2713":"\u2718"}</td>\n            <td>${1==e.sickleave?"\u2713":"\u2718"}</td>\n            <td>${1==e.termination?"\u2713":"\u2718"}</td>\n            <td>${1==e.subjecttotaxes?"\u2713":"\u2718"}</td>\n            <td>${1==e.subjecttoinsurances?"\u2713":"\u2718"}</td>\n            <td>${"ar"==this.lang?e.allowancestatus_ar:e.allowancestatus_en}</td>\n          </tr>\n        `}),t+="</tbody></table></div>",this._printService.OnPrintContent(t)})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](si),g["\u0275\u0275directiveInject"](b.$))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-allowance-list"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](Fc,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:59,vars:51,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0",2,"margin-top","20px","margin-bottom","0px !important"],[1,"form-group"],["type","checkbox","name","ViewOnlyValidAllowances",3,"ngModel","ngModelChange","change"],["for","sort",1,"col-form-label"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[1,"text-center"],[1,"text-center",2,"width","6%","text-wrap","wrap"],[1,"text-center",2,"width","4%","text-wrap","wrap"],[1,"text-center",2,"width","7%","text-wrap","wrap"],[1,"text-center",2,"width","5%","text-wrap","wrap"],[2,"width","7%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[3,"ngStyle"],[3,"style",4,"ngIf"],[1,"btn","btn-trash","success","btn","btn-link","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"h6",2),g["\u0275\u0275text"](3),g["\u0275\u0275pipe"](4,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div",3),g["\u0275\u0275elementStart"](6,"div",4),g["\u0275\u0275elementStart"](7,"input",5),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.ViewOnlyValidAllowances=e})("change",function(){return t.OnViewOnlyValidAllowancesChange()}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"label",6),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"div"),g["\u0275\u0275elementStart"](12,"table",7),g["\u0275\u0275elementStart"](13,"thead"),g["\u0275\u0275elementStart"](14,"th",8),g["\u0275\u0275text"](15),g["\u0275\u0275pipe"](16,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"th",8),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"th",8),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"th",9),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"th",9),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"th",9),g["\u0275\u0275text"](30),g["\u0275\u0275pipe"](31,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"th",9),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"th",9),g["\u0275\u0275text"](36),g["\u0275\u0275pipe"](37,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](38,"th",9),g["\u0275\u0275text"](39),g["\u0275\u0275pipe"](40,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"th",10),g["\u0275\u0275text"](42),g["\u0275\u0275pipe"](43,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"th",11),g["\u0275\u0275text"](45),g["\u0275\u0275pipe"](46,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](47,"th",12),g["\u0275\u0275text"](48),g["\u0275\u0275pipe"](49,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](50,"th",11),g["\u0275\u0275text"](51),g["\u0275\u0275pipe"](52,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](53,"th",8),g["\u0275\u0275text"](54),g["\u0275\u0275pipe"](55,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](56,"th",13),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](57,rm,2,1,"tbody",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](58,om,14,7,"div",15)),2&e&&(g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](4,19,"AllowanceChangeMovements")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t.ViewOnlyValidAllowances),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,21,"ViewOnlyValidAllowances")),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](16,23,"AllowanceType")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,25,"StartingFromDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,27,"TheAmount")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](25,29,"Overtime")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](28,31,"Rewards")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](31,33,"Absences")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](34,35,"Penalties")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](37,37,"PaidVacations")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](40,39,"VacationPay")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](43,41,"SickLeave")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](46,43,"Termination")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](49,45,"SubjectToTaxes")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](52,47,"SubjectToInsurances")," "),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](55,49,"AllowanceStatus")),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.EmployeeAllowanceHistoryList.length>0&&t.employeeid>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[r.Wl,r.JJ,r.On,a.O5,a.sg,a.PC,di.N9,r.EJ,r.YN,r.Kr],pipes:[m.X$,a.uU],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem .5rem;text-transform:capitalize;letter-spacing:0;border-bottom:1px solid #f0f2f5!important}"]}),e})();const dm=["changeBranchForm"],cm=["changeBranchList"],mm=["changeSectionForm"],pm=["changeSectionList"],hm=["changeDepartmentForm"],um=["changeDepartmentList"],ym=["changeCostcenterForm"],gm=["changeCostcenterList"],vm=["changeJobForm"],Sm=["changeJobList"],fm=["changeSalaryForm"],bm=["changeSalaryList"],Em=["changeAllowanceForm"],xm=["changeAllowanceList"];function Cm(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",2),g["\u0275\u0275elementStart"](1,"h1"),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Dm(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function _m(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Im(e,t){if(1&e&&(g["\u0275\u0275template"](0,Dm,2,1,"div",1),g["\u0275\u0275template"](1,_m,2,1,"div",1)),2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("ngIf","ar"==e.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function wm(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",21),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).OnSave()}),g["\u0275\u0275element"](1,"i",22),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("disabled",!e.isLastRecored),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](3,2,"Save")," ")}}function Tm(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onAddClick()}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"Add")," "))}function Mm(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",24),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onDeleteClick()}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"Delete")," "))}function km(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",25),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).OnPrint()}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"Print")," "))}const Bm=function(e,t){return{"invalid-data":e,"valid-data":t}};function Fm(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",3),g["\u0275\u0275elementStart"](2,"div",4),g["\u0275\u0275elementStart"](3,"div",5),g["\u0275\u0275elementStart"](4,"h6",6),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",7),g["\u0275\u0275elementStart"](8,"div",8),g["\u0275\u0275elementStart"](9,"div",9),g["\u0275\u0275elementStart"](10,"div",10),g["\u0275\u0275elementStart"](11,"label",11),g["\u0275\u0275text"](12),g["\u0275\u0275pipe"](13,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"p-autoComplete",12,13),g["\u0275\u0275listener"]("completeMethod",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onCompleteEmployeeAuto(t)})("onFocus",function(t){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](15);return g["\u0275\u0275nextContext"]().onFocusInAutoEmployeeComplete(t),n.show()})("onSelect",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onSelectEmployeeAuto(t)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().selectedEmployee=t}),g["\u0275\u0275template"](16,Im,2,2,"ng-template",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](17,"div",15),g["\u0275\u0275elementStart"](18,"div",16),g["\u0275\u0275template"](19,wm,4,4,"button",17),g["\u0275\u0275template"](20,Tm,3,3,"button",18),g["\u0275\u0275template"](21,Mm,3,3,"button",19),g["\u0275\u0275template"](22,km,3,3,"button",20),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,13,"ChangeEmployeeData")," "),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](13,15,"employeeid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e.selectedEmployee)("suggestions",e.employeeList)("dataKey","ar"==e.lang?"name_ar":"name")("field","ar"==e.lang?"name_ar":"name")("ngClass",g["\u0275\u0275pureFunction2"](17,Bm,e.employeeTextboxInvalid,!e.employeeTextboxInvalid)),g["\u0275\u0275advance"](4),g["\u0275\u0275styleMap"]("ar"==e.lang?"text-align: left;":"text-align: right;"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.checkRoleParms(437)||e.checkRoleParms(438)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.checkRoleParms(437)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.checkRoleParms(439)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.checkRoleParms(440))}}function Hm(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-branch-form",34,35),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).setIsLastRecored(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](4);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)("employeeBranchHistoryID",e.employeeBranchHistoryID)}}function Rm(e,t){if(1&e&&g["\u0275\u0275template"](0,Hm,3,2,"div",1),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275property"]("ngIf",e.isAddMode||e.isEditMode)}}function Om(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"li",31),g["\u0275\u0275elementStart"](1,"a",32),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,Rm,1,1,"ng-template",33),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("ngbNavItem",1),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"ChangeBranch")))}function Vm(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-section-form",36,37),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).setIsLastRecored(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](4);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)("employeeSectionHistoryID",e.employeeSectionHistoryID)}}function Am(e,t){if(1&e&&g["\u0275\u0275template"](0,Vm,3,2,"div",1),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275property"]("ngIf",e.isAddMode||e.isEditMode)}}function Nm(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"li",31),g["\u0275\u0275elementStart"](1,"a",32),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,Am,1,1,"ng-template",33),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("ngbNavItem",2),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"ChangeSection")))}function Gm(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-department-form",38,39),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).setIsLastRecored(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](4);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)("employeeDepartmentHistoryID",e.employeeDepartmentHistoryID)}}function Pm(e,t){if(1&e&&g["\u0275\u0275template"](0,Gm,3,2,"div",1),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275property"]("ngIf",e.isAddMode||e.isEditMode)}}function jm(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"li",31),g["\u0275\u0275elementStart"](1,"a",32),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,Pm,1,1,"ng-template",33),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("ngbNavItem",3),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"ChangeDepartment")))}function $m(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-costcenter-form",40,41),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).setIsLastRecored(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](4);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)("employeeCostcenterHistoryID",e.employeeCostcenterHistoryID)}}function Um(e,t){if(1&e&&g["\u0275\u0275template"](0,$m,3,2,"div",1),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275property"]("ngIf",e.isAddMode||e.isEditMode)}}function Lm(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"li",31),g["\u0275\u0275elementStart"](1,"a",32),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,Um,1,1,"ng-template",33),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("ngbNavItem",4),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"ChangeCostCenter")))}function Jm(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-job-form",42,43),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).setIsLastRecored(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](4);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)("employeeJobHistoryID",e.employeeJobHistoryID)}}function zm(e,t){if(1&e&&g["\u0275\u0275template"](0,Jm,3,2,"div",1),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275property"]("ngIf",e.isAddMode||e.isEditMode)}}function Ym(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"li",31),g["\u0275\u0275elementStart"](1,"a",32),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,zm,1,1,"ng-template",33),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("ngbNavItem",5),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"ChangeJob")))}function qm(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-salary-form",44,45),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).setIsLastRecored(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](4);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)("employeeSalaryHistoryID",e.employeeSalaryHistoryID)}}function Qm(e,t){if(1&e&&g["\u0275\u0275template"](0,qm,3,2,"div",1),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275property"]("ngIf",e.isAddMode||e.isEditMode)}}function Km(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"li",31),g["\u0275\u0275elementStart"](1,"a",32),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,Qm,1,1,"ng-template",33),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("ngbNavItem",6),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"ChangeSalary")))}function Wm(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-allowance-form",46,47),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).setIsLastRecored(t)})("dataToParentCanDelete",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).setCanDelete(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](4);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)("employeeAllowanceHistoryID",e.employeeAllowanceHistoryID)}}function Xm(e,t){if(1&e&&g["\u0275\u0275template"](0,Wm,3,2,"div",1),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275property"]("ngIf",e.isAddMode||e.isEditMode)}}function Zm(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"li",31),g["\u0275\u0275elementStart"](1,"a",32),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,Xm,1,1,"ng-template",33),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("ngbNavItem",7),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"ChangeAllowances")))}function ep(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-branch-list",48,49),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onEditClick(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)}}function tp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-section-list",48,50),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onEditClick(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)}}function np(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-department-list",48,51),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onEditClick(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)}}function ap(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-costcenter-list",48,52),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onEditClick(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)}}function ip(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-job-list",48,53),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onEditClick(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)}}function lp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-salary-list",48,54),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onEditClick(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)}}function rp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-change-allowance-list",48,55),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onEditClick(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)}}function op(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",26),g["\u0275\u0275elementStart"](2,"div",8),g["\u0275\u0275elementStart"](3,"ul",27,28),g["\u0275\u0275listener"]("activeIdChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().activeId=t})("navChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onNavChange(t)}),g["\u0275\u0275template"](5,Om,5,4,"li",29),g["\u0275\u0275template"](6,Nm,5,4,"li",29),g["\u0275\u0275template"](7,jm,5,4,"li",29),g["\u0275\u0275template"](8,Lm,5,4,"li",29),g["\u0275\u0275template"](9,Ym,5,4,"li",29),g["\u0275\u0275template"](10,Km,5,4,"li",29),g["\u0275\u0275template"](11,Zm,5,4,"li",29),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](12,"div",30),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](13,ep,3,1,"div",1),g["\u0275\u0275template"](14,tp,3,1,"div",1),g["\u0275\u0275template"](15,np,3,1,"div",1),g["\u0275\u0275template"](16,ap,3,1,"div",1),g["\u0275\u0275template"](17,ip,3,1,"div",1),g["\u0275\u0275template"](18,lp,3,1,"div",1),g["\u0275\u0275template"](19,rp,3,1,"div",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275reference"](4),t=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("activeId",t.activeId),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(430)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(431)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(432)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(433)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(434)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(435)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(436)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngbNavOutlet",e),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",1==t.activeId),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",2==t.activeId),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",3==t.activeId),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",4==t.activeId),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",5==t.activeId),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",6==t.activeId),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",7==t.activeId)}}let sp=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m,p,h){this._generalService=e,this.router=t,this.route=n,this.toastr=a,this.cdr=i,this._printService=l,this._Excel=r,this._convertToPDF=o,this._authService=s,this._TranslateGlobalService=d,this.translate=c,this._employeesService=m,this._employeeVacationsService=p,this._changeEmployeeDataService=h,this.subsidaryid=0,this.ID=0,this.errormsg="",this.Cancel="",this.DataSavedsuccessfully="",this.ChooseEmployeeFirst="",this.ChooseRecordFirst="",this.EmploymentDataIncomplete="",this.NoDataToSave="",this.Yes="",this.No="",this.MissData="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.SubsequentRecordsDeletedFirst="",this.RecordLinkedToOtherData="",this.selectedEmployee={},this.previousSelectedEmployee={},this.employeeid=0,this.previousEmployeeID=0,this.employeeList=[],this.activeId=1,this.subActiveId=1,this.isEditMode=!1,this.isAddMode=!1,this.employeeBranchHistoryID=0,this.employeeSectionHistoryID=0,this.employeeDepartmentHistoryID=0,this.employeeCostcenterHistoryID=0,this.employeeJobHistoryID=0,this.employeeSalaryHistoryID=0,this.employeeAllowanceHistoryID=0,this.annualVacationTypeId=0,this.calculatingduesdays=!1,this.WorkStartDate=null,this.employeeTextboxInvalid=!1,this.isLastRecored=!0,this.CanDelete=!0,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang)}),this.ngTransUnsubscribe=this.translate.get(["Cancel","SaveMsg","checkname","DataSavedsuccessfully","NoDataToSave","No","MissData","savedChanges","Yes","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","ChooseEmployeeFirst","ChooseRecordFirst","EmploymentDataIncomplete","VacationsAfterDateDelete","SubsequentRecordsDeletedFirst","RecordLinkedToOtherData"]).subscribe(e=>{this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.NoDataToSave=e.NoDataToSave,this.Cancel=e.Cancel,this.SaveMsg=e.SaveMsg,this.errormsg=e.checkname,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.ChooseEmployeeFirst=e.ChooseEmployeeFirst,this.ChooseRecordFirst=e.ChooseRecordFirst,this.EmploymentDataIncomplete=e.EmploymentDataIncomplete,this.SubsequentRecordsDeletedFirst=e.SubsequentRecordsDeletedFirst,this.RecordLinkedToOtherData=e.RecordLinkedToOtherData}),this.subsidaryid=this._generalService.SubsidiaryID,this.route.params.subscribe(e=>{this.employeeid=null==e.employeeid?0:parseFloat(e.employeeid)}),this.ngUnsubscribe=e.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidaryid&&(this.subsidaryid=this._generalService.SubsidiaryID,this.cdr.markForCheck()),this.subsidaryid!=this._generalService.SubsidiaryID&&this.subsidaryid>0&&(this.subsidaryid=this._generalService.SubsidiaryID,this.cdr.markForCheck())})}GetEmployeeDataForValidation(){this.WorkStartDate=null,this._employeeVacationsService.GetEmployeeDataForValidation(this.employeeid).subscribe(e=>{null!=e&&null!=e.workstartdate&&(this.WorkStartDate=e.workstartdate)})}onCompleteEmployeeAuto(e){let t="";t=e.query?e.query.trim():"",this._employeesService.getHrEmployees(this.subsidaryid,t).subscribe(e=>{this.employeeList=[],this.employeeList=[...this.employeeList,...e],this.employeeid>0&&(this.selectedEmployee=this.employeeList.filter(e=>e.id==this.employeeid)[0]),this.cdr.markForCheck()})}onFocusInAutoEmployeeComplete(e){let t=e.target.value;null!=t&&""!=t||this.onCompleteEmployeeAuto(e),this.onCompleteEmployeeAuto(e)}onSelectEmployeeAuto(e){return(0,qr.mG)(this,void 0,void 0,function*(){var t;switch(this.employeeTextboxInvalid=!1,this.activeId){case 1:t=this.changeBranchForm;break;case 2:t=this.changeSectionForm;break;case 3:t=this.changeDepartmentForm;break;case 4:t=this.changeCostcenterForm;break;case 5:t=this.changeJobForm;break;case 6:t=this.changeSalaryForm;break;case 7:t=this.changeAllowanceForm;break;default:t=this.changeBranchForm}t?(yield t.NotToMissData("Change Employee"))?(this.DestroyForms(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData()):(this.employeeid=this.previousEmployeeID,this.selectedEmployee=this.previousSelectedEmployee):(this.DestroyForms(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData())})}onNavChange(e){return(0,qr.mG)(this,void 0,void 0,function*(){var t;switch(e.preventDefault(),this.activeId){case 1:t=this.changeBranchForm;break;case 2:t=this.changeSectionForm;break;case 3:t=this.changeDepartmentForm;break;case 4:t=this.changeCostcenterForm;break;case 5:t=this.changeJobForm;break;case 6:t=this.changeSalaryForm;break;case 7:t=this.changeAllowanceForm;break;default:t=this.changeBranchForm}t?(yield t.NotToMissData("Change tab"))&&(this.DestroyForms(),this.activeId=e.nextId,this.GetData()):(this.DestroyForms(),this.activeId=e.nextId,this.GetData())})}onNavSubChange(e){3===e.nextId&&e.preventDefault()}ngOnInit(){this.employeeid>0&&(this.onCompleteEmployeeAuto({originalEvent:FocusEvent,query:""}),this.previousEmployeeID=this.employeeid,this.previousSelectedEmployee=this.employeeid,this.GetEmployeeDataForValidation(),this.GetData())}DestroyForms(){this.isAddMode=!1,this.isEditMode=!1}onAddClick(){return(0,qr.mG)(this,void 0,void 0,function*(){var e;switch(this.activeId){case 1:e=this.changeBranchForm;break;case 2:e=this.changeSectionForm;break;case 3:e=this.changeDepartmentForm;break;case 4:e=this.changeCostcenterForm;break;case 5:e=this.changeJobForm;break;case 6:e=this.changeSalaryForm;break;case 7:e=this.changeAllowanceForm;break;default:e=this.changeBranchForm}e?(yield e.NotToMissData("Add click"))&&(this.DestroyForms(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(()=>{this.isAddMode=!0,this.isEditMode=!1,this.employeeBranchHistoryID=0,this.employeeSectionHistoryID=0,this.employeeDepartmentHistoryID=0,this.employeeCostcenterHistoryID=0,this.employeeJobHistoryID=0,this.employeeSalaryHistoryID=0,this.employeeAllowanceHistoryID=0,this.cdr.markForCheck()},0))):(this.DestroyForms(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(()=>{this.isAddMode=!0,this.isEditMode=!1,this.employeeBranchHistoryID=0,this.employeeSectionHistoryID=0,this.employeeDepartmentHistoryID=0,this.employeeCostcenterHistoryID=0,this.employeeJobHistoryID=0,this.employeeSalaryHistoryID=0,this.employeeAllowanceHistoryID=0,this.cdr.markForCheck()},0)))})}onEditClick(e){return(0,qr.mG)(this,void 0,void 0,function*(){var t;switch(this.activeId){case 1:t=this.changeBranchForm;break;case 2:t=this.changeSectionForm;break;case 3:t=this.changeDepartmentForm;break;case 4:t=this.changeCostcenterForm;break;case 5:t=this.changeJobForm;break;case 6:t=this.changeSalaryForm;break;case 7:t=this.changeAllowanceForm;break;default:t=this.changeBranchForm}t?(yield t.NotToMissData("Edit click"))&&(this.DestroyForms(),setTimeout(()=>{switch(this.isAddMode=!1,this.isEditMode=!0,this.activeId){case 1:this.employeeBranchHistoryID=e.id;break;case 2:this.employeeSectionHistoryID=e.id;break;case 3:this.employeeDepartmentHistoryID=e.id;break;case 4:this.employeeCostcenterHistoryID=e.id;break;case 5:this.employeeJobHistoryID=e.id;break;case 6:this.employeeSalaryHistoryID=e.id;break;case 7:this.employeeAllowanceHistoryID=e.id;break;default:this.employeeBranchHistoryID=e.id}this.cdr.markForCheck()},0)):(this.DestroyForms(),setTimeout(()=>{switch(this.isAddMode=!1,this.isEditMode=!0,this.activeId){case 1:this.employeeBranchHistoryID=e.id;break;case 2:this.employeeSectionHistoryID=e.id;break;case 3:this.employeeDepartmentHistoryID=e.id;break;case 4:this.employeeCostcenterHistoryID=e.id;break;case 5:this.employeeJobHistoryID=e.id;break;case 6:this.employeeSalaryHistoryID=e.id;break;case 7:this.employeeAllowanceHistoryID=e.id;break;default:this.employeeBranchHistoryID=e.id}this.cdr.markForCheck()},0))})}onDeleteClick(){var e;switch(this.activeId){case 1:e=this.employeeBranchHistoryID;break;case 2:e=this.employeeSectionHistoryID;break;case 3:e=this.employeeDepartmentHistoryID;break;case 4:e=this.employeeCostcenterHistoryID;break;case 5:e=this.employeeJobHistoryID;break;case 6:e=this.employeeSalaryHistoryID;break;case 7:e=this.employeeAllowanceHistoryID;break;default:e=this.employeeBranchHistoryID}0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):0==e?this.toastr.error(this.ChooseRecordFirst):this.isLastRecored?7==this.activeId&&0==this.CanDelete?this.toastr.error(this.RecordLinkedToOtherData):(this.employeeTextboxInvalid=!1,k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{if(e.isConfirmed&&1==e.isConfirmed)switch(this.activeId){case 1:this._changeEmployeeDataService.DeleteEmployeeBranchHistory(this.employeeBranchHistoryID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeBranchHistoryID=0,this.GetData()});break;case 2:this._changeEmployeeDataService.DeleteEmployeeSectionHistory(this.employeeSectionHistoryID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeSectionHistoryID=0,this.GetData()});break;case 3:this._changeEmployeeDataService.DeleteEmployeeDepartmentHistory(this.employeeDepartmentHistoryID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeDepartmentHistoryID=0,this.GetData()});break;case 4:this._changeEmployeeDataService.DeleteEmployeeCostcenterHistory(this.employeeCostcenterHistoryID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeCostcenterHistoryID=0,this.GetData()});break;case 5:this._changeEmployeeDataService.DeleteEmployeeJobHistory(this.employeeJobHistoryID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeJobHistoryID=0,this.GetData()});break;case 6:this._changeEmployeeDataService.DeleteEmployeeSalaryHistory(this.employeeSalaryHistoryID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeSalaryHistoryID=0,this.GetData()});break;case 7:this._changeEmployeeDataService.DeleteEmployeeAllowanceHistory(this.employeeAllowanceHistoryID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeAllowanceHistoryID=0,this.GetData()});break;default:this._changeEmployeeDataService.DeleteEmployeeBranchHistory(this.employeeBranchHistoryID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeBranchHistoryID=0,this.GetData()})}})):this.toastr.error(this.SubsequentRecordsDeletedFirst)}setIsLastRecored(e){this.isLastRecored=e}setCanDelete(e){this.CanDelete=e}GetData(){switch(this.activeId){case 1:this.changeBranchList.GetData();break;case 2:this.changeSectionList.GetData();break;case 3:this.changeDepartmentList.GetData();break;case 4:this.changeCostcenterList.GetData();break;case 5:this.changeJobList.GetData();break;case 6:this.changeSalaryList.GetData();break;case 7:this.changeAllowanceList.GetData();break;default:this.changeBranchList.GetData()}}OnSave(){if(0==this.employeeid)this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0;else{var e;switch(this.employeeTextboxInvalid=!1,this.activeId){case 1:e=this.changeBranchForm;break;case 2:e=this.changeSectionForm;break;case 3:e=this.changeDepartmentForm;break;case 4:e=this.changeCostcenterForm;break;case 5:e=this.changeJobForm;break;case 6:e=this.changeSalaryForm;break;case 7:e=this.changeAllowanceForm;break;default:e=this.changeBranchForm}e.onSave()}}OnPrint(){if(0==this.employeeid)this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0;else switch(this.activeId){case 1:this.changeBranchList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 2:this.changeSectionList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 3:this.changeDepartmentList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 4:this.changeCostcenterList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 5:this.changeJobList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 6:this.changeSalaryList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 7:this.changeAllowanceList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;default:this.changeBranchList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name)}}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](b.$),g["\u0275\u0275directiveInject"](E.x),g["\u0275\u0275directiveInject"](C.z),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](si))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-employee-data"]],viewQuery:function(e,t){if(1&e&&(g["\u0275\u0275viewQuery"](dm,5),g["\u0275\u0275viewQuery"](cm,5),g["\u0275\u0275viewQuery"](mm,5),g["\u0275\u0275viewQuery"](pm,5),g["\u0275\u0275viewQuery"](hm,5),g["\u0275\u0275viewQuery"](um,5),g["\u0275\u0275viewQuery"](ym,5),g["\u0275\u0275viewQuery"](gm,5),g["\u0275\u0275viewQuery"](vm,5),g["\u0275\u0275viewQuery"](Sm,5),g["\u0275\u0275viewQuery"](fm,5),g["\u0275\u0275viewQuery"](bm,5),g["\u0275\u0275viewQuery"](Em,5),g["\u0275\u0275viewQuery"](xm,5)),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeBranchForm=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeBranchList=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeSectionForm=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeSectionList=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeDepartmentForm=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeDepartmentList=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeCostcenterForm=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeCostcenterList=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeJobForm=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeJobList=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeSalaryForm=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeSalaryList=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeAllowanceForm=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.changeAllowanceList=e.first)}},features:[g["\u0275\u0275ProvidersFeature"]([])],decls:3,vars:3,consts:[["class","row","style","text-align: center",4,"ngIf"],[4,"ngIf"],[1,"row",2,"text-align","center"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","employeeid",1,"col-form-label"],["id","Employee","name","Employee",1,"inline-flex",3,"ngModel","suggestions","dataKey","field","ngClass","completeMethod","onFocus","onSelect","ngModelChange"],["autoEmployee",""],["pTemplate","item"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"col-lg-5","col-md-5","col-sm-12","mb-2","mb-md-0",2,"margin-top","30px"],["type","submit","class","btn btn-success mb-0 me-3 btn-md",3,"disabled","click",4,"ngIf"],["class","btn btn-success mb-0 me-3 btn-md",3,"click",4,"ngIf"],["class","btn btn-danger mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success","mb-0","me-3","btn-md",3,"disabled","click"],[1,"ft-check-square","mr-1"],[1,"btn","btn-success","mb-0","me-3","btn-md",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"card"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"employeeid","employeeBranchHistoryID","parentGetData","dataToParent"],["changeBranchForm",""],[3,"employeeid","employeeSectionHistoryID","parentGetData","dataToParent"],["changeSectionForm",""],[3,"employeeid","employeeDepartmentHistoryID","parentGetData","dataToParent"],["changeDepartmentForm",""],[3,"employeeid","employeeCostcenterHistoryID","parentGetData","dataToParent"],["changeCostcenterForm",""],[3,"employeeid","employeeJobHistoryID","parentGetData","dataToParent"],["changeJobForm",""],[3,"employeeid","employeeSalaryHistoryID","parentGetData","dataToParent"],["changeSalaryForm",""],[3,"employeeid","employeeAllowanceHistoryID","parentGetData","dataToParent","dataToParentCanDelete"],["changeAllowanceForm",""],[3,"employeeid","parentGetData","parentEdit"],["changeBranchList",""],["changeSectionList",""],["changeDepartmentList",""],["changeCostcenterList",""],["changeJobList",""],["changeSalaryList",""],["changeAllowanceList",""]],template:function(e,t){1&e&&(g["\u0275\u0275template"](0,Cm,4,3,"div",0),g["\u0275\u0275template"](1,Fm,23,20,"section",1),g["\u0275\u0275template"](2,op,20,16,"section",1)),2&e&&(g["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(430)||t.checkRoleParms(431)||t.checkRoleParms(432)||t.checkRoleParms(433)||t.checkRoleParms(434)||t.checkRoleParms(435)||t.checkRoleParms(436))),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(430)||t.checkRoleParms(431)||t.checkRoleParms(432)||t.checkRoleParms(433)||t.checkRoleParms(434)||t.checkRoleParms(435)||t.checkRoleParms(436)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(430)||t.checkRoleParms(431)||t.checkRoleParms(432)||t.checkRoleParms(433)||t.checkRoleParms(434)||t.checkRoleParms(435)||t.checkRoleParms(436)))},directives:[a.O5,s.Qc,r.JJ,r.On,a.mk,H.jx,di.Pz,di.tO,di.nv,di.Vx,di.uN,so,Co,Ao,Xo,fs,Qs,vd,wd,Ad,Yd,ac,yc,Bc,sm],pipes:[m.X$],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff!important;background-color:gray!important}.tab-content[_ngcontent-%COMP%]{border:1px ridge #000;margin-top:0!important;padding:0}.nav.nav-pills.nav-fill[_ngcontent-%COMP%], .tab-content[_ngcontent-%COMP%]{width:97.5%;margin-right:15px;margin-left:15px}"]}),e})(),dp=(()=>{class e{constructor(e){this.http=e,this.baseUrl=dt.N.apiUrl}GetAllEmployeeSuspensionResumptionHistory(e,t,n){let a=`/SuspensionResumptionTransaction/GetAllEmployeeSuspensionResumptionHistory?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeSuspensionResumptionHistory(e,t,n){return this.http.get(this.baseUrl+`/SuspensionResumptionTransaction/CountOfEmployeeSuspensionResumptionHistory?searchValue=${e}&subsidaryid=${t}&employeeid=${n}`).pipe((0,ct.U)(e=>e))}GetEmployeeSuspensionResumptionHistoryById(e){return this.http.get(this.baseUrl+`/SuspensionResumptionTransaction/GetEmployeeSuspensionResumptionHistoryById?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeSuspensionResumptionHistory(e){return this.http.post(`${this.baseUrl}/SuspensionResumptionTransaction/CreateEmployeeSuspensionResumptionHistory`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeSuspensionResumptionHistory(e){return this.http.post(this.baseUrl+"/SuspensionResumptionTransaction/UpdateEmployeeSuspensionResumptionHistory",e).pipe((0,ct.U)(e=>e))}GetMaxCodeEmployeeSuspensionResumptionHistory(e,t){return this.http.get(this.baseUrl+`/SuspensionResumptionTransaction/GetMaxCodeEmployeeSuspensionResumptionHistory?subsidaryid=${e}&employeeid=${t}`).pipe((0,ct.U)(e=>e))}DeleteEmployeeSuspensionResumptionHistory(e){return this.http.get(this.baseUrl+`/SuspensionResumptionTransaction/DeleteEmployeeSuspensionResumptionHistory?id=${e}`).pipe((0,ct.U)(e=>e))}GetEmployeeSuspensionResumptionHistoryDataForValidation(e){return this.http.get(this.baseUrl+`/SuspensionResumptionTransaction/GetEmployeeSuspensionResumptionHistoryDataForValidation?employeeid=${e}`).pipe((0,ct.U)(e=>e))}GetAllEmployeeAllowanceSuspensionResumptionHistory(e,t,n){let a=`/SuspensionResumptionTransaction/GetAllEmployeeAllowanceSuspensionResumptionHistory?PageNo=${e.pageNo}&PageSize=${e.pageSize}&orderby=${e.orderby}&subsidaryid=${t}&employeeid=${n}`;return e.searchValue&&(a+=`&SearchValue=${e.searchValue}`),this.http.get(this.baseUrl+a).pipe((0,ct.U)(e=>e))}CountOfEmployeeAllowanceSuspensionResumptionHistory(e,t,n){return this.http.get(this.baseUrl+`/SuspensionResumptionTransaction/CountOfEmployeeAllowanceSuspensionResumptionHistory?searchValue=${e}&subsidaryid=${t}&employeeid=${n}`).pipe((0,ct.U)(e=>e))}GetEmployeeAllowanceSuspensionResumptionHistoryById(e){return this.http.get(this.baseUrl+`/SuspensionResumptionTransaction/GetEmployeeAllowanceSuspensionResumptionHistoryById?id=${e}`).pipe((0,ct.U)(e=>e))}CreateEmployeeAllowanceSuspensionResumptionHistory(e){return this.http.post(`${this.baseUrl}/SuspensionResumptionTransaction/CreateEmployeeAllowanceSuspensionResumptionHistory`,e).pipe((0,ct.U)(e=>e))}UpdateEmployeeAllowanceSuspensionResumptionHistory(e){return this.http.post(this.baseUrl+"/SuspensionResumptionTransaction/UpdateEmployeeAllowanceSuspensionResumptionHistory",e).pipe((0,ct.U)(e=>e))}GetMaxCodeEmployeeAllowanceSuspensionResumptionHistory(e,t){return this.http.get(this.baseUrl+`/SuspensionResumptionTransaction/GetMaxCodeEmployeeAllowanceSuspensionResumptionHistory?subsidaryid=${e}&employeeid=${t}`).pipe((0,ct.U)(e=>e))}DeleteEmployeeAllowanceSuspensionResumptionHistory(e){return this.http.get(this.baseUrl+`/SuspensionResumptionTransaction/DeleteEmployeeAllowanceSuspensionResumptionHistory?id=${e}`).pipe((0,ct.U)(e=>e))}GetEmployeeAllowanceSuspensionResumptionHistoryDataForValidation(e,t){return this.http.get(this.baseUrl+`/SuspensionResumptionTransaction/GetEmployeeAllowanceSuspensionResumptionHistoryDataForValidation?employeeid=${e}&employeeallowancehistoryid=${t}`).pipe((0,ct.U)(e=>e))}GetEmployeeAllowanceList(e,t){return this.http.get(this.baseUrl+`/SuspensionResumptionTransaction/GetEmployeeAllowanceList?subsidaryid=${t}&employeeid=${e}`).pipe((0,ct.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275inject"](o.eN))},e.\u0275prov=g["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class cp{constructor(){this.id=0,this.code="",this.startdate=null,this.reason="",this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0,this.transactiontype_en="",this.transactiontype_ar=""}}const mp=["VacationRForm"];function pp(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",23),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function hp(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",23),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanWorkStartDate")," "))}function up(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",23),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function yp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",24),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeSuspensionResumptionHistory.transactiontype_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeSuspensionResumptionHistory.transactiontype_ar)}}function gp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",24),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeSuspensionResumptionHistory.transactiontype_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeSuspensionResumptionHistory.transactiontype_en)}}function vp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",25),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeSuspensionResumptionHistory.editor_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeSuspensionResumptionHistory.editor_ar)}}function Sp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",25),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeSuspensionResumptionHistory.editor_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeSuspensionResumptionHistory.editor_en)}}const fp=function(e,t){return{"invalid-data":e,"valid-data":t}};let bp=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._suspensionResumptionTransactionService=d,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeSuspensionResumptionHistory=new cp,this._oldEmployeeSuspensionResumptionHistory="",this.parentGetData=new g.EventEmitter,this.dataToParent=new g.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeSuspensionResumptionHistoryDate=null,this.EmployeeSuspensionResumptionHistoryTransactionType=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.SuspensionResumptionIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;const c=this._authService.userInfo();this.currentUser=c,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}ngOnInit(){this._employeeSuspensionResumptionHistory.employeeid=this.employeeid,this._employeeSuspensionResumptionHistory.id=this.employeeSuspensionResumptionHistoryID,this.GetEmployeeDataForValidation()}GetEmployeeDataForValidation(){this._suspensionResumptionTransactionService.GetEmployeeSuspensionResumptionHistoryDataForValidation(this.employeeid).subscribe(e=>{null!=e.data&&null!=e.data.workstartdate&&(this.EmployeeWorkStartDate=e.data.workstartdate,this.EmployeeSuspensionResumptionHistoryDate=e.data.suspensionresumptionhistorydate,this.EmployeeSuspensionResumptionHistoryTransactionType=e.data.suspensionresumptionhistorytransactiontype),this.GetData()})}GetData(){this._employeeSuspensionResumptionHistory=new cp,0==this.employeeSuspensionResumptionHistoryID?this._suspensionResumptionTransactionService.GetMaxCodeEmployeeSuspensionResumptionHistory(this.subsidiaryID,this.employeeid).subscribe(e=>{e.data[0].code>0?(this._employeeSuspensionResumptionHistory.code=(parseFloat(e.data[0].code)+1).toString(),1==this.EmployeeSuspensionResumptionHistoryTransactionType?(this._employeeSuspensionResumptionHistory.transactiontype=2,this._employeeSuspensionResumptionHistory.transactiontype_en="Resumption",this._employeeSuspensionResumptionHistory.transactiontype_ar="\u0627\u0633\u062a\u0626\u0646\u0627\u0641"):(this._employeeSuspensionResumptionHistory.transactiontype=1,this._employeeSuspensionResumptionHistory.transactiontype_en="Suspension",this._employeeSuspensionResumptionHistory.transactiontype_ar="\u0625\u064a\u0642\u0627\u0641")):(this._employeeSuspensionResumptionHistory.code="1",this.isFirstRecored=!0,this._employeeSuspensionResumptionHistory.transactiontype=1,this._employeeSuspensionResumptionHistory.transactiontype_en="Suspension",this._employeeSuspensionResumptionHistory.transactiontype_ar="\u0625\u064a\u0642\u0627\u0641"),this._employeeSuspensionResumptionHistory.editor_en=this.currentUser.name,this._employeeSuspensionResumptionHistory.editor_ar=this.currentUser.name_ar,this._employeeSuspensionResumptionHistory.editingdate=new Date,this._oldEmployeeSuspensionResumptionHistory=JSON.stringify(this._employeeSuspensionResumptionHistory),this.cd.markForCheck()}):this._suspensionResumptionTransactionService.GetEmployeeSuspensionResumptionHistoryById(this.employeeSuspensionResumptionHistoryID).subscribe(e=>{this._employeeSuspensionResumptionHistory.id=e.data[0].id,this._employeeSuspensionResumptionHistory.code=e.data[0].code,this._employeeSuspensionResumptionHistory.employeeid=e.data[0].employeeid,this._employeeSuspensionResumptionHistory.startdate=e.data[0].startdate,this._employeeSuspensionResumptionHistory.reason=e.data[0].reason,this._employeeSuspensionResumptionHistory.notes=e.data[0].notes,this._employeeSuspensionResumptionHistory.transactiontype=e.data[0].transactiontype,this._employeeSuspensionResumptionHistory.transactiontype_en=e.data[0].transactiontype_en,this._employeeSuspensionResumptionHistory.transactiontype_ar=e.data[0].transactiontype_ar,this._employeeSuspensionResumptionHistory.subsidaryid=e.data[0].subsidaryid,this._employeeSuspensionResumptionHistory.editor_en=e.data[0].editor_en,this._employeeSuspensionResumptionHistory.editor_ar=e.data[0].editor_ar,this._employeeSuspensionResumptionHistory.editingdate=e.data[0].editingdate,this._employeeSuspensionResumptionHistory.islastrecored=e.data[0].islastrecored,this.dataToParent.emit(this._employeeSuspensionResumptionHistory.islastrecored),this._oldEmployeeSuspensionResumptionHistory=JSON.stringify(this._employeeSuspensionResumptionHistory),this.cd.markForCheck()})}onStartingFromDateChange(){this.StartDateFirstRecoredRangeVaild=!(1==this.isFirstRecored&&this._employeeSuspensionResumptionHistory.startdate<this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeSuspensionResumptionHistory.startdate<=this.EmployeeSuspensionResumptionHistoryDate)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(){this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.SuspensionResumptionIDOtherRecoredVaild&&(this._employeeSuspensionResumptionHistory.employeeid=this.employeeid,this._employeeSuspensionResumptionHistory.subsidaryid=this.subsidiaryID,this._employeeSuspensionResumptionHistory.id>0?this._suspensionResumptionTransactionService.UpdateEmployeeSuspensionResumptionHistory(this._employeeSuspensionResumptionHistory).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}):this._suspensionResumptionTransactionService.CreateEmployeeSuspensionResumptionHistory(this._employeeSuspensionResumptionHistory).subscribe(e=>{this._employeeSuspensionResumptionHistory.id=e.data[0].id,this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}),this.manuallySubmitted=!1)}NotToMissData(e){return(0,qr.mG)(this,void 0,void 0,function*(){if(this._oldEmployeeSuspensionResumptionHistory!==JSON.stringify(this._employeeSuspensionResumptionHistory)){const e=yield k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});return!e.isConfirmed||1!=e.isConfirmed}return!0})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](dp))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employee-suspension-resumption-form"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](mp,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid",employeeSuspensionResumptionHistoryID:"employeeSuspensionResumptionHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:58,vars:50,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","Reason",1,"col-form-label"],["type","text","name","Reason",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","TransactionType",1,"col-form-label"],["type","text","name","TransactionType","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","workstartdate",1,"col-form-label"],["type","text","name","workstartdate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],["type","text","name","TransactionType","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"div",4),g["\u0275\u0275elementStart"](6,"label",5),g["\u0275\u0275text"](7),g["\u0275\u0275pipe"](8,"translate"),g["\u0275\u0275elementStart"](9,"span",6),g["\u0275\u0275text"](10,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"input",7,8),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSuspensionResumptionHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),g["\u0275\u0275pipe"](13,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](14,pp,3,3,"span",9),g["\u0275\u0275template"](15,hp,3,3,"span",9),g["\u0275\u0275template"](16,up,3,3,"span",9),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"div",3),g["\u0275\u0275elementStart"](18,"div",4),g["\u0275\u0275elementStart"](19,"label",10),g["\u0275\u0275text"](20),g["\u0275\u0275pipe"](21,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](22,"input",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSuspensionResumptionHistory.reason=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"div",12),g["\u0275\u0275elementStart"](24,"div",4),g["\u0275\u0275elementStart"](25,"label",13),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"input",14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSuspensionResumptionHistory.notes=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"div",2),g["\u0275\u0275elementStart"](30,"div",3),g["\u0275\u0275elementStart"](31,"div",4),g["\u0275\u0275elementStart"](32,"label",15),g["\u0275\u0275text"](33),g["\u0275\u0275pipe"](34,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](35,yp,1,1,"input",16),g["\u0275\u0275template"](36,gp,1,1,"input",16),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](37,"div",3),g["\u0275\u0275elementStart"](38,"div",4),g["\u0275\u0275elementStart"](39,"label",17),g["\u0275\u0275text"](40),g["\u0275\u0275pipe"](41,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](42,"input",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.EmployeeWorkStartDate=e}),g["\u0275\u0275pipe"](43,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](44,"div",3),g["\u0275\u0275elementStart"](45,"div",4),g["\u0275\u0275elementStart"](46,"label",19),g["\u0275\u0275text"](47),g["\u0275\u0275pipe"](48,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](49,vp,1,1,"input",20),g["\u0275\u0275template"](50,Sp,1,1,"input",20),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"div",3),g["\u0275\u0275elementStart"](52,"div",4),g["\u0275\u0275elementStart"](53,"label",21),g["\u0275\u0275text"](54),g["\u0275\u0275pipe"](55,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](56,"input",22),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSuspensionResumptionHistory.editingdate=e}),g["\u0275\u0275pipe"](57,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275reference"](12);g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](8,24,"StartingFromDate")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeSuspensionResumptionHistory.islastrecored)("required",!0)("ngModel",g["\u0275\u0275pipeBind2"](13,26,t._employeeSuspensionResumptionHistory.startdate,"yyyy-MM-dd"))("ngClass",g["\u0275\u0275pureFunction2"](47,fp,e.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,e.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](21,29,"Reason")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeSuspensionResumptionHistory.reason)("disabled",!t._employeeSuspensionResumptionHistory.islastrecored),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](27,31,"Notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeSuspensionResumptionHistory.notes)("disabled",!t._employeeSuspensionResumptionHistory.islastrecored),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](34,33,"TransactionType")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](41,35,"workstartdate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](43,37,t.EmployeeWorkStartDate,"dd/MM/yyyy")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](48,40,"Editor")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](55,42,"EditingDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](57,44,t._employeeSuspensionResumptionHistory.editingdate,"dd/MM/yyyy"))}},directives:[r._Y,r.JL,r.F,r.Fj,r.Q7,r.JJ,r.On,a.mk,a.O5],pipes:[m.X$,a.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();class Ep{constructor(){this.id=0,this.code="",this.startdate=null,this.reason="",this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0,this.transactiontype_en="",this.transactiontype_ar="",this.employeeallowancehistory_en="",this.employeeallowancehistory_ar=""}}const xp=["VacationRForm"];function Cp(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name_ar)}}function Dp(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](e.name)}}function _p(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"option",27),g["\u0275\u0275template"](1,Cp,2,1,"div",28),g["\u0275\u0275template"](2,Dp,2,1,"div",28),g["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("value",e.id),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ip(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",29),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}const wp=function(e,t){return{"invalid-data":e,"valid-data":t}};function Tp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",5),g["\u0275\u0275elementStart"](1,"label",15),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementStart"](4,"span",7),g["\u0275\u0275text"](5,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"select",23,24),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid=t})("change",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onEmployeeAllowanceChange()}),g["\u0275\u0275elementStart"](8,"option",25),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](11,_p,3,3,"option",26),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](12,Ip,3,3,"span",10),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275reference"](7),t=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,9,"EmployeeAllowance")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid)("required",!0)("ngClass",g["\u0275\u0275pureFunction2"](13,wp,e.invalid&&t.manuallySubmitted,e.valid&&t.manuallySubmitted))("disabled",!t._employeeAllowanceSuspensionResumptionHistory.islastrecored||2==t.employeeallowancestatus),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngValue",null),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,11,"Select")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngForOf",t.EmployeeAllowanceList),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted)}}function Mp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",32),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).employeeallowancehistory_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("ngModel",e.employeeallowancehistory_ar)}}function kp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",33),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).employeeallowancehistory_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("ngModel",e.employeeallowancehistory_en)}}function Bp(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",5),g["\u0275\u0275elementStart"](1,"label",30),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,Mp,1,1,"input",31),g["\u0275\u0275template"](5,kp,1,1,"input",16),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,3,"EmployeeAllowance")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==e.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Fp(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",29),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Hp(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",29),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanAllowanceGrantDate")," "))}function Rp(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span",29),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecordEmployeeAllowance")," "))}function Op(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",33),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar)}}function Vp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",33),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeAllowanceSuspensionResumptionHistory.transactiontype_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeAllowanceSuspensionResumptionHistory.transactiontype_en)}}function Ap(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",34),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeAllowanceSuspensionResumptionHistory.editor_ar=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeAllowanceSuspensionResumptionHistory.editor_ar)}}function Np(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",34),g["\u0275\u0275listener"]("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]()._employeeAllowanceSuspensionResumptionHistory.editor_en=t}),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275property"]("ngModel",e._employeeAllowanceSuspensionResumptionHistory.editor_en)}}let Gp=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cd=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._suspensionResumptionTransactionService=d,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeAllowanceSuspensionResumptionHistory=new Ep,this._oldEmployeeAllowanceSuspensionResumptionHistory="",this.parentGetData=new g.EventEmitter,this.dataToParent=new g.EventEmitter,this.dataToParentCanDelete=new g.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.AllowanceGrantDate=null,this.EmployeeSuspensionResumptionHistoryDate=null,this.employeeallowancestatus=0,this.employeeallowancehistory_en="",this.employeeallowancehistory_ar="",this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.SuspensionResumptionIDOtherRecoredVaild=!0,this.EmployeeAllowanceList=[],this.subsidiaryID=this._generalService.SubsidiaryID;const c=this._authService.userInfo();this.currentUser=c,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}ngOnInit(){this._employeeAllowanceSuspensionResumptionHistory.employeeid=this.employeeid,this._employeeAllowanceSuspensionResumptionHistory.id=this.employeeAllowanceSuspensionResumptionHistoryID,this.GetEmployeeAllowance(),this.GetData()}GetEmployeeAllowance(){this._suspensionResumptionTransactionService.GetEmployeeAllowanceList(this.employeeid,this.subsidiaryID).subscribe(e=>{this.EmployeeAllowanceList=e.data,this.cd.markForCheck()})}GetEmployeeDataForValidation(){this._suspensionResumptionTransactionService.GetEmployeeAllowanceSuspensionResumptionHistoryDataForValidation(this.employeeid,this._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid).subscribe(e=>{null!=e.data&&null!=e.data.workstartdate&&(this.EmployeeWorkStartDate=e.data.workstartdate,this.EmployeeSuspensionResumptionHistoryDate=e.data.suspensionresumptionhistorydate)})}GetData(){this._employeeAllowanceSuspensionResumptionHistory=new Ep,0==this.employeeAllowanceSuspensionResumptionHistoryID?this._suspensionResumptionTransactionService.GetMaxCodeEmployeeAllowanceSuspensionResumptionHistory(this.subsidiaryID,this.employeeid).subscribe(e=>{e.data[0].code>0?this._employeeAllowanceSuspensionResumptionHistory.code=(parseFloat(e.data[0].code)+1).toString():(this._employeeAllowanceSuspensionResumptionHistory.code="1",this.isFirstRecored=!0),this._employeeAllowanceSuspensionResumptionHistory.editor_en=this.currentUser.name,this._employeeAllowanceSuspensionResumptionHistory.editor_ar=this.currentUser.name_ar,this._employeeAllowanceSuspensionResumptionHistory.editingdate=new Date,this._oldEmployeeAllowanceSuspensionResumptionHistory=JSON.stringify(this._employeeAllowanceSuspensionResumptionHistory),this.cd.markForCheck()}):this._suspensionResumptionTransactionService.GetEmployeeAllowanceSuspensionResumptionHistoryById(this.employeeAllowanceSuspensionResumptionHistoryID).subscribe(e=>{this._employeeAllowanceSuspensionResumptionHistory.id=e.data[0].id,this._employeeAllowanceSuspensionResumptionHistory.code=e.data[0].code,this._employeeAllowanceSuspensionResumptionHistory.employeeid=e.data[0].employeeid,this._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid=e.data[0].employeeallowancehistoryid,this._employeeAllowanceSuspensionResumptionHistory.startdate=e.data[0].startdate,this._employeeAllowanceSuspensionResumptionHistory.reason=e.data[0].reason,this._employeeAllowanceSuspensionResumptionHistory.notes=e.data[0].notes,this._employeeAllowanceSuspensionResumptionHistory.transactiontype=e.data[0].transactiontype,this._employeeAllowanceSuspensionResumptionHistory.transactiontype_en=e.data[0].transactiontype_en,this._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar=e.data[0].transactiontype_ar,this._employeeAllowanceSuspensionResumptionHistory.subsidaryid=e.data[0].subsidaryid,this._employeeAllowanceSuspensionResumptionHistory.editor_en=e.data[0].editor_en,this._employeeAllowanceSuspensionResumptionHistory.editor_ar=e.data[0].editor_ar,this._employeeAllowanceSuspensionResumptionHistory.editingdate=e.data[0].editingdate,this._employeeAllowanceSuspensionResumptionHistory.islastrecored=e.data[0].islastrecored,this.AllowanceGrantDate=e.data[0].employeeallowancestartdate,this.dataToParent.emit(this._employeeAllowanceSuspensionResumptionHistory.islastrecored),this.employeeallowancestatus=e.data[0].employeeallowancestatus,this.employeeallowancehistory_en=e.data[0].employeeallowancehistory_en,this.employeeallowancehistory_ar=e.data[0].employeeallowancehistory_ar,this.dataToParentCanDelete.emit(2!=e.data[0].employeeallowancestatus),this._oldEmployeeAllowanceSuspensionResumptionHistory=JSON.stringify(this._employeeAllowanceSuspensionResumptionHistory),this.cd.markForCheck()})}onEmployeeAllowanceChange(){if(this.GetEmployeeDataForValidation(),null==this._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid)this.AllowanceGrantDate="",this._employeeAllowanceSuspensionResumptionHistory.transactiontype=0,this._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar="",this._employeeAllowanceSuspensionResumptionHistory.transactiontype_en="";else{var e=this.EmployeeAllowanceList.filter(e=>e.id==this._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid)[0];this.AllowanceGrantDate=e.startdate,1==e.allowancestatus?(this._employeeAllowanceSuspensionResumptionHistory.transactiontype=1,this._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar="\u0625\u064a\u0642\u0627\u0641",this._employeeAllowanceSuspensionResumptionHistory.transactiontype_en="Suspension"):3==e.allowancestatus&&(this._employeeAllowanceSuspensionResumptionHistory.transactiontype=2,this._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar="\u0627\u0633\u062a\u0626\u0646\u0627\u0641",this._employeeAllowanceSuspensionResumptionHistory.transactiontype_en="Resumption")}}onStartingFromDateChange(){this.StartDateFirstRecoredRangeVaild=!(null==this.EmployeeSuspensionResumptionHistoryDate&&this._employeeAllowanceSuspensionResumptionHistory.startdate<this.AllowanceGrantDate),this.StartDateOtherRecoredRangeVaild=!(null!=this.EmployeeSuspensionResumptionHistoryDate&&this._employeeAllowanceSuspensionResumptionHistory.startdate<=this.EmployeeSuspensionResumptionHistoryDate)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}onSave(){this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.SuspensionResumptionIDOtherRecoredVaild&&(this._employeeAllowanceSuspensionResumptionHistory.employeeid=this.employeeid,this._employeeAllowanceSuspensionResumptionHistory.subsidaryid=this.subsidiaryID,this._employeeAllowanceSuspensionResumptionHistory.id>0?this._suspensionResumptionTransactionService.UpdateEmployeeAllowanceSuspensionResumptionHistory(this._employeeAllowanceSuspensionResumptionHistory).subscribe(e=>{this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}):this._suspensionResumptionTransactionService.CreateEmployeeAllowanceSuspensionResumptionHistory(this._employeeAllowanceSuspensionResumptionHistory).subscribe(e=>{this._employeeAllowanceSuspensionResumptionHistory.id=e.data[0].id,this.toastr.success(this.DataSavedsuccessfully),this.parentGetData.emit()}),this.manuallySubmitted=!1)}NotToMissData(e){return(0,qr.mG)(this,void 0,void 0,function*(){if(this._oldEmployeeAllowanceSuspensionResumptionHistory!==JSON.stringify(this._employeeAllowanceSuspensionResumptionHistory)){const e=yield k().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});return!e.isConfirmed||1!=e.isConfirmed}return!0})}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](dp))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employee-allowance-suspension-resumption-form"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](xp,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid",employeeAllowanceSuspensionResumptionHistoryID:"employeeAllowanceSuspensionResumptionHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent",dataToParentCanDelete:"dataToParentCanDelete"},decls:61,vars:52,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],["class","form-group",4,"ngIf"],[1,"form-group"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","Reason",1,"col-form-label"],["type","text","name","Reason",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","TransactionType",1,"col-form-label"],["type","text","name","TransactionType","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","allowancegrantdate",1,"col-form-label"],["type","text","name","allowancegrantdate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["name","EmployeeAllowanceid",1,"form-control",3,"ngModel","required","ngClass","disabled","ngModelChange","change"],["EmployeeAllowanceHistorySelectedId","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],[2,"color","red"],["id","EmployeeAllowance",1,"col-form-label"],["type","text","name","EmployeeAllowance","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","name","EmployeeAllowance","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","TransactionType","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"form",0,1),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275template"](5,Tp,13,16,"div",4),g["\u0275\u0275template"](6,Bp,6,5,"div",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",3),g["\u0275\u0275elementStart"](8,"div",5),g["\u0275\u0275elementStart"](9,"label",6),g["\u0275\u0275text"](10),g["\u0275\u0275pipe"](11,"translate"),g["\u0275\u0275elementStart"](12,"span",7),g["\u0275\u0275text"](13,"*"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"input",8,9),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceSuspensionResumptionHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),g["\u0275\u0275pipe"](16,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](17,Fp,3,3,"span",10),g["\u0275\u0275template"](18,Hp,3,3,"span",10),g["\u0275\u0275template"](19,Rp,3,3,"span",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"div",3),g["\u0275\u0275elementStart"](21,"div",5),g["\u0275\u0275elementStart"](22,"label",11),g["\u0275\u0275text"](23),g["\u0275\u0275pipe"](24,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"input",12),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceSuspensionResumptionHistory.reason=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"div",3),g["\u0275\u0275elementStart"](27,"div",5),g["\u0275\u0275elementStart"](28,"label",13),g["\u0275\u0275text"](29),g["\u0275\u0275pipe"](30,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"input",14),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceSuspensionResumptionHistory.notes=e}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"div",2),g["\u0275\u0275elementStart"](33,"div",3),g["\u0275\u0275elementStart"](34,"div",5),g["\u0275\u0275elementStart"](35,"label",15),g["\u0275\u0275text"](36),g["\u0275\u0275pipe"](37,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](38,Op,1,1,"input",16),g["\u0275\u0275template"](39,Vp,1,1,"input",16),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"div",3),g["\u0275\u0275elementStart"](41,"div",5),g["\u0275\u0275elementStart"](42,"label",17),g["\u0275\u0275text"](43),g["\u0275\u0275pipe"](44,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](45,"input",18),g["\u0275\u0275listener"]("ngModelChange",function(e){return t.AllowanceGrantDate=e}),g["\u0275\u0275pipe"](46,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](47,"div",3),g["\u0275\u0275elementStart"](48,"div",5),g["\u0275\u0275elementStart"](49,"label",19),g["\u0275\u0275text"](50),g["\u0275\u0275pipe"](51,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](52,Ap,1,1,"input",20),g["\u0275\u0275template"](53,Np,1,1,"input",20),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](54,"div",3),g["\u0275\u0275elementStart"](55,"div",5),g["\u0275\u0275elementStart"](56,"label",21),g["\u0275\u0275text"](57),g["\u0275\u0275pipe"](58,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](59,"input",22),g["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceSuspensionResumptionHistory.editingdate=e}),g["\u0275\u0275pipe"](60,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275reference"](15);g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("ngIf",2!=t.employeeallowancestatus),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",2==t.employeeallowancestatus),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](11,26,"StartingFromDate")," "),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("disabled",!t._employeeAllowanceSuspensionResumptionHistory.islastrecored||2==t.employeeallowancestatus)("required",!0)("ngModel",g["\u0275\u0275pipeBind2"](16,28,t._employeeAllowanceSuspensionResumptionHistory.startdate,"yyyy-MM-dd"))("ngClass",g["\u0275\u0275pureFunction2"](49,wp,e.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,e.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",e.invalid&&t.manuallySubmitted),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](24,31,"Reason")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceSuspensionResumptionHistory.reason)("disabled",!t._employeeAllowanceSuspensionResumptionHistory.islastrecored||2==t.employeeallowancestatus),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](30,33,"Notes")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",t._employeeAllowanceSuspensionResumptionHistory.notes)("disabled",!t._employeeAllowanceSuspensionResumptionHistory.islastrecored||2==t.employeeallowancestatus),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](37,35,"TransactionType")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](44,37,"allowancegrantdate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](46,39,t.AllowanceGrantDate,"dd/MM/yyyy")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](51,42,"Editor")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf","ar"==t.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=t.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](58,44,"EditingDate")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",g["\u0275\u0275pipeBind2"](60,46,t._employeeAllowanceSuspensionResumptionHistory.editingdate,"dd/MM/yyyy"))}},directives:[r._Y,r.JL,r.F,a.O5,r.Fj,r.Q7,r.JJ,r.On,a.mk,r.EJ,r.YN,r.Kr,a.sg],pipes:[m.X$,a.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e})();const Pp=["VacationRForm"];function jp(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.transactiontype_ar)}}function $p(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.transactiontype_en)}}function Up(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_ar)}}function Lp(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_en)}}function Jp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275elementStart"](1,"button",9),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]().$implicit;return g["\u0275\u0275nextContext"](2).onEditClick(t.id,t.rowno)}),g["\u0275\u0275element"](2,"i",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function zp(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275elementStart"](1,"tr",8),g["\u0275\u0275elementStart"](2,"td"),g["\u0275\u0275elementStart"](3,"div"),g["\u0275\u0275elementStart"](4,"span"),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"td"),g["\u0275\u0275elementStart"](8,"div"),g["\u0275\u0275template"](9,jp,2,1,"span",5),g["\u0275\u0275template"](10,$p,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td"),g["\u0275\u0275elementStart"](12,"div"),g["\u0275\u0275elementStart"](13,"span"),g["\u0275\u0275text"](14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"td"),g["\u0275\u0275elementStart"](16,"div"),g["\u0275\u0275elementStart"](17,"span"),g["\u0275\u0275text"](18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"td"),g["\u0275\u0275elementStart"](20,"div"),g["\u0275\u0275template"](21,Up,2,1,"span",5),g["\u0275\u0275template"](22,Lp,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"td"),g["\u0275\u0275elementStart"](24,"div"),g["\u0275\u0275elementStart"](25,"span"),g["\u0275\u0275text"](26),g["\u0275\u0275pipe"](27,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](28,"td"),g["\u0275\u0275elementStart"](29,"div"),g["\u0275\u0275template"](30,Jp,3,0,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](6,9,null==e?null:e.startdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.reason),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.notes),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](27,12,null==e?null:e.editingdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",n.checkRoleParms(444))}}function Yp(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"tbody"),g["\u0275\u0275template"](1,zp,31,15,"ng-container",7),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.EmployeeSuspensionResumptionList)}}function qp(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",11),g["\u0275\u0275elementStart"](1,"ngb-pagination",12),g["\u0275\u0275listener"]("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNoChange(t)})("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNo=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](2,"p"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",13),g["\u0275\u0275listener"]("change",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageSize=t}),g["\u0275\u0275elementStart"](5,"option",14),g["\u0275\u0275text"](6,"10 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"option",15),g["\u0275\u0275text"](8,"20 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"option",16),g["\u0275\u0275text"](10,"50 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"option",17),g["\u0275\u0275text"](12,"100 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](13,"br"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngModel",e.PageSize)}}let Qp=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cdr=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._employeeVacationsService=d,this._suspensionResumptionTransactionService=c,this._printService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeSuspensionResumptionList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new g.EventEmitter,this.parentEdit=new g.EventEmitter,this._searchModel=new y.h,this._filterAttribute=new oi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}ngOnInit(){this.GetData()}GetData(){setTimeout(()=>{this._suspensionResumptionTransactionService.GetAllEmployeeSuspensionResumptionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.EmployeeSuspensionResumptionList=e.data,this.cdr.markForCheck()}),this._suspensionResumptionTransactionService.CountOfEmployeeSuspensionResumptionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.totalCount=e.employees,this.cdr.markForCheck()})},0)}onEditClick(e,t){return(0,qr.mG)(this,void 0,void 0,function*(){this.parentEdit.emit({id:e,rowno:t})})}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}Print(e){let t=" ",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0625\u064a\u0642\u0627\u0641 \u0648\u0627\u0644\u0627\u0633\u062a\u0626\u0646\u0627\u0641":"Suspension & Resumption Transactions",l="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",r="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0625\u064a\u0642\u0627\u0641 \u0648\u0627\u0644\u0627\u0633\u062a\u0626\u0646\u0627\u0641 \u0644\u0644\u0645\u0648\u0638\u0641":"Employee Suspension Resumption Movements",o="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",s="ar"==this.lang?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status",d="ar"==this.lang?"\u0627\u0644\u0633\u0628\u0628":"Reason",c="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",m="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",p="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._suspensionResumptionTransactionService.GetAllEmployeeSuspensionResumptionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(h=>{this.cdr.markForCheck(),t=`\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${i}</div>\n        <br>\n        <div class="text-center"   dir=${n}>${l} : ${e}</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${r}</div>\n      <br>\n      <div dir=${n}>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">                   \n            <th>${o}</th>    \n            <th>${s}</th>       \n            <th>${d}</th>             \n            <th>${c}</th>\n            <th>${m}</th>\n            <th>${p}</th>\n            </tr>\n           </thead>\n           <tbody>\n      `;var u=new a.uU("en-US");h.data.map(e=>{t+=`\n          <tr>            \n            <td>${u.transform(e.startdate,"dd/MM/yyyy")}</td>\n            <td>${"ar"==this.lang?e.transactiontype_ar:e.transactiontype_en}</td>\n            <td>${e.reason}</td>\n            <td>${e.notes}</td>\n            <td>${"ar"==this.lang?e.editor_ar:e.editor_en}</td>\n            <td>${u.transform(e.editingdate,"dd/MM/yyyy")}</td>\n          </tr>\n        `}),t+="</tbody></table></div>",this._printService.OnPrintContent(t)})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](dp),g["\u0275\u0275directiveInject"](b.$))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employee-suspension-resumption-list"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](Pp,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:29,vars:23,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"h6",2),g["\u0275\u0275text"](3),g["\u0275\u0275pipe"](4,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div"),g["\u0275\u0275elementStart"](6,"table",3),g["\u0275\u0275elementStart"](7,"thead"),g["\u0275\u0275elementStart"](8,"th"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"th"),g["\u0275\u0275text"](12),g["\u0275\u0275pipe"](13,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"th"),g["\u0275\u0275text"](15),g["\u0275\u0275pipe"](16,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"th"),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"th"),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"th"),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](26,"th",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](27,Yp,2,1,"tbody",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](28,qp,14,7,"div",6)),2&e&&(g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](4,9,"EmployeeSuspensionResumptionMovements")," "),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,11,"StartingFromDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](13,13,"status")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](16,15,"Reason")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,17,"Notes")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,19,"Editor")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](25,21,"EditingDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.EmployeeSuspensionResumptionList.length>0&&t.employeeid>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[a.O5,a.sg,di.N9,r.EJ,r.JJ,r.On,r.YN,r.Kr],pipes:[m.X$,a.uU],styles:[""]}),e})();const Kp=["VacationRForm"];function Wp(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.employeeallowancehistory_ar)}}function Xp(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.employeeallowancehistory_en)}}function Zp(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.transactiontype_ar)}}function eh(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.transactiontype_en)}}function th(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_ar)}}function nh(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==e?null:e.editor_en)}}function ah(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275elementStart"](1,"button",9),g["\u0275\u0275listener"]("click",function(){g["\u0275\u0275restoreView"](e);const t=g["\u0275\u0275nextContext"]().$implicit;return g["\u0275\u0275nextContext"](2).onEditClick(t.id,t.rowno)}),g["\u0275\u0275element"](2,"i",10),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}}function ih(e,t){if(1&e&&(g["\u0275\u0275elementContainerStart"](0),g["\u0275\u0275elementStart"](1,"tr",8),g["\u0275\u0275elementStart"](2,"td"),g["\u0275\u0275elementStart"](3,"div"),g["\u0275\u0275template"](4,Wp,2,1,"span",5),g["\u0275\u0275template"](5,Xp,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"td"),g["\u0275\u0275elementStart"](7,"div"),g["\u0275\u0275elementStart"](8,"span"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"td"),g["\u0275\u0275elementStart"](12,"div"),g["\u0275\u0275template"](13,Zp,2,1,"span",5),g["\u0275\u0275template"](14,eh,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](15,"td"),g["\u0275\u0275elementStart"](16,"div"),g["\u0275\u0275elementStart"](17,"span"),g["\u0275\u0275text"](18),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"td"),g["\u0275\u0275elementStart"](20,"div"),g["\u0275\u0275elementStart"](21,"span"),g["\u0275\u0275text"](22),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"td"),g["\u0275\u0275elementStart"](24,"div"),g["\u0275\u0275template"](25,th,2,1,"span",5),g["\u0275\u0275template"](26,nh,2,1,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](27,"td"),g["\u0275\u0275elementStart"](28,"div"),g["\u0275\u0275elementStart"](29,"span"),g["\u0275\u0275text"](30),g["\u0275\u0275pipe"](31,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](32,"td"),g["\u0275\u0275elementStart"](33,"div"),g["\u0275\u0275template"](34,ah,3,0,"span",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](10,11,null==e?null:e.startdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.reason),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](null==e?null:e.notes),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","ar"==n.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=n.lang),g["\u0275\u0275advance"](4),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](31,14,null==e?null:e.editingdate,"dd/MM/yyyy")),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",n.checkRoleParms(444))}}function lh(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"tbody"),g["\u0275\u0275template"](1,ih,35,17,"ng-container",7),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.EmployeeAllowanceSuspensionResumptionList)}}function rh(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",11),g["\u0275\u0275elementStart"](1,"ngb-pagination",12),g["\u0275\u0275listener"]("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNoChange(t)})("pageChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageNo=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](2,"p"),g["\u0275\u0275text"](3),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"select",13),g["\u0275\u0275listener"]("change",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onPageSizeChange(t.target.value)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().PageSize=t}),g["\u0275\u0275elementStart"](5,"option",14),g["\u0275\u0275text"](6,"10 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"option",15),g["\u0275\u0275text"](8,"20 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](9,"option",16),g["\u0275\u0275text"](10,"50 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"option",17),g["\u0275\u0275text"](12,"100 items per page"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](13,"br"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngModel",e.PageSize)}}let oh=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m){this.router=e,this.route=t,this._TranslateGlobalService=n,this.translate=a,this.cdr=i,this._authService=l,this.toastr=r,this._generalService=o,this._employeesService=s,this._employeeVacationsService=d,this._suspensionResumptionTransactionService=c,this._printService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeAllowanceSuspensionResumptionList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new g.EventEmitter,this.parentEdit=new g.EventEmitter,this._searchModel=new y.h,this._filterAttribute=new oi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(e=>{this.Yes=e.Yes,this.No=e.No,this.Cancel=e.Cancel,this.checkname=e.checkname,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.Erorr=e.Erorr,this.Approval=e.Approval,this.PersonalDataNotComply=e.PersonalDataNotComply,this.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}ngOnInit(){this.GetData()}GetData(){setTimeout(()=>{this._suspensionResumptionTransactionService.GetAllEmployeeAllowanceSuspensionResumptionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.EmployeeAllowanceSuspensionResumptionList=e.data,this.cdr.markForCheck()}),this._suspensionResumptionTransactionService.CountOfEmployeeAllowanceSuspensionResumptionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(e=>{this.totalCount=e.employees,this.cdr.markForCheck()})},0)}onEditClick(e,t){return(0,qr.mG)(this,void 0,void 0,function*(){this.parentEdit.emit({id:e,rowno:t})})}PageNoChange(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}onPageSizeChange(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}Print(e){let t=" ",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0625\u064a\u0642\u0627\u0641 \u0648\u0627\u0644\u0627\u0633\u062a\u0626\u0646\u0627\u0641":"Suspension & Resumption Transactions",l="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",r="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0625\u064a\u0642\u0627\u0641 \u0648\u0627\u0644\u0627\u0633\u062a\u0626\u0646\u0627\u0641 \u0644\u0644\u0628\u062f\u0644\u0627\u062a":"Allowance Suspension Resumption Movements",o="ar"==this.lang?"\u0628\u062f\u0644 \u0627\u0644\u0645\u0648\u0638\u0641":"Employee Allowance",s="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status",c="ar"==this.lang?"\u0627\u0644\u0633\u0628\u0628":"Reason",m="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",p="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",h="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._suspensionResumptionTransactionService.GetAllEmployeeAllowanceSuspensionResumptionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(u=>{this.cdr.markForCheck(),t=`\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${i}</div>\n        <br>\n        <div class="text-center"   dir=${n}>${l} : ${e}</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=${n}>${r}</div>\n      <br>\n      <div dir=${n}>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">                   \n            <th>${o}</th>    \n            <th>${s}</th>    \n            <th>${d}</th>       \n            <th>${c}</th>             \n            <th>${m}</th>\n            <th>${p}</th>\n            <th>${h}</th>\n            </tr>\n           </thead>\n           <tbody>\n      `;var y=new a.uU("en-US");u.data.map(e=>{t+=`\n          <tr>           \n          <td>${"ar"==this.lang?e.employeeallowancehistory_ar:e.employeeallowancehistory_en}</td> \n            <td>${y.transform(e.startdate,"dd/MM/yyyy")}</td>\n            <td>${"ar"==this.lang?e.transactiontype_ar:e.transactiontype_en}</td>\n            <td>${e.reason}</td>\n            <td>${e.notes}</td>\n            <td>${"ar"==this.lang?e.editor_ar:e.editor_en}</td>\n            <td>${y.transform(e.editingdate,"dd/MM/yyyy")}</td>\n          </tr>\n        `}),t+="</tbody></table></div>",this._printService.OnPrintContent(t)})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](dp),g["\u0275\u0275directiveInject"](b.$))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employee-allowance-suspension-resumption-list"]],viewQuery:function(e,t){if(1&e&&g["\u0275\u0275viewQuery"](Kp,5),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.VacationRForm=e.first)}},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:32,vars:26,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"h6",2),g["\u0275\u0275text"](3),g["\u0275\u0275pipe"](4,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"div"),g["\u0275\u0275elementStart"](6,"table",3),g["\u0275\u0275elementStart"](7,"thead"),g["\u0275\u0275elementStart"](8,"th"),g["\u0275\u0275text"](9),g["\u0275\u0275pipe"](10,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](11,"th"),g["\u0275\u0275text"](12),g["\u0275\u0275pipe"](13,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"th"),g["\u0275\u0275text"](15),g["\u0275\u0275pipe"](16,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](17,"th"),g["\u0275\u0275text"](18),g["\u0275\u0275pipe"](19,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"th"),g["\u0275\u0275text"](21),g["\u0275\u0275pipe"](22,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](23,"th"),g["\u0275\u0275text"](24),g["\u0275\u0275pipe"](25,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"th"),g["\u0275\u0275text"](27),g["\u0275\u0275pipe"](28,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](29,"th",4),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](30,lh,2,1,"tbody",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](31,rh,14,7,"div",6)),2&e&&(g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](4,10,"AllowanceSuspensionResumptionMovements")," "),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](10,12,"EmployeeAllowance")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](13,14,"StartingFromDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](16,16,"status")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](19,18,"Reason")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](22,20,"Notes")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](25,22,"Editor")),g["\u0275\u0275advance"](3),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](28,24,"EditingDate")),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",t.EmployeeAllowanceSuspensionResumptionList.length>0&&t.employeeid>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[a.O5,a.sg,di.N9,r.EJ,r.JJ,r.On,r.YN,r.Kr],pipes:[m.X$,a.uU],styles:[""]}),e})();const sh=["employeeSuspensionResumptionForm"],dh=["EmployeeSuspensionResumptionList"],ch=["employeeAllowanceSuspensionResumptionForm"],mh=["EmployeeAllowanceSuspensionResumptionList"];function ph(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",2),g["\u0275\u0275elementStart"](1,"h1"),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function hh(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function uh(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){const e=g["\u0275\u0275nextContext"]().$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function yh(e,t){if(1&e&&(g["\u0275\u0275template"](0,hh,2,1,"div",1),g["\u0275\u0275template"](1,uh,2,1,"div",1)),2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("ngIf","ar"==e.lang),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function gh(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",21),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).OnSave()}),g["\u0275\u0275element"](1,"i",22),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("disabled",!e.isLastRecored),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](3,2,"Save")," ")}}function vh(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",23),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onAddClick()}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"Add")," "))}function Sh(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",24),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onDeleteClick()}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"Delete")," "))}function fh(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",25),g["\u0275\u0275listener"]("click",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).OnPrint()}),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"translate"),g["\u0275\u0275elementEnd"]()}2&e&&(g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,"Print")," "))}const bh=function(e,t){return{"invalid-data":e,"valid-data":t}};function Eh(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",3),g["\u0275\u0275elementStart"](2,"div",4),g["\u0275\u0275elementStart"](3,"div",5),g["\u0275\u0275elementStart"](4,"h6",6),g["\u0275\u0275text"](5),g["\u0275\u0275pipe"](6,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"div",7),g["\u0275\u0275elementStart"](8,"div",8),g["\u0275\u0275elementStart"](9,"div",9),g["\u0275\u0275elementStart"](10,"div",10),g["\u0275\u0275elementStart"](11,"label",11),g["\u0275\u0275text"](12),g["\u0275\u0275pipe"](13,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"p-autoComplete",12,13),g["\u0275\u0275listener"]("completeMethod",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onCompleteEmployeeAuto(t)})("onFocus",function(t){g["\u0275\u0275restoreView"](e);const n=g["\u0275\u0275reference"](15);return g["\u0275\u0275nextContext"]().onFocusInAutoEmployeeComplete(t),n.show()})("onSelect",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onSelectEmployeeAuto(t)})("ngModelChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().selectedEmployee=t}),g["\u0275\u0275template"](16,yh,2,2,"ng-template",14),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](17,"div",15),g["\u0275\u0275elementStart"](18,"div",16),g["\u0275\u0275template"](19,gh,4,4,"button",17),g["\u0275\u0275template"](20,vh,3,3,"button",18),g["\u0275\u0275template"](21,Sh,3,3,"button",19),g["\u0275\u0275template"](22,fh,3,3,"button",20),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](6,13,"suspensionresumptiontransaction")," "),g["\u0275\u0275advance"](7),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](13,15,"employeeid")),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngModel",e.selectedEmployee)("suggestions",e.employeeList)("dataKey","ar"==e.lang?"name_ar":"name")("field","ar"==e.lang?"name_ar":"name")("ngClass",g["\u0275\u0275pureFunction2"](17,bh,e.employeeTextboxInvalid,!e.employeeTextboxInvalid)),g["\u0275\u0275advance"](4),g["\u0275\u0275styleMap"]("ar"==e.lang?"text-align: left;":"text-align: right;"),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.checkRoleParms(443)||e.checkRoleParms(444)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.checkRoleParms(443)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.checkRoleParms(445)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.checkRoleParms(446))}}function xh(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-employee-suspension-resumption-form",34,35),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).setIsLastRecored(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](4);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)("employeeSuspensionResumptionHistoryID",e.employeeSuspensionResumptionHistoryID)}}function Ch(e,t){if(1&e&&g["\u0275\u0275template"](0,xh,3,2,"div",1),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275property"]("ngIf",e.isAddMode||e.isEditMode)}}function Dh(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"li",31),g["\u0275\u0275elementStart"](1,"a",32),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,Ch,1,1,"ng-template",33),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("ngbNavItem",1),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"SuspendEmployee")))}function _h(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-employee-allowance-suspension-resumption-form",36,37),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).setIsLastRecored(t)})("dataToParentCanDelete",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](4).setCanDelete(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](4);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)("employeeAllowanceSuspensionResumptionHistoryID",e.employeeAllowanceSuspensionResumptionHistoryID)}}function Ih(e,t){if(1&e&&g["\u0275\u0275template"](0,_h,3,2,"div",1),2&e){const e=g["\u0275\u0275nextContext"](3);g["\u0275\u0275property"]("ngIf",e.isAddMode||e.isEditMode)}}function wh(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"li",31),g["\u0275\u0275elementStart"](1,"a",32),g["\u0275\u0275text"](2),g["\u0275\u0275pipe"](3,"translate"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](4,Ih,1,1,"ng-template",33),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275property"]("ngbNavItem",2),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](3,2,"SuspendAllowance")))}function Th(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-employee-suspension-resumption-list",38,39),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onEditClick(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)}}function Mh(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"app-employee-allowance-suspension-resumption-list",38,40),g["\u0275\u0275listener"]("parentGetData",function(){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"](2).onEditClick(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("employeeid",e.employeeid)}}function kh(e,t){if(1&e){const e=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"section"),g["\u0275\u0275elementStart"](1,"div",26),g["\u0275\u0275elementStart"](2,"div",8),g["\u0275\u0275elementStart"](3,"ul",27,28),g["\u0275\u0275listener"]("activeIdChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().activeId=t})("navChange",function(t){return g["\u0275\u0275restoreView"](e),g["\u0275\u0275nextContext"]().onNavChange(t)}),g["\u0275\u0275template"](5,Dh,5,4,"li",29),g["\u0275\u0275template"](6,wh,5,4,"li",29),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](7,"div",30),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](8,Th,3,1,"div",1),g["\u0275\u0275template"](9,Mh,3,1,"div",1),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){const e=g["\u0275\u0275reference"](4),t=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("activeId",t.activeId),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(441)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(442)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngbNavOutlet",e),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",1==t.activeId),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",2==t.activeId)}}let Bh=(()=>{class e{constructor(e,t,n,a,i,l,r,o,s,d,c,m,p,h){this._generalService=e,this.router=t,this.route=n,this.toastr=a,this.cdr=i,this._printService=l,this._Excel=r,this._convertToPDF=o,this._authService=s,this._TranslateGlobalService=d,this.translate=c,this._employeesService=m,this._employeeVacationsService=p,this._suspensionResumptionTransactionService=h,this.subsidaryid=0,this.ID=0,this.errormsg="",this.Cancel="",this.DataSavedsuccessfully="",this.ChooseEmployeeFirst="",this.ChooseRecordFirst="",this.EmploymentDataIncomplete="",this.NoDataToSave="",this.Yes="",this.No="",this.MissData="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.SubsequentRecordsDeletedFirst="",this.AllowanceNoLongerValid="",this.RecordLinkedToOtherData="",this.selectedEmployee={},this.previousSelectedEmployee={},this.employeeid=0,this.previousEmployeeID=0,this.employeeList=[],this.activeId=1,this.subActiveId=1,this.isEditMode=!1,this.isAddMode=!1,this.employeeSuspensionResumptionHistoryID=0,this.employeeAllowanceSuspensionResumptionHistoryID=0,this.WorkStartDate=null,this.employeeTextboxInvalid=!1,this.isLastRecored=!0,this.CanDelete=!0,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang)}),this.ngTransUnsubscribe=this.translate.get(["Cancel","SaveMsg","checkname","DataSavedsuccessfully","NoDataToSave","No","MissData","savedChanges","Yes","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","ChooseEmployeeFirst","ChooseRecordFirst","EmploymentDataIncomplete","VacationsAfterDateDelete","SubsequentRecordsDeletedFirst","RecordLinkedToOtherData","AllowanceNoLongerValid"]).subscribe(e=>{this.DataSavedsuccessfully=e.DataSavedsuccessfully,this.NoDataToSave=e.NoDataToSave,this.Cancel=e.Cancel,this.SaveMsg=e.SaveMsg,this.errormsg=e.checkname,this.Yes=e.Yes,this.No=e.No,this.MissData=e.MissData,this.SavedData=e.savedChanges,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.toastrSuccessDelete=e.successMsg,this.ChooseEmployeeFirst=e.ChooseEmployeeFirst,this.ChooseRecordFirst=e.ChooseRecordFirst,this.EmploymentDataIncomplete=e.EmploymentDataIncomplete,this.SubsequentRecordsDeletedFirst=e.SubsequentRecordsDeletedFirst,this.RecordLinkedToOtherData=e.RecordLinkedToOtherData,this.AllowanceNoLongerValid=e.AllowanceNoLongerValid}),this.subsidaryid=this._generalService.SubsidiaryID,this.route.params.subscribe(e=>{this.employeeid=null==e.employeeid?0:parseFloat(e.employeeid)}),this.ngUnsubscribe=e.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidaryid&&(this.subsidaryid=this._generalService.SubsidiaryID,this.cdr.markForCheck()),this.subsidaryid!=this._generalService.SubsidiaryID&&this.subsidaryid>0&&(this.subsidaryid=this._generalService.SubsidiaryID,this.cdr.markForCheck())})}GetEmployeeDataForValidation(){this.WorkStartDate=null,this._employeeVacationsService.GetEmployeeDataForValidation(this.employeeid).subscribe(e=>{null!=e&&null!=e.workstartdate&&(this.WorkStartDate=e.workstartdate)})}onCompleteEmployeeAuto(e){let t="";t=e.query?e.query.trim():"",this._employeesService.getHrEmployees(this.subsidaryid,t).subscribe(e=>{this.employeeList=[],this.employeeList=[...this.employeeList,...e],this.employeeid>0&&(this.selectedEmployee=this.employeeList.filter(e=>e.id==this.employeeid)[0]),this.cdr.markForCheck()})}onFocusInAutoEmployeeComplete(e){let t=e.target.value;null!=t&&""!=t||this.onCompleteEmployeeAuto(e),this.onCompleteEmployeeAuto(e)}onSelectEmployeeAuto(e){return(0,qr.mG)(this,void 0,void 0,function*(){var t;switch(this.employeeTextboxInvalid=!1,this.activeId){case 1:t=this.employeeSuspensionResumptionForm;break;case 2:t=this.employeeAllowanceSuspensionResumptionForm;break;default:t=this.employeeSuspensionResumptionForm}t?(yield t.NotToMissData("Change Employee"))?(this.DestroyForms(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData()):(this.employeeid=this.previousEmployeeID,this.selectedEmployee=this.previousSelectedEmployee):(this.DestroyForms(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData())})}onNavChange(e){return(0,qr.mG)(this,void 0,void 0,function*(){var t;switch(e.preventDefault(),this.activeId){case 1:t=this.employeeSuspensionResumptionForm;break;case 2:t=this.employeeAllowanceSuspensionResumptionForm;break;default:t=this.employeeSuspensionResumptionForm}t?(yield t.NotToMissData("Change tab"))&&(this.DestroyForms(),this.activeId=e.nextId,this.GetData()):(this.DestroyForms(),this.activeId=e.nextId,this.GetData())})}onNavSubChange(e){3===e.nextId&&e.preventDefault()}ngOnInit(){this.employeeid>0&&(this.onCompleteEmployeeAuto({originalEvent:FocusEvent,query:""}),this.previousEmployeeID=this.employeeid,this.previousSelectedEmployee=this.employeeid,this.GetEmployeeDataForValidation(),this.GetData())}DestroyForms(){this.isAddMode=!1,this.isEditMode=!1}onAddClick(){return(0,qr.mG)(this,void 0,void 0,function*(){var e;switch(this.activeId){case 1:e=this.employeeSuspensionResumptionForm;break;case 2:e=this.employeeAllowanceSuspensionResumptionForm;break;default:e=this.employeeSuspensionResumptionForm}e?(yield e.NotToMissData("Add click"))&&(this.DestroyForms(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(()=>{this.isAddMode=!0,this.isEditMode=!1,this.employeeSuspensionResumptionHistoryID=0,this.employeeAllowanceSuspensionResumptionHistoryID=0,this.cdr.markForCheck()},0))):(this.DestroyForms(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(()=>{this.isAddMode=!0,this.isEditMode=!1,this.employeeSuspensionResumptionHistoryID=0,this.employeeAllowanceSuspensionResumptionHistoryID=0,this.cdr.markForCheck()},0)))})}onEditClick(e){return(0,qr.mG)(this,void 0,void 0,function*(){var t;switch(this.activeId){case 1:t=this.employeeSuspensionResumptionForm;break;case 2:t=this.employeeAllowanceSuspensionResumptionForm;break;default:t=this.employeeSuspensionResumptionForm}t?(yield t.NotToMissData("Edit click"))&&(this.DestroyForms(),setTimeout(()=>{switch(this.isAddMode=!1,this.isEditMode=!0,this.activeId){case 1:this.employeeSuspensionResumptionHistoryID=e.id;break;case 2:this.employeeAllowanceSuspensionResumptionHistoryID=e.id;break;default:this.employeeSuspensionResumptionHistoryID=e.id}this.cdr.markForCheck()},0)):(this.DestroyForms(),setTimeout(()=>{switch(this.isAddMode=!1,this.isEditMode=!0,this.activeId){case 1:this.employeeSuspensionResumptionHistoryID=e.id;break;case 2:this.employeeAllowanceSuspensionResumptionHistoryID=e.id;break;default:this.employeeSuspensionResumptionHistoryID=e.id}this.cdr.markForCheck()},0))})}onDeleteClick(){var e;switch(this.activeId){case 1:e=this.employeeSuspensionResumptionHistoryID;break;case 2:e=this.employeeAllowanceSuspensionResumptionHistoryID;break;default:e=this.employeeSuspensionResumptionHistoryID}0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):0==e?this.toastr.error(this.ChooseRecordFirst):this.isLastRecored?2==this.activeId&&0==this.CanDelete?this.toastr.error(this.AllowanceNoLongerValid):(this.employeeTextboxInvalid=!1,k().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{if(e.isConfirmed&&1==e.isConfirmed)switch(this.activeId){case 1:this._suspensionResumptionTransactionService.DeleteEmployeeSuspensionResumptionHistory(this.employeeSuspensionResumptionHistoryID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeSuspensionResumptionHistoryID=0,this.GetData()});break;case 2:this._suspensionResumptionTransactionService.DeleteEmployeeAllowanceSuspensionResumptionHistory(this.employeeAllowanceSuspensionResumptionHistoryID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeAllowanceSuspensionResumptionHistoryID=0,this.GetData()});break;default:this._suspensionResumptionTransactionService.DeleteEmployeeSuspensionResumptionHistory(this.employeeSuspensionResumptionHistoryID).subscribe(e=>{this.toastr.success(this.toastrSuccessDelete),this.isAddMode=!1,this.isEditMode=!1,this.employeeSuspensionResumptionHistoryID=0,this.GetData()})}})):this.toastr.error(this.SubsequentRecordsDeletedFirst)}setIsLastRecored(e){this.isLastRecored=e}setCanDelete(e){this.CanDelete=e}GetData(){switch(this.activeId){case 1:this.EmployeeSuspensionResumptionList.GetData();break;case 2:this.EmployeeAllowanceSuspensionResumptionList.GetData();break;default:this.EmployeeSuspensionResumptionList.GetData()}}OnSave(){if(0==this.employeeid)this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0;else{var e;switch(this.employeeTextboxInvalid=!1,this.activeId){case 1:e=this.employeeSuspensionResumptionForm;break;case 2:e=this.employeeAllowanceSuspensionResumptionForm;break;default:e=this.employeeSuspensionResumptionForm}e.onSave()}}OnPrint(){if(0==this.employeeid)this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0;else switch(this.activeId){case 1:this.EmployeeSuspensionResumptionList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 2:this.EmployeeAllowanceSuspensionResumptionList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;default:this.EmployeeSuspensionResumptionList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name)}}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(g["\u0275\u0275directiveInject"](v.m),g["\u0275\u0275directiveInject"](c.F0),g["\u0275\u0275directiveInject"](c.gz),g["\u0275\u0275directiveInject"](B._W),g["\u0275\u0275directiveInject"](g.ChangeDetectorRef),g["\u0275\u0275directiveInject"](b.$),g["\u0275\u0275directiveInject"](E.x),g["\u0275\u0275directiveInject"](C.z),g["\u0275\u0275directiveInject"](x.e),g["\u0275\u0275directiveInject"](f.K),g["\u0275\u0275directiveInject"](m.sK),g["\u0275\u0275directiveInject"](S.M),g["\u0275\u0275directiveInject"](se.C),g["\u0275\u0275directiveInject"](dp))},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-suspension-resumption-transaction"]],viewQuery:function(e,t){if(1&e&&(g["\u0275\u0275viewQuery"](sh,5),g["\u0275\u0275viewQuery"](dh,5),g["\u0275\u0275viewQuery"](ch,5),g["\u0275\u0275viewQuery"](mh,5)),2&e){let e;g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.employeeSuspensionResumptionForm=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.EmployeeSuspensionResumptionList=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.employeeAllowanceSuspensionResumptionForm=e.first),g["\u0275\u0275queryRefresh"](e=g["\u0275\u0275loadQuery"]())&&(t.EmployeeAllowanceSuspensionResumptionList=e.first)}},features:[g["\u0275\u0275ProvidersFeature"]([])],decls:3,vars:3,consts:[["class","row","style","text-align: center",4,"ngIf"],[4,"ngIf"],[1,"row",2,"text-align","center"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","employeeid",1,"col-form-label"],["id","Employee","name","Employee",1,"inline-flex",3,"ngModel","suggestions","dataKey","field","ngClass","completeMethod","onFocus","onSelect","ngModelChange"],["autoEmployee",""],["pTemplate","item"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"col-lg-5","col-md-5","col-sm-12","mb-2","mb-md-0",2,"margin-top","30px"],["type","submit","class","btn btn-success mb-0 me-3 btn-md",3,"disabled","click",4,"ngIf"],["class","btn btn-success mb-0 me-3 btn-md",3,"click",4,"ngIf"],["class","btn btn-danger mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success","mb-0","me-3","btn-md",3,"disabled","click"],[1,"ft-check-square","mr-1"],[1,"btn","btn-success","mb-0","me-3","btn-md",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"card"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"employeeid","employeeSuspensionResumptionHistoryID","parentGetData","dataToParent"],["employeeSuspensionResumptionForm",""],[3,"employeeid","employeeAllowanceSuspensionResumptionHistoryID","parentGetData","dataToParent","dataToParentCanDelete"],["employeeAllowanceSuspensionResumptionForm",""],[3,"employeeid","parentGetData","parentEdit"],["EmployeeSuspensionResumptionList",""],["EmployeeAllowanceSuspensionResumptionList",""]],template:function(e,t){1&e&&(g["\u0275\u0275template"](0,ph,4,3,"div",0),g["\u0275\u0275template"](1,Eh,23,20,"section",1),g["\u0275\u0275template"](2,kh,10,6,"section",1)),2&e&&(g["\u0275\u0275property"]("ngIf",!t.checkRoleParms(441)&&!t.checkRoleParms(442)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(441)||t.checkRoleParms(442)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",t.checkRoleParms(441)||t.checkRoleParms(442)))},directives:[a.O5,s.Qc,r.JJ,r.On,a.mk,H.jx,di.Pz,di.tO,di.nv,di.Vx,di.uN,bp,Gp,Qp,oh],pipes:[m.X$],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff!important;background-color:gray!important}.tab-content[_ngcontent-%COMP%]{border:1px ridge #000;margin-top:0!important;padding-top:0}.nav.nav-pills.nav-fill[_ngcontent-%COMP%], .tab-content[_ngcontent-%COMP%]{width:97.5%;margin-right:15px;margin-left:15px}"]}),e})();var Fh=n(93559),Hh=n(7593);function Rh(e){return new p.z(e,[{prefix:"assets/i18n/HR/",suffix:".json"},{prefix:"assets/i18n/shared/",suffix:".json"},{prefix:"assets/i18n/app/",suffix:".json"}])}const Oh=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employee-home"]],decls:3,vars:0,consts:[[1,"sub-home-page-cont"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275element"](1,"br"),g["\u0275\u0275element"](2,"br"),g["\u0275\u0275elementEnd"]())},styles:[""]}),e})()},{path:"employees",component:w},{path:"employees/:id",component:Pa},{path:"employees/:id/:show",component:Pa},{path:"employeefinancials",component:Ua},{path:"employeefinancials/:id",component:Yr},{path:"employeefinancials/:id/:show",component:Yr},{path:"changeemployeedata",component:sp},{path:"changeemployeedata/:employeeid",component:sp},{path:"suspensionresumptiontransaction",component:Bh}];let Vh=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=g["\u0275\u0275defineInjector"]({providers:[m.gM,m.sK,S.M,Hh.R,oe.n,re.b,mt,Tt,Qt,tn,In,Yn,ia,On,An.F,Ja,Ni,qi,Sr,se.C,si,dp],imports:[[r.u5,a.ez,i.m,d.$,Fh.kW,r.UX,c.Bz.forChild(Oh),s.WN,l.xc,h.fx,m.aw.forChild({loader:{provide:m.Zw,useFactory:Rh,deps:[o.eN]},extend:!0}),u.xC,il.Iu]]}),e})()},7593:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var a=n(79996),i=n(529),l=n(31572),r=n(29063);let o=(()=>{class e{constructor(e){this.http=e,this.baseUrl=i.N.apiUrl}NationalityCreate(e){return this.http.post(this.baseUrl+"/Nationality/NationalityCreate",e).pipe((0,a.U)(e=>e))}GetNationalityByID(e){return this.http.get(`${this.baseUrl}/Nationality/GetNationalityByID?id=${e}`).pipe((0,a.U)(e=>e))}NationalityUpdate(e){return this.http.post(this.baseUrl+"/Nationality/NationalityUpdate",e).pipe((0,a.U)(e=>e))}DeleteNationality(e){return this.http.post(this.baseUrl+"/Nationality/DeleteNationality",e).pipe((0,a.U)(e=>e))}NationalityList(e,t,n,i){return this.http.get(`${this.baseUrl}/Nationality/ALLNationalityList?PageNo=${e}&PageSize=${t}&SearchValue=${n}&orderby=${i}`).pipe((0,a.U)(e=>e))}getNationalityDDL(){return this.http.get(`${this.baseUrl}/Nationality/getNationalityDDL`).pipe((0,a.U)(e=>e))}NationalityListCount(e){return""==e?this.http.get(`${this.baseUrl}/Nationality/NationalityListCount`).pipe((0,a.U)(e=>e)):this.http.get(`${this.baseUrl}/Nationality/NationalityListCount?SearchValue=${e}`).pipe((0,a.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](r.eN))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})()},35248:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var a=n(31572);let i=(()=>{class e{constructor(e){this.el=e,this.regex=new RegExp(/^\+?(0|[0-9]\d*)$/g),this.specialKeys=["Backspace","Tab","ArrowLeft","ArrowRight"]}onKeyDown(e){if(-1!==this.specialKeys.indexOf(e.key))return;if(86===e.keyCode&&(e.ctrlKey||e.metaKey)||67===e.keyCode&&(e.ctrlKey||e.metaKey))return;const t=this.el.nativeElement.value.concat(e.key);t&&!String(t).match(this.regex)&&e.preventDefault()}onPaste(e){let t=e.clipboardData.getData("text");const n=this.el.nativeElement.value.concat(t);n&&!String(n).match(this.regex)&&e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](a.ElementRef))},e.\u0275dir=a["\u0275\u0275defineDirective"]({type:e,selectors:[["","PositiveNumbersWithoutDecimal",""]],hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("keydown",function(e){return t.onKeyDown(e)})("paste",function(e){return t.onPaste(e)})}}),e})()}}]);
(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["src_app_page_Production_production_module_ts"],{878:function(e,t,n){"use strict";n.d(t,{WW:function(){return i},np:function(){return r},pM:function(){return o},do:function(){return a},br:function(){return s},Oy:function(){return c},ov:function(){return l},DY:function(){return d},al:function(){return p},HQ:function(){return m},z8:function(){return h},Pp:function(){return u},WB:function(){return g},BR:function(){return _},hi:function(){return C}});class i{constructor(){this.selectedNodesLabels="",this.Subsidiary_ID=0,this.ID=0,this.Code="",this.Name="",this.Description="",this.IsActive=!1,this.ImagePath="",this.Notes="",this.IsAutoCode=!1,this.ImageName="",this.Inventory_UnitId=null,this.Purchasing_UnitId=null,this.Selling_UnitId=null,this.Item_Type=1,this.allowtax=!0,this.TaxTypeid=null,this.Service_Item_Cost=0,this.CostingModel_ID=null,this.ItemDimensionsID=null,this.StorageDimensionsID=null,this.Name_AR="",this.IsRequireSerial=1,this.AllowDecimals=!1,this.StopSales=!1,this.StopInventoryTransactions=!1,this.POSFeatured=!1,this.DisableItemDimensions=!1,this.displaycomponentsasitemsinPOS=!1,this.DisableStorageDimensions=!1,this.AccountID=null,this.IsEditPrice=!1,this.CanBeRented=!1,this.AvailableForSale=null,this.AvailableForSaleFromDate=null,this.AvailableForSaleToDate=null,this.SpecialPrice=null,this.SpecialPriceFromDate=null,this.SpecialPriceToDate=null,this.SpecialPriceFromTime="",this.SpecialPriceToTime="",this.SpecialPriceValue=null,this.ReceipeQty=null,this.hasAccount=!1,this.ProductionUnitId=null,this.Wastage=0,this.hasWarrenty=!1,this.OtherSalesAccount=!1,this.consignment=!1,this.consignment_commission=null,this.warranty_duration=null,this.PercentageOrValue_consignment_commission=null,this.Weigth=null,this.GoldClovesWeigth=null,this.IsUploadedFromPos=!1,this.GoldCaliber="",this.Service=null,this.LoyalityBalance=null,this.IsMemebership=!1,this.OtherCostAccount=!1,this.OtherCostAccountId=null,this.IndirectExpensesUnit=0,this.Color="",this.Size="",this.Brand="",this.MadeIn="",this.Composition="",this.Season="",this.ConfigurableItemId=null,this.ShowColor=!1,this.ShowSize=!1,this.SetAttrToName=!1,this.Model="",this.RestockOnReturn=!1,this.ConsignmentBalanceType=null,this.GlobalBarcode="",this.SlackTime=1,this.OtherContractAccount=!1,this.OtherContractAccountId=null,this.itemsbarcode=[],this.itemscategories=[],this.vendors=[],this.itemsalternative=[],this.unititem=[],this.limitstore=[],this.component=[],this.customattributeheader=[],this.salespostingaccounts=[],this.configurationitemslist=[],this.itemproducts=[],this.orginalitemproducts=[],this.itemsemployees=[],this.orginalitemsemployees=[],this.UnitDetails=null,this.sale_price=0,this.assetLinked=!1,this.assetId=null}}class r{constructor(){this.Item_ID=0,this.ItemCategory_ID=0}}class o{constructor(){this.ID=0,this.Item_ID=0,this.itembarcode="",this.isactivebarcode=!0}}class a{constructor(){this.id=0,this.itemid=0,this.vendorid=0,this.unitid=0,this.lastqty=0,this.price=0,this.currencyid=0,this.ismainvendor=!1,this.price2=0,this.lastprice=0,this.vendoritemcode="",this.code="",this.currencyname="",this.currencynamear="",this.unitname="",this.unitnamear="",this.vendorname="",this.vendornamear=""}}class s{constructor(){this.id=0,this.item_id=0,this.alternative_item_id=0,this.periority=0,this.itemname="",this.itemname_ar=""}}class c{constructor(){this.id=0,this.item_id=0,this.unit_id=0,this.subunit_id=0,this.conv=null,this.barcode="",this.sale_price1=0,this.sale_price2=0,this.sale_price3=0,this.sale_price4=0,this.finalconv=null,this.pos=!0,this.istransactionunit=!1}}class l{constructor(){this.oldLimitStore=[],this.newLimitStore=[]}}class d{constructor(){this.id=0,this.item_id=0,this.store_id=0,this.reorder_qty=0,this.min_qty=0,this.location="",this.first_qty=0,this.first_cost=0,this.first_conv=1,this.first_unit=null,this.name="",this.name_ar="",this.invalidreorderqty=!1,this.flagforbalance=!1,this.qty=0,this.avrcost=0,this.finalconv=1,this.cost_conv=1,this.reserved_qty=0,this.orderd_qty=0,this.max_qty=0,this.last_sales_qty=0,this.flagforedit=!1,this.sold=!1}}class p{constructor(){this.id=0,this.customattributetypeid=0,this.itemid=0,this.title="",this.isactive=!1,this.isrequired=!1,this.sortorder=0,this.automaticcode=0,this.isdeleted=!1,this.maxoptions=0,this.itemcustomattributedetail=[]}}class m{constructor(){this.id=0,this.customattributeheaderid=null,this.title="",this.price=null,this.sku="",this.sortorder=null,this.allowedfileextensions="",this.minimagewidth=null,this.minimageheigth=null,this.automaticcode=null,this.isdeleted=!1,this.qty=null,this.itemid=null,this.deductionitemid=null,this.deductionsku="",this.unitid=null,this.imgpath="",this.iunitid=null,this.iunitname="",this.iunitnamear="",this.headerpricesign=1,this.proportionweight=null}}class h{constructor(){this.id=0,this.item_id=0,this.itemcomponentid=0,this.itemcomponentunitid=0,this.itemcomponentconv=0,this.itemcomponentqty=1,this.itemcomponentrecipeqty=0,this.averagecost=0,this.componentprice=0,this.unitname="",this.unitnamear="",this.name="",this.name_ar="",this.itemname="",this.itemnamear="",this.iunitid=null,this.disconv=!1}}class u{constructor(){this.id=0,this.itemid=0,this.accountid=null,this.percentage=0,this.complement=!1}}class g{constructor(){this.id=0,this.valid=!1,this.serial=1,this.qty=1,this.storeid=null,this.storename="",this.storename_ar="",this.batchno="",this.date=null,this.isdublicatebatch=!1,this.isused=!1,this.inv_receipt_d_id=null,this.solidquantity=null,this.previtemserialid=null,this.availableqty=null,this.fromOutSide=!1,this.patchconfirmation="",this.final_conv=null,this.readonlyavailableqtywithsmallunit=null,this.readonlyavailableqtywithfinal_conv=null}}class _{constructor(){this.id=null,this.item_id=0,this.product_item_id=0,this.costratio=0,this.itemproductqty=0,this.itemproductsconv=0,this.itemproductunitid=0,this.itemname="",this.itemname_ar=""}}class C{constructor(){this.id=null,this.unitid=null,this.subsidiaryid=null,this.rooms=0,this.bathroom=0,this.finishing=null,this.view=null,this.floor="",this.floors=0,this.land_size="",this.size_in_metres="",this.units_number=0,this.paymentid=null,this.year=(new Date).getFullYear(),this.currency_id=null}}},77356:function(e,t,n){"use strict";n.r(t),n.d(t,{ProductionModule:function(){return qu},childLoaderFactory:function(){return Fu}});var i=n(61511),r=n(59218),o=n(45593),a=n(16073),s=n(29063),c=n(31572),l=n(96898),d=n(48160),p=n(62120);let m=(()=>{class e{constructor(e,t,n){this._router=e,this.translate=t,this._translateGlobalService=n,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang)})}ngOnDestroy(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["production-home"]],decls:3,vars:0,consts:[[1,"sub-home-page-cont"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275element"](1,"br"),c["\u0275\u0275element"](2,"br"),c["\u0275\u0275elementEnd"]())},styles:[".sub-home-page-cont[_ngcontent-%COMP%]{background-color:#fff;background-image:url(ProductionHomeBG.00fcdff1f57a6169259b.jpg);background-repeat:no-repeat;background-position:top;background-size:contain;height:38em;margin-top:3em;border-radius:10px;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px}.sub-home-page-cont[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600;padding:2em}"]}),e})();var h=n(53544),u=n(22684),g=n(20180),_=n(48747),C=n(51940),f=n(86250),b=n(14348),y=n(29609),x=n(83801),v=n(78183),M=n(96358),S=n(25181),P=n(7427),R=n(72796);function O(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275elementStart"](1,"h1"),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function I(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",30),c["\u0275\u0275text"](1," All "),c["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",30),c["\u0275\u0275text"](1," \u0627\u0644\u0643\u0644 "),c["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.name)}}function k(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.name_ar)}}function B(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",31),c["\u0275\u0275template"](1,w,2,1,"span",1),c["\u0275\u0275template"](2,k,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275propertyInterpolate"]("value",null==e?null:e.id),c["\u0275\u0275property"]("selected",(null==e?null:e.id)==n._Filter.BranchID),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function D(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"h2"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name_ar)}}function F(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"h2"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name)}}function L(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name)}}function q(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name_ar)}}function V(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",41),c["\u0275\u0275template"](1,L,2,1,"span",1),c["\u0275\u0275template"](2,q,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275propertyInterpolate"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function N(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"select",38,39),c["\u0275\u0275listener"]("change",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](2).Changefilterby(t)})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.filterby=t}),c["\u0275\u0275template"](2,V,3,3,"option",40),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit,t=c["\u0275\u0275nextContext"](2);c["\u0275\u0275propertyInterpolate1"]("name","filterby",t.ix,""),c["\u0275\u0275property"]("ngModel",e.filterby),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",t.FilterBylist)}}function T(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.branchname_ar)}}function U(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.branchname)}}function $(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.vendornamear)}}function A(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.vendorname)}}function G(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",42),c["\u0275\u0275elementStart"](1,"div"),c["\u0275\u0275elementStart"](2,"span"),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](5," : \xa0 "),c["\u0275\u0275elementStart"](6,"a",43),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div"),c["\u0275\u0275elementStart"](9,"span"),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](12," : \xa0 "),c["\u0275\u0275template"](13,T,2,1,"span",1),c["\u0275\u0275template"](14,U,2,1,"span",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"div"),c["\u0275\u0275elementStart"](16,"span"),c["\u0275\u0275text"](17),c["\u0275\u0275pipe"](18,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](19," : \xa0 "),c["\u0275\u0275template"](20,$,2,1,"span",1),c["\u0275\u0275template"](21,A,2,1,"span",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div"),c["\u0275\u0275elementStart"](23,"span"),c["\u0275\u0275text"](24),c["\u0275\u0275pipe"](25,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275text"](26," : \xa0 "),c["\u0275\u0275elementStart"](27,"span"),c["\u0275\u0275text"](28),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("cdkDragDisabled",n.DisableCanDrop),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,12,"Entry#")),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/batchorder/",e.id,""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.entry_no),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](11,14,"Branch")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](18,16,"CustomerName")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](25,18,"Total")),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](e.netvalue)}}function z(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",32),c["\u0275\u0275elementStart"](1,"div",33),c["\u0275\u0275template"](2,D,2,1,"h2",1),c["\u0275\u0275template"](3,F,2,1,"h2",1),c["\u0275\u0275elementStart"](4,"span",34),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](6,N,3,3,"select",35),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",36),c["\u0275\u0275listener"]("cdkDropListDropped",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).drop(t)}),c["\u0275\u0275template"](8,G,29,20,"div",37),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.Receipts.length),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.filter),c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("id",e.id),c["\u0275\u0275property"]("cdkDropListData",e.Receipts),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.Receipts)}}const j=function(e,t){return{"invalid-data":e,"valid-data":t}},Q=function(e,t){return{"all-desgin-en":e,"all-desgin-ar":t}};function W(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",3),c["\u0275\u0275elementStart"](2,"div",4),c["\u0275\u0275elementStart"](3,"div",5),c["\u0275\u0275elementStart"](4,"div",6),c["\u0275\u0275elementStart"](5,"div",7),c["\u0275\u0275elementStart"](6,"div",8),c["\u0275\u0275elementStart"](7,"form",9,10),c["\u0275\u0275elementStart"](9,"div",2),c["\u0275\u0275elementStart"](10,"div",11),c["\u0275\u0275elementStart"](11,"div",12),c["\u0275\u0275elementStart"](12,"label",13),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"select",14,15),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Filter.BranchID=t}),c["\u0275\u0275template"](17,I,2,0,"option",16),c["\u0275\u0275template"](18,E,2,0,"option",16),c["\u0275\u0275template"](19,B,3,4,"option",17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",11),c["\u0275\u0275elementStart"](21,"div",12),c["\u0275\u0275elementStart"](22,"label",18),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"input",19,20),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Filter.FromDate=t})("focusout",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().FromDateChange(t.target.value)}),c["\u0275\u0275pipe"](27,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",11),c["\u0275\u0275elementStart"](29,"div",12),c["\u0275\u0275elementStart"](30,"label",21),c["\u0275\u0275text"](31),c["\u0275\u0275pipe"](32,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"input",22,23),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Filter.ToDate=t})("focusout",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ToDateChange(t.target.value)}),c["\u0275\u0275pipe"](35,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"div",11),c["\u0275\u0275elementStart"](37,"button",24),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().Apply()}),c["\u0275\u0275element"](38,"i",25),c["\u0275\u0275text"](39),c["\u0275\u0275pipe"](40,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](41,"div",26),c["\u0275\u0275elementStart"](42,"div",27),c["\u0275\u0275element"](43,"div"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](44,"div",28),c["\u0275\u0275template"](45,z,9,7,"div",29),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](26),t=c["\u0275\u0275reference"](34),n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](13),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](14,14,"Branch")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",n._Filter.BranchID),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",n.BranchList),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](24,16,"FromDate")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](27,18,n._Filter.FromDate,"yyyy-MM-dd"))("ngClass",c["\u0275\u0275pureFunction2"](28,j,e.invalid,e.valid)),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](32,21,"ToDate")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](35,23,n._Filter.ToDate,"yyyy-MM-dd"))("ngClass",c["\u0275\u0275pureFunction2"](31,j,t.invalid,t.valid)),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](40,26,"Apply")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](34,Q,"ar"!=n.lang,"ar"==n.lang)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",n.StatusReceiptList)}}const J=function(){return[579]};let H=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d,p){this.cd=e,this.toastr=t,this._router=n,this._generalService=i,this.translate=r,this._translateGlobalService=o,this._authService=s,this.datepipe=c,this.location=l,this._BatchOrderStatusService=d,this._ContractService=p,this.subsidiaryID=0,this.BatchOrderStatusList=[],this.BatchOrderStatusReceiptList=[],this.StatusReceiptList=[],this.DebitORCreditAccountIsNotSet="",this.InvalidStatusVoucherDate="",this.SaveMsg="",this.DisableCanDrop=!1,this._Filter=new x.go,this.BranchList=[],this.invalidDateMsg="",this.FilterBylist=[{id:1,name:"ALL",name_ar:"\u0627\u0644\u0643\u0644"},{id:2,name:"Day",name_ar:"\u0627\u0644\u064a\u0648\u0645"},{id:3,name:"Week",name_ar:"\u0627\u0644\u0627\u0633\u0628\u0648\u0639"}],a.params.subscribe(e=>{if(this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0){let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e?(console.log(e.branchId),this._Filter.BranchID="null"!=e.branchId?e.branchId:0):this._Filter.BranchID=0,this.GetBranchList()}this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=i.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.CanDrop(),this.GetBatchOrderStatusList()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/production/batchorderstatus"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["productionvoucher","SaveMsg","DebitORCreditAccountIsNotSet","InvalidStatusVoucherDate","WorkOrder Status","invalidDateMsg"]).subscribe(e=>{document.title=e["WorkOrder Status"],this.DebitORCreditAccountIsNotSet=e.DebitORCreditAccountIsNotSet,this.InvalidStatusVoucherDate=e.InvalidStatusVoucherDate,this.SaveMsg=e.SaveMsg,this.invalidDateMsg=e.invalidDateMsg})})}GetBranchList(){this._ContractService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{var t;this.BranchList=e,this._Filter.FromDate=new Date((new Date).getFullYear(),(new Date).getMonth(),1);let n=new Date((new Date).getFullYear(),(new Date).getMonth()+1,1);this._Filter.ToDate=new Date(n.getTime()-1),this._Filter.FromDateString=`${this._Filter.FromDate.getFullYear()}-${this._Filter.FromDate.getMonth()+1}-${this._Filter.FromDate.getDate()}`,this._Filter.ToDateString=`${this._Filter.ToDate.getFullYear()}-${this._Filter.ToDate.getMonth()+1}-${this._Filter.ToDate.getDate()}`,this._Filter.FromDateString=this._Filter.FromDateString+" 00:00:00",this._Filter.ToDateString=this._Filter.ToDateString+" 23:59:59",this._Filter.BranchID=(null===(t=this.BranchList[0])||void 0===t?void 0:t.id)||null,this.CanDrop(),this.GetBatchOrderStatusList(),this.cd.markForCheck()})}GetBatchOrderStatusList(){this._Filter.ToDate<this._Filter.FromDate?this.toastr.error(this.invalidDateMsg):this._BatchOrderStatusService.GetBatchOrderStatusList(this.subsidiaryID,this._Filter.BranchID,this._Filter.FromDateString,this._Filter.ToDateString).subscribe(e=>{this.BatchOrderStatusList=e.batchorderstatus,this.BatchOrderStatusReceiptList=e.batchorderstatusreceipt,console.log(this.BatchOrderStatusList),console.log(this.BatchOrderStatusReceiptList),this.ReBuildStatusReceiptArray()})}ReBuildStatusReceiptArray(){this.StatusReceiptList=[];for(let e=0;e<this.BatchOrderStatusList.length;e++){let t=new Y;t=this.BatchOrderStatusList[e];let n=this.BatchOrderStatusReceiptList.filter(t=>t.wostatusid==this.BatchOrderStatusList[e].id);t.Receipts=n,this.StatusReceiptList.push(t),this.cd.detectChanges()}}drop(e){if(e.previousContainer===e.container)(0,f.bA)(e.container.data,e.previousIndex,e.currentIndex);else{console.log(e.previousContainer.data[e.previousIndex]),console.log(e.previousContainer.id,"event.previousContainer.id"),console.log(e.container.id,"event.container.id");const t=y().format("MM-DD-YYYY HH:mm:ss ");console.log(t),this._BatchOrderStatusService.PostWOstatusVoucherByReceiptID(e.previousContainer.data[e.previousIndex].id,e.container.id,t,this.lang).subscribe(t=>{"ok"==t.result?((0,f.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.toastr.success(this.SaveMsg)):"InvalidDate"==t.result?this.toastr.error(this.InvalidStatusVoucherDate):"DebitORCreditAccountIsNotSet"==t.result&&this.toastr.error(this.DebitORCreditAccountIsNotSet),this.cd.markForCheck()})}}CanDrop(){this.DisableCanDrop=!this.checkRoleParms(684)}Apply(){this.CanDrop(),this.GetBatchOrderStatusList(),this.cd.markForCheck()}FromDateChange(e){this._Filter.FromDate=new Date(e),this._Filter.FromDateString=e+" 00:00:00"}ToDateChange(e){this._Filter.ToDate=new Date(e),this._Filter.ToDateString=e+" 23:59:59"}Changefilterby(e){this._BatchOrderStatusService.GetBatchOrderByStatusFilter(this.subsidiaryID,this._Filter.BranchID,e.id,e.filterby).subscribe(t=>{e.Receipts=t,this.cd.markForCheck()})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](l.gz),c["\u0275\u0275directiveInject"](R.e),c["\u0275\u0275directiveInject"](i.uU),c["\u0275\u0275directiveInject"](i.Ye),c["\u0275\u0275directiveInject"](M.M),c["\u0275\u0275directiveInject"](v.U))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["BatchOrder-Status"]],features:[c["\u0275\u0275ProvidersFeature"]([i.uU,M.M,v.U])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card"],[1,"row","match-height"],[1,"col-12"],[1,"card","transparent-BG","box-shadow-none"],[1,"card-content"],[1,"card-body"],["method","POST","role","form"],["RForm","ngForm"],[1,"col-lg-3","col-md-3","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","id","Branch",1,"form-control",3,"ngModel","ngModelChange"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],["for","FromDate"],["type","date","id","FromDate","name","FromDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["FromDate","ngModel"],["for","ToDate"],["type","date","id","ToDate","name","ToDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["ToDate","ngModel"],["type","button",1,"btn","btn-primary","mt-3","btn-md","mr-2","mb-2",3,"click"],[1,""],[1,"row","mt-3","mb-3"],[1,"col-lg-2","col-md-2","col-sm-12"],["cdkDropListGroup","",1,"all-desgin",3,"ngClass"],["class","example-container",4,"ngFor","ngForOf"],["Value","null"],[3,"value","selected"],[1,"example-container"],[1,"title-Receipts"],[1,"number-Receipts"],["class","form-control mr-3 w-30","style","display: inline-block;",3,"ngModel","name","change","ngModelChange",4,"ngIf"],["cdkDropList","",1,"example-list",3,"id","cdkDropListData","cdkDropListDropped"],["class","example-box col-md-12","cdkDrag","",3,"cdkDragDisabled",4,"ngFor","ngForOf"],[1,"form-control","mr-3","w-30",2,"display","inline-block",3,"ngModel","name","change","ngModelChange"],["filterby","ngModel"],["style","display: inline-block;",3,"value",4,"ngFor","ngForOf"],[2,"display","inline-block",3,"value"],["cdkDrag","",1,"example-box","col-md-12",3,"cdkDragDisabled"],["href","javascript:;","target","_blank",2,"text-decoration","underline","font-weight","bold",3,"routerLink"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,O,4,3,"div",0),c["\u0275\u0275template"](1,W,46,37,"ng-container",1)),2&e&&(c["\u0275\u0275property"]("ngIf",!t.checkRoleParms(579)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.checkRolesParms(c["\u0275\u0275pureFunction0"](2,J))))},directives:[i.O5,a._Y,a.JL,a.F,a.EJ,a.JJ,a.On,i.sg,a.Fj,i.mk,f.Fd,a.YN,a.Kr,f.Wj,f.Zt,l.yS],pipes:[d.X$,i.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.item__moved[_ngcontent-%COMP%]{background-color:red!important}.all-desgin[_ngcontent-%COMP%]{width:100%;display:flex;margin:0 auto;padding:10px;position:relative;overflow-x:scroll;overflow-y:scroll}.all-desgin[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-o-scrollbar-track{background:#f1f1f1!important}.all-desgin[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-o-scrollbar-thumb{background:#88888854!important;border-radius:10px!important}.all-desgin[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-o-scrollbar-thumb:hover{background:#555!important}.all-desgin[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-o-scrollbar{background-color:transparent!important;width:5px!important;transition-duration:.7s!important}.all-desgin-en[_ngcontent-%COMP%]{text-align:left}.all-desgin-ar[_ngcontent-%COMP%]{text-align:right}.example-container[_ngcontent-%COMP%]{vertical-align:top;min-width:325px;max-width:325px;margin-right:10px;padding:0}.example-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:20px;font-size:20px;z-index:999;top:0}.example-list[_ngcontent-%COMP%]{background:#e8e8e8;margin:0;padding:10px;min-height:500px;border-radius:10px;list-style-type:none;background-color:#f1f1f1}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-radius:5px;color:rgba(0,0,0,.87);align-items:center;box-sizing:border-box;cursor:move;background:#fff;font-size:14px;margin-bottom:10px;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1)}.example-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box.cdk-drag-disabled[_ngcontent-%COMP%]{background:#ccc;cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;user-select:none}.number-Receipts[_ngcontent-%COMP%]{padding:5px 14px;border-radius:50%;font-weight:700;background-color:#458bc0;color:#fff}.title-Receipts[_ngcontent-%COMP%]{margin:20px 0}.title-Receipts[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline}']}),e})();class Y{}var Z=n(27961),K=n(61900),X=n(13395),ee=n(82589),te=n(71825),ne=n(76757),ie=n(77915),re=n(82270),oe=n(5851);function ae(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",4),c["\u0275\u0275elementStart"](1,"h1",5),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function se(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name)}}function ce(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name_ar)}}function le(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",51),c["\u0275\u0275template"](1,se,2,1,"span",1),c["\u0275\u0275template"](2,ce,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275propertyInterpolate"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function de(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",52),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).OnAdd()}),c["\u0275\u0275element"](1,"i",27),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function pe(e,t){1&e&&c["\u0275\u0275element"](0,"i",53)}function me(e,t){1&e&&c["\u0275\u0275element"](0,"i",54)}function he(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",47),c["\u0275\u0275template"](2,pe,1,0,"i",48),c["\u0275\u0275template"](3,me,1,0,"i",49),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function ue(e,t){1&e&&c["\u0275\u0275element"](0,"i",53)}function ge(e,t){1&e&&c["\u0275\u0275element"](0,"i",54)}function _e(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",47),c["\u0275\u0275template"](2,ue,1,0,"i",48),c["\u0275\u0275template"](3,ge,1,0,"i",49),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function Ce(e,t){1&e&&c["\u0275\u0275element"](0,"i",53)}function fe(e,t){1&e&&c["\u0275\u0275element"](0,"i",54)}function be(e,t){1&e&&c["\u0275\u0275element"](0,"i",53)}function ye(e,t){1&e&&c["\u0275\u0275element"](0,"i",54)}function xe(e,t){1&e&&c["\u0275\u0275element"](0,"i",53)}function ve(e,t){1&e&&c["\u0275\u0275element"](0,"i",54)}function Me(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",47),c["\u0275\u0275template"](2,xe,1,0,"i",48),c["\u0275\u0275template"](3,ve,1,0,"i",49),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","CustomerName"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"desc"==e.sortDirection)}}function Se(e,t){1&e&&c["\u0275\u0275element"](0,"i",53)}function Pe(e,t){1&e&&c["\u0275\u0275element"](0,"i",54)}function Re(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",47),c["\u0275\u0275template"](2,Se,1,0,"i",48),c["\u0275\u0275template"](3,Pe,1,0,"i",49),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","CustomerNamear"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"desc"==e.sortDirection)}}function Oe(e,t){1&e&&c["\u0275\u0275element"](0,"i",53)}function Ie(e,t){1&e&&c["\u0275\u0275element"](0,"i",54)}function Ee(e,t){1&e&&c["\u0275\u0275element"](0,"i",53)}function we(e,t){1&e&&c["\u0275\u0275element"](0,"i",54)}function ke(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function Be(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function De(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.customername)}}function Fe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.customernamear," ")}}function Le(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function qe(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar," ")}}function Ve(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Le,2,1,"td",1),c["\u0275\u0275template"](2,qe,2,1,"td",1),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]().$implicit,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.id===n.approvalid&&"ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.id===n.approvalid&&"ar"==i.lang)}}function Ne(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1,"\xa0"),c["\u0275\u0275elementEnd"]())}function Te(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"a",60),c["\u0275\u0275element"](1,"i",61),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/batchorder/",null==e?null:e.id,"")}}function Ue(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,ke,2,1,"td",1),c["\u0275\u0275template"](2,Be,2,1,"td",1),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](7,De,2,1,"td",1),c["\u0275\u0275template"](8,Fe,2,1,"td",1),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](11,Ve,3,2,"ng-container",55),c["\u0275\u0275template"](12,Ne,2,0,"td",1),c["\u0275\u0275elementStart"](13,"td",56),c["\u0275\u0275template"](14,Te,2,1,"a",57),c["\u0275\u0275elementStart"](15,"a",58),c["\u0275\u0275element"](16,"i",59),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.netvalue),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",n.WOrkStatusList),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.approvalid),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",n.checkRoleParms(627)),c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/batchorder/",null==e?null:e.id,"/show")}}function $e(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275template"](1,Ue,17,11,"tr",55),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.ReceiptList)}}function Ae(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275elementStart"](1,"tr",62),c["\u0275\u0275elementStart"](2,"td",63),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Ge(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",64),c["\u0275\u0275elementStart"](1,"ngb-pagination",65),c["\u0275\u0275listener"]("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PageNo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"p"),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"select",66),c["\u0275\u0275listener"]("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PageSize=t}),c["\u0275\u0275elementStart"](5,"option",67),c["\u0275\u0275text"](6,"10 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"option",68),c["\u0275\u0275text"](8,"50 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"option",69),c["\u0275\u0275text"](10,"100 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](11,"br"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",e.PageSize)}}function ze(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"div",6),c["\u0275\u0275elementStart"](2,"div",7),c["\u0275\u0275elementStart"](3,"div",8),c["\u0275\u0275elementStart"](4,"h6",9),c["\u0275\u0275text"](5),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",10),c["\u0275\u0275elementStart"](8,"div",11),c["\u0275\u0275elementStart"](9,"section"),c["\u0275\u0275elementStart"](10,"div",4),c["\u0275\u0275elementStart"](11,"div",12),c["\u0275\u0275elementStart"](12,"form",13,14),c["\u0275\u0275listener"]("ngSubmit",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),c["\u0275\u0275elementStart"](14,"div",4),c["\u0275\u0275elementStart"](15,"div",15),c["\u0275\u0275elementStart"](16,"div",16),c["\u0275\u0275elementStart"](17,"label",17),c["\u0275\u0275text"](18),c["\u0275\u0275pipe"](19,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"select",18,19),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),c["\u0275\u0275elementStart"](22,"option",20),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](25,le,3,3,"option",21),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"div",15),c["\u0275\u0275elementStart"](27,"div",16),c["\u0275\u0275elementStart"](28,"label",22),c["\u0275\u0275text"](29),c["\u0275\u0275pipe"](30,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"input",23,24),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",25),c["\u0275\u0275elementStart"](34,"button",26),c["\u0275\u0275element"](35,"i",27),c["\u0275\u0275text"](36),c["\u0275\u0275pipe"](37,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"button",28),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ShowAll()}),c["\u0275\u0275element"](39,"i",27),c["\u0275\u0275text"](40),c["\u0275\u0275pipe"](41,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"div",29),c["\u0275\u0275elementStart"](43,"div",30),c["\u0275\u0275elementStart"](44,"div",31),c["\u0275\u0275template"](45,de,4,3,"button",32),c["\u0275\u0275elementStart"](46,"button",33),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().OnPrint()}),c["\u0275\u0275element"](47,"i",27),c["\u0275\u0275text"](48),c["\u0275\u0275pipe"](49,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"button",34),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().OnPrint(1)}),c["\u0275\u0275element"](51,"i",27),c["\u0275\u0275text"](52),c["\u0275\u0275pipe"](53,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](54,"button",35),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().OnExcel()}),c["\u0275\u0275element"](55,"i",27),c["\u0275\u0275text"](56),c["\u0275\u0275pipe"](57,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](58,"div",36),c["\u0275\u0275elementStart"](59,"div",37),c["\u0275\u0275elementStart"](60,"label",38),c["\u0275\u0275text"](61),c["\u0275\u0275pipe"](62,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](63,"input",39,40),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ChangePropFinish()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](65,"div",4),c["\u0275\u0275elementStart"](66,"div",41),c["\u0275\u0275elementStart"](67,"div",42),c["\u0275\u0275elementStart"](68,"div",43),c["\u0275\u0275elementStart"](69,"div",44),c["\u0275\u0275elementStart"](70,"table",45),c["\u0275\u0275elementStart"](71,"thead"),c["\u0275\u0275elementStart"](72,"tr"),c["\u0275\u0275elementStart"](73,"th",46),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),c["\u0275\u0275text"](74),c["\u0275\u0275pipe"](75,"translate"),c["\u0275\u0275template"](76,he,4,3,"ng-container",1),c["\u0275\u0275template"](77,_e,4,3,"ng-container",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](78,"th",46),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),c["\u0275\u0275text"](79),c["\u0275\u0275pipe"](80,"translate"),c["\u0275\u0275elementContainerStart"](81),c["\u0275\u0275element"](82,"i",47),c["\u0275\u0275template"](83,Ce,1,0,"i",48),c["\u0275\u0275template"](84,fe,1,0,"i",49),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](85,"th",46),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),c["\u0275\u0275text"](86),c["\u0275\u0275pipe"](87,"translate"),c["\u0275\u0275elementContainerStart"](88),c["\u0275\u0275element"](89,"i",47),c["\u0275\u0275template"](90,be,1,0,"i",48),c["\u0275\u0275template"](91,ye,1,0,"i",49),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](92,"th",46),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),c["\u0275\u0275text"](93),c["\u0275\u0275pipe"](94,"translate"),c["\u0275\u0275template"](95,Me,4,3,"ng-container",1),c["\u0275\u0275template"](96,Re,4,3,"ng-container",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](97,"th",46),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),c["\u0275\u0275text"](98),c["\u0275\u0275pipe"](99,"translate"),c["\u0275\u0275elementContainerStart"](100),c["\u0275\u0275element"](101,"i",47),c["\u0275\u0275template"](102,Oe,1,0,"i",48),c["\u0275\u0275template"](103,Ie,1,0,"i",49),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](104,"th",46),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("Status")}),c["\u0275\u0275text"](105),c["\u0275\u0275pipe"](106,"translate"),c["\u0275\u0275elementContainerStart"](107),c["\u0275\u0275element"](108,"i",47),c["\u0275\u0275template"](109,Ee,1,0,"i",48),c["\u0275\u0275template"](110,we,1,0,"i",49),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](111,"th"),c["\u0275\u0275text"](112,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](113,$e,2,1,"tbody",1),c["\u0275\u0275template"](114,Ae,5,3,"tbody",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](115,Ge,12,7,"div",50),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](6,40,"WorkOrders")),c["\u0275\u0275advance"](13),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](19,42,"Branch")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](24,44,"All")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",e.BranchList),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](30,46,"EntryNo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](37,48,"Search")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](41,50,"All")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",e.checkRoleParms(580)),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](49,52,"Print")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](53,54,"pdf")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](57,56,"Excel")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](62,58,"Search")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),c["\u0275\u0275advance"](11),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](75,60,"Branch")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](80,62,"EntryNo")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](87,64,"Date")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](94,66,"custvendor")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](99,68,"value")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","NetValue"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","NetValue"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](106,70,"Status")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","Status"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Status"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Status"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",e.ReceiptList.length>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let je=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d,p,m,h,u,g){this._cashsalesService=e,this._ProductionService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=o,this.translate=a,this._translateGlobalService=s,this.spinner=c,this._ReceiptSharedService=d,this._authService=p,this._printService=m,this._Excel=h,this._convertToPDF=u,this._VerifyReportsService=g,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new x.Wb,this.NumNotExist="",this.title="",this.WOrkStatusList=[],this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),l.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["WorkOrders"]).subscribe(e=>{this.title=e.WorkOrders,document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=o.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch(),this.GetWorkOrderStatusList()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch(),this.GetWorkOrderStatusList()}})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="84",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount(),this.GetWorkOrderStatusList())}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,console.log(e),1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/production/batchorder/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/production/batchorder/0"])}OnView(e){this._router.navigate(["/page/production/batchorder/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/production/batchorder/${e.id}`,this._router.navigate([t])}GetWorkOrderStatusList(){this._ProductionService.GetWorkOrderStatusList().subscribe(e=>{this.WOrkStatusList=e,console.log(this.WOrkStatusList),this.cd.markForCheck()})}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",a="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",s="ar"==this.lang?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status",c="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(l=>{this.cd.markForCheck(),t=`\n          <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                <thead>\n                  <tr style="background: #e9f1f5;color: cornflowerblue;">\n                    <th>${i}</th>\n                    <th>${r}</th>\n                    <th>${o}</th>\n                    <th>${a}</th>\n                    <th>${c}</th>\n                    <th>${s}</th>\n\n                  </tr>\n                </thead>\n            <tbody>\n        `,l.map(e=>{var n;let i="",r="";i=this.WOrkStatusList.find(t=>t.id==e.approvalid).name||"",r=this.WOrkStatusList.find(t=>t.id==e.approvalid).name_ar||"",t+=`\n       <tr>\n        <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n        <td>${e.entry_no}</td>\n        <td>${e.entry_date}</td>\n        <td>${null!==(n="ar"==this.lang?e.customernamear:e.customername)&&void 0!==n?n:""}</td>\n        <td>${e.netvalue}</td>\n        <td>${"ar"==this.lang?r:i}</td>\n       </tr>\n       `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{let n="",i="";n=this.WOrkStatusList.find(e=>e.id==t.approvalid).name||"",i=this.WOrkStatusList.find(e=>e.id==t.approvalid).name_ar||"",e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":t.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":t.netvalue,"\u0627\u0644\u062d\u0627\u0644\u0629":i}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,"Customer/Vendor":t.customernamear,Total:t.netvalue,Status:n})}),this._Excel.exportAsExcelFile(e,"batchorders")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](Z.n),c["\u0275\u0275directiveInject"](b.g),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](ee.t2),c["\u0275\u0275directiveInject"](l.gz),c["\u0275\u0275directiveInject"](K.t),c["\u0275\u0275directiveInject"](R.e),c["\u0275\u0275directiveInject"](te.$),c["\u0275\u0275directiveInject"](ne.x),c["\u0275\u0275directiveInject"](ie.z),c["\u0275\u0275directiveInject"](X.J))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["Batch-Order"]],features:[c["\u0275\u0275ProvidersFeature"]([Z.n,K.t,X.J,b.g])],decls:6,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive"],[1,"table","m-0","table-striped","table-accountdetails"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between\n              flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn primary transparent-BG",3,"routerLink",4,"ngIf"],["href","javascript:;",1,"btn","success","transparent-BG",3,"routerLink"],[1,"fa","fa-paperclip","font-medium-1"],["href","javascript:;",1,"btn","primary","transparent-BG",3,"routerLink"],[1,"ft-edit","font-medium-1"],[1,"text-center"],["colspan","9"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,ae,4,3,"div",0),c["\u0275\u0275elementStart"](1,"section"),c["\u0275\u0275template"](2,ze,116,72,"div",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"ngx-spinner",2),c["\u0275\u0275elementStart"](4,"p",3),c["\u0275\u0275text"](5,"Loading..."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("ngIf",!t.checkRoleParms(579)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.checkRoleParms(579)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,ee.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,re.K,l.yS,oe.N9],pipes:[d.X$],styles:[".table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}"]}),e})();var Qe=n(22501),We=n.n(Qe),Je=n(3148),He=n(75700),Ye=n(67193),Ze=n(16676),Ke=n(529),Xe=n(878),et=n(16395),tt=n(63567),nt=n(15463),it=n(29743),rt=n(64328),ot=n(71309),at=n(58293),st=n(52529),ct=n(88706),lt=n(20590),dt=n(32161);const pt=["LinkedReceiptsBatchOrderModel"],mt=["RForm"],ht=["PaymentMethodModel"];function ut(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275elementStart"](1,"h1",3),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function gt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",108),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).DocumentAction()}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function _t(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",109),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PrintPreview(0)}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function Ct(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",110),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](4).DeleteAction()}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function ft(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275template"](1,Ct,3,4,"button",111),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function bt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"button",110),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).IssueVoucher()}),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",110),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).CashReturn(53)}),c["\u0275\u0275text"](5),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,4,"IssueVoucher")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](6,6,"CashReturn")," ")}}function yt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",110),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).CreateCredit_CashSales(52)}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"CreateCreditSales")," "))}function xt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",110),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).CreateCredit_CashSales(51)}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"CreateCashSales")," "))}function vt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",110),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).DupilcateAction()}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function Mt(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"button",110),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPrint()}),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](4,ft,2,1,"div",1),c["\u0275\u0275template"](5,bt,7,8,"ng-container",1),c["\u0275\u0275template"](6,yt,3,3,"button",111),c["\u0275\u0275template"](7,xt,3,3,"button",111),c["\u0275\u0275template"](8,vt,3,4,"button",111),c["\u0275\u0275elementStart"](9,"email-popup",112),c["\u0275\u0275listener"]("_savedemailobj",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).sendEmail(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,8,"Print")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.checkRoleParms(581)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==(null==e.InventorySetting[0]?null:e.InventorySetting[0].salesreturneffect)&&0==e.ShowModeReceipt),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==e.ShowModeReceipt),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.checkRoleParms(580)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("entryno",e._Receipt.entry_no)}}function St(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.text,"")}}function Pt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.text_ar,"")}}function Rt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,St,2,1,"span",1),c["\u0275\u0275template"](2,Pt,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Ot(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1,"choose"),c["\u0275\u0275elementEnd"]())}function It(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]())}function Et(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function wt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function kt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,Et,2,1,"span",1),c["\u0275\u0275template"](2,wt,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Bt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sugar)}}function Dt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sug)}}function Ft(e,t){if(1&e&&(c["\u0275\u0275template"](0,Bt,2,1,"div",1),c["\u0275\u0275template"](1,Dt,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Lt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1,"choose"),c["\u0275\u0275elementEnd"]())}function qt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]())}function Vt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Nt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Tt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,Vt,2,1,"span",1),c["\u0275\u0275template"](2,Nt,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Ut(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1,"choose"),c["\u0275\u0275elementEnd"]())}function $t(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]())}function At(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Gt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function zt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,At,2,1,"span",1),c["\u0275\u0275template"](2,Gt,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function jt(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",119),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Qt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Wt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Jt(e,t){if(1&e&&(c["\u0275\u0275template"](0,Qt,2,1,"div",1),c["\u0275\u0275template"](1,Wt,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Ht(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Yt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Zt(e,t){if(1&e&&(c["\u0275\u0275template"](0,Ht,2,1,"div",1),c["\u0275\u0275template"](1,Yt,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const Kt=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function Xt(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",158),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](2,Kt,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function en(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",158),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](2,Kt,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function tn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function nn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function rn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function on(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function an(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",160),c["\u0275\u0275template"](1,rn,2,1,"span",1),c["\u0275\u0275template"](2,on,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]().$implicit,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==i.lang)}}const sn=function(e,t){return{"invalid-data":e,"valid-data":t}};function cn(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",161,162),c["\u0275\u0275listener"]("keyup",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().index;return c["\u0275\u0275nextContext"](3).ChangePackItem(t)})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.conv=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("step",null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowdecimalpack),c["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),c["\u0275\u0275property"]("readonly",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id))("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("stepallow",null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowdecimalpack)("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](9,sn,e.invalid&&r.submitted,e.valid&&r.submitted))}}function ln(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("minimum sale price ",null==e?null:e.lowestsaleprice,"")}}function dn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" \u0627\u0642\u0644 \u0633\u0639\u0631 \u0628\u064a\u0639 ",null==e?null:e.lowestsaleprice,"")}}function pn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"The selling price is less than the cost "),c["\u0275\u0275elementEnd"]())}function mn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1," \u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639 \u0627\u0642\u0644 \u0645\u0646 \u0627\u0644\u062a\u0643\u0644\u0641\u0629 "),c["\u0275\u0275elementEnd"]())}function hn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",163),c["\u0275\u0275template"](1,ln,2,1,"span",1),c["\u0275\u0275template"](2,dn,2,1,"span",1),c["\u0275\u0275template"](3,pn,2,0,"span",1),c["\u0275\u0275template"](4,mn,2,0,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang&&(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang&&(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang&&!(null!=e.CurrentUserSetting&&e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang&&!(null!=e.CurrentUserSetting&&e.CurrentUserSetting.showcostprice))}}function un(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"Maximum number can be 100 % Discount"),c["\u0275\u0275elementEnd"]())}function gn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"\u0623\u0643\u0628\u0631 \u0646\u0633\u0628\u0629 \u0647\u0649 100% \u062e\u0635\u0645"),c["\u0275\u0275elementEnd"]())}function _n(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",163),c["\u0275\u0275template"](1,un,2,0,"span",1),c["\u0275\u0275template"](2,gn,2,0,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function Cn(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"a",148),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](3).SubDocumentAction(t)}),c["\u0275\u0275element"](1,"i",164),c["\u0275\u0275elementEnd"]()}}const fn=function(e){return{item_id:e}};function bn(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"p-autoComplete",126,127),c["\u0275\u0275listener"]("onFocus",function(t){const n=c["\u0275\u0275restoreView"](e).index,i=c["\u0275\u0275reference"](3),r=c["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).StoreChangeSearch(t,n)})("onClear",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275template"](5,Jt,2,2,"ng-template",128),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275elementStart"](7,"p-autoComplete",129,130),c["\u0275\u0275listener"]("onFocus",function(t){const n=c["\u0275\u0275restoreView"](e).index,i=c["\u0275\u0275reference"](8),r=c["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).onClearItems(t)}),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275template"](10,Zt,2,2,"ng-template",131),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td",132),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return c["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),c["\u0275\u0275template"](12,Xt,2,5,"div",133),c["\u0275\u0275template"](13,en,2,5,"div",133),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"td"),c["\u0275\u0275elementStart"](15,"select",134,135),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeItemUnits(t.target.value,n)}),c["\u0275\u0275template"](17,tn,2,1,"option",136),c["\u0275\u0275template"](18,nn,2,1,"option",136),c["\u0275\u0275template"](19,an,3,4,"option",137),c["\u0275\u0275pipe"](20,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,cn,3,12,"td",1),c["\u0275\u0275elementStart"](22,"td"),c["\u0275\u0275elementStart"](23,"input",138,139),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"td"),c["\u0275\u0275elementStart"](26,"input",140,141),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangePrice(t)})("ngModelChange",function(e){return t.$implicit.price=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](28,hn,5,4,"div",92),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"td"),c["\u0275\u0275elementStart"](30,"input",142,143),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t)})("ngModelChange",function(e){return t.$implicit.discount_percent=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](32,_n,3,2,"div",92),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"td"),c["\u0275\u0275elementStart"](34,"input",144,145),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(t,"value")})("ngModelChange",function(e){return t.$implicit.discount_value=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"td"),c["\u0275\u0275elementStart"](37,"input",146),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(t)})("ngModelChange",function(e){return t.$implicit.total=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"td",147),c["\u0275\u0275elementStart"](39,"a",148),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;c["\u0275\u0275nextContext"](2);const n=c["\u0275\u0275reference"](275);return c["\u0275\u0275nextContext"]().OnEditItemsNotes(t,n)}),c["\u0275\u0275elementStart"](40,"span",149),c["\u0275\u0275element"](41,"i",150),c["\u0275\u0275element"](42,"i",151),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](43,"a",148),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).DeleteItems(t)}),c["\u0275\u0275element"](44,"i",152),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](45,Cn,2,0,"a",153),c["\u0275\u0275elementStart"](46,"a",154),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;c["\u0275\u0275nextContext"](2);const n=c["\u0275\u0275reference"](277);return c["\u0275\u0275nextContext"]().OnSerialItems(t,n)}),c["\u0275\u0275element"](47,"i",155),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](48,"td",87),c["\u0275\u0275elementStart"](49,"input",156,157),c["\u0275\u0275listener"]("ngModelChange",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).Checkwarrantydate(t,n)}),c["\u0275\u0275pipe"](51,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275reference"](16),r=c["\u0275\u0275reference"](24),o=c["\u0275\u0275reference"](27),a=c["\u0275\u0275reference"](31),s=c["\u0275\u0275reference"](35),l=c["\u0275\u0275reference"](50);c["\u0275\u0275nextContext"](2);const d=c["\u0275\u0275reference"](3),p=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),c["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.canchangestore))("suggestions",p.StoreList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](4,59,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),c["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",p.ItemsList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](9,61,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf","ar"!=p.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==p.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),c["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](69,sn,i.invalid&&d.submitted,i.valid&&d.submitted)),c["\u0275\u0275attribute"]("disabled",3==(null==e?null:e.item_type)&&null!=(null==e?null:e.item_id)||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=p.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==p.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](20,63,p.ItemUnitsList,c["\u0275\u0275pureFunction1"](72,fn,null==e?null:e.item_id))),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==p.CashCustomerSetting?null:p.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),c["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",c["\u0275\u0275pureFunction2"](74,sn,r.invalid&&d.submitted,r.valid&&d.submitted)),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),c["\u0275\u0275property"]("ngModel",e.price)("readonly",1==(null==p.CurrentUserSetting?null:p.CurrentUserSetting.changesalespricemode))("Min",0)("ngClass",c["\u0275\u0275pureFunction2"](77,sn,o.invalid&&d.submitted,o.valid&&d.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null==o.errors?null:o.errors.customMin),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","item_discount_percent",n,""),c["\u0275\u0275property"]("ngModel",e.discount_percent)("Min",0)("CheckMin",null!=(null==e?null:e.item_id))("readonly",!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.showreceiptitemdiscount))("ngClass",c["\u0275\u0275pureFunction2"](80,sn,a.invalid&&d.submitted||(null==a.errors?null:a.errors.customMax),a.valid&&d.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null==a.errors?null:a.errors.customMax),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","item_discount_value",n,""),c["\u0275\u0275property"]("ngModel",e.discount_value)("readonly",!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.showreceiptitemdiscount))("Min",0)("CheckMin",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](83,sn,s.invalid&&d.submitted,s.valid&&d.submitted)),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","item_total",n,""),c["\u0275\u0275property"]("ngModel",e.total)("readonly",0==!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.changesalespricemode)),c["\u0275\u0275advance"](8),c["\u0275\u0275property"]("ngIf",null!=e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden",!(2==e.isrequireserial||3==e.isrequireserial)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!p.ShowWarrantyDateCols),c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","warrantydate",n,""),c["\u0275\u0275property"]("hidden",!e.haswarrenty)("ngModel",c["\u0275\u0275pipeBind2"](51,66,e.warrantydate,"yyyy-MM-dd"))("required",e.haswarrenty)("ngClass",c["\u0275\u0275pureFunction2"](86,sn,l.invalid&&d.submitted,l.valid&&d.submitted))}}const yn=function(e){return{"table-for-autocomplete":e}};function xn(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",115),c["\u0275\u0275elementStart"](1,"div",116),c["\u0275\u0275elementStart"](2,"div",117),c["\u0275\u0275elementStart"](3,"table",84),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr"),c["\u0275\u0275elementStart"](6,"th",118),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",119),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",85),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",120),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](18,jt,3,3,"th",121),c["\u0275\u0275elementStart"](19,"th",122),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"th",123),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"th",122),c["\u0275\u0275text"](26),c["\u0275\u0275pipe"](27,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"th",122),c["\u0275\u0275text"](29),c["\u0275\u0275pipe"](30,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"th",123),c["\u0275\u0275text"](32),c["\u0275\u0275pipe"](33,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](34,"th",85),c["\u0275\u0275elementStart"](35,"th",86),c["\u0275\u0275text"](36),c["\u0275\u0275pipe"](37,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"tbody"),c["\u0275\u0275template"](39,bn,52,89,"tr",124),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"button",125),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddItems()}),c["\u0275\u0275text"](41),c["\u0275\u0275pipe"](42,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](38,yn,e.isType)),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](8,16,"Store")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,18,"ItemCode")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](14,20,"ItemDescription")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](17,22,"Unit")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,24,"qty")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](24,26,"Price")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](27,28,"Disc%")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](30,30,"Discount")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](33,32,"Total")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden",!e.ShowWarrantyDateCols),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](37,34,"WarrantyDate")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](42,36,"Add")," ")}}function vn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",119),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Mn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function Sn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function Pn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Rn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function On(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function In(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function En(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,On,2,1,"span",1),c["\u0275\u0275template"](2,In,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](5);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function wn(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",170),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.conv=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",t,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",n.conv)}}function kn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"input",167),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275elementStart"](4,"input",167),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275template"](6,Mn,2,1,"div",1),c["\u0275\u0275template"](7,Sn,2,1,"div",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td"),c["\u0275\u0275elementStart"](9,"select",168),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),c["\u0275\u0275template"](10,Pn,2,1,"option",136),c["\u0275\u0275template"](11,Rn,2,1,"option",136),c["\u0275\u0275template"](12,En,3,3,"option",25),c["\u0275\u0275pipe"](13,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](14,wn,2,3,"td",1),c["\u0275\u0275elementStart"](15,"td"),c["\u0275\u0275elementStart"](16,"input",169),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"td"),c["\u0275\u0275elementStart"](18,"input",169),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"td"),c["\u0275\u0275elementStart"](20,"input",169),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","storecode_c",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",e.storecode),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",e.itemcode),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==i.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",n,""),c["\u0275\u0275property"]("ngModel",e.unit_id),c["\u0275\u0275attribute"]("disabled",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](13,24,i.ItemComponentUnitsList,c["\u0275\u0275pureFunction1"](27,fn,e.item_id))),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",n,""),c["\u0275\u0275property"]("ngModel",e.qty)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","item_price_c",n,""),c["\u0275\u0275property"]("ngModel",e.price)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","item_total_c",n,""),c["\u0275\u0275property"]("ngModel",e.total)("readonly",!0)}}const Bn=function(e){return{finishedproductid:e}};function Dn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",165),c["\u0275\u0275elementStart"](1,"div",116),c["\u0275\u0275elementStart"](2,"div",83),c["\u0275\u0275elementStart"](3,"table",84),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr"),c["\u0275\u0275elementStart"](6,"th",118),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",119),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",85),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",120),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](18,vn,3,3,"th",121),c["\u0275\u0275elementStart"](19,"th",122),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"th",123),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"th",123),c["\u0275\u0275text"](26),c["\u0275\u0275pipe"](27,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"tbody"),c["\u0275\u0275template"](29,kn,21,29,"tr",166),c["\u0275\u0275pipe"](30,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](8,9,"Store")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](17,15,"Unit")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,17,"qty")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](24,19,"Price")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](27,21,"Total")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",0==e.show_all_component?c["\u0275\u0275pipeBind2"](30,23,e.ItemsComponentList,c["\u0275\u0275pureFunction1"](26,Bn,null==e.SelectedItem?null:e.SelectedItem.item_id)):e.ItemsComponentList)}}function Fn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"li",77),c["\u0275\u0275elementStart"](1,"a",78),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](4,Dn,31,28,"ng-template",79),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("ngbNavItem",2),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](3,2,"Components")))}function Ln(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]())}function qn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]())}function Vn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Nn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Tn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,Vn,2,1,"span",1),c["\u0275\u0275template"](2,Nn,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Un(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function $n(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function An(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function Gn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function zn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,An,2,1,"span",1),c["\u0275\u0275template"](2,Gn,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.code),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function jn(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"select",172),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),c["\u0275\u0275template"](3,Ln,2,0,"option",30),c["\u0275\u0275template"](4,qn,2,0,"option",30),c["\u0275\u0275template"](5,Tn,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275elementStart"](7,"select",172),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),c["\u0275\u0275template"](8,Un,2,1,"option",136),c["\u0275\u0275template"](9,$n,2,1,"option",136),c["\u0275\u0275template"](10,zn,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td"),c["\u0275\u0275elementStart"](12,"input",173,174),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"td",175),c["\u0275\u0275elementStart"](15,"a",148),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),c["\u0275\u0275element"](16,"i",176),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"a",177),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),c["\u0275\u0275element"](18,"i",178),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"a",177),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),c["\u0275\u0275element"](20,"i",179),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),c["\u0275\u0275property"]("ngModel",e.branch_id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",i.BranchList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),c["\u0275\u0275property"]("ngModel",e.code),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),c["\u0275\u0275property"]("ngModel",e.entry_no),c["\u0275\u0275advance"](3),c["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function Qn(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275elementStart"](1,"div",171),c["\u0275\u0275elementStart"](2,"div",83),c["\u0275\u0275elementStart"](3,"table",84),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr"),c["\u0275\u0275elementStart"](6,"th",85),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",85),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",85),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",85),c["\u0275\u0275text"](16,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"tbody"),c["\u0275\u0275template"](18,jn,21,13,"tr",166),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"button",125),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](8,5,"Branch")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,11,"Add")," ")}}function Wn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]())}function Jn(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]())}function Hn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Yn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Zn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,Hn,2,1,"span",1),c["\u0275\u0275template"](2,Yn,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Kn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Xn(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function ei(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,Kn,2,1,"span",1),c["\u0275\u0275template"](2,Xn,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function ti(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",199),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275element"](3,"br"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Value must be greater than 0")," "))}function ni(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function ii(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function ri(e,t){if(1&e&&(c["\u0275\u0275template"](0,ni,2,1,"div",1),c["\u0275\u0275template"](1,ii,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function oi(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"select",184),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.expenseid=e})("change",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).changeexpenses(t)}),c["\u0275\u0275template"](3,Wn,2,0,"option",30),c["\u0275\u0275template"](4,Jn,2,0,"option",30),c["\u0275\u0275template"](5,Zn,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275elementStart"](7,"select",184),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.currencyid=e})("change",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).changeexpensesCurrency(t,n)}),c["\u0275\u0275template"](8,ei,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275elementStart"](10,"input",185,186),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeExpensesValue(t)})("ngModelChange",function(e){return t.$implicit.value=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"td"),c["\u0275\u0275elementStart"](13,"input",187,188),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.exchangerate=e})("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeExpensesValue(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](15,ti,4,3,"span",189),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"td"),c["\u0275\u0275elementStart"](17,"div",190),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3)._generalService.onFocusControl("ExpensesLocalValue"+t)}),c["\u0275\u0275text"](18),c["\u0275\u0275pipe"](19,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"input",191,192),c["\u0275\u0275listener"]("focusout",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("ExpensesLocalValue"+t)})("ngModelChange",function(e){return t.$implicit.localvalue=e})("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeExpenseslocalValue(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"td"),c["\u0275\u0275elementStart"](23,"p-autoComplete",193,194),c["\u0275\u0275listener"]("onFocus",function(t){const n=c["\u0275\u0275restoreView"](e).index,i=c["\u0275\u0275nextContext"](3);return i.onFocusInAutoComplete(t,n),i.autoItems.show(),i.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.accountcode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).onSelectAccount(t,n)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).GetAccount(t)})("onClear",function(){return t.$implicit.accountid=null}),c["\u0275\u0275pipe"](25,"translate"),c["\u0275\u0275template"](26,ri,2,2,"ng-template",131),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"td"),c["\u0275\u0275elementStart"](28,"input",195,196),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.notes=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"td",197),c["\u0275\u0275elementStart"](31,"a",198),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).DeleteExpenses(t)}),c["\u0275\u0275element"](32,"i",179),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275reference"](14);c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","expenseid",n,""),c["\u0275\u0275property"]("ngModel",e.expenseid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.expenseList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","expensecurrencyid",n,""),c["\u0275\u0275property"]("ngModel",e.currencyid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",o.CurrencyList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","ExpensesValue",n,""),c["\u0275\u0275property"]("ngModel",e.value),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","ExpensesExchangeRate",n,""),c["\u0275\u0275property"]("ngModel",e.exchangerate)("ngClass",c["\u0275\u0275pureFunction2"](35,sn,e.exchangerate<=0||i.invalid&&r.submitted,i.valid&&r.submitted))("min",1e-26)("disabled",e.currencyid==(null==o._BaseCurrency?null:o._BaseCurrency.id)||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.exchangerate<=0),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("id","Display_ExpensesLocalValue",n,""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](19,30,e.localvalue,o._Currencyprecision)," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("id","ExpensesLocalValue",n,""),c["\u0275\u0275propertyInterpolate1"]("name","ExpensesLocalValue",n,""),c["\u0275\u0275property"]("ngModel",e.localvalue)("Min",0),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","accountcode",n,""),c["\u0275\u0275property"]("ngModel",e.accountcode)("suggestions",o.AccountList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](25,33,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275propertyInterpolate1"]("name","ExpensesNotes",n,""),c["\u0275\u0275property"]("ngModel",e.notes)}}function ai(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",115),c["\u0275\u0275elementStart"](1,"div",116),c["\u0275\u0275elementStart"](2,"div",180),c["\u0275\u0275elementStart"](3,"table",84),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr"),c["\u0275\u0275elementStart"](6,"th",85),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",85),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",85),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",85),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"th",85),c["\u0275\u0275text"](19),c["\u0275\u0275pipe"](20,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"th",85),c["\u0275\u0275text"](22),c["\u0275\u0275pipe"](23,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"th",85),c["\u0275\u0275text"](25),c["\u0275\u0275pipe"](26,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"th",181),c["\u0275\u0275text"](28," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"tbody"),c["\u0275\u0275template"](30,oi,33,38,"tr",166),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"tfoot"),c["\u0275\u0275elementStart"](32,"tr"),c["\u0275\u0275elementStart"](33,"td",85),c["\u0275\u0275text"](34,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"td",85),c["\u0275\u0275text"](36,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](37,"td",85),c["\u0275\u0275text"](38,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](39,"td",85),c["\u0275\u0275text"](40),c["\u0275\u0275pipe"](41,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"td",182),c["\u0275\u0275element"](43,"input",183),c["\u0275\u0275pipe"](44,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](45,"td",85),c["\u0275\u0275text"](46,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](47,"td",85),c["\u0275\u0275text"](48,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](49,"td",181),c["\u0275\u0275text"](50," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](51,"button",125),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddExpenses()}),c["\u0275\u0275text"](52),c["\u0275\u0275pipe"](53,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](34,yn,e.isType)),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](8,13,"expense")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,15,"Currency")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](14,17,"value")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](17,19,"ExchangeRate")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](20,21,"localval")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](23,23,"account")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](26,25,"Note")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",e._Receipt.receiptexpenses),c["\u0275\u0275advance"](10),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](41,27,"Total")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](44,29,e._Receipt.totalexpensses,e._Currencyprecision))("disabled",!0),c["\u0275\u0275advance"](9),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](53,32,"Add")," ")}}function si(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"Select"),c["\u0275\u0275elementEnd"]())}function ci(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"\u0623\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]())}function li(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function di(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function pi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,li,2,1,"span",1),c["\u0275\u0275template"](2,di,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const mi=function(e){return{"invalid-data":e}};function hi(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"select",184,202),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.employeeid=e})("change",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).changeHrEmployee(t)}),c["\u0275\u0275elementStart"](4,"option",159),c["\u0275\u0275template"](5,si,2,0,"span",1),c["\u0275\u0275template"](6,ci,2,0,"span",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](7,pi,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td"),c["\u0275\u0275elementStart"](9,"input",203,204),c["\u0275\u0275listener"]("focusout",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).formatSpentHours(n,t.target.value)})("ngModelChange",function(e){return t.$implicit.timeString=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td"),c["\u0275\u0275elementStart"](12,"input",205,206),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeLaborersValue(t)}),c["\u0275\u0275pipe"](14,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"td"),c["\u0275\u0275elementStart"](16,"input",205,207),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeLaborersValue(t)}),c["\u0275\u0275pipe"](18,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"td"),c["\u0275\u0275elementStart"](20,"input",195,208),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.notes=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"td",197),c["\u0275\u0275elementStart"](23,"a",198),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).DeleteLaborers(t)}),c["\u0275\u0275element"](24,"i",179),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275reference"](10);c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","laboreremployeeid",n,""),c["\u0275\u0275property"]("ngModel",e.employeeid),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngValue",null),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",o.HRemployeesList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("id","timeString",n,""),c["\u0275\u0275propertyInterpolate1"]("name","timeString",n,""),c["\u0275\u0275property"]("ngModel",e.timeString)("ngClass",c["\u0275\u0275pureFunction1"](24,mi,i.invalid&&(i.dirty||i.touched)||i.invalid&&r.submitted||"00:00"==e.timeString&&r.submitted)),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","hourlywages",n,""),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](14,18,e.hourlywages,6))("disabled",!0),c["\u0275\u0275advance"](4),c["\u0275\u0275propertyInterpolate1"]("name","laborerValue",n,""),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](18,21,e.value,o._Currencyprecision))("disabled",!0),c["\u0275\u0275advance"](4),c["\u0275\u0275propertyInterpolate1"]("name","laborerNotes",n,""),c["\u0275\u0275property"]("ngModel",e.notes)}}function ui(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",115),c["\u0275\u0275elementStart"](1,"div",116),c["\u0275\u0275elementStart"](2,"div",180),c["\u0275\u0275elementStart"](3,"table",84),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr"),c["\u0275\u0275elementStart"](6,"th",85),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",85),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",85),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",85),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"th",85),c["\u0275\u0275text"](19),c["\u0275\u0275pipe"](20,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"th",181),c["\u0275\u0275text"](22," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"tbody"),c["\u0275\u0275template"](24,hi,25,26,"tr",166),c["\u0275\u0275elementStart"](25,"tr"),c["\u0275\u0275elementStart"](26,"td",181),c["\u0275\u0275text"](27," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"td",181),c["\u0275\u0275text"](29," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"td"),c["\u0275\u0275text"](31),c["\u0275\u0275pipe"](32,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"td",200),c["\u0275\u0275element"](34,"input",201),c["\u0275\u0275pipe"](35,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"td",85),c["\u0275\u0275text"](37,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"td",181),c["\u0275\u0275text"](39," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"button",125),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddLaborers()}),c["\u0275\u0275text"](41),c["\u0275\u0275pipe"](42,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](28,yn,e.isType)),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](8,11,"Empolyee")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,13,"NumberOfHours")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](14,15,"HourlyWages")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](17,17,"Total")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](20,19,"Note")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",e._Receipt.receiptlaborers),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](32,21,"Total")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("readonly",!0)("ngModel",c["\u0275\u0275pipeBind2"](35,23,e._Receipt.totallaborers,e._Currencyprecision)),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](42,26,"Add")," ")}}function gi(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",165),c["\u0275\u0275elementStart"](1,"div",116),c["\u0275\u0275elementStart"](2,"Signature",209),c["\u0275\u0275listener"]("signatureoutput",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("signature",e._Receipt.signature)}}function _i(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function Ci(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e.subsaidarySetting?null:e.subsaidarySetting.costcenteralternativetext,"")}}function fi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function bi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function yi(e,t){if(1&e&&(c["\u0275\u0275template"](0,fi,2,1,"div",1),c["\u0275\u0275template"](1,bi,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function xi(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function vi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](5);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetextar)}}function Mi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](5);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.classalternativetext)}}function Si(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275template"](1,vi,2,1,"span",1),c["\u0275\u0275template"](2,Mi,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Pi(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",27),c["\u0275\u0275text"](1,"*"),c["\u0275\u0275elementEnd"]())}function Ri(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Oi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Ii(e,t){if(1&e&&(c["\u0275\u0275template"](0,Ri,2,1,"div",1),c["\u0275\u0275template"](1,Oi,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Ei(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",212),c["\u0275\u0275elementStart"](1,"label",36),c["\u0275\u0275template"](2,xi,3,3,"span",1),c["\u0275\u0275template"](3,Si,3,2,"span",1),c["\u0275\u0275template"](4,Pi,2,0,"span",221),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"p-autoComplete",222,223),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](6);return c["\u0275\u0275nextContext"](3).onFocusInClasses(t),n.show()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3)._Receipt.classfieldname=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).ClassesSelectEvent(t)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).ClassesChangeSearch(t)})("onClear",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3)._Receipt.classid=null}),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275template"](9,Ii,2,2,"ng-template",224),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](7);c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3),n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.classmandatory4invtrans)("ngModel",n._Receipt.classfieldname)("suggestions",n.ClassList)("ngClass",c["\u0275\u0275pureFunction2"](12,sn,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function wi(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function ki(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](5);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetext)}}function Bi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](5);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.locationalternativetextar)}}function Di(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275template"](1,ki,2,1,"span",1),c["\u0275\u0275template"](2,Bi,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function Fi(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",27),c["\u0275\u0275text"](1,"*"),c["\u0275\u0275elementEnd"]())}function Li(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function qi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Vi(e,t){if(1&e&&(c["\u0275\u0275template"](0,Li,2,1,"div",1),c["\u0275\u0275template"](1,qi,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Ni(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",212),c["\u0275\u0275elementStart"](1,"label",36),c["\u0275\u0275template"](2,wi,3,3,"span",1),c["\u0275\u0275template"](3,Di,3,2,"span",1),c["\u0275\u0275template"](4,Fi,2,0,"span",221),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"p-autoComplete",225,226),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](6);return c["\u0275\u0275nextContext"](3).onFocusInLocations(t),n.show()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).LocationsSelectEvent(t)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).LocationsChangeSearch(t)})("onClear",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3)._Receipt.locationid=null}),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275template"](9,Vi,2,2,"ng-template",227),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](7);c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3),n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.locationmandatory4invtrans)("ngModel",n._Receipt.locationfieldname)("suggestions",n.LocationList)("ngClass",c["\u0275\u0275pureFunction2"](12,sn,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function Ti(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function Ui(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](5);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetextar)}}function $i(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](5);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e.subsaidarySetting?null:e.subsaidarySetting.departmentalternativetext)}}function Ai(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275template"](1,Ui,2,1,"span",1),c["\u0275\u0275template"](2,$i,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Gi(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",27),c["\u0275\u0275text"](1,"*"),c["\u0275\u0275elementEnd"]())}function zi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function ji(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Qi(e,t){if(1&e&&(c["\u0275\u0275template"](0,zi,2,1,"div",1),c["\u0275\u0275template"](1,ji,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Wi(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",212),c["\u0275\u0275elementStart"](1,"label",36),c["\u0275\u0275template"](2,Ti,3,3,"span",1),c["\u0275\u0275template"](3,Ai,3,2,"span",1),c["\u0275\u0275template"](4,Gi,2,0,"span",221),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"p-autoComplete",228,229),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](6);return c["\u0275\u0275nextContext"](3).onFocusInDepartment(t),n.show()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).DepartmentSelectEvent(t)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).DepartmentChangeSearch(t)})("onClear",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3)._Receipt.departmentid=null}),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275template"](9,Qi,2,2,"ng-template",230),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](7);c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3),n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentmandatory4invtrans)("ngModel",n._Receipt.departmentfieldname)("suggestions",n.DepartmentList)("ngClass",c["\u0275\u0275pureFunction2"](12,sn,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function Ji(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Hi(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Yi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Zi(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Ki(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,Yi,2,1,"span",1),c["\u0275\u0275template"](2,Zi,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Xi(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function er(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function tr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function nr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function ir(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,tr,2,1,"span",1),c["\u0275\u0275template"](2,nr,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function rr(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",210),c["\u0275\u0275elementStart"](1,"div",211),c["\u0275\u0275elementStart"](2,"div",212),c["\u0275\u0275elementStart"](3,"label",36),c["\u0275\u0275template"](4,_i,3,3,"span",1),c["\u0275\u0275template"](5,Ci,2,1,"span",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"p-autoComplete",213,214),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](7);return c["\u0275\u0275nextContext"](2).onFocusInCostCenter(t),n.show()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).CostCenterSelectEvent(t)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).CostCenterChangeSearch(t)})("onClear",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._Receipt.costcenterid=null}),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275template"](10,yi,2,2,"ng-template",215),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](11,Ei,10,15,"div",216),c["\u0275\u0275template"](12,Ni,10,15,"div",216),c["\u0275\u0275template"](13,Wi,10,15,"div",216),c["\u0275\u0275elementStart"](14,"div",212),c["\u0275\u0275elementStart"](15,"label",217),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"select",218),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._Receipt.carid=t})("change",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).ChangeCar()}),c["\u0275\u0275template"](19,Ji,2,1,"option",136),c["\u0275\u0275template"](20,Hi,2,1,"option",136),c["\u0275\u0275template"](21,Ki,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",212),c["\u0275\u0275elementStart"](23,"label",219),c["\u0275\u0275text"](24),c["\u0275\u0275pipe"](25,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"select",220),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._Receipt.driverid=t})("change",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).ChangeDriver()}),c["\u0275\u0275template"](27,Xi,2,1,"option",136),c["\u0275\u0275template"](28,er,2,1,"option",136),c["\u0275\u0275template"](29,ir,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](8);c["\u0275\u0275nextContext"]();const t=c["\u0275\u0275reference"](3),n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",null==(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null!=(null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("required",null==n.subsaidarySetting?null:n.subsaidarySetting.costcentermandatory4invtrans)("ngModel",n._Receipt.costcenterfieldname)("suggestions",n.CostCenterList)("ngClass",c["\u0275\u0275pureFunction2"](28,sn,e.invalid&&t.submitted,e.valid&&t.submitted))("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](9,22,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.classisactive),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.locationisactive),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==n.subsaidarySetting?null:n.subsaidarySetting.departmentisactive),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](17,24,"Cars")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",n._Receipt.carid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",n.CarsList),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](25,26,"Drivers")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",n._Receipt.driverid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",n.DriversList)}}function or(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275element"](1,"td"),c["\u0275\u0275element"](2,"td"),c["\u0275\u0275element"](3,"td"),c["\u0275\u0275element"](4,"td"),c["\u0275\u0275element"](5,"td"),c["\u0275\u0275elementEnd"]())}function ar(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275elementStart"](1,"div",171),c["\u0275\u0275elementStart"](2,"div",83),c["\u0275\u0275elementStart"](3,"table",84),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr"),c["\u0275\u0275elementStart"](6,"th",85),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",85),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",85),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",85),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"th",85),c["\u0275\u0275text"](19),c["\u0275\u0275pipe"](20,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"tbody"),c["\u0275\u0275template"](22,or,6,0,"tr",166),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](8,6,"Status")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,8,"Date")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](14,10,"Time")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](17,12,"User")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](20,14,"entry_no")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts)}}function sr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function cr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function lr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",163),c["\u0275\u0275template"](1,sr,2,1,"span",1),c["\u0275\u0275template"](2,cr,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function dr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function pr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==e.CurrentUserSetting?null:e.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function mr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",163),c["\u0275\u0275template"](1,dr,2,1,"span",1),c["\u0275\u0275template"](2,pr,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang)}}function hr(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](4,"td",87),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275elementStart"](6,"input",231),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._totalcost=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,4,"Itemtotalcost")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!e.ForeignCurrencyShow),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e._totalcost)("readonly",!0)}}function ur(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275element"](1,"Item-StoreQty",232,233),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function gr(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1,"choose"),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function _r(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Cr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function fr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function br(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,Cr,2,1,"span",1),c["\u0275\u0275template"](2,fr,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function yr(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",248),c["\u0275\u0275elementStart"](1,"label",249),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"select",250),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).DescriptionItem.salesmanid=t}),c["\u0275\u0275template"](5,gr,2,1,"option",136),c["\u0275\u0275template"](6,_r,2,1,"option",136),c["\u0275\u0275template"](7,br,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](3,5,"ServiceSalesMan")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e.DescriptionItem.salesmanid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.SalesManlist)}}const xr=function(){return{height:"150px"}},vr=function(){return{standalone:!0}};function Mr(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",234),c["\u0275\u0275elementStart"](1,"h6",235),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",236),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](5,"span",237),c["\u0275\u0275text"](6,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",238),c["\u0275\u0275elementStart"](8,"div",239),c["\u0275\u0275elementStart"](9,"label",240),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"input",241,242),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).DescriptionItem.customitemname=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",211),c["\u0275\u0275elementStart"](15,"div",239),c["\u0275\u0275elementStart"](16,"quill-editor",243),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).DescriptionItem.detailshtml=t})("onContentChanged",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onContentChanged(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](17,yr,8,7,"div",244),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",245),c["\u0275\u0275elementStart"](19,"button",125),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).SaveNotes()}),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"button",246),c["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),c["\u0275\u0275element"](23,"i",247),c["\u0275\u0275text"](24),c["\u0275\u0275pipe"](25,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](3,10,"Description")),c["\u0275\u0275advance"](8),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](11,12,"Item")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e.DescriptionItem.customitemname),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("styles",c["\u0275\u0275pureFunction0"](18,xr))("ngModel",e.DescriptionItem.detailshtml)("ngModelOptions",c["\u0275\u0275pureFunction0"](19,vr))("modules",e.quillConfig),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.IsSalesManImplemented),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,14,"Save")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](25,16,"Cancel")," ")}}function Sr(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h6",235),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Pr(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h6",235),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function Rr(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function Or(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Ir(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Er(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",257),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function wr(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",257),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function kr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](2,1,null==e?null:e.expire_date,"yyyy-MM-dd")," ")}}function Br(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",163),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}function Dr(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",259),c["\u0275\u0275listener"]("change",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](3).ChangeBatchQty(n,t.target.value)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](2,Br,3,3,"span",92),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;c["\u0275\u0275nextContext"]();const i=c["\u0275\u0275reference"](7);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),c["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",c["\u0275\u0275pureFunction1"](4,mi,(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)}}function Fr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275element"](2,"input",258),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,kr,3,4,"td",1),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td"),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](10,Dr,3,6,"td",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),c["\u0275\u0275property"]("checked",null==e?null:e.valid),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ","ar"!=i.lang?null==e?null:e.name:null==e?null:e.name_ar," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==i.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.serial," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.availableqty),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==i.requiredserial)}}function Lr(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",234),c["\u0275\u0275template"](1,Sr,3,3,"h6",251),c["\u0275\u0275template"](2,Pr,3,3,"h6",251),c["\u0275\u0275elementStart"](3,"button",236),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",237),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",252,5),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275reference"](7);return c["\u0275\u0275nextContext"](2).saveserial(t)}),c["\u0275\u0275elementStart"](8,"div",238),c["\u0275\u0275elementStart"](9,"div",248),c["\u0275\u0275elementStart"](10,"div",2),c["\u0275\u0275elementStart"](11,"form"),c["\u0275\u0275elementStart"](12,"div",253),c["\u0275\u0275elementStart"](13,"h6",235),c["\u0275\u0275text"](14),c["\u0275\u0275pipe"](15,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"table",84),c["\u0275\u0275elementStart"](17,"thead"),c["\u0275\u0275elementStart"](18,"tr"),c["\u0275\u0275elementStart"](19,"th"),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"th",254),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](25,Rr,3,3,"th",1),c["\u0275\u0275template"](26,Or,3,3,"th",1),c["\u0275\u0275template"](27,Ir,3,3,"th",1),c["\u0275\u0275template"](28,Er,3,3,"th",255),c["\u0275\u0275template"](29,wr,3,3,"th",255),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"tbody"),c["\u0275\u0275template"](31,Fr,11,7,"tr",124),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"div",245),c["\u0275\u0275elementStart"](33,"button",256),c["\u0275\u0275text"](34),c["\u0275\u0275pipe"](35,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](12),c["\u0275\u0275textInterpolate2"](" ",c["\u0275\u0275pipeBind1"](15,14,"qty")," : ",e._batchqty," "),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,16,"Choose")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](24,18,"Store")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",e.BatchesListForEatchRow)("ngForTrackBy",e.trackByFn),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](35,20,"save")," ")}}function qr(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Vr(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Nr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Tr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Ur(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,Nr,2,1,"span",1),c["\u0275\u0275template"](2,Tr,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function $r(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"select",268,269),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.paymenttypeid=e}),c["\u0275\u0275template"](4,qr,2,1,"option",136),c["\u0275\u0275template"](5,Vr,2,1,"option",136),c["\u0275\u0275template"](6,Ur,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"td"),c["\u0275\u0275elementStart"](8,"input",270,262),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.amount=e})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).CalaculteMultiPayment()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"td"),c["\u0275\u0275elementStart"](11,"a",271),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).DeletePaymentMethod(t)}),c["\u0275\u0275element"](12,"i",272),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275reference"](3);c["\u0275\u0275nextContext"]();const r=c["\u0275\u0275reference"](8),o=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","multipayment_type",n,""),c["\u0275\u0275property"]("ngModel",e.paymenttypeid)("ngClass",c["\u0275\u0275pureFunction2"](8,sn,i.invalid&&r.submitted,i.valid&&r.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",o.MultiPaymentMethodsList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","multipayment_amount",n,""),c["\u0275\u0275property"]("ngModel",e.amount)}}function Ar(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",234),c["\u0275\u0275elementStart"](1,"h6",235),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",236),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](5,"span",237),c["\u0275\u0275text"](6,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"form",252,260),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275reference"](8);return c["\u0275\u0275nextContext"](2).SaveMultiPayment(t)}),c["\u0275\u0275elementStart"](9,"div",238),c["\u0275\u0275elementStart"](10,"div",115),c["\u0275\u0275elementStart"](11,"div",116),c["\u0275\u0275elementStart"](12,"div",83),c["\u0275\u0275elementStart"](13,"table",84),c["\u0275\u0275elementStart"](14,"thead"),c["\u0275\u0275elementStart"](15,"tr"),c["\u0275\u0275elementStart"](16,"th",85),c["\u0275\u0275text"](17),c["\u0275\u0275pipe"](18,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"th",85),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"th",181),c["\u0275\u0275text"](23,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"tbody"),c["\u0275\u0275template"](25,$r,13,11,"tr",166),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"button",125),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddPaymentMethod()}),c["\u0275\u0275text"](27),c["\u0275\u0275pipe"](28,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"div",115),c["\u0275\u0275elementStart"](30,"div",116),c["\u0275\u0275elementStart"](31,"div",83),c["\u0275\u0275elementStart"](32,"table",84),c["\u0275\u0275elementStart"](33,"thead"),c["\u0275\u0275elementStart"](34,"tr"),c["\u0275\u0275elementStart"](35,"th",85),c["\u0275\u0275text"](36),c["\u0275\u0275pipe"](37,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"th",85),c["\u0275\u0275text"](39),c["\u0275\u0275pipe"](40,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](41,"th",85),c["\u0275\u0275text"](42),c["\u0275\u0275pipe"](43,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](44,"tbody"),c["\u0275\u0275elementStart"](45,"tr"),c["\u0275\u0275elementStart"](46,"td"),c["\u0275\u0275elementStart"](47,"input",261,262),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._Receipt.netvalue=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](49,"td"),c["\u0275\u0275elementStart"](50,"input",263,262),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).multipayment_Paid=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](52,"td"),c["\u0275\u0275elementStart"](53,"input",264,262),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).multipayment_remaining=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](55,"div",245),c["\u0275\u0275elementStart"](56,"button",265),c["\u0275\u0275element"](57,"i",266),c["\u0275\u0275text"](58),c["\u0275\u0275pipe"](59,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](60,"button",267),c["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),c["\u0275\u0275element"](61,"i",247),c["\u0275\u0275text"](62),c["\u0275\u0275pipe"](63,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](3,16,"PaymentMethod")),c["\u0275\u0275advance"](15),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](18,18,"Payment")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,20,"Amount")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",e.ReceiptMultiPaymentList),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](28,22,"Add")," "),c["\u0275\u0275advance"](9),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](37,24,"Net")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](40,26,"Paid")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](43,28,"Remaining")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngModel",e._Receipt.netvalue)("readonly",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",e.multipayment_Paid)("readonly",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",e.multipayment_remaining)("readonly",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](59,30,"Save")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](63,32,"Cancel")," ")}}function Gr(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]())}function zr(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",114),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]())}function jr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Qr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Wr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,jr,2,1,"span",1),c["\u0275\u0275template"](2,Qr,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Jr(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Hr(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",159),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Yr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function Zr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function Kr(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",113),c["\u0275\u0275template"](1,Yr,2,1,"span",1),c["\u0275\u0275template"](2,Zr,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.code),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Xr(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"select",172),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),c["\u0275\u0275template"](3,Gr,2,0,"option",30),c["\u0275\u0275template"](4,zr,2,0,"option",30),c["\u0275\u0275template"](5,Wr,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275elementStart"](7,"select",172),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),c["\u0275\u0275template"](8,Jr,2,1,"option",136),c["\u0275\u0275template"](9,Hr,2,1,"option",136),c["\u0275\u0275template"](10,Kr,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td"),c["\u0275\u0275elementStart"](12,"input",273,174),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"td",175),c["\u0275\u0275elementStart"](15,"a",177),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).OnViewLinkedBatchOrderReceipt(t)}),c["\u0275\u0275element"](16,"i",178),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),c["\u0275\u0275property"]("ngModel",e.branch_id),c["\u0275\u0275attribute"]("disabled",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",i.BranchList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),c["\u0275\u0275property"]("ngModel",e.code),c["\u0275\u0275attribute"]("disabled",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",i.ReceiptCodeList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),c["\u0275\u0275property"]("ngModel",e.entry_no)}}function eo(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",234),c["\u0275\u0275elementStart"](1,"h6",235),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",236),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](5,"span",237),c["\u0275\u0275text"](6,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",238),c["\u0275\u0275elementStart"](8,"div",2),c["\u0275\u0275elementStart"](9,"div",171),c["\u0275\u0275elementStart"](10,"div",83),c["\u0275\u0275elementStart"](11,"table",84),c["\u0275\u0275elementStart"](12,"thead"),c["\u0275\u0275elementStart"](13,"tr"),c["\u0275\u0275elementStart"](14,"th",85),c["\u0275\u0275text"](15),c["\u0275\u0275pipe"](16,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"th",85),c["\u0275\u0275text"](18),c["\u0275\u0275pipe"](19,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"th",85),c["\u0275\u0275text"](21),c["\u0275\u0275pipe"](22,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"th",85),c["\u0275\u0275text"](24,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"tbody"),c["\u0275\u0275template"](26,Xr,17,14,"tr",166),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"div",245),c["\u0275\u0275elementStart"](28,"button",125),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).Excute_CreateReceipts()}),c["\u0275\u0275text"](29),c["\u0275\u0275pipe"](30,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"button",246),c["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),c["\u0275\u0275element"](32,"i",247),c["\u0275\u0275text"](33),c["\u0275\u0275pipe"](34,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](3,7,"ReceiptLinkedBatchOrder")),c["\u0275\u0275advance"](13),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](16,9,"Branch")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](19,11,"Receipttype")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](22,13,"EntryNo")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",e.ReceiptLinkedBatchOrder),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](30,15,"CreateReceipt")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](34,17,"Cancel")," ")}}function to(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"section"),c["\u0275\u0275elementStart"](2,"form",4,5),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275reference"](3);return c["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),c["\u0275\u0275elementStart"](4,"section"),c["\u0275\u0275elementStart"](5,"div",6),c["\u0275\u0275elementStart"](6,"div",7),c["\u0275\u0275elementStart"](7,"div",8),c["\u0275\u0275elementStart"](8,"h6",9),c["\u0275\u0275text"](9),c["\u0275\u0275pipe"](10,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",10),c["\u0275\u0275elementStart"](12,"div",2),c["\u0275\u0275elementStart"](13,"div",11),c["\u0275\u0275elementStart"](14,"button",12),c["\u0275\u0275text"](15),c["\u0275\u0275pipe"](16,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"button",13),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CreateNewAction()}),c["\u0275\u0275text"](18),c["\u0275\u0275pipe"](19,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](20,gt,3,4,"button",14),c["\u0275\u0275template"](21,_t,3,4,"button",15),c["\u0275\u0275elementStart"](22,"button",16),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().BackAction()}),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"div",17),c["\u0275\u0275elementStart"](26,"button",18),c["\u0275\u0275text"](27),c["\u0275\u0275pipe"](28,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"div",19),c["\u0275\u0275template"](30,Mt,10,10,"ng-container",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](31,"hr",20),c["\u0275\u0275elementStart"](32,"div",2),c["\u0275\u0275elementStart"](33,"div",21),c["\u0275\u0275elementStart"](34,"div",22),c["\u0275\u0275elementStart"](35,"label",23),c["\u0275\u0275text"](36),c["\u0275\u0275pipe"](37,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"select",24),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.customersalesprice=t})("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().changesalesprice(t)}),c["\u0275\u0275template"](39,Rt,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"div",21),c["\u0275\u0275elementStart"](41,"div",22),c["\u0275\u0275elementStart"](42,"label",26),c["\u0275\u0275text"](43),c["\u0275\u0275pipe"](44,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](45,"span",27),c["\u0275\u0275text"](46,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](47,"select",28,29),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().changeBranch(t)}),c["\u0275\u0275template"](49,Ot,2,0,"option",30),c["\u0275\u0275template"](50,It,2,0,"option",30),c["\u0275\u0275template"](51,kt,3,3,"option",31),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](52,"div",2),c["\u0275\u0275elementStart"](53,"div",32),c["\u0275\u0275elementStart"](54,"div",22),c["\u0275\u0275elementStart"](55,"label",33),c["\u0275\u0275text"](56),c["\u0275\u0275pipe"](57,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](58,"span",27),c["\u0275\u0275text"](59,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](60,"input",34,35),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](62,"div",32),c["\u0275\u0275elementStart"](63,"div",22),c["\u0275\u0275elementStart"](64,"label",36),c["\u0275\u0275text"](65),c["\u0275\u0275pipe"](66,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](67,"span",27),c["\u0275\u0275text"](68,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](69,"p-autoComplete",37,38),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](70);return c["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(t)})("onClear",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onClearCustomer(t)}),c["\u0275\u0275pipe"](72,"translate"),c["\u0275\u0275template"](73,Ft,2,2,"ng-template",39),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](74,"div",32),c["\u0275\u0275elementStart"](75,"div",22),c["\u0275\u0275elementStart"](76,"label",40),c["\u0275\u0275text"](77),c["\u0275\u0275pipe"](78,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](79,"input",41,42),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](81,"div",2),c["\u0275\u0275elementStart"](82,"div",32),c["\u0275\u0275elementStart"](83,"div",22),c["\u0275\u0275elementStart"](84,"label",43),c["\u0275\u0275text"](85),c["\u0275\u0275pipe"](86,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](87,"input",44,45),c["\u0275\u0275listener"]("ngModelChange",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),c["\u0275\u0275pipe"](89,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](90,"div",32),c["\u0275\u0275elementStart"](91,"div",22),c["\u0275\u0275elementStart"](92,"label",46),c["\u0275\u0275text"](93),c["\u0275\u0275pipe"](94,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](95,"input",47,48),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](97,"div",2),c["\u0275\u0275elementStart"](98,"div",49),c["\u0275\u0275elementStart"](99,"div",22),c["\u0275\u0275elementStart"](100,"label",50),c["\u0275\u0275text"](101),c["\u0275\u0275pipe"](102,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](103,"span",27),c["\u0275\u0275text"](104,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](105,"select",51,52),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.wostatusid=t}),c["\u0275\u0275template"](107,Lt,2,0,"option",30),c["\u0275\u0275template"](108,qt,2,0,"option",30),c["\u0275\u0275template"](109,Tt,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](110,"div",49),c["\u0275\u0275elementStart"](111,"div",22),c["\u0275\u0275elementStart"](112,"label",53),c["\u0275\u0275text"](113),c["\u0275\u0275pipe"](114,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](115,"textarea",54,55),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.notes=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](117,"div",2),c["\u0275\u0275elementStart"](118,"div",32),c["\u0275\u0275elementStart"](119,"div",22),c["\u0275\u0275elementStart"](120,"label",56),c["\u0275\u0275text"](121),c["\u0275\u0275pipe"](122,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](123,"input",57,58),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](125,"div",32),c["\u0275\u0275elementStart"](126,"div",22),c["\u0275\u0275elementStart"](127,"label",59),c["\u0275\u0275text"](128),c["\u0275\u0275pipe"](129,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](130,"textarea",60,61),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.memo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](132,"div",2),c["\u0275\u0275elementStart"](133,"div",49),c["\u0275\u0275elementStart"](134,"div",22),c["\u0275\u0275elementStart"](135,"label",62),c["\u0275\u0275text"](136),c["\u0275\u0275pipe"](137,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](138,"span",27),c["\u0275\u0275text"](139,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](140,"select",63,64),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.productionlineid=t}),c["\u0275\u0275template"](142,Ut,2,0,"option",30),c["\u0275\u0275template"](143,$t,2,0,"option",30),c["\u0275\u0275template"](144,zt,3,3,"option",25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](145,"div",32),c["\u0275\u0275elementStart"](146,"div",22),c["\u0275\u0275elementStart"](147,"label",65),c["\u0275\u0275text"](148),c["\u0275\u0275pipe"](149,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](150,"input",66,67),c["\u0275\u0275listener"]("focusout",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CheckDeliverDate()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.linescheduleddate=t}),c["\u0275\u0275pipe"](152,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](153,"div",68),c["\u0275\u0275elementStart"](154,"div",69),c["\u0275\u0275elementStart"](155,"input",70),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.urgent=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](156,"label",71),c["\u0275\u0275elementStart"](157,"span"),c["\u0275\u0275text"](158),c["\u0275\u0275pipe"](159,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](160,"div",72),c["\u0275\u0275elementStart"](161,"div",73),c["\u0275\u0275elementStart"](162,"div",2),c["\u0275\u0275elementStart"](163,"div",74),c["\u0275\u0275elementStart"](164,"ul",75,76),c["\u0275\u0275listener"]("activeIdChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().activeNav=t}),c["\u0275\u0275elementStart"](166,"li",77),c["\u0275\u0275elementStart"](167,"a",78),c["\u0275\u0275text"](168),c["\u0275\u0275pipe"](169,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](170,xn,43,40,"ng-template",79),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](171,Fn,5,4,"li",80),c["\u0275\u0275elementStart"](172,"li",77),c["\u0275\u0275elementStart"](173,"a",78),c["\u0275\u0275text"](174),c["\u0275\u0275pipe"](175,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](176,Qn,22,13,"ng-template",79),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](177,"li",77),c["\u0275\u0275elementStart"](178,"a",78),c["\u0275\u0275text"](179),c["\u0275\u0275pipe"](180,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](181,ai,54,36,"ng-template",79),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](182,"li",77),c["\u0275\u0275elementStart"](183,"a",78),c["\u0275\u0275text"](184),c["\u0275\u0275pipe"](185,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](186,ui,43,30,"ng-template",79),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](187,"li",77),c["\u0275\u0275elementStart"](188,"a",78),c["\u0275\u0275text"](189),c["\u0275\u0275pipe"](190,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](191,gi,3,1,"ng-template",79),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](192,"li",77),c["\u0275\u0275elementStart"](193,"a",78),c["\u0275\u0275text"](194),c["\u0275\u0275pipe"](195,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](196,rr,30,31,"ng-template",79),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](197,"li",77),c["\u0275\u0275elementStart"](198,"a",78),c["\u0275\u0275text"](199),c["\u0275\u0275pipe"](200,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](201,ar,23,16,"ng-template",79),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](202,"div",81),c["\u0275\u0275elementStart"](203,"div",2),c["\u0275\u0275elementStart"](204,"div",82),c["\u0275\u0275elementStart"](205,"div",83),c["\u0275\u0275elementStart"](206,"table",84),c["\u0275\u0275elementStart"](207,"thead"),c["\u0275\u0275elementStart"](208,"tr"),c["\u0275\u0275element"](209,"th",85),c["\u0275\u0275elementStart"](210,"th",86),c["\u0275\u0275text"](211),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](212,"th",85),c["\u0275\u0275text"](213),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](214,"tbody"),c["\u0275\u0275elementStart"](215,"tr"),c["\u0275\u0275elementStart"](216,"td"),c["\u0275\u0275text"](217),c["\u0275\u0275pipe"](218,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](219,"td",87),c["\u0275\u0275elementStart"](220,"input",88),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.valueforeign=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](221,"td"),c["\u0275\u0275elementStart"](222,"input",89),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.value=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](223,"tr"),c["\u0275\u0275elementStart"](224,"td"),c["\u0275\u0275text"](225),c["\u0275\u0275pipe"](226,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](227,"td",87),c["\u0275\u0275elementStart"](228,"input",90,91),c["\u0275\u0275listener"]("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().Calculate_Disc("foreign","percent")})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.discount_foreignpercent=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](230,lr,3,2,"div",92),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](231,"td"),c["\u0275\u0275elementStart"](232,"input",93,94),c["\u0275\u0275listener"]("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().Calculate_Disc("local","percent")})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.discount_percent=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](234,mr,3,2,"div",92),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](235,"tr"),c["\u0275\u0275elementStart"](236,"td"),c["\u0275\u0275text"](237),c["\u0275\u0275pipe"](238,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](239,"td",87),c["\u0275\u0275elementStart"](240,"input",95),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.discount_foreignvalue=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().Calculate_Disc("foreign","value")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](241,"td"),c["\u0275\u0275elementStart"](242,"input",96),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.discount_value=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().Calculate_Disc("local","value")}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](243,"tr"),c["\u0275\u0275elementStart"](244,"td"),c["\u0275\u0275text"](245),c["\u0275\u0275pipe"](246,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](247,"td",87),c["\u0275\u0275element"](248,"input",97),c["\u0275\u0275pipe"](249,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](250,"td"),c["\u0275\u0275element"](251,"input",98),c["\u0275\u0275pipe"](252,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](253,"tr"),c["\u0275\u0275elementStart"](254,"td"),c["\u0275\u0275text"](255),c["\u0275\u0275pipe"](256,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](257,"td",87),c["\u0275\u0275element"](258,"input",99),c["\u0275\u0275pipe"](259,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](260,"td"),c["\u0275\u0275element"](261,"input",100),c["\u0275\u0275pipe"](262,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](263,"tr"),c["\u0275\u0275elementStart"](264,"td"),c["\u0275\u0275text"](265),c["\u0275\u0275pipe"](266,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](267,"td",87),c["\u0275\u0275elementStart"](268,"input",101),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](269,"td"),c["\u0275\u0275elementStart"](270,"input",102),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.netvalue=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](271,hr,7,6,"tr",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](272,"div",103),c["\u0275\u0275template"](273,ur,3,1,"div",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](274,Mr,26,20,"ng-template",null,104,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](276,Lr,36,22,"ng-template",null,105,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](278,Ar,64,34,"ng-template",null,106,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275template"](280,eo,35,19,"ng-template",null,107,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](3),t=c["\u0275\u0275reference"](48),n=c["\u0275\u0275reference"](61),i=c["\u0275\u0275reference"](71),r=c["\u0275\u0275reference"](88),o=c["\u0275\u0275reference"](106),a=c["\u0275\u0275reference"](141),s=c["\u0275\u0275reference"](151),l=c["\u0275\u0275reference"](165),d=c["\u0275\u0275reference"](229),p=c["\u0275\u0275reference"](233),m=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](9),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](10,136,"WorkOrder")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275attribute"]("disabled",m.VouchersLinkedCount>0||1==m.ShowModeReceipt||1==m.DuringSaveDisable||m.ReceiptID>0&&!m.checkRoleParms(627)||0==m.ReceiptID&&!m.checkRoleParms(580)||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](16,138,"Save")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275attribute"]("disabled",!m.checkRoleParms(580)||1==m.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](19,140,"CreateNew")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",m.ReceiptID>0&&0==m.VouchersLinkedCount),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",m.ReceiptID>0),c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("disabled",1==m.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](24,142,"Exit")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](28,144,"Action Menu")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",m.ReceiptID>0),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](37,146,"Pricing")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",m._Receipt.customersalesprice),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",m.CustomerSalesPriceList),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](44,148,"Branch")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",m._Receipt.branch_id)("ngClass",c["\u0275\u0275pureFunction2"](220,sn,t.invalid&&e.submitted,t.valid&&e.submitted)),c["\u0275\u0275attribute"]("disabled",m.ReceiptID>0||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=m.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==m.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",m.BranchList)("ngForTrackBy",m.customTrackBy),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](57,150,"Entry#")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("stepallow",1)("ngModel",m._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==m.CurrentUserSetting?null:m.CurrentUserSetting.controlvouchernumanddate)||m.VouchersLinkedCount>0||1==m.LockedRecepit)("ngClass",c["\u0275\u0275pureFunction2"](223,sn,n.invalid&&e.submitted,n.valid&&e.submitted)),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](66,152,"Customer#")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",m._Receipt.cashcustomer_vendor_code)("suggestions",m.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](72,154,"NoResultsFound"))("forceSelection",!0)("ngClass",c["\u0275\u0275pureFunction2"](226,sn,i.invalid&&e.submitted,i.valid&&e.submitted)),c["\u0275\u0275advance"](8),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](78,156,"CustomerName")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",m._Receipt.cashcustomer_vendor_name)("readonly",!0),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](86,158,"Date")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](89,160,m._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==m.CurrentUserSetting?null:m.CurrentUserSetting.controlvouchernumanddate)||m.VouchersLinkedCount>0||1==m.LockedRecepit)("ngClass",c["\u0275\u0275pureFunction2"](229,sn,r.invalid&&e.submitted||0==m.ValidPeriod,r.valid&&e.submitted)),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](94,163,"time")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("readonly",0==(null==m.CurrentUserSetting?null:m.CurrentUserSetting.controlvouchernumanddate)||m.VouchersLinkedCount>0||1==m.LockedRecepit)("ngModel",m._Receipt.entry_time),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](102,165,"WOstatusID")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",m._Receipt.wostatusid)("ngClass",c["\u0275\u0275pureFunction2"](232,sn,o.invalid&&e.submitted,o.valid&&e.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=m.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==m.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",m.WOrkStatusList),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](114,167,"Notes")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",m._Receipt.notes),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](122,169,"ReferenceNo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",m._Receipt.reference_no),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](129,171,"Memo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",m._Receipt.memo),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](137,173,"ProductionLineId")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",m._Receipt.productionlineid)("ngClass",c["\u0275\u0275pureFunction2"](235,sn,a.invalid&&e.submitted,a.valid&&e.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=m.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==m.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",m.ProductionLineList),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](149,175,"linescheduleddate")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](152,177,m._Receipt.linescheduleddate,"yyyy-MM-dd"))("ngClass",c["\u0275\u0275pureFunction2"](238,sn,0==s,1==s)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("checked",m._Receipt.urgent)("ngModelOptions",c["\u0275\u0275pureFunction0"](241,vr))("ngModel",m._Receipt.urgent),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](159,180,"Urgent")),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("destroyOnHide",!1)("activeId",m.activeNav),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngbNavItem",1),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](169,182,"Items")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",null==m.CurrentUserSetting?null:m.CurrentUserSetting.showreceiptitemcomponent),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngbNavItem",3),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](175,184,"LinkedReceipt")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavItem",4),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](180,186,"AdditionalExpenses")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavItem",5),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](185,188,"Laborers")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavItem",6),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](190,190,"Signature")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavItem",7),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](195,192,"AnalyticalAccount")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavItem",8),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](200,194,"WorkOrderHistory")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavOutlet",l),c["\u0275\u0275advance"](8),c["\u0275\u0275property"]("hidden",!m.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" Total - ",null==m._CurrencySelected?null:m._CurrencySelected.currencysymbol," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" Total - ",null==m._BaseCurrency?null:m._BaseCurrency.currencysymbol," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](218,196,"Total")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!m.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("readonly",!0)("ngModel",m._Receipt.valueforeign),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("readonly",!0)("ngModel",m._Receipt.value),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](226,198,"Disc%")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!m.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("customMax",null==m.CurrentUserSetting?null:m.CurrentUserSetting.maxreceiptdiscountperc),c["\u0275\u0275property"]("readonly",!(null!=m.CurrentUserSetting&&m.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",m._Receipt.discount_foreignpercent)("ngClass",c["\u0275\u0275pureFunction2"](242,sn,d.invalid&&e.submitted,d.valid&&e.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null==d.errors?null:d.errors.customMax),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("customMax",null==m.CurrentUserSetting?null:m.CurrentUserSetting.maxreceiptdiscountperc),c["\u0275\u0275property"]("readonly",!(null!=m.CurrentUserSetting&&m.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",m._Receipt.discount_percent)("ngClass",c["\u0275\u0275pureFunction2"](245,sn,p.invalid&&e.submitted||(null==p.errors?null:p.errors.customMax),p.valid&&e.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",null==p.errors?null:p.errors.customMax),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](238,200,"Discount")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!m.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("readonly",!(null!=m.CurrentUserSetting&&m.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",m._Receipt.discount_foreignvalue),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("readonly",!(null!=m.CurrentUserSetting&&m.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",m._Receipt.discount_value),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](246,202,"AdditionalExpenses")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!m.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](249,204,m._Receipt.totalexpensses_foreign,m._Currencyprecision))("readonly",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](252,207,m._Receipt.totalexpensses,m._Currencyprecision))("readonly",!0),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](256,210,"Laborers")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!m.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](259,212,m._Receipt.totallaborers_foreign,m._Currencyprecision))("readonly",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](262,215,m._Receipt.totallaborers,m._Currencyprecision))("readonly",!0),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](266,218,"Net")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!m.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",m._Receipt.netvalueforeign)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",m._Receipt.netvalue)("readonly",!0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==m.CurrentUserSetting?null:m.CurrentUserSetting.showcostprice),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",m.itemqtyview)}}const no=function(){return[579,580,581,627]};let io=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d,p,m,h,u,g,_,C,f){this._CustomerService=e,this._ReceiptSharedService=t,this._VoucherService=n,this._ProductionService=i,this._employeeService=r,this.cd=o,this.toastr=a,this._router=s,this._generalService=c,this.translate=l,this._translateGlobalService=d,this._activeRoute=p,this.modalService=m,this.spinner=h,this._authService=u,this._printService=g,this._VerifyReportsService=_,this.datepipe=C,this.location=f,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=84,this.Transaction_move=0,this._Receipt=new x.tY,this._ReceiptOriginal=new x.tY,this._Receipt_h_Edit=new x.Iu,this._BatchOrderDetailsReceipt=new x.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new x.tH,this._LinkedReceipt=new x.Cb,this.ShowWarrantyDateCols=!1,this.selectedindex=0,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.MultiPaymentypeShow=!1,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.PaymentTypeList=[],this.MultiPaymentMethodsList=[],this.CustomerAccountsList=[],this.CashCustomerList=[],this.EmployeesList=[],this.SalesTypesList=[],this.CostCenterList=[],this.SalesManlist=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CarsList=[],this.DriversList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.BatchesListForEatchRow=[],this.WOrkStatusList=[],this.WorkOrderHistoryList=[],this.ProductionLineList=[],this.OrderTypeList=[{id:1,text:"walk-in",text_ar:"\u0628\u0627\u0644\u0645\u062d\u0644"},{id:2,text:"Delivery",text_ar:"\u062a\u0648\u0635\u064a\u0644"},{id:3,text:"Dine in",text_ar:"\u062f\u0627\u062e\u0644 \u0627\u0644\u0645\u0637\u0639\u0645"},{id:4,text:"Pick Up",text_ar:"\u0627\u0633\u062a\u0644\u0627\u0645"},{id:6,text:"Work Order",text_ar:"\u0623\u0645\u0631 \u0639\u0645\u0644"}],this.PercentageOrValueDropdown=[{id:0,text:"Percentage",text_ar:"\u0646\u0633\u0628\u0629"},{id:1,text:"Value",text_ar:"\u0642\u064a\u0645\u0629"}],this.reporturl="",this.reportdomainUrl=Ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.linkedreceiptid=0,this.requiredserial=2,this._batchqty=0,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.LinkedVoucherIsPostedMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopSelesErrorMsg="",this.QtyIsValidWithAvailableQty="",this.InValidNumberOfBatch="",this.InValidQty="",this.RelatedwithSerialsOrBatches="",this.expenseList=[],this.HRemployeesList=[],this._ReceiptExpenses=new x.th,this.expensesAccountid=0,this.accountcode="",this.disablerate=!0,this.AccountList=[],this.TotalExpensses=0,this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.EmpAddedPreviously="",this.TotalLaborers=0,this._ReceiptLaborers=new x.NM,this.itemqtyview=!1,this._itemstoreqtyobj=new x.I$,this._itemqtyList=new Array,this._totalcost=0,this.ReceiptTypeLinked=0,this.ReceiptLinkedBatchOrder=[],this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},p.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.linkedreceiptid=e.linkedreceiptid,this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods(),this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=c.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/production/batchorder/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","WorkOrder","No","swalNewActionTitle","swalNewActionText","NOComponents","StopSelesErrorMsg","CostPostingPeriodMessage","LinkedVoucherIsPostedMsg","InValidQty","QtyIsValidWithAvailableQty","InValidNumberOfBatch","RelatedwithSerialsOrBatches","EmpAddedPreviously"]).subscribe(e=>{document.title=e.WorkOrder,this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.No=e.No,this.NOComponents=e.NOComponents,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.MultiPayErrorMsg=e.MultiPayErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.Close=e.Close,this.DeliverDateMsg=e.DeliverDateMsg,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.StopSelesErrorMsg=e.StopSelesErrorMsg,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.LinkedVoucherIsPostedMsg=e.LinkedVoucherIsPostedMsg,this.InValidQty=e.InValidQty,this.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.EmpAddedPreviously=e.EmpAddedPreviously})})}ngOnInit(){}SetInitialMethods(){this._Receipt=new x.tY,this.GetEmployeesList(),this.GetCurrentUserSetting(),this.GetBranchList(),this.GetPaymentTypeList(),this.GetSalesTypesList(),this.ConfigurationParametersSet(),this.DriverUsersByCarID(),this.CarByDriverID(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetWorkOrderStatusList(),this.GetProductionLineList(),this.GetexpenseList(),this.GetHrEmployeesList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetWorkOrderStatusList(){this._ProductionService.GetWorkOrderStatusList().subscribe(e=>{this.WOrkStatusList=e,null!=this._Receipt.id&&0!=this._Receipt.id||(this._Receipt.wostatusid=e[0].id),this.cd.markForCheck()})}GetProductionLineList(){this._ProductionService.GetSubsidaryProductionLine(this.subsidiaryID).subscribe(e=>{this.ProductionLineList=e,this.cd.markForCheck()})}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Je.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt()})}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),null!=this.linkedreceiptid&&0!=this.linkedreceiptid&&null!=this.linkedreceiptid&&this._ReceiptSharedService.GetReceiptAndDetailsByID(this.linkedreceiptid).subscribe(e=>{null!=e.receipt&&(this._Receipt.id=0,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=this.BasicCodeReceipt,this._Receipt.branch_id=e.receipt.branch_id,this.linkedreceiptcode=e.receipt.code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this.PriceListItemsOnly=e.receipt.pricelistitemsonly),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.supplier_name=null!=this._Receipt.supplieraccount_id?"ar"==this.lang?{supplier_name:e.receipt.supplier_namear}:{supplier_name:e.receipt.supplier_name}:null,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcaccountcode=e.receipt.lcaccountcode,this._Receipt.lcaccountname=null!=this._Receipt.lcaccountid?"ar"==this.lang?{lcaccountname:e.receipt.lcaccountnamear}:{lcaccountname:e.receipt.lcaccountname}:null,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.transaction_move=this.Transaction_move,e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.transaction_move=this.Transaction_move,e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),this._LinkedReceipt=new x.Cb,this._LinkedReceipt.receiptid=e.receipt.id,this._LinkedReceipt.code=e.receipt.code,this._LinkedReceipt.branch_id=e.receipt.branch_id,this._LinkedReceipt.entry_no=e.receipt.entry_no,this._LinkedReceipt.subsidiaryid=this.subsidiaryID,this._LinkedReceipt.fire=1,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.GetLinkedReceipt(this._Receipt.linkedreceipts.length-1),this.PaymentTypeList.find(e=>e.id==this._Receipt.payment_type),this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.CheckValidDateBySubsidaryID(),null!=this._Receipt.branch_id&&this.GetReceiptEntryCode(),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.cd.markForCheck())}),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt))},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(e=>{null!=e.receipt&&(this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this.PriceListItemsOnly=e.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:e.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.cashcustomername_ar:e.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commisionaccountfieldname="ar"==this.lang?{commisionaccountfieldname:e.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:e.receipt.commisionaccount_sug},this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commisionaccountfieldname1="ar"==this.lang?{commisionaccountfieldname1:e.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:e.receipt.commisionaccount1_sug},this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.costcenterfieldname=null!=this._Receipt.costcenterid?"ar"==this.lang?{costcenterfieldname:e.receipt.costcenter_sug_ar}:{costcenterfieldname:e.receipt.costcenter_sug}:null,this._Receipt.classid=e.receipt.classid,this._Receipt.classfieldname=null!=this._Receipt.classid?"ar"==this.lang?{classfieldname:e.receipt.classes_sug_ar}:{classfieldname:e.receipt.classes_sug}:null,this._Receipt.locationid=e.receipt.locationid,this._Receipt.locationfieldname=null!=this._Receipt.locationid?"ar"==this.lang?{locationfieldname:e.receipt.location_sug_ar}:{locationfieldname:e.receipt.location_sug}:null,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.departmentfieldname=null!=this._Receipt.departmentid?"ar"==this.lang?{departmentfieldname:e.receipt.department_sug_ar}:{departmentfieldname:e.receipt.department_sug}:null,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.totalexpensses=e.receipt.totalexpensses,this._Receipt.totalexpensses_foreign=e.receipt.totalexpensses_foreign,this._Receipt.totallaborers=e.receipt.totallaborers,this._Receipt.totallaborers_foreign=e.receipt.totallaborers_foreign,this._Receipt.details=e.items,this._Receipt.details.forEach(e=>{e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this._Receipt.itemscomponent=e.itemcomponents,this._Receipt.itemscomponent.forEach(e=>{e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),this.ItemUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptexpenses=e.receiptexpenses,this._Receipt.receiptexpenses.forEach(e=>{e.accountcode={accountcode:e.accountcode},e.exchangerate=Number(e.exchangerate.toPrecision()),this.addItemIfNotInList(e)}),this._Receipt.receiptlaborers=e.receiptlaborers,this._Receipt.receiptlaborers.forEach(e=>{e.timeString=this.formatMinutesToHoursMinutes(e.numberofhours)}),this.ItemsComponentList=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batches.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),this.CheckShowWarrantyDateCols(),this.entry_no=this._Receipt.entry_no,this.originalSalesPrice=this._Receipt.customersalesprice,this.VouchersLinkedCount>0?(this.ShowModeReceipt=!0,this.ShowPopUpLinkedVoucherIsPosted()):1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,0!=this.Transaction_move&&this._Receipt.details.filter(e=>e.transaction_move!=this.Transaction_move).length>0?(this.CheckBalanceForItemInStore(0,!0),this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.CalculateTotalCost()):(this.OnSelectedItem(this._Receipt.details[0],0,"selected",!0),this.CalculateTotalCost()),this.cd.markForCheck())})}CheckPre_SaveReceipt(e){if(e.form.valid)if(0!=this.ValidPeriod)if(0!=this.deliverdateValid){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++)if(this._Receipt.details[e].transaction_move=this.Transaction_move,null==this._Receipt.details[e].item_id)this._Receipt.details.splice(e,1),e--;else{if(!(this._Receipt.details[e].qty>0))return void this.toastr.error(this.qtyZeroErrorSaveMsg);0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].transaction_move=this.Transaction_move,this._Receipt.itemscomponent[e].qty>0){0!=this._Receipt.value?(this._Receipt.itemscomponent[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty%(1/0)||0,this._Receipt.itemscomponent[e].h_discount_percentage=100*(this._Receipt.itemscomponent[e].h_discount_value/(this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty)%(1/0)||0)):(this._Receipt.itemscomponent[e].h_discount_value=0,this._Receipt.itemscomponent[e].h_discount_percentage=0);{let t=this.ItemComponentUnitsList.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._Receipt.itemscomponent[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.itemscomponent[e].conv/t.conv):this._Receipt.itemscomponent[e].conv,this._Receipt.itemscomponent[e].final_conv=0==this._Receipt.itemscomponent[e].final_conv?1:this._Receipt.itemscomponent[e].final_conv}}this.CheckBalanceForItemInStore(0,!0,!0)}else this.toastr.error(this.DeliverDateMsg);else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status?6:this._Receipt.receiptexpenses.length>0?4:1}SaveReceipt(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();let e=[];if(this._Receipt.details.forEach(t=>{3==t.isrequireserial&&(t.allowqtyselectforitem=!0,0==t.batcheslist.length?(t.allowqtyselectforitem=!1,e.push(!1)):0==t.validrow&&(t.allowqtyselectforitem=!1,e.push(!0)))}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.details.forEach(t=>{if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,e.push(!1);else{let n=0;t.batcheslist.forEach(e=>{var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0});let i=this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id);n!=t.qty*(t.conv*i[0].finalconv/i[0].conv)&&(t.allowqtyselectforitem=!1,e.push(!1))}}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);console.log("con..."),this.DuringSaveDisable=!0;for(let t=0;t<this._Receipt.linkedreceipts.length;t++)0==this._Receipt.linkedreceipts[t].fire&&(this._Receipt.linkedreceipts.splice(t,1),t--);""==this._Receipt.customerdeliverdate||null==this._Receipt.customerdeliverdate||""==this._Receipt.entry_time||null==this._Receipt.entry_time||""!=this._Receipt.customerdeliverdate_time&&null!=this._Receipt.customerdeliverdate_time||(this._Receipt.customerdeliverdate_time=this._Receipt.entry_time),null==this._Receipt.id||0==this._Receipt.id?this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,null!=this.linkedreceiptid&&0!=this.linkedreceiptid&&null!=this.linkedreceiptid&&this._ReceiptSharedService.UpdateSalesState(this.linkedreceiptid,this.linkedreceiptcode).subscribe(e=>{console.log(e,"state")}),this._router.navigate(["/page/production/batchorder/"+this.ReceiptID]).then(()=>{window.location.reload()})}):(this._Receipt_h_Edit=new x.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/production/batchorder/"+this.ReceiptID]).then(()=>{window.location.reload()})}))}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e?this.ChangeEntryDate():"DeliverDate"==e&&this.CheckDeliverDate()},1e3*t)}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&We().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/production/batchorder/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}changesalesprice(e){let t=JSON.parse(localStorage.getItem("SalesPricePolicy"));null!=t&&null!=t&&localStorage.removeItem("SalesPricePolicy"),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?We().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?(this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.GetDefaultStoreCostCenterByBranch(!0,!1)):this._Receipt.customersalesprice=this.originalSalesPrice,localStorage.setItem("SalesPricePolicy",JSON.stringify({SalesPricePolicy:this._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("SalesPricePolicy",JSON.stringify({SalesPricePolicy:this._Receipt.customersalesprice})))}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)We().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetDefaultStoreCostCenterByBranch(e=!1,t=!0){1==t&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==e&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{if(this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid){if(0==this._Receipt.details.length){this._BatchOrderDetailsReceipt=new x.hm,this._BatchOrderDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._BatchOrderDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._BatchOrderDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}}1==t&&this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this._Receipt.itemscomponent.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForItemInStore(0,!0))}null!=this.StoreCostCenterSetting.costcenterid&&(this._Receipt.costcenterid=this.StoreCostCenterSetting.costcenterid,this._Receipt.costcenterfieldname={costcenterfieldname:"ar"==this.lang?this.StoreCostCenterSetting.costcentername_ar:this.StoreCostCenterSetting.costcentername}),this.cd.markForCheck()})}GetPaymentTypeList(){this._ReceiptSharedService.PaymentType(this.subsidiaryID).subscribe(e=>{this.PaymentTypeList=e,this.PaymentTypeList.length>0&&(this.MultiPaymentMethodsList=this.PaymentTypeList.filter(e=>"multi"!=e.name.toLowerCase()&&"unpaid"!=e.name.toLowerCase()&&"credit"!=e.name.toLowerCase())),0==this.ReceiptID&&this.PaymentTypeList.length>0&&(this._Receipt.payment_type=this.PaymentTypeList[0].id),this.cd.markForCheck()})}GetEmployeesList(){this._ReceiptSharedService.SalesMen_CasherUsers(this.subsidiaryID,this.ReceiptID).subscribe(e=>{if(this.EmployeesList=e,0==this.ReceiptID&&this.EmployeesList.length>0){let e=this.EmployeesList.find(e=>e.id==this._UserLogin.id);this._Receipt.empoyee_id=null!=e&&null!=e?this._UserLogin.id:null}this.cd.markForCheck()})}GetSalesTypesList(){this._ReceiptSharedService.GetSalesTypeBySubId(this.subsidiaryID).subscribe(e=>{this.SalesTypesList=e,this.cd.markForCheck()})}ConfigurationParametersSet(){this._ReceiptSharedService.ConfigurationParameter(this.subsidiaryID).subscribe(e=>{if(e.length>0){let t=e.find(e=>"IsDineIn"==e.name);null!=t&&"true"!=t.value&&(this.OrderTypeList=this.OrderTypeList.filter(e=>3!=e.id));let n=e.find(e=>"IsSalesManImplemented"==e.name);null!=n&&"true"==n.value&&(this.IsSalesManImplemented=!0),this.cd.markForCheck()}})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e,this.SetCustomerSalesPriceList()})}SetCustomerSalesPriceList(){let e=this.CurrentUserSetting.salespricepolicy;if(null==e||0==e){if(this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"},{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"},{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}],0==this.ReceiptID){let e=JSON.parse(localStorage.getItem("SalesPricePolicy"));this._Receipt.customersalesprice=null!=e&&null!=e?parseInt(e.SalesPricePolicy):this.CustomerSalesPriceList[0].id}}else 1==e?this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"}]:2==e?this.CustomerSalesPriceList=[{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"}]:3==e?this.CustomerSalesPriceList=[{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"}]:4==e?this.CustomerSalesPriceList=[{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"}]:5==e&&(this.CustomerSalesPriceList=[{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}]),this._Receipt.customersalesprice=this.CustomerSalesPriceList[0].id;this.originalSalesPrice=this._Receipt.customersalesprice}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e,this.cd.markForCheck()})}GetSubsaidarySetting(){this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(e=>{null!=e&&(this.subsaidarySetting=e[0],this.cd.markForCheck())})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeCurrency(e){if(this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.Calculate_Total_Tax_Net(),this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}ChangeEntryDate(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){3!=this.CurrentUserSetting.changesalespricemode?(this.CheckValidDateBySubsidaryID(),this.CheckDeliverDate()):3==this.CurrentUserSetting.changesalespricemode&&(this.spinner.show(),this.GetItem_costprice(0,!0,"ChangeEntryDate"));for(let e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}CheckDeliverDate(){if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=this._Receipt.customerdeliverdate&&""!=this._Receipt.customerdeliverdate&&null!=this._Receipt.customerdeliverdate){let e=y(`${this._Receipt.entry_date} ${this._Receipt.entry_time}`,"YYYY-MM-DD HH:mm").format(),t=y(`${this._Receipt.customerdeliverdate} ${this._Receipt.customerdeliverdate_time}`,"YYYY-MM-DD HH:mm").format();0==y(e).isSameOrBefore(t)?(this.deliverdateValid=!1,this.toastr.error(this.DeliverDateMsg)):this.deliverdateValid=!0}}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.cd.markForCheck(),this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod();this.cd.markForCheck()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;We().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){We().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpLinkedVoucherIsPosted(){We().fire({title:this.warning,text:this.LinkedVoucherIsPostedMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?We().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?(this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetDefaultStoreCostCenterByBranch(!0,!1)):this.GetDefaultStoreCostCenterByBranch(!1)}):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetDefaultStoreCostCenterByBranch(!0,!1))}GetCustomerAccountsList(e=""){this._CustomerService.CustomerAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e,t){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,this.cd.markForCheck()})}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}onClearItems(e){let t=this._Receipt.details[e];if(3==t.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));if(null!=this._Receipt.details[e].id){let t=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[e].rowno=t+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopsales?(t==this._Receipt.details.length-1&&this.AddItems(),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new x.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopSelesErrorMsg))}GetItemsList(e=""){0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].lowestsaleprice=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{0==n.itemunits.length?(this._Receipt.details[t]=new x.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)):3==e.item_type&&0==n.itemcomponents.length?(this._Receipt.details[t]=new x.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NOComponents)):(this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].qty=1,this._Receipt.details[t].haswarrenty=n.item.haswarrenty,this._Receipt.details[t].warrantydate=n.item.haswarrenty?this.getwarrantydateDate():null,this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=e.selling_unitid,this.CheckShowWarrantyDateCols(),n.componentsunits.length>0&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.componentsunits)),n.itemcomponents.length>0&&n.itemcomponents.forEach(e=>{let n=new x.hm;n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode=e.itemcode,n.unit_id=e.itemcomponentunitid,n.qty=e.itemcomponentqty,n.basicqtycomponent=e.itemcomponentqty,n.conv=e.itemcomponentconv,n.itemcode=e.itemcode,n.price=0,n.total=n.price*n.qty,n.store_id=this._Receipt.details[t].store_id,n.transaction_move=this.Transaction_move,n.item_type=e.item_type,n.storecode=null!=this._Receipt.details[t].storecode?this._Receipt.details[t].storecode.code:null,n.parentrowno=this._Receipt.details[t].rowno,this._Receipt.itemscomponent.push(n)}),this.ChangeItemUnits(e.selling_unitid,t)),this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,n,e,this._Receipt.customersalesprice).subscribe(e=>{e.customerprice.length>0&&(this._Receipt.details[t].price=e.customerprice[0].saleprice,5==e.customerdiscount.customersalesprice?(this._Receipt.details[t].conv=e.customerprice[0].itemconv,this._Receipt.details[t].discount_value=e.customerprice[0].discountvalue,this._Receipt.details[t].discount_percent=e.customerprice[0].discountpercentage,this._Receipt.details[t].unit_id=e.customerprice[0].itemunitid):(this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv),this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteValuesItemsRow(t),3==this.CurrentUserSetting.changesalespricemode?this.GetItem_costprice(t):this._Receipt.details[t].lowestsaleprice=this._Receipt.details[t].price)}),this.cd.markForCheck()}ChangePackItem(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,this._Receipt.customersalesprice).subscribe(i=>{i.customerprice.length>0&&(t=i.customerprice[0].saleprice,5==i.customerdiscount.customersalesprice&&(n=i.customerprice[0].itemconv),this._Receipt.details[e].price=t*this._Receipt.details[e].conv/n,this.OnSelectedItem(this._Receipt.details[e],e),this.CalaculteValuesItemsRow(e),3==this.CurrentUserSetting.changesalespricemode?this.GetItem_costprice(e):this._Receipt.details[e].lowestsaleprice=this._Receipt.details[e].price)}),this.cd.markForCheck()},1e3)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{if(this.timeout=null,3==this._Receipt.details[e].item_type)if(this.ItemsComponentList=new Array,null!=this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id){let n=this._ReceiptOriginal.details.find(e=>e.id==t.id).qty,i=this._ReceiptOriginal.itemscomponent.find(n=>n.finishedreceipt_did==t.id&&n.id==this._Receipt.itemscomponent[e].id).qty;this._Receipt.itemscomponent[e].basicqtycomponent=i/n,this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e])}}else if(null==this._Receipt.details[e].id){let t=this._Receipt.details[e];for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[e].id&&this._Receipt.itemscomponent[e].parentrowno==t.rowno&&(this._Receipt.itemscomponent[e].qty=this._Receipt.itemscomponent[e].basicqtycomponent*t.qty,this.ItemsComponentList.push(this._Receipt.itemscomponent[e]))}this.StockBalances(e),this.CheckBalanceForItemInStore(e),this.CalaculteValuesItemsRow(e),this.CalculateTotalCost()},1e3)}ChangePrice(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{if(this.timeout=null,null==this._Receipt.details[e].id)this.CalaculteValuesItemsRow(e);else if(2==this.CurrentUserSetting.changesalespricemode&&null!=this._Receipt.details[e].id){let t=0,n=0,i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);n=i[0].conv,this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,this._Receipt.customersalesprice).subscribe(i=>{i.customerprice.length>0&&(t=i.customerprice[0].saleprice,5==i.customerdiscount.customersalesprice&&(n=i.customerprice[0].itemconv),this._Receipt.details[e].lowestsaleprice=t*this._Receipt.details[e].conv/n,this._Receipt.details[e].price<this._Receipt.details[e].lowestsaleprice&&(this.RForm.controls["item_price"+e].setErrors({customMin:!0}),this.cd.markForCheck()),this.CalaculteValuesItemsRow(e))})}else 3==this.CurrentUserSetting.changesalespricemode&&null!=this._Receipt.details[e].id?(this.GetItem_costprice(e),this.CalaculteValuesItemsRow(e)):this.CalaculteValuesItemsRow(e)},500)}GetItem_costprice(e,t=!1,n=""){null!=this._Receipt.details[e].item_id&&null!=this._Receipt.details[e].unit_id?this._ReceiptSharedService.GetItemCostAtDateStoreconv(this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,this._Receipt.details[e].conv,this._Receipt.details[e].store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(n=>{n.length>0?(this._Receipt.details[e].lowestsaleprice=n[0].avgcost,this._Receipt.details[e].price<this._Receipt.details[e].lowestsaleprice&&(this.RForm.controls["item_price"+e].setErrors({customMin:!0}),this.cd.markForCheck())):(this._Receipt.details[e].lowestsaleprice=0,this.cd.markForCheck()),1==t&&(e+1<this._Receipt.details.length?this.GetItem_costprice(e+1,!0):(this.spinner.hide(),this.CheckValidDateBySubsidaryID(),this.CheckDeliverDate(),this.CheckBalanceForItemInStore(0,!0)))}):1==t&&(e+1<this._Receipt.details.length?this.GetItem_costprice(e+1,!0):(this.spinner.hide(),this.CheckValidDateBySubsidaryID(),this.CheckDeliverDate(),this.CheckBalanceForItemInStore(0,!0)))}OnSelectedItem(e=null,t=null,n="",i=!1){if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){let t=e;if(null!=t.id)for(let e=0;e<this._Receipt.itemscomponent.length;e++)this._Receipt.itemscomponent[e].finishedproductid==t.item_id&&this._Receipt.itemscomponent[e].finishedreceipt_did==t.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[e]);else null==t.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id&&null==e.id&&e.parentrowno==t.rowno))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&(this.CheckBalanceForItemInStore(t),this.CalculateTotalCost())}AddItems(){this._BatchOrderDetailsReceipt=new x.hm,this._Receipt.details.length>0?(this._BatchOrderDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._BatchOrderDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id?(this._BatchOrderDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._BatchOrderDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._BatchOrderDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._BatchOrderDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode),this._BatchOrderDetailsReceipt.transaction_move=this.Transaction_move;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._BatchOrderDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._BatchOrderDetailsReceipt),this.cd.markForCheck()}DeleteItems(e){this.itemqtyview=!1;let t=this._Receipt.details[e];if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(e=>e.finishedproductid==t.item_id).length>0)if(null!=t.id)for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno));1==this._Receipt.details.filter(e=>e.item_id==t.item_id).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id)),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this.OnSelectedItem(null),this.cd.markForCheck()}OnEditItemsNotes(e,t){this.DescriptionItem=new x.tH,1==this.IsSalesManImplemented?this._ReceiptSharedService.SalesMenUsers(this.subsidiaryID).subscribe(n=>{this.SalesManlist=[],this.SalesManlist=n,this.DescriptionItem.index=e,this.DescriptionItem.detailshtml=this._Receipt.details[e].detailshtml,this.DescriptionItem.customitemname=this._Receipt.details[e].customitemname,this.OpenModal(t)}):(this.DescriptionItem.index=e,this.DescriptionItem.detailshtml=this._Receipt.details[e].detailshtml,this.DescriptionItem.customitemname=this._Receipt.details[e].customitemname,this.OpenModal(t))}onContentChanged(e){this._Receipt.details[this.DescriptionItem.index].notes=e.text}SaveNotes(){this._Receipt.details[this.DescriptionItem.index].customitemname=this.DescriptionItem.customitemname,this._Receipt.details[this.DescriptionItem.index].detailshtml=this.DescriptionItem.detailshtml,this._Receipt.details[this.DescriptionItem.index].salesmanid=this.DescriptionItem.salesmanid,this.CloseModal()}Checkwarrantydate(e,t){Date.parse(e.toString())>Date.parse(this._Receipt.entry_date.toString())?(this._Receipt.details[t].warrantydate=e.target.value,this.cd.markForCheck()):(this.toastr.error(this.ItemWarrantyValidMsg),this._Receipt.details[t].warrantydate=null)}OnSerialItems(e,t){var n;if(this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)return void this.toastr.error(this.InValidQty);this.requiredserial=this._Receipt.details[e].isrequireserial;let i=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),r=this._Receipt.details[e].conv*i[0].finalconv/i[0].conv;this._batchqty=this._Receipt.details[e].qty*r,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(n=this._Receipt.id)&&void 0!==n?n:0,this._Receipt.entry_date).subscribe(n=>{this.BatchesListForEatchRow=[],n.seriallist.forEach(t=>{let n=this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id);null!=n&&n.length>1&&n.forEach(e=>{let n=e.batcheslist.filter(e=>e.batchno==t.serial&&e.previtemserialid==t.id);null!=n&&n.length>0&&(t.availableqty=(t.availableqty/r-n[0].qty).toFixed(2))})});let i=[];if(i=n.seriallist,console.log(n.seriallist,"d.seriallist"),this._Receipt.details[this.selectedindex].batcheslist.forEach(e=>{let t=i.findIndex(t=>t.id==e.previtemserialid);-1!=t&&(e.inv_receipt_d_id>0?null==this._Receipt.details[this.selectedindex].validrow||1==this._Receipt.details[this.selectedindex].validrow?(i[t].qty=e.qty,i[t].oldqty=e.qty,this._Receipt.details[this.selectedindex].validrow=!0):i[t].availableqty=i[t].availableqty+e.qty:1==this._Receipt.details[this.selectedindex].validrow&&(i[t].qty=e.qty,i[t].oldqty=e.qty,i[t].availableqty=i[t].availableqty-e.qty,this._Receipt.details[this.selectedindex].validrow=!0))}),this._Receipt.id>0)for(let e=0;e<i.length;e++)null==i[e].qty&&0==i[e].availableqty||this.BatchesListForEatchRow.push(i[e]);else this.BatchesListForEatchRow=[...i];this.OpenModal(t)})}saveserial(e){if(e.valid){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Xe.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}ChangeBatchQty(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}dealWith(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}CheckShowWarrantyDateCols(){let e=this._Receipt.details.filter(e=>1==e.haswarrenty);this.ShowWarrantyDateCols=e.length>0,this.cd.markForCheck()}CalaculteValuesItemsRow(e,t="percent"){this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;let n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}ReCalaculteValuesChangeItemsRow(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}onFocusInCostCenter(e){this.GetCostCenterList("")}CostCenterChangeSearch(e,t){this.GetCostCenterList(e.query.trim())}CostCenterSelectEvent(e){this._Receipt.costcenterid=e.id}GetCostCenterList(e=""){this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,e,this._Receipt.vendor_id).subscribe(e=>{this.CostCenterList=[],this.CostCenterList=e,this.CostCenterList.length>0&&this.setFieldNameForArray(this.CostCenterList,"costcenter"),this.cd.markForCheck()})}onFocusInLocations(e){this.GetLocationsList("")}LocationsChangeSearch(e,t){this.GetLocationsList(e.query.trim())}LocationsSelectEvent(e){this._Receipt.locationid=e.id}GetLocationsList(e=""){this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.LocationList=[],this.LocationList=e,this.LocationList.length>0&&this.setFieldNameForArray(this.LocationList,"location"),this.cd.markForCheck()})}onFocusInClasses(e){this.GetClassesList("")}ClassesChangeSearch(e,t){this.GetClassesList(e.query.trim())}ClassesSelectEvent(e){this._Receipt.classid=e.id}GetClassesList(e=""){this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.ClassList=[],this.ClassList=e,this.ClassList.length>0&&this.setFieldNameForArray(this.ClassList,"class"),this.cd.markForCheck()})}onFocusInDepartment(e){this.GetDepartmentList("")}DepartmentChangeSearch(e,t){this.GetDepartmentList(e.query.trim())}DepartmentSelectEvent(e){this._Receipt.departmentid=e.id}GetDepartmentList(e=""){this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,e).subscribe(e=>{this.CostCenterList=[],this.DepartmentList=[],this.DepartmentList=e,this.DepartmentList.length>0&&this.setFieldNameForArray(this.DepartmentList,"department"),this.cd.markForCheck()})}onFocusInTransactionAccount(e,t=null){this.GetTransactionAccountList("",t)}TransactionAccountChangeSearch(e,t){this.GetTransactionAccountList(e.query.trim(),t)}TransactionAccountsSelectEvent(e,t){"commisionaccount"==t?this._Receipt.commisionaccountid=e.accountid:this._Receipt.commisionaccountid1=e.accountid}GetTransactionAccountList(e="",t=null){this._ReceiptSharedService.GetTransactionAccountList(this.subsidiaryID,e).subscribe(e=>{this.TransactionAccountList=[],this.TransactionAccountList=e,this.TransactionAccountList.length>0&&this.setFieldNameForArray(this.TransactionAccountList,t),this.cd.markForCheck()})}ChangeCommissionType(e){1==e?null==this._Receipt.commissiontype?(this._Receipt.commission=0,this._Receipt.commissionnet=0):this.CalculateCommition1():2==e&&(null==this._Receipt.commissiontype1?(this._Receipt.commission1=0,this._Receipt.commissionnet1=0):this.CalculateCommition2())}CalculateCommition1(){this._Receipt.netvalue>0&&(1==this._Receipt.commissiontype?this._Receipt.commissionnet=Number(this._Receipt.commission.toFixed(this._Currencyprecision)):0==this._Receipt.commissiontype&&(this._Receipt.commissionnet=Number(((this._Receipt.netvalue-this._Receipt.deliveryfees)*this._Receipt.commission/100).toFixed(this._Currencyprecision))))}CalculateCommition2(){this._Receipt.netvalue>0&&(1==this._Receipt.commissiontype1?this._Receipt.commissionnet1=Number(this._Receipt.commission1.toFixed(this._Currencyprecision)):0==this._Receipt.commissiontype1&&(this._Receipt.commissionnet1=Number(((this._Receipt.netvalue-this._Receipt.deliveryfees)*this._Receipt.commission1/100).toFixed(this._Currencyprecision))))}setFieldNameForArray(e,t=null){for(let n=0;n<e.length;n++){let i=e[n];"commisionaccount"==t?i.commisionaccountfieldname="ar"==this.lang?i.sugar:i.sug:"commisionaccount2"==t?i.commisionaccountfieldname1="ar"==this.lang?i.sugar:i.sug:"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t&&(i.departmentfieldname="ar"==this.lang?i.sugar:i.sug)}}CarByDriverID(){this._ReceiptSharedService.CarByDriverID(this.subsidiaryID,this._Receipt.driverid).subscribe(e=>{this.CarsList=e,this.CarsList.length>0&&null!=this._Receipt.driverid&&(this._Receipt.carid=this.CarsList[0].id),this.cd.markForCheck()})}DriverUsersByCarID(){this._ReceiptSharedService.DriverUsersByCarID(this.subsidiaryID,this._Receipt.carid).subscribe(e=>{this.DriversList=e,this.DriversList.length>0&&null!=this._Receipt.carid&&(this._Receipt.driverid=this.DriversList[0].id),this.cd.markForCheck()})}ChangeDriver(){this.CarByDriverID(),null==this._Receipt.driverid&&(this._Receipt.carid=null,this.DriverUsersByCarID())}ChangeCar(){this.DriverUsersByCarID(),null==this._Receipt.carid&&(this._Receipt.driverid=null,this.DriverUsersByCarID())}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new x.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(t.branch_id,t.code,t.entry_no).subscribe(t=>{if(null==t.receipt.id)this.spinner.hide(),this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(t.items.length>0)if(1==this._Receipt.linkedreceipts.length&&(this._Receipt.subsidiaryid=t.receipt.subsidiaryid,this._Receipt.customersalesprice=null!=t.receipt.customersalesprice?t.receipt.customersalesprice:this._Receipt.customersalesprice,this._Receipt.payment_type=null!=t.receipt.payment_type?t.receipt.payment_type:this._Receipt.payment_type,this._Receipt.vendor_id=null!=t.receipt.vendor_id?t.receipt.vendor_id:this._Receipt.vendor_id,this._Receipt.cashcustomerid=null!=t.receipt.cashcustomerid?t.receipt.cashcustomerid:this._Receipt.cashcustomerid,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:t.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.vendornamear:t.receipt.vendorname,this._Receipt.vendor_balance=null!=t.receipt.vendor_balance?t.receipt.vendor_balance:this._Receipt.vendor_balance,this.PriceListItemsOnly=t.receipt.pricelistitemsonly),null!=this._Receipt.cashcustomerid&&(this._Receipt.cashcustomer_vendor_code={phonenumber:t.receipt.phonenumber},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t.receipt.cashcustomername_ar:t.receipt.cashcustomername,this.PriceListItemsOnly=!1),this._Receipt.currency_id=t.receipt.currency_id,this._Receipt.currency_rate=t.receipt.currency_rate,this._Receipt.empoyee_id=null!=t.receipt.empoyee_id?t.receipt.empoyee_id:this._Receipt.empoyee_id,this._Receipt.memo=t.receipt.memo,this._Receipt.reference_no=t.receipt.reference_no,this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency),0==this.PriceListItemsOnly||t.receipt.vendor_id==this._Receipt.vendor_id){this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=t.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id;for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);t.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),t.itemcomponents.length>0&&(this.ItemComponentsLinkedReceipt=t.itemcomponents,81==t.receipt.code&&(this.ItemComponentsLinkedReceipt=this.ItemComponentsLinkedReceipt.filter(e=>-1==e.transaction_move)),this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(t.componentsunits)),this.ItemLinkedReceipt=t.items,81==t.receipt.code&&(this.ItemLinkedReceipt=this.ItemLinkedReceipt.filter(e=>-1==e.transaction_move)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0])}else this._Receipt.linkedreceipts[e].fire=0,this.toastr.info(this.CustomerPricelistMsg);else this.spinner.hide(),this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){this._BatchOrderDetailsReceipt=new x.hm;let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv&&e.price==t.price);if(-1==n){this._Receipt.details.length>0?(this._BatchOrderDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._BatchOrderDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._BatchOrderDetailsReceipt.store_id=t.store_id,this._BatchOrderDetailsReceipt.storecode={code:t.storecode}),this._BatchOrderDetailsReceipt.item_id=t.item_id,this._BatchOrderDetailsReceipt.itemcode={code:t.itemcode},this._BatchOrderDetailsReceipt.itemname=t.itemname,this._BatchOrderDetailsReceipt.itemname_ar=t.itemname_ar,this._BatchOrderDetailsReceipt.unit_id=t.unit_id,this._BatchOrderDetailsReceipt.qty=t.qty,this._BatchOrderDetailsReceipt.transaction_move=this.Transaction_move,this._BatchOrderDetailsReceipt.item_type=t.item_type,this._BatchOrderDetailsReceipt.notes=t.notes,this._BatchOrderDetailsReceipt.haswarrenty=t.haswarrenty,this._BatchOrderDetailsReceipt.warrantydate=t.warrantydate,this._BatchOrderDetailsReceipt.detailshtml=t.detailshtml,this._BatchOrderDetailsReceipt.customitemname=t.customitemname,this._BatchOrderDetailsReceipt.salesmanid=t.salesmanid,this._BatchOrderDetailsReceipt.price=0!=t.priceafterincrease&&null!=t.priceafterincrease?t.priceafterincrease:t.price,this._BatchOrderDetailsReceipt.discount_percent=t.discount_percent,this._BatchOrderDetailsReceipt.discount_value=t.discount_value,this._BatchOrderDetailsReceipt.total=t.total;let n=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._BatchOrderDetailsReceipt.rowno=n+1,3==t.item_type&&this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id).forEach(e=>{let t=new x.hm;t.store_id=this._BatchOrderDetailsReceipt.store_id,t.storecode=this._BatchOrderDetailsReceipt.storecode.code,t.item_id=e.item_id,t.itemcode=e.itemcode,t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.unit_id=e.unit_id,t.conv=e.conv,t.qty=e.qty,t.basicqtycomponent=e.qty/this._BatchOrderDetailsReceipt.qty||0,t.price=e.price,t.discount_value=e.discount_value,t.discount_percent=e.discount_percent,t.total=e.total,t.transaction_move=this.Transaction_move,t.finishedproductid=e.finishedproductid,t.item_type=e.item_type,t.notes=e.notes,t.haswarrenty=e.haswarrenty,t.warrantydate=e.warrantydate,t.detailshtml=e.detailshtml,t.customitemname=e.customitemname,t.salesmanid=e.salesmanid,t.parentrowno=this._BatchOrderDetailsReceipt.rowno,this._Receipt.itemscomponent.push(t)});let i=this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id);this._BatchOrderDetailsReceipt.conv=t.conv,this._BatchOrderDetailsReceipt.price=this._BatchOrderDetailsReceipt.price*this._BatchOrderDetailsReceipt.conv/i[0].conv,this._BatchOrderDetailsReceipt.lowestsaleprice=this._BatchOrderDetailsReceipt.price,this._Receipt.details.push(this._BatchOrderDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemFinished())}else{if(this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty),3==t.item_type){let e=this.ItemComponentsLinkedReceipt.filter(e=>e.finishedproductid==t.item_id&&e.finishedreceipt_did==t.id);if(null!=this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)if(this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id){var i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id);this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty)}}else if(null==this._Receipt.details[n].id){let t=this._Receipt.details[n];for(let n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&null==this._Receipt.itemscomponent[n].id&&this._Receipt.itemscomponent[n].parentrowno==t.rowno&&(i=e.find(e=>e.item_id==this._Receipt.itemscomponent[n].item_id),this._Receipt.itemscomponent[n].qty=this._Receipt.itemscomponent[n].qty+parseFloat(i.qty))}}this.CalaculteValuesItemsRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemFinished())}}SetLinkReceiptItemFinished(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;let e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),3==this.CurrentUserSetting.changesalespricemode&&(this.spinner.show(),this.activeNav=1,this.GetItem_costprice(0,!0,"LinkReceipt")),this.StockBalances(0),this.CalculateTotalCost()}OnCustomerLinkedReceiptSet(e){this.LinkedReceiptListSelected=[],this.IxLRS=0,this.LinkedReceiptListSelected=e.list;for(let t=0;t<this.LinkedReceiptListSelected.length;t++)this._LinkedReceipt=new x.Cb,this._LinkedReceipt.code=this.LinkedReceiptListSelected[t].code,this._LinkedReceipt.entry_no=this.LinkedReceiptListSelected[t].entry_no,this._LinkedReceipt.subsidiaryid=this.subsidiaryID,this._LinkedReceipt.branch_id=this.LinkedReceiptListSelected[t].branch_id,this._LinkedReceipt.receiptid=this.LinkedReceiptListSelected[t].id,this._LinkedReceipt.parentreceiptid=this._Receipt.id,this._Receipt.linkedreceipts.push(this._LinkedReceipt);this.GetLinkedReceipt(this._Receipt.linkedreceipts.length-(this.IxLRS+1))}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}GetexpenseList(){this._ReceiptSharedService.GetAllExpensesTypeBySubSidary(this.subsidiaryID,2).subscribe(e=>{this.expenseList=e,this.cd.markForCheck()})}AddExpenses(){this._ReceiptExpenses=new x.th,this._ReceiptExpenses.currencyid=this._Receipt.currency_id,this._ReceiptExpenses.exchangerate=this._Receipt.currency_rate,this._ReceiptExpenses.expenseid=this.expenseList.length>0?this.expenseList[0].id:null,this._ReceiptExpenses.purchaseexpense=!1,this._ReceiptExpenses.expenseList=this.expenseList,this._Receipt.receiptexpenses.push(this._ReceiptExpenses),this.changeexpenses(this._Receipt.receiptexpenses.length-1),this.calculateTotalExpenses(),this.cd.markForCheck()}DeleteExpenses(e){this._Receipt.receiptexpenses.splice(e,1),this.calculateTotalExpenses(),this.cd.markForCheck()}changeexpenses(e=0){let t=this._Receipt.receiptexpenses[e].expenseid;null!=t?this._ReceiptSharedService.GetExpensesType(t).subscribe(t=>{t&&t.length>0?e>=0&&(this.expensesAccountid=t[0].accountid,this.accountcode=t[0].code,this._Receipt.receiptexpenses[e].accountid=t[0].accountid,this._Receipt.receiptexpenses[e].accountcode={accountcode:t[0].code},this._Receipt.receiptexpenses[e].value=parseFloat(t[0].value.toFixed(this._Currencyprecision)),this._Receipt.receiptexpenses[e].localvalue=parseFloat((parseFloat(t[0].value)/parseFloat(this._Receipt.receiptexpenses[e].exchangerate.toString())).toFixed(this._Currencyprecision))):(this._Receipt.receiptexpenses[e].accountid=null,this._Receipt.receiptexpenses[e].accountcode="",this._Receipt.receiptexpenses[e].value=parseFloat(1..toFixed(this._Currencyprecision)),this._Receipt.receiptexpenses[e].localvalue=this._Receipt.receiptexpenses[e].value,this._Receipt.receiptexpenses[e].exchangerate=this._Receipt.currency_rate),this.cd.markForCheck()}):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}changeexpensesCurrency(e,t=-1){let n=this.CurrencyList.find(t=>t.id==e.target.value);null!=n?this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,n.id,this._Receipt.entry_date,0).subscribe(e=>{e&&e.length>0?(this._Receipt.receiptexpenses[t].exchangerate=e[0].rate.toFixed(9),this.disablerate=!1):(this._Receipt.receiptexpenses[t].exchangerate=Number(1..toFixed(9)),this.disablerate=!0),this.ChangeExpensesValue(t),this.cd.markForCheck()}):(n=null,this._Receipt.receiptexpenses[t].exchangerate=null,this.cd.markForCheck())}ChangeExpensesValue(e){if(this._Receipt.receiptexpenses[e].exchangerate<=0)return this._Receipt.receiptexpenses[e].localvalue=0,void this.calculateTotalExpenses();this._Receipt.receiptexpenses[e].localvalue=parseFloat((this._Receipt.receiptexpenses[e].value/this._Receipt.receiptexpenses[e].exchangerate).toFixed(this._Currencyprecision)),this.calculateTotalExpenses(),this.cd.markForCheck()}ChangeExpenseslocalValue(e){if(this._Receipt.receiptexpenses[e].exchangerate<=0)return this._Receipt.receiptexpenses[e].value=0,void this.calculateTotalExpenses();this._Receipt.receiptexpenses[e].localvalue=parseFloat(this._Receipt.receiptexpenses[e].localvalue.toFixed(this._Currencyprecision)),this._Receipt.receiptexpenses[e].value=parseFloat((this._Receipt.receiptexpenses[e].localvalue*this._Receipt.receiptexpenses[e].exchangerate).toFixed(this._Currencyprecision)),this.calculateTotalExpenses(),this.cd.markForCheck()}GetAccount(e){this._ReceiptSharedService.GetAccount(this.subsidiaryID,e.query.trim()).subscribe(e=>{this.AccountList=[],this.AccountList=[...this.AccountList,...e],this.cd.markForCheck()})}onSelectAccount(e,t){this._Receipt.receiptexpenses[t].accountid=e.accountid;let n=e.accountid;null!=n&&null!=n&&""!=n||(this._Receipt.receiptexpenses[t].accountid=null),this.cd.markForCheck()}onFocusInAutoComplete(e){this.GetAccount(e)}calculateTotalExpenses(){this.TotalExpensses=0,this.TotalExpensses=this._Receipt&&this._Receipt.receiptexpenses?this._Receipt.receiptexpenses.map(e=>e.localvalue||0).reduce((e,t)=>e+t,0):0,this._Receipt.totalexpensses=Number(this.TotalExpensses.toFixed(this._Currencyprecision)),this._Receipt.totalexpensses_foreign=Number((this.TotalExpensses*this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}addItemIfNotInList(e){e.expenseList=[...this.expenseList],e.expenseList.some(t=>t.id===e.expenseid)||e.expenseList.push({id:e.expenseid,name:e.name,name_ar:e.name_ar})}GetHrEmployeesList(){this._employeeService.getHrEmployees(this.subsidiaryID,"").subscribe(e=>{this.HRemployeesList=e,console.log(this.HRemployeesList),this.cd.markForCheck()})}changeHrEmployee(e){let t=this._Receipt.receiptlaborers[e].employeeid;if(this._Receipt.receiptlaborers.some((n,i)=>n.employeeid==t&&i!=e))return this._Receipt.receiptlaborers[e].employeeid=null,this.cd.markForCheck(),this.toastr.error(this.EmpAddedPreviously);this._Receipt.receiptlaborers[e].employeeid=t;let n=this.HRemployeesList.find(e=>e.id==t);null!=n&&(this._Receipt.receiptlaborers[e].hourlywages=n.salary,this.ChangeLaborersValue(e)),this.cd.markForCheck()}ChangeLaborersValue(e){this._Receipt.receiptlaborers[e].value=parseFloat((this._Receipt.receiptlaborers[e].hourlywages/60*this._Receipt.receiptlaborers[e].numberofhours).toFixed(this._Currencyprecision)),this.calculateTotalLaborers(),this.cd.markForCheck()}AddLaborers(){this._ReceiptLaborers=new x.NM,this._ReceiptLaborers.employeeid=null,this._ReceiptLaborers.hourlywages=0,this._ReceiptLaborers.numberofhours=0,this._ReceiptLaborers.value=0,this._Receipt.receiptlaborers.push(this._ReceiptLaborers),this.calculateTotalLaborers(),this.cd.markForCheck()}DeleteLaborers(e){this._Receipt.receiptlaborers.splice(e,1),this.calculateTotalLaborers(),this.cd.markForCheck()}calculateTotalLaborers(){this.TotalLaborers=this._Receipt&&this._Receipt.receiptlaborers?this._Receipt.receiptlaborers.map(e=>e.value||0).reduce((e,t)=>e+t,0):0,this._Receipt.totallaborers=Number(this.TotalLaborers.toFixed(this._Currencyprecision)),this._Receipt.totallaborers_foreign=Number((this.TotalLaborers*this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net()}formatSpentHours(e,t){if(String(t).match(/^[0-9]*:?[0-5]?[0-9]?$/)){let[n,i]=t.split(":"),r="00",o="00";null!=i&&""!=i&&(r=Math.min(parseInt(i,10),59).toString().padStart(2,"0")),null!=n&&""!=n&&(o=Math.min(parseInt(n)).toString().padStart(2,"0")),this._Receipt.receiptlaborers[e].timeString=`${o}:${r}`}else this._Receipt.receiptlaborers[e].timeString="00:00";const[n,i]=this._Receipt.receiptlaborers[e].timeString.split(":").map(Number);this._Receipt.receiptlaborers[e].numberofhours=60*n+i,this.ChangeLaborersValue(e)}formatMinutesToHoursMinutes(e){const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`}OnSignatureSet(e){this._Receipt.signature=e.signature}Calculate_Total_Tax_Net(){let e=0;this._Receipt.details.forEach(t=>{e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.deliveryfees>0?this._Receipt.deliveryfeesforeign=Number((this._Receipt.deliveryfees*this._Receipt.currency_rate).toFixed(this._Currencyprecision)):this._Receipt.deliveryfeesforeign>0&&(this._Receipt.deliveryfees=Number((this._Receipt.deliveryfeesforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.discount_percent>0?this.Calculate_Disc("local","percent"):this._Receipt.discount_value>0?this.Calculate_Disc("local","value"):this._Receipt.discount_foreignvalue>0?this.Calculate_Disc("foreign","value"):this.CalculateTax_Net(e)}CalculateTax_Net(e=0){1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number((e-this._Receipt.discount_value+this._Receipt.deliveryfees+this._Receipt.surchargevalue+this._Receipt.totalexpensses+this._Receipt.totallaborers).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number((e-this._Receipt.discount_foreignvalue+this._Receipt.deliveryfeesforeign+this._Receipt.surchargevalueforeign+this._Receipt.totalexpensses_foreign+this._Receipt.totallaborers_foreign).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0),this.CalculateCommition1(),this.CalculateCommition2()}Calculate_Disc(e="local",t="percent"){this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,"local"==e?("percent"==t&&(this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_percent=Number((100*(this._Receipt.discount_value/this._Receipt.value%(1/0)||0)).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision)))):"foreign"==e&&("percent"==t&&(this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_foreignpercent=Number((100*(this._Receipt.discount_foreignvalue/this._Receipt.valueforeign%(1/0)||0)).toFixed(this._Currencyprecision)),this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)))),this.CalculateTax_Net(1==this._Receipt.currency_rate?this._Receipt.value:this._Receipt.valueforeign)}Calculate_DeliveryCharges(e="local"){this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,"local"==e?this._Receipt.deliveryfeesforeign=Number((this._Receipt.deliveryfees*this._Receipt.currency_rate).toFixed(this._Currencyprecision)):"foreign"==e&&(this._Receipt.deliveryfees=Number((this._Receipt.deliveryfeesforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this.CalculateTax_Net(1==this._Receipt.currency_rate?this._Receipt.value:this._Receipt.valueforeign)}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new x.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new x.I$)}CheckBalanceForItemInStore(e,t=!1,n=!1){var i;1==n&&(this.DuringSaveDisable=!0,this.cd.markForCheck());let r=!0,o=new x.I$;if(null!=this._Receipt.details[e].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._Receipt.branch_id,o.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,o.Unit_ID=this._Receipt.details[e].unit_id,o.conv=this._Receipt.details[e].conv,o.Qty=0,o.itemid=this._Receipt.details[e].item_id,o.StoreID=this._Receipt.details[e].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._Receipt.id,console.log(o);let a=null!==(i=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==i?i:-1,s=this.InventorySetting[0].physicalnegativeinventoryid,c=this.InventorySetting[0].salesreturneffect;console.log(this._Receipt.details[e].item_type),2==this._Receipt.details[e].item_type||!(-1==a||1==a&&this._Receipt.details[e].id>0)||1!=s||1!=c&&null!=c?1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt():this._ReceiptSharedService.CheckBalanceForItemInStore(o).subscribe(i=>{let o=0,s=0,c=0,l=[],d=!0;if(0==i.consignment.consignment){if(null!=i.totalqty.totalqty){if(o=i.totalqty.totalqty,l=i.itemcomponent,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;s=parseFloat(s.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),3!=this._Receipt.details[e].item_type){this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.details[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());s=parseFloat(s.toString())+n}});let t=[],n=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let i=0;i<n.length;i++){t=[],t=this._Receipt.itemscomponent.filter(t=>t.parentrowno==n[i].rowno&&t.finishedproductid==n[i].item_id&&null==t.id&&t.item_id==this._Receipt.details[e].item_id);for(let e=0;e<t.length;e++){let n=t[e].qty,i=this.ItemComponentUnitsList.find(n=>n.item_id==t[e].item_id&&n.id==t[e].unit_id);if(null!=i){let r=(null!=i.finalconv?i.finalconv:1)*(t[e].conv/(null!=i.conv?i.conv:1))*parseFloat(n.toString());s=parseFloat(s.toString())+r}}}}if(-1==a?c=o-s:1==a&&(c=o+s),3==this._Receipt.details[e].item_type)for(let e=0;e<l.length;e++)if(2!=l[e].item_type){let t=this._Receipt.details.filter(t=>t.item_id==l[e].item_id),n=0;t.forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,o=e.conv;n=parseFloat(n.toString())+i*(o/r)*parseFloat(e.qty.toString())}}),this._Receipt.itemscomponent.filter(t=>t.item_id==l[e].item_id&&null!=t.id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());n=parseFloat(n.toString())+i}});let i=[],r=this._Receipt.details.filter(e=>3==e.item_type&&null==e.id);for(let o=0;o<r.length;o++){i=[],i=this._Receipt.itemscomponent.filter(t=>t.parentrowno==r[o].rowno&&t.finishedproductid==r[o].item_id&&null==t.id&&t.item_id==l[e].item_id);for(let e=0;e<i.length;e++){let t=i[e].qty,r=this.ItemComponentUnitsList.find(t=>t.item_id==i[e].item_id&&t.id==i[e].unit_id);if(null!=r){let o=(null!=r.finalconv?r.finalconv:1)*(i[e].conv/(null!=r.conv?r.conv:1))*parseFloat(t.toString());n=parseFloat(n.toString())+o}}}if(!(n<=l[e].totalqty)){d=!1;break}d=!0}r=3!=this._Receipt.details[e].item_type?c>=0:1==d}else r=!1;0==r?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(3!=this._Receipt.details[e].item_type?this.qtyErrorMsg+o:this.qtyErrorMsg)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()})}else 1==t&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,n):1==n&&this.SaveReceipt()}CalculateTotalCost(){var e;1==(null===(e=this.CurrentUserSetting)||void 0===e?void 0:e.showcostprice)&&(this._itemqtyList=new Array,this._Receipt.details.forEach(e=>{if(null!=e.item_id){let t=new x.I$;t.ReceiptCode=this.BasicCodeReceipt,t.BranchID=this._Receipt.branch_id,t.Entrydate=this._Receipt.entry_date,t.Unit_ID=e.unit_id,t.conv=e.conv,t.Qty=e.qty,t.itemid=e.item_id,t.StoreID=e.store_id,t.subsidairyid=this.subsidiaryID,this._itemqtyList.push(t)}}),this._ReceiptSharedService.GetTotalCost(this._itemqtyList).subscribe(e=>{this._totalcost=parseFloat(e.toString()),this._totalcost=Number(this._totalcost.toFixed(this._Currencyprecision)),this.cd.markForCheck()}))}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(615)?this._router.navigate(["/page/production/batchorder/0"]).then(()=>{window.location.reload()}):We().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===We().DismissReason.cancel&&this._router.navigate(["/page/production/batchorder/0"]).then(()=>{window.location.reload()})})}DeleteAction(){We().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ReceiptSharedService.DeleteReceipts(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/production/batchorder"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{let t=y(e[0].maxpostingdate,"YYYY-MM-DD").format(),n=y(this._Receipt.entry_date,"YYYY-MM-DD").format();y(n).isSameOrBefore(t)?(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()):(this.ShowModeReceipt=!1,this.ValidPeriod=!0),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/production/batchorder/0"),this.ReceiptID=0,this._Receipt.id=null,this.VouchersLinkedCount=0,this.CheckBalanceForItemInStore(0,!0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/batchorder"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}SubDocumentAction(e){const t=this._router.createUrlTree([`/page/setupsettings/documents/3/${this._Receipt.id}/batchorder/${e.id}`]);window.open(t.toString(),"_blank")}CashCutsomerAction(){var e;if(null!=this._Receipt.cashcustomerid)this._router.navigate(["/page/receivables/cashcustomer/"+this._Receipt.cashcustomerid+"/"+this._Receipt.cashcustomer_vendor_code.phonenumber]);else{let t=null!==(e=this._Receipt.cashcustomer_vendor_code)&&void 0!==e?e:"";this._router.navigate(["/page/receivables/cashcustomer/0/"+t])}}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){this._authService.userInfo();let t="",n="";"ar"==this.lang&&(n="_ar"),t="P_S_51_batchorder"+n;let i={reportName:t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return i.reportName=t,i.toEmail=this._emailobj.email,i.Subject=this._emailobj.subject,i}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(615)||0==this.ReceiptID&&!this.checkRoleParms(123)||1==this.ShowModeReceipt?this._router.navigate(["/page/production/batchorder"]):We().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):this._router.navigate(["/page/production/batchorder"])})}CashReturn(e){this.ReceiptTypeLinked=e,this.Excute_CreateReceipts()}CreateCredit_CashSales(e){this.ReceiptTypeLinked=e,this._ReceiptSharedService.ReceiptsLinkedForBatchOrder(this.subsidiaryID,this._Receipt.id,"51,52").subscribe(e=>{0==e.length?this.Excute_CreateReceipts():(this.ReceiptLinkedBatchOrder=e,this.OpenModal(this.LinkedReceiptsBatchOrderModel))})}Excute_CreateReceipts(){52==this.ReceiptTypeLinked?this._router.navigate(["/page/receivables/creditsales/0/0/0/"+this._Receipt.id]).then(()=>{window.location.reload()}):51==this.ReceiptTypeLinked?this._router.navigate(["/page/receivables/cashsales/0/0/"+this._Receipt.id]).then(()=>{window.location.reload()}):53==this.ReceiptTypeLinked&&this._router.navigate(["/page/receivables/cashreturn/0/0/"+this._Receipt.id])}OnViewLinkedBatchOrderReceipt(e){let t=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(t=>t.Code==e.code);""!=t.Url&&window.open(t.Url+e.id+"/show","_blank")}IssueVoucher(){this._router.navigate(["/page/inventorytransiction/issuevoucher/0/0/"+this._Receipt.id])}CreateWorkOrder(){}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}getwarrantydateDate(){let e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}formateDecimal(e,t=3){return e.toFixed(t)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](He.v),c["\u0275\u0275directiveInject"](K.t),c["\u0275\u0275directiveInject"](Ze.H),c["\u0275\u0275directiveInject"](b.g),c["\u0275\u0275directiveInject"](et.M),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](l.gz),c["\u0275\u0275directiveInject"](oe.FF),c["\u0275\u0275directiveInject"](ee.t2),c["\u0275\u0275directiveInject"](R.e),c["\u0275\u0275directiveInject"](te.$),c["\u0275\u0275directiveInject"](X.J),c["\u0275\u0275directiveInject"](i.uU),c["\u0275\u0275directiveInject"](i.Ye))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["BatchOrder-details"]],viewQuery:function(e,t){if(1&e&&(c["\u0275\u0275viewQuery"](pt,5),c["\u0275\u0275viewQuery"](mt,5),c["\u0275\u0275viewQuery"](ht,5)),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.LinkedReceiptsBatchOrderModel=e.first),c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.RForm=e.first),c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.PaymentMethodModel=e.first)}},features:[c["\u0275\u0275ProvidersFeature"]([He.v,K.t,i.uU,Ze.H,Ye.X,et.M,X.J])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],["method","POST","role","form",1,"container-fluid","py-4","pl-0","pr-0",3,"ngSubmit"],["RForm","ngForm"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-info mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"horizontal","dark","my-2"],[1,"col-lg-5","col-md-5"],[1,"form-group"],["for","customersalesprice",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","EntryCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","CustomerName",1,"col-form-label"],["type","text","id","CustomerName","name","CustomerName",1,"form-control",3,"ngModel","readonly","ngModelChange"],["CustomerName","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],[1,"col-12","col-md-6","mb-2","mb-md-0"],["for","WOstatusID",1,"col-form-label"],["name","WOstatusID","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["WOstatusID","ngModel"],["for","Notes",1,"col-form-label"],["type","text","id","Notes","name","Notes",1,"form-control",3,"ngModel","ngModelChange"],["Notes","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","ProductionLineId",1,"col-form-label"],["name","ProductionLineId","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["ProductionLineId","ngModel"],["for","linescheduleddate",1,"col-form-label"],["type","date","id","linescheduleddate","name","linescheduleddate",1,"form-control",3,"ngModel","ngClass","focusout","ngModelChange"],["linescheduleddate","ngModel"],[1,"col-12","col-md-3","mb-2","mb-md-0",2,"padding-top","30px"],[1,"checkbox"],["type","checkbox","id","Urgent",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","Urgent"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-8","col-md-8"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["class","nav-item",3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control","totalValInput",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control","totalValInput",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_ForiegnDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_ForiegnDiscountPerc","ngModel"],["style","color: red",4,"ngIf"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_LocalDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_LocalDiscountPerc","ngModel"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_LocalDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","text","name","totalexpensses_foreign",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totalexpensses",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totallaborers_foreign",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totallaborers",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],[1,"col-md-7","mt-n6"],["DescriptionItemModel",""],["serialModel",""],["PaymentMethodModel",""],["LinkedReceiptsBatchOrderModel",""],["type","button",1,"btn","btn-info","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["type","button",1,"dropdown-item",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],[3,"value"],["Value","null"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","8%"],["scope","col",2,"width","12%"],["scope","col","style","width: 8%",4,"ngIf"],["scope","col",2,"width","6%"],["scope","col",2,"width","10%"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","ngClass","keyup","ngModelChange"],["item_price","ngModel"],["PositiveNumbersOnly","","type","number","customMax","100","customMin","",1,"form-control",3,"ngModel","Min","CheckMin","name","readonly","ngClass","keyup","ngModelChange"],["discountpercent","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["discount_value","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],[1,"text-center","gridActionsTd"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],[1,"fa-stack","fa-lg","addNotesIcon"],[1,"fa","fa-plus","fa-stack-1x"],[1,"fa","fa-sticky-note","fa-stack-2x"],[1,"fa","fa-trash","font-medium-3","m-0"],["class","primary transparent-BG","href","javascript:;",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"hidden","click"],[1,"fa","fa-list","font-medium-3","mr-2"],["type","date",1,"form-control",3,"hidden","name","ngModel","required","ngClass","ngModelChange"],["warrantydate","ngModel"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],[2,"color","red"],[1,"fa","fa-file","font-medium-3","m-0"],[1,"row","mb-5",2,"margin-top","10px"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"col-12"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],[1,"text-center"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["href","javascript:;",1,"primary","transparent-BG","ml-1",3,"click"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],[1,"fa","fa-trash","font-medium-3"],[1,"table-accountdetails",3,"ngClass"],["scope","col",2,"min-width","30px"],["scope","col",2,"max-width","5px"],["type","text","name","TotalExpensses",1,"form-control","totalValInput",3,"ngModel","disabled"],[1,"form-control","red",3,"name","ngModel","ngModelChange","change"],["PositiveNumbersOnly","","type","number",1,"form-control","red",3,"ngModel","name","keyup","ngModelChange"],["ExpensesValue","ngModel"],["PositiveNumbersOnly","","type","number","required","",1,"form-control","red",3,"ngModel","name","ngClass","min","disabled","ngModelChange","keyup"],["ExpensesExchangeRate","ngModel"],["class","has-error",4,"ngIf"],[1,"form-control",3,"id","click"],["hidden","true","PositiveNumbersOnly","","type","number","customMin","",1,"form-control","red",3,"ngModel","Min","id","name","focusout","ngModelChange","keyup"],["ExpensesLocalValue","ngModel"],["minLength","0","delay","0","field","accountcode",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoAccount",""],["type","text",1,"form-control","red",3,"ngModel","name","ngModelChange"],["ExpensesNotes","ngModel"],[1,"gridActionsTd"],["href","javascript:;",1,"btn","btn-primary","transparent-BG","ml-1",3,"click"],[1,"has-error"],["scope","col",2,"min-width","10px"],["PositiveNumbersOnly","","type","text","name","ovr_TotalLaborers",1,"form-control","totalValInput",3,"readonly","ngModel"],["laboreremployeeid","ngModel"],["appTimeFormat","","required","","type","text",1,"form-control","red",3,"ngModel","ngClass","id","name","focusout","ngModelChange"],["timeString","ngModel"],["type","text",1,"form-control","red",3,"ngModel","name","disabled","keyup"],["hourlywages","ngModel"],["laborerValue","ngModel"],["laborerNotes","ngModel"],[3,"signature","signatureoutput"],[1,"row","mb-5"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["for","Cars",1,"col-form-label"],["name","Cars",1,"form-control",3,"ngModel","ngModelChange","change"],["for","Drivers",1,"col-form-label"],["name","Drivers",1,"form-control",3,"ngModel","ngModelChange","change"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],["PositiveNumbersOnly","","type","number","name","ovr_CostTotal",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12","form-group"],["for","customitemname",1,"col-form-label"],["type","text","id","customitemname","name","customitemname",1,"form-control",3,"ngModel","ngModelChange"],["customitemname","ngModel"],[3,"styles","ngModel","ngModelOptions","modules","ngModelChange","onContentChanged"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-danger","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],[1,"col-md-12"],["for","salesmanid",1,"col-form-label"],["name","salesmanid",1,"form-control",3,"ngModel","ngModelChange"],["class","modal-title",4,"ngIf"],["method","POST","role","form",3,"ngSubmit"],[1,"table-responsive"],[2,"width","20%"],["style","width: 15%",4,"ngIf"],["type","submit",1,"btn","btn-success"],[2,"width","15%"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["MultiPaymentForm","ngForm"],["type","number","name","multipayment_net","PositiveNumbersOnly","","min","0",1,"form-control",3,"ngModel","readonly","ngModelChange"],["multipayment_amount","ngModel"],["type","number","name","multipayment_Paid","PositiveNumbersOnly","","min","0",1,"form-control",3,"ngModel","readonly","ngModelChange"],["type","number","name","multipayment_remaining","PositiveNumbersOnly","","min","0",1,"form-control",3,"ngModel","readonly","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-md"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-secondary","mr-2","ml-2",3,"click"],["required","",1,"form-control",3,"name","ngModel","ngClass","ngModelChange"],["multipayment_type","ngModel"],["type","number","PositiveNumbersOnly","","min","1",1,"form-control","red",3,"ngModel","name","ngModelChange","keyup"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],["type","number","readonly","true",1,"form-control","red",3,"ngModel","name","ngModelChange"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,ut,4,3,"div",0),c["\u0275\u0275template"](1,to,282,248,"ng-container",1)),2&e&&(c["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(579)||t.checkRoleParms(580)||t.checkRoleParms(581)||t.checkRoleParms(627))),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.checkRolesParms(c["\u0275\u0275pureFunction0"](2,no))))},directives:[i.O5,a._Y,a.JL,a.F,a.EJ,a.JJ,a.On,i.sg,a.Q7,i.mk,a.Fj,tt.L,nt.a,h.Qc,it.jx,a.Wl,oe.Pz,oe.nv,oe.Vx,oe.uN,oe.tO,a.wV,re.K,a.qQ,rt.Z,ot.k,a.YN,a.Kr,at.L,st.t,ct.T,_.g6],pipes:[d.X$,i.uU,lt.p,dt.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.width-table-input[_ngcontent-%COMP%]{min-width:130px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1rem}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();class ro{constructor(){this.id=null,this.customerid=null,this.itemid=null,this.quantity=null,this.productqty=null,this.date=null,this.subsidiaryid=null,this.productionvoucherid=null,this.productionunit=null,this.salesmanid=null,this.transferrequestid=null,this.salesorderid=null,this.productionvoucherids=null}}class oo{constructor(){this.date="",this.customer="",this.salesman="",this.item="",this.unit="",this.quantity="",this.productedqty="",this.remainqty="",this.salesorder="",this.transferorder="",this.productionvouter="",this.bom="",this.lang="",this.subid=null,this.checktotalproduction=!0,this.SearchValue="",this.PageNo=1,this.PageSize=10,this.checked=!1,this.allSelect=!1}}var ao=n(79996);let so=(()=>{class e{constructor(e){this.http=e,this.baseUrl=Ke.N.apiUrl,this.reportUrl=Ke.N.aspDomain}CustomerAccountsList(e,t){return this.http.get(`${this.baseUrl}/Customer/CustomerAccountsList?SubsidiaryID=${e}&SearchValue=${t}`).pipe((0,ao.U)(e=>e))}GetAllRoleUsers(e,t){return this.http.get(`${this.baseUrl}/CreditNote/GetAllRoleUsers?SubsidaryId=${e}&RoleName=${t}`).pipe((0,ao.U)(e=>e))}GetItemDataDetailsLists(e,t){return this.http.get(`${this.baseUrl}/Receipts/GetItemDataDetailsLists?SubsidiaryID=${e}&ItemID=${t}`).pipe((0,ao.U)(e=>e))}GetItemsDataList(e,t){return this.http.get(`${this.baseUrl}/ProductionPlan/GetItemsDataList?SubsidiaryID=${e}&SearchValue=${t}`).pipe((0,ao.U)(e=>e))}GetProductionPlanList(e){return this.http.post(this.baseUrl+"/ProductionPlan/GetProductionPlanList",e).pipe((0,ao.U)(e=>e))}GetProductionPlanCount(e){return this.http.post(this.baseUrl+"/ProductionPlan/GetProductionPlanCount",e).pipe((0,ao.U)(e=>e))}SaveProductionPlan(e){return this.http.post(this.baseUrl+"/ProductionPlan/SaveProductionPlan",e).pipe((0,ao.U)(e=>e))}DeleteProductionPlan(e){return this.http.get(`${this.baseUrl}/ProductionPlan/DeleteProductionPlan?id=${e}`).pipe((0,ao.U)(e=>e))}GetProductionPlanBy(e){return this.http.post(this.baseUrl+"/ProductionPlan/GetProductionPlanBy",e).pipe((0,ao.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](s.eN))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function co(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275elementStart"](1,"h1",7),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function lo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sugar)}}function po(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sug)}}function mo(e,t){if(1&e&&(c["\u0275\u0275template"](0,lo,2,1,"div",5),c["\u0275\u0275template"](1,po,2,1,"div",5)),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function ho(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function uo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function go(e,t){if(1&e&&(c["\u0275\u0275template"](0,ho,2,1,"div",5),c["\u0275\u0275template"](1,uo,2,1,"div",5)),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function _o(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",67),c["\u0275\u0275text"](1,"choose"),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Co(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",67),c["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function fo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function bo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function yo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",68),c["\u0275\u0275template"](1,fo,2,1,"span",5),c["\u0275\u0275template"](2,bo,2,1,"span",5),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function xo(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",67),c["\u0275\u0275text"](1,"choose"),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function vo(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",67),c["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Mo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function So(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Po(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",68),c["\u0275\u0275template"](1,Mo,2,1,"span",5),c["\u0275\u0275template"](2,So,2,1,"span",5),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Ro(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.date=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"Date")),c["\u0275\u0275property"]("ngModel",e._filter.date)}}function Oo(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.customer=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"Customer")),c["\u0275\u0275property"]("ngModel",e._filter.customer)}}function Io(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.salesman=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"SalesMan")),c["\u0275\u0275property"]("ngModel",e._filter.salesman)}}function Eo(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.item=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"Item")),c["\u0275\u0275property"]("ngModel",e._filter.item)}}function wo(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.unit=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"Unit")),c["\u0275\u0275property"]("ngModel",e._filter.unit)}}function ko(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.quantity=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"Planned Qty")),c["\u0275\u0275property"]("ngModel",e._filter.quantity)}}function Bo(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.productedqty=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"Product Qty")),c["\u0275\u0275property"]("ngModel",e._filter.productedqty)}}function Do(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.remainqty=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"Remining Qty")),c["\u0275\u0275property"]("ngModel",e._filter.remainqty)}}function Fo(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.salesorder=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"SalesOrder")),c["\u0275\u0275property"]("ngModel",e._filter.salesorder)}}function Lo(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.transferorder=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"TransferOrder")),c["\u0275\u0275property"]("ngModel",e._filter.transferorder)}}function qo(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.productionvouter=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"ProductionVouther")),c["\u0275\u0275property"]("ngModel",e._filter.productionvouter)}}function Vo(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275elementStart"](1,"input",70),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._filter.bom=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).FilterData()}),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("placeholder",c["\u0275\u0275pipeBind1"](2,2,"BOM")),c["\u0275\u0275property"]("ngModel",e._filter.bom)}}function No(e,t){1&e&&c["\u0275\u0275element"](0,"th")}function To(e,t){1&e&&c["\u0275\u0275element"](0,"th")}function Uo(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"input",76),c["\u0275\u0275listener"]("checkedChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.checked=t})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.checked=t})("change",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](3).onRowSelect(t)}),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275property"]("checked",e.checked)("ngModel",e.checked)}}function $o(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](2,1,null==e?null:e.date,"yyyy-MM-dd")," ")}}function Ao(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.customerar)}}function Go(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.customer)}}function zo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275template"](1,Ao,2,1,"span",5),c["\u0275\u0275template"](2,Go,2,1,"span",5),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function jo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.salesmanar)}}function Qo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.salesman)}}function Wo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275template"](1,jo,2,1,"span",5),c["\u0275\u0275template"](2,Qo,2,1,"span",5),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Jo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.itemar)}}function Ho(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.item)}}function Yo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275template"](1,Jo,2,1,"span",5),c["\u0275\u0275template"](2,Ho,2,1,"span",5),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Zo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.unitar,"")}}function Ko(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.unit,"")}}function Xo(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275template"](1,Zo,2,1,"span",5),c["\u0275\u0275template"](2,Ko,2,1,"span",5),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function ea(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.quantity," ")}}function ta(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.productqty," ")}}function na(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.diffrentqty," ")}}function ia(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.salesorder," ")}}function ra(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.transferrequestid," ")}}function oa(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.productionvoucherids," ")}}function aa(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"-"),c["\u0275\u0275elementEnd"]())}function sa(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"a",78),c["\u0275\u0275elementStart"](1,"span"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2).$implicit;c["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/bom/",null==e?null:e.bomid,""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.bom)}}function ca(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275template"](1,aa,2,0,"span",5),c["\u0275\u0275template"](2,sa,3,2,"a",77),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==(null==e?null:e.bom)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0!=(null==e?null:e.bom))}}function la(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"\u2713"),c["\u0275\u0275elementEnd"]())}function da(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"\u2718 "),c["\u0275\u0275elementEnd"]())}function pa(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"-"),c["\u0275\u0275elementEnd"]())}function ma(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275template"](1,la,2,0,"span",5),c["\u0275\u0275template"](2,da,2,0,"span",5),c["\u0275\u0275template"](3,pa,2,0,"span",5),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",(null==e?null:e.quantity)-(null==e?null:e.productqty)==0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==(null==e?null:e.productqty)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0!=(null==e?null:e.productqty)&&(null==e?null:e.quantity)>(null==e?null:e.productqty))}}function ha(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"a",80),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2).$implicit;return c["\u0275\u0275nextContext"](3).delete(t.id)}),c["\u0275\u0275elementStart"](1,"span"),c["\u0275\u0275element"](2,"i",81),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function ua(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275template"](1,ha,3,0,"a",79),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==e.productionvoucherid||""==e.productionvoucherid)}}function ga(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"div",72),c["\u0275\u0275template"](3,Uo,1,2,"input",73),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](4,$o,3,4,"td",5),c["\u0275\u0275template"](5,zo,3,2,"td",5),c["\u0275\u0275template"](6,Wo,3,2,"td",5),c["\u0275\u0275template"](7,Yo,3,2,"td",5),c["\u0275\u0275template"](8,Xo,3,2,"td",5),c["\u0275\u0275template"](9,ea,2,1,"td",5),c["\u0275\u0275template"](10,ta,2,1,"td",5),c["\u0275\u0275template"](11,na,2,1,"td",5),c["\u0275\u0275template"](12,ia,2,1,"td",5),c["\u0275\u0275template"](13,ra,2,1,"td",5),c["\u0275\u0275template"](14,oa,2,1,"td",5),c["\u0275\u0275template"](15,ca,3,2,"td",5),c["\u0275\u0275template"](16,ma,4,3,"td",5),c["\u0275\u0275template"](17,ua,2,1,"td",5),c["\u0275\u0275elementStart"](18,"td"),c["\u0275\u0275elementStart"](19,"a",74),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).$implicit,n=c["\u0275\u0275nextContext"](3),i=c["\u0275\u0275reference"](4);return n.Edit(t,i)}),c["\u0275\u0275element"](20,"i",75),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",(null==e?null:e.quantity)-(null==e?null:e.productqty)>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show1Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show2Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show3Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show4Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show5Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show6Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show7Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show8Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show9Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show10Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show11Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show12Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show13Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==n.show14Col)}}function _a(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275template"](1,ga,21,15,"tr",71),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.ProductionPlanList)}}function Ca(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275elementStart"](1,"tr",82),c["\u0275\u0275elementStart"](2,"td",83),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,1,"NoData")))}function fa(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",84),c["\u0275\u0275elementStart"](1,"ngb-pagination",85),c["\u0275\u0275listener"]("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PageNo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"p"),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"select",86),c["\u0275\u0275listener"]("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PageSize=t}),c["\u0275\u0275elementStart"](5,"option",87),c["\u0275\u0275text"](6,"10 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"option",88),c["\u0275\u0275text"](8,"50 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"option",89),c["\u0275\u0275text"](10,"100 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](11,"br"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",e.PageSize)}}const ba=function(e,t){return{"invalid-data":e,"valid-data":t}},ya=function(e){return{item_id:e}};function xa(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",8),c["\u0275\u0275elementStart"](1,"div",9),c["\u0275\u0275elementStart"](2,"div",10),c["\u0275\u0275elementStart"](3,"h6",11),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",12),c["\u0275\u0275elementStart"](7,"div",13),c["\u0275\u0275elementStart"](8,"form",14,15),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275reference"](9);return c["\u0275\u0275nextContext"]().Save(t)}),c["\u0275\u0275elementStart"](10,"div",6),c["\u0275\u0275elementStart"](11,"div",16),c["\u0275\u0275elementStart"](12,"div",17),c["\u0275\u0275elementStart"](13,"label",18),c["\u0275\u0275text"](14),c["\u0275\u0275pipe"](15,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"p-autoComplete",19,20),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](17);return c["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._wrapper.customercode=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(t)}),c["\u0275\u0275template"](19,mo,2,2,"ng-template",21),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",16),c["\u0275\u0275elementStart"](21,"div",17),c["\u0275\u0275elementStart"](22,"label",22),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"span",23),c["\u0275\u0275text"](26,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"p-autoComplete",24,25),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](28);return c["\u0275\u0275nextContext"]().onFocusInItems(t),n.show()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._wrapper.itemcode=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ItemsSelectEvent(t)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ItemsChangeSearch(t)}),c["\u0275\u0275template"](30,go,2,2,"ng-template",26),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"div",16),c["\u0275\u0275elementStart"](32,"div",17),c["\u0275\u0275elementStart"](33,"label",27),c["\u0275\u0275text"](34),c["\u0275\u0275pipe"](35,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"span",23),c["\u0275\u0275text"](37,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"input",28,29),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._wrapper.quantity=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"div",16),c["\u0275\u0275elementStart"](41,"div",17),c["\u0275\u0275elementStart"](42,"label",30),c["\u0275\u0275text"](43),c["\u0275\u0275pipe"](44,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](45,"span",23),c["\u0275\u0275text"](46,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](47,"input",31,32),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._wrapper.date=t})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._wrapper.date=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](49,"div",16),c["\u0275\u0275elementStart"](50,"div",17),c["\u0275\u0275elementStart"](51,"label",33),c["\u0275\u0275text"](52),c["\u0275\u0275pipe"](53,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](54,"span",23),c["\u0275\u0275elementStart"](55,"select",34),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._wrapper.salesmanid=t}),c["\u0275\u0275template"](56,_o,2,1,"option",35),c["\u0275\u0275template"](57,Co,2,1,"option",35),c["\u0275\u0275template"](58,yo,3,3,"option",36),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](59,"div",16),c["\u0275\u0275elementStart"](60,"div",17),c["\u0275\u0275elementStart"](61,"label",37),c["\u0275\u0275text"](62),c["\u0275\u0275pipe"](63,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](64,"select",38),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._wrapper.productionunit=t}),c["\u0275\u0275template"](65,xo,2,1,"option",35),c["\u0275\u0275template"](66,vo,2,1,"option",35),c["\u0275\u0275template"](67,Po,3,3,"option",36),c["\u0275\u0275pipe"](68,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](69,"div",39),c["\u0275\u0275elementStart"](70,"div",40),c["\u0275\u0275elementStart"](71,"div",41),c["\u0275\u0275elementStart"](72,"button",42),c["\u0275\u0275element"](73,"i",43),c["\u0275\u0275text"](74),c["\u0275\u0275pipe"](75,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](76,"button",44),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().Reset()}),c["\u0275\u0275element"](77,"i",43),c["\u0275\u0275text"](78),c["\u0275\u0275pipe"](79,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](80,"button",45),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ExecutePlans()}),c["\u0275\u0275element"](81,"i",43),c["\u0275\u0275text"](82),c["\u0275\u0275pipe"](83,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](84,"button",45),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ExecuteBOM()}),c["\u0275\u0275element"](85,"i",43),c["\u0275\u0275text"](86),c["\u0275\u0275pipe"](87,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](88,"button",46),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().OnPrint()}),c["\u0275\u0275element"](89,"i",47),c["\u0275\u0275text"](90),c["\u0275\u0275pipe"](91,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](92,"div",48),c["\u0275\u0275elementStart"](93,"a",49),c["\u0275\u0275element"](94,"i",47),c["\u0275\u0275text"](95),c["\u0275\u0275pipe"](96,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](97,"div",50),c["\u0275\u0275elementStart"](98,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show1Col=!t.show1Col}),c["\u0275\u0275text"](99),c["\u0275\u0275pipe"](100,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](101,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show2Col=!t.show2Col}),c["\u0275\u0275text"](102),c["\u0275\u0275pipe"](103,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](104,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show3Col=!t.show3Col}),c["\u0275\u0275text"](105),c["\u0275\u0275pipe"](106,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](107,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show4Col=!t.show4Col}),c["\u0275\u0275text"](108),c["\u0275\u0275pipe"](109,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](110,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show5Col=!t.show5Col}),c["\u0275\u0275text"](111),c["\u0275\u0275pipe"](112,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](113,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show6Col=!t.show6Col}),c["\u0275\u0275text"](114),c["\u0275\u0275pipe"](115,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](116,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show7Col=!t.show7Col}),c["\u0275\u0275text"](117),c["\u0275\u0275pipe"](118,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](119,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show8Col=!t.show8Col}),c["\u0275\u0275text"](120),c["\u0275\u0275pipe"](121,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](122,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show9Col=!t.show9Col}),c["\u0275\u0275text"](123),c["\u0275\u0275pipe"](124,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](125,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show10Col=!t.show10Col}),c["\u0275\u0275text"](126),c["\u0275\u0275pipe"](127,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](128,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show11Col=!t.show11Col}),c["\u0275\u0275text"](129),c["\u0275\u0275pipe"](130,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](131,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show12Col=!t.show12Col}),c["\u0275\u0275text"](132),c["\u0275\u0275pipe"](133,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](134,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show13Col=!t.show13Col}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](135,"a",51),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]();return t.show14Col=!t.show14Col}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](136,"div",52),c["\u0275\u0275elementStart"](137,"div",53),c["\u0275\u0275elementStart"](138,"label",54),c["\u0275\u0275text"](139),c["\u0275\u0275pipe"](140,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](141,"input",55,56),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._filter.SearchValue=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().FilterData()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](143,"div",57),c["\u0275\u0275elementStart"](144,"input",58),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._filter.checktotalproduction=t})("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ShowProductionPlan()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](145,"label",59),c["\u0275\u0275text"](146),c["\u0275\u0275pipe"](147,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](148,"div",6),c["\u0275\u0275elementStart"](149,"div",60),c["\u0275\u0275elementStart"](150,"section",61),c["\u0275\u0275elementStart"](151,"div",6),c["\u0275\u0275elementStart"](152,"div",60),c["\u0275\u0275elementStart"](153,"div",62),c["\u0275\u0275elementStart"](154,"div",63),c["\u0275\u0275element"](155,"div",64),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](156,"div",12),c["\u0275\u0275elementStart"](157,"div",65),c["\u0275\u0275elementStart"](158,"table",4),c["\u0275\u0275elementStart"](159,"thead"),c["\u0275\u0275elementStart"](160,"tr"),c["\u0275\u0275element"](161,"th"),c["\u0275\u0275template"](162,Ro,3,4,"th",5),c["\u0275\u0275template"](163,Oo,3,4,"th",5),c["\u0275\u0275template"](164,Io,3,4,"th",5),c["\u0275\u0275template"](165,Eo,3,4,"th",5),c["\u0275\u0275template"](166,wo,3,4,"th",5),c["\u0275\u0275template"](167,ko,3,4,"th",5),c["\u0275\u0275template"](168,Bo,3,4,"th",5),c["\u0275\u0275template"](169,Do,3,4,"th",5),c["\u0275\u0275template"](170,Fo,3,4,"th",5),c["\u0275\u0275template"](171,Lo,3,4,"th",5),c["\u0275\u0275template"](172,qo,3,4,"th",5),c["\u0275\u0275template"](173,Vo,3,4,"th",5),c["\u0275\u0275template"](174,No,1,0,"th",5),c["\u0275\u0275template"](175,To,1,0,"th",5),c["\u0275\u0275element"](176,"th"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](177,_a,2,1,"tbody",5),c["\u0275\u0275template"](178,Ca,5,3,"tbody",5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](179,fa,12,7,"div",66),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](9),t=c["\u0275\u0275reference"](18),n=c["\u0275\u0275reference"](29),i=c["\u0275\u0275reference"](39),r=c["\u0275\u0275reference"](48),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,79,"Production Plan")),c["\u0275\u0275advance"](10),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](15,81,"Customer")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._wrapper.customercode)("suggestions",o.CustomerAccountsList)("ngClass",c["\u0275\u0275pureFunction2"](136,ba,t.invalid&&e.submitted,t.valid&&e.submitted)),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](24,83,"Item")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",o._wrapper.itemcode)("suggestions",o.ItemsList)("ngClass",c["\u0275\u0275pureFunction2"](139,ba,n.invalid&&e.submitted,n.valid&&e.submitted)),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](35,85,"Quantity")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",o._wrapper.quantity)("Min",1e-5)("ngClass",c["\u0275\u0275pureFunction2"](142,ba,i.invalid&&e.submitted,i.valid&&e.submitted)),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](44,87,"Date")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",o._wrapper.date)("ngClass",c["\u0275\u0275pureFunction2"](145,ba,r.invalid&&e.submitted,r.valid&&e.submitted)),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](53,89,"SalesMan")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",o._wrapper.salesmanid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",o.SalesManlist),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](63,91,"Production Unit")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._wrapper.productionunit),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](68,93,o.ItemUnitsList,c["\u0275\u0275pureFunction1"](148,ya,o._wrapper.itemid))),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](75,96,"Save")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](79,98,"Reset")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](83,100,"Production")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](87,102,"BOM")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](91,104,"Print")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](96,106,"Column")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngClass",o.show1Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](100,108,"Date")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show2Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](103,110,"Customer")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show3Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](106,112,"SalesMan")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show4Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](109,114,"Item")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show5Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](112,116,"Unit")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show6Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](115,118,"Planned Qty")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show7Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](118,120,"Product Qty")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show8Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](121,122,"Remining Qty")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show9Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](124,124,"SalesOrder")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show10Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](127,126,"TransferOrder")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show11Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](130,128,"ProductionVouther")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show12Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](133,130,"BOM")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",o.show13Col?"activeCol":""),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",o.show14Col?"activeCol":""),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](140,132,"Search")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._filter.SearchValue),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",o._filter.checktotalproduction),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](147,134,"CheckTotalProduction")),c["\u0275\u0275advance"](16),c["\u0275\u0275property"]("ngIf",1==o.show1Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show2Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show3Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show4Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show5Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show6Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show7Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show8Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show9Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show10Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show11Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show12Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show13Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==o.show14Col),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",o.ProductionPlanList.length>0&&1==o.CheckTotalProduction),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==o.ProductionPlanList.length||0==o.CheckTotalProduction),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",o.totalCount>0)}}function va(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",108),c["\u0275\u0275elementStart"](1,"span"),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"PlanQtyError"),""))}function Ma(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",90),c["\u0275\u0275elementStart"](1,"h6",91),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",92),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](5,"span",93),c["\u0275\u0275text"](6,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",94),c["\u0275\u0275elementStart"](8,"div",95),c["\u0275\u0275elementStart"](9,"label",96),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"input",97,29),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().Plan.quantity=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"div",95),c["\u0275\u0275elementStart"](15,"label",98),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"input",99,100),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().Plan.productqty=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"div",95),c["\u0275\u0275elementStart"](21,"label",101),c["\u0275\u0275text"](22),c["\u0275\u0275pipe"](23,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"label",102),c["\u0275\u0275text"](25),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](26,va,4,3,"div",103),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"div",104),c["\u0275\u0275elementStart"](28,"button",105),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().SaveEdit()}),c["\u0275\u0275text"](29),c["\u0275\u0275pipe"](30,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"button",106),c["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),c["\u0275\u0275element"](32,"i",107),c["\u0275\u0275text"](33),c["\u0275\u0275pipe"](34,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](3,11,"Edit")),c["\u0275\u0275advance"](8),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](11,13,"Planned Qty")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e.Plan.quantity),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](17,15,"Product Qty")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e.Plan.productqty),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](23,17,"Remining Qty")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"]((null==e.Plan?null:e.Plan.quantity)-(null==e.Plan?null:e.Plan.productqty)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",(null==e.Plan?null:e.Plan.quantity)-(null==e.Plan?null:e.Plan.productqty)<0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",(null==e.Plan?null:e.Plan.quantity)-(null==e.Plan?null:e.Plan.productqty)<0),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](30,19,"Save")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](34,21,"Cancel")," ")}}function Sa(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function Pa(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Customer")," "))}function Ra(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"SalesMan")," "))}function Oa(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Item")," "))}function Ia(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Unit")," "))}function Ea(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Planned Qty")," "))}function wa(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Product Qty")," "))}function ka(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Remining Qty")," "))}function Ba(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"SalesOrder")," "))}function Da(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"TransferOrder")," "))}function Fa(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"ProductionVouther")," "))}function La(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"BOM")," "))}function qa(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](2,1,null==e?null:e.date,"yyyy-MM-dd")," ")}}function Va(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.customer," ")}}function Na(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.salesman," ")}}function Ta(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.item," ")}}function Ua(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.unit," ")}}function $a(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.quantity," ")}}function Aa(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.productqty," ")}}function Ga(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",(null==e?null:e.quantity)-(null==e?null:e.productqty)," ")}}function za(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.salesorder," ")}}function ja(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.transferrequestid," ")}}function Qa(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.productionvoucherids," ")}}function Wa(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.bom," ")}}function Ja(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,qa,3,4,"td",5),c["\u0275\u0275template"](2,Va,2,1,"td",5),c["\u0275\u0275template"](3,Na,2,1,"td",5),c["\u0275\u0275template"](4,Ta,2,1,"td",5),c["\u0275\u0275template"](5,Ua,2,1,"td",5),c["\u0275\u0275template"](6,$a,2,1,"td",5),c["\u0275\u0275template"](7,Aa,2,1,"td",5),c["\u0275\u0275template"](8,Ga,2,1,"td",5),c["\u0275\u0275template"](9,za,2,1,"td",5),c["\u0275\u0275template"](10,ja,2,1,"td",5),c["\u0275\u0275template"](11,Qa,2,1,"td",5),c["\u0275\u0275template"](12,Wa,2,1,"td",5),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show1Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show2Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show3Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show4Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show5Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show6Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show7Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show8Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show9Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show10Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show11Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==e.show12Col)}}function Ha(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275template"](1,Ja,13,12,"tr",71),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.ProductionPlanList)}}let Ya=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d,p){this._ProductionPlanService=e,this.cd=t,this.toastr=n,this._router=i,this.datepipe=r,this._generalService=o,this.translate=a,this.modalService=s,this._translateGlobalService=c,this._printService=d,this._authService=p,this._wrapper=new ro,this._filter=new oo,this.Plan=new ro,this.subsidiaryID=0,this.PageSize=10,this.totalCount=0,this.PageNo=1,this.BranchList=[],this.ProductionPlanList=[],this.ItemReceiptList=[],this.SalesManlist=[],this.CustomerAccountsList=[],this.ItemsList=[],this.ItemUnitsList=[],this.selectedRows=[],this.unSelectedRows=[],this.title="",this.emptyDateMsg="",this.invalidDateMsg="",this.NoUnits="",this.StopInventoryErrorMsg="",this.show1Col=!0,this.show2Col=!0,this.show3Col=!0,this.show4Col=!0,this.show5Col=!0,this.show6Col=!0,this.show7Col=!0,this.show8Col=!0,this.show9Col=!0,this.show10Col=!0,this.show11Col=!0,this.show12Col=!0,this.show13Col=!0,this.show14Col=!0,this.CheckTotalProduction=!0,this.PlanQtyError="",this.sortDirection="asc",this.sortColumn="",this.orderby="",this.ProducedQty=0,this.UnitList=[],this.AllProductionPlan=[],this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Ok="",this.swalSelectItemText="",this.Cancel="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.DuringSaveDisable=!1,this.SaveMsg="",l.params.subscribe(e=>{this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&(this._wrapper.date=(new Date).toISOString().slice(0,16),console.log(this._wrapper.date),setTimeout(()=>{this.cd.markForCheck(),this.GetEmployeesList(),this.SearchProductionPlan()},1e3))}),this.ngUnsubscribe=o.proadCastSubsidiaryID.subscribe(e=>{this.subsidiaryID=this._generalService.SubsidiaryID,this.PageSize=10,this.PageNo=1,this._wrapper.date=(new Date).toISOString().slice(0,16),console.log(this._wrapper.date),this.cd.markForCheck(),this.GetEmployeesList(),this.SearchProductionPlan()}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Production Plan","EmptyDateMsg","InvalidDateMsg","swalSelectItemText","SaveMsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Ok","Cancel","successMsg","StopInventoryErrorMsg","DeleteRelationmsg","PlanQtyError"]).subscribe(e=>{this.title=e["Production Plan"],document.title=this.title,this.emptyDateMsg=e.EmptyDateMsg,this.invalidDateMsg=e.InvalidDateMsg,this.swalSelectItemText=e.swalSelectItemText,this.SaveMsg=e.SaveMsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.Ok=e.Ok,this.Cancel=e.Cancel,this.toastrSuccessDelete=e.successMsg,this.DeleteRelationmsg=e.DeleteRelationmsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.PlanQtyError=e.PlanQtyError})})}ngOnInit(){}onFocus(){document.title=this.title}onBlur(){document.title=this.title}GetEmployeesList(){this._ProductionPlanService.GetAllRoleUsers(this.subsidiaryID,"Salesman").subscribe(e=>{this.SalesManlist=e,this.cd.markForCheck()})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){this._wrapper.customerid=e.accountid,this._wrapper.salesmanid=e.salesmanid;let t=e.accountid;null!=t&&null!=t&&""!=t||(this._wrapper.customerid=null),this.cd.markForCheck(),console.log(e)}GetCustomerAccountsList(e=""){this._ProductionPlanService.CustomerAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}onFocusInItems(e){this.GetItemsList("")}ItemsChangeSearch(e){this.GetItemsList(e.query.trim())}ItemsSelectEvent(e){0==e.stopinventorytransactions?(this._wrapper.itemid=e.id,this.GetItemDataDetailsLists(e)):(this._wrapper.itemid=null,this._wrapper.itemcode=null,this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}GetItemsList(e=""){this._ProductionPlanService.GetItemsDataList(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}GetItemDataDetailsLists(e){this._ProductionPlanService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(t=>{0==t.itemunits.length?this.toastr.error(this.NoUnits):(this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(t.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(t.itemunits),this._wrapper.productionunit=e.productionunitid),this.cd.markForCheck()})}GetProductionPlanBy(){this._ProductionPlanService.GetProductionPlanBy(this._filter).subscribe(e=>{this.ProductionPlanList=e.productionplan,this.totalCount=e.total,this.cd.markForCheck()})}GetProductionPlanList(){this._ProductionPlanService.GetProductionPlanList(this._filter).subscribe(e=>{if(this.AllProductionPlan=e.productionplan,this.ItemReceiptList=e.productionvouchers.items,this.UnitList=e.productionvouchers.itemunits,this.AllProductionPlan.length>0)for(var t of this.AllProductionPlan)if(t.productqty=0,null!=t.productionvoucherids&&""!=t.productionvoucherids){var n=t.productionvoucherids.split(",");for(var i of n)if(""!=i){var r=this.ItemReceiptList.filter(e=>e.entry_no==i&&e.item_id==t.itemid);null!=r&&r.length>0&&(t.productqty+=parseFloat(r[0].qty)*parseFloat(r[0].final_conv))}var o=parseFloat(t.quantity)*parseFloat(t.finalconv);t.productqty=t.productqty<o?t.productqty/parseFloat(t.finalconv):parseFloat(t.quantity)}this.ProductionPlanList=1==this._filter.checktotalproduction?this.AllProductionPlan.filter(e=>e.quantity-e.productqty!=0):this.AllProductionPlan.concat([]),this.totalCount=this.ProductionPlanList.length,this.ProductionPlanList=this.ProductionPlanList.splice((this.PageNo-1)*this.PageSize,this.PageSize),this.cd.markForCheck()})}GetProductionPlanLCount(){this._ProductionPlanService.GetProductionPlanCount(this._filter).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}FilterData(){this.SearchProductionPlan()}SearchProductionPlan(e=null){this._filter.subid=this.subsidiaryID,this._filter.lang=this.lang,this.GetProductionPlanBy()}Save(e){e.form.valid&&(this._wrapper.subsidiaryid=this.subsidiaryID,this._ProductionPlanService.SaveProductionPlan(this._wrapper).subscribe(t=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),console.log("form",e.submitted),this._wrapper=new ro,this._wrapper.date=(new Date).toISOString().slice(0,16),this.SearchProductionPlan()}))}ExecutePlans(){if(this.selectedRows.length>0){var e=[];for(var t of this.selectedRows)e.push(t.id);var n=e.join(",");this._router.navigate(["/page/production/productionvoucher/0/0/"+n]).then(()=>{})}else We().fire({text:this.swalSelectItemText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Ok,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{})}ExecuteBOM(){if(this.selectedRows.length>0){var e=[];for(var t of this.selectedRows)e.push(t.id);if(1==this.selectedRows.length&&0!=this.selectedRows[0].bom)this._router.navigate(["/page/production/bom/"+this.selectedRows[0].bomid]).then(()=>{});else{var n=e.join(",");this._router.navigate(["/page/production/bom/0/"+n]).then(()=>{})}}else We().fire({text:this.swalSelectItemText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Ok,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{})}ShowProductionPlan(){this._filter.checktotalproduction=!this._filter.checktotalproduction,this.GetProductionPlanBy(),this.cd.markForCheck()}onRowSelect(e){1==this._filter.allSelect?(this._filter.allSelect=!1,this.unSelectedRows.push(e)):0==this.unSelectedRows.length?this.selectedRows.indexOf(e)>-1?this.selectedRows.splice(this.selectedRows.indexOf(e),1):this.selectedRows.push(e):this.unSelectedRows.indexOf(e)>-1?(this.unSelectedRows.splice(this.unSelectedRows.indexOf(e),1),0==this.unSelectedRows.length&&(this._filter.allSelect=!0,this.selectedRows=[],this.unSelectedRows=[])):this.unSelectedRows.push(e)}delete(e){We().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&this._ProductionPlanService.DeleteProductionPlan(e).subscribe(e=>{0==e?(this.toastr.success(this.toastrSuccessDelete),this.SearchProductionPlan()):this.toastr.error(this.DeleteRelationmsg)})})}Edit(e,t){this.Plan=e,this.modalReference=this.modalService.open(t,{size:"xl",backdrop:"static"})}OnPrint(e=0){setTimeout(()=>{const e=document.getElementById("BC_DiV");this._printService.OnPrintContent(e.innerHTML)},1e3)}SaveEdit(){this._ProductionPlanService.SaveProductionPlan(this.Plan).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.SearchProductionPlan()})}Reset(){this._wrapper=new ro,this._wrapper.date=(new Date).toISOString().slice(0,16)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._filter.PageNo=e,this.PageNo=e,this.GetProductionPlanBy(),this.cd.markForCheck()}onPageSizeChange(e){this._filter.PageSize=e,this.PageSize=e,this.GetProductionPlanBy(),this.cd.markForCheck()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](so),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](i.uU),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](oe.FF),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](l.gz),c["\u0275\u0275directiveInject"](te.$),c["\u0275\u0275directiveInject"](R.e))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-productionplan"]],hostBindings:function(e,t){1&e&&c["\u0275\u0275listener"]("focus",function(e){return t.onFocus(e)},!1,c["\u0275\u0275resolveWindow"])("blur",function(e){return t.onBlur(e)},!1,c["\u0275\u0275resolveWindow"])},features:[c["\u0275\u0275ProvidersFeature"]([so,i.uU])],decls:22,vars:16,consts:[["class","row",4,"ngIf"],["class","card my-4 mx-2 px-3",4,"ngIf"],["EditmModel",""],["id","BC_DiV",3,"hidden"],["id","TableList",1,"table","text-center","m-0","table","table-striped"],[4,"ngIf"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-content"],[1,"card-body"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount",3,"ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","textinput",1,"control-label"],[2,"color","red","font-weight","bold"],["minLength","0","delay","0","field","code","name","itemcode","required","",3,"ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoItems","","itemcode","ngModel"],["pTemplate","servCodeTemplate"],["for","Quantity ",1,"control-label"],["type","number","id","quantity","name","quantity","customMin","","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","Min","ngClass","ngModelChange"],["quantity","ngModel"],["for","Date",1,"control-label"],["type","datetime-local","id","date","name","date","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["date","ngModel"],["for","salesmanid",1,"col-form-label"],["name","salesmanid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","Unit",1,"control-label"],["name","itemunit","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-9","col-md-9","col-sm-12","text-left","actionBtns"],["type","submit",1,"btn","btn-success","mr-2"],[1,"mr-1"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button",1,"btn","btn-primary","mr-2",3,"click"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],[1,""],[1,"btn-group"],["id","visability","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu","mr-2",2,"text-align","right","color","black"],[1,"dropdown-item",3,"ngClass","click"],[1,"col-lg-3","col-md-3","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-12",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-4"],["checked","","id","TotalProduced","name","TotalProduced","type","checkbox","value","checked",3,"ngModel","ngModelChange","click"],["for","TotalProduced"],[1,"col-12"],[2,"margin-top","35px"],[1,"card"],[1,"card-header"],[1,"col-md-2","col-sm-12","float-right"],[1,"card-body","table-responsive"],["class","d-flex justify-content-between\n                flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"ngValue"],[3,"value"],["type","text",1,"form-control",2,"width","100%","height","10%",3,"ngModel","placeholder","ngModelChange","keyup"],["type","text",1,"form-control",2,"width","80%","height","10%",3,"ngModel","placeholder","ngModelChange","keyup"],[4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",3,"checked","ngModel","checkedChange","ngModelChange","change",4,"ngIf"],["href","javascript:;",1,"success","p-0",3,"click"],[1,"ft-edit","font-medium-3","mr-2"],["type","checkbox",3,"checked","ngModel","checkedChange","ngModelChange","change"],["href","javascript:;",3,"routerLink",4,"ngIf"],["href","javascript:;",3,"routerLink"],["class"," mr-1",3,"click",4,"ngIf"],[1,"mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[2,"background-color","#b0bed9"],["colspan","16"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12","form-group"],["for","plannedqty",1,"col-form-label"],["type","number","id","plannedqty","name","plannedqty",1,"form-control",3,"ngModel","ngModelChange"],["for","productionqty",1,"col-form-label"],["type","text","id","productionqty","name","productionqty","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["productionqty","ngModel"],["for","remainqty",1,"col-form-label"],["type","text","id","remainqty","name","remainqty","readonly","",1,"form-control"],["class","col-md-12 form-group","style","color: red",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-secondary","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],[1,"col-md-12","form-group",2,"color","red"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,co,4,3,"div",0),c["\u0275\u0275elementStart"](1,"section"),c["\u0275\u0275template"](2,xa,180,150,"div",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](3,Ma,35,23,"ng-template",null,2,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementStart"](5,"div",3),c["\u0275\u0275elementStart"](6,"table",4),c["\u0275\u0275elementStart"](7,"thead"),c["\u0275\u0275elementStart"](8,"tr"),c["\u0275\u0275template"](9,Sa,3,3,"th",5),c["\u0275\u0275template"](10,Pa,3,3,"th",5),c["\u0275\u0275template"](11,Ra,3,3,"th",5),c["\u0275\u0275template"](12,Oa,3,3,"th",5),c["\u0275\u0275template"](13,Ia,3,3,"th",5),c["\u0275\u0275template"](14,Ea,3,3,"th",5),c["\u0275\u0275template"](15,wa,3,3,"th",5),c["\u0275\u0275template"](16,ka,3,3,"th",5),c["\u0275\u0275template"](17,Ba,3,3,"th",5),c["\u0275\u0275template"](18,Da,3,3,"th",5),c["\u0275\u0275template"](19,Fa,3,3,"th",5),c["\u0275\u0275template"](20,La,3,3,"th",5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,Ha,2,1,"tbody",5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("ngIf",!t.checkRoleParms(8949)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.checkRoleParms(8949)),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden",!0),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",1==t.show1Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==t.show2Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==t.show3Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==t.show4Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==t.show5Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==t.show6Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==t.show7Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==t.show8Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==t.show9Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==t.show10Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==t.show11Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==t.show12Col),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.ProductionPlanList.length>0&&1==t.CheckTotalProduction))},directives:[i.O5,a._Y,a.JL,a.F,h.Qc,a.JJ,a.On,i.mk,it.jx,a.Q7,a.wV,a.Fj,nt.a,re.K,a.EJ,i.sg,a.Wl,a.YN,a.Kr,l.yS,oe.N9],pipes:[d.X$,dt.N,i.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.activeCol[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{background-color:#e4e0e0;color:#fff}th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top:none;border-left:none;border-right:none}[_ngcontent-%COMP%]::-webkit-input-placeholder{white-space:pre-line;position:relative;top:-7px;font-size:10px;font-weight:700;text-decoration:underline}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.dropdown-item[_ngcontent-%COMP%]{color:#000}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#000}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#000}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();class Za{constructor(){this.bomid=null,this.subsidiaryid=null,this.branch_id=null,this.entry_no=null,this.production_storeid=null,this.productionplanid=null,this.entry_date=null,this.update_date=null,this.details=[]}}class Ka{constructor(){this.id=0,this.bom_id=null,this.finishitemid=null,this.itemid=null,this.unit_id=null,this.store_id=null,this.conv=null,this.qty=null,this.totalqty=null,this.replenshdiff=null}}let Xa=(()=>{class e{constructor(e){this.http=e,this.baseUrl=Ke.N.apiUrl,this.reportUrl=Ke.N.aspDomain}CustomerAccountsList(e,t){return this.http.get(`${this.baseUrl}/Customer/CustomerAccountsList?SubsidiaryID=${e}&SearchValue=${t}`).pipe((0,ao.U)(e=>e))}AllActiveUserBranchddl(e){return this.http.get(`${this.baseUrl}/Branch/AllActiveUserBranchddl?SubsidiaryID=${e}`).pipe((0,ao.U)(e=>e))}GetAllActiveStoreBySubsID(e,t){var n=`${this.baseUrl}/Items/GetAllActiveStoreBySubsID?SubsidiaryID=${e}&where=${t}`;return null!=t&&null!=t&&""!=t||(n=`${this.baseUrl}/Items/GetAllActiveStoreBySubsID?SubsidiaryID=${e}`),this.http.get(n).pipe((0,ao.U)(e=>e))}CheckTransferCreated(e){return this.http.get(`${this.baseUrl}/BOM/CheckTransferCreated?ids=${e}`).pipe((0,ao.U)(e=>e))}GetBOMDetail(e,t){return this.http.get(`${this.baseUrl}/BOM/GetBOMDetails?ids=${e}&subid=${t}`).pipe((0,ao.U)(e=>e))}DeleteBOM(e){return this.http.get(`${this.baseUrl}/BOM/DeleteBOM?id=${e}`).pipe((0,ao.U)(e=>e))}BOMSave(e){return this.http.post(this.baseUrl+"/BOM/BOMSave",e).pipe((0,ao.U)(e=>e))}GetBOMNextCode(e){return this.http.get(`${this.baseUrl}/BOM/GetBOMNextCode?subid=${e}`).pipe((0,ao.U)(e=>e))}BOMDetailsByID(e){return this.http.get(`${this.baseUrl}/BOM/BOMDetailsByID?BOMid=${e}`).pipe((0,ao.U)(e=>e))}CreateTransfer(e){return this.http.post(this.baseUrl+"/BOM/CreateTransfer",e).pipe((0,ao.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](s.eN))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function es(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",36),c["\u0275\u0275text"](1,"choose"),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function ts(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",36),c["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function ns(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function is(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function rs(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",37),c["\u0275\u0275template"](1,ns,2,1,"span",35),c["\u0275\u0275template"](2,is,2,1,"span",35),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function os(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",36),c["\u0275\u0275text"](1,"choose"),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function as(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",36),c["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function ss(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function cs(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function ls(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",37),c["\u0275\u0275template"](1,ss,2,1,"span",35),c["\u0275\u0275template"](2,cs,2,1,"span",35),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function ds(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"button",38),c["\u0275\u0275element"](1,"i",22),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](3,1,"Save")," "))}function ps(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",21),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().Delete()}),c["\u0275\u0275element"](1,"i",22),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](3,1,"Delete")," "))}function ms(e,t){1&e&&c["\u0275\u0275element"](0,"img",39)}function hs(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function us(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function gs(e,t){if(1&e&&(c["\u0275\u0275template"](0,hs,2,1,"div",35),c["\u0275\u0275template"](1,us,2,1,"div",35)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function _s(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function Cs(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function fs(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function bs(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.namear," ")}}function ys(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,fs,2,1,"td",35),c["\u0275\u0275template"](2,bs,2,1,"td",35),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]().$implicit,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.id===n.item_type&&"ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.id===n.item_type&&"ar"==i.lang)}}function xs(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",36),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function vs(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",36),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Ms(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name)}}function Ss(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name_ar)}}function Ps(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",37),c["\u0275\u0275template"](1,Ms,2,1,"span",35),c["\u0275\u0275template"](2,Ss,2,1,"span",35),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const Rs=function(e){return{item_id:e}},Os=function(e,t){return{"invalid-data":e,"valid-data":t}};function Is(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"p-autoComplete",45,46),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](3),i=c["\u0275\u0275nextContext"](3);return i.onFocusInStore(t),n.show(),i.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).StoreChangeSearch(t)})("onClear",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).onClearStoreComponent(t)}),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275template"](6,gs,2,2,"ng-template",47),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"td"),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275template"](10,_s,2,1,"div",35),c["\u0275\u0275template"](11,Cs,2,1,"div",35),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](12,ys,3,2,"ng-container",48),c["\u0275\u0275elementStart"](13,"td"),c["\u0275\u0275elementStart"](14,"select",49,50),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),c["\u0275\u0275template"](16,xs,2,1,"option",15),c["\u0275\u0275template"](17,vs,2,1,"option",15),c["\u0275\u0275template"](18,Ps,3,3,"option",51),c["\u0275\u0275pipe"](19,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"td"),c["\u0275\u0275elementStart"](21,"input",52,53),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.conv=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"td"),c["\u0275\u0275elementStart"](24,"input",54,55),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeQtyComponent(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"td"),c["\u0275\u0275elementStart"](27,"input",56,57),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.defaultitemqty=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"td"),c["\u0275\u0275elementStart"](30,"input",58,59),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qtydiff=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275reference"](22),r=c["\u0275\u0275reference"](25),o=c["\u0275\u0275nextContext"](3),a=c["\u0275\u0275reference"](8);c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","storecodecomponent",n,""),c["\u0275\u0275property"]("ngModel",e.storecode)("suggestions",o.StoreList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](5,37,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate1"](" ",e.itemcode.code," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",o.ItemTypesList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","itemcomponentunit",n,""),c["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id)),c["\u0275\u0275attribute"]("disabled",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](19,39,o.ItemComponentUnitsList,c["\u0275\u0275pureFunction1"](42,Rs,null==e?null:e.item_id)))("ngForTrackBy",o._ReceiptSharedService.customTrackBy),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_conv",n,""),c["\u0275\u0275property"]("readonly",!0)("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.conv)("required",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](44,Os,i.invalid&&a.submitted,i.valid&&a.submitted)),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_qty",n,""),c["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",c["\u0275\u0275pureFunction2"](47,Os,r.invalid&&a.submitted,r.valid&&a.submitted)),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","defaultitemqty",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",e.defaultitemqty),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","item_qtydiff",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",e.qtydiff)("required",null!=(null==e?null:e.item_id))}}function Es(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275template"](1,Is,32,50,"tr",44),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.BOMList)("ngForTrackBy",e._ReceiptSharedService.customTrackBy)}}function ws(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275elementStart"](1,"tr",60),c["\u0275\u0275elementStart"](2,"td",61),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,1,"NoData")))}const ks=function(e){return{"table-for-autocomplete":e}};function Bs(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"table",40),c["\u0275\u0275elementStart"](2,"thead"),c["\u0275\u0275elementStart"](3,"tr",41),c["\u0275\u0275elementStart"](4,"th",42),c["\u0275\u0275text"](5),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"th",42),c["\u0275\u0275text"](8),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"th",42),c["\u0275\u0275text"](11),c["\u0275\u0275pipe"](12,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"th",42),c["\u0275\u0275text"](14),c["\u0275\u0275pipe"](15,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"th",43),c["\u0275\u0275text"](17),c["\u0275\u0275pipe"](18,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"th",42),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"th",42),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"th",42),c["\u0275\u0275text"](26),c["\u0275\u0275pipe"](27,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"th",42),c["\u0275\u0275text"](29),c["\u0275\u0275pipe"](30,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](31,Es,2,2,"tbody",35),c["\u0275\u0275template"](32,ws,5,3,"tbody",35),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](30,ks,e.isType)),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](6,12,"Componant Store")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](9,14,"ItemCode")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](12,16,"ItemDescription")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](15,18,"ItemType")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](18,20,"Unit")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,22,"Pack")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](24,24,"qty")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](27,26,"Available Qty")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](30,28,"QtyDiff")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.BOMList.length>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==e.BOMList.length)}}let Ds=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d,p,m,h){this._BOMService=e,this._ReceiptSharedService=t,this._VoucherService=n,this.cd=i,this.toastr=r,this._router=o,this.datepipe=a,this._generalService=s,this.translate=c,this._translateGlobalService=l,this.spinner=d,this._printService=m,this._authService=h,this.isType=!1,this._BOM=new Za,this._BOMDetails=new Ka,this.subsidiaryID=0,this.PageSize=10,this.totalCount=0,this.PageNo=1,this.Branchlist=[],this.BOMList=[],this.OrginalBOMList=[],this.ItemComponentUnitsList=[],this.StoreList=[],this.CustomerAccountsList=[],this.ItemsList=[],this.ItemUnitsList=[],this.title="",this.emptyDateMsg="",this.invalidDateMsg="",this.BasicCodeReceipt=80,this._Receipt=new x.tY,this.allowsave=!0,this.ItemTypesList=[{id:1,name:"Inventory Item",namear:"\u0635\u0646\u0641 \u0645\u062e\u0632\u0646\u0649"},{id:2,name:"Service Item",namear:"\u062e\u062f\u0645\u0629"},{id:3,name:"Kit / Package",namear:"\u0635\u0646\u0641 \u0645\u062c\u0645\u0639"},{id:4,name:"Finish Product",namear:"\u0635\u0646\u0641 \u062a\u0627\u0645"},{id:5,name:"Configurable",namear:"\u062a\u0634\u0643\u064a\u0644\u064a"}],this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Ok="",this.swalSelectItemText="",this.Cancel="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.DuringSaveDisable=!1,this.SaveMsg="",this._PPlan=[],this.requiredMSG="",this.ngtiveQtyMSG="",this.TransferRequestDone="",this.sortDirection="asc",this.sortColumn="",this.orderby="",this.transferDisabled=!1,this.toStoreList=[],this.ItemsProductionPlan=[],this.ItemsComponentsProductionPlan=[],this.isloading=!1,this.wrapper=new x.I$,this.BOMId=0,this.qtySave=!1,this.ReceiptsList=[],this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["BOM","EmptyDateMsg","InvalidDateMsg","SaveMsg","swalDeleteTitle","TransferRequestDone","swalDetlateText","swalDetlateConfirmButtonText","Ok","Cancel","successMsg","requiredMSG","ngtiveQtyMSG"]).subscribe(e=>{this.title=e.BOM,document.title=this.title,this.emptyDateMsg=e.EmptyDateMsg,this.invalidDateMsg=e.InvalidDateMsg,this.SaveMsg=e.SaveMsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.Ok=e.Ok,this.Cancel=e.Cancel,this.toastrSuccessDelete=e.successMsg,this.DeleteRelationmsg=e.DeleteRelationmsg,this.requiredMSG=e.requiredMSG,this.ngtiveQtyMSG=e.ngtiveQtyMSG,this.TransferRequestDone=e.TransferRequestDone})}),p.params.subscribe(e=>{this.ProductPlanIds=e.productionids,this.BOMId=e.id,this.subsidiaryID=this._generalService.SubsidiaryID,this._BOM.bomid=this.BOMId,this._BOM.subsidiaryid=this.subsidiaryID,null!=this.ProductPlanIds?-1===this.ProductPlanIds.toLowerCase().indexOf(",")?(this._BOM.productionplanid=Number(this.ProductPlanIds),this.allowsave=!0):this.allowsave=!1:this.allowsave=!0,this.GetData()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.GetData()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID,this.GetData();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._BOM.branch_id=null,localStorage.setItem("Branch",JSON.stringify({branchId:this._BOM.branch_id})),this.GetData()}})}ngOnInit(){}onFocus(){document.title=this.title}onBlur(){document.title=this.title}GetData(){if(0==this.BOMId){this.GetBOMNextCode(),this.GetBOMDetails();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e?(this._BOM.branch_id="null"!=e.branchId?e.branchId:0,this.GetDefaultStoreCostCenterByBranch()):this._BOM.branch_id=null,parseInt(this.ProductPlanIds)>0&&null!=this.ProductPlanIds&&setTimeout(()=>{this.cd.markForCheck()},1e3)}else this.GetBOM();this.GetBranchList(),this.GettostoreList(),this.GetCurrencyList()}GetBOMNextCode(){this._BOMService.GetBOMNextCode(this.subsidiaryID).subscribe(e=>{this._BOM.entry_no=null==e[0].code?1:e[0].code+1})}GetBOM(){this.isloading=!0,this._BOMService.BOMDetailsByID(this.BOMId).subscribe(e=>{null!=e&&(this._BOM=e.bom,this.BOMList=e.bomdetails,this.BOMList.forEach(e=>{e.itemcode={code:e.itemcode},e.storecode={code:e.storecode}}),this.OrginalBOMList=this.BOMList,this.ItemComponentUnitsList=e.itemunits,this._PPlan=e.productionplan,this.ProductPlanIds=this._PPlan[0].id,null!=this._PPlan[0].transferrequestid&&""!=this._PPlan[0].transferrequestid&&(this.transferDisabled=!0,this.transferIds=this._PPlan[0].transferrequestid),this.TransferRequestDoneMsg(),this.isloading=!1,this.cd.markForCheck())})}GetBranchList(){this._BOMService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.Branchlist=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._BOM.branch_id="0"!=e?e:null,localStorage.setItem("Branch",JSON.stringify({branchId:this._BOM.branch_id})),this.GetDefaultStoreCostCenterByBranch()}GetDefaultStoreCostCenterByBranch(){this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._BOM.branch_id).subscribe(e=>{this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid&&(this._BOM.production_storeid=this.StoreCostCenterSetting.storeid),this.cd.markForCheck()})}GettostoreList(){this._BOMService.GetAllActiveStoreBySubsID(this.subsidiaryID,"").subscribe(e=>{this.toStoreList=e,this.cd.markForCheck()})}GetBOMDetails(){this.isloading=!0,this.BOMList=[],this._BOMService.GetBOMDetail(this.ProductPlanIds,this.subsidiaryID).subscribe(e=>{e.itemunits.forEach(e=>{this.ItemUnitsList.push(e)}),this.ItemsProductionPlan=e.items,e.itemcomponents.length>0&&(this.ItemsComponentsProductionPlan=e.itemcomponents,this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(e.componentsunits));for(let t=0;t<this.ItemsProductionPlan.length;t++){let e=this.ItemsProductionPlan[t],n=this.ItemUnitsList.find(t=>t.item_id==e.itemid&&t.id==e.productionunit),i=new x.hm,r=Math.max(...this._Receipt.details.map(e=>e.rowno),0);i.rowno=r+1,i.item_id=e.itemid,i.itemcode={code:e.itemcode},i.itemname=e.itemname,i.itemname_ar=e.itemname_ar,i.unit_id=e.productionunit,i.qty=e.itemqty,i.transaction_move=1,i.item_type=e.item_type,i.indirectexpensesunit=e.indirectexpensesunit,i.productionunitexpense=i.indirectexpensesunit,i.productionqtyexpense=Number((i.productionunitexpense*i.qty).toFixed(6)),i.conv=n.conv,i.final_conv=n.finalconv,i.finishedproductid=null,this.ItemsComponentsProductionPlan.filter(e=>e.item_id==i.item_id).forEach(e=>{let t=new x.hm,n=Math.max(...this._Receipt.itemscomponent.map(e=>e.rowno),0);t.rowno=n+1,t.transaction_move=-1,t.updatefromproc=1,t.store_id=e.storeid,t.storecode={code:e.storecode},t.item_id=e.itemcomponentid,t.itemcode={code:e.itemcode},t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.item_type=e.item_type,t.qty=e.itemcomponentqty*i.qty,t.basicqtycomponent=e.itemcomponentqty,t.defaultitemqty=e.defaultitemqty,t.qtydiff=Number(t.qty-t.defaultitemqty),t.conv=e.itemcomponentconv,t.unit_id=e.inventory_unitid,t.final_conv=1,t.finishedproductid=null,this.BOMList.push(t),t.finishedproductid=e.item_id,this._Receipt.itemscomponent.push(t)}),this._Receipt.details.push(i)}this._Receipt.prodplansid=this.ProductPlanIds,this.OrginalBOMList=this.BOMList,this._PPlan=e.plan,this._PPlan.forEach(e=>{if(null!=e.transferrequestid&&""!=e.transferrequestid){this.transferDisabled=!0;var t=[];t.push(e.transferrequestid),this.transferIds=t.join(",")}}),this.TransferRequestDoneMsg(),this.isloading=!1,this.cd.markForCheck()})}onFocusInStore(e){this.GetStoreList("")}StoreChangeSearch(e){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this.BOMList[t].store_id=e.id,this.BOMList[t].storecode={code:e.code},this.OrginalBOMList[t].store_id=this.BOMList[t].store_id,this.OrginalBOMList[t].storecode=this.BOMList[t].storecode,this.wrapper={ReceiptCode:0,BranchID:0,itemid:this.BOMList[t].item_id,Unit_ID:this.BOMList[t].unit_id,conv:1,Qty:1,Entrydate:this.datepipe.transform(new Date,"MM'-'dd'-'yyyy' 'HH':'mm"),subsidairyid:this.subsidiaryID,StoreID:this.BOMList[t].store_id,ReceiptID:0},this._ReceiptSharedService.GetAllItemStoreQty(this.wrapper).subscribe(e=>{var n=e.find(e=>e.storeid==this.BOMList[t].store_id);null!=n&&null!=n?(this.BOMList[t].defaultitemqty=n.totalqty,this.BOMList[t].qtydiff=Number(this.BOMList[t].qty-this.BOMList[t].defaultitemqty)):(this.BOMList[t].defaultitemqty=0,this.BOMList[t].qtydiff=Number(this.BOMList[t].qty-this.BOMList[t].defaultitemqty))}),this.cd.markForCheck()}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,this.cd.markForCheck()})}onClearStoreComponent(e){e.store_id=null,e.storecode=null}ChangeQtyComponent(e){null==this.BOMList[e].qty&&(this.BOMList[e].qty=0),this.BOMList[e].qtydiff=Number((this.BOMList[e].qty-this.BOMList[e].defaultitemqty).toFixed(6)),this.BOMList[e].total=Number((this.BOMList[e].price*this.BOMList[e].qty).toFixed(6)),this.OrginalBOMList[e].qtydiff=this.BOMList[e].qtydiff,this.OrginalBOMList[e].total=this.BOMList[e].total,this.OrginalBOMList[e].qty=this.BOMList[e].qty,this.cd.markForCheck()}SearchValueFun(){this.BOMList=this.OrginalBOMList,""!=this.searchValue||null!=this.searchValue?(this.BOMList=this.BOMList.filter("ar"==this.lang?e=>(null!=e.storecode?e.storecode.code.includes(this.searchValue):null)||e.itemcode.code.includes(this.searchValue)||e.itemname_ar.includes(this.searchValue)||this.ItemTypesList.find(t=>t.id===e.item_type).namear.includes(this.searchValue)||this.ItemComponentUnitsList.find(t=>t.id==e.unit_id).name_ar.includes(this.searchValue)||e.conv.toString().includes(this.searchValue)||e.qty.toString().includes(this.searchValue)||e.defaultitemqty.toString().includes(this.searchValue)||e.qtydiff.toString().includes(this.searchValue):e=>{null!=e.storecode&&e.storecode.code.includes(this.searchValue)||e.itemcode.code.includes(this.searchValue)||e.itemname.includes(this.searchValue)||this.ItemTypesList.find(t=>t.id===e.item_type).name.includes(this.searchValue)||this.ItemComponentUnitsList.find(t=>t.id==e.unit_id).name.includes(this.searchValue)||e.conv.includes(this.searchValue)||e.qty.includes(this.searchValue)||e.defaultitemqty.includes(this.searchValue)||e.qtydiff.includes(this.searchValue)}),this.cd.markForCheck()):(this.BOMList=this.OrginalBOMList,this.cd.markForCheck())}Save(e){e.form.valid?(this.OrginalBOMList.forEach(e=>{var t=new Ka;if(t.conv=e.conv,t.qty=e.qty,t.itemid=e.item_id,t.store_id=e.store_id,t.replenshdiff=e.qtydiff,t.finishitemid=e.finishedproductid,t.totalqty=e.defaultitemqty,t.unit_id=e.unit_id,e.id>0&&null!=e.id&&(t.id=e.id),this._BOM.details.push(t),e.qty<0)return this.toastr.error(this.ngtiveQtyMSG),void(this.qtySave=!0)}),this._BOM.entry_date=new Date,0==this.qtySave&&this._BOMService.BOMSave(this._BOM).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this._router.navigate(["/page/production/bom/"+e.id]).then(()=>{window.location.reload()})})):this.toastr.error(this.requiredMSG)}Reset(){this.GetBOMDetails()}TransferRequest(e){if(this.ReceiptsList=[],e.form.valid){for(var t of(this.transferDisabled=!0,this.group=[...new Map(this.BOMList.map(e=>[e.store_id,e.store_id])).values()],this.group))if(this._BOM.production_storeid!=t){var n=new x.tY;n.entry_no=0,n.code=this.BasicCodeReceipt,n.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),n.entry_time=this.SetTimeNow(),n.branch_id=this._BOM.branch_id,n.code=80,n.erpstatus=1,n.storetype=2,n.currency_id=this._BaseCurrency.id,n.currency_rate=1,n.replenshimenttype=3,n.schedule_date=n.entry_date,n.schedule_time=n.entry_time,n.subsidiaryid=this.subsidiaryID,n.tostoreid=this._BOM.production_storeid,n.fromstoreid=t,n.details=this.BOMList.filter(e=>e.store_id==t);var i=this._Receipt.itemscomponent.filter(e=>e.store_id==t);for(var r of i){var o=[];for(var a of this._PPlan)a.itemid==r.finishedproductid&&o.push(a.id)}n.prodplansid=o.join(","),console.log(n.prodplansid),n.details.forEach(e=>e.finishedproductid=null),this.ReceiptsList.push(n)}else this.transferDisabled=!1;this.ReceiptsList.length>0&&(this.isloading=!0,console.log(this.ReceiptsList,"this.ReceiptsList"),this.spinner.show(),this._BOMService.CreateTransfer(this.ReceiptsList).subscribe(e=>{e.length>0&&(this.transferDisabled=!0),console.log(e,"res"),this.isloading=!1,this.TransferRequestCreated(e),this.cd.markForCheck()}))}else this.toastr.error(this.requiredMSG)}ExecutePlans(){this._router.navigate(["/page/production/productionvoucher/0/0/"+this.ProductPlanIds]).then(()=>{})}Back(){this._router.navigate(["/page/production/productionplan"]).then(()=>{window.location.reload()})}Delete(){this._BOMService.DeleteBOM(this.BOMId).subscribe(e=>{1==e?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/production/bom/0/"+this._BOM.productionplanid]).then(()=>{window.location.reload()})):this.toastr.error(this.DeleteRelationmsg)})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this.cd.markForCheck())})}TransferRequestDoneMsg(){this.transferDisabled&&We().fire({text:this.TransferRequestDone+this.transferIds,showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Ok,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{})}TransferRequestCreated(e){this.transferDisabled&&We().fire({text:this.TransferRequestDone+" "+e,icon:"success",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Ok,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{})}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](Xa),c["\u0275\u0275directiveInject"](K.t),c["\u0275\u0275directiveInject"](Ze.H),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](i.uU),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](ee.t2),c["\u0275\u0275directiveInject"](l.gz),c["\u0275\u0275directiveInject"](te.$),c["\u0275\u0275directiveInject"](R.e))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-BOM"]],hostBindings:function(e,t){1&e&&c["\u0275\u0275listener"]("focus",function(e){return t.onFocus(e)},!1,c["\u0275\u0275resolveWindow"])("blur",function(e){return t.onBlur(e)},!1,c["\u0275\u0275resolveWindow"])},features:[c["\u0275\u0275ProvidersFeature"]([Xa,i.uU,K.t,Ze.H])],decls:77,vars:49,consts:[[1,"card"],[1,"card-header","p-0"],[1,"col-12","headerform"],[1,"card-content"],[1,"card-body"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-sm-12","row"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branchid",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branchid","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["branch","ngModel"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","Unit",1,"control-label"],["name","tostoreid","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["storeid","ngModel"],[1,"col-12"],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"ft-check-square","mr-1"],["type","submit","class","btn btn-primary mr-2",4,"ngIf"],["type","button","class","btn btn-primary mr-2",3,"click",4,"ngIf"],[2,"margin-top","35px"],[1,"row",2,"margin-top","20px"],[1,"h3","h3-primary"],[1,"card-header"],[1,"form-group","row"],["for","SearchValue",1,"col-md-3"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-4",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"card-body","table-responsive"],["src","../../../../assets/img/loading/loading.gif",4,"ngIf"],[4,"ngIf"],[3,"ngValue"],[3,"value"],["type","submit",1,"btn","btn-primary","mr-2"],["src","../../../../assets/img/loading/loading.gif"],["id","TableList",1,"table-responsive","table","table-accountdetails",3,"ngClass"],[2,"background","#e9f1f5"],["scope","col"],["scope","col",2,"width","9%"],[4,"ngFor","ngForOf","ngForTrackBy"],["minLength","0","delay","0","field","code","required","",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStorecomponent","","storecode","ngModel"],["pTemplate","servstorecomponentTemplate"],[4,"ngFor","ngForOf"],[1,"form-control",3,"name","ngModel","required","ngModelChange"],["itemcomponentunit","ngModel"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number","required","",1,"form-control",3,"readonly","Min","CheckMin","ngModel","name","required","ngClass","ngModelChange"],["itemcomponent_conv","ngModel"],["PositiveNumbersOnly","","type","number","required","",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["itemcomponent_qty","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],["defaultitemqty","ngModel"],["PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","required","ngModelChange"],["item_qtydiff","ngModel"],[2,"background-color","#b0bed9"],["colspan","16"]],template:function(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",3),c["\u0275\u0275elementStart"](6,"div",4),c["\u0275\u0275elementStart"](7,"form",5,6),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](8);return t.Save(n)}),c["\u0275\u0275element"](9,"div",7),c["\u0275\u0275elementStart"](10,"div",8),c["\u0275\u0275elementStart"](11,"div",9),c["\u0275\u0275elementStart"](12,"div",10),c["\u0275\u0275elementStart"](13,"label",11),c["\u0275\u0275text"](14),c["\u0275\u0275pipe"](15,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"span",12),c["\u0275\u0275text"](17,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"select",13,14),c["\u0275\u0275listener"]("ngModelChange",function(e){return t._BOM.branch_id=e})("change",function(e){return t.ChangeBranch(e.target.value)}),c["\u0275\u0275template"](20,es,2,1,"option",15),c["\u0275\u0275template"](21,ts,2,1,"option",15),c["\u0275\u0275template"](22,rs,3,3,"option",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"div",9),c["\u0275\u0275elementStart"](24,"div",10),c["\u0275\u0275elementStart"](25,"label",17),c["\u0275\u0275text"](26),c["\u0275\u0275pipe"](27,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"span",12),c["\u0275\u0275text"](29,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"select",18,19),c["\u0275\u0275listener"]("ngModelChange",function(e){return t._BOM.production_storeid=e}),c["\u0275\u0275template"](32,os,2,1,"option",15),c["\u0275\u0275template"](33,as,2,1,"option",15),c["\u0275\u0275template"](34,ls,3,3,"option",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"div",20),c["\u0275\u0275elementStart"](36,"button",21),c["\u0275\u0275listener"]("click",function(){return t.Reset()}),c["\u0275\u0275element"](37,"i",22),c["\u0275\u0275text"](38),c["\u0275\u0275pipe"](39,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"button",21),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](8);return t.TransferRequest(n)}),c["\u0275\u0275element"](41,"i",22),c["\u0275\u0275text"](42),c["\u0275\u0275pipe"](43,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](44,ds,4,3,"button",23),c["\u0275\u0275template"](45,ps,4,3,"button",24),c["\u0275\u0275elementStart"](46,"button",21),c["\u0275\u0275listener"]("click",function(){return t.ExecutePlans()}),c["\u0275\u0275element"](47,"i",22),c["\u0275\u0275text"](48),c["\u0275\u0275pipe"](49,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"button",21),c["\u0275\u0275listener"]("click",function(){return t.Back()}),c["\u0275\u0275element"](51,"i",22),c["\u0275\u0275text"](52),c["\u0275\u0275pipe"](53,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](54,"div",8),c["\u0275\u0275elementStart"](55,"div",20),c["\u0275\u0275elementStart"](56,"section",25),c["\u0275\u0275elementStart"](57,"div",26),c["\u0275\u0275elementStart"](58,"div",20),c["\u0275\u0275elementStart"](59,"h3",27),c["\u0275\u0275text"](60),c["\u0275\u0275pipe"](61,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](62,"div",8),c["\u0275\u0275elementStart"](63,"div",20),c["\u0275\u0275elementStart"](64,"div",0),c["\u0275\u0275elementStart"](65,"div",28),c["\u0275\u0275elementStart"](66,"div",9),c["\u0275\u0275elementStart"](67,"div",29),c["\u0275\u0275elementStart"](68,"label",30),c["\u0275\u0275text"](69),c["\u0275\u0275pipe"](70,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](71,"input",31,32),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchValue=e})("keyup",function(){return t.SearchValueFun()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](73,"div",3),c["\u0275\u0275elementStart"](74,"div",33),c["\u0275\u0275template"](75,ms,1,0,"img",34),c["\u0275\u0275template"](76,Bs,33,32,"div",35),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](8),n=c["\u0275\u0275reference"](19),i=c["\u0275\u0275reference"](31);c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](4,25,"BOM")," "),c["\u0275\u0275advance"](11),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](15,27,"Branch")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",t._BOM.branch_id)("ngClass",c["\u0275\u0275pureFunction2"](43,Os,n.invalid&&e.submitted,n.valid&&e.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=t.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==t.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.Branchlist),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](27,29,"ProductionStore")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",t._BOM.production_storeid)("ngClass",c["\u0275\u0275pureFunction2"](46,Os,i.invalid&&e.submitted,i.valid&&e.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=t.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==t.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.toStoreList),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](39,31,"Reset")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275attribute"]("disabled",1==t.transferDisabled||null),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](43,33,"TransferOrder")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.allowsave&&0==t.BOMId),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.allowsave&&t.BOMId>0&&null==t._PPlan[0].productionvoucherid&&null==t._PPlan[0].transferrequestid),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](49,35,"Production")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](53,37,"Back")," "),c["\u0275\u0275advance"](8),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](61,39,"BOM")),c["\u0275\u0275advance"](9),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](70,41,"Search")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",t.searchValue),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",t.isloading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!t.isloading)}},directives:[a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,i.mk,i.O5,i.sg,a.Fj,a.YN,a.Kr,h.Qc,it.jx,a.wV,nt.a,tt.L,re.K],pipes:[d.X$,dt.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.activeCol[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{background-color:#e4e0e0;color:#fff}th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top:none;border-left:none;border-right:none}[_ngcontent-%COMP%]::-webkit-input-placeholder{white-space:pre-line;position:relative;top:-7px;font-size:10px;font-weight:700;text-decoration:underline}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.dropdown-item[_ngcontent-%COMP%]{color:#000}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#000}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#000}']}),e})();function Fs(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",4),c["\u0275\u0275elementStart"](1,"h1",5),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Ls(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name)}}function qs(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name_ar)}}function Vs(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",53),c["\u0275\u0275template"](1,Ls,2,1,"span",48),c["\u0275\u0275template"](2,qs,2,1,"span",48),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275propertyInterpolate"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Ns(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",54),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).OnAdd()}),c["\u0275\u0275element"](1,"i",28),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function Ts(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function Us(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function $s(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",49),c["\u0275\u0275template"](2,Ts,1,0,"i",50),c["\u0275\u0275template"](3,Us,1,0,"i",51),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function As(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function Gs(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function zs(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",49),c["\u0275\u0275template"](2,As,1,0,"i",50),c["\u0275\u0275template"](3,Gs,1,0,"i",51),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function js(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function Qs(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function Ws(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function Js(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function Hs(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function Ys(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function Zs(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",49),c["\u0275\u0275template"](2,Hs,1,0,"i",50),c["\u0275\u0275template"](3,Ys,1,0,"i",51),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","CustomerName"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"desc"==e.sortDirection)}}function Ks(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function Xs(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function ec(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",49),c["\u0275\u0275template"](2,Ks,1,0,"i",50),c["\u0275\u0275template"](3,Xs,1,0,"i",51),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","CustomerNamear"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"desc"==e.sortDirection)}}function tc(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function nc(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function ic(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function rc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function oc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.customername)}}function ac(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.customernamear," ")}}function sc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"a",62),c["\u0275\u0275element"](1,"i",63),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/productionvoucher/",null==e?null:e.id,"")}}function cc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,ic,2,1,"td",48),c["\u0275\u0275template"](2,rc,2,1,"td",48),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](7,oc,2,1,"td",48),c["\u0275\u0275template"](8,ac,2,1,"td",48),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td",58),c["\u0275\u0275template"](12,sc,2,1,"a",59),c["\u0275\u0275elementStart"](13,"a",60),c["\u0275\u0275elementStart"](14,"span"),c["\u0275\u0275element"](15,"i",61),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.reference_no),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",n.checkRoleParms(628)),c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/productionvoucher/",null==e?null:e.id,"/show")}}function lc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275template"](1,cc,16,9,"tr",57),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.ReceiptList)}}function dc(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275elementStart"](1,"tr",64),c["\u0275\u0275elementStart"](2,"td",65),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,1,"NoData")))}function pc(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",66),c["\u0275\u0275elementStart"](1,"ngb-pagination",67),c["\u0275\u0275listener"]("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PageNo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"p"),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"select",68),c["\u0275\u0275listener"]("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PageSize=t}),c["\u0275\u0275elementStart"](5,"option",69),c["\u0275\u0275text"](6,"10 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"option",70),c["\u0275\u0275text"](8,"50 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"option",71),c["\u0275\u0275text"](10,"100 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](11,"br"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",e.PageSize)}}function mc(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275elementStart"](1,"div",7),c["\u0275\u0275elementStart"](2,"div",8),c["\u0275\u0275elementStart"](3,"div",9),c["\u0275\u0275elementStart"](4,"h6",10),c["\u0275\u0275text"](5),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",11),c["\u0275\u0275elementStart"](8,"div",12),c["\u0275\u0275elementStart"](9,"section"),c["\u0275\u0275elementStart"](10,"div",4),c["\u0275\u0275elementStart"](11,"div",13),c["\u0275\u0275elementStart"](12,"form",14,15),c["\u0275\u0275listener"]("ngSubmit",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),c["\u0275\u0275elementStart"](14,"div",4),c["\u0275\u0275elementStart"](15,"div",16),c["\u0275\u0275elementStart"](16,"div",17),c["\u0275\u0275elementStart"](17,"label",18),c["\u0275\u0275text"](18),c["\u0275\u0275pipe"](19,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"select",19,20),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),c["\u0275\u0275elementStart"](22,"option",21),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](25,Vs,3,3,"option",22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"div",16),c["\u0275\u0275elementStart"](27,"div",17),c["\u0275\u0275elementStart"](28,"label",23),c["\u0275\u0275text"](29),c["\u0275\u0275pipe"](30,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"input",24,25),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",26),c["\u0275\u0275elementStart"](34,"button",27),c["\u0275\u0275element"](35,"i",28),c["\u0275\u0275text"](36),c["\u0275\u0275pipe"](37,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"button",29),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ShowAll()}),c["\u0275\u0275element"](39,"i",28),c["\u0275\u0275text"](40),c["\u0275\u0275pipe"](41,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"div",30),c["\u0275\u0275elementStart"](43,"div",31),c["\u0275\u0275elementStart"](44,"div",32),c["\u0275\u0275template"](45,Ns,4,3,"button",33),c["\u0275\u0275elementStart"](46,"button",34),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().OnPrint()}),c["\u0275\u0275element"](47,"i",28),c["\u0275\u0275text"](48),c["\u0275\u0275pipe"](49,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"button",35),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().OnPrint(1)}),c["\u0275\u0275element"](51,"i",28),c["\u0275\u0275text"](52),c["\u0275\u0275pipe"](53,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](54,"button",36),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().OnExcel()}),c["\u0275\u0275element"](55,"i",28),c["\u0275\u0275text"](56),c["\u0275\u0275pipe"](57,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](58,"div",37),c["\u0275\u0275elementStart"](59,"div",38),c["\u0275\u0275elementStart"](60,"label",39),c["\u0275\u0275text"](61),c["\u0275\u0275pipe"](62,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](63,"input",40,41),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ChangePropFinish()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](65,"div",4),c["\u0275\u0275elementStart"](66,"div",42),c["\u0275\u0275elementStart"](67,"div",43),c["\u0275\u0275elementStart"](68,"div",44),c["\u0275\u0275elementStart"](69,"div",45),c["\u0275\u0275elementStart"](70,"table",46),c["\u0275\u0275elementStart"](71,"thead"),c["\u0275\u0275elementStart"](72,"tr"),c["\u0275\u0275elementStart"](73,"th",47),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),c["\u0275\u0275text"](74),c["\u0275\u0275pipe"](75,"translate"),c["\u0275\u0275template"](76,$s,4,3,"ng-container",48),c["\u0275\u0275template"](77,zs,4,3,"ng-container",48),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](78,"th",47),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),c["\u0275\u0275text"](79),c["\u0275\u0275pipe"](80,"translate"),c["\u0275\u0275elementContainerStart"](81),c["\u0275\u0275element"](82,"i",49),c["\u0275\u0275template"](83,js,1,0,"i",50),c["\u0275\u0275template"](84,Qs,1,0,"i",51),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](85,"th",47),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),c["\u0275\u0275text"](86),c["\u0275\u0275pipe"](87,"translate"),c["\u0275\u0275elementContainerStart"](88),c["\u0275\u0275element"](89,"i",49),c["\u0275\u0275template"](90,Ws,1,0,"i",50),c["\u0275\u0275template"](91,Js,1,0,"i",51),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](92,"th",47),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),c["\u0275\u0275text"](93),c["\u0275\u0275pipe"](94,"translate"),c["\u0275\u0275template"](95,Zs,4,3,"ng-container",48),c["\u0275\u0275template"](96,ec,4,3,"ng-container",48),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](97,"th",47),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("Reference_No")}),c["\u0275\u0275text"](98),c["\u0275\u0275pipe"](99,"translate"),c["\u0275\u0275elementContainerStart"](100),c["\u0275\u0275element"](101,"i",49),c["\u0275\u0275template"](102,tc,1,0,"i",50),c["\u0275\u0275template"](103,nc,1,0,"i",51),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](104,"th"),c["\u0275\u0275text"](105,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](106,"tbody"),c["\u0275\u0275template"](107,lc,2,1,"tbody",48),c["\u0275\u0275template"](108,dc,5,3,"tbody",48),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](109,pc,12,7,"div",52),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](6,36,"productionvoucher"),""),c["\u0275\u0275advance"](13),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](19,38,"Branch")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](24,40,"All")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",e.BranchList),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](30,42,"EntryNo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](37,44,"Search")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](41,46,"All")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",e.checkRoleParms(367)),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](49,48,"Print")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](53,50,"pdf")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](57,52,"Excel")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](62,54,"Search")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),c["\u0275\u0275advance"](11),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](75,56,"Branch")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](80,58,"EntryNo")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](87,60,"Date")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](94,62,"Customer")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](99,64,"Reference_No")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","Reference_No"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Reference_No"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Reference_No"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",e.ReceiptList.length>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let hc=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d,p,m,h,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=o,this._translateGlobalService=a,this.spinner=s,this._activeRoute=c,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=m,this._convertToPDF=h,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new x.Wb,this.NumNotExist="",this.title="",this.sortDirection="asc",this.sortColumn="",this.timeout=null,this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),this.ngTransUnsubscribe=this.translate.get(["productionvoucher"]).subscribe(e=>{this.title=e.productionvoucher,document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="82",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/production/productionvoucher/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/production/productionvoucher/0"])}OnView(e){this._router.navigate(["/page/production/productionvoucher/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/production/productionvoucher/${e.id}`,this._router.navigate([t])}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",a="ar"==this.lang?"\u0639\u0645\u064a\u0644":"Customer",s="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062c\u0639":"Reference No";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(c=>{this.cd.markForCheck(),t=`\n            <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                  <thead>\n                    <tr style="background: #e9f1f5;color: cornflowerblue;">\n                      <th>${i}</th>\n                      <th>${r}</th>\n                      <th>${o}</th>\n                      <th>${a}</th>\n                      <th>${s}</th>\n\n                    </tr>\n                  </thead>\n              <tbody>\n          `,c.map(e=>{var n,i;t+=`\n          <tr>\n          <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n          <td>${e.entry_no}</td>\n          <td>${e.entry_date}</td>\n          <td>${null!==(n="ar"==this.lang?e.customernamear:e.customername)&&void 0!==n?n:""}</td>\n          <td>${null!==(i=e.reference_no)&&void 0!==i?i:""}</td>\n          </tr>\n          `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0639\u0645\u064a\u0644":t.customernamear,"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062c\u0639":t.reference_no}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,Customer:t.customernamear,"Reference No":t.reference_no})}),this._Excel.exportAsExcelFile(e,"CashSales")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](Z.n),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](ee.t2),c["\u0275\u0275directiveInject"](l.gz),c["\u0275\u0275directiveInject"](K.t),c["\u0275\u0275directiveInject"](R.e),c["\u0275\u0275directiveInject"](te.$),c["\u0275\u0275directiveInject"](ne.x),c["\u0275\u0275directiveInject"](ie.z),c["\u0275\u0275directiveInject"](X.J))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["productionvoucher"]],features:[c["\u0275\u0275ProvidersFeature"]([Z.n,K.t,X.J])],decls:6,vars:3,consts:[["class","row",4,"ngIf"],["class","card transparent-BG box-shadow-none",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","transparent-BG","box-shadow-none"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped"],[3,"click"],[4,"ngIf"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between\n              flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn btn-primary\n                                transparent-BG",3,"routerLink",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","transparent-BG","mr-3",3,"routerLink"],["aria-hidden","true",1,"fa","fa-file-text-o"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"routerLink"],[1,"ft-edit"],[2,"background-color","#b0bed9"],["colspan","10"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,Fs,4,3,"div",0),c["\u0275\u0275elementStart"](1,"section"),c["\u0275\u0275template"](2,mc,110,66,"div",1),c["\u0275\u0275elementStart"](3,"ngx-spinner",2),c["\u0275\u0275elementStart"](4,"p",3),c["\u0275\u0275text"](5,"Loading..."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("ngIf",!t.checkRoleParms(366)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.checkRoleParms(366)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,ee.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,re.K,l.yS,oe.N9],pipes:[d.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();const uc=["RForm"];function gc(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275elementStart"](1,"h1",3),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function _c(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",90),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).DocumentAction()}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function Cc(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",91),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PrintPreview(0)}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function fc(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",92),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).DupilcateAction()}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function bc(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",92),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](4).CheckBalanceForItemInStoreBeforeDelete(0,!0)}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||e.usedSerialsExists>0||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function yc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275template"](1,bc,3,4,"button",94),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function xc(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"button",92),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPrint()}),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",92),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PrintPreview(1)}),c["\u0275\u0275text"](5),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"email-popup",93),c["\u0275\u0275listener"]("_savedemailobj",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).sendEmail(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,fc,3,4,"button",94),c["\u0275\u0275elementStart"](9,"button",92),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).QualityAction()}),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](12,yc,2,1,"div",1),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,9,"Print")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](6,11,"Printpdf")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("entryno",e._Receipt.entry_no),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.checkRoleParms(367)),c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,13,"Quality")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.checkRoleParms(368))}}function vc(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",95),c["\u0275\u0275text"](1,"choose"),c["\u0275\u0275elementEnd"]())}function Mc(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",95),c["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]())}function Sc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Pc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Rc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",96),c["\u0275\u0275template"](1,Sc,2,1,"span",1),c["\u0275\u0275template"](2,Pc,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Oc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sugar)}}function Ic(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sug)}}function Ec(e,t){if(1&e&&(c["\u0275\u0275template"](0,Oc,2,1,"div",1),c["\u0275\u0275template"](1,Ic,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function wc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.entry_no)}}function kc(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",28),c["\u0275\u0275elementStart"](1,"div",21),c["\u0275\u0275elementStart"](2,"label",32),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"ul",97),c["\u0275\u0275elementStart"](6,"li",98),c["\u0275\u0275elementStart"](7,"div",99),c["\u0275\u0275elementStart"](8,"input",100),c["\u0275\u0275listener"]("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).ChangeFromComponentsTransfers(t)})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._Receipt.fromcomp_transfer=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"label",101),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"li",98),c["\u0275\u0275elementStart"](13,"div",99),c["\u0275\u0275elementStart"](14,"input",102),c["\u0275\u0275listener"]("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).ChangeFromComponentsTransfers(t)})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2)._Receipt.fromcomp_transfer=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"label",103),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,7,"RawMaterials")),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("value",1)("ngModel",e._Receipt.fromcomp_transfer),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](11,9,"FromComponents")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("value",2)("ngModel",e._Receipt.fromcomp_transfer),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](17,11,"FromTransfers"))}}function Bc(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",111),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Dc(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",123),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"DefaultCostForOneUnit")," "))}function Fc(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",123),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"CostDiffForOneUnit")," "))}function Lc(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",124),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"ProductCost")," "))}function qc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Vc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Nc(e,t){if(1&e&&(c["\u0275\u0275template"](0,qc,2,1,"div",1),c["\u0275\u0275template"](1,Vc,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Tc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Uc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function $c(e,t){if(1&e&&(c["\u0275\u0275template"](0,Tc,2,1,"div",1),c["\u0275\u0275template"](1,Uc,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const Ac=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function Gc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",144),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](2,Ac,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function zc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",144),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](2,Ac,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function jc(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",145),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Qc(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",145),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Wc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name)}}function Jc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name_ar)}}function Hc(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",146),c["\u0275\u0275template"](1,Wc,2,1,"span",1),c["\u0275\u0275template"](2,Jc,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]().$implicit,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==i.lang)}}const Yc=function(e,t){return{"invalid-data":e,"valid-data":t}};function Zc(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",147,148),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.conv=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("step",null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowdecimalpack),c["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),c["\u0275\u0275property"]("readonly",!0)("stepallow",null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowdecimalpack)("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](9,Yc,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Kc(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",149,150),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.defaultitemcost=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","item_defaultitemcost",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.defaultitemcost)("ngClass",c["\u0275\u0275pureFunction2"](4,Yc,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Xc(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",149,151),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.costdiff=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","item_costdiff",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.costdiff)("ngClass",c["\u0275\u0275pureFunction2"](4,Yc,e.invalid&&r.submitted,e.valid&&r.submitted))}}function el(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",152,153),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.price=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.price)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](6,Yc,e.invalid&&r.submitted||(null==e.errors?null:e.errors.customMin),e.valid&&r.submitted))}}function tl(e,t){1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"span",154),c["\u0275\u0275element"](2,"i",155),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]())}function nl(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"a",156),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().index;return c["\u0275\u0275nextContext"](3).DeleteItems(t)}),c["\u0275\u0275element"](2,"i",155),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}}function il(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"a",157),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](216);return c["\u0275\u0275nextContext"]().OnSerialItems(n,i,r)}),c["\u0275\u0275element"](2,"i",158),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden",!(2==e.isrequireserial||3==e.isrequireserial))}}const rl=function(e){return{item_id:e}};function ol(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"p-autoComplete",125,126),c["\u0275\u0275listener"]("onFocus",function(t){const n=c["\u0275\u0275restoreView"](e).index,i=c["\u0275\u0275reference"](3),r=c["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).StoreChangeSearch(t)})("onClear",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275template"](5,Nc,2,2,"ng-template",127),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275elementStart"](7,"p-autoComplete",128,129),c["\u0275\u0275listener"]("onFocus",function(t){const n=c["\u0275\u0275restoreView"](e).index,i=c["\u0275\u0275reference"](8),r=c["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).onClearItems(t)}),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275template"](10,$c,2,2,"ng-template",130),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td",131),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return c["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),c["\u0275\u0275template"](12,Gc,2,5,"div",132),c["\u0275\u0275template"](13,zc,2,5,"div",132),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"td"),c["\u0275\u0275elementStart"](15,"select",133,134),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),c["\u0275\u0275template"](17,jc,2,1,"option",135),c["\u0275\u0275template"](18,Qc,2,1,"option",135),c["\u0275\u0275template"](19,Hc,3,4,"option",136),c["\u0275\u0275pipe"](20,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,Zc,3,12,"td",1),c["\u0275\u0275elementStart"](22,"td"),c["\u0275\u0275elementStart"](23,"input",137,138),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](25,Kc,3,7,"td",1),c["\u0275\u0275template"](26,Xc,3,7,"td",1),c["\u0275\u0275elementStart"](27,"td"),c["\u0275\u0275elementStart"](28,"input",139,140),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.productionunitexpense=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"td"),c["\u0275\u0275elementStart"](31,"input",139,141),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.productionqtyexpense=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"td"),c["\u0275\u0275elementStart"](34,"input",139,142),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.additionalexpensesandlabors=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](36,el,3,9,"td",1),c["\u0275\u0275elementStart"](37,"td",143),c["\u0275\u0275template"](38,tl,3,0,"ng-container",1),c["\u0275\u0275template"](39,nl,3,0,"ng-container",1),c["\u0275\u0275template"](40,il,3,1,"ng-container",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275reference"](16),r=c["\u0275\u0275reference"](24),o=c["\u0275\u0275reference"](29),a=c["\u0275\u0275reference"](32),s=c["\u0275\u0275reference"](35);c["\u0275\u0275nextContext"](2);const l=c["\u0275\u0275reference"](3),d=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),c["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.canchangestore)||d._Receipt.details[n].isUsedSerialsExists)("suggestions",d.StoreList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](4,59,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),c["\u0275\u0275property"]("disabled",d._Receipt.details[n].isUsedSerialsExists)("ngModel",e.itemcode)("suggestions",d.ItemsList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](9,61,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf","ar"!=d.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==d.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),c["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](66,Yc,i.invalid&&l.submitted,i.valid&&l.submitted)),c["\u0275\u0275attribute"]("disabled",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=d.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==d.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](20,63,d.ItemUnitsList,c["\u0275\u0275pureFunction1"](69,rl,null==e?null:e.item_id)))("ngForTrackBy",d._ReceiptSharedService.customTrackBy),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),c["\u0275\u0275property"]("disabled",d._Receipt.details[n].isUsedSerialsExists)("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",c["\u0275\u0275pureFunction2"](71,Yc,r.invalid&&l.submitted,r.valid&&l.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("step",null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowdecimalpack),c["\u0275\u0275propertyInterpolate1"]("name","item_productionunitexpense",n,""),c["\u0275\u0275property"]("readonly",!0)("stepallow",null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowdecimalpack)("ngModel",e.productionunitexpense)("required",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](74,Yc,o.invalid&&l.submitted,o.valid&&l.submitted)),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate"]("step",null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowdecimalpack),c["\u0275\u0275propertyInterpolate1"]("name","item_productionqtyexpense",n,""),c["\u0275\u0275property"]("readonly",!0)("stepallow",null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowdecimalpack)("ngModel",e.productionqtyexpense)("required",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](77,Yc,a.invalid&&l.submitted,a.valid&&l.submitted)),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate"]("step",null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowdecimalpack),c["\u0275\u0275propertyInterpolate1"]("name","item_additionalexpensesandlabors",n,""),c["\u0275\u0275property"]("readonly",!0)("stepallow",null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowdecimalpack)("ngModel",e.additionalexpensesandlabors)("required",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](80,Yc,s.invalid&&l.submitted,s.valid&&l.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",d._Receipt.details[n].isUsedSerialsExists),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!d._Receipt.details[n].isUsedSerialsExists),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==d.InventorySetting[0].purchaseseffect)}}function al(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",159),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function sl(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",160),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"DefaultQty")," "))}function cl(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",160),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"QtyDiff")," "))}function ll(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",161),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"ActualCost")," "))}function dl(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",117),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function pl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function ml(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function hl(e,t){if(1&e&&(c["\u0275\u0275template"](0,pl,2,1,"div",1),c["\u0275\u0275template"](1,ml,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function ul(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function gl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function _l(e,t){if(1&e&&(c["\u0275\u0275template"](0,ul,2,1,"div",1),c["\u0275\u0275template"](1,gl,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Cl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",144),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](2,Ac,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function fl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",144),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](2,Ac,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function bl(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",145),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function yl(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",145),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function xl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name)}}function vl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name_ar)}}function Ml(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",96),c["\u0275\u0275template"](1,xl,2,1,"span",1),c["\u0275\u0275template"](2,vl,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Sl(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",147,172),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.conv=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("step",null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowdecimalpack),c["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_conv",n,""),c["\u0275\u0275property"]("readonly",!0)("stepallow",null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowdecimalpack)("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](9,Yc,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Pl(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",149,173),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.defaultitemqty=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","defaultitemqty",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.defaultitemqty)("ngClass",c["\u0275\u0275pureFunction2"](4,Yc,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Rl(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",174,175),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.qtydiff=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","item_qtydiff",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.qtydiff)("required",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](5,Yc,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Ol(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",152,176),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.price=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_price",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.price)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](6,Yc,e.invalid&&r.submitted||(null==e.errors?null:e.errors.customMin),e.valid&&r.submitted))}}function Il(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",152,177),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.total=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_total",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.total)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](6,Yc,e.invalid&&r.submitted||(null==e.errors?null:e.errors.customMin),e.valid&&r.submitted))}}function El(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"a",179),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2).index;c["\u0275\u0275nextContext"](2);const n=c["\u0275\u0275reference"](218);return c["\u0275\u0275nextContext"]().OnSerialItemsInItemComponent(t,n)}),c["\u0275\u0275element"](1,"i",158),c["\u0275\u0275elementEnd"]()}}function wl(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,El,2,0,"a",178),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1!=e.CashCustomerSetting.dispensingpolicy)}}function kl(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"p-autoComplete",125,162),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](3),i=c["\u0275\u0275nextContext"](3);return i.onFocusInStoreComponent(t),n.show(),i.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).StoreComponentSelectEvent(t,n)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).StoreChangeSearch(t)})("onClear",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).onClearStoreComponent(t)}),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275template"](5,hl,2,2,"ng-template",163),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275elementStart"](7,"p-autoComplete",164,165),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](8),i=c["\u0275\u0275nextContext"](3);return i.onFocusInItemsComponent(t),n.show(),i.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).ItemsComponentSelectEvent(t,n)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).ItemsComponentChangeSearch(t)})("onClear",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).onClearItemsComponent(t)}),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275template"](10,_l,2,2,"ng-template",166),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td"),c["\u0275\u0275template"](12,Cl,2,5,"div",132),c["\u0275\u0275template"](13,fl,2,5,"div",132),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"td"),c["\u0275\u0275elementStart"](15,"select",167,168),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).ChangeItemComponentsUnits(t.target.value,n)}),c["\u0275\u0275template"](17,bl,2,1,"option",135),c["\u0275\u0275template"](18,yl,2,1,"option",135),c["\u0275\u0275template"](19,Ml,3,3,"option",27),c["\u0275\u0275pipe"](20,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,Sl,3,12,"td",1),c["\u0275\u0275elementStart"](22,"td"),c["\u0275\u0275elementStart"](23,"input",169,170),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).ChangeQtyComponent(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](25,Pl,3,7,"td",1),c["\u0275\u0275template"](26,Rl,3,8,"td",1),c["\u0275\u0275template"](27,Ol,3,9,"td",1),c["\u0275\u0275template"](28,Il,3,9,"td",1),c["\u0275\u0275elementStart"](29,"td",143),c["\u0275\u0275elementStart"](30,"a",171),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).DeleteItemsComponent(t)}),c["\u0275\u0275element"](31,"i",155),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](32,wl,2,1,"ng-container",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275reference"](16),r=c["\u0275\u0275reference"](24);c["\u0275\u0275nextContext"](2);const o=c["\u0275\u0275reference"](3),a=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","storecodecomponent",n,""),c["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=a.CurrentUserSetting&&a.CurrentUserSetting.canchangestore))("suggestions",a.StoreList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](4,34,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275propertyInterpolate1"]("name","itemcodecomponent",n,""),c["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",a.ItemsList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](9,36,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf","ar"!=a.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==a.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","itemcomponentunit",n,""),c["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](41,Yc,i.invalid&&o.submitted,i.valid&&o.submitted)),c["\u0275\u0275attribute"]("disabled",null!=(null==e?null:e.finishedproductid)||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=a.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==a.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](20,38,a.ItemComponentUnitsList,c["\u0275\u0275pureFunction1"](44,rl,null==e?null:e.item_id)))("ngForTrackBy",a._ReceiptSharedService.customTrackBy),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==a.CashCustomerSetting?null:a.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_qty",n,""),c["\u0275\u0275property"]("Min",0)("ngModel",e.qty)("ngClass",c["\u0275\u0275pureFunction2"](46,Yc,r.invalid&&o.submitted||null==e.qty,r.valid&&o.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==a.CurrentUserSetting?null:a.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",(2==e.isrequireserial||3==e.isrequireserial)&&1==a.CashCustomerSetting.salesreturneffect)}}const Bl=function(e){return{parentrowno:e}};function Dl(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",104),c["\u0275\u0275elementStart"](1,"div",105),c["\u0275\u0275elementStart"](2,"div",68),c["\u0275\u0275elementStart"](3,"table",106),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr"),c["\u0275\u0275elementStart"](6,"th",107),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",108),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",109),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",107),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](18,Bc,3,3,"th",110),c["\u0275\u0275elementStart"](19,"th",111),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](22,Dc,3,3,"th",112),c["\u0275\u0275template"](23,Fc,3,3,"th",112),c["\u0275\u0275elementStart"](24,"th",113),c["\u0275\u0275text"](25),c["\u0275\u0275pipe"](26,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"th",113),c["\u0275\u0275text"](28),c["\u0275\u0275pipe"](29,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"th",113),c["\u0275\u0275text"](31),c["\u0275\u0275pipe"](32,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](33,Lc,3,3,"th",114),c["\u0275\u0275element"](34,"th",70),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"tbody"),c["\u0275\u0275template"](36,ol,41,83,"tr",115),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](37,"button",116),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddItems(1)}),c["\u0275\u0275text"](38),c["\u0275\u0275pipe"](39,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"div",104),c["\u0275\u0275elementStart"](41,"div",105),c["\u0275\u0275elementStart"](42,"div",68),c["\u0275\u0275elementStart"](43,"table",106),c["\u0275\u0275elementStart"](44,"thead"),c["\u0275\u0275elementStart"](45,"tr"),c["\u0275\u0275elementStart"](46,"th",107),c["\u0275\u0275text"](47),c["\u0275\u0275pipe"](48,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](49,"th",108),c["\u0275\u0275text"](50),c["\u0275\u0275pipe"](51,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](52,"th",117),c["\u0275\u0275text"](53),c["\u0275\u0275pipe"](54,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](55,"th",108),c["\u0275\u0275text"](56),c["\u0275\u0275pipe"](57,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](58,al,3,3,"th",118),c["\u0275\u0275elementStart"](59,"th",119),c["\u0275\u0275text"](60),c["\u0275\u0275pipe"](61,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](62,sl,3,3,"th",120),c["\u0275\u0275template"](63,cl,3,3,"th",120),c["\u0275\u0275template"](64,ll,3,3,"th",121),c["\u0275\u0275template"](65,dl,3,3,"th",122),c["\u0275\u0275element"](66,"th",70),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](67,"tbody"),c["\u0275\u0275template"](68,kl,33,49,"tr",115),c["\u0275\u0275pipe"](69,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](70,"button",116),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddItems(2)}),c["\u0275\u0275text"](71),c["\u0275\u0275pipe"](72,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](8,28,"Store")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,30,"ItemCode")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](14,32,"ItemDescription")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](17,34,"Unit")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,36,"ProducedQty")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](26,38,"ProductionUnitExpense")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](29,40,"ProductionQtyExpense")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](32,42,"AdditionalExpenses&LaborForQty")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](39,44,"Add")," "),c["\u0275\u0275advance"](9),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](48,46,"Store")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](51,48,"ItemCode")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](54,50,"ItemDescription")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](57,52,"Unit")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](61,54,"ActualQty")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](69,56,null==e._Receipt?null:e._Receipt.itemscomponent,c["\u0275\u0275pureFunction1"](61,Bl,null==e.SelectedItem?null:e.SelectedItem.rowno)))("ngForTrackBy",e._ReceiptSharedService.customTrackBy),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](72,59,"Add")," ")}}function Fl(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",95),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]())}function Ll(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",95),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]())}function ql(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Vl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Nl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",96),c["\u0275\u0275template"](1,ql,2,1,"span",1),c["\u0275\u0275template"](2,Vl,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Tl(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",145),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function Ul(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",145),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function $l(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.codename,"")}}function Al(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.codenamear,"")}}function Gl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",96),c["\u0275\u0275template"](1,$l,2,1,"span",1),c["\u0275\u0275template"](2,Al,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.code),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const zl=function(){return{code:84}};function jl(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"select",181),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),c["\u0275\u0275template"](3,Fl,2,0,"option",26),c["\u0275\u0275template"](4,Ll,2,0,"option",26),c["\u0275\u0275template"](5,Nl,3,3,"option",182),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275elementStart"](7,"select",181),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),c["\u0275\u0275template"](8,Tl,2,1,"option",135),c["\u0275\u0275template"](9,Ul,2,1,"option",135),c["\u0275\u0275template"](10,Gl,3,3,"option",182),c["\u0275\u0275pipe"](11,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"td"),c["\u0275\u0275elementStart"](13,"input",183,184),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"td",185),c["\u0275\u0275elementStart"](16,"a",171),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).GetLinkedReceipt(t)}),c["\u0275\u0275element"](17,"i",186),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"a",171),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(t)}),c["\u0275\u0275element"](19,"i",187),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"a",171),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(t)}),c["\u0275\u0275element"](21,"i",188),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",n,""),c["\u0275\u0275property"]("ngModel",e.branch_id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",i.BranchList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",n,""),c["\u0275\u0275property"]("ngModel",e.code),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](11,13,i.ReceiptCodeList,c["\u0275\u0275pureFunction0"](16,zl))),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",n,""),c["\u0275\u0275property"]("ngModel",e.entry_no),c["\u0275\u0275advance"](3),c["\u0275\u0275attribute"]("disabled",(null==e?null:e.fire)>0||null)}}function Ql(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275elementStart"](1,"div",59),c["\u0275\u0275elementStart"](2,"div",68),c["\u0275\u0275elementStart"](3,"table",69),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr"),c["\u0275\u0275elementStart"](6,"th",70),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",70),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",70),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",70),c["\u0275\u0275text"](16,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"tbody"),c["\u0275\u0275template"](18,jl,22,17,"tr",180),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"button",116),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](8,5,"Branch")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",e._Receipt.linkedreceipts),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,11,"Add")," ")}}function Wl(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",95),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]())}function Jl(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",95),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]())}function Hl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Yl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Zl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",96),c["\u0275\u0275template"](1,Hl,2,1,"span",1),c["\u0275\u0275template"](2,Yl,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Kl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Xl(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function ed(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",96),c["\u0275\u0275template"](1,Kl,2,1,"span",1),c["\u0275\u0275template"](2,Xl,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function td(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",208),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275element"](3,"br"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Value must be greater than 0")," "))}function nd(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function id(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function rd(e,t){if(1&e&&(c["\u0275\u0275template"](0,nd,2,1,"div",1),c["\u0275\u0275template"](1,id,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function od(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"select",193),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.expenseid=e})("change",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).changeexpenses(t)}),c["\u0275\u0275template"](3,Wl,2,0,"option",26),c["\u0275\u0275template"](4,Jl,2,0,"option",26),c["\u0275\u0275template"](5,Zl,3,3,"option",182),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275elementStart"](7,"select",193),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.currencyid=e})("change",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).changeexpensesCurrency(t,n)}),c["\u0275\u0275template"](8,ed,3,3,"option",182),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275elementStart"](10,"input",194,195),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeExpensesValue(t)})("ngModelChange",function(e){return t.$implicit.value=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"td"),c["\u0275\u0275elementStart"](13,"input",196,197),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.exchangerate=e})("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeExpensesValue(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](15,td,4,3,"span",198),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"td"),c["\u0275\u0275elementStart"](17,"div",199),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3)._generalService.onFocusControl("ExpensesLocalValue"+t)}),c["\u0275\u0275text"](18),c["\u0275\u0275pipe"](19,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"input",200,201),c["\u0275\u0275listener"]("focusout",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("ExpensesLocalValue"+t)})("ngModelChange",function(e){return t.$implicit.localvalue=e})("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeExpenseslocalValue(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"td"),c["\u0275\u0275elementStart"](23,"p-autoComplete",202,203),c["\u0275\u0275listener"]("onFocus",function(t){const n=c["\u0275\u0275restoreView"](e).index,i=c["\u0275\u0275nextContext"](3);return i.onFocusInAutoComplete(t,n),i.autoItems.show(),i.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.accountcode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).onSelectAccount(t,n)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).GetAccount(t)})("onClear",function(){return t.$implicit.accountid=null}),c["\u0275\u0275pipe"](25,"translate"),c["\u0275\u0275template"](26,rd,2,2,"ng-template",130),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"td"),c["\u0275\u0275elementStart"](28,"input",204,205),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.notes=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"td",206),c["\u0275\u0275elementStart"](31,"a",207),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).DeleteExpenses(t)}),c["\u0275\u0275element"](32,"i",188),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275reference"](14);c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","expenseid",n,""),c["\u0275\u0275property"]("ngModel",e.expenseid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.expenseList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","expensecurrencyid",n,""),c["\u0275\u0275property"]("ngModel",e.currencyid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",o.CurrencyList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","ExpensesValue",n,""),c["\u0275\u0275property"]("ngModel",e.value),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","ExpensesExchangeRate",n,""),c["\u0275\u0275property"]("ngModel",e.exchangerate)("ngClass",c["\u0275\u0275pureFunction2"](35,Yc,e.exchangerate<=0||i.invalid&&r.submitted,i.valid&&r.submitted))("min",1e-26)("disabled",e.currencyid==(null==o._BaseCurrency?null:o._BaseCurrency.id)||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.exchangerate<=0),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("id","Display_ExpensesLocalValue",n,""),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](19,30,e.localvalue,o._Currencyprecision)," "),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("id","ExpensesLocalValue",n,""),c["\u0275\u0275propertyInterpolate1"]("name","ExpensesLocalValue",n,""),c["\u0275\u0275property"]("ngModel",e.localvalue)("Min",0),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","accountcode",n,""),c["\u0275\u0275property"]("ngModel",e.accountcode)("suggestions",o.AccountList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](25,33,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275propertyInterpolate1"]("name","ExpensesNotes",n,""),c["\u0275\u0275property"]("ngModel",e.notes)}}const ad=function(e){return{"table-for-autocomplete":e}};function sd(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",104),c["\u0275\u0275elementStart"](1,"div",105),c["\u0275\u0275elementStart"](2,"div",189),c["\u0275\u0275elementStart"](3,"table",69),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr"),c["\u0275\u0275elementStart"](6,"th",70),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",70),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",70),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",70),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"th",70),c["\u0275\u0275text"](19),c["\u0275\u0275pipe"](20,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"th",70),c["\u0275\u0275text"](22),c["\u0275\u0275pipe"](23,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"th",70),c["\u0275\u0275text"](25),c["\u0275\u0275pipe"](26,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"th",190),c["\u0275\u0275text"](28," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](29,"tbody"),c["\u0275\u0275template"](30,od,33,38,"tr",180),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"tfoot"),c["\u0275\u0275elementStart"](32,"tr"),c["\u0275\u0275elementStart"](33,"td",70),c["\u0275\u0275text"](34,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"td",70),c["\u0275\u0275text"](36,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](37,"td",70),c["\u0275\u0275text"](38,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](39,"td",70),c["\u0275\u0275text"](40),c["\u0275\u0275pipe"](41,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"td",191),c["\u0275\u0275element"](43,"input",192),c["\u0275\u0275pipe"](44,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](45,"td",70),c["\u0275\u0275text"](46,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](47,"td",70),c["\u0275\u0275text"](48,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](49,"td",190),c["\u0275\u0275text"](50," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](51,"button",116),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddExpenses()}),c["\u0275\u0275text"](52),c["\u0275\u0275pipe"](53,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](34,ad,e.isType)),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](8,13,"expense")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,15,"Currency")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](14,17,"value")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](17,19,"ExchangeRate")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](20,21,"localval")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](23,23,"account")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](26,25,"Note")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",e._Receipt.receiptexpenses),c["\u0275\u0275advance"](10),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](41,27,"Total")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](44,29,e._Receipt.totalexpensses,e._Currencyprecision))("disabled",!0),c["\u0275\u0275advance"](9),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](53,32,"Add")," ")}}function cd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"Select"),c["\u0275\u0275elementEnd"]())}function ld(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1,"\u0623\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]())}function dd(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function pd(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function md(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",96),c["\u0275\u0275template"](1,dd,2,1,"span",1),c["\u0275\u0275template"](2,pd,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}const hd=function(e){return{"invalid-data":e}};function ud(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"select",193,211),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.employeeid=e})("change",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).changeHrEmployee(t)}),c["\u0275\u0275elementStart"](4,"option",145),c["\u0275\u0275template"](5,cd,2,0,"span",1),c["\u0275\u0275template"](6,ld,2,0,"span",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](7,md,3,3,"option",182),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td"),c["\u0275\u0275elementStart"](9,"input",212,213),c["\u0275\u0275listener"]("focusout",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).formatSpentHours(n,t.target.value)})("ngModelChange",function(e){return t.$implicit.timeString=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td"),c["\u0275\u0275elementStart"](12,"input",214,215),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeLaborersValue(t)}),c["\u0275\u0275pipe"](14,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"td"),c["\u0275\u0275elementStart"](16,"input",214,216),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeLaborersValue(t)}),c["\u0275\u0275pipe"](18,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"td"),c["\u0275\u0275elementStart"](20,"input",204,217),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.notes=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"td",206),c["\u0275\u0275elementStart"](23,"a",207),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).DeleteLaborers(t)}),c["\u0275\u0275element"](24,"i",188),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275reference"](10);c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","laboreremployeeid",n,""),c["\u0275\u0275property"]("ngModel",e.employeeid),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngValue",null),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",o.HRemployeesList),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("id","timeString",n,""),c["\u0275\u0275propertyInterpolate1"]("name","timeString",n,""),c["\u0275\u0275property"]("ngModel",e.timeString)("ngClass",c["\u0275\u0275pureFunction1"](24,hd,i.invalid&&(i.dirty||i.touched)||i.invalid&&r.submitted||"00:00"==e.timeString&&r.submitted)),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","hourlywages",n,""),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](14,18,e.hourlywages,6))("disabled",!0),c["\u0275\u0275advance"](4),c["\u0275\u0275propertyInterpolate1"]("name","laborerValue",n,""),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](18,21,e.value,o._Currencyprecision))("disabled",!0),c["\u0275\u0275advance"](4),c["\u0275\u0275propertyInterpolate1"]("name","laborerNotes",n,""),c["\u0275\u0275property"]("ngModel",e.notes)}}function gd(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",104),c["\u0275\u0275elementStart"](1,"div",105),c["\u0275\u0275elementStart"](2,"div",189),c["\u0275\u0275elementStart"](3,"table",69),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr"),c["\u0275\u0275elementStart"](6,"th",70),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",70),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",70),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",70),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"th",70),c["\u0275\u0275text"](19),c["\u0275\u0275pipe"](20,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"th",190),c["\u0275\u0275text"](22," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"tbody"),c["\u0275\u0275template"](24,ud,25,26,"tr",180),c["\u0275\u0275elementStart"](25,"tr"),c["\u0275\u0275elementStart"](26,"td",190),c["\u0275\u0275text"](27," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"td",190),c["\u0275\u0275text"](29," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"td"),c["\u0275\u0275text"](31),c["\u0275\u0275pipe"](32,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"td",209),c["\u0275\u0275element"](34,"input",210),c["\u0275\u0275pipe"](35,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"td",70),c["\u0275\u0275text"](37,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"td",190),c["\u0275\u0275text"](39," \xa0 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"button",116),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddLaborers()}),c["\u0275\u0275text"](41),c["\u0275\u0275pipe"](42,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](28,ad,e.isType)),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](8,11,"Empolyee")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,13,"NumberOfHours")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](14,15,"HourlyWages")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](17,17,"Total")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](20,19,"Note")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngForOf",e._Receipt.receiptlaborers),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](32,21,"Total")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("readonly",!0)("ngModel",c["\u0275\u0275pipeBind2"](35,23,e._Receipt.totallaborers,e._Currencyprecision)),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](42,26,"Add")," ")}}function _d(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",104),c["\u0275\u0275elementStart"](1,"div",105),c["\u0275\u0275elementStart"](2,"Signature",218),c["\u0275\u0275listener"]("signatureoutput",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("signature",e._Receipt.signature)}}function Cd(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275element"](1,"Item-StoreQty",219,220),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function fd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h6",233),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function bd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h6",233),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function yd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",234),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function xd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function vd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Md(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Sd(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",241),c["\u0275\u0275listener"]("change",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275nextContext"](),i=n.$implicit,r=n.index;return c["\u0275\u0275nextContext"](3).ChangeBatchQty(i,t.target.value,r)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;c["\u0275\u0275nextContext"]();const i=c["\u0275\u0275reference"](7);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),c["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",c["\u0275\u0275pureFunction1"](3,hd,null==(null==n?null:n.qty)&&i.submitted||(null==n?null:n.qty)<=0&&i.submitted))}}function Pd(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",242),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.date=t}),c["\u0275\u0275pipe"](2,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;c["\u0275\u0275nextContext"]();const i=c["\u0275\u0275reference"](7);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","Expire_Date",t,""),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](2,4,null==n?null:n.date,"yyyy-MM-dd"))("ngClass",c["\u0275\u0275pureFunction1"](7,hd,null==(null==n?null:n.date)&&i.submitted||""==(null==n?null:n.date)&&i.submitted))("disabled",(null==n?null:n.solidquantity)>0||null)}}function Rd(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275element"](2,"input",235),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275element"](4,"input",236),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,Sd,2,5,"td",1),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275element"](7,"input",237),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,Pd,3,9,"td",1),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275elementStart"](10,"input",238),c["\u0275\u0275listener"]("change",function(t){const n=c["\u0275\u0275restoreView"](e),i=n.$implicit,r=n.index;return c["\u0275\u0275nextContext"](3).ChangeBatchNo(i,t.target.value,r)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td",185),c["\u0275\u0275elementStart"](12,"button",239),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return c["\u0275\u0275nextContext"](3).DeleteRow(n,i)}),c["\u0275\u0275element"](13,"i",240),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),c["\u0275\u0275property"]("checked",null==e?null:e.valid),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","Serial",n,""),c["\u0275\u0275property"]("value",null==e?null:e.serial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==i.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","Store",n,""),c["\u0275\u0275propertyInterpolate"]("value","ar"!=i.lang?null==e?null:e.storename:null==e?null:e.storename_ar),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==i.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","BatchNo",n,""),c["\u0275\u0275property"]("value",null==e?null:e.batchno)("ngClass",c["\u0275\u0275pureFunction1"](13,hd,null==e?null:e.isdublicatebatch))("disabled",(null==e?null:e.solidquantity)>0||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",(null==e?null:e.solidquantity)>0||null)}}function Od(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275elementStart"](1,"button",243),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",244),c["\u0275\u0275text"](5),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"button",245),c["\u0275\u0275text"](8),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,3,"SampleFile")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](6,5,"SelectExcleFile")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](9,7,"Upload")," "))}function Id(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",221),c["\u0275\u0275template"](1,fd,3,3,"h6",222),c["\u0275\u0275template"](2,bd,3,3,"h6",222),c["\u0275\u0275elementStart"](3,"button",223),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",224),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4,5),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275reference"](7);return c["\u0275\u0275nextContext"](2).SubmitOk(t)}),c["\u0275\u0275elementStart"](8,"div",225),c["\u0275\u0275elementStart"](9,"div",226),c["\u0275\u0275elementStart"](10,"div",2),c["\u0275\u0275elementStart"](11,"form"),c["\u0275\u0275elementStart"](12,"div",227),c["\u0275\u0275elementStart"](13,"table",69),c["\u0275\u0275elementStart"](14,"thead"),c["\u0275\u0275elementStart"](15,"tr"),c["\u0275\u0275elementStart"](16,"th"),c["\u0275\u0275text"](17),c["\u0275\u0275pipe"](18,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"th",228),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](22,yd,3,3,"th",229),c["\u0275\u0275elementStart"](23,"th",230),c["\u0275\u0275text"](24),c["\u0275\u0275pipe"](25,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](26,xd,3,3,"th",1),c["\u0275\u0275template"](27,vd,3,3,"th",1),c["\u0275\u0275template"](28,Md,3,3,"th",1),c["\u0275\u0275element"](29,"th"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"tbody"),c["\u0275\u0275template"](31,Rd,14,15,"tr",115),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](32,Od,10,9,"div",0),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",231),c["\u0275\u0275elementStart"](34,"button",232),c["\u0275\u0275text"](35),c["\u0275\u0275pipe"](36,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](15),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](18,13,"Valid")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,15,"Serial")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](25,17,"Store")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",e._Receipt.details[e.SelectedRowIndex].batcheslist)("ngForTrackBy",e.trackByFn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](36,19,"Cancel")," ")}}function Ed(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h6",233),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function wd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h6",233),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function kd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function Bd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Dd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Fd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",234),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function Ld(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",234),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function qd(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](2,1,null==e?null:e.expire_date,"yyyy-MM-dd")," ")}}function Vd(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",250),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}function Nd(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",248),c["\u0275\u0275listener"]("change",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](3).ChangeBatchQtyInItemComponent(n,t.target.value)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](2,Vd,3,3,"span",249),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;c["\u0275\u0275nextContext"]();const i=c["\u0275\u0275reference"](7);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),c["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",c["\u0275\u0275pureFunction1"](4,hd,(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)}}function Td(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275element"](2,"input",247),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,qd,3,4,"td",1),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td"),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](10,Nd,3,6,"td",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),c["\u0275\u0275property"]("checked",null==e?null:e.valid),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ","ar"!=i.lang?null==e?null:e.name:null==e?null:e.name_ar," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==i.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.serial," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.availableqty),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==i.requiredserial)}}function Ud(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",221),c["\u0275\u0275template"](1,Ed,3,3,"h6",222),c["\u0275\u0275template"](2,wd,3,3,"h6",222),c["\u0275\u0275elementStart"](3,"button",223),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",224),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4,5),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275reference"](7);return c["\u0275\u0275nextContext"](2).saveserial(t)}),c["\u0275\u0275elementStart"](8,"div",225),c["\u0275\u0275elementStart"](9,"div",226),c["\u0275\u0275elementStart"](10,"div",2),c["\u0275\u0275elementStart"](11,"form"),c["\u0275\u0275elementStart"](12,"div",227),c["\u0275\u0275elementStart"](13,"h6",233),c["\u0275\u0275text"](14),c["\u0275\u0275pipe"](15,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"table",69),c["\u0275\u0275elementStart"](17,"thead"),c["\u0275\u0275elementStart"](18,"tr"),c["\u0275\u0275elementStart"](19,"th"),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"th",230),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](25,kd,3,3,"th",1),c["\u0275\u0275template"](26,Bd,3,3,"th",1),c["\u0275\u0275template"](27,Dd,3,3,"th",1),c["\u0275\u0275template"](28,Fd,3,3,"th",229),c["\u0275\u0275template"](29,Ld,3,3,"th",229),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"tbody"),c["\u0275\u0275template"](31,Td,11,7,"tr",115),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"div",231),c["\u0275\u0275elementStart"](33,"button",246),c["\u0275\u0275text"](34),c["\u0275\u0275pipe"](35,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](12),c["\u0275\u0275textInterpolate2"](" ",c["\u0275\u0275pipeBind1"](15,14,"qty")," : ",e._batchqty," "),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,16,"Choose")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](24,18,"Store")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",e.BatchesListForEatchRow)("ngForTrackBy",e.trackByFn),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](35,20,"save")," ")}}function $d(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"section"),c["\u0275\u0275elementStart"](2,"form",4,5),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275reference"](3);return c["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),c["\u0275\u0275elementStart"](4,"div",6),c["\u0275\u0275elementStart"](5,"div",7),c["\u0275\u0275elementStart"](6,"div",8),c["\u0275\u0275elementStart"](7,"div",9),c["\u0275\u0275elementStart"](8,"h6",10),c["\u0275\u0275text"](9),c["\u0275\u0275pipe"](10,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",2),c["\u0275\u0275elementStart"](12,"div",11),c["\u0275\u0275elementStart"](13,"button",12),c["\u0275\u0275text"](14),c["\u0275\u0275pipe"](15,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"button",13),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CreateNewAction()}),c["\u0275\u0275text"](17),c["\u0275\u0275pipe"](18,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](19,_c,3,4,"button",14),c["\u0275\u0275template"](20,Cc,3,4,"button",15),c["\u0275\u0275elementStart"](21,"button",16),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().BackAction()}),c["\u0275\u0275text"](22),c["\u0275\u0275pipe"](23,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"div",17),c["\u0275\u0275elementStart"](25,"button",18),c["\u0275\u0275text"](26),c["\u0275\u0275pipe"](27,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",19),c["\u0275\u0275template"](29,xc,13,15,"ng-container",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"div",2),c["\u0275\u0275elementStart"](31,"div",20),c["\u0275\u0275elementStart"](32,"div",21),c["\u0275\u0275elementStart"](33,"label",22),c["\u0275\u0275text"](34),c["\u0275\u0275pipe"](35,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"span",23),c["\u0275\u0275text"](37,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"select",24,25),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().changeBranch(t)}),c["\u0275\u0275template"](40,vc,2,0,"option",26),c["\u0275\u0275template"](41,Mc,2,0,"option",26),c["\u0275\u0275template"](42,Rc,3,3,"option",27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](43,"div",28),c["\u0275\u0275elementStart"](44,"div",21),c["\u0275\u0275elementStart"](45,"label",29),c["\u0275\u0275text"](46),c["\u0275\u0275pipe"](47,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](48,"span",23),c["\u0275\u0275text"](49,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"input",30,31),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](52,"div",2),c["\u0275\u0275elementStart"](53,"div",28),c["\u0275\u0275elementStart"](54,"div",21),c["\u0275\u0275elementStart"](55,"label",32),c["\u0275\u0275text"](56),c["\u0275\u0275pipe"](57,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](58,"p-autoComplete",33,34),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](59);return c["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(t)})("onClear",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onClearCustomer(t)}),c["\u0275\u0275pipe"](60,"translate"),c["\u0275\u0275template"](61,Ec,2,2,"ng-template",35),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](62,"div",28),c["\u0275\u0275elementStart"](63,"div",21),c["\u0275\u0275elementStart"](64,"label",36),c["\u0275\u0275text"](65),c["\u0275\u0275pipe"](66,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](67,"input",37,38),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](69,"div",28),c["\u0275\u0275elementStart"](70,"div",21),c["\u0275\u0275elementStart"](71,"label",39),c["\u0275\u0275text"](72),c["\u0275\u0275pipe"](73,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](74,"input",40,41),c["\u0275\u0275listener"]("ngModelChange",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),c["\u0275\u0275pipe"](76,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](77,"div",28),c["\u0275\u0275elementStart"](78,"div",21),c["\u0275\u0275elementStart"](79,"label",42),c["\u0275\u0275text"](80),c["\u0275\u0275pipe"](81,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](82,"input",43,44),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](84,"div",2),c["\u0275\u0275elementStart"](85,"div",28),c["\u0275\u0275elementStart"](86,"div",21),c["\u0275\u0275elementStart"](87,"label",45),c["\u0275\u0275text"](88),c["\u0275\u0275pipe"](89,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](90,"input",46,47),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](92,"div",28),c["\u0275\u0275elementStart"](93,"div",21),c["\u0275\u0275elementStart"](94,"label",48),c["\u0275\u0275text"](95),c["\u0275\u0275pipe"](96,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](97,"input",49,50),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.memo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](99,"div",28),c["\u0275\u0275elementStart"](100,"div",21),c["\u0275\u0275elementStart"](101,"label",51),c["\u0275\u0275text"](102),c["\u0275\u0275pipe"](103,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](104,"input",52,53),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.expensesdistributionvoucherno=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](106,"div",2),c["\u0275\u0275elementStart"](107,"div",28),c["\u0275\u0275elementStart"](108,"div",21),c["\u0275\u0275elementStart"](109,"label",32),c["\u0275\u0275text"](110),c["\u0275\u0275pipe"](111,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](112,"p-autoComplete",54,55),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](113);return c["\u0275\u0275nextContext"]().onFocusInBatchOrder(t),n.show()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.batchorder_no=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().BatchOrderSelectEvent(t)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().BatchOrderChangeSearch(t)})("onClear",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onClearBatchOrder(t)}),c["\u0275\u0275pipe"](114,"translate"),c["\u0275\u0275template"](115,wc,2,1,"ng-template",56),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](116,kc,18,13,"div",57),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](117,"div",58),c["\u0275\u0275elementStart"](118,"div",2),c["\u0275\u0275elementStart"](119,"div",59),c["\u0275\u0275elementStart"](120,"ul",60,61),c["\u0275\u0275listener"]("activeIdChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().activeNav=t}),c["\u0275\u0275elementStart"](122,"li",62),c["\u0275\u0275elementStart"](123,"a",63),c["\u0275\u0275text"](124),c["\u0275\u0275pipe"](125,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](126,Dl,73,63,"ng-template",64),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](127,"li",65),c["\u0275\u0275elementStart"](128,"a",63),c["\u0275\u0275text"](129),c["\u0275\u0275pipe"](130,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](131,Ql,22,13,"ng-template",64),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](132,"li",62),c["\u0275\u0275elementStart"](133,"a",63),c["\u0275\u0275text"](134),c["\u0275\u0275pipe"](135,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](136,sd,54,36,"ng-template",64),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](137,"li",62),c["\u0275\u0275elementStart"](138,"a",63),c["\u0275\u0275text"](139),c["\u0275\u0275pipe"](140,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](141,gd,43,30,"ng-template",64),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](142,"li",65),c["\u0275\u0275elementStart"](143,"a",63),c["\u0275\u0275text"](144),c["\u0275\u0275pipe"](145,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](146,_d,3,1,"ng-template",64),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](147,"div",66),c["\u0275\u0275elementStart"](148,"div",2),c["\u0275\u0275elementStart"](149,"div",67),c["\u0275\u0275elementStart"](150,"div",68),c["\u0275\u0275elementStart"](151,"table",69),c["\u0275\u0275elementStart"](152,"thead"),c["\u0275\u0275elementStart"](153,"tr"),c["\u0275\u0275element"](154,"th",70),c["\u0275\u0275elementStart"](155,"th",71),c["\u0275\u0275text"](156),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](157,"th",70),c["\u0275\u0275text"](158),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](159,"tbody"),c["\u0275\u0275elementStart"](160,"tr"),c["\u0275\u0275elementStart"](161,"td"),c["\u0275\u0275text"](162),c["\u0275\u0275pipe"](163,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](164,"td",72),c["\u0275\u0275elementStart"](165,"input",73),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](166,"td"),c["\u0275\u0275elementStart"](167,"input",74),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.netvalue=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](168,"tr"),c["\u0275\u0275elementStart"](169,"td"),c["\u0275\u0275text"](170),c["\u0275\u0275pipe"](171,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](172,"td",72),c["\u0275\u0275elementStart"](173,"input",75),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.totalproductioncostforeign=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](174,"td"),c["\u0275\u0275elementStart"](175,"input",76),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.totalproductioncost=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](176,"tr"),c["\u0275\u0275elementStart"](177,"td"),c["\u0275\u0275text"](178),c["\u0275\u0275pipe"](179,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](180,"td",72),c["\u0275\u0275elementStart"](181,"input",77),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.totalvouchercostforeign=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](182,"td"),c["\u0275\u0275elementStart"](183,"input",78),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.totalvouchercost=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](184,"tr"),c["\u0275\u0275elementStart"](185,"td"),c["\u0275\u0275text"](186),c["\u0275\u0275pipe"](187,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](188,"td",72),c["\u0275\u0275element"](189,"input",79),c["\u0275\u0275pipe"](190,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](191,"td"),c["\u0275\u0275element"](192,"input",80),c["\u0275\u0275pipe"](193,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](194,"tr"),c["\u0275\u0275elementStart"](195,"td"),c["\u0275\u0275text"](196),c["\u0275\u0275pipe"](197,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](198,"td",72),c["\u0275\u0275element"](199,"input",81),c["\u0275\u0275pipe"](200,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](201,"td"),c["\u0275\u0275element"](202,"input",82),c["\u0275\u0275pipe"](203,"numberFormat"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](204,"tr"),c["\u0275\u0275elementStart"](205,"td"),c["\u0275\u0275text"](206),c["\u0275\u0275pipe"](207,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](208,"td",72),c["\u0275\u0275elementStart"](209,"input",83),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.allvouchercost_foreign=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](210,"td"),c["\u0275\u0275elementStart"](211,"input",84),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.allvouchercost=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](212,"div",85),c["\u0275\u0275template"](213,Cd,3,1,"div",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](214,"div"),c["\u0275\u0275template"](215,Id,37,21,"ng-template",null,86,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](217,Ud,36,22,"ng-template",null,87,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementStart"](219,"ngx-spinner",88),c["\u0275\u0275elementStart"](220,"p",89),c["\u0275\u0275text"](221,"Loading..."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](3),t=c["\u0275\u0275reference"](39),n=c["\u0275\u0275reference"](51),i=c["\u0275\u0275reference"](75),r=c["\u0275\u0275reference"](121),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](9),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](10,110,"productionvoucher"),""),c["\u0275\u0275advance"](4),c["\u0275\u0275attribute"]("disabled",o.VouchersLinkedCount>0||null!=o._Receipt.expensesdistributionvoucherno||1==o.ShowModeReceipt||1==o.DuringSaveDisable||o.ReceiptID>0&&!o.checkRoleParms(628)||0==o.ReceiptID&&!o.checkRoleParms(367)||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](15,112,"Save")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275attribute"]("disabled",!o.checkRoleParms(367)||1==o.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](18,114,"CreateNew")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",o.ReceiptID>0&&0==o.VouchersLinkedCount),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",o.ReceiptID>0),c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("disabled",1==o.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](23,116,"Exit")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](27,118,"Action Menu")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",o.ReceiptID>0),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](35,120,"Branch")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",o._Receipt.branch_id)("ngClass",c["\u0275\u0275pureFunction2"](181,Yc,t.invalid&&e.submitted,t.valid&&e.submitted)),c["\u0275\u0275attribute"]("disabled",o.ReceiptID>0||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",o.BranchList)("ngForTrackBy",o.customTrackBy),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](47,122,"Entry#")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("stepallow",1)("ngModel",o._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==o.LockedRecepit)("ngClass",c["\u0275\u0275pureFunction2"](184,Yc,n.invalid&&e.submitted,n.valid&&e.submitted)),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](57,124,"Customer#")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.cashcustomer_vendor_code)("suggestions",o.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](60,126,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](66,128,"CustomerName")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.cashcustomer_vendor_name)("readonly",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](73,130,"Date")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](76,132,o._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==(o.ReceiptID>0&&!o.checkRoleParms(628))||null!=o._Receipt.expensesdistributionvoucherno||1==o.LockedRecepit)("ngClass",c["\u0275\u0275pureFunction2"](187,Yc,i.invalid&&e.submitted||0==o.ValidPeriod,i.valid&&e.submitted)),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](81,135,"time")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==(o.ReceiptID>0&&!o.checkRoleParms(628))||null!=o._Receipt.expensesdistributionvoucherno||1==o.LockedRecepit)("ngModel",o._Receipt.entry_time),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](89,137,"ReferenceNo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.reference_no),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](96,139,"Memo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.memo),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](103,141,"ExpensesDistributionVoucherNo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.expensesdistributionvoucherno)("readonly",!0),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](111,143,"WorkOrder")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.batchorder_no)("suggestions",o.BatchOrderList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](114,145,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",null!=o._Receipt.batchorder_id),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("destroyOnHide",!1)("activeId",o.activeNav),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngbNavItem",1),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](125,147,"Items")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavItem",2),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](130,149,"LinkedReceipt")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavItem",3),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](135,151,"AdditionalExpenses")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavItem",4),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](140,153,"Laborers")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavItem",5),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](145,155,"Signature")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavOutlet",r),c["\u0275\u0275advance"](8),c["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("Total - ",null==o._CurrencySelected?null:o._CurrencySelected.currencysymbol,""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("Total - ",null==o._BaseCurrency?null:o._BaseCurrency.currencysymbol,""),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](163,157,"TotalMaterialCost")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",o._Receipt.netvalueforeign)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.netvalue)("readonly",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](171,159,"TotalIndirectExpensesCost")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",o._Receipt.totalproductioncostforeign)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.totalproductioncost)("readonly",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](179,161,"TotalInitialCost")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",o._Receipt.totalvouchercostforeign)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.totalvouchercost)("readonly",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](187,163,"TotalAdditionalExpenseCost")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](190,165,o._Receipt.totalexpensses_foreign,o._Currencyprecision))("readonly",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](193,168,o._Receipt.totalexpensses,o._Currencyprecision))("readonly",!0),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](197,171,"TotalLaborCost")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](200,173,o._Receipt.totallaborers_foreign,o._Currencyprecision))("readonly",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](203,176,o._Receipt.totallaborers,o._Currencyprecision))("readonly",!0),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](207,179,"TotalVoucherCost")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",o._Receipt.allvouchercost_foreign)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.allvouchercost)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",o.itemqtyview),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("fullScreen",!0)}}const Ad=function(){return[366,367,368,628]};let Gd=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d,p,m,h,u,g,_,C,f,b){this._cashsalesService=e,this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this._employeeService=r,this.cd=o,this.toastr=a,this._router=s,this._generalService=c,this.translate=l,this._translateGlobalService=d,this._activeRoute=p,this.spinner=m,this._authService=h,this._printService=u,this._VerifyReportsService=g,this.datepipe=_,this.location=C,this._ProductionService=f,this.modalService=b,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.BasicCodeReceipt=82,this.Transaction_move=0,this._Receipt=new x.tY,this._ReceiptOriginal=new x.tY,this._Receipt_h_Edit=new x.Iu,this._ProductionDetailsReceipt=new x.hm,this.ItemsComponentList=new Array,this._LinkedReceipt=new x.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.CustomerAccountsList=[],this.ReceiptCodeList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemOrginalUnitsList=[],this.ItemComponentUnitsList=[],this.reporturl="",this.reportdomainUrl=Ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.linkedreceiptid=0,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.LinkedVoucherIsPostedMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.NegativeBalancesMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopInventoryErrorMsg="",this.RelatedwithSerialsOrBatches="",this.ItemSelectedBefor="",this.componentItselfMsg="",this.QtyNotsufficient="",this.ComponentQtyZeroError="",this.NoComponentInItem="",this.InvalidPatchDate="",this.InValidQty="",this.InValidNumberOfBatch="",this.DublicateBatchMassage="",this.InValidQtyForBatch="",this.QtyIsValidWithAvailableQty="",this.InValidDateWithPatchesDates="",this.usedSerialsExists=0,this.expenseList=[],this.HRemployeesList=[],this._ReceiptExpenses=new x.th,this.expensesAccountid=0,this.accountcode="",this.disablerate=!0,this.AccountList=[],this.TotalExpensses=0,this.EmpAddedPreviously="",this.TotalLaborers=0,this._ReceiptLaborers=new x.NM,this.timeout=null,this.BatchOrderList=[],this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.itemqtyview=!1,this._itemstoreqtyobj=new x.I$,this._totalcost=0,this.BatchesAndSeialsList=[],this.ProductionPlan=[],this.ItemsComponentsProductionPlan=[],this.requiredserial=2,this.SelectedRowIndex=0,this.RowItem=null,this.selectedindex=0,this._batchqty=0,this.BatchesListForEatchRow=[],p.params.subscribe(e=>{this.ReceiptID=e.id,this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.ProdPlansID=e.prodplansid,this.BatchOrderID=e.linkedreceiptid,console.log(this.BatchOrderID),this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods(),this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=c.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/production/productionvoucher/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","FinancialPeriodMsg","CloseFinancialPeriodMsg","Close","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","productionvoucher",,"No","swalNewActionTitle","swalNewActionText","NOComponents","StopInventoryErrorMsg","CostPostingPeriodMessage","LinkedVoucherIsPostedMsg","RelatedwithSerialsOrBatches","ItemSelectedBefor","componentItselfMsg","NegativeBalancesMsg","QtyNotsufficient","ComponentQtyZeroError","NoComponentInItem","InValidQty","InValidNumberOfBatch","DublicateBatchMassage","InvalidPatchDate","InValidQtyForBatch","QtyIsValidWithAvailableQty","InValidDateWithPatchesDates","EmpAddedPreviously"]).subscribe(e=>{document.title=e.productionvoucher,this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.No=e.No,this.NOComponents=e.NOComponents,this.ItemSelectedBefor=e.ItemSelectedBefor,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.Close=e.Close,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.LinkedVoucherIsPostedMsg=e.LinkedVoucherIsPostedMsg,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.componentItselfMsg=e.componentItselfMsg,this.QtyNotsufficient=e.QtyNotsufficient,this.ComponentQtyZeroError=e.ComponentQtyZeroError,this.NoComponentInItem=e.NoComponentInItem,this.NegativeBalancesMsg=e.NegativeBalancesMsg,this.InValidQty=e.InValidQty,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.DublicateBatchMassage=e.DublicateBatchMassage,this.InvalidPatchDate=e.InvalidPatchDate,this.InValidQtyForBatch=e.InValidQtyForBatch,this.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,this.InValidDateWithPatchesDates=e.InValidDateWithPatchesDates,this.EmpAddedPreviously=e.EmpAddedPreviously})})}SetInitialMethods(){this._Receipt=new x.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetCurrencyList(),this.GetexpenseList(),this.GetHrEmployeesList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Je.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t;let n=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=n.items,this.GetReceipt()})}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,this._Receipt.id=this.ReceiptID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt))},1e3)}else this._ProductionService.GetReceiptProductionAndDetailsByID(this.ReceiptID).subscribe(e=>{var t;if(null!=e.receipt){this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this.usedSerialsExists=e.usedserials?e.usedserials.length:0,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.classid=e.receipt.classid,this._Receipt.locationid=e.receipt.locationid,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.totalexpensses=e.receipt.totalexpensses,this._Receipt.totalexpensses_foreign=e.receipt.totalexpensses_foreign,this._Receipt.totallaborers=e.receipt.totallaborers,this._Receipt.totallaborers_foreign=e.receipt.totallaborers_foreign,this._Receipt.batchorder_id=e.receipt.batchorder_id,this._Receipt.batchorder_no={entry_no:e.receipt.batchorder_no},this._Receipt.fromcomp_transfer=e.receipt.fromcomp_transfer||1,this._Receipt.allvouchercost=e.receipt.allvouchercost||0,this._Receipt.allvouchercost_foreign=e.receipt.allvouchercost_foreign||0,this._Receipt.details=e.items,this._Receipt.itemscomponent=e.itemcomponents,this.ItemUnitsList=e.itemunits,this.ItemOrginalUnitsList=e.itemunits,this.ItemComponentUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts,this._Receipt.receiptexpenses=e.receiptexpenses,this._Receipt.receiptexpenses.forEach(e=>{e.accountcode={accountcode:e.accountcode},e.exchangerate=Number(e.exchangerate.toPrecision()),this.addItemIfNotInList(e)}),this._Receipt.receiptlaborers=e.receiptlaborers,this._Receipt.receiptlaborers.forEach(e=>{e.timeString=this.formatMinutesToHoursMinutes(e.numberofhours)});for(let e=0;e<this._Receipt.itemscomponent.length;e++){let t=this._Receipt.details.find(t=>t.id==this._Receipt.itemscomponent[e].finishedreceipt_did);this._Receipt.itemscomponent[e].storecode={code:this._Receipt.itemscomponent[e].storecode},this._Receipt.itemscomponent[e].itemcode={code:this._Receipt.itemscomponent[e].itemcode},this._Receipt.itemscomponent[e].parentrowno=t.rowno,2!=this._Receipt.itemscomponent[e].item_type&&(this._Receipt.itemscomponent[e].price=Number((Number(this._Receipt.itemscomponent[e].avgcost)*Number(this._Receipt.itemscomponent[e].final_conv)).toFixed(6))),this._Receipt.itemscomponent[e].total=Number((this._Receipt.itemscomponent[e].price*this._Receipt.itemscomponent[e].qty).toFixed(6)),this._Receipt.itemscomponent[e].qtydiff=this._Receipt.itemscomponent[e].qty-this._Receipt.itemscomponent[e].defaultitemqty,this._Receipt.itemscomponent[e].allowqtyselectforitem=!0,this._Receipt.itemscomponent[e].basicqtycomponent=this._Receipt.itemscomponent[e].defaultitemqty/t.qty}for(let s=0;s<this._Receipt.details.length;s++){this._Receipt.details[s].storecode={code:this._Receipt.details[s].storecode},this._Receipt.details[s].itemcode={code:this._Receipt.details[s].itemcode},this._Receipt.details[s].indirectexpensesunit=this._Receipt.details[s].productionunitexpense,this._Receipt.details[s].total=Number((this._Receipt.details[s].price*this._Receipt.details[s].qty).toFixed(6));let n=0,i=0;this._Receipt.itemscomponent.filter(e=>e.parentrowno==this._Receipt.details[s].rowno).forEach(e=>{n+=e.total,i+=e.basicqtycomponent*e.price}),this._Receipt.details[s].defaultitemcost=Number(i.toFixed(6)),this._Receipt.details[s].price=Number(n.toFixed(6)),this._Receipt.details[s].costdiff=Number((Number(this._Receipt.details[s].price/this._Receipt.details[s].qty)-Number(this._Receipt.details[s].defaultitemcost)).toFixed(6)),this._Receipt.details[s].allowqtyselectforitem=!0;let r=null===(t=e.usedserials)||void 0===t?void 0:t.findIndex(e=>e.itemid==this._Receipt.details[s].item_id);this._Receipt.details[s].isUsedSerialsExists=-1!=r}let n=0,i=0,r=0,o=0,a=0;this._Receipt.details.forEach(e=>{n+=e.price,i+=e.productionqtyexpense}),a=this._Receipt.totalexpensses+this._Receipt.totallaborers,r=n+i,o=r+a,this._Receipt.netvalue=Number(n.toFixed(6)),this._Receipt.netvalueforeign=Number(n.toFixed(6)),this._Receipt.value=this._Receipt.netvalue,this._Receipt.valueforeign=this._Receipt.netvalueforeign,this._Receipt.totalproductioncost=Number(i.toFixed(6)),this._Receipt.totalproductioncostforeign=Number(i.toFixed(6)),this._Receipt.totalvouchercost=Number(r.toFixed(6)),this._Receipt.totalvouchercostforeign=Number(r.toFixed(6)),this._Receipt.allvouchercost=Number(o.toFixed(6)),this._Receipt.allvouchercost_foreign=Number(o.toFixed(6)),this._Receipt.details.forEach(e=>{e.additionalexpensesandlabors=Number((a*(e.price/n)).toFixed(6))}),this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batchesinitems.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),this._Receipt.itemscomponent.map(t=>{t.batcheslist=new Array;let n=e.batchesinitemscomponent.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),this.entry_no=this._Receipt.entry_no,this.VouchersLinkedCount>0?(this.ShowModeReceipt=!0,this.ShowPopUpLinkedVoucherIsPosted()):null!=this._Receipt.expensesdistributionvoucherno?this.ShowModeReceipt=!0:1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.OnSelectedItem(this._Receipt.details[0],0,"selected"),this.cd.markForCheck()}})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)We().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e,this.cd.markForCheck()})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeCurrency(e){if(this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&We().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/production/productionvoucher/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e&&this.ChangeEntryDate()},1e3*t)}ChangeEntryDate(){this.checkDateISValidWithPatchesDates()||this.toastr.warning(this.InValidDateWithPatchesDates),null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date?this.CheckValidDateBySubsidaryID():(this.DuringSaveDisable=!1,this.cd.markForCheck())}checkDateISValidWithPatchesDates(){let e=new Date(this._Receipt.entry_date+" "+this._Receipt.entry_time),t=!0;return this._Receipt.details.map(n=>{if(3==n.isrequireserial&&n.batcheslist.some(t=>e>new Date(t.date)))return t=!1}),this._Receipt.itemscomponent.map(n=>{if(3==n.isrequireserial&&n.batcheslist.some(t=>e>new Date(t.date)))return t=!1}),t}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.cd.markForCheck(),this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod();this.cd.markForCheck()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;We().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){We().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpLinkedVoucherIsPosted(){We().fire({title:this.warning,text:this.LinkedVoucherIsPostedMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}GetDefaultStoreCostCenterByBranch(e=!1){1==e&&this.Calculate_Total_Cost(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{if(this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.ProdPlansID&&null!=this.ProdPlansID&&""!=this.ProdPlansID.trim()&&0!=this.ProdPlansID&&this.GetFinishProductFromProductionPlan(),null!=this.BatchOrderID&&null!=this.BatchOrderID&&""!=this.BatchOrderID.trim()&&0!=this.BatchOrderID&&this.GetBatchOrders(),null!=this.StoreCostCenterSetting.storeid){if(0==this._Receipt.details.length){this._ProductionDetailsReceipt=new x.hm,this._ProductionDetailsReceipt.transaction_move=1;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._ProductionDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._ProductionDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}}this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this._Receipt.itemscomponent.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForAllItemsComponentInStore(0))}this.cd.markForCheck()})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar}GetCustomerAccountsList(e=""){this._CustomerService.CustomerAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}onClearCustomer(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_id=null}onFocusInBatchOrder(e){this.GetBatchOrderList("")}BatchOrderChangeSearch(e){this.GetBatchOrderList(e.query.trim())}GetBatchOrderList(e=""){this._ProductionService.GetBatchOrderBySub(this.subsidiaryID,this._Receipt.branch_id,e).subscribe(e=>{this.BatchOrderList=[],this.BatchOrderList=e,this.cd.markForCheck()})}BatchOrderSelectEvent(e){this._Receipt.batchorder_id=e.id,null!=e.id&&null!=e.accountid&&(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_code={code:e.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.vendorname_ar:e.vendorname)}onClearBatchOrder(e){this._Receipt.batchorder_id=null,this._Receipt.fromcomp_transfer=1}ChangeFromComponentsTransfers(e){}AddItems(e=1){let t=new x.hm;if(this._Receipt.details.length>0?(t.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,t.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id?(t.store_id=this.StoreCostCenterSetting.storeid,t.storecode={code:this.StoreCostCenterSetting.storecode}):(t.store_id=this._ReceiptOriginal.details[0].store_id,t.storecode=this._ReceiptOriginal.details[0].storecode),1==e){t.transaction_move=1;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);t.rowno=e+1,this._Receipt.details.push(t)}else{t.transaction_move=-1,t.updatefromproc=1;let e=Math.max(...this._Receipt.itemscomponent.map(e=>e.rowno),0);t.rowno=e+1,t.parentrowno=this.SelectedItem.rowno,this._Receipt.itemscomponent.push(t),this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent))}this.cd.markForCheck()}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e}),this.CheckBalanceForAllItemsComponentInStore(0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,console.log(this.StoreList,"  this.StoreList"),this.cd.markForCheck()})}onFocusInStoreComponent(e){this.GetStoreList("")}StoreComponentSelectEvent(e){this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e,console.log(t)}),this.cd.markForCheck(),this.CheckBalanceForAllItemsComponentInStore(0)}onClearStoreComponent(e){let t;t=this._Receipt.itemscomponent.findIndex(null==e.id?t=>t.rowno==e.rowno:t=>t.id==e.id),this._Receipt.itemscomponent[t].store_id=null,this._Receipt.itemscomponent[t].storecode=null}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}GetItemsList(e=""){this._ProductionService.GetItemsDataListProduction(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?0==this._Receipt.details.filter(t=>t.item_id==e.id).length?(t==this._Receipt.details.length-1&&this.AddItems(),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this.ResetRow(t),this.toastr.error(this.ItemSelectedBefor)):(this.ResetRow(t),this.toastr.error(this.StopInventoryErrorMsg))}ResetRow(e){this._Receipt.details.splice(e,1),setTimeout(()=>{this.AddItems()},0)}onClearItems(e){let t=this._Receipt.details[e];this._Receipt.itemscomponent.length>0&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno)),this._Receipt.details[e].id=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].conv=1,this._Receipt.details[e].final_conv=1,this._Receipt.details[e].qty=1,this._Receipt.details[e].price=0,this._Receipt.details[e].discount_percent=0,this._Receipt.details[e].discount_value=0,this._Receipt.details[e].total=0,this._Receipt.details[e].defaultitemcost=0,this._Receipt.details[e].costdiff=0,this._Receipt.details[e].productionunitexpense=0,this._Receipt.details[e].productionqtyexpense=0,this._Receipt.details[e].indirectexpensesunit=0,this._Receipt.details[e].unit_id=null;let n=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[e].rowno=n+1}GetItemDataDetailsLists(e,t){let n;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].defaultitemcost=0,this._Receipt.details[t].costdiff=0,this._Receipt.details[t].productionunitexpense=0,this._Receipt.details[t].productionqtyexpense=0,this._Receipt.details[t].indirectexpensesunit=0,this._Receipt.details[t].unit_id=null,1==this._Receipt.fromcomp_transfer?n=this._ProductionService.GetFinishProductDetailsLists(this.subsidiaryID,e.id):2==this._Receipt.fromcomp_transfer&&(n=this._ProductionService.GetFinishProductDetailsFromTransfer(this.subsidiaryID,e.id,this._Receipt.batchorder_id)),(0,Je.D)([n]).subscribe(([n])=>{let i=n;if(0==i.itemunits.length){this._Receipt.details[t]=new x.hm,this._Receipt.details[t].isrequireserial=i.item.isrequireserial;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[t].rowno=e+1,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)}else this._Receipt.details[t].isrequireserial=i.item.isrequireserial,this._Receipt.details[t].notes=i.item.notes,this._Receipt.details[t].item_type=i.item.item_type,1==this._Receipt.fromcomp_transfer?this._Receipt.details[t].qty=1:2==this._Receipt.fromcomp_transfer&&(this._Receipt.details[t].qty=i.item.batchorderqty),this._Receipt.details[t].indirectexpensesunit=i.item.indirectexpensesunit,this._Receipt.details[t].productionunitexpense=this._Receipt.details[t].indirectexpensesunit,this._Receipt.details[t].productionqtyexpense=Number((this._Receipt.details[t].productionunitexpense*this._Receipt.details[t].qty).toFixed(6)),this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(i.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(i.itemunits),this._Receipt.details[t].unit_id=i.item.productionunitid,this.ChangeItemUnits(i.item.productionunitid,t),i.itemcomponents.length>0?(i.componentsunits.length>0&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(i.componentsunits)),i.itemcomponents.forEach(e=>{let n=new x.hm;n.isrequireserial=e.isrequireserial,n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode={code:e.itemcode},n.unit_id=e.itemcomponentunitid,1==this._Receipt.fromcomp_transfer?(n.basicqtycomponent=e.itemcomponentqty,n.qty=Number((n.basicqtycomponent*this._Receipt.details[t].qty).toFixed(6)),n.defaultitemqty=Number((n.basicqtycomponent*this._Receipt.details[t].qty).toFixed(6))):2==this._Receipt.fromcomp_transfer&&(n.basicqtycomponent=Number((e.itemcomponentqty/this._Receipt.details[t].qty).toFixed(6)),n.qty=e.itemcomponentqty,n.defaultitemqty=e.itemcomponentqty),n.qtydiff=0,n.conv=e.itemcomponentconv,n.total=Number((n.price*n.qty).toFixed(6)),n.store_id=this._Receipt.details[t].store_id,n.transaction_move=-1,n.updatefromproc=1,n.item_type=e.item_type,n.storecode=null!=this._Receipt.details[t].storecode?this._Receipt.details[t].storecode:null,n.parentrowno=this._Receipt.details[t].rowno;let i=Math.max(...this._Receipt.itemscomponent.map(e=>e.rowno),0);n.rowno=i+1,this._Receipt.itemscomponent.push(n)}),this.GetItemComponents_CostPrice(this._Receipt.details[t].rowno)):(this.toastr.error(this.NOComponents),this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteItemsCostPriceRow(t));this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.cd.markForCheck()}OnSelectedItem(e=null,t=null,n="",i=!1){console.log(e,"SelectedItem"),this.show_all_component=i,this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),0==this.show_all_component?this.SelectedItem=e:(this.show_all_component=!0,this.cd.markForCheck()),this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemComponentsInStore(t,0)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=this._Receipt.details[e];this._Receipt.itemscomponent.filter(e=>e.parentrowno==t.rowno).forEach(e=>{e.qty=Number((e.basicqtycomponent*t.qty).toFixed(6)),e.defaultitemqty=Number((e.basicqtycomponent*t.qty).toFixed(6)),e.qtydiff=Number((e.qty-e.defaultitemqty).toFixed(6)),e.total=Number((e.price*e.qty).toFixed(6))}),this._Receipt.details[e].productionqtyexpense=Number((this._Receipt.details[e].productionunitexpense*this._Receipt.details[e].qty).toFixed(6)),this.CalaculteItemsCostPriceRow(e),this.OnSelectedItem(t,e),this.cd.markForCheck()},500)}DeleteItems(e){this.itemqtyview=!1;let t=this._Receipt.details[e];this._Receipt.itemscomponent.length>0&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno)),this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id),this._Receipt.details.splice(e,1),0==this._Receipt.details.length?(this._Receipt.netvalue=0,this._Receipt.netvalueforeign=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.totalproductioncost=0,this._Receipt.totalproductioncostforeign=0,this._Receipt.totalvouchercost=0,this._Receipt.totalvouchercostforeign=0,this._Receipt.allvouchercost=this.TotalExpensses+this.TotalLaborers,this._Receipt.allvouchercost_foreign=this._Receipt.allvouchercost):this.Calculate_Total_Cost(),this.OnSelectedItem(null),this.cd.markForCheck()}onFocusInItemsComponent(e){this.GetItemsComponentList("")}ItemsComponentChangeSearch(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsComponentList(e.query.trim())},300)}GetItemsComponentList(e=""){this._ProductionService.GetItemsDataListProductionComponent(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}onClearItemsComponent(e){let t=this._Receipt.itemscomponent.findIndex(t=>t.rowno==e.rowno);this._Receipt.itemscomponent[t].id=null,this._Receipt.itemscomponent[t].item_id=null,this._Receipt.itemscomponent[t].itemname=null,this._Receipt.itemscomponent[t].itemname_ar=null,this._Receipt.itemscomponent[t].finishedproductid=null,this._Receipt.itemscomponent[t].finishedreceipt_did=null,this._Receipt.itemscomponent[t].conv=1,this._Receipt.itemscomponent[t].final_conv=1,this._Receipt.itemscomponent[t].qty=1,this._Receipt.itemscomponent[t].price=0,this._Receipt.itemscomponent[t].discount_percent=0,this._Receipt.itemscomponent[t].discount_value=0,this._Receipt.itemscomponent[t].total=0,this._Receipt.itemscomponent[t].defaultitemcost=0,this._Receipt.itemscomponent[t].costdiff=0,this._Receipt.itemscomponent[t].productionunitexpense=0,this._Receipt.itemscomponent[t].productionqtyexpense=0,this._Receipt.itemscomponent[t].indirectexpensesunit=0,this._Receipt.itemscomponent[t].unit_id=null,this._Receipt.itemscomponent[t].defaultitemqty=0,this._Receipt.itemscomponent[t].qtydiff=0;let n=Math.max(...this._Receipt.itemscomponent.map(e=>e.rowno),0);this._Receipt.itemscomponent[t].rowno=n+1}ItemsComponentSelectEvent(e,t){let n=this._Receipt.itemscomponent.findIndex(e=>e.rowno==t.rowno);null!=this._Receipt.itemscomponent[n].item_id&&this.onClearItemsComponent(t);let i=this._Receipt.details.find(e=>e.rowno==this._Receipt.itemscomponent[n].parentrowno);if(e.id==i.item_id)return this._Receipt.itemscomponent[n]=new x.hm,this._Receipt.itemscomponent[n].transaction_move=-1,this._Receipt.itemscomponent[n].updatefromproc=1,0==this._Receipt.id?(this._Receipt.itemscomponent[n].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.itemscomponent[n].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.itemscomponent[n].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.itemscomponent[n].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.componentItselfMsg),void this.cd.markForCheck();0==e.stopinventorytransactions?(this._Receipt.itemscomponent[n].item_id=e.id,this._Receipt.itemscomponent[n].itemname=e.name,this._Receipt.itemscomponent[n].itemname_ar=e.name_ar,this.GetItemDataComponentsDetailsLists(e,n)):(this._Receipt.itemscomponent[n]=new x.hm,this._Receipt.itemscomponent[n].transaction_move=-1,this._Receipt.itemscomponent[n].updatefromproc=1,0==this._Receipt.id?(this._Receipt.itemscomponent[n].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.itemscomponent[n].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.itemscomponent[n].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.itemscomponent[n].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}GetItemDataComponentsDetailsLists(e,t){this._Receipt.itemscomponent[t].id=null,this._Receipt.itemscomponent[t].finishedproductid=null,this._Receipt.itemscomponent[t].finishedreceipt_did=null,this._Receipt.itemscomponent[t].conv=1,this._Receipt.itemscomponent[t].final_conv=1,this._Receipt.itemscomponent[t].qty=1,this._Receipt.itemscomponent[t].price=0,this._Receipt.itemscomponent[t].discount_percent=0,this._Receipt.itemscomponent[t].discount_value=0,this._Receipt.itemscomponent[t].total=0,this._Receipt.itemscomponent[t].defaultitemcost=0,this._Receipt.itemscomponent[t].unit_id=null,this._Receipt.itemscomponent[t].defaultitemqty=0,this._Receipt.itemscomponent[t].qtydiff=0,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{if(0==n.itemunits.length)this._Receipt.itemscomponent[t]=new x.hm,this._Receipt.itemscomponent[t].isrequireserial=n.item.isrequireserial,this._Receipt.itemscomponent[t].transaction_move=-1,this._Receipt.itemscomponent[t].updatefromproc=1,0==this._Receipt.id?(this._Receipt.itemscomponent[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.itemscomponent[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.itemscomponent[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.itemscomponent[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits);else{let i=this._Receipt.details.find(e=>e.rowno==this._Receipt.itemscomponent[t].parentrowno);this._Receipt.itemscomponent[t].isrequireserial=n.item.isrequireserial,this._Receipt.itemscomponent[t].notes=n.item.notes,this._Receipt.itemscomponent[t].item_type=n.item.item_type,this._Receipt.itemscomponent[t].qty=1*i.qty,this._Receipt.itemscomponent[t].defaultitemqty=0,this._Receipt.itemscomponent[t].qtydiff=Number((this._Receipt.itemscomponent[t].qty-this._Receipt.itemscomponent[t].defaultitemqty).toFixed(6)),this._Receipt.itemscomponent[t].basicqtycomponent=1,this.ItemComponentUnitsList.length>0?0==this.ItemComponentUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.itemunits)):this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.itemunits),this._Receipt.itemscomponent[t].unit_id=n.item.inventory_unit,this.ChangeItemComponentsUnits(n.item.inventory_unit,this._Receipt.itemscomponent[t]),this.cd.markForCheck()}this.cd.markForCheck()})}ChangeItemComponentsUnits(e,t){let n=this._Receipt.itemscomponent.findIndex(e=>e.rowno==t.rowno),i=this.ItemComponentUnitsList.find(n=>n.item_id==t.item_id&&n.id==e);this._Receipt.itemscomponent[n].conv=i.conv,this._Receipt.itemscomponent[n].final_conv=i.finalconv,this.GetItemComponent_CostPrice(n),this.CheckBalanceForItemComponentInStore(n)}DeleteItemsComponent(e){let t=this._Receipt.itemscomponent.findIndex(t=>t.rowno==e.rowno),n=this._Receipt.itemscomponent[t];1==this._Receipt.itemscomponent.filter(e=>e.item_id==n.item_id).length&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.filter(e=>e.item_id!=n.item_id)),this._Receipt.itemscomponent.splice(t,1),this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent));let i=this._Receipt.details.findIndex(t=>t.rowno==e.parentrowno);this.CalaculteItemsCostPriceRow(i),this.cd.markForCheck()}ChangeQtyComponent(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=this._Receipt.itemscomponent.findIndex(t=>t.rowno==e.rowno);this._Receipt.itemscomponent[t].qtydiff=Number((this._Receipt.itemscomponent[t].qty-this._Receipt.itemscomponent[t].defaultitemqty).toFixed(6)),this._Receipt.itemscomponent[t].total=Number((this._Receipt.itemscomponent[t].price*this._Receipt.itemscomponent[t].qty).toFixed(6));let n=this._Receipt.details.findIndex(t=>t.rowno==e.parentrowno);this.CalaculteItemsCostPriceRow(n),this.cd.markForCheck(),this.CheckBalanceForItemComponentInStore(t)},2e3)}GetItemComponents_CostPrice(e,t=0){let n,i=this._Receipt.itemscomponent.filter(t=>t.parentrowno==e),r=i[t],o=this._Receipt.itemscomponent.findIndex(e=>e.rowno==r.rowno);n=2!=r.item_type?this._ReceiptSharedService.GetItemCostAtDateStoreconv(r.item_id,r.unit_id,r.conv,r.store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time):this._ProductionService.GetServiceItemCost(this._Receipt.subsidiaryid,r.item_id),(0,Je.D)([n]).subscribe(([n])=>{if(this._Receipt.itemscomponent[o].price=n.length>0?Number(n[0].avgcost.toFixed(6)):0,this._Receipt.itemscomponent[o].total=Number((this._Receipt.itemscomponent[o].price*this._Receipt.itemscomponent[o].qty).toFixed(6)),this.cd.markForCheck(),t+1<i.length)this.GetItemComponents_CostPrice(e,t+1);else{let t=0,n=this._Receipt.details.findIndex(t=>t.rowno==e);this._Receipt.itemscomponent.filter(t=>t.parentrowno==e).forEach(e=>{t+=e.total}),this._Receipt.details[n].defaultitemcost=Number((t/this._Receipt.details[n].qty).toFixed(6)),this.OnSelectedItem(this._Receipt.details[n],n),this.CalaculteItemsCostPriceRow(n)}})}GetItemComponent_CostPrice(e){let t,n=this._Receipt.itemscomponent[e];t=2!=n.item_type?this._ReceiptSharedService.GetItemCostAtDateStoreconv(n.item_id,n.unit_id,n.conv,n.store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time):this._ProductionService.GetServiceItemCost(this._Receipt.subsidiaryid,n.item_id),(0,Je.D)([t]).subscribe(([t])=>{this._Receipt.itemscomponent[e].price=t.length>0?Number(t[0].avgcost.toFixed(6)):0,this._Receipt.itemscomponent[e].total=Number((this._Receipt.itemscomponent[e].price*this._Receipt.itemscomponent[e].qty).toFixed(6));let n=this._Receipt.details.findIndex(t=>t.rowno==this._Receipt.itemscomponent[e].parentrowno);this.CalaculteItemsCostPriceRow(n),this.cd.markForCheck()})}CalaculteItemsCostPriceRow(e){let t=0;this._Receipt.itemscomponent.filter(t=>t.parentrowno==this._Receipt.details[e].rowno).forEach(e=>{t+=e.total}),this._Receipt.details[e].price=Number(t.toFixed(6)),this._Receipt.details[e].total=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(6)),this._Receipt.details[e].discount_percent=0,this._Receipt.details[e].discount_value=0,this._Receipt.details[e].costdiff=Number((this._Receipt.details[e].price/this._Receipt.details[e].qty-this._Receipt.details[e].defaultitemcost).toFixed(6)),this.Calculate_Total_Cost()}Calculate_Total_Cost(){let e=0,t=0,n=0,i=0,r=0;this._Receipt.details.forEach(n=>{e+=n.price,t+=n.productionqtyexpense}),r=this._Receipt.totalexpensses+this._Receipt.totallaborers,n=e+t,i=n+r,this._Receipt.details.forEach(t=>{t.additionalexpensesandlabors=Number((r*(t.price/e)).toFixed(6))}),this._Receipt.netvalue=Number(e.toFixed(6)),this._Receipt.netvalueforeign=Number(e.toFixed(6)),this._Receipt.value=this._Receipt.netvalue,this._Receipt.valueforeign=this._Receipt.netvalueforeign,this._Receipt.totalproductioncost=Number(t.toFixed(6)),this._Receipt.totalproductioncostforeign=Number(t.toFixed(6)),this._Receipt.totalvouchercost=Number(n.toFixed(6)),this._Receipt.totalvouchercostforeign=Number(n.toFixed(6)),this._Receipt.allvouchercost=Number(i.toFixed(6)),this._Receipt.allvouchercost_foreign=Number(i.toFixed(6)),this.cd.markForCheck()}GetReceiptCodeList(){this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(e=>{this.ReceiptCodeList=e;let t=this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt);this.Transaction_move=t.items,this.cd.markForCheck()})}AddLinkedReceipt(){this._LinkedReceipt=new x.Cb,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}GetLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&0==t.fire&&(this._Receipt.linkedreceipts[e].fire=1,this._ProductionService.GetReceiptForLinkedReceiptProduction(t.branch_id,t.code,t.entry_no,0==this._Receipt.id?this.StoreCostCenterSetting.storeid:this._ReceiptOriginal.details[0].store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(n=>{if(null==n.receipt.id)this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.ReceiptNotFound);else if(n.items.length>0){this._Receipt.linkedreceipts[e].fire=1,this._Receipt.linkedreceipts[e].receiptid=n.receipt.id,this._Receipt.linkedreceipts[e].subsidiaryid=this.subsidiaryID,this._Receipt.linkedreceipts[e].parentreceiptid=this._Receipt.id;for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);if(n.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),this.ItemLinkedReceipt=n.items,n.itemcomponents.length>0&&(this.ItemComponentsLinkedReceipt=n.itemcomponents,this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(n.componentsunits)),n.receiptexpenses.length>0){var i=n.receiptexpenses;i.forEach(e=>{e.accountcode={accountcode:e.accountcode},e.exchangerate=Number(e.exchangerate.toPrecision()),this.addItemIfNotInList(e)}),this._Receipt.receiptexpenses=this._Receipt.receiptexpenses.concat(i)}if(n.receiptlaborers.length>0){var r=n.receiptlaborers;r.forEach(e=>{e.timeString=this.formatMinutesToHoursMinutes(e.numberofhours)}),this._Receipt.receiptlaborers=this._Receipt.receiptlaborers.concat(r)}this._Receipt.memo="ar"!=this.lang?"Production voucher for work order # "+t.entry_no:"\u0633\u0646\u062f \u0627\u0646\u062a\u0627\u062c \u0645\u0646 \u0623\u0645\u0631 \u062a\u0634\u063a\u064a\u0644 \u0631\u0642\u0645 "+t.entry_no,this._Receipt.customersalesprice=n.receipt.customersalesprice,1==this._Receipt.linkedreceipts.length?(this._Receipt.vendor_id=null!=n.receipt.vendor_id?n.receipt.vendor_id:this._Receipt.vendor_id,null!=this._Receipt.vendor_id&&(this._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?n.receipt.vendornamear:n.receipt.vendorname,this._Receipt.vendor_balance=null!=n.receipt.vendor_balance?n.receipt.vendor_balance:this._Receipt.vendor_balance)):this._Receipt.vendor_id!=n.receipt.vendor_id&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomer_vendor_code={code:null},this._Receipt.cashcustomer_vendor_name=null),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0])}else this._Receipt.linkedreceipts[e].fire=0,this.toastr.error(this.Receiptnoitems),this._Receipt.linkedreceipts[e].entry_no=null,this.cd.markForCheck()}))}SetLinkReceiptItemRow(e=0,t){let n=this._Receipt.details.findIndex(e=>e.item_id==t.item_id&&e.unit_id==t.unit_id&&e.conv==t.conv);if(-1==n){let n=new x.hm,i=Math.max(...this._Receipt.details.map(e=>e.rowno),0);n.rowno=i+1,0==this._Receipt.id?(n.store_id=this.StoreCostCenterSetting.storeid,n.storecode={code:this.StoreCostCenterSetting.storecode}):(n.store_id=this._ReceiptOriginal.details[0].store_id,n.storecode=this._ReceiptOriginal.details[0].storecode),n.item_id=t.item_id,n.itemcode={code:t.itemcode},n.itemname=t.itemname,n.itemname_ar=t.itemname_ar,n.isrequireserial=t.isrequireserial,n.unit_id=t.unit_id,n.qty=t.qty,n.transaction_move=1,n.item_type=t.item_type,n.indirectexpensesunit=t.indirectexpensesunit,n.productionunitexpense=n.indirectexpensesunit,n.productionqtyexpense=Number((n.productionunitexpense*n.qty).toFixed(6)),n.conv=t.conv,n.final_conv=t.finalconv,this.ItemComponentsLinkedReceipt.filter(e=>e.item_id==n.item_id).forEach(e=>{let t=new x.hm,i=Math.max(...this._Receipt.itemscomponent.map(e=>e.rowno),0);t.rowno=i+1,t.parentrowno=n.rowno,t.transaction_move=-1,t.updatefromproc=1,t.store_id=n.store_id,t.storecode=n.storecode,t.item_id=e.itemcomponentid,t.itemcode={code:e.itemcode},t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.item_type=e.item_type,t.finishedproductid=e.item_id,t.qty=e.itemcomponentqty*n.qty,t.basicqtycomponent=e.itemcomponentqty,t.defaultitemqty=e.itemcomponentqty*n.qty,t.qtydiff=0,t.conv=e.itemcomponentconv,t.unit_id=e.itemcomponentunitid,t.final_conv=1,t.price=Number((e.avgcostpriceclac||0).toFixed(6)),t.total=Number(((e.avgcostpriceclac||0)*t.qty).toFixed(6)),n.defaultitemcost=n.defaultitemcost+t.total,this._Receipt.itemscomponent.push(t)}),this._Receipt.details.push(n),this.CalaculteItemsCostPriceRow(this._Receipt.details.length-1),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckBalanceForAllItemsComponentInStore(0),this.OnSelectedItem(this._Receipt.details[0],0,"Selected"))}else{this._Receipt.details[n].qty=this._Receipt.details[n].qty+parseFloat(t.qty);let i=this._Receipt.details[n];this._Receipt.itemscomponent.filter(e=>e.parentrowno==i.rowno).forEach(e=>{e.qty=Number((e.basicqtycomponent*i.qty).toFixed(6)),e.defaultitemqty=Number((e.basicqtycomponent*i.qty).toFixed(6)),e.qtydiff=Number((e.qty-e.defaultitemqty).toFixed(6)),e.total=Number((e.price*e.qty).toFixed(6))}),this._Receipt.details[n].productionqtyexpense=Number((this._Receipt.details[n].productionunitexpense*this._Receipt.details[n].qty).toFixed(6)),this.CalaculteItemsCostPriceRow(n),e+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(e+1,this.ItemLinkedReceipt[e+1]):(this.CheckBalanceForAllItemsComponentInStore(0),this.OnSelectedItem(this._Receipt.details[0],0,"Selected"))}}OnOpenLinkedReceipt(e){let t=this._Receipt.linkedreceipts[e],n=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(e=>e.Code==t.code);null!=this._Receipt.linkedreceipts[e].receiptid?""!=n.Url&&window.open(n.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=t.branch_id&&null!=t.code&&null!=t.entry_no&&t.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(t.branch_id,t.code,t.entry_no).subscribe(e=>{""!=n.Url&&null!=e?window.open(n.Url+e.id+"/show","_blank"):this.toastr.error(this.ReceiptNotFound)})}DeleteLinkedReceipt(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}GetexpenseList(){this._ReceiptSharedService.GetAllExpensesTypeBySubSidary(this.subsidiaryID,3).subscribe(e=>{this.expenseList=e,this.cd.markForCheck()})}AddExpenses(){this._ReceiptExpenses=new x.th,this._ReceiptExpenses.currencyid=this._Receipt.currency_id,this._ReceiptExpenses.exchangerate=this._Receipt.currency_rate,this._ReceiptExpenses.expenseid=this.expenseList.length>0?this.expenseList[0].id:null,this._ReceiptExpenses.purchaseexpense=!1,this._ReceiptExpenses.expenseList=this.expenseList,this._Receipt.receiptexpenses.push(this._ReceiptExpenses),this.changeexpenses(this._Receipt.receiptexpenses.length-1),this.calculateTotalExpenses(),this.cd.markForCheck()}DeleteExpenses(e){this._Receipt.receiptexpenses.splice(e,1),this.calculateTotalExpenses(),this.cd.markForCheck()}changeexpenses(e=0){let t=this._Receipt.receiptexpenses[e].expenseid;null!=t?this._ReceiptSharedService.GetExpensesType(t).subscribe(t=>{t&&t.length>0?e>=0&&(this.expensesAccountid=t[0].accountid,this.accountcode=t[0].code,this._Receipt.receiptexpenses[e].accountid=t[0].accountid,this._Receipt.receiptexpenses[e].accountcode={accountcode:t[0].code},this._Receipt.receiptexpenses[e].value=parseFloat(t[0].value.toFixed(this._Currencyprecision)),this._Receipt.receiptexpenses[e].localvalue=parseFloat((parseFloat(t[0].value)/parseFloat(this._Receipt.receiptexpenses[e].exchangerate.toString())).toFixed(this._Currencyprecision))):(this._Receipt.receiptexpenses[e].accountid=null,this._Receipt.receiptexpenses[e].accountcode="",this._Receipt.receiptexpenses[e].value=parseFloat(1..toFixed(this._Currencyprecision)),this._Receipt.receiptexpenses[e].localvalue=this._Receipt.receiptexpenses[e].value,this._Receipt.receiptexpenses[e].exchangerate=this._Receipt.currency_rate),this.cd.markForCheck()}):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}changeexpensesCurrency(e,t=-1){let n=this.CurrencyList.find(t=>t.id==e.target.value);null!=n?this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,n.id,this._Receipt.entry_date,0).subscribe(e=>{e&&e.length>0?(this._Receipt.receiptexpenses[t].exchangerate=e[0].rate.toFixed(9),this.disablerate=!1):(this._Receipt.receiptexpenses[t].exchangerate=Number(1..toFixed(9)),this.disablerate=!0),this.ChangeExpensesValue(t),this.cd.markForCheck()}):(n=null,this._Receipt.receiptexpenses[t].exchangerate=null,this.cd.markForCheck())}ChangeExpensesValue(e){if(this._Receipt.receiptexpenses[e].exchangerate<=0)return this._Receipt.receiptexpenses[e].localvalue=0,void this.calculateTotalExpenses();this._Receipt.receiptexpenses[e].localvalue=parseFloat((this._Receipt.receiptexpenses[e].value/this._Receipt.receiptexpenses[e].exchangerate).toFixed(this._Currencyprecision)),this.calculateTotalExpenses(),this.cd.markForCheck()}ChangeExpenseslocalValue(e){if(this._Receipt.receiptexpenses[e].exchangerate<=0)return this._Receipt.receiptexpenses[e].value=0,void this.calculateTotalExpenses();this._Receipt.receiptexpenses[e].localvalue=parseFloat(this._Receipt.receiptexpenses[e].localvalue.toFixed(this._Currencyprecision)),this._Receipt.receiptexpenses[e].value=parseFloat((this._Receipt.receiptexpenses[e].localvalue*this._Receipt.receiptexpenses[e].exchangerate).toFixed(this._Currencyprecision)),this.calculateTotalExpenses(),this.cd.markForCheck()}GetAccount(e){this._ReceiptSharedService.GetAccount(this.subsidiaryID,e.query.trim()).subscribe(e=>{this.AccountList=[],this.AccountList=[...this.AccountList,...e],this.cd.markForCheck()})}onSelectAccount(e,t){this._Receipt.receiptexpenses[t].accountid=e.accountid;let n=e.accountid;null!=n&&null!=n&&""!=n||(this._Receipt.receiptexpenses[t].accountid=null),this.cd.markForCheck()}onFocusInAutoComplete(e){this.GetAccount(e)}calculateTotalExpenses(){this.TotalExpensses=0,this.TotalExpensses=this._Receipt&&this._Receipt.receiptexpenses?this._Receipt.receiptexpenses.map(e=>e.localvalue||0).reduce((e,t)=>e+t,0):0,this._Receipt.totalexpensses=Number(this.TotalExpensses.toFixed(this._Currencyprecision)),this._Receipt.totalexpensses_foreign=Number((this.TotalExpensses*this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this.Calculate_Total_Cost(),this.cd.markForCheck()}addItemIfNotInList(e){e.expenseList=[...this.expenseList],e.expenseList.some(t=>t.id===e.expenseid)||e.expenseList.push({id:e.expenseid,name:e.name,name_ar:e.name_ar})}GetHrEmployeesList(){this._employeeService.getHrEmployees(this.subsidiaryID,"").subscribe(e=>{this.HRemployeesList=e,console.log(this.HRemployeesList),this.cd.markForCheck()})}changeHrEmployee(e){let t=this._Receipt.receiptlaborers[e].employeeid;if(this._Receipt.receiptlaborers.some((n,i)=>n.employeeid==t&&i!=e))return this._Receipt.receiptlaborers[e].employeeid=null,this.cd.markForCheck(),this.toastr.error(this.EmpAddedPreviously);this._Receipt.receiptlaborers[e].employeeid=t;let n=this.HRemployeesList.find(e=>e.id==t);null!=n&&(this._Receipt.receiptlaborers[e].hourlywages=n.salary,this.ChangeLaborersValue(e)),this.cd.markForCheck()}ChangeLaborersValue(e){this._Receipt.receiptlaborers[e].value=parseFloat((this._Receipt.receiptlaborers[e].hourlywages/60*this._Receipt.receiptlaborers[e].numberofhours).toFixed(this._Currencyprecision)),this.calculateTotalLaborers(),this.cd.markForCheck()}AddLaborers(){this._ReceiptLaborers=new x.NM,this._ReceiptLaborers.employeeid=null,this._ReceiptLaborers.hourlywages=0,this._ReceiptLaborers.numberofhours=0,this._ReceiptLaborers.value=0,this._Receipt.receiptlaborers.push(this._ReceiptLaborers),this.calculateTotalLaborers(),this.cd.markForCheck()}DeleteLaborers(e){this._Receipt.receiptlaborers.splice(e,1),this.calculateTotalLaborers(),this.cd.markForCheck()}calculateTotalLaborers(){this.TotalLaborers=this._Receipt&&this._Receipt.receiptlaborers?this._Receipt.receiptlaborers.map(e=>e.value||0).reduce((e,t)=>e+t,0):0,this._Receipt.totallaborers=Number(this.TotalLaborers.toFixed(this._Currencyprecision)),this._Receipt.totallaborers_foreign=Number((this.TotalLaborers*this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this.Calculate_Total_Cost()}formatSpentHours(e,t){if(String(t).match(/^[0-9]*:?[0-5]?[0-9]?$/)){let[n,i]=t.split(":"),r="00",o="00";null!=i&&""!=i&&(r=Math.min(parseInt(i,10),59).toString().padStart(2,"0")),null!=n&&""!=n&&(o=Math.min(parseInt(n)).toString().padStart(2,"0")),this._Receipt.receiptlaborers[e].timeString=`${o}:${r}`}else this._Receipt.receiptlaborers[e].timeString="00:00";const[n,i]=this._Receipt.receiptlaborers[e].timeString.split(":").map(Number);this._Receipt.receiptlaborers[e].numberofhours=60*n+i,this.ChangeLaborersValue(e)}formatMinutesToHoursMinutes(e){const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`}OnSignatureSet(e){this._Receipt.signature=e.signature}StockBalances(e=null){null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new x.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new x.I$)}CheckBalanceForAllItemsComponentInStore(e=0,t=!1){let n=!0,i=new x.I$;null!=this._Receipt.itemscomponent[e].item_id&&2!=this._Receipt.itemscomponent[e].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid?(i.ReceiptCode=this.BasicCodeReceipt,i.BranchID=this._Receipt.branch_id,i.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,i.subsidairyid=this.subsidiaryID,i.ReceiptID=this._Receipt.id,i.Qty=0,i.Unit_ID=this._Receipt.itemscomponent[e].unit_id,i.conv=this._Receipt.itemscomponent[e].conv,i.itemid=this._Receipt.itemscomponent[e].item_id,i.StoreID=this._Receipt.itemscomponent[e].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(i).subscribe(i=>{let r=0,o=0,a=0;if(0==i.consignment.consignment&&void 0!==i.totalqty.totalqty){r=i.totalqty.totalqty,this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.itemscomponent[e].item_id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;o=parseFloat(o.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),a=r-o,n=a>=0;let s=this._Receipt.details.findIndex(t=>t.rowno==this._Receipt.itemscomponent[e].parentrowno);0==n?(this._Receipt.itemscomponent[e].allowqtyselectforitem=!1,this._Receipt.details[s].allowqtyselectforitem=!1,this.cd.markForCheck()):(this._Receipt.itemscomponent[e].allowqtyselectforitem=!0,this._Receipt.itemscomponent.filter(e=>e.parentrowno==this._Receipt.details[s].rowno&&0==e.allowqtyselectforitem).length>0?(this._Receipt.details[s].allowqtyselectforitem=!1,this.cd.markForCheck()):(this._Receipt.details[s].allowqtyselectforitem=!0,this.cd.markForCheck())),e+1<this._Receipt.itemscomponent.length?this.CheckBalanceForAllItemsComponentInStore(e+1,t):1==t&&this.SaveReceipt()}})):e+1<this._Receipt.itemscomponent.length?this.CheckBalanceForAllItemsComponentInStore(e+1,t):1==t&&this.SaveReceipt()}CheckBalanceForItemComponentsInStore(e,t=0){let n=this._Receipt.itemscomponent.filter(t=>t.parentrowno==this._Receipt.details[e].rowno),i=!0,r=new x.I$;null!=this._Receipt.details[e].item_id&&null!=n[t].item_id&&2!=n[t].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid?(r.ReceiptCode=this.BasicCodeReceipt,r.BranchID=this._Receipt.branch_id,r.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,r.subsidairyid=this.subsidiaryID,r.ReceiptID=this._Receipt.id,r.Qty=0,r.Unit_ID=n[t].unit_id,r.conv=n[t].conv,r.itemid=n[t].item_id,r.StoreID=n[t].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(r).subscribe(r=>{let o=0,a=0,s=0;if(0==r.consignment.consignment&&null!=r.totalqty.totalqty){o=r.totalqty.totalqty,this._Receipt.itemscomponent.filter(e=>e.item_id==n[t].item_id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;a=parseFloat(a.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),s=o-a,i=s>=0;let c=this._Receipt.itemscomponent.findIndex(e=>e.rowno==n[t].rowno);this._Receipt.itemscomponent[c].allowqtyselectforitem=0!=i,t+1<n.length?this.CheckBalanceForItemComponentsInStore(e,t+1):this._Receipt.itemscomponent.filter(t=>t.parentrowno==this._Receipt.details[e].rowno&&0==t.allowqtyselectforitem).length>0?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.QtyNotsufficient)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}})):t+1<n.length?this.CheckBalanceForItemComponentsInStore(e,t+1):this._Receipt.itemscomponent.filter(t=>t.parentrowno==this._Receipt.details[e].rowno&&0==t.allowqtyselectforitem).length>0?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.QtyNotsufficient)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}CheckBalanceForItemComponentInStore(e){let t=!0,n=new x.I$;null!=this._Receipt.itemscomponent[e].item_id&&2!=this._Receipt.itemscomponent[e].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid&&(n.ReceiptCode=this.BasicCodeReceipt,n.BranchID=this._Receipt.branch_id,n.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,n.subsidairyid=this.subsidiaryID,n.ReceiptID=this._Receipt.id,n.Qty=0,n.Unit_ID=this._Receipt.itemscomponent[e].unit_id,n.conv=this._Receipt.itemscomponent[e].conv,n.itemid=this._Receipt.itemscomponent[e].item_id,n.StoreID=this._Receipt.itemscomponent[e].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(n).subscribe(n=>{let i=0,r=0,o=0;if(0==n.consignment.consignment&&null!=n.totalqty.totalqty){i=n.totalqty.totalqty,this._Receipt.itemscomponent.filter(t=>t.item_id==this._Receipt.itemscomponent[e].item_id).forEach(e=>{let t=this.ItemComponentUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,o=e.conv;r=parseFloat(r.toString())+n*(o/i)*parseFloat(e.qty.toString())}}),o=i-r,t=o>=0;let a=this._Receipt.details.findIndex(t=>t.rowno==this._Receipt.itemscomponent[e].parentrowno);0==t?(this._Receipt.itemscomponent[e].allowqtyselectforitem=!1,this._Receipt.details[a].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.QtyNotsufficient)):(this._Receipt.itemscomponent[e].allowqtyselectforitem=!0,this._Receipt.itemscomponent.filter(e=>e.parentrowno==this._Receipt.details[a].rowno&&0==e.allowqtyselectforitem).length>0?(this._Receipt.details[a].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.QtyNotsufficient)):(this._Receipt.details[a].allowqtyselectforitem=!0,this.cd.markForCheck()))}}))}CheckBalanceForItemInStoreBeforeDelete(e,t=!1){var n;if(this._ReceiptOriginal.details.length>0){let i=!0,r=new x.I$;if(null!=this._ReceiptOriginal.details[e].item_id){r.ReceiptCode=this.BasicCodeReceipt,r.BranchID=this._ReceiptOriginal.branch_id,r.Entrydate=this._ReceiptOriginal.entry_date,r.Unit_ID=this._ReceiptOriginal.details[e].unit_id,r.conv=this._ReceiptOriginal.details[e].conv,r.Qty=0,r.itemid=this._ReceiptOriginal.details[e].item_id,r.StoreID=this._ReceiptOriginal.details[e].store_id,r.subsidairyid=this.subsidiaryID,r.ReceiptID=this._ReceiptOriginal.id;let o=null!==(n=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==n?n:-1,a=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._ReceiptOriginal.details[e].item_type&&3!=this._ReceiptOriginal.details[e].item_type&&1==o&&this._ReceiptOriginal.details[e].id>0&&1==a?this._ReceiptSharedService.CheckBalanceForItemInStoreBeforeDelete(r).subscribe(n=>{let r=0,o=0,a=0;null!=n.totalqty.totalqty?(r=n.totalqty.totalqty,this._ReceiptOriginal.details.filter(t=>t.item_id==this._ReceiptOriginal.details[e].item_id).forEach(e=>{if(e.id>0){let t=this.ItemOrginalUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;o=parseFloat(o.toString())+n*(r/i)*parseFloat(e.qty.toString())}}}),a=r-o,i=a>=0):i=!1,0==i?this.toastr.error(this.NegativeBalancesMsg):1==t&&e+1<this._ReceiptOriginal.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}):1==t&&e+1<this._ReceiptOriginal.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else 1==t&&e+1<this._ReceiptOriginal.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else this.DeleteAction()}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(628)?this._router.navigate(["/page/production/productionvoucher/0"]).then(()=>{window.location.reload()}):We().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===We().DismissReason.cancel&&this._router.navigate(["/page/production/productionvoucher/0"]).then(()=>{window.location.reload()})})}DeleteAction(){We().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ProductionService.DeleteProductions(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/production/productionvoucher"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{let t=this.datepipe.transform(e[0].maxpostingdate,"yyyy-MM-dd");Date.parse(t.toString())<Date.parse(this._Receipt.entry_date.toString())?(this.ShowModeReceipt=!1,this.ValidPeriod=!0):(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/production/productionvoucher/0"),this.ReceiptID=0,this._Receipt.id=null,this.VouchersLinkedCount=0,this.CheckBalanceForAllItemsComponentInStore(0),this.cd.markForCheck()})}QualityAction(){}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/productionvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(628)||0==this.ReceiptID&&!this.checkRoleParms(367)||1==this.ShowModeReceipt?this._router.navigate(["/page/production/productionvoucher"]):We().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):this._router.navigate(["/page/production/productionvoucher"])})}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){this._authService.userInfo();let t="",n="";"ar"==this.lang&&(n="_ar"),t="P_I_82_ProductionVoucher"+n;let i={reportName:t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return i.reportName=t,i.toEmail=this._emailobj.email,i.Subject=this._emailobj.subject,i}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}formateDecimal(e,t=3){return e.toFixed(t)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}CheckPre_SaveReceipt(e){if(e.form.valid){if(0==this.ValidPeriod)return void this.ShowPopUpFinancialPeriod();if(this._Receipt.details=this._Receipt.details.filter(e=>null!=e.item_id),this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>null!=e.item_id),0==this._Receipt.details.length||1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++){let n=0;var t=this._Receipt.itemscomponent.filter(t=>t.parentrowno==this._Receipt.details[e].rowno);if(t.forEach(e=>{n+=e.qty}),this._Receipt.details[e].allowqtyselectforitem=0!=n,0==t.length)return void this.toastr.error(this.NoComponentInItem)}if(this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return void this.toastr.error(this.ComponentQtyZeroError);for(let e=0;e<this._Receipt.details.length;e++)if(this._Receipt.details[e].transaction_move=1,this._Receipt.details[e].qty>0){0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].transaction_move=-1,this._Receipt.itemscomponent[e].updatefromproc=1,this._Receipt.itemscomponent[e].qty>0){0!=this._Receipt.value?(this._Receipt.itemscomponent[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty%(1/0)||0,this._Receipt.itemscomponent[e].h_discount_percentage=100*(this._Receipt.itemscomponent[e].h_discount_value/(this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty)%(1/0)||0)):(this._Receipt.itemscomponent[e].h_discount_value=0,this._Receipt.itemscomponent[e].h_discount_percentage=0);{let t=this.ItemComponentUnitsList.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._Receipt.itemscomponent[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.itemscomponent[e].conv/t.conv):this._Receipt.itemscomponent[e].conv,this._Receipt.itemscomponent[e].final_conv=0==this._Receipt.itemscomponent[e].final_conv?1:this._Receipt.itemscomponent[e].final_conv}}else 0==this._Receipt.itemscomponent[e].qty&&0==this._Receipt.itemscomponent[e].defaultitemqty&&(this._Receipt.itemscomponent.splice(e,1),e--,this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)));this.CheckBalanceForAllItemsComponentInStore(0,!0)}}SaveReceipt(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this.DuringSaveDisable=!0,this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.PreFinalSave()}PreFinalSave(){var e;let t=!0;if(this._Receipt.id>0)for(let n=0;n<this._ReceiptOriginal.details.length;n++){const i=this._ReceiptOriginal.details[n];let r=this._Receipt.details.find(e=>e.item_id==i.item_id);if(null==r||null!=r&&r.qty<i.qty){let i=!0,o=new x.I$;if(null!=this._ReceiptOriginal.details[n].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._ReceiptOriginal.branch_id,o.Entrydate=this._ReceiptOriginal.entry_date,o.Unit_ID=this._ReceiptOriginal.details[n].unit_id,o.conv=this._ReceiptOriginal.details[n].conv,o.Qty=0,o.itemid=this._ReceiptOriginal.details[n].item_id,o.StoreID=this._ReceiptOriginal.details[n].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._ReceiptOriginal.id;let a=null!==(e=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==e?e:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._ReceiptOriginal.details[n].item_type&&3!=this._ReceiptOriginal.details[n].item_type&&1==a&&this._ReceiptOriginal.details[n].id>0&&1==s?this._ReceiptSharedService.CheckBalanceForItemInStoreBeforeDelete(o).subscribe(e=>{let o=0,a=0,s=0;if(null!=e.totalqty.totalqty?(o=e.totalqty.totalqty,this._ReceiptOriginal.details.filter(e=>e.item_id==this._ReceiptOriginal.details[n].item_id).forEach(e=>{if(e.id>0){let t=this.ItemOrginalUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;a=parseFloat(a.toString())+n*(r/i)*parseFloat(e.qty.toString())}}}),null!=r&&(a=0,this._Receipt.details.filter(e=>e.item_id==this._ReceiptOriginal.details[n].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;a=parseFloat(a.toString())+n*(r/i)*parseFloat(e.qty.toString())}})),s=o-a,i=s>=0):i=!1,0==i)return t=!1,this.DuringSaveDisable=!1,this.cd.markForCheck(),void this.toastr.error(this.NegativeBalancesMsg);n==this._ReceiptOriginal.details.length-1&&1==t&&this.FinalLevelSave()}):n==this._ReceiptOriginal.details.length-1&&1==t&&this.FinalLevelSave()}}else n==this._ReceiptOriginal.details.length-1&&1==t&&this.FinalLevelSave()}else this.FinalLevelSave()}FinalLevelSave(){this.DuringSaveDisable=!0;for(let e=0;e<this._Receipt.linkedreceipts.length;e++)0==this._Receipt.linkedreceipts[e].fire&&(this._Receipt.linkedreceipts.splice(e,1),e--);if(!this.checkDateISValidWithPatchesDates())return this.toastr.error(this.InValidDateWithPatchesDates),void(this.DuringSaveDisable=!1);this.CheckBatchesAndSerials()}Save(){null==this._Receipt.id||0==this._Receipt.id?(console.log(this._Receipt,"rece"),this._ProductionService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,setTimeout(()=>{this._router.navigate(["/page/production/productionvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})},2e3)})):(this._Receipt_h_Edit=new x.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ProductionService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),setTimeout(()=>{this._router.navigate(["/page/production/productionvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})},2e3)}))}CheckBatchesAndSerials(){this.BatchesAndSeialsList=[],console.log(this.BatchesAndSeialsList,"BatchesAndSeialsList");let e=this._Receipt.details.some(e=>3==e.isrequireserial),t=this._Receipt.itemscomponent.some(e=>3==e.isrequireserial);if(e)if(console.log("Validate"),this._Receipt.details.forEach(e=>{this.BatchesAndSeialsList=[...this.BatchesAndSeialsList,...e.batcheslist]}),this.ValidateInFrontEnd())if(t){if(1==this.CashCustomerSetting.salesreturneffect){let e=[];if(this._Receipt.itemscomponent.forEach(t=>{3==t.isrequireserial&&(t.allowqtyselectforitem=!0,0==t.batcheslist.length?(t.allowqtyselectforitem=!1,e.push(!1)):0==t.validrow&&(t.allowqtyselectforitem=!1,e.push(!0)))}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.itemscomponent.forEach(t=>{if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,e.push(!1);else{let n=0;t.batcheslist.forEach(e=>{var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0});let i=this.ItemComponentUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id);n!=t.qty*(t.conv*i[0].finalconv/i[0].conv)&&(t.allowqtyselectforitem=!1,e.push(!1))}}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}this.DuringSaveDisable=!0,console.log("Saved"),this.Save()}else this.DuringSaveDisable=!0,console.log("Saved"),this.Save();else this.DuringSaveDisable=!1;else if(t){if(1==this.CashCustomerSetting.salesreturneffect){let e=[];if(this._Receipt.itemscomponent.forEach(t=>{3==t.isrequireserial&&(t.allowqtyselectforitem=!0,0==t.batcheslist.length?(t.allowqtyselectforitem=!1,e.push(!1)):0==t.validrow&&(t.allowqtyselectforitem=!1,e.push(!0)))}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.itemscomponent.forEach(t=>{if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,e.push(!1);else{let n=0;t.batcheslist.forEach(e=>{var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0});let i=this.ItemComponentUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id);n!=t.qty*(t.conv*i[0].finalconv/i[0].conv)&&(t.allowqtyselectforitem=!1,e.push(!1))}}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}this.DuringSaveDisable=!0,console.log("Saved"),this.Save()}else this.DuringSaveDisable=!0,console.log("Saved"),this.Save()}ValidateInFrontEnd(){return 0==this.ValidateBatchesAndSerialsList()?(this.toastr.error(this.InValidNumberOfBatch),!1):(this._Receipt.details.map(e=>{e.batcheslist.length>0&&""==e.batcheslist[0].batchno.trim()&&(e.batcheslist[0].batchno=new Date(e.batcheslist[0].date).toLocaleDateString()+"_"+e.item_id)}),!0)}ValidateDublicateBatchesInBackEnd(){console.log(this._Receipt.details,"this._Receipt.details"),this._ReceiptSharedService.ValidateDublicateBatches(this._Receipt.details).subscribe(e=>{if(this._Receipt.details=[],this._Receipt.details=null!=e?e:[],console.log(this._Receipt.details,"details"),this.cd.markForCheck(),this._Receipt.details.some(e=>{if(e.batcheslist.length>0)return 1==e.batcheslist[0].isdublicatebatch}))return We().fire(this.DublicateBatchMassage),void(this.DuringSaveDisable=!1);if(this._Receipt.itemscomponent.some(e=>3==e.isrequireserial)){if(1==this.CashCustomerSetting.salesreturneffect){let e=[];if(this._Receipt.itemscomponent.forEach(t=>{3==t.isrequireserial&&(t.allowqtyselectforitem=!0,0==t.batcheslist.length?(t.allowqtyselectforitem=!1,e.push(!1)):0==t.validrow&&(t.allowqtyselectforitem=!1,e.push(!0)))}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.itemscomponent.forEach(t=>{if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,e.push(!1);else{let n=0;t.batcheslist.forEach(e=>{var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0});let i=this.ItemComponentUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id);n!=t.qty*(t.conv*i[0].finalconv/i[0].conv)&&(t.allowqtyselectforitem=!1,e.push(!1))}}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}this.DuringSaveDisable=!0,console.log("Saved"),this.Save()}else this.DuringSaveDisable=!0,this.Save()})}ValidateBatchesAndSerialsList(){let e=!0;this.BatchesAndSeialsList.forEach(t=>0==t.qty||null==t.qty||null==t.date||""==t.date?e=!1:void 0),this.BatchesAndSeialsList.filter(e=>{let t=y(`${this._Receipt.entry_date} ${this._Receipt.entry_time}`,"YYYY-MM-DD HH:mm").format(),n=y(`${e.date}`,"YYYY-MM-DD HH:mm").format();return y(t).isSameOrAfter(n)}).length>0&&(this.toastr.error(this.InvalidPatchDate),e=!1);let t=0;for(let n=0;n<this._Receipt.details.length;n++)if(3==this._Receipt.details[n].isrequireserial){let e=this.ItemUnitsList.filter(e=>e.item_id==this._Receipt.details[n].item_id&&e.id==this._Receipt.details[n].unit_id);t+=this._Receipt.details[n].qty*(this._Receipt.details[n].conv*e[0].finalconv/e[0].conv)}return t!=this.BatchesAndSeialsList.reduce((e,t)=>e+t.qty,0)&&(e=!1),e}ValidateDublicateBatchesInFrontEnd(){let e=[];for(let t=0;t<this._Receipt.details.length;t++)if(0!=this._Receipt.details[t].batcheslist.length){let n=this._Receipt.details[t].batcheslist[0];if(1==n.isdublicatebatch)continue;n.isdublicatebatch=!1;for(let i=t+1;i<this._Receipt.details.length;i++)0!=this._Receipt.details[i].batcheslist.length&&n.batchno.toLowerCase().trim()==this._Receipt.details[i].batcheslist[0].batchno.toLowerCase().trim()&&new Date(n.date).toLocaleDateString()!=new Date(this._Receipt.details[i].batcheslist[0].date).toLocaleDateString()&&(this._Receipt.details[i].batcheslist[0].isdublicatebatch=!0,e.push(this._Receipt.details[i].batcheslist[0]))}return e}GetBatchOrders(){this._ProductionService.GetBatchOrders(this.BatchOrderID,0==this.ReceiptID?this.StoreCostCenterSetting.storeid:this._ReceiptOriginal.details[0].store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(e=>{if(null===e.receipts.receipt)this.cd.markForCheck(),console.log("nnnot");else{for(var t=e.receipts,n=0;n<t.length;n++){var i=new x.Cb;i.branch_id=t[n].branch_id,i.code=t[n].code,i.entry_no=t[n].entry_no,i.receiptid=t[n].id,i.subsidiaryid=this.subsidiaryID,i.parentreceiptid=this._Receipt.id,i.fire=1,this._Receipt.linkedreceipts.push(i)}null!=t[0].vendor_id&&(this._Receipt.vendor_id=t[0].vendor_id,this._Receipt.cashcustomer_vendor_code={code:t[0].vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?t[0].vendornamear:t[0].vendorname,this._Receipt.vendor_balance=null!=t[0].vendor_balance?t[0].vendor_balance:this._Receipt.vendor_balance);for(let e=0;e<this._Receipt.details.length;e++)null==this._Receipt.details[e].item_id&&(this._Receipt.details.splice(e,1),e--);e.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),this.ItemLinkedReceipt=e.items,e.itemcomponents.length>0&&(this.ItemComponentsLinkedReceipt=e.itemcomponents,this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(e.componentsunits)),this.SetLinkReceiptItemRow(0,this.ItemLinkedReceipt[0]),this.cd.markForCheck()}console.log(this._Receipt.details)})}GetFinishProductFromProductionPlan(){this._ProductionService.GetFinishProductFromProductionPlan(this.ProdPlansID,this._Receipt.branch_id,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(e=>{for(let t=0;t<this._Receipt.details.length;t++)null==this._Receipt.details[t].item_id&&(this._Receipt.details.splice(t,1),t--);e.itemunits.forEach(e=>{0==this.ItemUnitsList.filter(t=>t.item_id==e.item_id&&t.id==e.unit_id).length&&this.ItemUnitsList.push(e)}),this.ItemsProductionPlan=e.items,e.itemcomponents.length>0&&(this.ItemsComponentsProductionPlan=e.itemcomponents,this.ItemComponentUnitsList=this.ItemComponentUnitsList.concat(e.componentsunits));for(let t=0;t<this.ItemsProductionPlan.length;t++){let e=this.ItemsProductionPlan[t],n=this.ItemUnitsList.find(t=>t.item_id==e.itemid&&t.id==e.productionunit),i=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.unit_id==e.productionunit);if(-1==i){let t=new x.hm,i=Math.max(...this._Receipt.details.map(e=>e.rowno),0);t.rowno=i+1,0==this._Receipt.id||null==this._Receipt.id?(t.store_id=this.StoreCostCenterSetting.storeid,t.storecode={code:this.StoreCostCenterSetting.storecode}):(t.store_id=this._ReceiptOriginal.details[0].store_id,t.storecode=this._ReceiptOriginal.details[0].storecode),t.item_id=e.itemid,t.itemcode={code:e.itemcode},t.itemname=e.itemname,t.itemname_ar=e.itemname_ar,t.unit_id=e.productionunit,t.qty=e.itemqty,t.transaction_move=1,t.item_type=e.item_type,t.indirectexpensesunit=e.indirectexpensesunit,t.productionunitexpense=t.indirectexpensesunit,t.productionqtyexpense=Number((t.productionunitexpense*t.qty).toFixed(6)),t.conv=n.conv,t.final_conv=n.finalconv,this.ItemsComponentsProductionPlan.filter(e=>e.item_id==t.item_id).forEach(e=>{let n=new x.hm,i=Math.max(...this._Receipt.itemscomponent.map(e=>e.rowno),0);n.rowno=i+1,n.parentrowno=t.rowno,n.transaction_move=-1,n.updatefromproc=1,n.store_id=t.store_id,n.storecode=t.storecode,n.item_id=e.itemcomponentid,n.itemcode={code:e.itemcode},n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.item_type=e.item_type,n.finishedproductid=e.item_id,n.qty=e.itemcomponentqty*t.qty,n.basicqtycomponent=e.itemcomponentqty,n.defaultitemqty=e.itemcomponentqty*t.qty,n.qtydiff=0,n.conv=e.itemcomponentconv,n.unit_id=e.itemcomponentunitid,n.final_conv=1,n.price=Number((e.avgcostpriceclac||0).toFixed(6)),n.total=Number(((e.avgcostpriceclac||0)*n.qty).toFixed(6)),t.defaultitemcost=t.defaultitemcost+n.total,this._Receipt.itemscomponent.push(n)}),this._Receipt.details.push(t),this.CalaculteItemsCostPriceRow(this._Receipt.details.length-1)}else{this._Receipt.details[i].qty=this._Receipt.details[i].qty*e.itemqty;let t=this._Receipt.details[i];this._Receipt.itemscomponent.filter(e=>e.parentrowno==t.rowno).forEach(e=>{e.qty=Number((e.basicqtycomponent*t.qty).toFixed(6)),e.defaultitemqty=Number((e.basicqtycomponent*t.qty).toFixed(6)),e.qtydiff=Number((e.qty-e.defaultitemqty).toFixed(6)),e.total=Number((e.price*e.qty).toFixed(6))}),this._Receipt.details[i].productionqtyexpense=Number((this._Receipt.details[i].productionunitexpense*this._Receipt.details[i].qty).toFixed(6)),this.CalaculteItemsCostPriceRow(i)}}this.ProductionPlan=e.productionplan,this._Receipt.prodplansid=this.ProdPlansID,null!=this.ProductionPlan[0].customerid&&(this._Receipt.vendor_id=this.ProductionPlan[0].customerid,this._Receipt.cashcustomer_vendor_code={code:this.ProductionPlan[0].vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?this.ProductionPlan[0].vendornamear:this.ProductionPlan[0].vendorname),this.CheckBalanceForAllItemsComponentInStore(0),this.OnSelectedItem(this._Receipt.details[0],0,"Selected")})}OnSerialItems(e,t,n=null){if(console.log(e,"ix",t),this.SelectedRowIndex=e,this.RowItem=t,t.qty<=0)this.toastr.error(this.InValidQty);else{if(this.requiredserial=this._Receipt.details[e].isrequireserial,0==this._Receipt.details[e].batcheslist.length)this.AddNewRow(e);else{let t=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].batcheslist[0].qty=this._Receipt.details[e].qty*(this._Receipt.details[e].conv*t[0].finalconv/t[0].conv)}this.OpenModal(n)}}AddNewRow(e=null){this._ReceiptSharedService.GetStoreByID(this.RowItem.store_id).subscribe(t=>{var n,i;console.log(t,"dd",this.RowItem);let r=new Xe.WB;r.storeid=this.RowItem.store_id,r.storename=null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",r.storename_ar=null!==(i=null==t?void 0:t.name_ar)&&void 0!==i?i:"";let o=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id),a=this._Receipt.details[e].conv*o[0].finalconv/o[0].conv;r.qty=this._Receipt.details[e].qty*a,console.log(o,"_selectedunit",a,r.qty),r.serial=this._Receipt.details[e].batcheslist.length>0?this._Receipt.details[e].batcheslist.length+1:1,this._Receipt.details[e].batcheslist.push(r),this.cd.markForCheck(),console.log(this._Receipt.details[e].batcheslist,"this.BatchesList")})}SubmitOk(e){e.valid&&this.CloseModal()}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}ChangeBatchQty(e,t,n){}ChangeBatchNo(e,t,n){this._Receipt.details[this.SelectedRowIndex].batcheslist[n].batchno=t.trim(),console.log(this._Receipt.details,"ChangeBatchNo")}DeleteRow(e,t){this._Receipt.details[this.SelectedRowIndex].batcheslist.pop(),console.log(this._Receipt.details,"DeleteRow")}OnSerialItemsInItemComponent(e,t){if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.itemscomponent[this.selectedindex].batcheslist=[]),this.SelectedItemComp=this._Receipt.itemscomponent[e],this.selectedindex=e,this._Receipt.itemscomponent[e].qty<=0)return void this.toastr.error(this.InValidQty);this.requiredserial=this._Receipt.itemscomponent[e].isrequireserial;let n=this.ItemComponentUnitsList.filter(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._batchqty=this._Receipt.itemscomponent[e].qty*(this._Receipt.itemscomponent[e].conv*n[0].finalconv/n[0].conv),this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.itemscomponent[e].item_id,this._Receipt.itemscomponent[e].store_id,this._Receipt.id?parseInt(this._Receipt.id.toString()):0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(n=>{this.BatchesListForEatchRow=[];let i=[];if(i=n.seriallist,console.log(n.seriallist,"d.seriallist"),this._Receipt.itemscomponent[this.selectedindex].batcheslist.forEach(e=>{let t=i.findIndex(t=>t.id==e.previtemserialid);-1!=t&&(e.inv_receipt_d_id>0?null==this._Receipt.itemscomponent[this.selectedindex].validrow||1==this._Receipt.itemscomponent[this.selectedindex].validrow?(i[t].qty=e.qty,i[t].oldqty=e.qty,this._Receipt.itemscomponent[this.selectedindex].validrow=!0):i[t].availableqty=i[t].availableqty+e.qty:1==this._Receipt.itemscomponent[this.selectedindex].validrow&&(i[t].qty=e.qty,i[t].oldqty=e.qty,i[t].availableqty=i[t].availableqty-e.qty,this._Receipt.itemscomponent[this.selectedindex].validrow=!0))}),this._Receipt.id>0)for(let e=0;e<i.length;e++)null==i[e].qty&&0==i[e].availableqty||this.BatchesListForEatchRow.push(i[e]);else this.BatchesListForEatchRow=[...i];if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy){if(this._Receipt.itemscomponent[this.selectedindex].id>0&&this.ReceiptID>0){console.log(this.BatchesListForEatchRow);for(let e=0;e<this.BatchesListForEatchRow.length;e++)this.BatchesListForEatchRow[e].availableqty+=this.BatchesListForEatchRow[e].oldqty,this.BatchesListForEatchRow[e].qty=0,this.BatchesListForEatchRow[e].solidquantity=0}let t=0;if(this.BatchesListForEatchRow.forEach(e=>{t+=e.availableqty}),console.log(t,this._Receipt.itemscomponent[e].qty),this._Receipt.itemscomponent[e].qty>t)return void this.toastr.error(this.InValidQtyForBatch);if(this._Receipt.itemscomponent[e].qty==t)this.BatchesListForEatchRow.forEach(e=>{e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),this.saveSerialOnSalesReturnEffectDispensingPolicy();else{let t=this._Receipt.itemscomponent[e].qty;this.BatchesListForEatchRow.forEach(e=>{0!=t&&(e.availableqty>=t?(e.qty=t,e.oldqty=t,e.availableqty=e.availableqty-t,t=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,t-=e.availableqty,e.availableqty=0))}),this.saveSerialOnSalesReturnEffectDispensingPolicy()}}else this.OpenModal(t);1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&this.OpenModal(t)})}saveserial(e){if(e.valid){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.itemscomponent[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.itemscomponent[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.itemscomponent[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.itemscomponent[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Xe.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.solidquantity=null,this._Receipt.itemscomponent[this.selectedindex].batcheslist.push(e)),this._Receipt.itemscomponent[this.selectedindex].validrow=!0}}),this.CloseModal()}console.log(this._Receipt.itemscomponent,"this._Receipt.itemscomponent")}saveSerialOnSalesReturnEffectDispensingPolicy(){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.itemscomponent[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.itemscomponent[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.itemscomponent[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.itemscomponent[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Xe.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.solidquantity=null,this._Receipt.itemscomponent[this.selectedindex].batcheslist.push(e)),this._Receipt.itemscomponent[this.selectedindex].validrow=!0}}),console.log(this._Receipt.itemscomponent,"this._Receipt.itemscomponent")}ChangeBatchQtyInItemComponent(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.itemscomponent[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=e.availableqty+e.oldqty-+t,e.oldqty=+t}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](Z.n),c["\u0275\u0275directiveInject"](He.v),c["\u0275\u0275directiveInject"](K.t),c["\u0275\u0275directiveInject"](Ze.H),c["\u0275\u0275directiveInject"](et.M),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](l.gz),c["\u0275\u0275directiveInject"](ee.t2),c["\u0275\u0275directiveInject"](R.e),c["\u0275\u0275directiveInject"](te.$),c["\u0275\u0275directiveInject"](X.J),c["\u0275\u0275directiveInject"](i.uU),c["\u0275\u0275directiveInject"](i.Ye),c["\u0275\u0275directiveInject"](b.g),c["\u0275\u0275directiveInject"](oe.FF))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["productionvoucher-details"]],viewQuery:function(e,t){if(1&e&&c["\u0275\u0275viewQuery"](uc,5),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[c["\u0275\u0275ProvidersFeature"]([Z.n,He.v,K.t,i.uU,Ze.H,X.J,b.g,et.M])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-lg-5","col-md-5"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","EntryCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts",""],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","ExpensesDistributionVoucherNo",1,"col-form-label"],["type","text","id","ExpensesDistributionVoucherNo","name","ExpensesDistributionVoucherNo",1,"form-control",3,"ngModel","readonly","ngModelChange"],["ExpensesDistributionVoucherNo","ngModel"],["delay","0","minLength","0","field","entry_no","name","BatchOrder",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoBatchOrder",""],["pTemplate","BatchOrderTemplate"],["class","col-12 col-md-3 mb-2  mb-md-0",4,"ngIf"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5",2,"margin-top","4rem"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalProductionCostForeign",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalProductionCost",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalVoucherCostForeign",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalVoucherCost",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text","name","totalexpensses_foreign",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totalexpensses",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totallaborers_foreign",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totallaborers",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","number","name","allvouchercost_foreign",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","allvouchercost",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],[1,"col-md-7"],["_AddPatchModal",""],["serialModel",""],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["type","button",1,"dropdown-item",3,"click"],[3,"entryno","_savedemailobj"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],["Value","null"],[3,"value"],[1,"list-unstyled","mb-0","px-0"],[1,"d-inline-block","mr-2"],[1,"radio"],["type","radio","name","typeComp","id","radio1",3,"value","ngModel","change","ngModelChange"],["for","radio1"],["type","radio","name","typeComp","id","radio2",3,"value","ngModel","change","ngModelChange"],["for","radio2"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table",2,"width","100%","margin-bottom","120px !important"],["scope","col",2,"width","5%"],["scope","col",2,"width","10%"],["scope","col",2,"width","12%"],["scope","col","style","width:5%; white-space: normal;text-align: center;",4,"ngIf"],["scope","col",2,"width","5%","white-space","normal","text-align","center"],["scope","col","style","width: 11%; white-space: normal;text-align: center;",4,"ngIf"],["scope","col",2,"width","11%","white-space","normal"],["scope","col","style","width:11%;",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],["scope","col",2,"width","15%"],["scope","col","style","width: 8%;",4,"ngIf"],["scope","col",2,"width","10%","white-space","normal"],["scope","col","style","width:7%;  white-space: normal;",4,"ngIf"],["scope","col","style","width: 15%; white-space: normal;",4,"ngIf"],["scope","col","style","width: 15%",4,"ngIf"],["scope","col",2,"width","11%","white-space","normal","text-align","center"],["scope","col",2,"width","11%"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"disabled","ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf","ngForTrackBy"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"disabled","Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","stepallow","ngModel","name","required","ngClass","ngModelChange"],["item_productionunitexpense","ngModel"],["item_productionqtyexpense","ngModel"],["item_additionalexpensesandlabors","ngModel"],[1,"text-center","gridActionsTd"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","stepallow","Min","CheckMin","ngModel","name","required","ngClass","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","ngClass","ngModelChange"],["item_defaultitemcost","ngModel"],["item_costdiff","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"readonly","ngModel","name","Min","CheckMin","ngClass","ngModelChange"],["item_price","ngModel"],[2,"cursor","no-drop","margin","0px 5px"],[1,"fa","fa-trash","font-medium-3","m-0"],["href","javascript:;",1,"primary","transparent-BG",2,"margin","0px 5px",3,"click"],["href","javascript:;",1,"info","p-0",3,"hidden","click"],[1,"fa","fa-list","font-medium-3","mr-2"],["scope","col",2,"width","8%"],["scope","col",2,"width","7%","white-space","normal"],["scope","col",2,"width","15%","white-space","normal"],["autoStorecomponent",""],["pTemplate","servstorecomponentTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItemscomponent",""],["pTemplate","servCodecomponentTemplate"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemcomponentunit","ngModel"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","ngModel","name","ngClass","keyup","ngModelChange"],["itemcomponent_qty","ngModel"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],["itemcomponent_conv","ngModel"],["defaultitemqty","ngModel"],["PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","required","ngClass","ngModelChange"],["item_qtydiff","ngModel"],["itemcomponent_price","ngModel"],["itemcomponent_total","ngModel"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[4,"ngFor","ngForOf"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],[1,"text-center"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],[1,"fa","fa-trash","font-medium-3"],[1,"table-accountdetails",3,"ngClass"],["scope","col",2,"min-width","30px"],["scope","col",2,"max-width","5px"],["type","text","name","TotalExpensses",1,"form-control","totalValInput",3,"ngModel","disabled"],[1,"form-control","red",3,"name","ngModel","ngModelChange","change"],["PositiveNumbersOnly","","type","number",1,"form-control","red",3,"ngModel","name","keyup","ngModelChange"],["ExpensesValue","ngModel"],["PositiveNumbersOnly","","type","number","required","",1,"form-control","red",3,"ngModel","name","ngClass","min","disabled","ngModelChange","keyup"],["ExpensesExchangeRate","ngModel"],["class","has-error",4,"ngIf"],[1,"form-control",3,"id","click"],["hidden","true","PositiveNumbersOnly","","type","number","customMin","",1,"form-control","red",3,"ngModel","Min","id","name","focusout","ngModelChange","keyup"],["ExpensesLocalValue","ngModel"],["minLength","0","delay","0","field","accountcode",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoAccount",""],["type","text",1,"form-control","red",3,"ngModel","name","ngModelChange"],["ExpensesNotes","ngModel"],[1,"gridActionsTd"],["href","javascript:;",1,"btn","btn-primary","transparent-BG","ml-1",3,"click"],[1,"has-error"],["scope","col",2,"min-width","10px"],["PositiveNumbersOnly","","type","text","name","ovr_TotalLaborers",1,"form-control","totalValInput",3,"readonly","ngModel"],["laboreremployeeid","ngModel"],["appTimeFormat","","required","","type","text",1,"form-control","red",3,"ngModel","ngClass","id","name","focusout","ngModelChange"],["timeString","ngModel"],["type","text",1,"form-control","red",3,"ngModel","name","disabled","keyup"],["hourlywages","ngModel"],["laborerValue","ngModel"],["laborerNotes","ngModel"],[3,"signature","signatureoutput"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","10%"],["style","width: 15%",4,"ngIf"],[2,"width","20%"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary","mx-2"],[1,"modal-title"],[2,"width","15%"],["type","checkbox","disabled","",3,"name","checked"],["type","number","disabled","",1,"form-control",3,"name","value"],["type","text","disabled","",1,"form-control",3,"name","value"],["type","text",1,"form-control",3,"name","value","ngClass","disabled","change"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"icon-trash"],["type","number","PositiveNumbersOnly","","min","0","disabled","",1,"form-control",3,"name","value","ngClass","change"],["type","date","required","",1,"form-control",3,"name","ngModel","ngClass","disabled","ngModelChange"],["type","button",1,"btn","btn-primary","col-md-4"],["type","button",1,"btn","btn-info","col-md-2","mx-2"],["type","button",1,"btn","btn-primary","col-md-2"],["type","submit",1,"btn","btn-success"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,gc,4,3,"div",0),c["\u0275\u0275template"](1,$d,222,190,"ng-container",1)),2&e&&(c["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(366)||t.checkRoleParms(367)||t.checkRoleParms(368)||t.checkRoleParms(628))),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.checkRolesParms(c["\u0275\u0275pureFunction0"](2,Ad))))},directives:[i.O5,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,i.mk,i.sg,a.Fj,tt.L,nt.a,h.Qc,it.jx,oe.Pz,oe.nv,oe.Vx,oe.uN,oe.tO,a.wV,re.K,ee.Ro,ot.k,a.YN,a.Kr,a._,a.qQ,at.L,st.t,ct.T],pipes:[d.X$,i.uU,lt.p,dt.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1rem}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}table[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{display:block!important}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e})();class zd{constructor(){this.customertype=0,this.vendor_id=null,this.cashcustomerid=null,this.FromDate=null,this.ToDate=null,this.fromDateString="",this.toDateString="",this.SearchValue="",this.orderby="",this.PageNo=1,this.PageSize=10}}let jd=(()=>{class e{constructor(e){this.http=e,this.baseUrl=Ke.N.apiUrl}GetBatchOrderByCustomer(e){return this.http.post(this.baseUrl+"/UnProducedWorkOrders/GetBatchOrderByCustomer",e).pipe((0,ao.U)(e=>e))}GetCountBatchOrderByCustomer(e){return this.http.post(this.baseUrl+"/UnProducedWorkOrders/GetCountBatchOrderByCustomer",e).pipe((0,ao.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](s.eN))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function Qd(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name)}}function Wd(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name_ar)}}function Jd(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",45),c["\u0275\u0275template"](1,Qd,2,1,"span",43),c["\u0275\u0275template"](2,Wd,2,1,"span",43),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]();c["\u0275\u0275propertyInterpolate"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Hd(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sugar)}}function Yd(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sug)}}function Zd(e,t){if(1&e&&(c["\u0275\u0275template"](0,Hd,2,1,"div",43),c["\u0275\u0275template"](1,Yd,2,1,"div",43)),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Kd(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",13),c["\u0275\u0275elementStart"](1,"div",14),c["\u0275\u0275elementStart"](2,"label",18),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",2),c["\u0275\u0275elementStart"](6,"p-autoComplete",46,47),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](7);return c["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._UnProduceWorkOrders.vendor_code=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(t)})("onClear",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._UnProduceWorkOrders.vendor_id=null}),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275template"](9,Zd,2,2,"ng-template",27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](4,6,"Customer#"),""),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",e._UnProduceWorkOrders.vendor_code)("suggestions",e.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](8,8,"NoResultsFound"))("forceSelection",!0)}}function Xd(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sugar)}}function ep(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sug)}}function tp(e,t){if(1&e&&(c["\u0275\u0275template"](0,Xd,2,1,"div",43),c["\u0275\u0275template"](1,ep,2,1,"div",43)),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function np(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",48),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ExecuteAll()}),c["\u0275\u0275element"](1,"i",30),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"ExecuteAll")," "))}function ip(e,t){1&e&&c["\u0275\u0275element"](0,"img",49)}function rp(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function op(e,t){1&e&&c["\u0275\u0275element"](0,"i",57)}function ap(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function sp(e,t){1&e&&c["\u0275\u0275element"](0,"i",57)}function cp(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",53),c["\u0275\u0275template"](2,ap,1,0,"i",54),c["\u0275\u0275template"](3,sp,1,0,"i",55),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function lp(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function dp(e,t){1&e&&c["\u0275\u0275element"](0,"i",57)}function pp(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",53),c["\u0275\u0275template"](2,lp,1,0,"i",54),c["\u0275\u0275template"](3,dp,1,0,"i",55),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","BranchNameAr"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchNameAr"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchNameAr"==e.sortColumn&&"desc"==e.sortDirection)}}function mp(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function hp(e,t){1&e&&c["\u0275\u0275element"](0,"i",57)}function up(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function gp(e,t){1&e&&c["\u0275\u0275element"](0,"i",57)}function _p(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",53),c["\u0275\u0275template"](2,up,1,0,"i",54),c["\u0275\u0275template"](3,gp,1,0,"i",55),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","CustomerName"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"desc"==e.sortDirection)}}function Cp(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function fp(e,t){1&e&&c["\u0275\u0275element"](0,"i",57)}function bp(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",53),c["\u0275\u0275template"](2,Cp,1,0,"i",54),c["\u0275\u0275template"](3,fp,1,0,"i",55),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","CustomerNameAr"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerNameAr"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerNameAr"==e.sortColumn&&"desc"==e.sortDirection)}}function yp(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function xp(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function vp(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.customername)}}function Mp(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.customernamear)}}function Sp(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](3,yp,2,1,"td",43),c["\u0275\u0275template"](4,xp,2,1,"td",43),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](7,vp,2,1,"td",43),c["\u0275\u0275template"](8,Mp,2,1,"td",43),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Pp(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"tr",59),c["\u0275\u0275elementStart"](2,"th"),c["\u0275\u0275text"](3),c["\u0275\u0275elementStart"](4,"button",60),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).GoTOProductionVoucher(t)}),c["\u0275\u0275element"](5,"i",61),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275text"](7,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td"),c["\u0275\u0275text"](9,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"td"),c["\u0275\u0275text"](11,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](12,Sp,9,6,"tr",58),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"]("",e[0].entry_date," "),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("ngForOf",e)}}function Rp(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275template"](1,Pp,13,2,"ng-container",58),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.ReciptlistbyEntryDate)}}function Op(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275elementStart"](1,"tr",62),c["\u0275\u0275elementStart"](2,"td",63),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Ip(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275elementStart"](1,"table",50),c["\u0275\u0275elementStart"](2,"thead"),c["\u0275\u0275elementStart"](3,"tr",51),c["\u0275\u0275elementStart"](4,"th",52),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetBatchOrderByCustomer("Entry_No")}),c["\u0275\u0275text"](5),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275elementContainerStart"](7),c["\u0275\u0275element"](8,"i",53),c["\u0275\u0275template"](9,rp,1,0,"i",54),c["\u0275\u0275template"](10,op,1,0,"i",55),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"th",52),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetBatchOrderByCustomer("BranchName")}),c["\u0275\u0275text"](12),c["\u0275\u0275pipe"](13,"translate"),c["\u0275\u0275template"](14,cp,4,3,"ng-container",43),c["\u0275\u0275template"](15,pp,4,3,"ng-container",43),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"th",52),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetBatchOrderByCustomer("Entry_Date")}),c["\u0275\u0275text"](17),c["\u0275\u0275pipe"](18,"translate"),c["\u0275\u0275elementContainerStart"](19),c["\u0275\u0275element"](20,"i",53),c["\u0275\u0275template"](21,mp,1,0,"i",54),c["\u0275\u0275template"](22,hp,1,0,"i",55),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](23,"th",52),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetBatchOrderByCustomer("CustomerName")}),c["\u0275\u0275text"](24),c["\u0275\u0275pipe"](25,"translate"),c["\u0275\u0275template"](26,_p,4,3,"ng-container",43),c["\u0275\u0275template"](27,bp,4,3,"ng-container",43),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](28,Rp,2,1,"tbody",43),c["\u0275\u0275template"](29,Op,5,3,"tbody",43),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](6,16,"EntryNo")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](13,18,"Branch")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](18,20,"Date")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](25,22,"customer")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.ReciptlistbyEntryDate.length>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==e.ReciptlistbyEntryDate.length)}}function Ep(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",64),c["\u0275\u0275elementStart"](1,"p"),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"ngb-pagination",65),c["\u0275\u0275listener"]("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onPageChange(t)})("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().PageNo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",10)("boundaryLinks",!0)}}const wp=function(e,t){return{"invalid-data":e,"valid-data":t}};let kp=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d,p){this._CustomerService=e,this._ReceiptSharedService=t,this._UnProducedWorkOrdersService=n,this.cd=i,this.toastr=r,this._router=o,this._generalService=a,this.translate=s,this._translateGlobalService=c,this.spinner=l,this._activeRoute=d,this._authService=p,this.subsidiaryID=0,this.CustomerTypesList=[{id:0,name:"One Customer",name_ar:"\u0643\u0644 \u0639\u0645\u064a\u0644 \u0639\u0644\u0649 \u062d\u062f\u0627"},{id:1,name:"All Customers",name_ar:"\u0643\u0644 \u0627\u0644\u0639\u0645\u0644\u0627\u0621"}],this.CashCustomerList=[],this.CustomerAccountsList=[],this._UnProduceWorkOrders=new zd,this.invalidDateMsg="",this.title="",this.PageSize=10,this.PageNo=1,this.totalCount=0,this.ReciptlistbyEntryDate=[],this.isloading=!1,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["invalidDateMsg","UnProducedWorkOrders"]).subscribe(e=>{this.invalidDateMsg=e.invalidDateMsg,this.title=e.UnProducedWorkOrders,document.title=this.title})}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID)})}ngOnInit(){}View(){this._UnProduceWorkOrders.SubsidiaryID=this.subsidiaryID,this._UnProduceWorkOrders.PageNo=this.PageNo,this._UnProduceWorkOrders.PageSize=this.PageSize,this._UnProduceWorkOrders.ToDate<this._UnProduceWorkOrders.FromDate?this.toastr.error(this.invalidDateMsg):(this.GetBatchOrderByCustomer(),this.GetCountBatchOrderByCustomer())}ExecuteAll(){}GoTOProductionVoucher(e){if(e.length>0){var t=[];for(var n of e)t.push(n.id);var i=t.join(",");this._router.navigate(["/page/production/productionvoucher/0/0/0/"+i]).then(()=>{})}}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){this._UnProduceWorkOrders.vendor_id=e.accountid}GetCustomerAccountsList(e=""){this._CustomerService.CustomerAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}onFocusInCashCustomer(e){this.GetCashCustomerList("")}CashCustomerChangeSearch(e){this.GetCashCustomerList(e.query.trim())}CashCustomerSelectEvent(e){this._UnProduceWorkOrders.cashcustomerid=e.id}GetCashCustomerList(e=""){this._ReceiptSharedService.CashCustomerSearch_Phone(this.subsidiaryID,e).subscribe(e=>{this.CashCustomerList=[],this.CashCustomerList=e,this.cd.markForCheck()})}GetBatchOrderByCustomer(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._UnProduceWorkOrders.orderby=this.sortColumn+"."+this.sortDirection),this.isloading=!0,this._UnProducedWorkOrdersService.GetBatchOrderByCustomer(this._UnProduceWorkOrders).subscribe(e=>{this.BatchOrderListByCustomer=[...e];let t=this.groupBy(e,"entry_date");this.ReciptlistbyEntryDate=Object.values(t),setTimeout(()=>{},200),this.cd.markForCheck(),this.isloading=!1})}GetCountBatchOrderByCustomer(){this._UnProducedWorkOrdersService.GetCountBatchOrderByCustomer(this._UnProduceWorkOrders).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}groupBy(e,t){return e.reduce((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e),{})}GetBatchOrderByCustomerSearch(){this.GetBatchOrderByCustomer(),this.GetCountBatchOrderByCustomer()}changeCustomerType(){1==this._UnProduceWorkOrders.customertype&&(this._UnProduceWorkOrders.vendor_id=null),this.GetBatchOrderByCustomerSearch()}FromDateChange(e){this._UnProduceWorkOrders.FromDate=new Date(e),this._UnProduceWorkOrders.fromDateString=e}ToDateChange(e){this._UnProduceWorkOrders.ToDate=new Date(e),this._UnProduceWorkOrders.toDateString=e}onPageChange(e){this._UnProduceWorkOrders.PageNo=e,this.PageNo=e,this.GetBatchOrderByCustomer()}onPageSizeChange(e){this._UnProduceWorkOrders.PageSize=e,this.PageSize=e,this.GetCountBatchOrderByCustomer()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](He.v),c["\u0275\u0275directiveInject"](K.t),c["\u0275\u0275directiveInject"](jd),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](ee.t2),c["\u0275\u0275directiveInject"](l.gz),c["\u0275\u0275directiveInject"](R.e))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-un-produced-work-orders"]],features:[c["\u0275\u0275ProvidersFeature"]([He.v,K.t,jd])],decls:89,vars:56,consts:[[1,"col-md-12","col-lg-12"],[1,"row"],[1,"col-12"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-content"],[1,"card-body"],[1,"row","d-flex"],[1,"col-8"],["method","POST","role","form"],["RForm","ngForm"],[1,"col-6","mb-2","mb-md-0"],[1,"form-group"],[1,"mb-1","mr-3"],["name","Customer",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","From",1,"col-12"],["type","date","id","FromDate","name","FromDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["FromDate","ngModel"],["for","to",1,"col-12"],["type","date","id","ToDate","name","ToDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["ToDate","ngModel"],["class","col-6 mb-2 mb-md-0",4,"ngIf"],["minLength","0","delay","0","field","phonenumber","name","cashAccount",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCashCustomer",""],["pTemplate","CustomerAccountsTemplate"],[1,"col-12","col-md-2","mb-2","mb-md-0",2,"padding-top","30px"],["type","button",1,"btn","btn-success","mr-2",3,"click"],[1,"mr-1"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","25"],["Value","50"],["Value","100"],[1,"m-1"],[1,"form-group","row"],["for","SearchValue",1,"col-md-3"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-4",3,"ngModel","ngModelChange","keyup"],[1,"card-body","table-responsive"],["src","../../../../assets/img/loading/loading.gif",4,"ngIf"],[4,"ngIf"],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"value"],["minLength","0","delay","0","field","code","name","CreditAccount",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts",""],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["src","../../../../assets/img/loading/loading.gif"],[1,"table","text-center","m-0","table","table-striped"],[2,"background","#e9f1f5","color","cornflowerblue"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"alert","alert-light"],[1,"btn","btn-primary",3,"click"],[1,"icon-list"],[2,"background-color","#b0bed9"],["colspan","10"],[1,"d-flex","justify-content-between","p-2"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"]],template:function(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"section"),c["\u0275\u0275elementStart"](3,"div",2),c["\u0275\u0275elementStart"](4,"div",3),c["\u0275\u0275elementStart"](5,"div",4),c["\u0275\u0275elementStart"](6,"div",5),c["\u0275\u0275elementStart"](7,"h6",6),c["\u0275\u0275text"](8),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",7),c["\u0275\u0275elementStart"](11,"div",8),c["\u0275\u0275elementStart"](12,"div",9),c["\u0275\u0275elementStart"](13,"div",10),c["\u0275\u0275elementStart"](14,"form",11,12),c["\u0275\u0275elementStart"](16,"div",1),c["\u0275\u0275elementStart"](17,"div",13),c["\u0275\u0275elementStart"](18,"div",14),c["\u0275\u0275elementStart"](19,"label",15),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",2),c["\u0275\u0275elementStart"](23,"select",16),c["\u0275\u0275listener"]("ngModelChange",function(e){return t._UnProduceWorkOrders.customertype=e})("change",function(){return t.changeCustomerType()}),c["\u0275\u0275template"](24,Jd,3,3,"option",17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"div",1),c["\u0275\u0275elementStart"](26,"div",13),c["\u0275\u0275elementStart"](27,"div",14),c["\u0275\u0275elementStart"](28,"label",18),c["\u0275\u0275text"](29),c["\u0275\u0275pipe"](30,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"div",2),c["\u0275\u0275elementStart"](32,"input",19,20),c["\u0275\u0275listener"]("ngModelChange",function(e){return t._UnProduceWorkOrders.FromDate=e})("focusout",function(e){return t.FromDateChange(e.target.value)}),c["\u0275\u0275pipe"](34,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](35,"div",13),c["\u0275\u0275elementStart"](36,"div",14),c["\u0275\u0275elementStart"](37,"label",21),c["\u0275\u0275text"](38),c["\u0275\u0275pipe"](39,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"div",2),c["\u0275\u0275elementStart"](41,"input",22,23),c["\u0275\u0275listener"]("ngModelChange",function(e){return t._UnProduceWorkOrders.ToDate=e})("focusout",function(e){return t.ToDateChange(e.target.value)}),c["\u0275\u0275pipe"](43,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](44,"div",1),c["\u0275\u0275template"](45,Kd,10,10,"div",24),c["\u0275\u0275elementStart"](46,"div",13),c["\u0275\u0275elementStart"](47,"div",14),c["\u0275\u0275elementStart"](48,"label",21),c["\u0275\u0275text"](49),c["\u0275\u0275pipe"](50,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](51,"div",2),c["\u0275\u0275elementStart"](52,"p-autoComplete",25,26),c["\u0275\u0275listener"]("onFocus",function(n){c["\u0275\u0275restoreView"](e);const i=c["\u0275\u0275reference"](53);return t.onFocusInCashCustomer(n),i.show()})("ngModelChange",function(e){return t._UnProduceWorkOrders.cashcustomer_code=e})("onSelect",function(e){return t.CashCustomerSelectEvent(e)})("completeMethod",function(e){return t.CashCustomerChangeSearch(e)})("onClear",function(){return t._UnProduceWorkOrders.cashcustomerid=null}),c["\u0275\u0275pipe"](54,"translate"),c["\u0275\u0275template"](55,tp,2,2,"ng-template",27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](56,"div",1),c["\u0275\u0275element"](57,"div",28),c["\u0275\u0275elementStart"](58,"div",2),c["\u0275\u0275elementStart"](59,"button",29),c["\u0275\u0275listener"]("click",function(){return t.View()}),c["\u0275\u0275element"](60,"i",30),c["\u0275\u0275text"](61),c["\u0275\u0275pipe"](62,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](63,np,4,3,"button",31),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](64,"div",1),c["\u0275\u0275elementStart"](65,"select",32),c["\u0275\u0275listener"]("change",function(e){return t.onPageSizeChange(e.target.value)})("ngModelChange",function(e){return t.PageSize=e}),c["\u0275\u0275elementStart"](66,"option",33),c["\u0275\u0275text"](67,"10 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](68,"option",34),c["\u0275\u0275text"](69,"25 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](70,"option",35),c["\u0275\u0275text"](71,"50 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](72,"option",36),c["\u0275\u0275text"](73,"100 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](74,"label",37),c["\u0275\u0275text"](75),c["\u0275\u0275pipe"](76,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](77,"div",1),c["\u0275\u0275element"](78,"hr"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](79,"div",38),c["\u0275\u0275elementStart"](80,"label",39),c["\u0275\u0275text"](81),c["\u0275\u0275pipe"](82,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](83,"input",40),c["\u0275\u0275listener"]("ngModelChange",function(e){return t._UnProduceWorkOrders.SearchValue=e})("keyup",function(){return t.GetBatchOrderByCustomerSearch()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](84,"div",7),c["\u0275\u0275elementStart"](85,"div",41),c["\u0275\u0275template"](86,ip,1,0,"img",42),c["\u0275\u0275template"](87,Ip,30,24,"div",43),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](88,Ep,4,6,"div",44),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](33),n=c["\u0275\u0275reference"](42);c["\u0275\u0275advance"](8),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](9,26,"UnProducedWorkOrders")," "),c["\u0275\u0275advance"](12),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](21,28,"Customer")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",t._UnProduceWorkOrders.customertype),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",t.CustomerTypesList),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](30,30,"From"),""),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](34,32,t._UnProduceWorkOrders.FromDate,"yyyy-MM-dd"))("ngClass",c["\u0275\u0275pureFunction2"](50,wp,e.invalid,e.valid)),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](39,35,"to"),""),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](43,37,t._UnProduceWorkOrders.ToDate,"yyyy-MM-dd"))("ngClass",c["\u0275\u0275pureFunction2"](53,wp,n.invalid,n.valid)),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",0==t._UnProduceWorkOrders.customertype),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](50,40,"CashCustomerphone"),""),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",t._UnProduceWorkOrders.cashcustomer_code)("suggestions",t.CashCustomerList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](54,42,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](9),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](62,44,"View")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==t._UnProduceWorkOrders.customertype),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",t.PageSize),c["\u0275\u0275advance"](10),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](76,46,"Records per page")),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](82,48,"Search")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",t._UnProduceWorkOrders.SearchValue),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",t.isloading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!t.isloading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.totalCount>0)}},directives:[a._Y,a.JL,a.F,a.EJ,a.JJ,a.On,i.sg,a.Fj,i.mk,i.O5,h.Qc,it.jx,a.YN,a.Kr,oe.N9],pipes:[d.X$,i.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}']}),e})(),Bp=(()=>{class e{constructor(e){this.http=e,this.baseUrl=Ke.N.apiUrl}GetMaxCostPostedSerDate(e,t){return this.http.get(`${this.baseUrl}/Receipts/GetMaxCostPostedSerDate?Date=${e}&SubID=${t}`).pipe((0,ao.U)(e=>e))}GetAllExpensesDistribution(e,t,n){return this.http.get(`${this.baseUrl}/ExpensesDistribution/GetAllExpensesDistribution?SubId=${e}&PageNo=${t}&PageSize=${n}`).pipe((0,ao.U)(e=>e))}GetCountExpensesDistribution(e){return this.http.get(`${this.baseUrl}/ExpensesDistribution/GetCountExpensesDistribution?SubId=${e}`).pipe((0,ao.U)(e=>e))}GetExpensesDistributionCode(e,t){return this.http.get(`${this.baseUrl}/ExpensesDistribution/GetExpensesDistributionCode?SubId=${t}&Date=${e}`).pipe((0,ao.U)(e=>e))}ExpensesDistributionCreate(e){return this.http.post(this.baseUrl+"/ExpensesDistribution/ExpensesDistributionCreate",e).pipe((0,ao.U)(e=>e))}ExpensesDistributionUpdate(e){return this.http.post(this.baseUrl+"/ExpensesDistribution/ExpensesDistributionUpdate",e).pipe((0,ao.U)(e=>e))}CalcExpensesDistribution(e,t,n){return this.http.get(`${this.baseUrl}/ExpensesDistribution/CalcExpensesDistribution?SubId=${e}&DistributionTransLastDate=${t}&DistributionToDate=${n}`).pipe((0,ao.U)(e=>e))}PerformExpensesDistribution(e){return this.http.post(this.baseUrl+"/ExpensesDistribution/PerformExpensesDistribution",e).pipe((0,ao.U)(e=>e))}DeleteExpensesDistribution(e){return this.http.post(this.baseUrl+"/ExpensesDistribution/DeleteExpensesDistribution",e).pipe((0,ao.U)(e=>e))}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275inject"](s.eN))},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class Dp{constructor(){this.distributioncode=null,this.distributiontranslastdate=null,this.distributiontodate=null,this.debittransactions=null,this.credittransactions=null,this.difftransactions=null,this.branchid=null,this.voucherid=null,this.userid=null,this.lang=null}}function Fp(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",4),c["\u0275\u0275elementStart"](1,"h1",5),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Lp(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",23),c["\u0275\u0275elementStart"](1,"button",24),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).Add()}),c["\u0275\u0275element"](2,"i",25),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](4,1,"Add")," "))}function qp(e,t){1&e&&c["\u0275\u0275element"](0,"img",26)}function Vp(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",29),c["\u0275\u0275text"](1,"\xa0"),c["\u0275\u0275elementEnd"]())}function Np(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.distributionuser)}}function Tp(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.distributionuserar)}}function Up(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.branchname)}}function $p(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.branchnamear)}}function Ap(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"a",34),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2).$implicit;return c["\u0275\u0275nextContext"](4).Delete(t)}),c["\u0275\u0275element"](1,"i",35),c["\u0275\u0275elementEnd"]()}}function Gp(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",29),c["\u0275\u0275template"](1,Ap,2,0,"a",33),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==t&&0==n.posted)}}function zp(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr",28),c["\u0275\u0275elementStart"](1,"td",29),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td",29),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td",29),c["\u0275\u0275template"](7,Np,2,1,"span",1),c["\u0275\u0275template"](8,Tp,2,1,"span",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"td",29),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td",29),c["\u0275\u0275text"](12),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"td",29),c["\u0275\u0275text"](14),c["\u0275\u0275pipe"](15,"number"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"td",29),c["\u0275\u0275template"](17,Up,2,1,"span",1),c["\u0275\u0275template"](18,$p,2,1,"span",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"td",29),c["\u0275\u0275elementStart"](20,"a",32),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](4).GOTOVoucher(t)}),c["\u0275\u0275text"](21),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](22,Gp,2,1,"td",30),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.distributioncode),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](5,11,e.distributiontodate,"yyyy-MM-dd")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.debittransactions),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.credittransactions),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind2"](15,14,e.debittransactions-e.credittransactions,"1.0-3")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",e.voucherno," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.checkRoleParms(8751))}}function jp(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275template"](1,zp,23,17,"tr",31),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.ExpensesDistribution)}}function Qp(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275elementStart"](1,"tr",36),c["\u0275\u0275elementStart"](2,"td",37),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Wp(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"table",27),c["\u0275\u0275elementStart"](1,"thead"),c["\u0275\u0275elementStart"](2,"tr",28),c["\u0275\u0275elementStart"](3,"th",29),c["\u0275\u0275text"](4),c["\u0275\u0275pipe"](5,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"th",29),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",29),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",29),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",29),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"th",29),c["\u0275\u0275text"](19),c["\u0275\u0275pipe"](20,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"th",29),c["\u0275\u0275text"](22),c["\u0275\u0275pipe"](23,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"th",29),c["\u0275\u0275text"](25),c["\u0275\u0275pipe"](26,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](27,Vp,2,0,"th",30),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](28,jp,2,1,"tbody",1),c["\u0275\u0275template"](29,Qp,5,3,"tbody",1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](5,11,"ExpensesDistributionNum")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](8,13,"DistributionToDate")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](11,15,"DistributionUser")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](14,17,"DebitTransactions")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](17,19,"CreditTransactions")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](20,21,"DiffTransactions")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](23,23,"Branch")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](26,25,"VoucherNo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.checkRoleParms(8751)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.ExpensesDistribution.length>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==e.ExpensesDistribution.length)}}function Jp(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",38),c["\u0275\u0275elementStart"](1,"ngb-pagination",39),c["\u0275\u0275listener"]("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PageNo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"p"),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"select",40),c["\u0275\u0275listener"]("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PageSize=t}),c["\u0275\u0275elementStart"](5,"option",41),c["\u0275\u0275text"](6),c["\u0275\u0275pipe"](7,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"option",42),c["\u0275\u0275text"](9),c["\u0275\u0275pipe"](10,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"option",43),c["\u0275\u0275text"](12),c["\u0275\u0275pipe"](13,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",10)("boundaryLinks",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",e.PageSize),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](7,10,"10 items per page")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](10,12,"50 items per page")),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](13,14,"100 items per page"))}}function Hp(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",6),c["\u0275\u0275elementStart"](2,"section"),c["\u0275\u0275elementStart"](3,"div",7),c["\u0275\u0275elementStart"](4,"div",6),c["\u0275\u0275elementStart"](5,"div",8),c["\u0275\u0275elementStart"](6,"div",9),c["\u0275\u0275elementStart"](7,"h6",10),c["\u0275\u0275text"](8),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",11),c["\u0275\u0275elementStart"](11,"div",4),c["\u0275\u0275elementStart"](12,"div",12),c["\u0275\u0275elementStart"](13,"div",13),c["\u0275\u0275elementStart"](14,"div",14),c["\u0275\u0275elementStart"](15,"label",15),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",14),c["\u0275\u0275elementStart"](19,"input",16),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().maxpostingdate=t}),c["\u0275\u0275pipe"](20,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,Lp,5,3,"div",17),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",18),c["\u0275\u0275elementStart"](23,"div",19),c["\u0275\u0275elementStart"](24,"div"),c["\u0275\u0275elementStart"](25,"div",19),c["\u0275\u0275template"](26,qp,1,0,"img",20),c["\u0275\u0275template"](27,Wp,30,27,"table",21),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](28,Jp,14,16,"div",22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](8),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](9,8,"ExpensesDistribution")," "),c["\u0275\u0275advance"](8),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](17,10,"LastVoucherPostingDate")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](20,12,e.maxpostingdate,"yyyy-MM-dd"))("disabled",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",e.checkRoleParms(8750)),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",e.isloading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.isloading),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.totalCount>0)}}const Yp=function(){return[8749]};let Zp=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d){this._ExpensesDistributionService=e,this.cd=t,this.toastr=n,this._generalService=i,this._router=r,this.translate=o,this._translateGlobalService=a,this._printService=s,this._Excel=c,this.spinner=l,this._authService=d,this.subsidiaryID=0,this.PageSize=10,this.totalCount=0,this.PageNo=1,this.sortDirection="asc",this.sortColumn="",this.orderby="",this.toastrSuccessDelete="",this.toastrErrorDelete="",this.DeleteRelationmsg="",this.title="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Cancel="",this.ExpensesDistribution=[],this.isloading=!1,this._ExpensesDistribution=new Dp,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.GetMaxCostPostedSerDate(),this.GetDetails(),this.GetCount(),this.ngTransUnsubscribe=this.translate.get(["ExpensesDistribution"]).subscribe(e=>{this.title=e.ExpensesDistribution,document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Cancel","DeleteRelationmsg"]).subscribe(e=>{this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.Cancel=e.Cancel,this.DeleteRelationmsg=e.DeleteRelationmsg}),this.ngTransUnsubscribe=this.translate.get("successMsg").subscribe(e=>{this.toastrSuccessDelete=e}),this.ngTransUnsubscribe=this.translate.get("errorMsg").subscribe(e=>{this.toastrErrorDelete=e})}),this.ngUnsubscribe=i.proadCastSubsidiaryID.subscribe(e=>{this.subsidiaryID=this._generalService.SubsidiaryID,this.PageSize=10,this.PageNo=1,this.GetMaxCostPostedSerDate(),this.cd.markForCheck()})}onFocus(){document.title=this.title}onBlur(){document.title=this.title}ngOnInit(){}onPageChange(e){this.PageNo=e,this.GetDetails()}onPageSizeChange(e){this.PageSize=e,this.GetDetails()}GOTOVoucher(e){this._router.navigate(["/page/financial/voucher/1/"+e.voucherid])}Add(){this._router.navigate(["/page/production/addexpensesdistribution"])}GetDetails(){this._ExpensesDistributionService.GetAllExpensesDistribution(this.subsidiaryID,this.PageNo,this.PageSize).subscribe(e=>{this.ExpensesDistribution=e,this.cd.markForCheck()})}GetCount(){this._ExpensesDistributionService.GetCountExpensesDistribution(this.subsidiaryID).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}GetMaxCostPostedSerDate(){this.Date=new Date,this._ExpensesDistributionService.GetMaxCostPostedSerDate(this.Date,this.subsidiaryID).subscribe(e=>{this.maxpostingdate=Date.parse(e[0].maxpostingdate.toString()),this.cd.markForCheck()})}Delete(e){We().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.isConfirmed&&1==t.isConfirmed&&(this._ExpensesDistribution={id:e.id,subsidaryid:this.subsidiaryID,distributioncode:e.distributioncode,distributiontranslastdate:e.distributiontranslastdate,distributiontodate:e.distributiontodate,debittransactions:e.debittransactions,credittransactions:e.credittransactions,difftransactions:e.difftransactions,branchid:e.branchid,voucherid:e.voucherid,userid:e.userid,lang:this.lang},this.spinner.show(),this._ExpensesDistributionService.DeleteExpensesDistribution(this._ExpensesDistribution).subscribe(e=>{this.spinner.hide(),1==e?this.toastr.success(this.toastrSuccessDelete):this.toastr.error(this.DeleteRelationmsg),this.GetDetails(),this.GetCount()}))})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](Bp),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](te.$),c["\u0275\u0275directiveInject"](ne.x),c["\u0275\u0275directiveInject"](ee.t2),c["\u0275\u0275directiveInject"](R.e))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["expenses-distribution"]],hostBindings:function(e,t){1&e&&c["\u0275\u0275listener"]("focus",function(e){return t.onFocus(e)},!1,c["\u0275\u0275resolveWindow"])("blur",function(e){return t.onBlur(e)},!1,c["\u0275\u0275resolveWindow"])},features:[c["\u0275\u0275ProvidersFeature"]([Bp])],decls:5,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-12"],["id","print-section",1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-lg-12","col-md-12","col-sm-12","mt-3"],[1,"col-md-6"],[1,"row","mt-1"],[1,"col-lg-4","col-md-4","col-sm-12"],["for","maxpostingdate",1,"col-form-label"],["type","date","id","maxpostingdate","name","maxpostingdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","col-md-6 text-right mt-2 text-center-sm",4,"ngIf"],[1,"card-content"],[1,"card-body","table-responsive"],["src","../../../assets/img/loading/loading.gif",4,"ngIf"],["class","table text-center m-0 table table-striped","id","Transfer",4,"ngIf"],["class","d-flex justify-content-between p-2",4,"ngIf"],[1,"col-md-6","text-right","mt-2","text-center-sm"],[1,"col-md-6","btn","btn-success","mr-2",3,"click"],[1,""],["src","../../../assets/img/loading/loading.gif"],["id","Transfer",1,"table","text-center","m-0","table","table-striped"],[1,"text-center"],["scope","col"],["scope","col",4,"ngIf"],["class","text-center",4,"ngFor","ngForOf"],["href","javascript:;",1,"info","p-0",3,"click"],["href","javascript:;","class","danger p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"danger","p-0",3,"click"],[1,"ft-x","font-medium-3"],[2,"background-color","#b0bed9"],["colspan","9"],[1,"d-flex","justify-content-between","p-2"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,Fp,4,3,"div",0),c["\u0275\u0275template"](1,Hp,29,15,"ng-container",1),c["\u0275\u0275elementStart"](2,"ngx-spinner",2),c["\u0275\u0275elementStart"](3,"p",3),c["\u0275\u0275text"](4," Loading... "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("ngIf",!t.checkRoleParms(8749)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.checkRolesParms(c["\u0275\u0275pureFunction0"](3,Yp))),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,ee.Ro,a.Fj,a.JJ,a.On,i.sg,oe.N9,a.EJ,a.YN,a.Kr],pipes:[d.X$,i.uU,i.JJ],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}'],changeDetection:0}),e})();function Kp(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275elementStart"](1,"h1",3),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Xp(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",25),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).Perform()}),c["\u0275\u0275element"](1,"i",26),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](3,1,"Perform")," "))}function em(e,t){1&e&&c["\u0275\u0275element"](0,"img",41)}const tm=function(e,t){return{"invalid-data":e,"valid-data":t}};function nm(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"div",4),c["\u0275\u0275elementStart"](2,"section"),c["\u0275\u0275elementStart"](3,"div",5),c["\u0275\u0275elementStart"](4,"div",4),c["\u0275\u0275elementStart"](5,"div",6),c["\u0275\u0275elementStart"](6,"div",7),c["\u0275\u0275elementStart"](7,"h6",8),c["\u0275\u0275text"](8),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"div",9),c["\u0275\u0275elementStart"](11,"div",4),c["\u0275\u0275elementStart"](12,"section"),c["\u0275\u0275elementStart"](13,"div",2),c["\u0275\u0275elementStart"](14,"div",4),c["\u0275\u0275elementStart"](15,"div",10),c["\u0275\u0275elementStart"](16,"div",11),c["\u0275\u0275elementStart"](17,"div",9),c["\u0275\u0275elementStart"](18,"form",12,13),c["\u0275\u0275elementStart"](20,"div",2),c["\u0275\u0275elementStart"](21,"div",14),c["\u0275\u0275elementStart"](22,"div",15),c["\u0275\u0275elementStart"](23,"label",16),c["\u0275\u0275text"](24),c["\u0275\u0275pipe"](25,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"input",17,18),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ExpensesDistribution.distributioncode=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",14),c["\u0275\u0275elementStart"](29,"div",15),c["\u0275\u0275elementStart"](30,"label",19),c["\u0275\u0275text"](31),c["\u0275\u0275pipe"](32,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"input",20,21),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ExpensesDistribution.distributiontranslastdate=t})("focusout",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().FromDateChange(t.target.value)}),c["\u0275\u0275pipe"](35,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"div",14),c["\u0275\u0275elementStart"](37,"div",15),c["\u0275\u0275elementStart"](38,"label",22),c["\u0275\u0275text"](39),c["\u0275\u0275pipe"](40,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](41,"input",23,24),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ExpensesDistribution.distributiontodate=t})("focusout",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ToDateChange(t.target.value)}),c["\u0275\u0275pipe"](43,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](44,"div",14),c["\u0275\u0275elementStart"](45,"button",25),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().Preview()}),c["\u0275\u0275element"](46,"i",26),c["\u0275\u0275text"](47),c["\u0275\u0275pipe"](48,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](49,"div",2),c["\u0275\u0275elementStart"](50,"div",14),c["\u0275\u0275elementStart"](51,"div",15),c["\u0275\u0275elementStart"](52,"label",27),c["\u0275\u0275text"](53),c["\u0275\u0275pipe"](54,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](55,"input",28,29),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ExpensesDistribution.debittransactions=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](57,"div",14),c["\u0275\u0275elementStart"](58,"div",15),c["\u0275\u0275elementStart"](59,"label",30),c["\u0275\u0275text"](60),c["\u0275\u0275pipe"](61,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](62,"input",31,32),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ExpensesDistribution.credittransactions=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](64,"div",14),c["\u0275\u0275elementStart"](65,"div",15),c["\u0275\u0275elementStart"](66,"label",33),c["\u0275\u0275text"](67),c["\u0275\u0275pipe"](68,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](69,"input",34,35),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ExpensesDistribution.difftransactions=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](71,"div",2),c["\u0275\u0275elementStart"](72,"div",36),c["\u0275\u0275template"](73,Xp,4,3,"button",37),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](74,"div",36),c["\u0275\u0275elementStart"](75,"button",38),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().Close()}),c["\u0275\u0275element"](76,"i",26),c["\u0275\u0275text"](77),c["\u0275\u0275pipe"](78,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](79,"div",11),c["\u0275\u0275elementStart"](80,"div",39),c["\u0275\u0275elementStart"](81,"div"),c["\u0275\u0275elementStart"](82,"div",39),c["\u0275\u0275template"](83,em,1,0,"img",40),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](34),t=c["\u0275\u0275reference"](42),n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](8),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](9,20,"ExpensesDistribution")," "),c["\u0275\u0275advance"](16),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](25,22,"ExpensesDistributionNum")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",n._ExpensesDistribution.distributioncode),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](32,24,"DistributionTransLastDate")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](35,26,n._ExpensesDistribution.distributiontranslastdate,"yyyy-MM-dd"))("ngClass",c["\u0275\u0275pureFunction2"](44,tm,e.invalid,e.valid)),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](40,29,"DistributionToDate")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](43,31,n._ExpensesDistribution.distributiontodate,"yyyy-MM-dd"))("ngClass",c["\u0275\u0275pureFunction2"](47,tm,t.invalid,t.valid)),c["\u0275\u0275advance"](4),c["\u0275\u0275attribute"]("disabled",1==n.validDate||null),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](48,34,"Preview")," "),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](54,36,"DebitTransactions")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",n._ExpensesDistribution.debittransactions),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](61,38,"CreditTransactions")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",n._ExpensesDistribution.credittransactions),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](68,40,"DiffTransactions")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",n._ExpensesDistribution.difftransactions),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",1==n.HasProductionVoucher&&n._ExpensesDistribution.difftransactions>0),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](78,42,"Exit")," "),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngIf",n.isloading)}}const im=function(){return[8749]};let rm=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l){this._ExpensesDistributionService=e,this.cd=t,this.toastr=n,this._generalService=i,this._router=r,this.translate=o,this._translateGlobalService=a,this.spinner=s,this.datepipe=c,this._authService=l,this.subsidiaryID=0,this.PageSize=10,this.totalCount=0,this.PageNo=1,this.sortDirection="asc",this.sortColumn="",this.orderby="",this.toastrSuccessDelete="",this.toastrErrorDelete="",this.DeleteRelationmsg="",this.title="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Cancel="",this._ExpensesDistribution=new Dp,this.isloading=!1,this.HasProductionVoucher=!1,this.validDate=!1,this.subsidiaryID=this._generalService.SubsidiaryID,this.GetExpensesDistributionCode(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["ExpensesDistribution"]).subscribe(e=>{this.title=e.ExpensesDistribution,document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Cancel","DeleteRelationmsg","DateError"]).subscribe(e=>{this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.Cancel=e.Cancel,this.DeleteRelationmsg=e.DeleteRelationmsg,this.DateError=e.DateError}),this.ngTransUnsubscribe=this.translate.get("successMsg").subscribe(e=>{this.toastrSuccessDelete=e}),this.ngTransUnsubscribe=this.translate.get("errorMsg").subscribe(e=>{this.toastrErrorDelete=e})}),this.ngUnsubscribe=i.proadCastSubsidiaryID.subscribe(e=>{this.subsidiaryID=this._generalService.SubsidiaryID,this.GetExpensesDistributionCode(),this.cd.markForCheck()})}onFocus(){document.title=this.title}onBlur(){document.title=this.title}ngOnInit(){}GetExpensesDistributionCode(){this.Date=new Date,this._ExpensesDistributionService.GetExpensesDistributionCode(this.Date,this.subsidiaryID).subscribe(e=>{null==e.distributioncode?this._ExpensesDistribution.distributioncode=1:(this._ExpensesDistribution.distributioncode=e.distributioncode+1,this.lastdistributiontransdate=e.distributiontranslastdate),this._ExpensesDistribution.subsidaryid=this.subsidiaryID,this._ExpensesDistribution.lang=this.lang,this._ExpensesDistribution.distributiontodate=this.datepipe.transform(e.distributiontodate,"yyyy-MM-dd"),this._ExpensesDistribution.distributiontranslastdate=this.datepipe.transform(e.distributiontranslastdate,"yyyy-MM-dd"),this.cd.markForCheck()})}Preview(){this.isloading=!0,this._ExpensesDistributionService.CalcExpensesDistribution(this.subsidiaryID,this._ExpensesDistribution.distributiontranslastdate,this._ExpensesDistribution.distributiontodate).subscribe(e=>{0==e.length?(this._ExpensesDistribution.credittransactions=0,this._ExpensesDistribution.debittransactions=0,this._ExpensesDistribution.difftransactions=0):(this._ExpensesDistribution.credittransactions=e.productionexpenses.totalcredit,this._ExpensesDistribution.debittransactions=e.productionexpenses.totaldebit,this._ExpensesDistribution.difftransactions=e.productionexpenses.diff,this.HasProductionVoucher=e.produtionreceiptcount.total>0),this.isloading=!1,this.cd.markForCheck()})}Perform(){this.isloading=!0,this._ExpensesDistributionService.PerformExpensesDistribution(this._ExpensesDistribution).subscribe(e=>{this.isloading=!1,this._router.navigate(["/page/production/expensesdistribution"])})}Close(){this._router.navigate(["/page/production/expensesdistribution"])}FromDateChange(e){this._ExpensesDistribution.distributiontodate<this._ExpensesDistribution.distributiontranslastdate&&(this.validDate=!0,this.toastr.warning(this.DateError))}ToDateChange(e){this._ExpensesDistribution.distributiontodate<this._ExpensesDistribution.distributiontranslastdate?(this.validDate=!0,this.toastr.warning(this.DateError)):this.validDate=!1}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](Bp),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](ee.t2),c["\u0275\u0275directiveInject"](i.uU),c["\u0275\u0275directiveInject"](R.e))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-expenses-distribution-details"]],hostBindings:function(e,t){1&e&&c["\u0275\u0275listener"]("focus",function(e){return t.onFocus(e)},!1,c["\u0275\u0275resolveWindow"])("blur",function(e){return t.onBlur(e)},!1,c["\u0275\u0275resolveWindow"])},features:[c["\u0275\u0275ProvidersFeature"]([Bp,i.uU])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-12"],["id","print-section",1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"card","transparent-BG","box-shadow-none"],[1,"card-content"],["method","POST","role","form"],["RForm","ngForm"],[1,"col-lg-3","col-md-3","col-sm-12"],[1,"form-group"],["for","distributioncode"],["type","number","name","distributioncode","id","distributioncode","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["distributioncode","ngModel"],["for","FromDate"],["type","date","id","FromDate","name","FromDate","readonly","","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["FromDate","ngModel"],["for","ToDate"],["type","date","id","ToDate","name","ToDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["ToDate","ngModel"],["type","button",1,"btn","btn-primary","mb-0","me-3","ng-star-inserted","mt-3",3,"click"],[1,""],["for","debittransactions"],["type","number","name","debittransactions","id","debittransactions","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["debittransactions","ngModel"],["for","credittransactions"],["type","number","name","credittransactions","id","credittransactions","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["credittransactions","ngModel"],["for","difftransactions"],["type","number","name","difftransactions","id","difftransactions","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["difftransactions","ngModel"],[1,"col-lg-2","col-md-2","col-sm-6"],["type","button","class","btn btn-primary mb-0 me-3\n                                              ng-star-inserted mt-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mb-0","me-3","ng-star-inserted","mt-3",3,"click"],[1,"card-body","table-responsive"],["src","../../../assets/img/loading/loading.gif",4,"ngIf"],["src","../../../assets/img/loading/loading.gif"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,Kp,4,3,"div",0),c["\u0275\u0275template"](1,nm,84,50,"ng-container",1)),2&e&&(c["\u0275\u0275property"]("ngIf",!t.checkRoleParms(8749)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.checkRolesParms(c["\u0275\u0275pureFunction0"](2,im))))},directives:[i.O5,a._Y,a.JL,a.F,a.wV,a.Fj,a.JJ,a.On,i.mk],pipes:[d.X$,i.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}'],changeDetection:0}),e})();function om(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",4),c["\u0275\u0275elementStart"](1,"h1",5),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function am(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name)}}function sm(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name_ar)}}function cm(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",53),c["\u0275\u0275template"](1,am,2,1,"span",48),c["\u0275\u0275template"](2,sm,2,1,"span",48),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275propertyInterpolate"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function lm(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",54),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).OnAdd()}),c["\u0275\u0275element"](1,"i",28),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"]()}2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function dm(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function pm(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function mm(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",49),c["\u0275\u0275template"](2,dm,1,0,"i",50),c["\u0275\u0275template"](3,pm,1,0,"i",51),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","BranchName"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchName"==e.sortColumn&&"desc"==e.sortDirection)}}function hm(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function um(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function gm(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",49),c["\u0275\u0275template"](2,hm,1,0,"i",50),c["\u0275\u0275template"](3,um,1,0,"i",51),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","BranchNameAR"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","BranchNameAR"==e.sortColumn&&"desc"==e.sortDirection)}}function _m(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function Cm(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function fm(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function bm(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function ym(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function xm(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function vm(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",49),c["\u0275\u0275template"](2,ym,1,0,"i",50),c["\u0275\u0275template"](3,xm,1,0,"i",51),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","CustomerName"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerName"==e.sortColumn&&"desc"==e.sortDirection)}}function Mm(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function Sm(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function Pm(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275element"](1,"i",49),c["\u0275\u0275template"](2,Mm,1,0,"i",50),c["\u0275\u0275template"](3,Sm,1,0,"i",51),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden","CustomerNamear"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","CustomerNamear"==e.sortColumn&&"desc"==e.sortDirection)}}function Rm(e,t){1&e&&c["\u0275\u0275element"](0,"i",55)}function Om(e,t){1&e&&c["\u0275\u0275element"](0,"i",56)}function Im(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.branchname)}}function Em(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](null==e?null:e.branchnamear)}}function wm(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.customername)}}function km(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.customernamear," ")}}function Bm(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"a",62),c["\u0275\u0275element"](1,"i",63),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/reverseproductionvoucher/",null==e?null:e.id,"")}}function Dm(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275template"](1,Im,2,1,"td",48),c["\u0275\u0275template"](2,Em,2,1,"td",48),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"td"),c["\u0275\u0275text"](6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](7,wm,2,1,"td",48),c["\u0275\u0275template"](8,km,2,1,"td",48),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275text"](10),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td",58),c["\u0275\u0275template"](12,Bm,2,1,"a",59),c["\u0275\u0275elementStart"](13,"a",60),c["\u0275\u0275elementStart"](14,"span"),c["\u0275\u0275element"](15,"i",61),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.entry_no),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.entry_date),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.reference_no),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",n.checkRoleParms(10147)),c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/reverseproductionvoucher/",null==e?null:e.id,"/show")}}function Fm(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275template"](1,Dm,16,9,"tr",57),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",e.ReceiptList)}}function Lm(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"tbody"),c["\u0275\u0275elementStart"](1,"tr",64),c["\u0275\u0275elementStart"](2,"td",65),c["\u0275\u0275text"](3),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](4,1,"NoData")))}function qm(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",66),c["\u0275\u0275elementStart"](1,"ngb-pagination",67),c["\u0275\u0275listener"]("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPageChange(t)})("pageChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PageNo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"p"),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"select",68),c["\u0275\u0275listener"]("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPageSizeChange(t.target.value)})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PageSize=t}),c["\u0275\u0275elementStart"](5,"option",69),c["\u0275\u0275text"](6,"10 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"option",70),c["\u0275\u0275text"](8,"50 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"option",71),c["\u0275\u0275text"](10,"100 "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](11,"br"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("collectionSize",e.totalCount)("page",e.PageNo)("pageSize",e.PageSize)("maxSize",5)("boundaryLinks",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e._generalService.TotalDetailsTextShow(e.PageNo,e.PageSize,e.totalCount,e.lang)," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",e.PageSize)}}function Vm(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",6),c["\u0275\u0275elementStart"](1,"div",7),c["\u0275\u0275elementStart"](2,"div",8),c["\u0275\u0275elementStart"](3,"div",9),c["\u0275\u0275elementStart"](4,"h6",10),c["\u0275\u0275text"](5),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"div",11),c["\u0275\u0275elementStart"](8,"div",12),c["\u0275\u0275elementStart"](9,"section"),c["\u0275\u0275elementStart"](10,"div",4),c["\u0275\u0275elementStart"](11,"div",13),c["\u0275\u0275elementStart"](12,"form",14,15),c["\u0275\u0275listener"]("ngSubmit",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),c["\u0275\u0275elementStart"](14,"div",4),c["\u0275\u0275elementStart"](15,"div",16),c["\u0275\u0275elementStart"](16,"div",17),c["\u0275\u0275elementStart"](17,"label",18),c["\u0275\u0275text"](18),c["\u0275\u0275pipe"](19,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](20,"select",19,20),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=t})("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ChangeBranch(t.target.value)}),c["\u0275\u0275elementStart"](22,"option",21),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](25,cm,3,3,"option",22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"div",16),c["\u0275\u0275elementStart"](27,"div",17),c["\u0275\u0275elementStart"](28,"label",23),c["\u0275\u0275text"](29),c["\u0275\u0275pipe"](30,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](31,"input",24,25),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",26),c["\u0275\u0275elementStart"](34,"button",27),c["\u0275\u0275element"](35,"i",28),c["\u0275\u0275text"](36),c["\u0275\u0275pipe"](37,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"button",29),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ShowAll()}),c["\u0275\u0275element"](39,"i",28),c["\u0275\u0275text"](40),c["\u0275\u0275pipe"](41,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"div",30),c["\u0275\u0275elementStart"](43,"div",31),c["\u0275\u0275elementStart"](44,"div",32),c["\u0275\u0275template"](45,lm,4,3,"button",33),c["\u0275\u0275elementStart"](46,"button",34),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().OnPrint()}),c["\u0275\u0275element"](47,"i",28),c["\u0275\u0275text"](48),c["\u0275\u0275pipe"](49,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"button",35),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().OnPrint(1)}),c["\u0275\u0275element"](51,"i",28),c["\u0275\u0275text"](52),c["\u0275\u0275pipe"](53,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](54,"button",36),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().OnExcel()}),c["\u0275\u0275element"](55,"i",28),c["\u0275\u0275text"](56),c["\u0275\u0275pipe"](57,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](58,"div",37),c["\u0275\u0275elementStart"](59,"div",38),c["\u0275\u0275elementStart"](60,"label",39),c["\u0275\u0275text"](61),c["\u0275\u0275pipe"](62,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](63,"input",40,41),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=t})("keyup",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ChangePropFinish()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](65,"div",4),c["\u0275\u0275elementStart"](66,"div",42),c["\u0275\u0275elementStart"](67,"div",43),c["\u0275\u0275elementStart"](68,"div",44),c["\u0275\u0275elementStart"](69,"div",45),c["\u0275\u0275elementStart"](70,"table",46),c["\u0275\u0275elementStart"](71,"thead"),c["\u0275\u0275elementStart"](72,"tr"),c["\u0275\u0275elementStart"](73,"th",47),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),c["\u0275\u0275text"](74),c["\u0275\u0275pipe"](75,"translate"),c["\u0275\u0275template"](76,mm,4,3,"ng-container",48),c["\u0275\u0275template"](77,gm,4,3,"ng-container",48),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](78,"th",47),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),c["\u0275\u0275text"](79),c["\u0275\u0275pipe"](80,"translate"),c["\u0275\u0275elementContainerStart"](81),c["\u0275\u0275element"](82,"i",49),c["\u0275\u0275template"](83,_m,1,0,"i",50),c["\u0275\u0275template"](84,Cm,1,0,"i",51),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](85,"th",47),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),c["\u0275\u0275text"](86),c["\u0275\u0275pipe"](87,"translate"),c["\u0275\u0275elementContainerStart"](88),c["\u0275\u0275element"](89,"i",49),c["\u0275\u0275template"](90,fm,1,0,"i",50),c["\u0275\u0275template"](91,bm,1,0,"i",51),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](92,"th",47),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),c["\u0275\u0275text"](93),c["\u0275\u0275pipe"](94,"translate"),c["\u0275\u0275template"](95,vm,4,3,"ng-container",48),c["\u0275\u0275template"](96,Pm,4,3,"ng-container",48),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](97,"th",47),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().GetReceiptList("Reference_No")}),c["\u0275\u0275text"](98),c["\u0275\u0275pipe"](99,"translate"),c["\u0275\u0275elementContainerStart"](100),c["\u0275\u0275element"](101,"i",49),c["\u0275\u0275template"](102,Rm,1,0,"i",50),c["\u0275\u0275template"](103,Om,1,0,"i",51),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](104,"th"),c["\u0275\u0275text"](105,"\xa0"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](106,"tbody"),c["\u0275\u0275template"](107,Fm,2,1,"tbody",48),c["\u0275\u0275template"](108,Lm,5,3,"tbody",48),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](109,qm,12,7,"div",52),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](6,36,"productionvoucher2"),""),c["\u0275\u0275advance"](13),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](19,38,"Branch")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e._ReceiptSearch.BranchID),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](24,40,"All")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",e.BranchList),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](30,42,"EntryNo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e._ReceiptSearch.EntryNo),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](37,44,"Search")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("",c["\u0275\u0275pipeBind1"](41,46,"All")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf",e.checkRoleParms(10146)),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](49,48,"Print")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](53,50,"pdf")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](57,52,"Excel")," "),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](62,54,"Search")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",e._ReceiptSearch.SearchValue),c["\u0275\u0275advance"](11),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](75,56,"Branch")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](80,58,"EntryNo")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","Entry_No"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_No"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](87,60,"Date")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","Entry_Date"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Entry_Date"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](94,62,"Customer")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](99,64,"Reference_No")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("hidden","Reference_No"==e.sortColumn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Reference_No"==e.sortColumn&&"asc"==e.sortDirection),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","Reference_No"==e.sortColumn&&"desc"==e.sortDirection),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",e.ReceiptList.length>0),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",0==e.ReceiptList.length),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.totalCount>0)}}let Nm=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d,p,m,h,u){this._cashsalesService=e,this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=o,this._translateGlobalService=a,this.spinner=s,this._activeRoute=c,this._ReceiptSharedService=l,this._authService=d,this._printService=p,this._Excel=m,this._convertToPDF=h,this._VerifyReportsService=u,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new x.Wb,this.NumNotExist="",this.title="",this.sortDirection="asc",this.sortColumn="",this.timeout=null,this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get("SelectBranchError").subscribe(e=>{this.SelectBranchMsg=e}),this.ngTransUnsubscribe=this.translate.get("EntryNumberMsg").subscribe(e=>{this.EntryNumberMsg=e})}),this.ngTransUnsubscribe=this.translate.get(["productionvoucher2"]).subscribe(e=>{this.title=e.productionvoucher2,document.title=this.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(e=>{this.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(e=>{if(0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.ReceiptSearch()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0){this.subsidiaryID=this._generalService.SubsidiaryID;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.GetBranchList(),this.ReceiptSearch()}}),c.params.subscribe(e=>{let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),this._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):this._ReceiptSearch.BranchID=0})}ngOnInit(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="20",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}ChangePropFinish(e=1){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.ReceiptSearch()},1e3*e)}ReceiptSearch(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}GetBranchList(){this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}ChangeBranch(e){let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}GetReceiptList(e=null){this.sortColumn=null==e?null:e,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=e&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(e=>{this.ReceiptList=[],this.list=e,1==this.list.length&&this._ReceiptSearch.EntryNo>0?this._router.navigate(["/page/production/reverseproductionvoucher/"+this.list[0].id]):0==this.list.length&&this._ReceiptSearch.EntryNo>0?this.toastr.warning(this.NumNotExist):this.ReceiptList=e,this.cd.markForCheck(),this.spinner.hide()})}GetReceiptListCount(){this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(e=>{this.totalCount=e[0].total,this.cd.markForCheck()})}OnAdd(){this._router.navigate(["/page/production/reverseproductionvoucher/0"])}OnView(e){this._router.navigate(["/page/production/reverseproductionvoucher/"+e.id+"/show"])}onEdit(e){let t="";t=`/page/production/reverseproductionvoucher/${e.id}`,this._router.navigate([t])}ShowAll(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}SearchReceiptByEntryNo(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}OnPrint(e=0){let t="",n="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",r="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",o="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",a="ar"==this.lang?"\u0639\u0645\u064a\u0644":"Customer",s="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062c\u0639":"Reference No";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(c=>{this.cd.markForCheck(),t=`\n            <table class="table text-center m-0 table table-striped"  border="1px"  dir = ${n}>\n                  <thead>\n                    <tr style="background: #e9f1f5;color: cornflowerblue;">\n                      <th>${i}</th>\n                      <th>${r}</th>\n                      <th>${o}</th>\n                      <th>${a}</th>\n                      <th>${s}</th>\n\n                    </tr>\n                  </thead>\n              <tbody>\n          `,c.map(e=>{var n,i;t+=`\n          <tr>\n          <td>${"ar"==this.lang?e.branchnamear:e.branchname}</td>\n          <td>${e.entry_no}</td>\n          <td>${e.entry_date}</td>\n          <td>${null!==(n="ar"==this.lang?e.customernamear:e.customername)&&void 0!==n?n:""}</td>\n          <td>${null!==(i=e.reference_no)&&void 0!==i?i:""}</td>\n          </tr>\n          `}),t+="</tbody></table>",1==e?this._convertToPDF.by_html2pdf(t):this._printService.OnPrintContent(t)})}OnExcel(){let e=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(t=>{t.forEach(t=>{e.push("ar"==this.lang?{"\u0627\u0644\u0641\u0631\u0639":t.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":t.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":t.entry_date,"\u0627\u0644\u0639\u0645\u064a\u0644":t.customernamear,"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062c\u0639":t.reference_no}:{Branch:t.branchname,"Entry No":t.entry_no,Date:t.entry_date,Customer:t.customernamear,"Reference No":t.reference_no})}),this._Excel.exportAsExcelFile(e,"CashSales")})}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}onPageChange(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}onPageSizeChange(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](Z.n),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](ee.t2),c["\u0275\u0275directiveInject"](l.gz),c["\u0275\u0275directiveInject"](K.t),c["\u0275\u0275directiveInject"](R.e),c["\u0275\u0275directiveInject"](te.$),c["\u0275\u0275directiveInject"](ne.x),c["\u0275\u0275directiveInject"](ie.z),c["\u0275\u0275directiveInject"](X.J))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["productionvoucher2"]],features:[c["\u0275\u0275ProvidersFeature"]([Z.n,K.t,X.J])],decls:6,vars:3,consts:[["class","row",4,"ngIf"],["class","card transparent-BG box-shadow-none",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","transparent-BG","box-shadow-none"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped"],[3,"click"],[4,"ngIf"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between\n              flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn btn-primary\n                                transparent-BG",3,"routerLink",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","transparent-BG","mr-3",3,"routerLink"],["aria-hidden","true",1,"fa","fa-file-text-o"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"routerLink"],[1,"ft-edit"],[2,"background-color","#b0bed9"],["colspan","10"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,om,4,3,"div",0),c["\u0275\u0275elementStart"](1,"section"),c["\u0275\u0275template"](2,Vm,110,66,"div",1),c["\u0275\u0275elementStart"](3,"ngx-spinner",2),c["\u0275\u0275elementStart"](4,"p",3),c["\u0275\u0275text"](5,"Loading..."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275property"]("ngIf",!t.checkRoleParms(10145)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",t.checkRoleParms(10145)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("fullScreen",!0))},directives:[i.O5,ee.Ro,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,a.YN,a.Kr,i.sg,a.qQ,a.wV,a.Fj,re.K,l.yS,oe.N9],pipes:[d.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}']}),e})();const Tm=["RForm"];function Um(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275elementStart"](1,"h1",3),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function $m(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",80),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).DocumentAction()}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function Am(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",81),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PrintPreview(0)}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function Gm(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",82),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).DupilcateAction()}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function zm(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",82),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](4).CheckBalanceForItemInStoreBeforeDelete(0,!0)}),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function jm(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275template"](1,zm,3,4,"button",84),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",!e.ShowModeReceipt&&e.ReceiptID>0&&0==e.VouchersLinkedCount)}}function Qm(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"button",82),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).onPrint()}),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",82),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).PrintPreview(1)}),c["\u0275\u0275text"](5),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"email-popup",83),c["\u0275\u0275listener"]("_savedemailobj",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).sendEmail(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,Gm,3,4,"button",84),c["\u0275\u0275template"](9,jm,2,1,"div",1),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,7,"Print")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275attribute"]("disabled",1==e.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](6,9,"Printpdf")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("entryno",e._Receipt.entry_no),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.checkRoleParms(10146)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",e.checkRoleParms(10148))}}function Wm(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",85),c["\u0275\u0275text"](1,"choose"),c["\u0275\u0275elementEnd"]())}function Jm(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",85),c["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),c["\u0275\u0275elementEnd"]())}function Hm(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name,"")}}function Ym(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.name_ar,"")}}function Zm(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",86),c["\u0275\u0275template"](1,Hm,2,1,"span",1),c["\u0275\u0275template"](2,Ym,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Km(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sugar)}}function Xm(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.sug)}}function eh(e,t){if(1&e&&(c["\u0275\u0275template"](0,Km,2,1,"div",1),c["\u0275\u0275template"](1,Xm,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function th(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",94),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function nh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",106),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"DefaultCost")," "))}function ih(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",106),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"CostDiff")," "))}function rh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",107),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"ProductCost")," "))}function oh(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function ah(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function sh(e,t){if(1&e&&(c["\u0275\u0275template"](0,oh,2,1,"div",1),c["\u0275\u0275template"](1,ah,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function ch(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function lh(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function dh(e,t){if(1&e&&(c["\u0275\u0275template"](0,ch,2,1,"div",1),c["\u0275\u0275template"](1,lh,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}const ph=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function mh(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",128),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](2,ph,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function hh(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",128),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](2,ph,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function uh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",129),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function gh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",129),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function _h(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name)}}function Ch(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name_ar)}}function fh(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",130),c["\u0275\u0275template"](1,_h,2,1,"span",1),c["\u0275\u0275template"](2,Ch,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"]().$implicit,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275property"]("ngValue",null==e?null:e.id)("selected",(null==e?null:e.id)===n.unit_id&&(null==e?null:e.item_id)===(null==n?null:n.item_id)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=i.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==i.lang)}}const bh=function(e,t){return{"invalid-data":e,"valid-data":t}};function yh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",131,132),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.conv=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("step",null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowdecimalpack),c["\u0275\u0275propertyInterpolate1"]("name","item_conv",n,""),c["\u0275\u0275property"]("readonly",!0)("stepallow",null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowdecimalpack)("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](9,bh,e.invalid&&r.submitted,e.valid&&r.submitted))}}function xh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",133,134),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.defaultitemcost=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","item_defaultitemcost",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.defaultitemcost)("ngClass",c["\u0275\u0275pureFunction2"](4,bh,e.invalid&&r.submitted,e.valid&&r.submitted))}}function vh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",133,135),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.costdiff=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","item_costdiff",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.costdiff)("ngClass",c["\u0275\u0275pureFunction2"](4,bh,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Mh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",136,137),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.total=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","item_price",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.total)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](6,bh,e.invalid&&r.submitted||(null==e.errors?null:e.errors.customMin),e.valid&&r.submitted))}}function Sh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"a",139),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](2).index;c["\u0275\u0275nextContext"](2);const n=c["\u0275\u0275reference"](164);return c["\u0275\u0275nextContext"]().OnSerialItemsInItemComponent(t,n)}),c["\u0275\u0275element"](1,"i",140),c["\u0275\u0275elementEnd"]()}}function Ph(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,Sh,2,0,"a",138),c["\u0275\u0275elementContainerEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1!=e.CashCustomerSetting.dispensingpolicy)}}const Rh=function(e){return{item_id:e}};function Oh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"p-autoComplete",108,109),c["\u0275\u0275listener"]("onFocus",function(t){const n=c["\u0275\u0275restoreView"](e).index,i=c["\u0275\u0275reference"](3),r=c["\u0275\u0275nextContext"](3);return r.onFocusInStore(t,n),i.show(),r.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).StoreSelectEvent(t,n)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).StoreChangeSearch(t)})("onClear",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3)._Receipt.details[t].store_id=null}),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275template"](5,sh,2,2,"ng-template",110),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275elementStart"](7,"p-autoComplete",111,112),c["\u0275\u0275listener"]("onFocus",function(t){const n=c["\u0275\u0275restoreView"](e).index,i=c["\u0275\u0275reference"](8),r=c["\u0275\u0275nextContext"](3);return r.onFocusInItems(t,n),i.show(),r.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ItemsSelectEvent(t,n)})("completeMethod",function(t){const n=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ItemsChangeSearch(t,n)})("onClear",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).onClearItems(t)}),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275template"](10,dh,2,2,"ng-template",113),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td",114),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return c["\u0275\u0275nextContext"](3).OnSelectedItem(n,i,"selected")}),c["\u0275\u0275template"](12,mh,2,5,"div",115),c["\u0275\u0275template"](13,hh,2,5,"div",115),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"td"),c["\u0275\u0275elementStart"](15,"select",116,117),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),c["\u0275\u0275template"](17,uh,2,1,"option",118),c["\u0275\u0275template"](18,gh,2,1,"option",118),c["\u0275\u0275template"](19,fh,3,4,"option",119),c["\u0275\u0275pipe"](20,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,yh,3,12,"td",1),c["\u0275\u0275elementStart"](22,"td"),c["\u0275\u0275elementStart"](23,"input",120,121),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).ChangeQty(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](25,xh,3,7,"td",1),c["\u0275\u0275template"](26,vh,3,7,"td",1),c["\u0275\u0275elementStart"](27,"td"),c["\u0275\u0275elementStart"](28,"input",122,123),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.productionunitexpense=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"td"),c["\u0275\u0275elementStart"](31,"input",122,124),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.productionqtyexpense=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](33,Mh,3,9,"td",1),c["\u0275\u0275elementStart"](34,"td",125),c["\u0275\u0275elementStart"](35,"a",126),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).index;return c["\u0275\u0275nextContext"](3).DeleteItems(t)}),c["\u0275\u0275element"](36,"i",127),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](37,Ph,2,1,"ng-container",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275reference"](16),r=c["\u0275\u0275reference"](24),o=c["\u0275\u0275reference"](29),a=c["\u0275\u0275reference"](32);c["\u0275\u0275nextContext"](2);const s=c["\u0275\u0275reference"](3),l=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","storecode",n,""),c["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=l.CurrentUserSetting&&l.CurrentUserSetting.canchangestore))("suggestions",l.StoreList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](4,48,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275propertyInterpolate1"]("name","itemcode",n,""),c["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",l.ItemsList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](9,50,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf","ar"!=l.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==l.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","itemunit",n,""),c["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](55,bh,i.invalid&&s.submitted,i.valid&&s.submitted)),c["\u0275\u0275attribute"]("disabled",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=l.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==l.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](20,52,l.ItemUnitsList,c["\u0275\u0275pureFunction1"](58,Rh,null==e?null:e.item_id)))("ngForTrackBy",l._ReceiptSharedService.customTrackBy),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","item_qty",n,""),c["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==e?null:e.item_id))("ngModel",e.qty)("ngClass",c["\u0275\u0275pureFunction2"](60,bh,r.invalid&&s.submitted,r.valid&&s.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),c["\u0275\u0275propertyInterpolate1"]("name","item_productionunitexpense",n,""),c["\u0275\u0275property"]("readonly",!0)("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",e.productionunitexpense)("required",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](63,bh,o.invalid&&s.submitted,o.valid&&s.submitted)),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),c["\u0275\u0275propertyInterpolate1"]("name","item_productionqtyexpense",n,""),c["\u0275\u0275property"]("readonly",!0)("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",e.productionqtyexpense)("required",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](66,bh,a.invalid&&s.submitted,a.valid&&s.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",(2==e.isrequireserial||3==e.isrequireserial)&&1==l.CashCustomerSetting.salesreturneffect)}}function Ih(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",90),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Eh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",96),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"BasicQty")," "))}function wh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",96),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"DefaultQty")," "))}function kh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",96),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"QtyDiff")," "))}function Bh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",141),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"CostForDefaultQTY")," "))}function Dh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",141),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"ActualCostUnit")," "))}function Fh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",107),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function Lh(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function qh(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Vh(e,t){if(1&e&&(c["\u0275\u0275template"](0,Lh,2,1,"div",1),c["\u0275\u0275template"](1,qh,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function Nh(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sugar," ")}}function Th(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.sug," ")}}function Uh(e,t){if(1&e&&(c["\u0275\u0275template"](0,Nh,2,1,"div",1),c["\u0275\u0275template"](1,Th,2,1,"div",1)),2&e){const e=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("ngIf","ar"==e.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=e.lang)}}function $h(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",128),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](2,ph,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname," ")}}function Ah(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",128),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275nextContext"](2);const t=c["\u0275\u0275reference"](3);c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction2"](2,ph,0==e.allowqtyselectforitem&&t.submitted||0==e.allowqtyselectforitem,1==e.allowqtyselectforitem&&t.submitted||1==e.allowqtyselectforitem)),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.itemname_ar," ")}}function Gh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",129),c["\u0275\u0275text"](1," choose "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function zh(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"option",129),c["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),c["\u0275\u0275elementEnd"]()),2&e&&c["\u0275\u0275property"]("ngValue",null)}function jh(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name)}}function Qh(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"span"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.name_ar)}}function Wh(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",86),c["\u0275\u0275template"](1,jh,2,1,"span",1),c["\u0275\u0275template"](2,Qh,2,1,"span",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=c["\u0275\u0275nextContext"](4);c["\u0275\u0275property"]("value",e.id),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"!=n.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Jh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",131,151),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.conv=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate"]("step",null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowdecimalpack),c["\u0275\u0275propertyInterpolate1"]("name","itemProducts_conv",n,""),c["\u0275\u0275property"]("readonly",!0)("stepallow",null==o.CashCustomerSetting?null:o.CashCustomerSetting.allowdecimalpack)("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](9,bh,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Hh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",152,153),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.basicqtycomponent=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","basicqtycomponent",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.basicqtycomponent)("ngClass",c["\u0275\u0275pureFunction2"](4,bh,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Yh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",133,154),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.defaultitemqty=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","defaultitemqty",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.defaultitemqty)("ngClass",c["\u0275\u0275pureFunction2"](4,bh,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Zh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",155,156),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.qtydiff=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","item_qtydiff",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.qtydiff)("required",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](5,bh,e.invalid&&r.submitted,e.valid&&r.submitted))}}function Kh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",157,158),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.pricecostbasicqty=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","itemProducts_pricecostbasicqty",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.pricecostbasicqty)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](6,bh,e.invalid&&r.submitted||(null==e.errors?null:e.errors.customMin),e.valid&&r.submitted))}}function Xh(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",159,160),c["\u0275\u0275listener"]("keyup",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"]().$implicit,n=c["\u0275\u0275nextContext"](3);return n.CalaculteValuesItemsRow(null==n.SelectedItem?null:n.SelectedItem.rowno,t,"value")})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.price=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","itemProducts_price",n,""),c["\u0275\u0275property"]("ngModel",i.price)("Min",0)("ngClass",c["\u0275\u0275pureFunction2"](4,bh,e.invalid&&r.submitted||(null==e.errors?null:e.errors.customMin)||null==i.price,e.valid&&r.submitted))}}function eu(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",136,161),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.total=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](2),t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](3);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","itemProducts_total",n,""),c["\u0275\u0275property"]("readonly",!0)("ngModel",i.total)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",c["\u0275\u0275pureFunction2"](6,bh,e.invalid&&r.submitted||(null==e.errors?null:e.errors.customMin),e.valid&&r.submitted))}}function tu(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"a",162),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275nextContext"](),n=t.index,i=t.$implicit;c["\u0275\u0275nextContext"](2);const r=c["\u0275\u0275reference"](162);return c["\u0275\u0275nextContext"]().OnSerialItems(n,i,r)}),c["\u0275\u0275element"](2,"i",140),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("hidden",!(2==e.isrequireserial||3==e.isrequireserial))}}function nu(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275elementStart"](2,"p-autoComplete",108,142),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](3),i=c["\u0275\u0275nextContext"](3);return i.onFocusInStoreProducts(t),n.show(),i.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).StoreProductsSelectEvent(t,n)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).StoreChangeSearch(t)})("onClear",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).onClearStoreProducts(t)}),c["\u0275\u0275pipe"](4,"translate"),c["\u0275\u0275template"](5,Vh,2,2,"ng-template",143),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275elementStart"](7,"p-autoComplete",111,144),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](8),i=c["\u0275\u0275nextContext"](3);return i.onFocusInItemsProducts(t),n.show(),i.isType=!0})("onClick",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(t){const n=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).ItemsProductsSelectEvent(t,n)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](3).ItemsProductsChangeSearch(t)})("onClear",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).onClearItemsProducts(t)}),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275template"](10,Uh,2,2,"ng-template",145),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td",114),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).StockBalances(t,2)}),c["\u0275\u0275template"](12,$h,2,5,"div",115),c["\u0275\u0275template"](13,Ah,2,5,"div",115),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](14,"td"),c["\u0275\u0275elementStart"](15,"select",146,147),c["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(t){const n=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).ChangeItemProductssUnits(t.target.value,n)}),c["\u0275\u0275template"](17,Gh,2,1,"option",118),c["\u0275\u0275template"](18,zh,2,1,"option",118),c["\u0275\u0275template"](19,Wh,3,3,"option",27),c["\u0275\u0275pipe"](20,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](21,Jh,3,12,"td",1),c["\u0275\u0275elementStart"](22,"td"),c["\u0275\u0275elementStart"](23,"input",148,149),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).ChangeQtyProducts(t)})("ngModelChange",function(e){return t.$implicit.qty=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](25,"td"),c["\u0275\u0275elementStart"](26,"input",148,150),c["\u0275\u0275listener"]("keyup",function(){const t=c["\u0275\u0275restoreView"](e).$implicit,n=c["\u0275\u0275nextContext"](3);return n.CalaculteValuesItemsRow(null==n.SelectedItem?null:n.SelectedItem.rowno,t)})("ngModelChange",function(e){return t.$implicit.priceincreasepercentage=e}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](28,Hh,3,7,"td",1),c["\u0275\u0275template"](29,Yh,3,7,"td",1),c["\u0275\u0275template"](30,Zh,3,8,"td",1),c["\u0275\u0275template"](31,Kh,3,9,"td",1),c["\u0275\u0275template"](32,Xh,3,7,"td",1),c["\u0275\u0275template"](33,eu,3,9,"td",1),c["\u0275\u0275elementStart"](34,"td",125),c["\u0275\u0275elementStart"](35,"a",126),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e).$implicit;return c["\u0275\u0275nextContext"](3).DeleteItemsProducts(t)}),c["\u0275\u0275element"](36,"i",127),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](37,tu,3,1,"ng-container",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275reference"](16),r=c["\u0275\u0275reference"](24),o=c["\u0275\u0275reference"](27);c["\u0275\u0275nextContext"](2);const a=c["\u0275\u0275reference"](3),s=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","storecodeProducts",n,""),c["\u0275\u0275property"]("ngModel",e.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](4,40,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275propertyInterpolate1"]("name","itemcodeProducts",n,""),c["\u0275\u0275property"]("ngModel",e.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](9,42,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngIf","ar"!=s.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==s.lang),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","itemProductsunit",n,""),c["\u0275\u0275property"]("ngModel",e.unit_id)("required",null!=(null==e?null:e.item_id))("ngClass",c["\u0275\u0275pureFunction2"](47,bh,i.invalid&&a.submitted,i.valid&&a.submitted)),c["\u0275\u0275attribute"]("disabled",null!=(null==e?null:e.finishedproductid)||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=s.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==s.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](20,44,s.ItemProductsUnitsList,c["\u0275\u0275pureFunction1"](50,Rh,null==e?null:e.item_id)))("ngForTrackBy",s._ReceiptSharedService.customTrackBy),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","itemProducts_qty",n,""),c["\u0275\u0275property"]("Min",0)("ngModel",e.qty)("ngClass",c["\u0275\u0275pureFunction2"](52,bh,r.invalid&&a.submitted||null==e.qty,r.valid&&a.submitted)),c["\u0275\u0275advance"](3),c["\u0275\u0275propertyInterpolate1"]("name","itemProducts_costrate",n,""),c["\u0275\u0275property"]("Min",0)("ngModel",e.priceincreasepercentage)("ngClass",c["\u0275\u0275pureFunction2"](55,bh,o.invalid&&a.submitted||null==e.priceincreasepercentage,o.valid&&a.submitted)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",1==s.InventorySetting[0].purchaseseffect)}}const iu=function(e){return{parentrowno:e}};function ru(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",87),c["\u0275\u0275elementStart"](1,"div",88),c["\u0275\u0275elementStart"](2,"div",64),c["\u0275\u0275elementStart"](3,"table",89),c["\u0275\u0275elementStart"](4,"thead"),c["\u0275\u0275elementStart"](5,"tr"),c["\u0275\u0275elementStart"](6,"th",90),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"th",90),c["\u0275\u0275text"](10),c["\u0275\u0275pipe"](11,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"th",91),c["\u0275\u0275text"](13),c["\u0275\u0275pipe"](14,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](15,"th",92),c["\u0275\u0275text"](16),c["\u0275\u0275pipe"](17,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](18,th,3,3,"th",93),c["\u0275\u0275elementStart"](19,"th",94),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](22,nh,3,3,"th",95),c["\u0275\u0275template"](23,ih,3,3,"th",95),c["\u0275\u0275elementStart"](24,"th",96),c["\u0275\u0275text"](25),c["\u0275\u0275pipe"](26,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](27,"th",96),c["\u0275\u0275text"](28),c["\u0275\u0275pipe"](29,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](30,rh,3,3,"th",97),c["\u0275\u0275element"](31,"th",66),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"tbody"),c["\u0275\u0275template"](33,Oh,38,69,"tr",98),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](34,"button",99),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddItems(1)}),c["\u0275\u0275text"](35),c["\u0275\u0275pipe"](36,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](37,"div",87),c["\u0275\u0275elementStart"](38,"div",88),c["\u0275\u0275elementStart"](39,"div",64),c["\u0275\u0275elementStart"](40,"table",100),c["\u0275\u0275elementStart"](41,"thead"),c["\u0275\u0275elementStart"](42,"tr"),c["\u0275\u0275elementStart"](43,"th",90),c["\u0275\u0275text"](44),c["\u0275\u0275pipe"](45,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](46,"th",90),c["\u0275\u0275text"](47),c["\u0275\u0275pipe"](48,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](49,"th",101),c["\u0275\u0275text"](50),c["\u0275\u0275pipe"](51,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](52,"th",90),c["\u0275\u0275text"](53),c["\u0275\u0275pipe"](54,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](55,Ih,3,3,"th",102),c["\u0275\u0275elementStart"](56,"th",96),c["\u0275\u0275text"](57),c["\u0275\u0275pipe"](58,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](59,"th",96),c["\u0275\u0275text"](60),c["\u0275\u0275pipe"](61,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](62,Eh,3,3,"th",103),c["\u0275\u0275template"](63,wh,3,3,"th",103),c["\u0275\u0275template"](64,kh,3,3,"th",103),c["\u0275\u0275template"](65,Bh,3,3,"th",104),c["\u0275\u0275template"](66,Dh,3,3,"th",104),c["\u0275\u0275template"](67,Fh,3,3,"th",105),c["\u0275\u0275element"](68,"th",66),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](69,"tbody"),c["\u0275\u0275template"](70,nu,38,58,"tr",98),c["\u0275\u0275pipe"](71,"filterby"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](72,"button",99),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).AddItems(2)}),c["\u0275\u0275text"](73),c["\u0275\u0275pipe"](74,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](8,30,"Store")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](11,32,"ItemCode")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](14,34,"ItemDescription")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](17,36,"Unit")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,38,"ProducedQty")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](26,40,"ProductionUnitExpense")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](29,42,"ProductionQtyExpense")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",e._Receipt.details)("ngForTrackBy",e._ReceiptSharedService.customTrackBy),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](36,44,"Add")," "),c["\u0275\u0275advance"](9),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](45,46,"Store")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](48,48,"ItemCode")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](51,50,"ItemDescription")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](54,52,"Unit")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CashCustomerSetting?null:e.CashCustomerSetting.allowpack)),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](58,54,"ActualQty")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](61,56,"CostRatio")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",1==(null==e.CurrentUserSetting?null:e.CurrentUserSetting.showcostprice)),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind2"](71,58,null==e._Receipt?null:e._Receipt.itemscomponent,c["\u0275\u0275pureFunction1"](63,iu,null==e.SelectedItem?null:e.SelectedItem.rowno)))("ngForTrackBy",e._ReceiptSharedService.customTrackBy),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](74,61,"Add")," ")}}function ou(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",87),c["\u0275\u0275elementStart"](1,"div",88),c["\u0275\u0275elementStart"](2,"Signature",163),c["\u0275\u0275listener"]("signatureoutput",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"](2).OnSignatureSet(t)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("signature",e._Receipt.signature)}}function au(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275element"](1,"Item-StoreQty",164,165),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("wrappe",e._itemstoreqtyobj)}}function su(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h6",178),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function cu(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h6",178),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function lu(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",179),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function du(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function pu(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function mu(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}const hu=function(e){return{"invalid-data":e}};function uu(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",187),c["\u0275\u0275listener"]("change",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275nextContext"](),i=n.$implicit,r=n.index;return c["\u0275\u0275nextContext"](3).ChangeBatchQty(i,t.target.value,r)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;c["\u0275\u0275nextContext"]();const i=c["\u0275\u0275reference"](7);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),c["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",c["\u0275\u0275pureFunction1"](3,hu,null==(null==n?null:n.qty)&&i.submitted||(null==n?null:n.qty)<=0&&i.submitted))}}function gu(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",188),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().$implicit.date=t}),c["\u0275\u0275pipe"](2,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;c["\u0275\u0275nextContext"]();const i=c["\u0275\u0275reference"](7);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","Expire_Date",t,""),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](2,4,null==n?null:n.date,"yyyy-MM-dd"))("ngClass",c["\u0275\u0275pureFunction1"](7,hu,null==(null==n?null:n.date)&&i.submitted||""==(null==n?null:n.date)&&i.submitted))("disabled",(null==n?null:n.solidquantity)>0||null)}}function _u(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275element"](2,"input",180),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275element"](4,"input",181),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,uu,2,5,"td",1),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275element"](7,"input",182),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](8,gu,3,9,"td",1),c["\u0275\u0275elementStart"](9,"td"),c["\u0275\u0275elementStart"](10,"input",183),c["\u0275\u0275listener"]("change",function(t){const n=c["\u0275\u0275restoreView"](e),i=n.$implicit,r=n.index;return c["\u0275\u0275nextContext"](3).ChangeBatchNo(i,t.target.value,r)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"td",184),c["\u0275\u0275elementStart"](12,"button",185),c["\u0275\u0275listener"]("click",function(){const t=c["\u0275\u0275restoreView"](e),n=t.$implicit,i=t.index;return c["\u0275\u0275nextContext"](3).DeleteRow(n,i)}),c["\u0275\u0275element"](13,"i",186),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),c["\u0275\u0275property"]("checked",null==e?null:e.valid),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","Serial",n,""),c["\u0275\u0275property"]("value",null==e?null:e.serial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==i.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","Store",n,""),c["\u0275\u0275propertyInterpolate"]("value","ar"!=i.lang?null==e?null:e.storename:null==e?null:e.storename_ar),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==i.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","BatchNo",n,""),c["\u0275\u0275property"]("value",null==e?null:e.batchno)("ngClass",c["\u0275\u0275pureFunction1"](13,hu,null==e?null:e.isdublicatebatch))("disabled",(null==e?null:e.solidquantity)>0||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",(null==e?null:e.solidquantity)>0||null)}}function Cu(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",2),c["\u0275\u0275elementStart"](1,"button",189),c["\u0275\u0275text"](2),c["\u0275\u0275pipe"](3,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",190),c["\u0275\u0275text"](5),c["\u0275\u0275pipe"](6,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"button",191),c["\u0275\u0275text"](8),c["\u0275\u0275pipe"](9,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](3,3,"SampleFile")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](6,5,"SelectExcleFile")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](9,7,"Upload")," "))}function fu(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",166),c["\u0275\u0275template"](1,su,3,3,"h6",167),c["\u0275\u0275template"](2,cu,3,3,"h6",167),c["\u0275\u0275elementStart"](3,"button",168),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",169),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4,5),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275reference"](7);return c["\u0275\u0275nextContext"](2).SubmitOk(t)}),c["\u0275\u0275elementStart"](8,"div",170),c["\u0275\u0275elementStart"](9,"div",171),c["\u0275\u0275elementStart"](10,"div",2),c["\u0275\u0275elementStart"](11,"form"),c["\u0275\u0275elementStart"](12,"div",172),c["\u0275\u0275elementStart"](13,"table",65),c["\u0275\u0275elementStart"](14,"thead"),c["\u0275\u0275elementStart"](15,"tr"),c["\u0275\u0275elementStart"](16,"th"),c["\u0275\u0275text"](17),c["\u0275\u0275pipe"](18,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"th",173),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](22,lu,3,3,"th",174),c["\u0275\u0275elementStart"](23,"th",175),c["\u0275\u0275text"](24),c["\u0275\u0275pipe"](25,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](26,du,3,3,"th",1),c["\u0275\u0275template"](27,pu,3,3,"th",1),c["\u0275\u0275template"](28,mu,3,3,"th",1),c["\u0275\u0275element"](29,"th"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"tbody"),c["\u0275\u0275template"](31,_u,14,15,"tr",98),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](32,Cu,10,9,"div",0),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",176),c["\u0275\u0275elementStart"](34,"button",177),c["\u0275\u0275text"](35),c["\u0275\u0275pipe"](36,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](15),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](18,13,"Valid")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,15,"Serial")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](25,17,"Store")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngForOf",e._Receipt.itemscomponent[e.SelectedRowIndex].batcheslist)("ngForTrackBy",e.trackByFn),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](36,19,"Cancel")," ")}}function bu(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h6",178),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function yu(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h6",178),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function xu(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function vu(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Mu(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Su(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",179),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function Pu(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",179),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function Ru(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"date"),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275nextContext"]().$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind2"](2,1,null==e?null:e.expire_date,"yyyy-MM-dd")," ")}}function Ou(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",196),c["\u0275\u0275text"](1),c["\u0275\u0275pipe"](2,"translate"),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}function Iu(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td"),c["\u0275\u0275elementStart"](1,"input",194),c["\u0275\u0275listener"]("change",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275nextContext"]().$implicit;return c["\u0275\u0275nextContext"](3).ChangeBatchQtyInItemComponent(n,t.target.value)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](2,Ou,3,3,"span",195),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](),t=e.index,n=e.$implicit;c["\u0275\u0275nextContext"]();const i=c["\u0275\u0275reference"](7);c["\u0275\u0275advance"](1),c["\u0275\u0275propertyInterpolate1"]("name","Qty",t,""),c["\u0275\u0275property"]("value",null==n?null:n.qty)("ngClass",c["\u0275\u0275pureFunction1"](4,hu,(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",(null==n?null:n.qty)>(null==n?null:n.availableqty)+(null==n?null:n.oldqty)&&i.submitted)}}function Eu(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"tr"),c["\u0275\u0275elementStart"](1,"td"),c["\u0275\u0275element"](2,"input",193),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"td"),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](5,Ru,3,4,"td",1),c["\u0275\u0275elementStart"](6,"td"),c["\u0275\u0275text"](7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"td"),c["\u0275\u0275text"](9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](10,Iu,3,6,"td",1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=c["\u0275\u0275nextContext"](3);c["\u0275\u0275advance"](2),c["\u0275\u0275propertyInterpolate1"]("name","Vaild",n,""),c["\u0275\u0275property"]("checked",null==e?null:e.valid),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ","ar"!=i.lang?null==e?null:e.name:null==e?null:e.name_ar," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==i.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",null==e?null:e.serial," "),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](null==e?null:e.availableqty),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==i.requiredserial)}}function wu(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"div",166),c["\u0275\u0275template"](1,bu,3,3,"h6",167),c["\u0275\u0275template"](2,yu,3,3,"h6",167),c["\u0275\u0275elementStart"](3,"button",168),c["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),c["\u0275\u0275elementStart"](4,"span",169),c["\u0275\u0275text"](5,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4,5),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275reference"](7);return c["\u0275\u0275nextContext"](2).saveserial(t)}),c["\u0275\u0275elementStart"](8,"div",170),c["\u0275\u0275elementStart"](9,"div",171),c["\u0275\u0275elementStart"](10,"div",2),c["\u0275\u0275elementStart"](11,"form"),c["\u0275\u0275elementStart"](12,"div",172),c["\u0275\u0275elementStart"](13,"h6",178),c["\u0275\u0275text"](14),c["\u0275\u0275pipe"](15,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"table",65),c["\u0275\u0275elementStart"](17,"thead"),c["\u0275\u0275elementStart"](18,"tr"),c["\u0275\u0275elementStart"](19,"th"),c["\u0275\u0275text"](20),c["\u0275\u0275pipe"](21,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"th",175),c["\u0275\u0275text"](23),c["\u0275\u0275pipe"](24,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](25,xu,3,3,"th",1),c["\u0275\u0275template"](26,vu,3,3,"th",1),c["\u0275\u0275template"](27,Mu,3,3,"th",1),c["\u0275\u0275template"](28,Su,3,3,"th",174),c["\u0275\u0275template"](29,Pu,3,3,"th",174),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"tbody"),c["\u0275\u0275template"](31,Eu,11,7,"tr",98),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"div",176),c["\u0275\u0275elementStart"](33,"button",192),c["\u0275\u0275text"](34),c["\u0275\u0275pipe"](35,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](12),c["\u0275\u0275textInterpolate2"](" ",c["\u0275\u0275pipeBind1"](15,14,"qty")," : ",e._batchqty," "),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](21,16,"Choose")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](24,18,"Store")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",2==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",3==e.requiredserial),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngForOf",e.BatchesListForEatchRow)("ngForTrackBy",e.trackByFn),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](35,20,"save")," ")}}function ku(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"section"),c["\u0275\u0275elementStart"](2,"form",4,5),c["\u0275\u0275listener"]("ngSubmit",function(){c["\u0275\u0275restoreView"](e);const t=c["\u0275\u0275reference"](3);return c["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(t)}),c["\u0275\u0275elementStart"](4,"div",6),c["\u0275\u0275elementStart"](5,"div",7),c["\u0275\u0275elementStart"](6,"div",8),c["\u0275\u0275elementStart"](7,"div",9),c["\u0275\u0275elementStart"](8,"h6",10),c["\u0275\u0275text"](9),c["\u0275\u0275pipe"](10,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](11,"div",2),c["\u0275\u0275elementStart"](12,"div",11),c["\u0275\u0275elementStart"](13,"button",12),c["\u0275\u0275text"](14),c["\u0275\u0275pipe"](15,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"button",13),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CreateNewAction()}),c["\u0275\u0275text"](17),c["\u0275\u0275pipe"](18,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](19,$m,3,4,"button",14),c["\u0275\u0275template"](20,Am,3,4,"button",15),c["\u0275\u0275elementStart"](21,"button",16),c["\u0275\u0275listener"]("click",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().BackAction()}),c["\u0275\u0275text"](22),c["\u0275\u0275pipe"](23,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](24,"div",17),c["\u0275\u0275elementStart"](25,"button",18),c["\u0275\u0275text"](26),c["\u0275\u0275pipe"](27,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",19),c["\u0275\u0275template"](29,Qm,10,11,"ng-container",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](30,"div",2),c["\u0275\u0275elementStart"](31,"div",20),c["\u0275\u0275elementStart"](32,"div",21),c["\u0275\u0275elementStart"](33,"label",22),c["\u0275\u0275text"](34),c["\u0275\u0275pipe"](35,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"span",23),c["\u0275\u0275text"](37,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](38,"select",24,25),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.branch_id=t})("change",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().changeBranch(t)}),c["\u0275\u0275template"](40,Wm,2,0,"option",26),c["\u0275\u0275template"](41,Jm,2,0,"option",26),c["\u0275\u0275template"](42,Zm,3,3,"option",27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](43,"div",28),c["\u0275\u0275elementStart"](44,"div",21),c["\u0275\u0275elementStart"](45,"label",29),c["\u0275\u0275text"](46),c["\u0275\u0275pipe"](47,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](48,"span",23),c["\u0275\u0275text"](49,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](50,"input",30,31),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.entry_no=t})("ngModelChange",function(){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](52,"div",2),c["\u0275\u0275elementStart"](53,"div",28),c["\u0275\u0275elementStart"](54,"div",21),c["\u0275\u0275elementStart"](55,"label",32),c["\u0275\u0275text"](56),c["\u0275\u0275pipe"](57,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](58,"p-autoComplete",33,34),c["\u0275\u0275listener"]("onFocus",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275reference"](59);return c["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(t),n.show()})("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=t})("onSelect",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(t)})("completeMethod",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(t)})("onClear",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().onClearCustomer(t)}),c["\u0275\u0275pipe"](60,"translate"),c["\u0275\u0275template"](61,eh,2,2,"ng-template",35),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](62,"div",28),c["\u0275\u0275elementStart"](63,"div",21),c["\u0275\u0275elementStart"](64,"label",36),c["\u0275\u0275text"](65),c["\u0275\u0275pipe"](66,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](67,"input",37,38),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](69,"div",28),c["\u0275\u0275elementStart"](70,"div",21),c["\u0275\u0275elementStart"](71,"label",39),c["\u0275\u0275text"](72),c["\u0275\u0275pipe"](73,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](74,"input",40,41),c["\u0275\u0275listener"]("ngModelChange",function(t){c["\u0275\u0275restoreView"](e);const n=c["\u0275\u0275nextContext"]();return n._Receipt.entry_date=t,n.ChangePropFinish("EntryDate",2)}),c["\u0275\u0275pipe"](76,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](77,"div",28),c["\u0275\u0275elementStart"](78,"div",21),c["\u0275\u0275elementStart"](79,"label",42),c["\u0275\u0275text"](80),c["\u0275\u0275pipe"](81,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](82,"input",43,44),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.entry_time=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](84,"div",2),c["\u0275\u0275elementStart"](85,"div",28),c["\u0275\u0275elementStart"](86,"div",21),c["\u0275\u0275elementStart"](87,"label",45),c["\u0275\u0275text"](88),c["\u0275\u0275pipe"](89,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](90,"input",46,47),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.reference_no=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](92,"div",28),c["\u0275\u0275elementStart"](93,"div",21),c["\u0275\u0275elementStart"](94,"label",48),c["\u0275\u0275text"](95),c["\u0275\u0275pipe"](96,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](97,"input",49,50),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.memo=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](99,"div",28),c["\u0275\u0275elementStart"](100,"div",21),c["\u0275\u0275elementStart"](101,"label",51),c["\u0275\u0275text"](102),c["\u0275\u0275pipe"](103,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](104,"input",52,53),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.expensesdistributionvoucherno=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](106,"div",54),c["\u0275\u0275elementStart"](107,"div",2),c["\u0275\u0275elementStart"](108,"div",55),c["\u0275\u0275elementStart"](109,"ul",56,57),c["\u0275\u0275listener"]("activeIdChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]().activeNav=t}),c["\u0275\u0275elementStart"](111,"li",58),c["\u0275\u0275elementStart"](112,"a",59),c["\u0275\u0275text"](113),c["\u0275\u0275pipe"](114,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](115,ru,75,65,"ng-template",60),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](116,"li",61),c["\u0275\u0275elementStart"](117,"a",59),c["\u0275\u0275text"](118),c["\u0275\u0275pipe"](119,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](120,ou,3,1,"ng-template",60),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](121,"div",62),c["\u0275\u0275elementStart"](122,"div",2),c["\u0275\u0275elementStart"](123,"div",63),c["\u0275\u0275elementStart"](124,"div",64),c["\u0275\u0275elementStart"](125,"table",65),c["\u0275\u0275elementStart"](126,"thead"),c["\u0275\u0275elementStart"](127,"tr"),c["\u0275\u0275element"](128,"th",66),c["\u0275\u0275elementStart"](129,"th",67),c["\u0275\u0275text"](130),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](131,"th",66),c["\u0275\u0275text"](132),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](133,"tbody"),c["\u0275\u0275elementStart"](134,"tr"),c["\u0275\u0275elementStart"](135,"td"),c["\u0275\u0275text"](136),c["\u0275\u0275pipe"](137,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](138,"td",68),c["\u0275\u0275elementStart"](139,"input",69),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](140,"td"),c["\u0275\u0275elementStart"](141,"input",70),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.netvalue=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](142,"tr"),c["\u0275\u0275elementStart"](143,"td"),c["\u0275\u0275text"](144),c["\u0275\u0275pipe"](145,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](146,"td",68),c["\u0275\u0275elementStart"](147,"input",71),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.totalproductioncostforeign=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](148,"td"),c["\u0275\u0275elementStart"](149,"input",72),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.totalproductioncost=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](150,"tr"),c["\u0275\u0275elementStart"](151,"td"),c["\u0275\u0275text"](152),c["\u0275\u0275pipe"](153,"translate"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](154,"td",68),c["\u0275\u0275elementStart"](155,"input",73),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.totalvouchercostforeign=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](156,"td"),c["\u0275\u0275elementStart"](157,"input",74),c["\u0275\u0275listener"]("ngModelChange",function(t){return c["\u0275\u0275restoreView"](e),c["\u0275\u0275nextContext"]()._Receipt.totalvouchercost=t}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](158,"div",75),c["\u0275\u0275template"](159,au,3,1,"div",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](160,"div"),c["\u0275\u0275template"](161,fu,37,21,"ng-template",null,76,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](163,wu,36,22,"ng-template",null,77,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementStart"](165,"ngx-spinner",78),c["\u0275\u0275elementStart"](166,"p",79),c["\u0275\u0275text"](167,"Loading..."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=c["\u0275\u0275reference"](3),t=c["\u0275\u0275reference"](39),n=c["\u0275\u0275reference"](51),i=c["\u0275\u0275reference"](75),r=c["\u0275\u0275reference"](110),o=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](9),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](10,79,"productionvoucher2"),""),c["\u0275\u0275advance"](4),c["\u0275\u0275attribute"]("disabled",o.VouchersLinkedCount>0||null!=o._Receipt.expensesdistributionvoucherno||1==o.ShowModeReceipt||1==o.DuringSaveDisable||o.ReceiptID>0&&!o.checkRoleParms(10147)||0==o.ReceiptID&&!o.checkRoleParms(10146)||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](15,81,"Save")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275attribute"]("disabled",!o.checkRoleParms(10146)||1==o.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](18,83,"CreateNew")," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",o.ReceiptID>0&&0==o.VouchersLinkedCount),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",o.ReceiptID>0),c["\u0275\u0275advance"](1),c["\u0275\u0275attribute"]("disabled",1==o.DuringSaveDisable||null),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](23,85,"Exit")," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",c["\u0275\u0275pipeBind1"](27,87,"Action Menu")," "),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",o.ReceiptID>0),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](35,89,"Branch")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",o._Receipt.branch_id)("ngClass",c["\u0275\u0275pureFunction2"](122,bh,t.invalid&&e.submitted,t.valid&&e.submitted)),c["\u0275\u0275attribute"]("disabled",o.ReceiptID>0||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf","ar"!=o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf","ar"==o.lang),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",o.BranchList)("ngForTrackBy",o.customTrackBy),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](47,91,"Entry#")),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("stepallow",1)("ngModel",o._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==o.LockedRecepit)("ngClass",c["\u0275\u0275pureFunction2"](125,bh,n.invalid&&e.submitted,n.valid&&e.submitted)),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](57,93,"Customer#")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.cashcustomer_vendor_code)("suggestions",o.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",c["\u0275\u0275pipeBind1"](60,95,"NoResultsFound"))("forceSelection",!0),c["\u0275\u0275advance"](7),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](66,97,"CustomerName")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.cashcustomer_vendor_name)("readonly",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](73,99,"Date")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind2"](76,101,o._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==(o.ReceiptID>0&&!o.checkRoleParms(10147))||null!=o._Receipt.expensesdistributionvoucherno||1==o.LockedRecepit)("ngClass",c["\u0275\u0275pureFunction2"](128,bh,i.invalid&&e.submitted||0==o.ValidPeriod,i.valid&&e.submitted)),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](81,104,"time")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("readonly",0==(null==o.CurrentUserSetting?null:o.CurrentUserSetting.controlvouchernumanddate)||o.VouchersLinkedCount>0||1==(o.ReceiptID>0&&!o.checkRoleParms(10147))||null!=o._Receipt.expensesdistributionvoucherno||1==o.LockedRecepit)("ngModel",o._Receipt.entry_time),c["\u0275\u0275advance"](6),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](89,106,"ReferenceNo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.reference_no),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](96,108,"Memo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.memo),c["\u0275\u0275advance"](5),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](103,110,"ExpensesDistributionVoucherNo")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.expensesdistributionvoucherno)("readonly",!0),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("destroyOnHide",!1)("activeId",o.activeNav),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngbNavItem",1),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](114,112,"Items")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavItem",3),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](119,114,"Signature")),c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngbNavOutlet",r),c["\u0275\u0275advance"](8),c["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"]("Total - ",null==o._CurrencySelected?null:o._CurrencySelected.currencysymbol,""),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("Total - ",null==o._BaseCurrency?null:o._BaseCurrency.currencysymbol,""),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](137,116,"TotalMaterialCost")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",o._Receipt.netvalueforeign)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.netvalue)("readonly",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](145,118,"TotalProductionCost")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",o._Receipt.totalproductioncostforeign)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.totalproductioncost)("readonly",!0),c["\u0275\u0275advance"](3),c["\u0275\u0275textInterpolate"](c["\u0275\u0275pipeBind1"](153,120,"TotalVoucherCost")),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("hidden",!o.ForeignCurrencyShow),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngModel",o._Receipt.totalvouchercostforeign)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngModel",o._Receipt.totalvouchercost)("readonly",!0),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",o.itemqtyview),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("fullScreen",!0)}}const Bu=function(){return[10145,10146,10147,10148]};let Du=(()=>{class e{constructor(e,t,n,i,r,o,a,s,c,l,d,p,m,h,u,g,_,C,f){this._cashsalesService=e,this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this.cd=r,this.toastr=o,this._router=a,this._generalService=s,this.translate=c,this._translateGlobalService=l,this._activeRoute=d,this.spinner=p,this._authService=m,this._printService=h,this._VerifyReportsService=u,this.datepipe=g,this.location=_,this._ProductionService=C,this.modalService=f,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.BasicCodeReceipt=20,this.Transaction_move=0,this._Receipt=new x.tY,this._ReceiptOriginal=new x.tY,this._Receipt_h_Edit=new x.Iu,this._ProductionDetailsReceipt=new x.hm,this.ItemsProductsList=new Array,this._LinkedReceipt=new x.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_Products=!1,this.BranchList=[],this.CustomerAccountsList=[],this.ReceiptCodeList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemOrginalUnitsList=[],this.ItemProductsUnitsList=[],this.reporturl="",this.reportdomainUrl=Ke.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.linkedreceiptid=0,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.LinkedVoucherIsPostedMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.NegativeBalancesMsg="",this.qtyZeroErrorSaveMsg="",this.NOProdcts="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopInventoryErrorMsg="",this.RelatedwithSerialsOrBatches="",this.ItemSelectedBefor="",this.productItselfMsg="",this.ProductQtyZeroError="",this.NoProductInItem="",this.InvalidPatchDate="",this.InValidQty="",this.InValidNumberOfBatch="",this.DublicateBatchMassage="",this.InValidQtyForBatch="",this.QtyIsValidWithAvailableQty="",this.totalProductsError="",this.timeout=null,this.itemqtyview=!1,this._itemstoreqtyobj=new x.I$,this._totalcost=0,this.BatchesAndSeialsList=[],this.selectedindex=0,this._batchqty=0,this.BatchesListForEatchRow=[],this.requiredserial=2,this.SelectedRowIndex=0,this.RowItem=null,d.params.subscribe(e=>{console.log("id",this.ReceiptID),this.ReceiptID=e.id,console.log("id",this.ReceiptID),this.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,this.LockedRecepit=this.ShowModeReceipt,this.subsidiaryID=this._generalService.SubsidiaryID,this.subsidiaryID>0&&this.SetInitialMethods(),this._UserLogin=this._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(e=>{0==this.subsidiaryID&&(this.subsidiaryID=this._generalService.SubsidiaryID,this.SetInitialMethods()),this.subsidiaryID!=this._generalService.SubsidiaryID&&this.subsidiaryID>0&&(this.subsidiaryID=this._generalService.SubsidiaryID,this._router.navigate(["/page/production/reverseproductionvoucher/0"]).then(()=>{window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(e=>{this.lang=e.lang,this.dir=e.dir,this.translate.use(e.lang),this.ngTransUnsubscribe=this.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","FinancialPeriodMsg","CloseFinancialPeriodMsg","Close","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","productionvoucher2",,"No","swalNewActionTitle","swalNewActionText","NOProdcts","StopInventoryErrorMsg","CostPostingPeriodMessage","LinkedVoucherIsPostedMsg","RelatedwithSerialsOrBatches","ItemSelectedBefor","productItselfMsg","NegativeBalancesMsg","qtyErrorMsg","ProductQtyZeroError","NoProductInItem","InValidQty","InValidNumberOfBatch","DublicateBatchMassage","InvalidPatchDate","InValidQtyForBatch","QtyIsValidWithAvailableQty","totalProductsError"]).subscribe(e=>{document.title=e.productionvoucher2,this.Cancel=e.Cancel,this.swalTitleEntry=e.swalTitleEntryno,this.swalTextEntry=e.swalEntrynoText,this.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,this.WarningInfoLost=e.WarningInfoLost,this.warning=e.warning,this.Yes=e.Yes,this.No=e.No,this.NOProdcts=e.NOProdcts,this.ItemSelectedBefor=e.ItemSelectedBefor,this.swalNewActionTitle=e.swalNewActionTitle,this.swalNewActionText=e.swalNewActionText,this.mailmsg=e.mailmsg,this.swalDeleteTitle=e.swalDeleteTitle,this.swalDetlateText=e.swalDetlateText,this.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,this.DeleteRelationmsg=e.DeleteRelationmsg,this.toastrSuccessDelete=e.successMsg,this.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,this.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,this.ReceiptNotFound=e.ReceiptNotFound,this.CustomerPricelistMsg=e.CustomerPricelistMsg,this.Receiptnoitems=e.Receiptnoitems,this.NoUnits=e.NoUnits,this.FinancialPeriodMsg=e.FinancialPeriodMsg,this.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,this.Close=e.Close,this.qtyErrorMsg=e.qtyErrorMsg,this.qtyErrorSaveMsg=e.qtyErrorSaveMsg,this.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,this.SaveMsg=e.SaveMsg,this.StopInventoryErrorMsg=e.StopInventoryErrorMsg,this.CostPostingPeriodMessage=e.CostPostingPeriodMessage,this.LinkedVoucherIsPostedMsg=e.LinkedVoucherIsPostedMsg,this.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,this.productItselfMsg=e.productItselfMsg,this.qtyErrorMsg=e.qtyErrorMsg,this.ProductQtyZeroError=e.ProductQtyZeroError,this.NoProductInItem=e.NoProductInItem,this.NegativeBalancesMsg=e.NegativeBalancesMsg,this.InValidQty=e.InValidQty,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.InValidNumberOfBatch=e.InValidNumberOfBatch,this.DublicateBatchMassage=e.DublicateBatchMassage,this.InvalidPatchDate=e.InvalidPatchDate,this.InValidQtyForBatch=e.InValidQtyForBatch,this.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,this.totalProductsError=e.totalProductsError})})}SetInitialMethods(){this._Receipt=new x.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}GetReceipt_AfterReceiptCode_InventroySettings(){let e=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),t=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Je.D)([e,t]).subscribe(([e,t])=>{this.ReceiptCodeList=e,this.InventorySetting=t,this.ReceiptCodeList.find(e=>e.code==this.BasicCodeReceipt),this.Transaction_move=-1,this.GetReceipt()})}GetReceipt(){if(this._Receipt.subsidiaryid=this.subsidiaryID,this._Receipt.id=this.ReceiptID,console.log("id",this.ReceiptID),0==this.ReceiptID||null==this.ReceiptID){console.log("id",this.ReceiptID),this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(()=>{this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt))},1e3)}else this._ProductionService.GetReceiptProductionAndDetailsByID(this.ReceiptID).subscribe(e=>{if(null!=e.receipt){this.VouchersLinkedCount=e.voucherslinkedcount.voucherslinkedcount,this._Receipt.id=e.receipt.id,this._Receipt.subsidiaryid=e.receipt.subsidiaryid,this._Receipt.code=e.receipt.code,this._Receipt.entry_no=e.receipt.entry_no,this._Receipt.branch_id=e.receipt.branch_id,this._Receipt.transaction_code=e.receipt.transaction_code,this._Receipt.customersalesprice=e.receipt.customersalesprice,this._Receipt.entry_date=this.datepipe.transform(e.receipt.entry_date,"yyyy-MM-dd"),this._Receipt.entry_time=e.receipt.entry_time,this._Receipt.reservedflag=e.receipt.reservedflag,this._Receipt.payment_type=e.receipt.payment_type,this._Receipt.vendor_id=e.receipt.vendor_id,this._Receipt.cashcustomerid=e.receipt.cashcustomerid,this._Receipt.cashcustomer_vendor_code={code:e.receipt.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.receipt.vendornamear:e.receipt.vendorname,this._Receipt.currency_id=e.receipt.currency_id,this._Receipt.currency_rate=e.receipt.currency_rate,this._Receipt.customerdeliverdate=this.datepipe.transform(e.receipt.customerdeliverdate,"yyyy-MM-dd"),this._Receipt.customerdeliverdate_time=e.receipt.customerdeliverdate_time,this._Receipt.ordertype=e.receipt.ordertype,this._Receipt.empoyee_id=e.receipt.empoyee_id,this._Receipt.memo=e.receipt.memo,this._Receipt.reference_no=e.receipt.reference_no,this._Receipt.salestypeid=e.receipt.salestypeid,this._Receipt.commisionaccountid=e.receipt.commisionaccountid,this._Receipt.commissiontype=e.receipt.commissiontype,this._Receipt.commission=e.receipt.commission,this._Receipt.commissionnet=e.receipt.commissionnet,this._Receipt.commisionaccountid1=e.receipt.commisionaccountid1,this._Receipt.commissiontype1=e.receipt.commissiontype1,this._Receipt.commission1=e.receipt.commission1,this._Receipt.commissionnet1=e.receipt.commissionnet1,this._Receipt.costcenterid=e.receipt.costcenterid,this._Receipt.classid=e.receipt.classid,this._Receipt.locationid=e.receipt.locationid,this._Receipt.departmentid=e.receipt.departmentid,this._Receipt.carid=e.receipt.carid,this._Receipt.driverid=e.receipt.driverid,this._Receipt.valueforeign=e.receipt.valueforeign,this._Receipt.value=e.receipt.value,this._Receipt.discount_foreignpercent=e.receipt.discount_foreignpercent,this._Receipt.discount_percent=e.receipt.discount_percent,this._Receipt.discount_foreignvalue=e.receipt.discount_foreignvalue,this._Receipt.discount_value=e.receipt.discount_value,this._Receipt.deliveryfeesforeign=e.receipt.deliveryfeesforeign,this._Receipt.deliveryfees=e.receipt.deliveryfees,this._Receipt.surchargevalueforeign=e.receipt.surchargevalueforeign,this._Receipt.surchargevalue=e.receipt.surchargevalue,this._Receipt.surchargepercent=e.receipt.surchargepercent,this._Receipt.netvalueforeign=e.receipt.netvalueforeign,this._Receipt.netvalue=e.receipt.netvalue,this._Receipt.signature=e.receipt.signature,this._Receipt.related_voucher_type=e.receipt.related_voucher_type,this._Receipt.related_voucher_code=e.receipt.related_voucher_code,this._Receipt.status_id=e.receipt.status_id,this._Receipt.approvalstatus_id=e.receipt.approvalstatus_id,this._Receipt.costing_rate=e.receipt.costing_rate,this._Receipt.approvedby_id=e.receipt.approvedby_id,this._Receipt.shipmentterm_id=e.receipt.shipmentterm_id,this._Receipt.paymentterm_id=e.receipt.paymentterm_id,this._Receipt.supplieraccount_id=e.receipt.supplieraccount_id,this._Receipt.planneddeliverydate=e.receipt.planneddeliverydate,this._Receipt.actualdeliverydate=e.receipt.actualdeliverydate,this._Receipt.deliverylocation=e.receipt.deliverylocation,this._Receipt.contactedperson=e.receipt.contactedperson,this._Receipt.othernotes=e.receipt.othernotes,this._Receipt.cashdrawerid=e.receipt.cashdrawerid,this._Receipt.leadid=e.receipt.leadid,this._Receipt.deliverynotes=e.receipt.deliverynotes,this._Receipt.cashcustomerdetailid=e.receipt.cashcustomerdetailid,this._Receipt.is_canceled=e.receipt.is_canceled,this._Receipt.fromstoreid=e.receipt.fromstoreid,this._Receipt.tostoreid=e.receipt.tostoreid,this._Receipt.isdeliveryprint=e.receipt.isdeliveryprint,this._Receipt.printcount=e.receipt.printcount,this._Receipt.iskitchendone=e.receipt.iskitchendone,this._Receipt.paidamount=e.receipt.paidamount,this._Receipt.isholded=e.receipt.isholded,this._Receipt.branchtableid=e.receipt.branchtableid,this._Receipt.customeractualdeliverdate=e.receipt.customeractualdeliverdate,this._Receipt.deliverystatusid=e.receipt.deliverystatusid,this._Receipt.deposite=e.receipt.deposite,this._Receipt.paymentandconditions=e.receipt.paymentandconditions,this._Receipt.notes=e.receipt.notes,this._Receipt.chefid=e.receipt.chefid,this._Receipt.changeamount=e.receipt.changeamount,this._Receipt.divisionid=e.receipt.divisionid,this._Receipt.courierid=e.receipt.courierid,this._Receipt.depositepaymenttypeid=e.receipt.depositepaymenttypeid,this._Receipt.creationdate=e.receipt.creationdate,this._Receipt.lastupdatedate=e.receipt.lastupdatedate,this._Receipt.createdbyid=e.receipt.createdbyid,this._Receipt.updatedbyid=e.receipt.updatedbyid,this._Receipt.receiptattributeid=e.receipt.receiptattributeid,this._Receipt.costposted=e.receipt.costposted,this._Receipt.lcaccountid=e.receipt.lcaccountid,this._Receipt.lcno=e.receipt.lcno,this._Receipt.lcbank=e.receipt.lcbank,this._Receipt.lcstartdate=e.receipt.lcstartdate,this._Receipt.lcenddate=e.receipt.lcenddate,this._Receipt.lcrenewdate=e.receipt.lcrenewdate,this._Receipt.lcrenewenddate=e.receipt.lcrenewenddate,this._Receipt.lcinsurancecompany=e.receipt.lcinsurancecompany,this._Receipt.lcpolicyno=e.receipt.lcpolicyno,this._Receipt.insurancedate=e.receipt.insurancedate,this._Receipt.gooddeliverydate=e.receipt.gooddeliverydate,this._Receipt.lccondition=e.receipt.lccondition,this._Receipt.shippingmethod=e.receipt.shippingmethod,this._Receipt.exportport=e.receipt.exportport,this._Receipt.shipname=e.receipt.shipname,this._Receipt.lcnotes=e.receipt.lcnotes,this._Receipt.quotationcustomername=e.receipt.quotationcustomername,this._Receipt.duedate=e.receipt.duedate,this._Receipt.schedule_date=e.receipt.schedule_date,this._Receipt.storetype=e.receipt.storetype,this._Receipt.quotationenddate=e.receipt.quotationenddate,this._Receipt.wostatusid=e.receipt.wostatusid,this._Receipt.parentreceiptid=e.receipt.parentreceiptid,this._Receipt.isapproved=e.receipt.isapproved,this._Receipt.replenshimenttype=e.receipt.replenshimenttype,this._Receipt.reference=e.receipt.reference,this._Receipt.replenshimentfromdate=e.receipt.replenshimentfromdate,this._Receipt.replenshimenttodate=e.receipt.replenshimenttodate,this._Receipt.cancelreasonid=e.receipt.cancelreasonid,this._Receipt.contractstartdate=e.receipt.contractstartdate,this._Receipt.contractenddate=e.receipt.contractenddate,this._Receipt.previouscontractid=e.receipt.previouscontractid,this._Receipt.erpstatus=e.receipt.erpstatus,this._Receipt.loyalitybalance=e.receipt.loyalitybalance,this._Receipt.cpno=e.receipt.cpno,this._Receipt.accounttype=e.receipt.accounttype,this._Receipt.printing=e.receipt.printing,this._Receipt.storedelivery=e.receipt.storedelivery,this._Receipt.customerrecieve=e.receipt.customerrecieve,this._Receipt.promotionid=e.receipt.promotionid,this._Receipt.promotionpercent=e.receipt.promotionpercent,this._Receipt.promotionvalue=e.receipt.promotionvalue,this._Receipt.purchaserequeststatusid=e.receipt.purchaserequeststatusid,this._Receipt.urgent=e.receipt.urgent,this._Receipt.quotationstatusid=e.receipt.quotationstatusid,this._Receipt.salesorderstatusid=e.receipt.salesorderstatusid,this._Receipt.purchaseorderstatusid=e.receipt.purchaseorderstatusid,this._Receipt.expensesdistributionvoucherno=e.receipt.expensesdistributionvoucherno,this._Receipt.totalproductioncost=e.receipt.totalproductioncost,this._Receipt.totalvouchercost=e.receipt.totalvouchercost,this._Receipt.totalproductioncostforeign=e.receipt.totalproductioncostforeign,this._Receipt.totalvouchercostforeign=e.receipt.totalvouchercostforeign,this._Receipt.taxvalue=e.receipt.taxvalue,this._Receipt.sourceid=e.receipt.sourceid,this._Receipt.contractid=e.receipt.contractid,this._Receipt.type_id=e.receipt.type_id,this._Receipt.productionlineid=e.receipt.productionlineid,this._Receipt.linescheduleddate=e.receipt.linescheduleddate,this._Receipt.inchargepersonname=e.receipt.inchargepersonname,this._Receipt.inchargephoneno=e.receipt.inchargephoneno,this._Receipt.details=e.items,this._Receipt.itemscomponent=e.itemcomponents,this.ItemUnitsList=e.itemunits,this.ItemOrginalUnitsList=e.itemunits,this.ItemProductsUnitsList=e.componentsunits,this._Receipt.linkedreceipts=e.linkedreceipts;for(let e=0;e<this._Receipt.details.length;e++)this._Receipt.details[e].storecode={code:this._Receipt.details[e].storecode},this._Receipt.details[e].itemcode={code:this._Receipt.details[e].itemcode},this._Receipt.details[e].indirectexpensesunit=this._Receipt.details[e].productionunitexpense,2!=this._Receipt.details[e].item_type&&(this._Receipt.details[e].price=Number((Number(this._Receipt.details[e].avgcost)*Number(this._Receipt.details[e].final_conv)).toFixed(this._Currencyprecision))),this._Receipt.details[e].total=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision)),this._Receipt.details[e].costdiff=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty-this._Receipt.details[e].defaultitemcost).toFixed(this._Currencyprecision)),this._Receipt.details[e].allowqtyselectforitem=!0;for(let e=0;e<this._Receipt.itemscomponent.length;e++){let t=this._Receipt.details.find(t=>t.id==this._Receipt.itemscomponent[e].finishedreceipt_did);this._Receipt.itemscomponent[e].storecode={code:this._Receipt.itemscomponent[e].storecode},this._Receipt.itemscomponent[e].itemcode={code:this._Receipt.itemscomponent[e].itemcode},this._Receipt.itemscomponent[e].parentrowno=t.rowno,this._Receipt.itemscomponent[e].qtydiff=this._Receipt.itemscomponent[e].qty-this._Receipt.itemscomponent[e].defaultitemqty,this._Receipt.itemscomponent[e].allowqtyselectforitem=!0,this._Receipt.itemscomponent[e].basicqtycomponent=this._Receipt.itemscomponent[e].defaultitemqty/t.qty,this._Receipt.itemscomponent[e].pricecostbasicqty=Number((this._Receipt.itemscomponent[e].price*this._Receipt.itemscomponent[e].basicqtycomponent).toFixed(this._Currencyprecision)),this._Receipt.itemscomponent[e].price=Number(this._Receipt.itemscomponent[e].price.toFixed(this._Currencyprecision)),this._Receipt.itemscomponent[e].total=Number((this._Receipt.itemscomponent[e].price*this._Receipt.itemscomponent[e].qty).toFixed(this._Currencyprecision))}this._Receipt.netvalue=Number(e.receipt.netvalue.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=Number(e.receipt.netvalueforeign.toFixed(this._Currencyprecision)),this._Receipt.value=this._Receipt.netvalue,this._Receipt.valueforeign=this._Receipt.netvalueforeign,this._Receipt.totalproductioncost=Number(e.receipt.totalproductioncost.toFixed(this._Currencyprecision)),this._Receipt.totalproductioncostforeign=Number(e.receipt.totalproductioncostforeign.toFixed(this._Currencyprecision)),this._Receipt.totalvouchercost=Number(e.receipt.totalvouchercost.toFixed(this._Currencyprecision)),this._Receipt.totalvouchercostforeign=Number(e.receipt.totalvouchercostforeign.toFixed(this._Currencyprecision)),this._Receipt.details.map(t=>{t.batcheslist=new Array;let n=e.batchesinitemscomponent.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),this._Receipt.itemscomponent.map(t=>{t.batcheslist=new Array;let n=e.batchesinitems.filter(e=>e.inv_receipt_d_id==t.id);t.batcheslist=[...n]}),this._ReceiptOriginal=JSON.parse(JSON.stringify(this._Receipt)),this.entry_no=this._Receipt.entry_no,this.VouchersLinkedCount>0?(this.ShowModeReceipt=!0,this.ShowPopUpLinkedVoucherIsPosted()):null!=this._Receipt.expensesdistributionvoucherno?this.ShowModeReceipt=!0:1==!this.ShowModeReceipt&&this.CheckValidDateBySubsidaryID(),this._CurrencySelected=this.CurrencyList.find(e=>e.id==this._Receipt.currency_id),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.OnSelectedItem(this._Receipt.details[0],0,"selected"),this.cd.markForCheck()}})}GetCurrentUserSetting(){this._ReceiptSharedService.GetCurrentUserSetting().subscribe(e=>{this.CurrentUserSetting=e})}GetBranchList(){this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(e=>{this.BranchList=e,this.cd.markForCheck()})}changeBranch(e){if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)We().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{if(t.value){this._Receipt.details=new Array,this._Receipt.itemscomponent=new Array,this._Receipt.linkedreceipts=new Array,this.ItemUnitsList=[],this.ItemProductsUnitsList=[],this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch(!0)):this._Receipt.entry_no=null}else{let e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&(this._Receipt.branch_id="null"==e.branchId||0==e.branchId?null:e.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;let t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}GetCashCustomerSettings(){this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(e=>{null!=e||null!=e?(this.CashCustomerSetting=e,this.CashCustomerSetting.allowdecimalpack=1==this.CashCustomerSetting.allowdecimalpack?".01":"1"):this.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},this.cd.markForCheck()})}GetAllInventroySettingsBySubSidary(){this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(e=>{this.InventorySetting=e,this.cd.markForCheck()})}GetCurrencyList(){this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(e=>{var t;e.length>0&&(this.CurrencyList=e,this._BaseCurrency=this.CurrencyList.find(e=>1==e.basecurrency),this._CurrencySelected=this._BaseCurrency,this._Currencyprecision=null!==(t=this._BaseCurrency.currencyprecision)&&void 0!==t?t:3,this._Receipt.currency_id=this._CurrencySelected.id,this._Receipt.currency_rate=Number(1..toFixed(9)),this.cd.markForCheck())})}changeCurrency(e){if(this._CurrencySelected=this.CurrencyList.find(t=>t.id==e.target.value),null!=this._CurrencySelected){let e;e=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,e,0).subscribe(e=>{this._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),this.ForeignCurrencyShow=1!=this._CurrencySelected.basecurrency,this.cd.markForCheck()})}else this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck()}GetReceiptEntryCode(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.cd.markForCheck()})}CheckEntryCode(){this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(e=>{this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e&&We().fire({title:this.swalTitleEntry,text:this.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalConfirmButtonEntry,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(t=>{t.value?this._router.navigate(["/page/production/reverseproductionvoucher/"+e.id]).then(()=>{}):(this._Receipt.entry_no=this.entry_no,this.cd.markForCheck())})})}ChangePropFinish(e="",t=1){this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,"EntryCode"==e?this.CheckEntryCode():"EntryDate"==e&&this.ChangeEntryDate()},1e3*t)}ChangeEntryDate(){null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date?this.CheckValidDateBySubsidaryID():(this.DuringSaveDisable=!1,this.cd.markForCheck())}CheckValidDateBySubsidaryID(){this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=e||null!=e){if(null!=e||null!=e){let t=Date.parse(e.subsidarystart.toString()),n=Date.parse(this._Receipt.entry_date.toString());0==e.openperiod?(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod("close")):1==e.openperiod&&t<n?(this.ValidPeriod=!0,this.ShowModeReceipt=!1,this.cd.markForCheck(),this.GetMaxCostPostedSerDate()):(this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod())}}else this.ValidPeriod=!1,this.ShowModeReceipt=!0,this.ShowPopUpFinancialPeriod();this.cd.markForCheck()})}ShowPopUpFinancialPeriod(e=""){let t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;We().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpCostPostedSerDate(){We().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}ShowPopUpLinkedVoucherIsPosted(){We().fire({title:this.warning,text:this.LinkedVoucherIsPostedMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(e=>{})}GetDefaultStoreCostCenterByBranch(e=!1){1==e&&this.Calculate_Total_Cost(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(e=>{if(this.StoreCostCenterSetting=e.length>0?e[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=this.StoreCostCenterSetting.storeid){if(0==this._Receipt.details.length){this._ProductionDetailsReceipt=new x.hm,this._ProductionDetailsReceipt.transaction_move=-1;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._ProductionDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._ProductionDetailsReceipt),this._Receipt.details[0].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[0].storecode={code:this.StoreCostCenterSetting.storecode}}this._Receipt.details.length>0&&(this._Receipt.details.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this._Receipt.itemscomponent.forEach(e=>{e.store_id=this.StoreCostCenterSetting.storeid,e.storecode={code:this.StoreCostCenterSetting.storecode}}),this.CheckBalanceForAllItemsProductsInStore(0))}this.cd.markForCheck()})}onFocusInCustomerAccounts(e){this.GetCustomerAccountsList("")}CustomerAccountsChangeSearch(e){this.GetCustomerAccountsList(e.query.trim())}CustomerAccountsSelectEvent(e){this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar}GetCustomerAccountsList(e=""){this._CustomerService.CustomerAccountsList(this.subsidiaryID,e).subscribe(e=>{this.CustomerAccountsList=[],this.CustomerAccountsList=e,this.cd.markForCheck()})}onClearCustomer(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_id=null}AddItems(e=1){let t=new x.hm;if(this._Receipt.details.length>0?(t.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,t.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id?(t.store_id=this.StoreCostCenterSetting.storeid,t.storecode={code:this.StoreCostCenterSetting.storecode}):(t.store_id=this._ReceiptOriginal.details[0].store_id,t.storecode=this._ReceiptOriginal.details[0].storecode),1==e){t.transaction_move=-1;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);t.rowno=e+1,this._Receipt.details.push(t)}else{t.transaction_move=1,t.updatefromproc=-1;let e=Math.max(...this._Receipt.itemscomponent.map(e=>e.rowno),0);t.rowno=e+1,t.parentrowno=this.SelectedItem.rowno,this._Receipt.itemscomponent.push(t),this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent))}this.cd.markForCheck()}onFocusInStore(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}StoreChangeSearch(e){this.GetStoreList(e.query.trim())}StoreSelectEvent(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e}),this.CheckBalanceForAllItemsProductsInStore(0)}GetStoreList(e=""){this._ReceiptSharedService.GetStoreList(this.subsidiaryID,e).subscribe(e=>{this.StoreList=[],this.StoreList=e,console.log(this.StoreList,"  this.StoreList"),this.cd.markForCheck()})}onFocusInStoreProducts(e){this.GetStoreList("")}StoreProductsSelectEvent(e){this._Receipt.details.forEach(t=>{t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(t=>{t.store_id=e.id,t.storecode=e,console.log(t)}),this.cd.markForCheck(),this.CheckBalanceForAllItemsProductsInStore(0)}onClearStoreProducts(e){let t;t=this._Receipt.itemscomponent.findIndex(null==e.id?t=>t.rowno==e.rowno:t=>t.id==e.id),this._Receipt.itemscomponent[t].store_id=null,this._Receipt.itemscomponent[t].storecode=null}onFocusInItems(e,t){this.GetItemsList("")}ItemsChangeSearch(e,t){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsList(e.query.trim())},300)}GetItemsList(e=""){this._ProductionService.GetItemsDataListProduction2(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}ItemsSelectEvent(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?0==this._Receipt.details.filter(t=>t.item_id==e.id).length?(t==this._Receipt.details.length-1&&this.AddItems(),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this.ResetRow(t),this.toastr.error(this.ItemSelectedBefor)):(this.ResetRow(t),this.toastr.error(this.StopInventoryErrorMsg))}ResetRow(e){this._Receipt.details.splice(e,1),setTimeout(()=>{this.AddItems()},0)}onClearItems(e){let t=this._Receipt.details[e];this._Receipt.itemscomponent.length>0&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno)),this._Receipt.details[e].id=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].conv=1,this._Receipt.details[e].final_conv=1,this._Receipt.details[e].qty=1,this._Receipt.details[e].price=0,this._Receipt.details[e].discount_percent=0,this._Receipt.details[e].discount_value=0,this._Receipt.details[e].total=0,this._Receipt.details[e].defaultitemcost=0,this._Receipt.details[e].costdiff=0,this._Receipt.details[e].productionunitexpense=0,this._Receipt.details[e].productionqtyexpense=0,this._Receipt.details[e].indirectexpensesunit=0,this._Receipt.details[e].unit_id=null;let n=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[e].rowno=n+1}GetItemDataDetailsLists(e,t){this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].defaultitemcost=0,this._Receipt.details[t].costdiff=0,this._Receipt.details[t].productionunitexpense=0,this._Receipt.details[t].productionqtyexpense=0,this._Receipt.details[t].indirectexpensesunit=0,this._Receipt.details[t].unit_id=null,this._ProductionService.GetFinishItemProductDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{if(0==n.itemunits.length){this._Receipt.details[t]=new x.hm,this._Receipt.details[t].isrequireserial=n.item.isrequireserial;let e=Math.max(...this._Receipt.details.map(e=>e.rowno),0);this._Receipt.details[t].rowno=e+1,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits)}else this._Receipt.details[t].isrequireserial=n.item.isrequireserial,this._Receipt.details[t].notes=n.item.notes,this._Receipt.details[t].item_type=n.item.item_type,this._Receipt.details[t].indirectexpensesunit=n.item.indirectexpensesunit,this._Receipt.details[t].productionunitexpense=this._Receipt.details[t].indirectexpensesunit,this._Receipt.details[t].productionqtyexpense=Number((this._Receipt.details[t].productionunitexpense*this._Receipt.details[t].qty).toFixed(this._Currencyprecision)),this.ItemUnitsList.length>0?0==this.ItemUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits)):this.ItemUnitsList=this.ItemUnitsList.concat(n.itemunits),this._Receipt.details[t].unit_id=n.item.inventory_unit,this.ChangeItemUnits(n.item.inventory_unit,t),n.itemcomponents.length>0?(n.componentsunits.length>0&&(this.ItemProductsUnitsList=this.ItemProductsUnitsList.concat(n.componentsunits)),n.itemcomponents.forEach(e=>{let n=new x.hm;n.isrequireserial=e.isrequireserial,n.item_id=e.itemproductid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode={code:e.itemcode},n.unit_id=e.itemproductunitid,n.qty=e.itemproductqty,n.priceincreasepercentage=e.costratio.toFixed(2),n.defaultitemqty=e.itemproductqty,n.qtydiff=0,n.basicqtycomponent=e.itemproductqty;let i=this.ItemProductsUnitsList.filter(e=>e.item_id==n.item_id&&e.id==n.unit_id);n.conv=i[0].conv,n.price=0,n.total=Number((n.price*n.qty).toFixed(this._Currencyprecision)),n.store_id=this._Receipt.details[t].store_id,n.transaction_move=1,n.updatefromproc=-1,n.item_type=e.item_type,n.storecode=null!=this._Receipt.details[t].storecode?this._Receipt.details[t].storecode:null,n.parentrowno=this._Receipt.details[t].rowno;let r=Math.max(...this._Receipt.itemscomponent.map(e=>e.rowno),0);n.rowno=r+1,this._Receipt.itemscomponent.push(n)}),this.GetItemProductss_CostPrice(this._Receipt.details[t].rowno)):(this.toastr.error(this.NOProdcts),this.OnSelectedItem(this._Receipt.details[t],t),this.CalaculteItemsCostPriceRow(t));this.cd.markForCheck()})}ChangeItemUnits(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());let n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(t=>t.item_id==n&&t.id==e);this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.cd.markForCheck(),this.CheckBalanceForItemProductsInStore(t)}OnSelectedItem(e=null,t=null,n="",i=!1){console.log(e,"SelectedItem"),this.show_all_Products=i,this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),0==this.show_all_Products?(this.SelectedItem=e,console.log(this.SelectedItem)):(this.show_all_Products=!0,this.cd.markForCheck()),this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemProductssInStore(t,0)}ChangeQty(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=this._Receipt.details[e];this._Receipt.itemscomponent.filter(t=>t.parentrowno==this._Receipt.details[e].rowno).forEach(t=>{t.qty=Number((t.basicqtycomponent*this._Receipt.details[e].qty).toFixed(this._Currencyprecision)),t.defaultitemqty=Number((t.basicqtycomponent*this._Receipt.details[e].qty).toFixed(this._Currencyprecision)),t.qtydiff=Number((t.qty-t.defaultitemqty).toFixed(this._Currencyprecision))}),this._Receipt.details[e].productionqtyexpense=Number((this._Receipt.details[e].productionunitexpense*this._Receipt.details[e].qty).toFixed(this._Currencyprecision)),this.CalaculteItemsCostPriceRow(e),this.OnSelectedItem(t,e),this.CheckBalanceForItemProductsInStore(e),this.cd.markForCheck()},500)}DeleteItems(e){this.itemqtyview=!1;let t=this._Receipt.details[e];this._Receipt.itemscomponent.length>0&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>e.parentrowno!=t.rowno)),this.ItemUnitsList=this.ItemUnitsList.filter(e=>e.item_id!=t.item_id),this._Receipt.details.splice(e,1),0==this._Receipt.details.length?(this._Receipt.netvalue=0,this._Receipt.netvalueforeign=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.totalproductioncost=0,this._Receipt.totalproductioncostforeign=0,this._Receipt.totalvouchercost=0,this._Receipt.totalvouchercostforeign=0):this.Calculate_Total_Cost(),this.OnSelectedItem(null),this.cd.markForCheck()}onFocusInItemsProducts(e){this.GetItemsProductsList("")}ItemsProductsChangeSearch(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,this.GetItemsProductsList(e.query.trim())},300)}GetItemsProductsList(e=""){this._ProductionService.GetItemsDataListProductionComponent(this.subsidiaryID,e).subscribe(e=>{this.ItemsList=[],this.ItemsList=e,this.cd.markForCheck()})}onClearItemsProducts(e){let t=this._Receipt.itemscomponent.findIndex(t=>t.rowno==e.rowno);this._Receipt.itemscomponent[t].id=null,this._Receipt.itemscomponent[t].item_id=null,this._Receipt.itemscomponent[t].itemname=null,this._Receipt.itemscomponent[t].itemname_ar=null,this._Receipt.itemscomponent[t].finishedproductid=null,this._Receipt.itemscomponent[t].finishedreceipt_did=null,this._Receipt.itemscomponent[t].conv=1,this._Receipt.itemscomponent[t].final_conv=1,this._Receipt.itemscomponent[t].qty=1,this._Receipt.itemscomponent[t].price=0,this._Receipt.itemscomponent[t].discount_percent=0,this._Receipt.itemscomponent[t].discount_value=0,this._Receipt.itemscomponent[t].total=0,this._Receipt.itemscomponent[t].defaultitemcost=0,this._Receipt.itemscomponent[t].costdiff=0,this._Receipt.itemscomponent[t].productionunitexpense=0,this._Receipt.itemscomponent[t].productionqtyexpense=0,this._Receipt.itemscomponent[t].indirectexpensesunit=0,this._Receipt.itemscomponent[t].unit_id=null,this._Receipt.itemscomponent[t].defaultitemqty=0,this._Receipt.itemscomponent[t].qtydiff=0;let n=Math.max(...this._Receipt.itemscomponent.map(e=>e.rowno),0);this._Receipt.itemscomponent[t].rowno=n+1}ItemsProductsSelectEvent(e,t){let n=this._Receipt.itemscomponent.findIndex(e=>e.rowno==t.rowno);null!=this._Receipt.itemscomponent[n].item_id&&this.onClearItemsProducts(t);let i=this._Receipt.details.find(e=>e.rowno==this._Receipt.itemscomponent[n].parentrowno);if(e.id==i.item_id)return this._Receipt.itemscomponent[n]=new x.hm,this._Receipt.itemscomponent[n].transaction_move=1,this._Receipt.itemscomponent[n].updatefromproc=-1,0==this._Receipt.id?(this._Receipt.itemscomponent[n].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.itemscomponent[n].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.itemscomponent[n].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.itemscomponent[n].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.productItselfMsg),void this.cd.markForCheck();0==e.stopinventorytransactions?(this._Receipt.itemscomponent[n].item_id=e.id,this._Receipt.itemscomponent[n].itemname=e.name,this._Receipt.itemscomponent[n].itemname_ar=e.name_ar,this.GetItemDataProductssDetailsLists(e,n)):(this._Receipt.itemscomponent[n]=new x.hm,this._Receipt.itemscomponent[n].transaction_move=1,this._Receipt.itemscomponent[n].updatefromproc=-1,0==this._Receipt.id?(this._Receipt.itemscomponent[n].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.itemscomponent[n].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.itemscomponent[n].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.itemscomponent[n].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}GetItemDataProductssDetailsLists(e,t){this._Receipt.itemscomponent[t].id=null,this._Receipt.itemscomponent[t].finishedproductid=null,this._Receipt.itemscomponent[t].finishedreceipt_did=null,this._Receipt.itemscomponent[t].conv=1,this._Receipt.itemscomponent[t].final_conv=1,this._Receipt.itemscomponent[t].qty=1,this._Receipt.itemscomponent[t].price=0,this._Receipt.itemscomponent[t].discount_percent=0,this._Receipt.itemscomponent[t].discount_value=0,this._Receipt.itemscomponent[t].total=0,this._Receipt.itemscomponent[t].defaultitemcost=0,this._Receipt.itemscomponent[t].unit_id=null,this._Receipt.itemscomponent[t].defaultitemqty=0,this._Receipt.itemscomponent[t].qtydiff=0,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(n=>{if(0==n.itemunits.length)this._Receipt.itemscomponent[t]=new x.hm,this._Receipt.itemscomponent[t].transaction_move=1,this._Receipt.itemscomponent[t].updatefromproc=-1,0==this._Receipt.id?(this._Receipt.itemscomponent[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.itemscomponent[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.itemscomponent[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.itemscomponent[t].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.NoUnits);else{let i=this._Receipt.details.find(e=>e.rowno==this._Receipt.itemscomponent[t].parentrowno);this._Receipt.itemscomponent[t].notes=n.item.notes,this._Receipt.itemscomponent[t].item_type=n.item.item_type,this._Receipt.itemscomponent[t].qty=1*i.qty,this._Receipt.itemscomponent[t].defaultitemqty=0,this._Receipt.itemscomponent[t].qtydiff=Number((this._Receipt.itemscomponent[t].qty-this._Receipt.itemscomponent[t].defaultitemqty).toFixed(this._Currencyprecision)),this._Receipt.itemscomponent[t].basicqtycomponent=1,this.ItemProductsUnitsList.length>0?0==this.ItemProductsUnitsList.filter(t=>t.item_id==e.id).length&&(this.ItemProductsUnitsList=this.ItemProductsUnitsList.concat(n.itemunits)):this.ItemProductsUnitsList=this.ItemProductsUnitsList.concat(n.itemunits),this._Receipt.itemscomponent[t].unit_id=n.item.inventory_unit,this.ChangeItemProductssUnits(n.item.inventory_unit,this._Receipt.itemscomponent[t]),this.cd.markForCheck()}this.cd.markForCheck()})}ChangeItemProductssUnits(e,t){let n=this._Receipt.itemscomponent.findIndex(e=>e.rowno==t.rowno),i=this.ItemProductsUnitsList.find(n=>n.item_id==t.item_id&&n.id==e);this._Receipt.itemscomponent[n].conv=i.conv,this._Receipt.itemscomponent[n].final_conv=i.finalconv,this.GetItemProducts_CostPrice(n)}DeleteItemsProducts(e){let t=this._Receipt.itemscomponent.findIndex(t=>t.rowno==e.rowno),n=this._Receipt.itemscomponent[t];1==this._Receipt.itemscomponent.filter(e=>e.item_id==n.item_id).length&&(this.ItemProductsUnitsList=this.ItemProductsUnitsList.filter(e=>e.item_id!=n.item_id)),this._Receipt.itemscomponent.splice(t,1),this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent));let i=this._Receipt.details.findIndex(t=>t.rowno==e.parentrowno);this.CalaculteItemsCostPriceRow(i),this.cd.markForCheck()}ChangeQtyProducts(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null;let t=this._Receipt.itemscomponent.findIndex(t=>t.rowno==e.rowno);this._Receipt.itemscomponent[t].qtydiff=Number((this._Receipt.itemscomponent[t].qty-this._Receipt.itemscomponent[t].defaultitemqty).toFixed(this._Currencyprecision)),this._Receipt.itemscomponent[t].total=Number((this._Receipt.itemscomponent[t].price*this._Receipt.itemscomponent[t].qty).toFixed(this._Currencyprecision));let n=this._Receipt.details.findIndex(t=>t.rowno==e.parentrowno);this.CalaculteItemsCostPriceRow(n),this.cd.markForCheck()},2e3)}CalaculteValuesItemsRow(e,t,n="percent"){let i=this._Receipt.details.findIndex(t=>t.rowno==e);this._Receipt.details[i].price=Number(this._Receipt.details[i].price)||0,"percent"==n&&(t.pricecostbasicqty=Number((this._Receipt.details[i].price*(t.priceincreasepercentage/100)*t.conv).toFixed(this._Currencyprecision)),t.price=Number((t.pricecostbasicqty/t.basicqtycomponent*t.conv).toFixed(this._Currencyprecision))),"value"==n&&(t.pricecostbasicqty=Number((t.price*t.basicqtycomponent/t.conv).toFixed(this._Currencyprecision)),t.priceincreasepercentage=(100*(t.pricecostbasicqty/(this._Receipt.details[i].price*t.conv)%(1/0)||0)).toFixed(2)),t.total=Number((t.price*t.qty).toFixed(this._Currencyprecision)),this.OnSelectedItem(this._Receipt.details[i],i),this.CalaculteItemsCostPriceRow(i),this.cd.markForCheck()}GetItemProductss_CostPrice(e,t=0){let n=0;this._Receipt.itemscomponent.filter(t=>t.parentrowno==e).forEach(e=>{n+=e.qty*e.priceincreasepercentage});let i,r=this._Receipt.itemscomponent.filter(t=>t.parentrowno==e),o=this._Receipt.details.find(t=>t.rowno==e),a=r[t],s=this._Receipt.details.findIndex(t=>t.rowno==e);i=2!=a.item_type?this._ReceiptSharedService.GetItemCostAtDateStoreconv(o.item_id,o.unit_id,o.conv,o.store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time):this._ProductionService.GetServiceItemCost(this._Receipt.subsidiaryid,o.item_id),(0,Je.D)([i]).subscribe(([i])=>{let a=i;a.length>0?(o.price=Number(a[0].avgcost.toFixed(this._Currencyprecision)),o.defaultitemcost=Number(a[0].avgcost.toFixed(this._Currencyprecision))):(o.price=0,o.defaultitemcost=0),o.total=Number((o.price*o.qty).toFixed(this._Currencyprecision)),Number((o.total/n).toFixed(this._Currencyprecision));let c=0;for(var l of r)l.pricecostbasicqty=Number((o.price*(l.priceincreasepercentage/100)*l.conv).toFixed(this._Currencyprecision)),l.price=Number((l.pricecostbasicqty/l.basicqtycomponent*l.conv).toFixed(this._Currencyprecision)),l.total=Number((l.price*l.qty).toFixed(this._Currencyprecision)),c+=l.total;this.cd.markForCheck(),t+1<r.length?this.GetItemProductss_CostPrice(e,t+1):(this._Receipt.details[s].defaultitemcost=Number(this._Receipt.details[s].defaultitemcost),this.OnSelectedItem(this._Receipt.details[s],s),this.CalaculteItemsCostPriceRow(s))})}GetItemProducts_CostPrice(e){let t=this._Receipt.details.findIndex(t=>t.rowno==this._Receipt.itemscomponent[e].parentrowno);this.CalaculteItemsCostPriceRow(t),this.cd.markForCheck()}CalaculteItemsCostPriceRow(e){this._Receipt.details[e].total=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision)),this._Receipt.itemscomponent.filter(t=>t.parentrowno==this._Receipt.details[e].rowno).forEach(e=>{e.total=Number((e.price*e.qty).toFixed(this._Currencyprecision))}),this._Receipt.details[e].discount_percent=0,this._Receipt.details[e].discount_value=0,this._Receipt.details[e].costdiff=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty-this._Receipt.details[e].defaultitemcost).toFixed(this._Currencyprecision)),this.Calculate_Total_Cost()}Calculate_Total_Cost(){let e=0,t=0,n=0;this._Receipt.itemscomponent.forEach(n=>{e+=n.total,t+=n.productionqtyexpense}),n=e+t,this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=this._Receipt.netvalue,this._Receipt.valueforeign=this._Receipt.netvalueforeign,this._Receipt.totalproductioncost=Number(t.toFixed(this._Currencyprecision)),this._Receipt.totalproductioncostforeign=Number(t.toFixed(this._Currencyprecision)),this._Receipt.totalvouchercost=Number(n.toFixed(this._Currencyprecision)),this._Receipt.totalvouchercostforeign=Number(n.toFixed(this._Currencyprecision)),this.cd.markForCheck()}OnSignatureSet(e){this._Receipt.signature=e.signature}StockBalances(e=null,t=1){1==t?null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new x.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new x.I$):3!=e.item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new x.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,this._itemstoreqtyobj.Unit_ID=e.unit_id,this._itemstoreqtyobj.conv=e.conv,this._itemstoreqtyobj.itemid=e.item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new x.I$)}CheckBalanceForAllItemsProductsInStore(e=0,t=!1){let n=!0,i=new x.I$;null!=this._Receipt.details[e].item_id&&2!=this._Receipt.details[e].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid?(i.ReceiptCode=this.BasicCodeReceipt,i.BranchID=this._Receipt.branch_id,i.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,i.subsidairyid=this.subsidiaryID,i.ReceiptID=this._Receipt.id,i.Qty=0,i.Unit_ID=this._Receipt.details[e].unit_id,i.conv=this._Receipt.details[e].conv,i.itemid=this._Receipt.details[e].item_id,i.StoreID=this._Receipt.details[e].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(i).subscribe(i=>{let r=0,o=0,a=0;0==i.consignment.consignment&&void 0!==i.totalqty.totalqty&&(r=i.totalqty.totalqty,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;o=parseFloat(o.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),a=r-o,n=a>=0,0==n?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+r)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck()),e+1<this._Receipt.details.length?this.CheckBalanceForAllItemsProductsInStore(e+1,t):1==t&&this.SaveReceipt())})):e+1<this._Receipt.details.length?this.CheckBalanceForAllItemsProductsInStore(e+1,t):1==t&&this.SaveReceipt()}CheckBalanceForItemProductssInStore(e,t=0){let n=!0,i=new x.I$;null!=this._Receipt.details[e].item_id&&null!=this._Receipt.details[e].item_id&&2!=this._Receipt.details[e].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid?(i.ReceiptCode=this.BasicCodeReceipt,i.BranchID=this._Receipt.branch_id,i.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,i.subsidairyid=this.subsidiaryID,i.ReceiptID=this._Receipt.id,i.Qty=0,i.Unit_ID=this._Receipt.details[e].unit_id,i.conv=this._Receipt.details[e].conv,i.itemid=this._Receipt.details[e].item_id,i.StoreID=this._Receipt.details[e].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(i).subscribe(i=>{let r=0,o=0,a=0;0==i.consignment.consignment&&(null!=i.totalqty.totalqty?(r=i.totalqty.totalqty,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;o=parseFloat(o.toString())+n*(r/i)*parseFloat(e.qty.toString())}}),a=r-o,n=a>=0,0==n?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+r)):this._Receipt.details[e].allowqtyselectforitem=!0,e+1<this._Receipt.details.length&&this.CheckBalanceForItemProductssInStore(e+1,t+1)):(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+0)))})):e+1<this._Receipt.details.length&&this.CheckBalanceForItemProductssInStore(e+1,t)}CheckBalanceForItemProductsInStore(e){let t=!0,n=new x.I$;null!=this._Receipt.details[e].item_id&&2!=this._Receipt.details[e].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid&&(n.ReceiptCode=this.BasicCodeReceipt,n.BranchID=this._Receipt.branch_id,n.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,n.subsidairyid=this.subsidiaryID,n.ReceiptID=this._Receipt.id,n.Qty=0,n.Unit_ID=this._Receipt.details[e].unit_id,n.conv=this._Receipt.details[e].conv,n.itemid=this._Receipt.details[e].item_id,n.StoreID=this._Receipt.details[e].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(n).subscribe(n=>{let i=0,r=0,o=0;0==n.consignment.consignment&&null!=n.totalqty.totalqty&&(i=n.totalqty.totalqty,this._Receipt.details.filter(t=>t.item_id==this._Receipt.details[e].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,o=e.conv;r=parseFloat(r.toString())+n*(o/i)*parseFloat(e.qty.toString())}}),o=i-r,t=o>=0,0==t?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.qtyErrorMsg+i)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck()))}))}CheckBalanceForItemInStoreBeforeDelete(e,t=!1){var n;if(this._ReceiptOriginal.itemscomponent.length>0){let i=!0,r=new x.I$;if(null!=this._ReceiptOriginal.itemscomponent[e].item_id){r.ReceiptCode=this.BasicCodeReceipt,r.BranchID=this._ReceiptOriginal.branch_id,r.Entrydate=this._ReceiptOriginal.entry_date,r.Unit_ID=this._ReceiptOriginal.itemscomponent[e].unit_id,r.conv=this._ReceiptOriginal.itemscomponent[e].conv,r.Qty=0,r.itemid=this._ReceiptOriginal.itemscomponent[e].item_id,r.StoreID=this._ReceiptOriginal.itemscomponent[e].store_id,r.subsidairyid=this.subsidiaryID,r.ReceiptID=this._ReceiptOriginal.id;let o=null!==(n=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==n?n:-1,a=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._ReceiptOriginal.itemscomponent[e].item_type&&3!=this._ReceiptOriginal.itemscomponent[e].item_type&&1==o&&this._ReceiptOriginal.itemscomponent[e].id>0&&1==a?this._ReceiptSharedService.CheckBalanceForItemInStoreBeforeDelete(r).subscribe(n=>{let r=0,o=0,a=0;null!=n.totalqty.totalqty?(r=n.totalqty.totalqty,this._ReceiptOriginal.itemscomponent.filter(t=>t.item_id==this._ReceiptOriginal.itemscomponent[e].item_id).forEach(e=>{if(e.id>0){let t=this.ItemProductsUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;o=parseFloat(o.toString())+n*(r/i)*parseFloat(e.qty.toString())}}}),a=r-o,i=a>=0):i=!1,0==i?this.toastr.error(this.NegativeBalancesMsg):1==t&&e+1<this._ReceiptOriginal.itemscomponent.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}):1==t&&e+1<this._ReceiptOriginal.itemscomponent.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else 1==t&&e+1<this._ReceiptOriginal.itemscomponent.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else this.DeleteAction()}CheckPre_SaveReceipt(e){if(e.form.valid){if(0==this.ValidPeriod)return void this.ShowPopUpFinancialPeriod();if(this._Receipt.details=this._Receipt.details.filter(e=>null!=e.item_id),this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(e=>null!=e.item_id),0==this._Receipt.details.length||1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(let e=0;e<this._Receipt.details.length;e++){let n=0;var t=this._Receipt.itemscomponent.filter(t=>t.parentrowno==this._Receipt.details[e].rowno);if(t.forEach(e=>{n+=e.qty}),this._Receipt.details[e].allowqtyselectforitem=0!=n,0==t.length)return void this.toastr.error(this.NoProductInItem)}if(this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return void this.toastr.error(this.ProductQtyZeroError);for(let e=0;e<this._Receipt.details.length;e++)if(this._Receipt.details[e].transaction_move=-1,this._Receipt.details[e].qty>0){0!=this._Receipt.value?(this._Receipt.details[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0,this._Receipt.details[e].h_discount_percentage=100*(this._Receipt.details[e].h_discount_value/(this._Receipt.details[e].total/this._Receipt.details[e].qty)%(1/0)||0)):(this._Receipt.details[e].h_discount_value=0,this._Receipt.details[e].h_discount_percentage=0);{let t=this.ItemUnitsList.find(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._Receipt.details[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.details[e].conv/t.conv):this._Receipt.details[e].conv,this._Receipt.details[e].final_conv=0==this._Receipt.details[e].final_conv?1:this._Receipt.details[e].final_conv}}for(let e=0;e<this._Receipt.itemscomponent.length;e++)if(this._Receipt.itemscomponent[e].transaction_move=1,this._Receipt.itemscomponent[e].updatefromproc=-1,this._Receipt.itemscomponent[e].qty>0){0!=this._Receipt.value?(this._Receipt.itemscomponent[e].h_discount_value=this._Receipt.discount_percent/100*this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty%(1/0)||0,this._Receipt.itemscomponent[e].h_discount_percentage=100*(this._Receipt.itemscomponent[e].h_discount_value/(this._Receipt.itemscomponent[e].total/this._Receipt.itemscomponent[e].qty)%(1/0)||0)):(this._Receipt.itemscomponent[e].h_discount_value=0,this._Receipt.itemscomponent[e].h_discount_percentage=0);{let t=this.ItemProductsUnitsList.find(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._Receipt.itemscomponent[e].final_conv=null!=t?(null!=t.finalconv?t.finalconv:1)*(this._Receipt.itemscomponent[e].conv/t.conv):this._Receipt.itemscomponent[e].conv,this._Receipt.itemscomponent[e].final_conv=0==this._Receipt.itemscomponent[e].final_conv?1:this._Receipt.itemscomponent[e].final_conv}}else 0==this._Receipt.itemscomponent[e].qty&&0==this._Receipt.itemscomponent[e].defaultitemqty&&(this._Receipt.itemscomponent.splice(e,1),e--,this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)));this.CheckBalanceForAllItemsProductsInStore(0,!0)}}SaveReceipt(){if(this.DuringSaveDisable=!0,this._Receipt.details.filter(e=>0==e.allowqtyselectforitem).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.PreFinalSave()}PreFinalSave(){var e;let t=!0;if(this._Receipt.id>0)for(let n=0;n<this._ReceiptOriginal.details.length;n++){const i=this._ReceiptOriginal.details[n];let r=this._Receipt.details.find(e=>e.item_id==i.item_id);if(null==r||null!=r&&r.qty<i.qty){let i=!0,o=new x.I$;if(null!=this._ReceiptOriginal.details[n].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._ReceiptOriginal.branch_id,o.Entrydate=this._ReceiptOriginal.entry_date,o.Unit_ID=this._ReceiptOriginal.details[n].unit_id,o.conv=this._ReceiptOriginal.details[n].conv,o.Qty=0,o.itemid=this._ReceiptOriginal.details[n].item_id,o.StoreID=this._ReceiptOriginal.details[n].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._ReceiptOriginal.id;let a=null!==(e=this.ReceiptCodeList.filter(e=>e.code==this.BasicCodeReceipt)[0].items)&&void 0!==e?e:-1,s=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._ReceiptOriginal.details[n].item_type&&3!=this._ReceiptOriginal.details[n].item_type&&1==a&&this._ReceiptOriginal.details[n].id>0&&1==s&&this._ReceiptSharedService.CheckBalanceForItemInStoreBeforeDelete(o).subscribe(e=>{let o=0,a=0,s=0;if(null!=e.totalqty.totalqty?(o=e.totalqty.totalqty,this._ReceiptOriginal.details.filter(e=>e.item_id==this._ReceiptOriginal.details[n].item_id).forEach(e=>{if(e.id>0){let t=this.ItemOrginalUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;a=parseFloat(a.toString())+n*(r/i)*parseFloat(e.qty.toString())}}}),null!=r&&(a=0,this._Receipt.details.filter(e=>e.item_id==this._ReceiptOriginal.details[n].item_id).forEach(e=>{let t=this.ItemUnitsList.find(t=>t.item_id==e.item_id&&t.id==e.unit_id);if(null!=t){let n=null!=t.finalconv?t.finalconv:1,i=null!=t.conv?t.conv:1,r=e.conv;a=parseFloat(a.toString())+n*(r/i)*parseFloat(e.qty.toString())}})),s=o-a,i=s>=0):i=!1,0==i)return t=!1,this.DuringSaveDisable=!1,this.cd.markForCheck(),this.toastr.error(this.NegativeBalancesMsg);n==this._ReceiptOriginal.details.length-1&&1==t&&this.CheckBatchesAndSerials()})}}else n==this._ReceiptOriginal.details.length-1&&1==t&&this.CheckBatchesAndSerials()}else this.CheckBatchesAndSerials()}CheckBatchesAndSerials(){this.BatchesAndSeialsList=[],console.log(this.BatchesAndSeialsList,"BatchesAndSeialsList");let e=this._Receipt.details.some(e=>3==e.isrequireserial),t=this._Receipt.itemscomponent.some(e=>3==e.isrequireserial);if(e&&1==this.CashCustomerSetting.salesreturneffect){let e=[];if(this._Receipt.details.forEach(t=>{3==t.isrequireserial&&(t.allowqtyselectforitem=!0,0==t.batcheslist.length?(t.allowqtyselectforitem=!1,e.push(!1)):0==t.validrow&&(t.allowqtyselectforitem=!1,e.push(!0)))}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),e.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(e=[],this._Receipt.details.forEach(t=>{if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,e.push(!1);else{let n=0;t.batcheslist.forEach(e=>{var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0});let i=this.ItemUnitsList.filter(e=>e.item_id==t.item_id&&e.id==t.unit_id);n!=t.qty*(t.conv*i[0].finalconv/i[0].conv)&&(t.allowqtyselectforitem=!1,e.push(!1))}}),e.length>0)return e.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}if(t){if(console.log("Validate"),this._Receipt.itemscomponent.forEach(e=>{this.BatchesAndSeialsList=[...this.BatchesAndSeialsList,...e.batcheslist]}),!this.ValidateInFrontEnd())return this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0,console.log("Saved"),this.Save()}else this.DuringSaveDisable=!0,console.log("Saved"),this.Save()}ValidateInFrontEnd(){return 0==this.ValidateBatchesAndSerialsList()?(this.toastr.error(this.InValidNumberOfBatch),!1):(this._Receipt.itemscomponent.map(e=>{e.batcheslist.length>0&&""==e.batcheslist[0].batchno.trim()&&(e.batcheslist[0].batchno=new Date(e.batcheslist[0].date).toLocaleDateString()+"_"+e.item_id)}),!0)}ValidateBatchesAndSerialsList(){let e=!0;this.BatchesAndSeialsList.forEach(t=>0==t.qty||null==t.qty||null==t.date||""==t.date?e=!1:void 0),this.BatchesAndSeialsList.filter(e=>{let t=y(`${this._Receipt.entry_date} ${this._Receipt.entry_time}`,"YYYY-MM-DD HH:mm").format(),n=y(`${e.date}`,"YYYY-MM-DD HH:mm").format();return y(t).isSameOrAfter(n)}).length>0&&(this.toastr.error(this.InvalidPatchDate),e=!1);let t=0;for(let n=0;n<this._Receipt.itemscomponent.length;n++)if(3==this._Receipt.itemscomponent[n].isrequireserial){let e=this.ItemProductsUnitsList.filter(e=>e.item_id==this._Receipt.itemscomponent[n].item_id&&e.id==this._Receipt.itemscomponent[n].unit_id);t+=this._Receipt.itemscomponent[n].qty*(this._Receipt.itemscomponent[n].conv*e[0].finalconv/e[0].conv)}return t!=this.BatchesAndSeialsList.reduce((e,t)=>e+t.qty,0)&&(e=!1),e}ValidateDublicateBatchesInFrontEnd(){let e=[];for(let t=0;t<this._Receipt.itemscomponent.length;t++)if(0!=this._Receipt.itemscomponent[t].batcheslist.length){let n=this._Receipt.itemscomponent[t].batcheslist[0];if(1==n.isdublicatebatch)continue;n.isdublicatebatch=!1;for(let i=t+1;i<this._Receipt.itemscomponent.length;i++)0!=this._Receipt.itemscomponent[i].batcheslist.length&&n.batchno.toLowerCase().trim()==this._Receipt.itemscomponent[i].batcheslist[0].batchno.toLowerCase().trim()&&new Date(n.date).toLocaleDateString()!=new Date(this._Receipt.itemscomponent[i].batcheslist[0].date).toLocaleDateString()&&(this._Receipt.itemscomponent[i].batcheslist[0].isdublicatebatch=!0,e.push(this._Receipt.itemscomponent[i].batcheslist[0]))}return e}ValidateDublicateBatchesInBackEnd(){console.log(this._Receipt.itemscomponent,"this._Receipt.itemscomponent"),this._ReceiptSharedService.ValidateDublicateBatches(this._Receipt.itemscomponent).subscribe(e=>{if(this._Receipt.itemscomponent=[],this._Receipt.itemscomponent=null!=e?e:[],console.log(this._Receipt.itemscomponent,"itemscomponent"),this.cd.markForCheck(),this._Receipt.itemscomponent.some(e=>{if(e.batcheslist.length>0)return 1==e.batcheslist[0].isdublicatebatch}))return We().fire(this.DublicateBatchMassage),void(this.DuringSaveDisable=!1);this.DuringSaveDisable=!0,console.log("Saved"),this.Save()})}Save(){null==this._Receipt.id||0==this._Receipt.id?(console.log(this._Receipt,"rece"),this._ProductionService.ReceiptCreate(this._Receipt).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),this.ReceiptID=e.id,setTimeout(()=>{this._router.navigate(["/page/production/reverseproductionvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})},2e3)})):(this._Receipt_h_Edit=new x.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ProductionService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(e=>{this.DuringSaveDisable=!1,this.toastr.success(this.SaveMsg),setTimeout(()=>{this._router.navigate(["/page/production/reverseproductionvoucher/"+this.ReceiptID]).then(()=>{window.location.reload()})},2e3)}))}CreateNewAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(10147)?this._router.navigate(["/page/production/reverseproductionvoucher/0"]).then(()=>{window.location.reload()}):We().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):e.dismiss===We().DismissReason.cancel&&this._router.navigate(["/page/production/reverseproductionvoucher/0"]).then(()=>{window.location.reload()})})}DeleteAction(){We().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&1==e.isConfirmed&&this._ProductionService.DeleteProductions(this._Receipt.id).subscribe(e=>{0==e.bcount?(this.toastr.success(this.toastrSuccessDelete),this._router.navigate(["/page/production/reverseproductionvoucher"])):-1==e.bcount?(e.usedserials.forEach(e=>{let t=this._Receipt.details.findIndex(t=>t.item_id==e.itemid&&t.batcheslist[0].id==e.id);-1!=t&&(this._Receipt.details[t].allowqtyselectforitem=!1)}),this.toastr.error(this.RelatedwithSerialsOrBatches)):this.toastr.error(this.DeleteRelationmsg)})})}GetMaxCostPostedSerDate(){this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(e=>{let t=this.datepipe.transform(e[0].maxpostingdate,"yyyy-MM-dd");Date.parse(t.toString())<Date.parse(this._Receipt.entry_date.toString())?(this.ShowModeReceipt=!1,this.ValidPeriod=!0):(this.ShowModeReceipt=!0,this.ValidPeriod=!1,this.ShowPopUpCostPostedSerDate()),this.cd.markForCheck()})}DupilcateAction(){this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(e=>{this._Receipt.entry_no=0==e.length?1:e[0].entry_no+1,this.entry_no=this._Receipt.entry_no,this.location.replaceState("/page/production/reverseproductionvoucher/0"),this.ReceiptID=0,this._Receipt.id=null,this.VouchersLinkedCount=0,this.CheckBalanceForAllItemsProductsInStore(0),this.cd.markForCheck()})}DocumentAction(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/productionvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}BackAction(){JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(10147)||0==this.ReceiptID&&!this.checkRoleParms(10146)||1==this.ShowModeReceipt?this._router.navigate(["/page/production/reverseproductionvoucher"]):We().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(e=>{e.value?this.CheckPre_SaveReceipt(this.RForm):this._router.navigate(["/page/production/reverseproductionvoucher"])})}PrintPreview(e){let t=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(t=>{this.spinner.hide(),1==e?this._authService.showPdfInNewTab(t.bytes,""):this._authService.printJS(t.bytes)}),this.cd.markForCheck()}onPrint(){let e=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(t=>{this.reporturl=`${this.reportdomainUrl}?q=${e.reportName}&ID=${e.ReceiptID}`,""!=e.lang&&(this.reporturl=this.reporturl+`&Lang=${e.lang}`),""!=e.DomainName&&(this.reporturl=this.reporturl+`&DomainName=${e.DomainName}`),""!=e.toEmail&&(this.reporturl=this.reporturl+`&email=${e.toEmail}+&Subject=${e.Subject}+&boby=${e.boby}`),this.reporturl=this.reporturl+`&Info=${t}`,this._authService.showReportInNextTab(this.reporturl),this.cd.markForCheck()})}sendEmail(e){this._emailobj=e.list;let t=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(t).subscribe(e=>{this.spinner.hide(),alert(this.mailmsg)}),this.cd.markForCheck()}getReportfilter(e=0){this._authService.userInfo();let t="",n="";"ar"==this.lang&&(n="_ar"),t="P_I_82_ProductionVoucher2"+n;let i={reportName:t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return i.reportName=t,i.toEmail=this._emailobj.email,i.Subject=this._emailobj.subject,i}getCurrentDate(){let e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}SetTimeNow(){let e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}formateDecimal(e,t=3){return e.toFixed(t)}checkRoleParms(e){let t=!0;return this._authService.isHasRole([e])||(t=!1),t}checkRolesParms(e){let t=!0;return this._authService.isHasRole(e)||(t=!1),t}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}customTrackBy(e,t){return e}OnSerialItemsInItemComponent(e,t){if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItemComp=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)return void this.toastr.error(this.InValidQty);this.requiredserial=this._Receipt.details[e].isrequireserial;let n=this.ItemUnitsList.filter(t=>t.item_id==this._Receipt.details[e].item_id&&t.id==this._Receipt.details[e].unit_id);this._batchqty=this._Receipt.details[e].qty*(this._Receipt.details[e].conv*n[0].finalconv/n[0].conv),this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,this._Receipt.id?parseInt(this._Receipt.id.toString()):0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(n=>{this.BatchesListForEatchRow=[];let i=[];if(i=n.seriallist,console.log(n.seriallist,"d.seriallist"),this._Receipt.details[this.selectedindex].batcheslist.forEach(e=>{let t=i.findIndex(t=>t.id==e.previtemserialid);-1!=t&&(e.inv_receipt_d_id>0?null==this._Receipt.details[this.selectedindex].validrow||1==this._Receipt.details[this.selectedindex].validrow?(i[t].qty=e.qty,i[t].oldqty=e.qty,this._Receipt.details[this.selectedindex].validrow=!0):i[t].availableqty=i[t].availableqty+e.qty:1==this._Receipt.details[this.selectedindex].validrow&&(i[t].qty=e.qty,i[t].oldqty=e.qty,i[t].availableqty=i[t].availableqty-e.qty,this._Receipt.details[this.selectedindex].validrow=!0))}),this._Receipt.id>0)for(let e=0;e<i.length;e++)null==i[e].qty&&0==i[e].availableqty||this.BatchesListForEatchRow.push(i[e]);else this.BatchesListForEatchRow=[...i];if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy){if(this._Receipt.details[this.selectedindex].id>0&&this.ReceiptID>0){console.log(this.BatchesListForEatchRow);for(let e=0;e<this.BatchesListForEatchRow.length;e++)this.BatchesListForEatchRow[e].availableqty+=this.BatchesListForEatchRow[e].oldqty,this.BatchesListForEatchRow[e].qty=0,this.BatchesListForEatchRow[e].solidquantity=0}let t=0;if(this.BatchesListForEatchRow.forEach(e=>{t+=e.availableqty}),console.log(t,this._Receipt.details[e].qty),this._Receipt.details[e].qty>t)return void this.toastr.error(this.InValidQtyForBatch);if(this._Receipt.details[e].qty==t)this.BatchesListForEatchRow.forEach(e=>{e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),this.saveSerialOnSalesReturnEffectDispensingPolicy();else{let t=this._Receipt.details[e].qty;this.BatchesListForEatchRow.forEach(e=>{0!=t&&(e.availableqty>=t?(e.qty=t,e.oldqty=t,e.availableqty=e.availableqty-t,t=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,t-=e.availableqty,e.availableqty=0))}),this.saveSerialOnSalesReturnEffectDispensingPolicy()}}else this.OpenModal(t);1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&this.OpenModal(t)})}saveserial(e){if(e.valid){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Xe.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}saveSerialOnSalesReturnEffectDispensingPolicy(){if(this.BatchesListForEatchRow.some(e=>e.qty>e.availableqty+e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);let e,t=0;if(this.BatchesListForEatchRow.forEach(e=>{var n;t+=null!==(n=+e.qty)&&void 0!==n?n:0}),t!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);let n=1;this.BatchesListForEatchRow.map(t=>{if(n++,t.qty>0){let i=this._Receipt.details[this.selectedindex].batcheslist.findIndex(e=>e.previtemserialid==t.id);-1!=i?this._Receipt.details[this.selectedindex].batcheslist[i].qty=+t.qty.toString():(e=new Xe.WB,e.id=0,e.qty=+t.qty,e.storeid=t.storeid,e.storename=t.name,e.storename_ar=t.name_ar,e.batchno=t.serial,e.date=t.expire_date,e.previtemserialid=t.id,e.serial=n,e.valid=!1,e.isdublicatebatch=!1,e.isused=!1,e.inv_receipt_d_id=null,e.solidquantity=null,this._Receipt.details[this.selectedindex].batcheslist.push(e)),this._Receipt.details[this.selectedindex].validrow=!0}}),console.log(this._Receipt.details,"this._Receipt.details")}ChangeBatchQtyInItemComponent(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=e.availableqty+e.oldqty-+t,e.oldqty=+t}OnSerialItems(e,t,n=null){if(console.log(e,"ix",t),this.SelectedRowIndex=e,this.RowItem=t,t.qty<=0)this.toastr.error(this.InValidQty);else{if(this.requiredserial=this._Receipt.itemscomponent[e].isrequireserial,0==this._Receipt.itemscomponent[e].batcheslist.length)this.AddNewRow(e);else{let t=this.ItemProductsUnitsList.filter(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id);this._Receipt.itemscomponent[e].batcheslist[0].qty=this._Receipt.itemscomponent[e].qty*(this._Receipt.itemscomponent[e].conv*t[0].finalconv/t[0].conv)}this.OpenModal(n)}}AddNewRow(e=null){this._ReceiptSharedService.GetStoreByID(this.RowItem.store_id).subscribe(t=>{var n,i;console.log(t,"dd",this.RowItem);let r=new Xe.WB;r.storeid=this.RowItem.store_id,r.storename=null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",r.storename_ar=null!==(i=null==t?void 0:t.name_ar)&&void 0!==i?i:"";let o=this.ItemProductsUnitsList.filter(t=>t.item_id==this._Receipt.itemscomponent[e].item_id&&t.id==this._Receipt.itemscomponent[e].unit_id),a=this._Receipt.itemscomponent[e].conv*o[0].finalconv/o[0].conv;r.qty=this._Receipt.itemscomponent[e].qty*a,console.log(o,"_selectedunit",a,r.qty),r.serial=this._Receipt.itemscomponent[e].batcheslist.length>0?this._Receipt.itemscomponent[e].batcheslist.length+1:1,this._Receipt.itemscomponent[e].batcheslist.push(r),this.cd.markForCheck(),console.log(this._Receipt.itemscomponent[e].batcheslist,"this.BatchesList")})}SubmitOk(e){e.valid&&this.CloseModal()}OpenModal(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}CloseModal(){this.modalReference.close()}ChangeBatchQty(e,t,n){}ChangeBatchNo(e,t,n){this._Receipt.itemscomponent[this.SelectedRowIndex].batcheslist[n].batchno=t.trim(),console.log(this._Receipt.itemscomponent,"ChangeBatchNo")}DeleteRow(e,t){this._Receipt.itemscomponent[this.SelectedRowIndex].batcheslist.pop(),console.log(this._Receipt.itemscomponent,"DeleteRow")}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](Z.n),c["\u0275\u0275directiveInject"](He.v),c["\u0275\u0275directiveInject"](K.t),c["\u0275\u0275directiveInject"](Ze.H),c["\u0275\u0275directiveInject"](c.ChangeDetectorRef),c["\u0275\u0275directiveInject"](S._W),c["\u0275\u0275directiveInject"](l.F0),c["\u0275\u0275directiveInject"](P.m),c["\u0275\u0275directiveInject"](d.sK),c["\u0275\u0275directiveInject"](p.K),c["\u0275\u0275directiveInject"](l.gz),c["\u0275\u0275directiveInject"](ee.t2),c["\u0275\u0275directiveInject"](R.e),c["\u0275\u0275directiveInject"](te.$),c["\u0275\u0275directiveInject"](X.J),c["\u0275\u0275directiveInject"](i.uU),c["\u0275\u0275directiveInject"](i.Ye),c["\u0275\u0275directiveInject"](b.g),c["\u0275\u0275directiveInject"](oe.FF))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["productionvoucher2-details"]],viewQuery:function(e,t){if(1&e&&c["\u0275\u0275viewQuery"](Tm,5),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.RForm=e.first)}},features:[c["\u0275\u0275ProvidersFeature"]([Z.n,He.v,K.t,i.uU,Ze.H,X.J,b.g])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-lg-5","col-md-5"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","EntryCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts",""],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","ExpensesDistributionVoucherNo",1,"col-form-label"],["type","text","id","ExpensesDistributionVoucherNo","name","ExpensesDistributionVoucherNo",1,"form-control",3,"ngModel","readonly","ngModelChange"],["ExpensesDistributionVoucherNo","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5",2,"margin-top","4rem"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalProductionCostForeign",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalProductionCost",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalVoucherCostForeign",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalVoucherCost",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],[1,"col-md-7"],["_AddPatchModal",""],["serialModel",""],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["type","button",1,"dropdown-item",3,"click"],[3,"entryno","_savedemailobj"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],["Value","null"],[3,"value"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table",2,"width","100%","margin-bottom","125px !important"],["scope","col",2,"width","5%"],["scope","col",2,"width","10%"],["scope","col",2,"width","7%"],["scope","col","style","width:7%; white-space: normal;text-align: center;",4,"ngIf"],["scope","col",2,"width","7%","white-space","normal","text-align","center"],["scope","col","style","width: 12%; white-space: normal;text-align: center;",4,"ngIf"],["scope","col",2,"width","7%","white-space","normal"],["scope","col","style","width:15%;",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[1,"table",2,"width","110%","margin-bottom","125px !important"],["scope","col",2,"width","12%"],["scope","col","style","width: 5%;",4,"ngIf"],["scope","col","style","width:7%;  white-space: normal;",4,"ngIf"],["scope","col","style","width: 11%; white-space: normal;",4,"ngIf"],["scope","col","style","width: 15%",4,"ngIf"],["scope","col",2,"width","12%","white-space","normal","text-align","center"],["scope","col",2,"width","15%"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf","ngForTrackBy"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","stepallow","ngModel","name","required","ngClass","ngModelChange"],["item_productionunitexpense","ngModel"],["item_productionqtyexpense","ngModel"],[1,"text-center","gridActionsTd"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],[1,"fa","fa-trash","font-medium-3","m-0"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","stepallow","Min","CheckMin","ngModel","name","required","ngClass","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","ngClass","ngModelChange"],["item_defaultitemcost","ngModel"],["item_costdiff","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"readonly","ngModel","name","Min","CheckMin","ngClass","ngModelChange"],["item_price","ngModel"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],["scope","col",2,"width","11%","white-space","normal"],["autoStoreProducts",""],["pTemplate","servstoreProductsTemplate"],["autoItemsProducts",""],["pTemplate","servCodeProductsTemplate"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemProductsunit","ngModel"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","ngModel","name","ngClass","keyup","ngModelChange"],["itemProducts_qty","ngModel"],["itemProducts_costrate","ngModel"],["itemProducts_conv","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control","font-weight-bold","text-primary",3,"readonly","ngModel","name","ngClass","ngModelChange"],["basicqtycomponent","ngModel"],["defaultitemqty","ngModel"],["PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","required","ngClass","ngModelChange"],["item_qtydiff","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control","font-weight-bold","text-primary",3,"readonly","ngModel","name","Min","CheckMin","ngClass","ngModelChange"],["itemProducts_pricecostbasicqty","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","Min","ngClass","keyup","ngModelChange"],["itemProducts_price","ngModel"],["itemProducts_total","ngModel"],["href","javascript:;",1,"info","p-0",3,"hidden","click"],[3,"signature","signatureoutput"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","10%"],["style","width: 15%",4,"ngIf"],[2,"width","20%"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary","mx-2"],[1,"modal-title"],[2,"width","15%"],["type","checkbox","disabled","",3,"name","checked"],["type","number","disabled","",1,"form-control",3,"name","value"],["type","text","disabled","",1,"form-control",3,"name","value"],["type","text",1,"form-control",3,"name","value","ngClass","disabled","change"],[1,"text-center"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"icon-trash"],["type","number","PositiveNumbersOnly","","min","0","disabled","",1,"form-control",3,"name","value","ngClass","change"],["type","date","required","",1,"form-control",3,"name","ngModel","ngClass","disabled","ngModelChange"],["type","button",1,"btn","btn-primary","col-md-4"],["type","button",1,"btn","btn-info","col-md-2","mx-2"],["type","button",1,"btn","btn-primary","col-md-2"],["type","submit",1,"btn","btn-success"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(c["\u0275\u0275template"](0,Um,4,3,"div",0),c["\u0275\u0275template"](1,ku,168,131,"ng-container",1)),2&e&&(c["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(10145)||t.checkRoleParms(10146)||t.checkRoleParms(10147)||t.checkRoleParms(10148))),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",t.checkRolesParms(c["\u0275\u0275pureFunction0"](2,Bu))))},directives:[i.O5,a._Y,a.JL,a.F,a.EJ,a.Q7,a.JJ,a.On,i.mk,i.sg,a.Fj,tt.L,nt.a,h.Qc,it.jx,oe.Pz,oe.nv,oe.Vx,oe.uN,oe.tO,a.wV,re.K,ee.Ro,ot.k,a.YN,a.Kr,st.t,ct.T],pipes:[d.X$,i.uU,dt.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}']}),e})();function Fu(e){return new g.z(e,[{prefix:"assets/i18n/Production/",suffix:".json"},{prefix:"assets/i18n/shared/",suffix:".json"}])}const Lu=[{path:"",component:m},{path:"batchorder",component:je},{path:"batchorder/:id",component:io},{path:"batchorder/:id/:show",component:io},{path:"batchorder/:id/:show/:linkedreceiptid",component:io},{path:"batchorderstatus",component:H},{path:"batchorderstatustest",component:H},{path:"productionplan",component:Ya},{path:"productionvoucher",component:hc},{path:"productionvoucher/:id",component:Gd},{path:"productionvoucher/:id/:show",component:Gd},{path:"productionvoucher/:id/:show/:prodplansid",component:Gd},{path:"productionvoucher/:id/:show/:prodplansid/:linkedreceiptid",component:Gd},{path:"bom/:id",component:Ds},{path:"bom/:id/:productionids",component:Ds},{path:"unproducedworkorders",component:kp},{path:"expensesdistribution",component:Zp},{path:"addexpensesdistribution",component:rm},{path:"reverseproductionvoucher",component:Nm},{path:"reverseproductionvoucher/:id",component:Du},{path:"reverseproductionvoucher/:id/:show",component:Du}];let qu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({providers:[d.gM,d.sK,b.g],imports:[[a.u5,i.ez,r.m,_.fi.forRoot(),a.UX,h.WN,C.d,u.d,f._t,_.fi.forRoot(),d.aw.forChild({loader:{provide:d.Zw,useFactory:Fu,deps:[s.eN]},extend:!0}),l.Bz.forChild(Lu),o.xc]]}),e})()}}]);
!function(){function e(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw a}}}}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){c=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(c)throw r}}return o}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["src_app_page_Production_production_module_ts"],{878:function(e,t,n){"use strict";n.d(t,{WW:function(){return i},np:function(){return r},pM:function(){return o},do:function(){return a},br:function(){return l},Oy:function(){return s},ov:function(){return d},DY:function(){return p},al:function(){return m},HQ:function(){return u},z8:function(){return h},Pp:function(){return g},WB:function(){return _},BR:function(){return f},hi:function(){return C}});var i=function e(){c(this,e),this.selectedNodesLabels="",this.Subsidiary_ID=0,this.ID=0,this.Code="",this.Name="",this.Description="",this.IsActive=!1,this.ImagePath="",this.Notes="",this.IsAutoCode=!1,this.ImageName="",this.Inventory_UnitId=null,this.Purchasing_UnitId=null,this.Selling_UnitId=null,this.Item_Type=1,this.allowtax=!0,this.TaxTypeid=null,this.Service_Item_Cost=0,this.CostingModel_ID=null,this.ItemDimensionsID=null,this.StorageDimensionsID=null,this.Name_AR="",this.IsRequireSerial=1,this.AllowDecimals=!1,this.StopSales=!1,this.StopInventoryTransactions=!1,this.POSFeatured=!1,this.DisableItemDimensions=!1,this.displaycomponentsasitemsinPOS=!1,this.DisableStorageDimensions=!1,this.AccountID=null,this.IsEditPrice=!1,this.CanBeRented=!1,this.AvailableForSale=null,this.AvailableForSaleFromDate=null,this.AvailableForSaleToDate=null,this.SpecialPrice=null,this.SpecialPriceFromDate=null,this.SpecialPriceToDate=null,this.SpecialPriceFromTime="",this.SpecialPriceToTime="",this.SpecialPriceValue=null,this.ReceipeQty=null,this.hasAccount=!1,this.ProductionUnitId=null,this.Wastage=0,this.hasWarrenty=!1,this.OtherSalesAccount=!1,this.consignment=!1,this.consignment_commission=null,this.warranty_duration=null,this.PercentageOrValue_consignment_commission=null,this.Weigth=null,this.GoldClovesWeigth=null,this.IsUploadedFromPos=!1,this.GoldCaliber="",this.Service=null,this.LoyalityBalance=null,this.IsMemebership=!1,this.OtherCostAccount=!1,this.OtherCostAccountId=null,this.IndirectExpensesUnit=0,this.Color="",this.Size="",this.Brand="",this.MadeIn="",this.Composition="",this.Season="",this.ConfigurableItemId=null,this.ShowColor=!1,this.ShowSize=!1,this.SetAttrToName=!1,this.Model="",this.RestockOnReturn=!1,this.ConsignmentBalanceType=null,this.GlobalBarcode="",this.SlackTime=1,this.OtherContractAccount=!1,this.OtherContractAccountId=null,this.itemsbarcode=[],this.itemscategories=[],this.vendors=[],this.itemsalternative=[],this.unititem=[],this.limitstore=[],this.component=[],this.customattributeheader=[],this.salespostingaccounts=[],this.configurationitemslist=[],this.itemproducts=[],this.orginalitemproducts=[],this.itemsemployees=[],this.orginalitemsemployees=[],this.UnitDetails=null,this.sale_price=0,this.assetLinked=!1,this.assetId=null},r=function e(){c(this,e),this.Item_ID=0,this.ItemCategory_ID=0},o=function e(){c(this,e),this.ID=0,this.Item_ID=0,this.itembarcode="",this.isactivebarcode=!0},a=function e(){c(this,e),this.id=0,this.itemid=0,this.vendorid=0,this.unitid=0,this.lastqty=0,this.price=0,this.currencyid=0,this.ismainvendor=!1,this.price2=0,this.lastprice=0,this.vendoritemcode="",this.code="",this.currencyname="",this.currencynamear="",this.unitname="",this.unitnamear="",this.vendorname="",this.vendornamear=""},l=function e(){c(this,e),this.id=0,this.item_id=0,this.alternative_item_id=0,this.periority=0,this.itemname="",this.itemname_ar=""},s=function e(){c(this,e),this.id=0,this.item_id=0,this.unit_id=0,this.subunit_id=0,this.conv=null,this.barcode="",this.sale_price1=0,this.sale_price2=0,this.sale_price3=0,this.sale_price4=0,this.finalconv=null,this.pos=!0,this.istransactionunit=!1},d=function e(){c(this,e),this.oldLimitStore=[],this.newLimitStore=[]},p=function e(){c(this,e),this.id=0,this.item_id=0,this.store_id=0,this.reorder_qty=0,this.min_qty=0,this.location="",this.first_qty=0,this.first_cost=0,this.first_conv=1,this.first_unit=null,this.name="",this.name_ar="",this.invalidreorderqty=!1,this.flagforbalance=!1,this.qty=0,this.avrcost=0,this.finalconv=1,this.cost_conv=1,this.reserved_qty=0,this.orderd_qty=0,this.max_qty=0,this.last_sales_qty=0,this.flagforedit=!1,this.sold=!1},m=function e(){c(this,e),this.id=0,this.customattributetypeid=0,this.itemid=0,this.title="",this.isactive=!1,this.isrequired=!1,this.sortorder=0,this.automaticcode=0,this.isdeleted=!1,this.maxoptions=0,this.itemcustomattributedetail=[]},u=function e(){c(this,e),this.id=0,this.customattributeheaderid=null,this.title="",this.price=null,this.sku="",this.sortorder=null,this.allowedfileextensions="",this.minimagewidth=null,this.minimageheigth=null,this.automaticcode=null,this.isdeleted=!1,this.qty=null,this.itemid=null,this.deductionitemid=null,this.deductionsku="",this.unitid=null,this.imgpath="",this.iunitid=null,this.iunitname="",this.iunitnamear="",this.headerpricesign=1,this.proportionweight=null},h=function e(){c(this,e),this.id=0,this.item_id=0,this.itemcomponentid=0,this.itemcomponentunitid=0,this.itemcomponentconv=0,this.itemcomponentqty=1,this.itemcomponentrecipeqty=0,this.averagecost=0,this.componentprice=0,this.unitname="",this.unitnamear="",this.name="",this.name_ar="",this.itemname="",this.itemnamear="",this.iunitid=null,this.disconv=!1},g=function e(){c(this,e),this.id=0,this.itemid=0,this.accountid=null,this.percentage=0,this.complement=!1},_=function e(){c(this,e),this.id=0,this.valid=!1,this.serial=1,this.qty=1,this.storeid=null,this.storename="",this.storename_ar="",this.batchno="",this.date=null,this.isdublicatebatch=!1,this.isused=!1,this.inv_receipt_d_id=null,this.solidquantity=null,this.previtemserialid=null,this.availableqty=null,this.fromOutSide=!1,this.patchconfirmation="",this.final_conv=null,this.readonlyavailableqtywithsmallunit=null,this.readonlyavailableqtywithfinal_conv=null},f=function e(){c(this,e),this.id=null,this.item_id=0,this.product_item_id=0,this.costratio=0,this.itemproductqty=0,this.itemproductsconv=0,this.itemproductunitid=0,this.itemname="",this.itemname_ar=""},C=function e(){c(this,e),this.id=null,this.unitid=null,this.subsidiaryid=null,this.rooms=0,this.bathroom=0,this.finishing=null,this.view=null,this.floor="",this.floors=0,this.land_size="",this.size_in_metres="",this.units_number=0,this.paymentid=null,this.year=(new Date).getFullYear(),this.currency_id=null}},77356:function(i,r,o){"use strict";o.r(r),o.d(r,{ProductionModule:function(){return Gh},childLoaderFactory:function(){return Th}});var l=o(61511),s=o(59218),d=o(45593),p=o(16073),m=o(29063),u=o(31572),h=o(96898),g=o(48160),_=o(62120),f=function(){var e=function(){function e(t,n,i){var r=this;c(this,e),this._router=t,this.translate=n,this._translateGlobalService=i,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){r.lang=e.lang,r.dir=e.dir,r.translate.use(e.lang)})}return a(e,[{key:"ngOnDestroy",value:function(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["production-home"]],decls:3,vars:0,consts:[[1,"sub-home-page-cont"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275element"](1,"br"),u["\u0275\u0275element"](2,"br"),u["\u0275\u0275elementEnd"]())},styles:[".sub-home-page-cont[_ngcontent-%COMP%]{background-color:#fff;background-image:url(ProductionHomeBG.00fcdff1f57a6169259b.jpg);background-repeat:no-repeat;background-position:top;background-size:contain;height:38em;margin-top:3em;border-radius:10px;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px}.sub-home-page-cont[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600;padding:2em}"]}),e}(),C=o(53544),v=o(22684),y=o(20180),b=o(48747),x=o(51940),M=o(86250),S=o(14348),P=o(29609),R=o(83801),O=o(78183),I=o(96358),E=o(25181),w=o(7427),k=o(72796);function B(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",2),u["\u0275\u0275elementStart"](1,"h1"),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function D(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",30),u["\u0275\u0275text"](1," All "),u["\u0275\u0275elementEnd"]())}function F(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",30),u["\u0275\u0275text"](1," \u0627\u0644\u0643\u0644 "),u["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.name)}}function q(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.name_ar)}}function V(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",31),u["\u0275\u0275template"](1,L,2,1,"span",1),u["\u0275\u0275template"](2,q,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275propertyInterpolate"]("value",null==n?null:n.id),u["\u0275\u0275property"]("selected",(null==n?null:n.id)==i._Filter.BranchID),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function N(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name_ar)}}function T(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function U(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function A(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name_ar)}}function G(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",41),u["\u0275\u0275template"](1,U,2,1,"span",1),u["\u0275\u0275template"](2,A,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275propertyInterpolate"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function $(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"select",38,39),u["\u0275\u0275listener"]("change",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"](2).Changefilterby(e)})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.filterby=e}),u["\u0275\u0275template"](2,G,3,3,"option",40),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]().$implicit,r=u["\u0275\u0275nextContext"](2);u["\u0275\u0275propertyInterpolate1"]("name","filterby",r.ix,""),u["\u0275\u0275property"]("ngModel",i.filterby),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",r.FilterBylist)}}function z(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.branchname_ar)}}function j(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.branchname)}}function Q(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.vendornamear)}}function W(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.vendorname)}}function J(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",42),u["\u0275\u0275elementStart"](1,"div"),u["\u0275\u0275elementStart"](2,"span"),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](5," : \xa0 "),u["\u0275\u0275elementStart"](6,"a",43),u["\u0275\u0275text"](7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"div"),u["\u0275\u0275elementStart"](9,"span"),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](12," : \xa0 "),u["\u0275\u0275template"](13,z,2,1,"span",1),u["\u0275\u0275template"](14,j,2,1,"span",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"div"),u["\u0275\u0275elementStart"](16,"span"),u["\u0275\u0275text"](17),u["\u0275\u0275pipe"](18,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](19," : \xa0 "),u["\u0275\u0275template"](20,Q,2,1,"span",1),u["\u0275\u0275template"](21,W,2,1,"span",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"div"),u["\u0275\u0275elementStart"](23,"span"),u["\u0275\u0275text"](24),u["\u0275\u0275pipe"](25,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](26," : \xa0 "),u["\u0275\u0275elementStart"](27,"span"),u["\u0275\u0275text"](28),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275property"]("cdkDragDisabled",i.DisableCanDrop),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](4,12,"Entry#")),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/batchorder/",n.id,""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.entry_no),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](11,14,"Branch")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](18,16,"CustomerName")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](25,18,"Total")),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](n.netvalue)}}function H(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",32),u["\u0275\u0275elementStart"](1,"div",33),u["\u0275\u0275template"](2,N,2,1,"h2",1),u["\u0275\u0275template"](3,T,2,1,"h2",1),u["\u0275\u0275elementStart"](4,"span",34),u["\u0275\u0275text"](5),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](6,$,3,3,"select",35),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",36),u["\u0275\u0275listener"]("cdkDropListDropped",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).drop(e)}),u["\u0275\u0275template"](8,J,29,20,"div",37),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"==r.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=r.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](i.Receipts.length),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==i.filter),u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("id",i.id),u["\u0275\u0275property"]("cdkDropListData",i.Receipts),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",i.Receipts)}}var Y=function(e,t){return{"invalid-data":e,"valid-data":t}},Z=function(e,t){return{"all-desgin-en":e,"all-desgin-ar":t}};function K(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",3),u["\u0275\u0275elementStart"](2,"div",4),u["\u0275\u0275elementStart"](3,"div",5),u["\u0275\u0275elementStart"](4,"div",6),u["\u0275\u0275elementStart"](5,"div",7),u["\u0275\u0275elementStart"](6,"div",8),u["\u0275\u0275elementStart"](7,"form",9,10),u["\u0275\u0275elementStart"](9,"div",2),u["\u0275\u0275elementStart"](10,"div",11),u["\u0275\u0275elementStart"](11,"div",12),u["\u0275\u0275elementStart"](12,"label",13),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"select",14,15),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Filter.BranchID=e}),u["\u0275\u0275template"](17,D,2,0,"option",16),u["\u0275\u0275template"](18,F,2,0,"option",16),u["\u0275\u0275template"](19,V,3,4,"option",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"div",11),u["\u0275\u0275elementStart"](21,"div",12),u["\u0275\u0275elementStart"](22,"label",18),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"input",19,20),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Filter.FromDate=e})("focusout",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().FromDateChange(e.target.value)}),u["\u0275\u0275pipe"](27,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"div",11),u["\u0275\u0275elementStart"](29,"div",12),u["\u0275\u0275elementStart"](30,"label",21),u["\u0275\u0275text"](31),u["\u0275\u0275pipe"](32,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"input",22,23),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Filter.ToDate=e})("focusout",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ToDateChange(e.target.value)}),u["\u0275\u0275pipe"](35,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](36,"div",11),u["\u0275\u0275elementStart"](37,"button",24),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().Apply()}),u["\u0275\u0275element"](38,"i",25),u["\u0275\u0275text"](39),u["\u0275\u0275pipe"](40,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](41,"div",26),u["\u0275\u0275elementStart"](42,"div",27),u["\u0275\u0275element"](43,"div"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](44,"div",28),u["\u0275\u0275template"](45,H,9,7,"div",29),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](26),r=u["\u0275\u0275reference"](34),o=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](13),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](14,14,"Branch")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",o._Filter.BranchID),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",o.BranchList),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](24,16,"FromDate")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](27,18,o._Filter.FromDate,"yyyy-MM-dd"))("ngClass",u["\u0275\u0275pureFunction2"](28,Y,i.invalid,i.valid)),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](32,21,"ToDate")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](35,23,o._Filter.ToDate,"yyyy-MM-dd"))("ngClass",u["\u0275\u0275pureFunction2"](31,Y,r.invalid,r.valid)),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](40,26,"Apply")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction2"](34,Z,"ar"!=o.lang,"ar"==o.lang)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",o.StatusReceiptList)}}var X=function(){return[579]},ee=function(){var e=function(){function e(t,n,i,r,o,a,l,s,d,p,m,u){var h=this;c(this,e),this.cd=t,this.toastr=n,this._router=i,this._generalService=r,this.translate=o,this._translateGlobalService=a,this._authService=s,this.datepipe=d,this.location=p,this._BatchOrderStatusService=m,this._ContractService=u,this.subsidiaryID=0,this.BatchOrderStatusList=[],this.BatchOrderStatusReceiptList=[],this.StatusReceiptList=[],this.DebitORCreditAccountIsNotSet="",this.InvalidStatusVoucherDate="",this.SaveMsg="",this.DisableCanDrop=!1,this._Filter=new R.go,this.BranchList=[],this.invalidDateMsg="",this.FilterBylist=[{id:1,name:"ALL",name_ar:"\u0627\u0644\u0643\u0644"},{id:2,name:"Day",name_ar:"\u0627\u0644\u064a\u0648\u0645"},{id:3,name:"Week",name_ar:"\u0627\u0644\u0627\u0633\u0628\u0648\u0639"}],l.params.subscribe(function(e){if(h.subsidiaryID=h._generalService.SubsidiaryID,h.subsidiaryID>0){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),h._Filter.BranchID="null"!=t.branchId?t.branchId:0):h._Filter.BranchID=0,h.GetBranchList()}h._UserLogin=h._authService.userInfo()}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(function(e){0==h.subsidiaryID&&(h.subsidiaryID=h._generalService.SubsidiaryID,h.CanDrop(),h.GetBatchOrderStatusList()),h.subsidiaryID!=h._generalService.SubsidiaryID&&h.subsidiaryID>0&&(h.subsidiaryID=h._generalService.SubsidiaryID,h._router.navigate(["/page/production/batchorderstatus"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){h.lang=e.lang,h.dir=e.dir,h.translate.use(e.lang),h.ngTransUnsubscribe=h.translate.get(["productionvoucher","SaveMsg","DebitORCreditAccountIsNotSet","InvalidStatusVoucherDate","WorkOrder Status","invalidDateMsg"]).subscribe(function(e){document.title=e["WorkOrder Status"],h.DebitORCreditAccountIsNotSet=e.DebitORCreditAccountIsNotSet,h.InvalidStatusVoucherDate=e.InvalidStatusVoucherDate,h.SaveMsg=e.SaveMsg,h.invalidDateMsg=e.invalidDateMsg})})}return a(e,[{key:"GetBranchList",value:function(){var e=this;this._ContractService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){var n;e.BranchList=t,e._Filter.FromDate=new Date((new Date).getFullYear(),(new Date).getMonth(),1);var i=new Date((new Date).getFullYear(),(new Date).getMonth()+1,1);e._Filter.ToDate=new Date(i.getTime()-1),e._Filter.FromDateString="".concat(e._Filter.FromDate.getFullYear(),"-").concat(e._Filter.FromDate.getMonth()+1,"-").concat(e._Filter.FromDate.getDate()),e._Filter.ToDateString="".concat(e._Filter.ToDate.getFullYear(),"-").concat(e._Filter.ToDate.getMonth()+1,"-").concat(e._Filter.ToDate.getDate()),e._Filter.FromDateString=e._Filter.FromDateString+" 00:00:00",e._Filter.ToDateString=e._Filter.ToDateString+" 23:59:59",e._Filter.BranchID=(null===(n=e.BranchList[0])||void 0===n?void 0:n.id)||null,e.CanDrop(),e.GetBatchOrderStatusList(),e.cd.markForCheck()})}},{key:"GetBatchOrderStatusList",value:function(){var e=this;this._Filter.ToDate<this._Filter.FromDate?this.toastr.error(this.invalidDateMsg):this._BatchOrderStatusService.GetBatchOrderStatusList(this.subsidiaryID,this._Filter.BranchID,this._Filter.FromDateString,this._Filter.ToDateString).subscribe(function(t){e.BatchOrderStatusList=t.batchorderstatus,e.BatchOrderStatusReceiptList=t.batchorderstatusreceipt,console.log(e.BatchOrderStatusList),console.log(e.BatchOrderStatusReceiptList),e.ReBuildStatusReceiptArray()})}},{key:"ReBuildStatusReceiptArray",value:function(){var e=this;this.StatusReceiptList=[];for(var t=function(t){var n=new te;n=e.BatchOrderStatusList[t];var i=e.BatchOrderStatusReceiptList.filter(function(n){return n.wostatusid==e.BatchOrderStatusList[t].id});n.Receipts=i,e.StatusReceiptList.push(n),e.cd.detectChanges()},n=0;n<this.BatchOrderStatusList.length;n++)t(n)}},{key:"drop",value:function(e){var t=this;if(e.previousContainer===e.container)(0,M.bA)(e.container.data,e.previousIndex,e.currentIndex);else{console.log(e.previousContainer.data[e.previousIndex]),console.log(e.previousContainer.id,"event.previousContainer.id"),console.log(e.container.id,"event.container.id");var n=P().format("MM-DD-YYYY HH:mm:ss ");console.log(n),this._BatchOrderStatusService.PostWOstatusVoucherByReceiptID(e.previousContainer.data[e.previousIndex].id,e.container.id,n,this.lang).subscribe(function(n){"ok"==n.result?((0,M.EA)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),t.toastr.success(t.SaveMsg)):"InvalidDate"==n.result?t.toastr.error(t.InvalidStatusVoucherDate):"DebitORCreditAccountIsNotSet"==n.result&&t.toastr.error(t.DebitORCreditAccountIsNotSet),t.cd.markForCheck()})}}},{key:"CanDrop",value:function(){this.DisableCanDrop=!this.checkRoleParms(684)}},{key:"Apply",value:function(){this.CanDrop(),this.GetBatchOrderStatusList(),this.cd.markForCheck()}},{key:"FromDateChange",value:function(e){this._Filter.FromDate=new Date(e),this._Filter.FromDateString=e+" 00:00:00"}},{key:"ToDateChange",value:function(e){this._Filter.ToDate=new Date(e),this._Filter.ToDateString=e+" 23:59:59"}},{key:"Changefilterby",value:function(e){var t=this;this._BatchOrderStatusService.GetBatchOrderByStatusFilter(this.subsidiaryID,this._Filter.BranchID,e.id,e.filterby).subscribe(function(n){e.Receipts=n,t.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](h.gz),u["\u0275\u0275directiveInject"](k.e),u["\u0275\u0275directiveInject"](l.uU),u["\u0275\u0275directiveInject"](l.Ye),u["\u0275\u0275directiveInject"](I.M),u["\u0275\u0275directiveInject"](O.U))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["BatchOrder-Status"]],features:[u["\u0275\u0275ProvidersFeature"]([l.uU,I.M,O.U])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card"],[1,"row","match-height"],[1,"col-12"],[1,"card","transparent-BG","box-shadow-none"],[1,"card-content"],[1,"card-body"],["method","POST","role","form"],["RForm","ngForm"],[1,"col-lg-3","col-md-3","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","id","Branch",1,"form-control",3,"ngModel","ngModelChange"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],["for","FromDate"],["type","date","id","FromDate","name","FromDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["FromDate","ngModel"],["for","ToDate"],["type","date","id","ToDate","name","ToDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["ToDate","ngModel"],["type","button",1,"btn","btn-primary","mt-3","btn-md","mr-2","mb-2",3,"click"],[1,""],[1,"row","mt-3","mb-3"],[1,"col-lg-2","col-md-2","col-sm-12"],["cdkDropListGroup","",1,"all-desgin",3,"ngClass"],["class","example-container",4,"ngFor","ngForOf"],["Value","null"],[3,"value","selected"],[1,"example-container"],[1,"title-Receipts"],[1,"number-Receipts"],["class","form-control mr-3 w-30","style","display: inline-block;",3,"ngModel","name","change","ngModelChange",4,"ngIf"],["cdkDropList","",1,"example-list",3,"id","cdkDropListData","cdkDropListDropped"],["class","example-box col-md-12","cdkDrag","",3,"cdkDragDisabled",4,"ngFor","ngForOf"],[1,"form-control","mr-3","w-30",2,"display","inline-block",3,"ngModel","name","change","ngModelChange"],["filterby","ngModel"],["style","display: inline-block;",3,"value",4,"ngFor","ngForOf"],[2,"display","inline-block",3,"value"],["cdkDrag","",1,"example-box","col-md-12",3,"cdkDragDisabled"],["href","javascript:;","target","_blank",2,"text-decoration","underline","font-weight","bold",3,"routerLink"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,B,4,3,"div",0),u["\u0275\u0275template"](1,K,46,37,"ng-container",1)),2&e&&(u["\u0275\u0275property"]("ngIf",!t.checkRoleParms(579)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.checkRolesParms(u["\u0275\u0275pureFunction0"](2,X))))},directives:[l.O5,p._Y,p.JL,p.F,p.EJ,p.JJ,p.On,l.sg,p.Fj,l.mk,M.Fd,p.YN,p.Kr,M.Wj,M.Zt,h.yS],pipes:[g.X$,l.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.item__moved[_ngcontent-%COMP%]{background-color:red!important}.all-desgin[_ngcontent-%COMP%]{width:100%;display:flex;margin:0 auto;padding:10px;position:relative;overflow-x:scroll;overflow-y:scroll}.all-desgin[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-o-scrollbar-track{background:#f1f1f1!important}.all-desgin[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-o-scrollbar-thumb{background:#88888854!important;border-radius:10px!important}.all-desgin[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-o-scrollbar-thumb:hover{background:#555!important}.all-desgin[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-o-scrollbar{background-color:transparent!important;width:5px!important;transition-duration:.7s!important}.all-desgin-en[_ngcontent-%COMP%]{text-align:left}.all-desgin-ar[_ngcontent-%COMP%]{text-align:right}.example-container[_ngcontent-%COMP%]{vertical-align:top;min-width:325px;max-width:325px;margin-right:10px;padding:0}.example-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:20px;font-size:20px;z-index:999;top:0}.example-list[_ngcontent-%COMP%]{background:#e8e8e8;margin:0;padding:10px;min-height:500px;border-radius:10px;list-style-type:none;background-color:#f1f1f1}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-radius:5px;color:rgba(0,0,0,.87);align-items:center;box-sizing:border-box;cursor:move;background:#fff;font-size:14px;margin-bottom:10px;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);transition:all .3s cubic-bezier(.25,.8,.25,1)}.example-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box.cdk-drag-disabled[_ngcontent-%COMP%]{background:#ccc;cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;user-select:none}.number-Receipts[_ngcontent-%COMP%]{padding:5px 14px;border-radius:50%;font-weight:700;background-color:#458bc0;color:#fff}.title-Receipts[_ngcontent-%COMP%]{margin:20px 0}.title-Receipts[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:inline}']}),e}(),te=function e(){c(this,e)},ne=o(27961),ie=o(61900),re=o(13395),oe=o(82589),ae=o(71825),ce=o(76757),le=o(77915),se=o(82270),de=o(5851);function pe(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",4),u["\u0275\u0275elementStart"](1,"h1",5),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function me(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function ue(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name_ar)}}function he(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",51),u["\u0275\u0275template"](1,me,2,1,"span",1),u["\u0275\u0275template"](2,ue,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275propertyInterpolate"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ge(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",52),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).OnAdd()}),u["\u0275\u0275element"](1,"i",27),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function _e(e,t){1&e&&u["\u0275\u0275element"](0,"i",53)}function fe(e,t){1&e&&u["\u0275\u0275element"](0,"i",54)}function Ce(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",47),u["\u0275\u0275template"](2,_e,1,0,"i",48),u["\u0275\u0275template"](3,fe,1,0,"i",49),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function ve(e,t){1&e&&u["\u0275\u0275element"](0,"i",53)}function ye(e,t){1&e&&u["\u0275\u0275element"](0,"i",54)}function be(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",47),u["\u0275\u0275template"](2,ve,1,0,"i",48),u["\u0275\u0275template"](3,ye,1,0,"i",49),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function xe(e,t){1&e&&u["\u0275\u0275element"](0,"i",53)}function Me(e,t){1&e&&u["\u0275\u0275element"](0,"i",54)}function Se(e,t){1&e&&u["\u0275\u0275element"](0,"i",53)}function Pe(e,t){1&e&&u["\u0275\u0275element"](0,"i",54)}function Re(e,t){1&e&&u["\u0275\u0275element"](0,"i",53)}function Oe(e,t){1&e&&u["\u0275\u0275element"](0,"i",54)}function Ie(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",47),u["\u0275\u0275template"](2,Re,1,0,"i",48),u["\u0275\u0275template"](3,Oe,1,0,"i",49),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","CustomerName"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"desc"==n.sortDirection)}}function Ee(e,t){1&e&&u["\u0275\u0275element"](0,"i",53)}function we(e,t){1&e&&u["\u0275\u0275element"](0,"i",54)}function ke(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",47),u["\u0275\u0275template"](2,Ee,1,0,"i",48),u["\u0275\u0275template"](3,we,1,0,"i",49),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","CustomerNamear"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"desc"==n.sortDirection)}}function Be(e,t){1&e&&u["\u0275\u0275element"](0,"i",53)}function De(e,t){1&e&&u["\u0275\u0275element"](0,"i",54)}function Fe(e,t){1&e&&u["\u0275\u0275element"](0,"i",53)}function Le(e,t){1&e&&u["\u0275\u0275element"](0,"i",54)}function qe(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function Ve(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function Ne(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.customername)}}function Te(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.customernamear," ")}}function Ue(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Ae(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function Ge(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,Ue,2,1,"td",1),u["\u0275\u0275template"](2,Ae,2,1,"td",1),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"]().$implicit,r=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.id===i.approvalid&&"ar"!=r.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.id===i.approvalid&&"ar"==r.lang)}}function $e(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1,"\xa0"),u["\u0275\u0275elementEnd"]())}function ze(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"a",60),u["\u0275\u0275element"](1,"i",61),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/batchorder/",null==n?null:n.id,"")}}function je(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275template"](1,qe,2,1,"td",1),u["\u0275\u0275template"](2,Ve,2,1,"td",1),u["\u0275\u0275elementStart"](3,"td"),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"td"),u["\u0275\u0275text"](6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](7,Ne,2,1,"td",1),u["\u0275\u0275template"](8,Te,2,1,"td",1),u["\u0275\u0275elementStart"](9,"td"),u["\u0275\u0275text"](10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](11,Ge,3,2,"ng-container",55),u["\u0275\u0275template"](12,$e,2,0,"td",1),u["\u0275\u0275elementStart"](13,"td",56),u["\u0275\u0275template"](14,ze,2,1,"a",57),u["\u0275\u0275elementStart"](15,"a",58),u["\u0275\u0275element"](16,"i",59),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.netvalue),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",i.WOrkStatusList),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!n.approvalid),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(627)),u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/batchorder/",null==n?null:n.id,"/show")}}function Qe(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275template"](1,je,17,11,"tr",55),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",n.ReceiptList)}}function We(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275elementStart"](1,"tr",62),u["\u0275\u0275elementStart"](2,"td",63),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Je(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",64),u["\u0275\u0275elementStart"](1,"ngb-pagination",65),u["\u0275\u0275listener"]("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PageNo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](2,"p"),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"select",66),u["\u0275\u0275listener"]("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PageSize=e}),u["\u0275\u0275elementStart"](5,"option",67),u["\u0275\u0275text"](6,"10 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"option",68),u["\u0275\u0275text"](8,"50 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"option",69),u["\u0275\u0275text"](10,"100 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](11,"br"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",i.PageSize)}}function He(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275elementStart"](1,"div",6),u["\u0275\u0275elementStart"](2,"div",7),u["\u0275\u0275elementStart"](3,"div",8),u["\u0275\u0275elementStart"](4,"h6",9),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",10),u["\u0275\u0275elementStart"](8,"div",11),u["\u0275\u0275elementStart"](9,"section"),u["\u0275\u0275elementStart"](10,"div",4),u["\u0275\u0275elementStart"](11,"div",12),u["\u0275\u0275elementStart"](12,"form",13,14),u["\u0275\u0275listener"]("ngSubmit",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),u["\u0275\u0275elementStart"](14,"div",4),u["\u0275\u0275elementStart"](15,"div",15),u["\u0275\u0275elementStart"](16,"div",16),u["\u0275\u0275elementStart"](17,"label",17),u["\u0275\u0275text"](18),u["\u0275\u0275pipe"](19,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"select",18,19),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),u["\u0275\u0275elementStart"](22,"option",20),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](25,he,3,3,"option",21),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](26,"div",15),u["\u0275\u0275elementStart"](27,"div",16),u["\u0275\u0275elementStart"](28,"label",22),u["\u0275\u0275text"](29),u["\u0275\u0275pipe"](30,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"input",23,24),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"div",25),u["\u0275\u0275elementStart"](34,"button",26),u["\u0275\u0275element"](35,"i",27),u["\u0275\u0275text"](36),u["\u0275\u0275pipe"](37,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"button",28),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ShowAll()}),u["\u0275\u0275element"](39,"i",27),u["\u0275\u0275text"](40),u["\u0275\u0275pipe"](41,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"div",29),u["\u0275\u0275elementStart"](43,"div",30),u["\u0275\u0275elementStart"](44,"div",31),u["\u0275\u0275template"](45,ge,4,3,"button",32),u["\u0275\u0275elementStart"](46,"button",33),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().OnPrint()}),u["\u0275\u0275element"](47,"i",27),u["\u0275\u0275text"](48),u["\u0275\u0275pipe"](49,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](50,"button",34),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().OnPrint(1)}),u["\u0275\u0275element"](51,"i",27),u["\u0275\u0275text"](52),u["\u0275\u0275pipe"](53,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](54,"button",35),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().OnExcel()}),u["\u0275\u0275element"](55,"i",27),u["\u0275\u0275text"](56),u["\u0275\u0275pipe"](57,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](58,"div",36),u["\u0275\u0275elementStart"](59,"div",37),u["\u0275\u0275elementStart"](60,"label",38),u["\u0275\u0275text"](61),u["\u0275\u0275pipe"](62,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](63,"input",39,40),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ChangePropFinish()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](65,"div",4),u["\u0275\u0275elementStart"](66,"div",41),u["\u0275\u0275elementStart"](67,"div",42),u["\u0275\u0275elementStart"](68,"div",43),u["\u0275\u0275elementStart"](69,"div",44),u["\u0275\u0275elementStart"](70,"table",45),u["\u0275\u0275elementStart"](71,"thead"),u["\u0275\u0275elementStart"](72,"tr"),u["\u0275\u0275elementStart"](73,"th",46),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),u["\u0275\u0275text"](74),u["\u0275\u0275pipe"](75,"translate"),u["\u0275\u0275template"](76,Ce,4,3,"ng-container",1),u["\u0275\u0275template"](77,be,4,3,"ng-container",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](78,"th",46),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),u["\u0275\u0275text"](79),u["\u0275\u0275pipe"](80,"translate"),u["\u0275\u0275elementContainerStart"](81),u["\u0275\u0275element"](82,"i",47),u["\u0275\u0275template"](83,xe,1,0,"i",48),u["\u0275\u0275template"](84,Me,1,0,"i",49),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](85,"th",46),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),u["\u0275\u0275text"](86),u["\u0275\u0275pipe"](87,"translate"),u["\u0275\u0275elementContainerStart"](88),u["\u0275\u0275element"](89,"i",47),u["\u0275\u0275template"](90,Se,1,0,"i",48),u["\u0275\u0275template"](91,Pe,1,0,"i",49),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](92,"th",46),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),u["\u0275\u0275text"](93),u["\u0275\u0275pipe"](94,"translate"),u["\u0275\u0275template"](95,Ie,4,3,"ng-container",1),u["\u0275\u0275template"](96,ke,4,3,"ng-container",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](97,"th",46),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("NetValue")}),u["\u0275\u0275text"](98),u["\u0275\u0275pipe"](99,"translate"),u["\u0275\u0275elementContainerStart"](100),u["\u0275\u0275element"](101,"i",47),u["\u0275\u0275template"](102,Be,1,0,"i",48),u["\u0275\u0275template"](103,De,1,0,"i",49),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](104,"th",46),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("Status")}),u["\u0275\u0275text"](105),u["\u0275\u0275pipe"](106,"translate"),u["\u0275\u0275elementContainerStart"](107),u["\u0275\u0275element"](108,"i",47),u["\u0275\u0275template"](109,Fe,1,0,"i",48),u["\u0275\u0275template"](110,Le,1,0,"i",49),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](111,"th"),u["\u0275\u0275text"](112,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](113,Qe,2,1,"tbody",1),u["\u0275\u0275template"](114,We,5,3,"tbody",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](115,Je,12,7,"div",50),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](6,40,"WorkOrders")),u["\u0275\u0275advance"](13),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](19,42,"Branch")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](24,44,"All")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",i.BranchList),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](30,46,"EntryNo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](37,48,"Search")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](41,50,"All")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(580)),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](49,52,"Print")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](53,54,"pdf")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](57,56,"Excel")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](62,58,"Search")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),u["\u0275\u0275advance"](11),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](75,60,"Branch")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](80,62,"EntryNo")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](87,64,"Date")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](94,66,"custvendor")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](99,68,"value")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","NetValue"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","NetValue"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](106,70,"Status")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","Status"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Status"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Status"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",i.ReceiptList.length>0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var Ye=function(){var e=function(){function e(t,n,i,r,o,a,l,s,d,p,m,u,h,g,_,f){var C=this;c(this,e),this._cashsalesService=t,this._ProductionService=n,this.cd=i,this.toastr=r,this._router=o,this._generalService=a,this.translate=l,this._translateGlobalService=s,this.spinner=d,this._ReceiptSharedService=m,this._authService=u,this._printService=h,this._Excel=g,this._convertToPDF=_,this._VerifyReportsService=f,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new R.Wb,this.NumNotExist="",this.title="",this.WOrkStatusList=[],this.timeout=null,this.sortDirection="asc",this.sortColumn="",this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){C.lang=e.lang,C.dir=e.dir,C.translate.use(e.lang),C.ngTransUnsubscribe=C.translate.get("SelectBranchError").subscribe(function(e){C.SelectBranchMsg=e}),C.ngTransUnsubscribe=C.translate.get("EntryNumberMsg").subscribe(function(e){C.EntryNumberMsg=e})}),p.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),C._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):C._ReceiptSearch.BranchID=0}),this.ngTransUnsubscribe=this.translate.get(["WorkOrders"]).subscribe(function(e){C.title=e.WorkOrders,document.title=C.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){C.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){if(0==C.subsidiaryID&&(C.subsidiaryID=C._generalService.SubsidiaryID,C.ReceiptSearch(),C.GetWorkOrderStatusList()),C.subsidiaryID!=C._generalService.SubsidiaryID&&C.subsidiaryID>0){C.subsidiaryID=C._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),C._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:C._ReceiptSearch.BranchID})),C._ReceiptSearch.PageNo=1,C._ReceiptSearch.PageSize=10,C.GetBranchList(),C.ReceiptSearch(),C.GetWorkOrderStatusList()}})}return a(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="84",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount(),this.GetWorkOrderStatusList())}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,console.log(t),1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/production/batchorder/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/production/batchorder/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/production/batchorder/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/production/batchorder/".concat(e.id),this._router.navigate([t])}},{key:"GetWorkOrderStatusList",value:function(){var e=this;this._ProductionService.GetWorkOrderStatusList().subscribe(function(t){e.WOrkStatusList=t,console.log(e.WOrkStatusList),e.cd.markForCheck()})}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",o="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0645\u0648\u0631\u062f/\u0639\u0645\u064a\u0644":"Customer / Vendor",l="ar"==this.lang?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status",s="ar"==this.lang?"\u0627\u0644\u0642\u064a\u0645\u0629":"Total";this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(d){e.cd.markForCheck(),n='\n          <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                <thead>\n                  <tr style="background: #e9f1f5;color: cornflowerblue;">\n                    <th>').concat(r,"</th>\n                    <th>").concat(o,"</th>\n                    <th>").concat(a,"</th>\n                    <th>").concat(c,"</th>\n                    <th>").concat(s,"</th>\n                    <th>").concat(l,"</th>\n\n                  </tr>\n                </thead>\n            <tbody>\n        "),d.map(function(t){var i,r,o;r=e.WOrkStatusList.find(function(e){return e.id==t.approvalid}).name||"",o=e.WOrkStatusList.find(function(e){return e.id==t.approvalid}).name_ar||"",n+="\n       <tr>\n        <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n        <td>").concat(t.entry_no,"</td>\n        <td>").concat(t.entry_date,"</td>\n        <td>").concat(null!==(i="ar"==e.lang?t.customernamear:t.customername)&&void 0!==i?i:"","</td>\n        <td>").concat(t.netvalue,"</td>\n        <td>").concat("ar"==e.lang?o:r,"</td>\n       </tr>\n       ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){var i,r;i=e.WOrkStatusList.find(function(e){return e.id==n.approvalid}).name||"",r=e.WOrkStatusList.find(function(e){return e.id==n.approvalid}).name_ar||"",t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0645\u0648\u0631\u062f/\u0627\u0644\u0639\u0645\u064a\u0644":n.customernamear,"\u0627\u0644\u0642\u064a\u0645\u0629":n.netvalue,"\u0627\u0644\u062d\u0627\u0644\u0629":r}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,"Customer/Vendor":n.customernamear,Total:n.netvalue,Status:i})}),e._Excel.exportAsExcelFile(t,"batchorders")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](ne.n),u["\u0275\u0275directiveInject"](S.g),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](oe.t2),u["\u0275\u0275directiveInject"](h.gz),u["\u0275\u0275directiveInject"](ie.t),u["\u0275\u0275directiveInject"](k.e),u["\u0275\u0275directiveInject"](ae.$),u["\u0275\u0275directiveInject"](ce.x),u["\u0275\u0275directiveInject"](le.z),u["\u0275\u0275directiveInject"](re.J))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["Batch-Order"]],features:[u["\u0275\u0275ProvidersFeature"]([ne.n,ie.t,re.J,S.g])],decls:6,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-1","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive"],[1,"table","m-0","table-striped","table-accountdetails"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between\n              flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn primary transparent-BG",3,"routerLink",4,"ngIf"],["href","javascript:;",1,"btn","success","transparent-BG",3,"routerLink"],[1,"fa","fa-paperclip","font-medium-1"],["href","javascript:;",1,"btn","primary","transparent-BG",3,"routerLink"],[1,"ft-edit","font-medium-1"],[1,"text-center"],["colspan","9"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,pe,4,3,"div",0),u["\u0275\u0275elementStart"](1,"section"),u["\u0275\u0275template"](2,He,116,72,"div",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"ngx-spinner",2),u["\u0275\u0275elementStart"](4,"p",3),u["\u0275\u0275text"](5,"Loading..."),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("ngIf",!t.checkRoleParms(579)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",t.checkRoleParms(579)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,oe.Ro,p._Y,p.JL,p.F,p.EJ,p.Q7,p.JJ,p.On,p.YN,p.Kr,l.sg,p.qQ,p.wV,p.Fj,se.K,h.yS,de.N9],pipes:[g.X$],styles:[".table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#80808030}.table-accountdetails[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#7b809a}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}"]}),e}(),Ze=o(22501),Ke=o.n(Ze),Xe=o(3148),et=o(75700),tt=o(67193),nt=o(16676),it=o(529),rt=o(878),ot=o(16395),at=o(63567),ct=o(15463),lt=o(29743),st=o(64328),dt=o(71309),pt=o(58293),mt=o(52529),ut=o(88706),ht=o(20590),gt=o(32161),_t=["LinkedReceiptsBatchOrderModel"],ft=["RForm"],Ct=["PaymentMethodModel"];function vt(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",2),u["\u0275\u0275elementStart"](1,"h1",3),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function yt(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",108),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).DocumentAction()}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function bt(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",109),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PrintPreview(0)}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function xt(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",110),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](4).DeleteAction()}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Mt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275template"](1,xt,3,4,"button",111),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function St(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"button",110),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).IssueVoucher()}),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"button",110),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).CashReturn(53)}),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,4,"IssueVoucher")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](6,6,"CashReturn")," ")}}function Pt(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",110),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).CreateCredit_CashSales(52)}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"CreateCreditSales")," "))}function Rt(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",110),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).CreateCredit_CashSales(51)}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"CreateCashSales")," "))}function Ot(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",110),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).DupilcateAction()}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function It(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"button",110),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPrint()}),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](4,Mt,2,1,"div",1),u["\u0275\u0275template"](5,St,7,8,"ng-container",1),u["\u0275\u0275template"](6,Pt,3,3,"button",111),u["\u0275\u0275template"](7,Rt,3,3,"button",111),u["\u0275\u0275template"](8,Ot,3,4,"button",111),u["\u0275\u0275elementStart"](9,"email-popup",112),u["\u0275\u0275listener"]("_savedemailobj",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).sendEmail(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,8,"Print")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(581)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==(null==i.InventorySetting[0]?null:i.InventorySetting[0].salesreturneffect)&&0==i.ShowModeReceipt),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==i.ShowModeReceipt),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==i.ShowModeReceipt),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(580)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("entryno",i._Receipt.entry_no)}}function Et(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.text,"")}}function wt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.text_ar,"")}}function kt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,Et,2,1,"span",1),u["\u0275\u0275template"](2,wt,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Bt(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1,"choose"),u["\u0275\u0275elementEnd"]())}function Dt(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]())}function Ft(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Lt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function qt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,Ft,2,1,"span",1),u["\u0275\u0275template"](2,Lt,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Vt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sugar)}}function Nt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sug)}}function Tt(e,t){if(1&e&&(u["\u0275\u0275template"](0,Vt,2,1,"div",1),u["\u0275\u0275template"](1,Nt,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ut(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1,"choose"),u["\u0275\u0275elementEnd"]())}function At(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]())}function Gt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function $t(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function zt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,Gt,2,1,"span",1),u["\u0275\u0275template"](2,$t,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function jt(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1,"choose"),u["\u0275\u0275elementEnd"]())}function Qt(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]())}function Wt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Jt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Ht(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,Wt,2,1,"span",1),u["\u0275\u0275template"](2,Jt,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Yt(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",119),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Zt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Kt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Xt(e,t){if(1&e&&(u["\u0275\u0275template"](0,Zt,2,1,"div",1),u["\u0275\u0275template"](1,Kt,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function en(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function tn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function nn(e,t){if(1&e&&(u["\u0275\u0275template"](0,en,2,1,"div",1),u["\u0275\u0275template"](1,tn,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var rn=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function on(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",158),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275nextContext"](2);var i=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction2"](2,rn,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function an(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",158),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275nextContext"](2);var i=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction2"](2,rn,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function cn(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function ln(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function sn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function dn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function pn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",160),u["\u0275\u0275template"](1,sn,2,1,"span",1),u["\u0275\u0275template"](2,dn,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"]().$implicit,r=u["\u0275\u0275nextContext"](3);u["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=r.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==r.lang)}}var mn=function(e,t){return{"invalid-data":e,"valid-data":t}};function un(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",161,162),u["\u0275\u0275listener"]("keyup",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]().index;return u["\u0275\u0275nextContext"](3).ChangePackItem(e)})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.conv=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3),l=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),u["\u0275\u0275propertyInterpolate1"]("name","item_conv",o,""),u["\u0275\u0275property"]("readonly",3==(null==a?null:a.item_type)&&null!=(null==a?null:a.item_id))("Min",1e-5)("CheckMin",null!=(null==a?null:a.item_id))("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("ngModel",a.conv)("required",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](9,mn,i.invalid&&c.submitted,i.valid&&c.submitted))}}function hn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2).$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("minimum sale price ",null==n?null:n.lowestsaleprice,"")}}function gn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2).$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" \u0627\u0642\u0644 \u0633\u0639\u0631 \u0628\u064a\u0639 ",null==n?null:n.lowestsaleprice,"")}}function _n(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"The selling price is less than the cost "),u["\u0275\u0275elementEnd"]())}function fn(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1," \u0633\u0639\u0631 \u0627\u0644\u0628\u064a\u0639 \u0627\u0642\u0644 \u0645\u0646 \u0627\u0644\u062a\u0643\u0644\u0641\u0629 "),u["\u0275\u0275elementEnd"]())}function Cn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",163),u["\u0275\u0275template"](1,hn,2,1,"span",1),u["\u0275\u0275template"](2,gn,2,1,"span",1),u["\u0275\u0275template"](3,_n,2,0,"span",1),u["\u0275\u0275template"](4,fn,2,0,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang&&(null==n.CurrentUserSetting?null:n.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang&&(null==n.CurrentUserSetting?null:n.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang&&!(null!=n.CurrentUserSetting&&n.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang&&!(null!=n.CurrentUserSetting&&n.CurrentUserSetting.showcostprice))}}function vn(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"Maximum number can be 100 % Discount"),u["\u0275\u0275elementEnd"]())}function yn(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"\u0623\u0643\u0628\u0631 \u0646\u0633\u0628\u0629 \u0647\u0649 100% \u062e\u0635\u0645"),u["\u0275\u0275elementEnd"]())}function bn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",163),u["\u0275\u0275template"](1,vn,2,0,"span",1),u["\u0275\u0275template"](2,yn,2,0,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function xn(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"a",148),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"](3).SubDocumentAction(e)}),u["\u0275\u0275element"](1,"i",164),u["\u0275\u0275elementEnd"]()}}var Mn=function(e){return{item_id:e}};function Sn(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"p-autoComplete",126,127),u["\u0275\u0275listener"]("onFocus",function(e){var t=u["\u0275\u0275restoreView"](n).index,i=u["\u0275\u0275reference"](3),r=u["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).StoreChangeSearch(e,t)})("onClear",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275template"](5,Xt,2,2,"ng-template",128),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275elementStart"](7,"p-autoComplete",129,130),u["\u0275\u0275listener"]("onFocus",function(e){var t=u["\u0275\u0275restoreView"](n).index,i=u["\u0275\u0275reference"](8),r=u["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).onClearItems(e)}),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275template"](10,nn,2,2,"ng-template",131),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td",132),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return u["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),u["\u0275\u0275template"](12,on,2,5,"div",133),u["\u0275\u0275template"](13,an,2,5,"div",133),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"td"),u["\u0275\u0275elementStart"](15,"select",134,135),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeItemUnits(e.target.value,t)}),u["\u0275\u0275template"](17,cn,2,1,"option",136),u["\u0275\u0275template"](18,ln,2,1,"option",136),u["\u0275\u0275template"](19,pn,3,4,"option",137),u["\u0275\u0275pipe"](20,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](21,un,3,12,"td",1),u["\u0275\u0275elementStart"](22,"td"),u["\u0275\u0275elementStart"](23,"input",138,139),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"td"),u["\u0275\u0275elementStart"](26,"input",140,141),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangePrice(e)})("ngModelChange",function(e){return t.$implicit.price=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](28,Cn,5,4,"div",92),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](29,"td"),u["\u0275\u0275elementStart"](30,"input",142,143),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e)})("ngModelChange",function(e){return t.$implicit.discount_percent=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](32,bn,3,2,"div",92),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"td"),u["\u0275\u0275elementStart"](34,"input",144,145),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).CalaculteValuesItemsRow(e,"value")})("ngModelChange",function(e){return t.$implicit.discount_value=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](36,"td"),u["\u0275\u0275elementStart"](37,"input",146),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ReCalaculteValuesChangeItemsRow(e)})("ngModelChange",function(e){return t.$implicit.total=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"td",147),u["\u0275\u0275elementStart"](39,"a",148),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;u["\u0275\u0275nextContext"](2);var t=u["\u0275\u0275reference"](275);return u["\u0275\u0275nextContext"]().OnEditItemsNotes(e,t)}),u["\u0275\u0275elementStart"](40,"span",149),u["\u0275\u0275element"](41,"i",150),u["\u0275\u0275element"](42,"i",151),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](43,"a",148),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).DeleteItems(e)}),u["\u0275\u0275element"](44,"i",152),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](45,xn,2,0,"a",153),u["\u0275\u0275elementStart"](46,"a",154),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;u["\u0275\u0275nextContext"](2);var t=u["\u0275\u0275reference"](277);return u["\u0275\u0275nextContext"]().OnSerialItems(e,t)}),u["\u0275\u0275element"](47,"i",155),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](48,"td",87),u["\u0275\u0275elementStart"](49,"input",156,157),u["\u0275\u0275listener"]("ngModelChange",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).Checkwarrantydate(e,t)}),u["\u0275\u0275pipe"](51,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275reference"](16),a=u["\u0275\u0275reference"](24),c=u["\u0275\u0275reference"](27),l=u["\u0275\u0275reference"](31),s=u["\u0275\u0275reference"](35),d=u["\u0275\u0275reference"](50);u["\u0275\u0275nextContext"](2);var p=u["\u0275\u0275reference"](3),m=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),u["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=m.CurrentUserSetting&&m.CurrentUserSetting.canchangestore))("suggestions",m.StoreList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](4,59,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),u["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",m.ItemsList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](9,61,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf","ar"!=m.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==m.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),u["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](69,mn,o.invalid&&p.submitted,o.valid&&p.submitted)),u["\u0275\u0275attribute"]("disabled",3==(null==i?null:i.item_type)&&null!=(null==i?null:i.item_id)||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=m.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==m.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",u["\u0275\u0275pipeBind2"](20,63,m.ItemUnitsList,u["\u0275\u0275pureFunction1"](72,Mn,null==i?null:i.item_id))),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==m.CashCustomerSetting?null:m.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),u["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",u["\u0275\u0275pureFunction2"](74,mn,a.invalid&&p.submitted,a.valid&&p.submitted)),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","item_price",r,""),u["\u0275\u0275property"]("ngModel",i.price)("readonly",1==(null==m.CurrentUserSetting?null:m.CurrentUserSetting.changesalespricemode))("Min",0)("ngClass",u["\u0275\u0275pureFunction2"](77,mn,c.invalid&&p.submitted,c.valid&&p.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",null==c.errors?null:c.errors.customMin),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","item_discount_percent",r,""),u["\u0275\u0275property"]("ngModel",i.discount_percent)("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("readonly",!(null!=m.CurrentUserSetting&&m.CurrentUserSetting.showreceiptitemdiscount))("ngClass",u["\u0275\u0275pureFunction2"](80,mn,l.invalid&&p.submitted||(null==l.errors?null:l.errors.customMax),l.valid&&p.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",null==l.errors?null:l.errors.customMax),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","item_discount_value",r,""),u["\u0275\u0275property"]("ngModel",i.discount_value)("readonly",!(null!=m.CurrentUserSetting&&m.CurrentUserSetting.showreceiptitemdiscount))("Min",0)("CheckMin",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](83,mn,s.invalid&&p.submitted,s.valid&&p.submitted)),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","item_total",r,""),u["\u0275\u0275property"]("ngModel",i.total)("readonly",0==!(null!=m.CurrentUserSetting&&m.CurrentUserSetting.changesalespricemode)),u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("ngIf",null!=i.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden",!(2==i.isrequireserial||3==i.isrequireserial)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!m.ShowWarrantyDateCols),u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","warrantydate",r,""),u["\u0275\u0275property"]("hidden",!i.haswarrenty)("ngModel",u["\u0275\u0275pipeBind2"](51,66,i.warrantydate,"yyyy-MM-dd"))("required",i.haswarrenty)("ngClass",u["\u0275\u0275pureFunction2"](86,mn,d.invalid&&p.submitted,d.valid&&p.submitted))}}var Pn=function(e){return{"table-for-autocomplete":e}};function Rn(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",115),u["\u0275\u0275elementStart"](1,"div",116),u["\u0275\u0275elementStart"](2,"div",117),u["\u0275\u0275elementStart"](3,"table",84),u["\u0275\u0275elementStart"](4,"thead"),u["\u0275\u0275elementStart"](5,"tr"),u["\u0275\u0275elementStart"](6,"th",118),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",119),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",85),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",120),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](18,Yt,3,3,"th",121),u["\u0275\u0275elementStart"](19,"th",122),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"th",123),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"th",122),u["\u0275\u0275text"](26),u["\u0275\u0275pipe"](27,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"th",122),u["\u0275\u0275text"](29),u["\u0275\u0275pipe"](30,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"th",123),u["\u0275\u0275text"](32),u["\u0275\u0275pipe"](33,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](34,"th",85),u["\u0275\u0275elementStart"](35,"th",86),u["\u0275\u0275text"](36),u["\u0275\u0275pipe"](37,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"tbody"),u["\u0275\u0275template"](39,Sn,52,89,"tr",124),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](40,"button",125),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddItems()}),u["\u0275\u0275text"](41),u["\u0275\u0275pipe"](42,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction1"](38,Pn,i.isType)),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,16,"Store")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,18,"ItemCode")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,20,"ItemDescription")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](17,22,"Unit")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,24,"qty")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](24,26,"Price")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](27,28,"Disc%")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](30,30,"Discount")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](33,32,"Total")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden",!i.ShowWarrantyDateCols),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](37,34,"WarrantyDate")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](42,36,"Add")," ")}}function On(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",119),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function In(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function En(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function wn(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function kn(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Bn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Dn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Fn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,Bn,2,1,"span",1),u["\u0275\u0275template"](2,Dn,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](5);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Ln(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",170),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.conv=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](),r=i.index,o=i.$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","item_conv_c",r,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",o.conv)}}function qn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"input",167),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.storecode=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"td"),u["\u0275\u0275elementStart"](4,"input",167),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.itemcode=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"td"),u["\u0275\u0275template"](6,In,2,1,"div",1),u["\u0275\u0275template"](7,En,2,1,"div",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"td"),u["\u0275\u0275elementStart"](9,"select",168),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),u["\u0275\u0275template"](10,wn,2,1,"option",136),u["\u0275\u0275template"](11,kn,2,1,"option",136),u["\u0275\u0275template"](12,Fn,3,3,"option",25),u["\u0275\u0275pipe"](13,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](14,Ln,2,3,"td",1),u["\u0275\u0275elementStart"](15,"td"),u["\u0275\u0275elementStart"](16,"input",169),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"td"),u["\u0275\u0275elementStart"](18,"input",169),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.price=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"td"),u["\u0275\u0275elementStart"](20,"input",169),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.total=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","storecode_c",i,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",n.storecode),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","itemcode_c",i,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",n.itemcode),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=r.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==r.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","itemunit_c",i,""),u["\u0275\u0275property"]("ngModel",n.unit_id),u["\u0275\u0275attribute"]("disabled",!0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=r.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==r.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",u["\u0275\u0275pipeBind2"](13,24,r.ItemComponentUnitsList,u["\u0275\u0275pureFunction1"](27,Mn,n.item_id))),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==r.CashCustomerSetting?null:r.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","item_qty_c",i,""),u["\u0275\u0275property"]("ngModel",n.qty)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","item_price_c",i,""),u["\u0275\u0275property"]("ngModel",n.price)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","item_total_c",i,""),u["\u0275\u0275property"]("ngModel",n.total)("readonly",!0)}}var Vn=function(e){return{finishedproductid:e}};function Nn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",165),u["\u0275\u0275elementStart"](1,"div",116),u["\u0275\u0275elementStart"](2,"div",83),u["\u0275\u0275elementStart"](3,"table",84),u["\u0275\u0275elementStart"](4,"thead"),u["\u0275\u0275elementStart"](5,"tr"),u["\u0275\u0275elementStart"](6,"th",118),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",119),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",85),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",120),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](18,On,3,3,"th",121),u["\u0275\u0275elementStart"](19,"th",122),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"th",123),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"th",123),u["\u0275\u0275text"](26),u["\u0275\u0275pipe"](27,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"tbody"),u["\u0275\u0275template"](29,qn,21,29,"tr",166),u["\u0275\u0275pipe"](30,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,9,"Store")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,11,"ItemCode")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,13,"ItemDescription")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](17,15,"Unit")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==n.CashCustomerSetting?null:n.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,17,"qty")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](24,19,"Price")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](27,21,"Total")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",0==n.show_all_component?u["\u0275\u0275pipeBind2"](30,23,n.ItemsComponentList,u["\u0275\u0275pureFunction1"](26,Vn,null==n.SelectedItem?null:n.SelectedItem.item_id)):n.ItemsComponentList)}}function Tn(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"li",77),u["\u0275\u0275elementStart"](1,"a",78),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](4,Nn,31,28,"ng-template",79),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("ngbNavItem",2),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](3,2,"Components")))}function Un(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]())}function An(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]())}function Gn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function $n(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function zn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,Gn,2,1,"span",1),u["\u0275\u0275template"](2,$n,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function jn(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Qn(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Wn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function Jn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function Hn(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,Wn,2,1,"span",1),u["\u0275\u0275template"](2,Jn,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.code),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Yn(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"select",172),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),u["\u0275\u0275template"](3,Un,2,0,"option",30),u["\u0275\u0275template"](4,An,2,0,"option",30),u["\u0275\u0275template"](5,zn,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275elementStart"](7,"select",172),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),u["\u0275\u0275template"](8,jn,2,1,"option",136),u["\u0275\u0275template"](9,Qn,2,1,"option",136),u["\u0275\u0275template"](10,Hn,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td"),u["\u0275\u0275elementStart"](12,"input",173,174),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"td",175),u["\u0275\u0275elementStart"](15,"a",148),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),u["\u0275\u0275element"](16,"i",176),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"a",177),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),u["\u0275\u0275element"](18,"i",178),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"a",177),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),u["\u0275\u0275element"](20,"i",179),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),u["\u0275\u0275property"]("ngModel",i.branch_id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",o.BranchList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),u["\u0275\u0275property"]("ngModel",i.code),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",o.ReceiptCodeList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),u["\u0275\u0275property"]("ngModel",i.entry_no),u["\u0275\u0275advance"](3),u["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function Zn(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",2),u["\u0275\u0275elementStart"](1,"div",171),u["\u0275\u0275elementStart"](2,"div",83),u["\u0275\u0275elementStart"](3,"table",84),u["\u0275\u0275elementStart"](4,"thead"),u["\u0275\u0275elementStart"](5,"tr"),u["\u0275\u0275elementStart"](6,"th",85),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",85),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",85),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",85),u["\u0275\u0275text"](16,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"tbody"),u["\u0275\u0275template"](18,Yn,21,13,"tr",166),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"button",125),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,5,"Branch")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,11,"Add")," ")}}function Kn(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]())}function Xn(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]())}function ei(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function ti(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function ni(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,ei,2,1,"span",1),u["\u0275\u0275template"](2,ti,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ii(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function ri(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function oi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,ii,2,1,"span",1),u["\u0275\u0275template"](2,ri,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ai(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",199),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275element"](3,"br"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Value must be greater than 0")," "))}function ci(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function li(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function si(e,t){if(1&e&&(u["\u0275\u0275template"](0,ci,2,1,"div",1),u["\u0275\u0275template"](1,li,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function di(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"select",184),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.expenseid=e})("change",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).changeexpenses(e)}),u["\u0275\u0275template"](3,Kn,2,0,"option",30),u["\u0275\u0275template"](4,Xn,2,0,"option",30),u["\u0275\u0275template"](5,ni,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275elementStart"](7,"select",184),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.currencyid=e})("change",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).changeexpensesCurrency(e,t)}),u["\u0275\u0275template"](8,oi,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"td"),u["\u0275\u0275elementStart"](10,"input",185,186),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeExpensesValue(e)})("ngModelChange",function(e){return t.$implicit.value=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"td"),u["\u0275\u0275elementStart"](13,"input",187,188),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.exchangerate=e})("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeExpensesValue(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](15,ai,4,3,"span",189),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"td"),u["\u0275\u0275elementStart"](17,"div",190),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3)._generalService.onFocusControl("ExpensesLocalValue"+e)}),u["\u0275\u0275text"](18),u["\u0275\u0275pipe"](19,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"input",191,192),u["\u0275\u0275listener"]("focusout",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("ExpensesLocalValue"+e)})("ngModelChange",function(e){return t.$implicit.localvalue=e})("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeExpenseslocalValue(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"td"),u["\u0275\u0275elementStart"](23,"p-autoComplete",193,194),u["\u0275\u0275listener"]("onFocus",function(e){var t=u["\u0275\u0275restoreView"](n).index,i=u["\u0275\u0275nextContext"](3);return i.onFocusInAutoComplete(e,t),i.autoItems.show(),i.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.accountcode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).onSelectAccount(e,t)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).GetAccount(e)})("onClear",function(){return t.$implicit.accountid=null}),u["\u0275\u0275pipe"](25,"translate"),u["\u0275\u0275template"](26,si,2,2,"ng-template",131),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"td"),u["\u0275\u0275elementStart"](28,"input",195,196),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.notes=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"td",197),u["\u0275\u0275elementStart"](31,"a",198),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).DeleteExpenses(e)}),u["\u0275\u0275element"](32,"i",179),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275reference"](14);u["\u0275\u0275nextContext"](2);var a=u["\u0275\u0275reference"](3),c=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","expenseid",r,""),u["\u0275\u0275property"]("ngModel",i.expenseid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",i.expenseList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","expensecurrencyid",r,""),u["\u0275\u0275property"]("ngModel",i.currencyid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",c.CurrencyList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","ExpensesValue",r,""),u["\u0275\u0275property"]("ngModel",i.value),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","ExpensesExchangeRate",r,""),u["\u0275\u0275property"]("ngModel",i.exchangerate)("ngClass",u["\u0275\u0275pureFunction2"](35,mn,i.exchangerate<=0||o.invalid&&a.submitted,o.valid&&a.submitted))("min",1e-26)("disabled",i.currencyid==(null==c._BaseCurrency?null:c._BaseCurrency.id)||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",i.exchangerate<=0),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("id","Display_ExpensesLocalValue",r,""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind2"](19,30,i.localvalue,c._Currencyprecision)," "),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("id","ExpensesLocalValue",r,""),u["\u0275\u0275propertyInterpolate1"]("name","ExpensesLocalValue",r,""),u["\u0275\u0275property"]("ngModel",i.localvalue)("Min",0),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","accountcode",r,""),u["\u0275\u0275property"]("ngModel",i.accountcode)("suggestions",c.AccountList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](25,33,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275propertyInterpolate1"]("name","ExpensesNotes",r,""),u["\u0275\u0275property"]("ngModel",i.notes)}}function pi(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",115),u["\u0275\u0275elementStart"](1,"div",116),u["\u0275\u0275elementStart"](2,"div",180),u["\u0275\u0275elementStart"](3,"table",84),u["\u0275\u0275elementStart"](4,"thead"),u["\u0275\u0275elementStart"](5,"tr"),u["\u0275\u0275elementStart"](6,"th",85),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",85),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",85),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",85),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"th",85),u["\u0275\u0275text"](19),u["\u0275\u0275pipe"](20,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](21,"th",85),u["\u0275\u0275text"](22),u["\u0275\u0275pipe"](23,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"th",85),u["\u0275\u0275text"](25),u["\u0275\u0275pipe"](26,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"th",181),u["\u0275\u0275text"](28," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](29,"tbody"),u["\u0275\u0275template"](30,di,33,38,"tr",166),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"tfoot"),u["\u0275\u0275elementStart"](32,"tr"),u["\u0275\u0275elementStart"](33,"td",85),u["\u0275\u0275text"](34,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](35,"td",85),u["\u0275\u0275text"](36,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](37,"td",85),u["\u0275\u0275text"](38,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](39,"td",85),u["\u0275\u0275text"](40),u["\u0275\u0275pipe"](41,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"td",182),u["\u0275\u0275element"](43,"input",183),u["\u0275\u0275pipe"](44,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](45,"td",85),u["\u0275\u0275text"](46,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](47,"td",85),u["\u0275\u0275text"](48,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](49,"td",181),u["\u0275\u0275text"](50," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](51,"button",125),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddExpenses()}),u["\u0275\u0275text"](52),u["\u0275\u0275pipe"](53,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction1"](34,Pn,i.isType)),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,13,"expense")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,15,"Currency")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,17,"value")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](17,19,"ExchangeRate")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](20,21,"localval")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](23,23,"account")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](26,25,"Note")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngForOf",i._Receipt.receiptexpenses),u["\u0275\u0275advance"](10),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](41,27,"Total")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](44,29,i._Receipt.totalexpensses,i._Currencyprecision))("disabled",!0),u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](53,32,"Add")," ")}}function mi(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"Select"),u["\u0275\u0275elementEnd"]())}function ui(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"\u0623\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]())}function hi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function gi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function _i(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,hi,2,1,"span",1),u["\u0275\u0275template"](2,gi,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var fi=function(e){return{"invalid-data":e}};function Ci(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"select",184,202),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.employeeid=e})("change",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).changeHrEmployee(e)}),u["\u0275\u0275elementStart"](4,"option",159),u["\u0275\u0275template"](5,mi,2,0,"span",1),u["\u0275\u0275template"](6,ui,2,0,"span",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](7,_i,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"td"),u["\u0275\u0275elementStart"](9,"input",203,204),u["\u0275\u0275listener"]("focusout",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).formatSpentHours(t,e.target.value)})("ngModelChange",function(e){return t.$implicit.timeString=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td"),u["\u0275\u0275elementStart"](12,"input",205,206),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeLaborersValue(e)}),u["\u0275\u0275pipe"](14,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"td"),u["\u0275\u0275elementStart"](16,"input",205,207),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeLaborersValue(e)}),u["\u0275\u0275pipe"](18,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"td"),u["\u0275\u0275elementStart"](20,"input",195,208),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.notes=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"td",197),u["\u0275\u0275elementStart"](23,"a",198),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).DeleteLaborers(e)}),u["\u0275\u0275element"](24,"i",179),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275reference"](10);u["\u0275\u0275nextContext"](2);var a=u["\u0275\u0275reference"](3),c=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","laboreremployeeid",r,""),u["\u0275\u0275property"]("ngModel",i.employeeid),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngValue",null),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",c.HRemployeesList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("id","timeString",r,""),u["\u0275\u0275propertyInterpolate1"]("name","timeString",r,""),u["\u0275\u0275property"]("ngModel",i.timeString)("ngClass",u["\u0275\u0275pureFunction1"](24,fi,o.invalid&&(o.dirty||o.touched)||o.invalid&&a.submitted||"00:00"==i.timeString&&a.submitted)),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","hourlywages",r,""),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](14,18,i.hourlywages,6))("disabled",!0),u["\u0275\u0275advance"](4),u["\u0275\u0275propertyInterpolate1"]("name","laborerValue",r,""),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](18,21,i.value,c._Currencyprecision))("disabled",!0),u["\u0275\u0275advance"](4),u["\u0275\u0275propertyInterpolate1"]("name","laborerNotes",r,""),u["\u0275\u0275property"]("ngModel",i.notes)}}function vi(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",115),u["\u0275\u0275elementStart"](1,"div",116),u["\u0275\u0275elementStart"](2,"div",180),u["\u0275\u0275elementStart"](3,"table",84),u["\u0275\u0275elementStart"](4,"thead"),u["\u0275\u0275elementStart"](5,"tr"),u["\u0275\u0275elementStart"](6,"th",85),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",85),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",85),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",85),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"th",85),u["\u0275\u0275text"](19),u["\u0275\u0275pipe"](20,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](21,"th",181),u["\u0275\u0275text"](22," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](23,"tbody"),u["\u0275\u0275template"](24,Ci,25,26,"tr",166),u["\u0275\u0275elementStart"](25,"tr"),u["\u0275\u0275elementStart"](26,"td",181),u["\u0275\u0275text"](27," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"td",181),u["\u0275\u0275text"](29," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"td"),u["\u0275\u0275text"](31),u["\u0275\u0275pipe"](32,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"td",200),u["\u0275\u0275element"](34,"input",201),u["\u0275\u0275pipe"](35,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](36,"td",85),u["\u0275\u0275text"](37,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"td",181),u["\u0275\u0275text"](39," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](40,"button",125),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddLaborers()}),u["\u0275\u0275text"](41),u["\u0275\u0275pipe"](42,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction1"](28,Pn,i.isType)),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,11,"Empolyee")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,13,"NumberOfHours")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,15,"HourlyWages")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](17,17,"Total")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](20,19,"Note")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngForOf",i._Receipt.receiptlaborers),u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](32,21,"Total")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("readonly",!0)("ngModel",u["\u0275\u0275pipeBind2"](35,23,i._Receipt.totallaborers,i._Currencyprecision)),u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](42,26,"Add")," ")}}function yi(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",165),u["\u0275\u0275elementStart"](1,"div",116),u["\u0275\u0275elementStart"](2,"Signature",209),u["\u0275\u0275listener"]("signatureoutput",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("signature",i._Receipt.signature)}}function bi(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Cost Center"),""))}function xi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n.subsaidarySetting?null:n.subsaidarySetting.costcenteralternativetext,"")}}function Mi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Si(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Pi(e,t){if(1&e&&(u["\u0275\u0275template"](0,Mi,2,1,"div",1),u["\u0275\u0275template"](1,Si,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ri(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Class"),""))}function Oi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](5);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetextar)}}function Ii(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](5);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.classalternativetext)}}function Ei(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275template"](1,Oi,2,1,"span",1),u["\u0275\u0275template"](2,Ii,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function wi(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",27),u["\u0275\u0275text"](1,"*"),u["\u0275\u0275elementEnd"]())}function ki(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Bi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Di(e,t){if(1&e&&(u["\u0275\u0275template"](0,ki,2,1,"div",1),u["\u0275\u0275template"](1,Bi,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Fi(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",212),u["\u0275\u0275elementStart"](1,"label",36),u["\u0275\u0275template"](2,Ri,3,3,"span",1),u["\u0275\u0275template"](3,Ei,3,2,"span",1),u["\u0275\u0275template"](4,wi,2,0,"span",221),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"p-autoComplete",222,223),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](6);return u["\u0275\u0275nextContext"](3).onFocusInClasses(e),t.show()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3)._Receipt.classfieldname=e})("onSelect",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).ClassesSelectEvent(e)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).ClassesChangeSearch(e)})("onClear",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3)._Receipt.classid=null}),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275template"](9,Di,2,2,"ng-template",224),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](7);u["\u0275\u0275nextContext"](2);var r=u["\u0275\u0275reference"](3),o=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",null==(null==o.subsaidarySetting?null:o.subsaidarySetting.classalternativetext)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null!=(null==o.subsaidarySetting?null:o.subsaidarySetting.classalternativetext)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.classmandatory4invtrans),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("required",null==o.subsaidarySetting?null:o.subsaidarySetting.classmandatory4invtrans)("ngModel",o._Receipt.classfieldname)("suggestions",o.ClassList)("ngClass",u["\u0275\u0275pureFunction2"](12,mn,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function Li(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Location")," "))}function qi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](5);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetext)}}function Vi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](5);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.locationalternativetextar)}}function Ni(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275template"](1,qi,2,1,"span",1),u["\u0275\u0275template"](2,Vi,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Ti(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",27),u["\u0275\u0275text"](1,"*"),u["\u0275\u0275elementEnd"]())}function Ui(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Ai(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Gi(e,t){if(1&e&&(u["\u0275\u0275template"](0,Ui,2,1,"div",1),u["\u0275\u0275template"](1,Ai,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function $i(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",212),u["\u0275\u0275elementStart"](1,"label",36),u["\u0275\u0275template"](2,Li,3,3,"span",1),u["\u0275\u0275template"](3,Ni,3,2,"span",1),u["\u0275\u0275template"](4,Ti,2,0,"span",221),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"p-autoComplete",225,226),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](6);return u["\u0275\u0275nextContext"](3).onFocusInLocations(e),t.show()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3)._Receipt.locationfieldname=e})("onSelect",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).LocationsSelectEvent(e)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).LocationsChangeSearch(e)})("onClear",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3)._Receipt.locationid=null}),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275template"](9,Gi,2,2,"ng-template",227),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](7);u["\u0275\u0275nextContext"](2);var r=u["\u0275\u0275reference"](3),o=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",null==(null==o.subsaidarySetting?null:o.subsaidarySetting.locationalternativetext)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null!=(null==o.subsaidarySetting?null:o.subsaidarySetting.locationalternativetext)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.locationmandatory4invtrans),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("required",null==o.subsaidarySetting?null:o.subsaidarySetting.locationmandatory4invtrans)("ngModel",o._Receipt.locationfieldname)("suggestions",o.LocationList)("ngClass",u["\u0275\u0275pureFunction2"](12,mn,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function zi(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Department")," "))}function ji(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](5);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetextar)}}function Qi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](5);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n.subsaidarySetting?null:n.subsaidarySetting.departmentalternativetext)}}function Wi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275template"](1,ji,2,1,"span",1),u["\u0275\u0275template"](2,Qi,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ji(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",27),u["\u0275\u0275text"](1,"*"),u["\u0275\u0275elementEnd"]())}function Hi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Yi(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Zi(e,t){if(1&e&&(u["\u0275\u0275template"](0,Hi,2,1,"div",1),u["\u0275\u0275template"](1,Yi,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ki(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",212),u["\u0275\u0275elementStart"](1,"label",36),u["\u0275\u0275template"](2,zi,3,3,"span",1),u["\u0275\u0275template"](3,Wi,3,2,"span",1),u["\u0275\u0275template"](4,Ji,2,0,"span",221),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"p-autoComplete",228,229),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](6);return u["\u0275\u0275nextContext"](3).onFocusInDepartment(e),t.show()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3)._Receipt.departmentfieldname=e})("onSelect",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).DepartmentSelectEvent(e)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).DepartmentChangeSearch(e)})("onClear",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3)._Receipt.departmentid=null}),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275template"](9,Zi,2,2,"ng-template",230),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](7);u["\u0275\u0275nextContext"](2);var r=u["\u0275\u0275reference"](3),o=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",null==(null==o.subsaidarySetting?null:o.subsaidarySetting.departmentalternativetext)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null!=(null==o.subsaidarySetting?null:o.subsaidarySetting.departmentalternativetext)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.departmentmandatory4invtrans),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("required",null==o.subsaidarySetting?null:o.subsaidarySetting.departmentmandatory4invtrans)("ngModel",o._Receipt.departmentfieldname)("suggestions",o.DepartmentList)("ngClass",u["\u0275\u0275pureFunction2"](12,mn,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](8,10,"NoResultsFound"))("forceSelection",!0)}}function Xi(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function er(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function tr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function nr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function ir(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,tr,2,1,"span",1),u["\u0275\u0275template"](2,nr,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function rr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function or(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function ar(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function cr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function lr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,ar,2,1,"span",1),u["\u0275\u0275template"](2,cr,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function sr(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",210),u["\u0275\u0275elementStart"](1,"div",211),u["\u0275\u0275elementStart"](2,"div",212),u["\u0275\u0275elementStart"](3,"label",36),u["\u0275\u0275template"](4,bi,3,3,"span",1),u["\u0275\u0275template"](5,xi,2,1,"span",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"p-autoComplete",213,214),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](7);return u["\u0275\u0275nextContext"](2).onFocusInCostCenter(e),t.show()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._Receipt.costcenterfieldname=e})("onSelect",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).CostCenterSelectEvent(e)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).CostCenterChangeSearch(e)})("onClear",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._Receipt.costcenterid=null}),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275template"](10,Pi,2,2,"ng-template",215),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](11,Fi,10,15,"div",216),u["\u0275\u0275template"](12,$i,10,15,"div",216),u["\u0275\u0275template"](13,Ki,10,15,"div",216),u["\u0275\u0275elementStart"](14,"div",212),u["\u0275\u0275elementStart"](15,"label",217),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"select",218),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._Receipt.carid=e})("change",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).ChangeCar()}),u["\u0275\u0275template"](19,Xi,2,1,"option",136),u["\u0275\u0275template"](20,er,2,1,"option",136),u["\u0275\u0275template"](21,ir,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"div",212),u["\u0275\u0275elementStart"](23,"label",219),u["\u0275\u0275text"](24),u["\u0275\u0275pipe"](25,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](26,"select",220),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._Receipt.driverid=e})("change",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).ChangeDriver()}),u["\u0275\u0275template"](27,rr,2,1,"option",136),u["\u0275\u0275template"](28,or,2,1,"option",136),u["\u0275\u0275template"](29,lr,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](8);u["\u0275\u0275nextContext"]();var r=u["\u0275\u0275reference"](3),o=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",null==(null==o.subsaidarySetting?null:o.subsaidarySetting.costcenteralternativetext)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null!=(null==o.subsaidarySetting?null:o.subsaidarySetting.costcenteralternativetext)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("required",null==o.subsaidarySetting?null:o.subsaidarySetting.costcentermandatory4invtrans)("ngModel",o._Receipt.costcenterfieldname)("suggestions",o.CostCenterList)("ngClass",u["\u0275\u0275pureFunction2"](28,mn,i.invalid&&r.submitted,i.valid&&r.submitted))("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](9,22,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.classisactive),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.locationisactive),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==o.subsaidarySetting?null:o.subsaidarySetting.departmentisactive),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](17,24,"Cars")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",o._Receipt.carid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",o.CarsList),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](25,26,"Drivers")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",o._Receipt.driverid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",o.DriversList)}}function dr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275element"](1,"td"),u["\u0275\u0275element"](2,"td"),u["\u0275\u0275element"](3,"td"),u["\u0275\u0275element"](4,"td"),u["\u0275\u0275element"](5,"td"),u["\u0275\u0275elementEnd"]())}function pr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",2),u["\u0275\u0275elementStart"](1,"div",171),u["\u0275\u0275elementStart"](2,"div",83),u["\u0275\u0275elementStart"](3,"table",84),u["\u0275\u0275elementStart"](4,"thead"),u["\u0275\u0275elementStart"](5,"tr"),u["\u0275\u0275elementStart"](6,"th",85),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",85),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",85),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",85),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"th",85),u["\u0275\u0275text"](19),u["\u0275\u0275pipe"](20,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](21,"tbody"),u["\u0275\u0275template"](22,dr,6,0,"tr",166),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,6,"Status")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,8,"Date")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,10,"Time")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](17,12,"User")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](20,14,"entry_no")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",n._Receipt.linkedreceipts)}}function mr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function ur(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function hr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",163),u["\u0275\u0275template"](1,mr,2,1,"span",1),u["\u0275\u0275template"](2,ur,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function gr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("Maximum number can be ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % Discount")}}function _r(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("\u0623\u0643\u0628\u0631 \u0631\u0642\u0645 \u0647\u0648 ",null==n.CurrentUserSetting?null:n.CurrentUserSetting.maxreceiptdiscountperc," % \u062e\u0635\u0645 ")}}function fr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",163),u["\u0275\u0275template"](1,gr,2,1,"span",1),u["\u0275\u0275template"](2,_r,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang)}}function Cr(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](4,"td",87),u["\u0275\u0275elementStart"](5,"td"),u["\u0275\u0275elementStart"](6,"input",231),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._totalcost=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,4,"Itemtotalcost")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!i.ForeignCurrencyShow),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i._totalcost)("readonly",!0)}}function vr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275element"](1,"Item-StoreQty",232,233),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function yr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1,"choose"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function br(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function xr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Mr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Sr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,xr,2,1,"span",1),u["\u0275\u0275template"](2,Mr,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Pr(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",248),u["\u0275\u0275elementStart"](1,"label",249),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"select",250),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).DescriptionItem.salesmanid=e}),u["\u0275\u0275template"](5,yr,2,1,"option",136),u["\u0275\u0275template"](6,br,2,1,"option",136),u["\u0275\u0275template"](7,Sr,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](3,5,"ServiceSalesMan")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i.DescriptionItem.salesmanid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",i.SalesManlist)}}var Rr=function(){return{height:"150px"}},Or=function(){return{standalone:!0}};function Ir(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",234),u["\u0275\u0275elementStart"](1,"h6",235),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"button",236),u["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),u["\u0275\u0275elementStart"](5,"span",237),u["\u0275\u0275text"](6,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",238),u["\u0275\u0275elementStart"](8,"div",239),u["\u0275\u0275elementStart"](9,"label",240),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"input",241,242),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).DescriptionItem.customitemname=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"div",211),u["\u0275\u0275elementStart"](15,"div",239),u["\u0275\u0275elementStart"](16,"quill-editor",243),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).DescriptionItem.detailshtml=e})("onContentChanged",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onContentChanged(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](17,Pr,8,7,"div",244),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"div",245),u["\u0275\u0275elementStart"](19,"button",125),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).SaveNotes()}),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"button",246),u["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),u["\u0275\u0275element"](23,"i",247),u["\u0275\u0275text"](24),u["\u0275\u0275pipe"](25,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](3,10,"Description")),u["\u0275\u0275advance"](8),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](11,12,"Item")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i.DescriptionItem.customitemname),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("styles",u["\u0275\u0275pureFunction0"](18,Rr))("ngModel",i.DescriptionItem.detailshtml)("ngModelOptions",u["\u0275\u0275pureFunction0"](19,Or))("modules",i.quillConfig),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.IsSalesManImplemented),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,14,"Save")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](25,16,"Cancel")," ")}}function Er(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h6",235),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function wr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h6",235),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function kr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function Br(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Dr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Fr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",257),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function Lr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",257),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function qr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"date"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind2"](2,1,null==n?null:n.expire_date,"yyyy-MM-dd")," ")}}function Vr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",163),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}function Nr(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",259),u["\u0275\u0275listener"]("change",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"](3).ChangeBatchQty(t,e.target.value)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](2,Vr,3,3,"span",92),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](),r=i.index,o=i.$implicit;u["\u0275\u0275nextContext"]();var a=u["\u0275\u0275reference"](7);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),u["\u0275\u0275property"]("value",null==o?null:o.qty)("ngClass",u["\u0275\u0275pureFunction1"](4,fi,(null==o?null:o.qty)>(null==o?null:o.availableqty)+(null==o?null:o.oldqty)&&a.submitted)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==o?null:o.qty)>(null==o?null:o.availableqty)+(null==o?null:o.oldqty)&&a.submitted)}}function Tr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275element"](2,"input",258),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"td"),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](5,qr,3,4,"td",1),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275text"](7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"td"),u["\u0275\u0275text"](9),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](10,Nr,3,6,"td",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","Vaild",i,""),u["\u0275\u0275property"]("checked",null==n?null:n.valid),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ","ar"!=r.lang?null==n?null:n.name:null==n?null:n.name_ar," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==r.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.serial," "),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.availableqty),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==r.requiredserial)}}function Ur(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",234),u["\u0275\u0275template"](1,Er,3,3,"h6",251),u["\u0275\u0275template"](2,wr,3,3,"h6",251),u["\u0275\u0275elementStart"](3,"button",236),u["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),u["\u0275\u0275elementStart"](4,"span",237),u["\u0275\u0275text"](5,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"form",252,5),u["\u0275\u0275listener"]("ngSubmit",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](7);return u["\u0275\u0275nextContext"](2).saveserial(e)}),u["\u0275\u0275elementStart"](8,"div",238),u["\u0275\u0275elementStart"](9,"div",248),u["\u0275\u0275elementStart"](10,"div",2),u["\u0275\u0275elementStart"](11,"form"),u["\u0275\u0275elementStart"](12,"div",253),u["\u0275\u0275elementStart"](13,"h6",235),u["\u0275\u0275text"](14),u["\u0275\u0275pipe"](15,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"table",84),u["\u0275\u0275elementStart"](17,"thead"),u["\u0275\u0275elementStart"](18,"tr"),u["\u0275\u0275elementStart"](19,"th"),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"th",254),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](25,kr,3,3,"th",1),u["\u0275\u0275template"](26,Br,3,3,"th",1),u["\u0275\u0275template"](27,Dr,3,3,"th",1),u["\u0275\u0275template"](28,Fr,3,3,"th",255),u["\u0275\u0275template"](29,Lr,3,3,"th",255),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"tbody"),u["\u0275\u0275template"](31,Tr,11,7,"tr",124),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](32,"div",245),u["\u0275\u0275elementStart"](33,"button",256),u["\u0275\u0275text"](34),u["\u0275\u0275pipe"](35,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](12),u["\u0275\u0275textInterpolate2"](" ",u["\u0275\u0275pipeBind1"](15,14,"qty")," : ",i._batchqty," "),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,16,"Choose")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](24,18,"Store")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",i.BatchesListForEatchRow)("ngForTrackBy",i.trackByFn),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](35,20,"save")," ")}}function Ar(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Gr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function $r(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function zr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function jr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,$r,2,1,"span",1),u["\u0275\u0275template"](2,zr,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Qr(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"select",268,269),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.paymenttypeid=e}),u["\u0275\u0275template"](4,Ar,2,1,"option",136),u["\u0275\u0275template"](5,Gr,2,1,"option",136),u["\u0275\u0275template"](6,jr,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"td"),u["\u0275\u0275elementStart"](8,"input",270,262),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.amount=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).CalaculteMultiPayment()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"td"),u["\u0275\u0275elementStart"](11,"a",271),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).DeletePaymentMethod(e)}),u["\u0275\u0275element"](12,"i",272),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275reference"](3);u["\u0275\u0275nextContext"]();var a=u["\u0275\u0275reference"](8),c=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","multipayment_type",r,""),u["\u0275\u0275property"]("ngModel",i.paymenttypeid)("ngClass",u["\u0275\u0275pureFunction2"](8,mn,o.invalid&&a.submitted,o.valid&&a.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",c.MultiPaymentMethodsList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","multipayment_amount",r,""),u["\u0275\u0275property"]("ngModel",i.amount)}}function Wr(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",234),u["\u0275\u0275elementStart"](1,"h6",235),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"button",236),u["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),u["\u0275\u0275elementStart"](5,"span",237),u["\u0275\u0275text"](6,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"form",252,260),u["\u0275\u0275listener"]("ngSubmit",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](8);return u["\u0275\u0275nextContext"](2).SaveMultiPayment(e)}),u["\u0275\u0275elementStart"](9,"div",238),u["\u0275\u0275elementStart"](10,"div",115),u["\u0275\u0275elementStart"](11,"div",116),u["\u0275\u0275elementStart"](12,"div",83),u["\u0275\u0275elementStart"](13,"table",84),u["\u0275\u0275elementStart"](14,"thead"),u["\u0275\u0275elementStart"](15,"tr"),u["\u0275\u0275elementStart"](16,"th",85),u["\u0275\u0275text"](17),u["\u0275\u0275pipe"](18,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"th",85),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"th",181),u["\u0275\u0275text"](23,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"tbody"),u["\u0275\u0275template"](25,Qr,13,11,"tr",166),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](26,"button",125),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddPaymentMethod()}),u["\u0275\u0275text"](27),u["\u0275\u0275pipe"](28,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](29,"div",115),u["\u0275\u0275elementStart"](30,"div",116),u["\u0275\u0275elementStart"](31,"div",83),u["\u0275\u0275elementStart"](32,"table",84),u["\u0275\u0275elementStart"](33,"thead"),u["\u0275\u0275elementStart"](34,"tr"),u["\u0275\u0275elementStart"](35,"th",85),u["\u0275\u0275text"](36),u["\u0275\u0275pipe"](37,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"th",85),u["\u0275\u0275text"](39),u["\u0275\u0275pipe"](40,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](41,"th",85),u["\u0275\u0275text"](42),u["\u0275\u0275pipe"](43,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](44,"tbody"),u["\u0275\u0275elementStart"](45,"tr"),u["\u0275\u0275elementStart"](46,"td"),u["\u0275\u0275elementStart"](47,"input",261,262),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._Receipt.netvalue=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](49,"td"),u["\u0275\u0275elementStart"](50,"input",263,262),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).multipayment_Paid=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](52,"td"),u["\u0275\u0275elementStart"](53,"input",264,262),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).multipayment_remaining=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](55,"div",245),u["\u0275\u0275elementStart"](56,"button",265),u["\u0275\u0275element"](57,"i",266),u["\u0275\u0275text"](58),u["\u0275\u0275pipe"](59,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](60,"button",267),u["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),u["\u0275\u0275element"](61,"i",247),u["\u0275\u0275text"](62),u["\u0275\u0275pipe"](63,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](3,16,"PaymentMethod")),u["\u0275\u0275advance"](15),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](18,18,"Payment")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,20,"Amount")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngForOf",i.ReceiptMultiPaymentList),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](28,22,"Add")," "),u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](37,24,"Net")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](40,26,"Paid")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](43,28,"Remaining")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngModel",i._Receipt.netvalue)("readonly",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",i.multipayment_Paid)("readonly",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",i.multipayment_remaining)("readonly",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](59,30,"Save")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](63,32,"Cancel")," ")}}function Jr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]())}function Hr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",114),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]())}function Yr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Zr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Kr(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,Yr,2,1,"span",1),u["\u0275\u0275template"](2,Zr,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Xr(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function eo(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",159),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function to(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function no(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function io(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",113),u["\u0275\u0275template"](1,to,2,1,"span",1),u["\u0275\u0275template"](2,no,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.code),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ro(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"select",172),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),u["\u0275\u0275template"](3,Jr,2,0,"option",30),u["\u0275\u0275template"](4,Hr,2,0,"option",30),u["\u0275\u0275template"](5,Kr,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275elementStart"](7,"select",172),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),u["\u0275\u0275template"](8,Xr,2,1,"option",136),u["\u0275\u0275template"](9,eo,2,1,"option",136),u["\u0275\u0275template"](10,io,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td"),u["\u0275\u0275elementStart"](12,"input",273,174),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"td",175),u["\u0275\u0275elementStart"](15,"a",177),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).OnViewLinkedBatchOrderReceipt(e)}),u["\u0275\u0275element"](16,"i",178),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),u["\u0275\u0275property"]("ngModel",i.branch_id),u["\u0275\u0275attribute"]("disabled",!0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",o.BranchList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),u["\u0275\u0275property"]("ngModel",i.code),u["\u0275\u0275attribute"]("disabled",!0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",o.ReceiptCodeList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),u["\u0275\u0275property"]("ngModel",i.entry_no)}}function oo(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",234),u["\u0275\u0275elementStart"](1,"h6",235),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"button",236),u["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),u["\u0275\u0275elementStart"](5,"span",237),u["\u0275\u0275text"](6,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",238),u["\u0275\u0275elementStart"](8,"div",2),u["\u0275\u0275elementStart"](9,"div",171),u["\u0275\u0275elementStart"](10,"div",83),u["\u0275\u0275elementStart"](11,"table",84),u["\u0275\u0275elementStart"](12,"thead"),u["\u0275\u0275elementStart"](13,"tr"),u["\u0275\u0275elementStart"](14,"th",85),u["\u0275\u0275text"](15),u["\u0275\u0275pipe"](16,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"th",85),u["\u0275\u0275text"](18),u["\u0275\u0275pipe"](19,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"th",85),u["\u0275\u0275text"](21),u["\u0275\u0275pipe"](22,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](23,"th",85),u["\u0275\u0275text"](24,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"tbody"),u["\u0275\u0275template"](26,ro,17,14,"tr",166),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"div",245),u["\u0275\u0275elementStart"](28,"button",125),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).Excute_CreateReceipts()}),u["\u0275\u0275text"](29),u["\u0275\u0275pipe"](30,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"button",246),u["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),u["\u0275\u0275element"](32,"i",247),u["\u0275\u0275text"](33),u["\u0275\u0275pipe"](34,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](3,7,"ReceiptLinkedBatchOrder")),u["\u0275\u0275advance"](13),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](16,9,"Branch")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](19,11,"Receipttype")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](22,13,"EntryNo")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngForOf",i.ReceiptLinkedBatchOrder),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](30,15,"CreateReceipt")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](34,17,"Cancel")," ")}}function ao(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"section"),u["\u0275\u0275elementStart"](2,"form",4,5),u["\u0275\u0275listener"]("ngSubmit",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](3);return u["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),u["\u0275\u0275elementStart"](4,"section"),u["\u0275\u0275elementStart"](5,"div",6),u["\u0275\u0275elementStart"](6,"div",7),u["\u0275\u0275elementStart"](7,"div",8),u["\u0275\u0275elementStart"](8,"h6",9),u["\u0275\u0275text"](9),u["\u0275\u0275pipe"](10,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"div",10),u["\u0275\u0275elementStart"](12,"div",2),u["\u0275\u0275elementStart"](13,"div",11),u["\u0275\u0275elementStart"](14,"button",12),u["\u0275\u0275text"](15),u["\u0275\u0275pipe"](16,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"button",13),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CreateNewAction()}),u["\u0275\u0275text"](18),u["\u0275\u0275pipe"](19,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](20,yt,3,4,"button",14),u["\u0275\u0275template"](21,bt,3,4,"button",15),u["\u0275\u0275elementStart"](22,"button",16),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().BackAction()}),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"div",17),u["\u0275\u0275elementStart"](26,"button",18),u["\u0275\u0275text"](27),u["\u0275\u0275pipe"](28,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](29,"div",19),u["\u0275\u0275template"](30,It,10,10,"ng-container",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](31,"hr",20),u["\u0275\u0275elementStart"](32,"div",2),u["\u0275\u0275elementStart"](33,"div",21),u["\u0275\u0275elementStart"](34,"div",22),u["\u0275\u0275elementStart"](35,"label",23),u["\u0275\u0275text"](36),u["\u0275\u0275pipe"](37,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"select",24),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.customersalesprice=e})("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().changesalesprice(e)}),u["\u0275\u0275template"](39,kt,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](40,"div",21),u["\u0275\u0275elementStart"](41,"div",22),u["\u0275\u0275elementStart"](42,"label",26),u["\u0275\u0275text"](43),u["\u0275\u0275pipe"](44,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](45,"span",27),u["\u0275\u0275text"](46,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](47,"select",28,29),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().changeBranch(e)}),u["\u0275\u0275template"](49,Bt,2,0,"option",30),u["\u0275\u0275template"](50,Dt,2,0,"option",30),u["\u0275\u0275template"](51,qt,3,3,"option",31),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](52,"div",2),u["\u0275\u0275elementStart"](53,"div",32),u["\u0275\u0275elementStart"](54,"div",22),u["\u0275\u0275elementStart"](55,"label",33),u["\u0275\u0275text"](56),u["\u0275\u0275pipe"](57,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](58,"span",27),u["\u0275\u0275text"](59,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](60,"input",34,35),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](62,"div",32),u["\u0275\u0275elementStart"](63,"div",22),u["\u0275\u0275elementStart"](64,"label",36),u["\u0275\u0275text"](65),u["\u0275\u0275pipe"](66,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](67,"span",27),u["\u0275\u0275text"](68,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](69,"p-autoComplete",37,38),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](70);return u["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(e)})("onClear",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onClearCustomer(e)}),u["\u0275\u0275pipe"](72,"translate"),u["\u0275\u0275template"](73,Tt,2,2,"ng-template",39),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](74,"div",32),u["\u0275\u0275elementStart"](75,"div",22),u["\u0275\u0275elementStart"](76,"label",40),u["\u0275\u0275text"](77),u["\u0275\u0275pipe"](78,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](79,"input",41,42),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](81,"div",2),u["\u0275\u0275elementStart"](82,"div",32),u["\u0275\u0275elementStart"](83,"div",22),u["\u0275\u0275elementStart"](84,"label",43),u["\u0275\u0275text"](85),u["\u0275\u0275pipe"](86,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](87,"input",44,45),u["\u0275\u0275listener"]("ngModelChange",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),u["\u0275\u0275pipe"](89,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](90,"div",32),u["\u0275\u0275elementStart"](91,"div",22),u["\u0275\u0275elementStart"](92,"label",46),u["\u0275\u0275text"](93),u["\u0275\u0275pipe"](94,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](95,"input",47,48),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](97,"div",2),u["\u0275\u0275elementStart"](98,"div",49),u["\u0275\u0275elementStart"](99,"div",22),u["\u0275\u0275elementStart"](100,"label",50),u["\u0275\u0275text"](101),u["\u0275\u0275pipe"](102,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](103,"span",27),u["\u0275\u0275text"](104,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](105,"select",51,52),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.wostatusid=e}),u["\u0275\u0275template"](107,Ut,2,0,"option",30),u["\u0275\u0275template"](108,At,2,0,"option",30),u["\u0275\u0275template"](109,zt,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](110,"div",49),u["\u0275\u0275elementStart"](111,"div",22),u["\u0275\u0275elementStart"](112,"label",53),u["\u0275\u0275text"](113),u["\u0275\u0275pipe"](114,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](115,"textarea",54,55),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.notes=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](117,"div",2),u["\u0275\u0275elementStart"](118,"div",32),u["\u0275\u0275elementStart"](119,"div",22),u["\u0275\u0275elementStart"](120,"label",56),u["\u0275\u0275text"](121),u["\u0275\u0275pipe"](122,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](123,"input",57,58),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](125,"div",32),u["\u0275\u0275elementStart"](126,"div",22),u["\u0275\u0275elementStart"](127,"label",59),u["\u0275\u0275text"](128),u["\u0275\u0275pipe"](129,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](130,"textarea",60,61),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.memo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](132,"div",2),u["\u0275\u0275elementStart"](133,"div",49),u["\u0275\u0275elementStart"](134,"div",22),u["\u0275\u0275elementStart"](135,"label",62),u["\u0275\u0275text"](136),u["\u0275\u0275pipe"](137,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](138,"span",27),u["\u0275\u0275text"](139,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](140,"select",63,64),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.productionlineid=e}),u["\u0275\u0275template"](142,jt,2,0,"option",30),u["\u0275\u0275template"](143,Qt,2,0,"option",30),u["\u0275\u0275template"](144,Ht,3,3,"option",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](145,"div",32),u["\u0275\u0275elementStart"](146,"div",22),u["\u0275\u0275elementStart"](147,"label",65),u["\u0275\u0275text"](148),u["\u0275\u0275pipe"](149,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](150,"input",66,67),u["\u0275\u0275listener"]("focusout",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CheckDeliverDate()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.linescheduleddate=e}),u["\u0275\u0275pipe"](152,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](153,"div",68),u["\u0275\u0275elementStart"](154,"div",69),u["\u0275\u0275elementStart"](155,"input",70),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.urgent=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](156,"label",71),u["\u0275\u0275elementStart"](157,"span"),u["\u0275\u0275text"](158),u["\u0275\u0275pipe"](159,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](160,"div",72),u["\u0275\u0275elementStart"](161,"div",73),u["\u0275\u0275elementStart"](162,"div",2),u["\u0275\u0275elementStart"](163,"div",74),u["\u0275\u0275elementStart"](164,"ul",75,76),u["\u0275\u0275listener"]("activeIdChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().activeNav=e}),u["\u0275\u0275elementStart"](166,"li",77),u["\u0275\u0275elementStart"](167,"a",78),u["\u0275\u0275text"](168),u["\u0275\u0275pipe"](169,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](170,Rn,43,40,"ng-template",79),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](171,Tn,5,4,"li",80),u["\u0275\u0275elementStart"](172,"li",77),u["\u0275\u0275elementStart"](173,"a",78),u["\u0275\u0275text"](174),u["\u0275\u0275pipe"](175,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](176,Zn,22,13,"ng-template",79),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](177,"li",77),u["\u0275\u0275elementStart"](178,"a",78),u["\u0275\u0275text"](179),u["\u0275\u0275pipe"](180,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](181,pi,54,36,"ng-template",79),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](182,"li",77),u["\u0275\u0275elementStart"](183,"a",78),u["\u0275\u0275text"](184),u["\u0275\u0275pipe"](185,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](186,vi,43,30,"ng-template",79),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](187,"li",77),u["\u0275\u0275elementStart"](188,"a",78),u["\u0275\u0275text"](189),u["\u0275\u0275pipe"](190,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](191,yi,3,1,"ng-template",79),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](192,"li",77),u["\u0275\u0275elementStart"](193,"a",78),u["\u0275\u0275text"](194),u["\u0275\u0275pipe"](195,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](196,sr,30,31,"ng-template",79),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](197,"li",77),u["\u0275\u0275elementStart"](198,"a",78),u["\u0275\u0275text"](199),u["\u0275\u0275pipe"](200,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](201,pr,23,16,"ng-template",79),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](202,"div",81),u["\u0275\u0275elementStart"](203,"div",2),u["\u0275\u0275elementStart"](204,"div",82),u["\u0275\u0275elementStart"](205,"div",83),u["\u0275\u0275elementStart"](206,"table",84),u["\u0275\u0275elementStart"](207,"thead"),u["\u0275\u0275elementStart"](208,"tr"),u["\u0275\u0275element"](209,"th",85),u["\u0275\u0275elementStart"](210,"th",86),u["\u0275\u0275text"](211),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](212,"th",85),u["\u0275\u0275text"](213),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](214,"tbody"),u["\u0275\u0275elementStart"](215,"tr"),u["\u0275\u0275elementStart"](216,"td"),u["\u0275\u0275text"](217),u["\u0275\u0275pipe"](218,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](219,"td",87),u["\u0275\u0275elementStart"](220,"input",88),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.valueforeign=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](221,"td"),u["\u0275\u0275elementStart"](222,"input",89),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.value=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](223,"tr"),u["\u0275\u0275elementStart"](224,"td"),u["\u0275\u0275text"](225),u["\u0275\u0275pipe"](226,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](227,"td",87),u["\u0275\u0275elementStart"](228,"input",90,91),u["\u0275\u0275listener"]("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().Calculate_Disc("foreign","percent")})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.discount_foreignpercent=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](230,hr,3,2,"div",92),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](231,"td"),u["\u0275\u0275elementStart"](232,"input",93,94),u["\u0275\u0275listener"]("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().Calculate_Disc("local","percent")})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.discount_percent=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](234,fr,3,2,"div",92),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](235,"tr"),u["\u0275\u0275elementStart"](236,"td"),u["\u0275\u0275text"](237),u["\u0275\u0275pipe"](238,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](239,"td",87),u["\u0275\u0275elementStart"](240,"input",95),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.discount_foreignvalue=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().Calculate_Disc("foreign","value")}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](241,"td"),u["\u0275\u0275elementStart"](242,"input",96),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.discount_value=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().Calculate_Disc("local","value")}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](243,"tr"),u["\u0275\u0275elementStart"](244,"td"),u["\u0275\u0275text"](245),u["\u0275\u0275pipe"](246,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](247,"td",87),u["\u0275\u0275element"](248,"input",97),u["\u0275\u0275pipe"](249,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](250,"td"),u["\u0275\u0275element"](251,"input",98),u["\u0275\u0275pipe"](252,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](253,"tr"),u["\u0275\u0275elementStart"](254,"td"),u["\u0275\u0275text"](255),u["\u0275\u0275pipe"](256,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](257,"td",87),u["\u0275\u0275element"](258,"input",99),u["\u0275\u0275pipe"](259,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](260,"td"),u["\u0275\u0275element"](261,"input",100),u["\u0275\u0275pipe"](262,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](263,"tr"),u["\u0275\u0275elementStart"](264,"td"),u["\u0275\u0275text"](265),u["\u0275\u0275pipe"](266,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](267,"td",87),u["\u0275\u0275elementStart"](268,"input",101),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](269,"td"),u["\u0275\u0275elementStart"](270,"input",102),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.netvalue=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](271,Cr,7,6,"tr",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](272,"div",103),u["\u0275\u0275template"](273,vr,3,1,"div",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](274,Ir,26,20,"ng-template",null,104,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](276,Ur,36,22,"ng-template",null,105,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](278,Wr,64,34,"ng-template",null,106,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275template"](280,oo,35,19,"ng-template",null,107,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](3),r=u["\u0275\u0275reference"](48),o=u["\u0275\u0275reference"](61),a=u["\u0275\u0275reference"](71),c=u["\u0275\u0275reference"](88),l=u["\u0275\u0275reference"](106),s=u["\u0275\u0275reference"](141),d=u["\u0275\u0275reference"](151),p=u["\u0275\u0275reference"](165),m=u["\u0275\u0275reference"](229),h=u["\u0275\u0275reference"](233),g=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](10,136,"WorkOrder")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275attribute"]("disabled",g.VouchersLinkedCount>0||1==g.ShowModeReceipt||1==g.DuringSaveDisable||g.ReceiptID>0&&!g.checkRoleParms(627)||0==g.ReceiptID&&!g.checkRoleParms(580)||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](16,138,"Save")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275attribute"]("disabled",!g.checkRoleParms(580)||1==g.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](19,140,"CreateNew")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",g.ReceiptID>0&&0==g.VouchersLinkedCount),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",g.ReceiptID>0),u["\u0275\u0275advance"](1),u["\u0275\u0275attribute"]("disabled",1==g.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](24,142,"Exit")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](28,144,"Action Menu")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",g.ReceiptID>0),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](37,146,"Pricing")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",g._Receipt.customersalesprice),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",g.CustomerSalesPriceList),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](44,148,"Branch")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",g._Receipt.branch_id)("ngClass",u["\u0275\u0275pureFunction2"](220,mn,r.invalid&&i.submitted,r.valid&&i.submitted)),u["\u0275\u0275attribute"]("disabled",g.ReceiptID>0||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=g.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==g.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",g.BranchList)("ngForTrackBy",g.customTrackBy),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](57,150,"Entry#")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("stepallow",1)("ngModel",g._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==g.CurrentUserSetting?null:g.CurrentUserSetting.controlvouchernumanddate)||g.VouchersLinkedCount>0||1==g.LockedRecepit)("ngClass",u["\u0275\u0275pureFunction2"](223,mn,o.invalid&&i.submitted,o.valid&&i.submitted)),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](66,152,"Customer#")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",g._Receipt.cashcustomer_vendor_code)("suggestions",g.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](72,154,"NoResultsFound"))("forceSelection",!0)("ngClass",u["\u0275\u0275pureFunction2"](226,mn,a.invalid&&i.submitted,a.valid&&i.submitted)),u["\u0275\u0275advance"](8),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](78,156,"CustomerName")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",g._Receipt.cashcustomer_vendor_name)("readonly",!0),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](86,158,"Date")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](89,160,g._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==g.CurrentUserSetting?null:g.CurrentUserSetting.controlvouchernumanddate)||g.VouchersLinkedCount>0||1==g.LockedRecepit)("ngClass",u["\u0275\u0275pureFunction2"](229,mn,c.invalid&&i.submitted||0==g.ValidPeriod,c.valid&&i.submitted)),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](94,163,"time")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("readonly",0==(null==g.CurrentUserSetting?null:g.CurrentUserSetting.controlvouchernumanddate)||g.VouchersLinkedCount>0||1==g.LockedRecepit)("ngModel",g._Receipt.entry_time),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](102,165,"WOstatusID")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",g._Receipt.wostatusid)("ngClass",u["\u0275\u0275pureFunction2"](232,mn,l.invalid&&i.submitted,l.valid&&i.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=g.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==g.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",g.WOrkStatusList),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](114,167,"Notes")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",g._Receipt.notes),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](122,169,"ReferenceNo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",g._Receipt.reference_no),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](129,171,"Memo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",g._Receipt.memo),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](137,173,"ProductionLineId")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",g._Receipt.productionlineid)("ngClass",u["\u0275\u0275pureFunction2"](235,mn,s.invalid&&i.submitted,s.valid&&i.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=g.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==g.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",g.ProductionLineList),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](149,175,"linescheduleddate")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](152,177,g._Receipt.linescheduleddate,"yyyy-MM-dd"))("ngClass",u["\u0275\u0275pureFunction2"](238,mn,0==d,1==d)),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("checked",g._Receipt.urgent)("ngModelOptions",u["\u0275\u0275pureFunction0"](241,Or))("ngModel",g._Receipt.urgent),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](159,180,"Urgent")),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("destroyOnHide",!1)("activeId",g.activeNav),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngbNavItem",1),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](169,182,"Items")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",null==g.CurrentUserSetting?null:g.CurrentUserSetting.showreceiptitemcomponent),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngbNavItem",3),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](175,184,"LinkedReceipt")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavItem",4),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](180,186,"AdditionalExpenses")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavItem",5),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](185,188,"Laborers")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavItem",6),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](190,190,"Signature")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavItem",7),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](195,192,"AnalyticalAccount")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavItem",8),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](200,194,"WorkOrderHistory")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavOutlet",p),u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("hidden",!g.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" Total - ",null==g._CurrencySelected?null:g._CurrencySelected.currencysymbol," "),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" Total - ",null==g._BaseCurrency?null:g._BaseCurrency.currencysymbol," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](218,196,"Total")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!g.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("readonly",!0)("ngModel",g._Receipt.valueforeign),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("readonly",!0)("ngModel",g._Receipt.value),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](226,198,"Disc%")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!g.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("customMax",null==g.CurrentUserSetting?null:g.CurrentUserSetting.maxreceiptdiscountperc),u["\u0275\u0275property"]("readonly",!(null!=g.CurrentUserSetting&&g.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",g._Receipt.discount_foreignpercent)("ngClass",u["\u0275\u0275pureFunction2"](242,mn,m.invalid&&i.submitted,m.valid&&i.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",null==m.errors?null:m.errors.customMax),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate"]("customMax",null==g.CurrentUserSetting?null:g.CurrentUserSetting.maxreceiptdiscountperc),u["\u0275\u0275property"]("readonly",!(null!=g.CurrentUserSetting&&g.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",g._Receipt.discount_percent)("ngClass",u["\u0275\u0275pureFunction2"](245,mn,h.invalid&&i.submitted||(null==h.errors?null:h.errors.customMax),h.valid&&i.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",null==h.errors?null:h.errors.customMax),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](238,200,"Discount")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!g.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("readonly",!(null!=g.CurrentUserSetting&&g.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",g._Receipt.discount_foreignvalue),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("readonly",!(null!=g.CurrentUserSetting&&g.CurrentUserSetting.showreceiptoveralldiscount))("ngModel",g._Receipt.discount_value),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](246,202,"AdditionalExpenses")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!g.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](249,204,g._Receipt.totalexpensses_foreign,g._Currencyprecision))("readonly",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](252,207,g._Receipt.totalexpensses,g._Currencyprecision))("readonly",!0),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](256,210,"Laborers")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!g.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](259,212,g._Receipt.totallaborers_foreign,g._Currencyprecision))("readonly",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](262,215,g._Receipt.totallaborers,g._Currencyprecision))("readonly",!0),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](266,218,"Net")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!g.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",g._Receipt.netvalueforeign)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",g._Receipt.netvalue)("readonly",!0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==g.CurrentUserSetting?null:g.CurrentUserSetting.showcostprice),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",g.itemqtyview)}}var co=function(){return[579,580,581,627]},lo=function(){var e=function(){function e(t,n,i,r,o,a,l,s,d,p,m,u,h,g,_,f,C,v,y){var b=this;c(this,e),this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=i,this._ProductionService=r,this._employeeService=o,this.cd=a,this.toastr=l,this._router=s,this._generalService=d,this.translate=p,this._translateGlobalService=m,this._activeRoute=u,this.modalService=h,this.spinner=g,this._authService=_,this._printService=f,this._VerifyReportsService=C,this.datepipe=v,this.location=y,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.PriceListItemsOnly=!1,this.BasicCodeReceipt=84,this.Transaction_move=0,this._Receipt=new R.tY,this._ReceiptOriginal=new R.tY,this._Receipt_h_Edit=new R.Iu,this._BatchOrderDetailsReceipt=new R.hm,this.ItemsComponentList=new Array,this.DescriptionItem=new R.tH,this._LinkedReceipt=new R.Cb,this.ShowWarrantyDateCols=!1,this.selectedindex=0,this.IsSalesManImplemented=!1,this._Currencyprecision=3,this.MultiPaymentypeShow=!1,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.deliverdateValid=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.PaymentTypeList=[],this.MultiPaymentMethodsList=[],this.CustomerAccountsList=[],this.CashCustomerList=[],this.EmployeesList=[],this.SalesTypesList=[],this.CostCenterList=[],this.SalesManlist=[],this.ReceiptCodeList=[],this.TransactionAccountList=[],this.CarsList=[],this.DriversList=[],this.DepartmentList=[],this.LocationList=[],this.ClassList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemComponentUnitsList=[],this.CustomerSalesPriceList=[],this.BatchesListForEatchRow=[],this.WOrkStatusList=[],this.WorkOrderHistoryList=[],this.ProductionLineList=[],this.OrderTypeList=[{id:1,text:"walk-in",text_ar:"\u0628\u0627\u0644\u0645\u062d\u0644"},{id:2,text:"Delivery",text_ar:"\u062a\u0648\u0635\u064a\u0644"},{id:3,text:"Dine in",text_ar:"\u062f\u0627\u062e\u0644 \u0627\u0644\u0645\u0637\u0639\u0645"},{id:4,text:"Pick Up",text_ar:"\u0627\u0633\u062a\u0644\u0627\u0645"},{id:6,text:"Work Order",text_ar:"\u0623\u0645\u0631 \u0639\u0645\u0644"}],this.PercentageOrValueDropdown=[{id:0,text:"Percentage",text_ar:"\u0646\u0633\u0628\u0629"},{id:1,text:"Value",text_ar:"\u0642\u064a\u0645\u0629"}],this.reporturl="",this.reportdomainUrl=it.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.LockedRecepit=!1,this.linkedreceiptid=0,this.requiredserial=2,this._batchqty=0,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.LinkedVoucherIsPostedMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.MultiPayErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.ItemWarrantyValidMsg="",this.DeliverDateMsg="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopSelesErrorMsg="",this.QtyIsValidWithAvailableQty="",this.InValidNumberOfBatch="",this.InValidQty="",this.RelatedwithSerialsOrBatches="",this.expenseList=[],this.HRemployeesList=[],this._ReceiptExpenses=new R.th,this.expensesAccountid=0,this.accountcode="",this.disablerate=!0,this.AccountList=[],this.TotalExpensses=0,this.timeout=null,this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.LinkedReceiptListSelected=[],this.IxLRS=0,this.EmpAddedPreviously="",this.TotalLaborers=0,this._ReceiptLaborers=new R.NM,this.itemqtyview=!1,this._itemstoreqtyobj=new R.I$,this._itemqtyList=new Array,this._totalcost=0,this.ReceiptTypeLinked=0,this.ReceiptLinkedBatchOrder=[],this.quillConfig={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},u.params.subscribe(function(e){b.ReceiptID=e.id,b.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,b.LockedRecepit=b.ShowModeReceipt,b.linkedreceiptid=e.linkedreceiptid,b.subsidiaryID=b._generalService.SubsidiaryID,b.subsidiaryID>0&&b.SetInitialMethods(),b._UserLogin=b._authService.userInfo()}),this.ngUnsubscribe=d.proadCastSubsidiaryID.subscribe(function(e){0==b.subsidiaryID&&(b.subsidiaryID=b._generalService.SubsidiaryID,b.SetInitialMethods()),b.subsidiaryID!=b._generalService.SubsidiaryID&&b.subsidiaryID>0&&(b.subsidiaryID=b._generalService.SubsidiaryID,b._router.navigate(["/page/production/batchorder/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){b.lang=e.lang,b.dir=e.dir,b.translate.use(e.lang),b.ngTransUnsubscribe=b.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","MultiPayErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","ItemWarrantyValidMsg","FinancialPeriodMsg","CloseFinancialPeriodMsg","Close","DeliverDateMsg","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","WorkOrder","No","swalNewActionTitle","swalNewActionText","NOComponents","StopSelesErrorMsg","CostPostingPeriodMessage","LinkedVoucherIsPostedMsg","InValidQty","QtyIsValidWithAvailableQty","InValidNumberOfBatch","RelatedwithSerialsOrBatches","EmpAddedPreviously"]).subscribe(function(e){document.title=e.WorkOrder,b.Cancel=e.Cancel,b.swalTitleEntry=e.swalTitleEntryno,b.swalTextEntry=e.swalEntrynoText,b.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,b.WarningInfoLost=e.WarningInfoLost,b.warning=e.warning,b.Yes=e.Yes,b.No=e.No,b.NOComponents=e.NOComponents,b.swalNewActionTitle=e.swalNewActionTitle,b.swalNewActionText=e.swalNewActionText,b.mailmsg=e.mailmsg,b.swalDeleteTitle=e.swalDeleteTitle,b.swalDetlateText=e.swalDetlateText,b.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,b.DeleteRelationmsg=e.DeleteRelationmsg,b.toastrSuccessDelete=e.successMsg,b.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,b.MultiPayErrorMsg=e.MultiPayErrorMsg,b.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,b.ReceiptNotFound=e.ReceiptNotFound,b.CustomerPricelistMsg=e.CustomerPricelistMsg,b.Receiptnoitems=e.Receiptnoitems,b.NoUnits=e.NoUnits,b.ItemWarrantyValidMsg=e.ItemWarrantyValidMsg,b.FinancialPeriodMsg=e.FinancialPeriodMsg,b.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,b.Close=e.Close,b.DeliverDateMsg=e.DeliverDateMsg,b.qtyErrorMsg=e.qtyErrorMsg,b.qtyErrorSaveMsg=e.qtyErrorSaveMsg,b.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,b.SaveMsg=e.SaveMsg,b.StopSelesErrorMsg=e.StopSelesErrorMsg,b.CostPostingPeriodMessage=e.CostPostingPeriodMessage,b.LinkedVoucherIsPostedMsg=e.LinkedVoucherIsPostedMsg,b.InValidQty=e.InValidQty,b.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,b.InValidNumberOfBatch=e.InValidNumberOfBatch,b.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,b.EmpAddedPreviously=e.EmpAddedPreviously})})}return a(e,[{key:"ngOnInit",value:function(){}},{key:"SetInitialMethods",value:function(){this._Receipt=new R.tY,this.GetEmployeesList(),this.GetCurrentUserSetting(),this.GetBranchList(),this.GetPaymentTypeList(),this.GetSalesTypesList(),this.ConfigurationParametersSet(),this.DriverUsersByCarID(),this.CarByDriverID(),this.GetCashCustomerSettings(),this.GetSubsaidarySetting(),this.GetCurrencyList(),this.GetWorkOrderStatusList(),this.GetProductionLineList(),this.GetexpenseList(),this.GetHrEmployeesList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetWorkOrderStatusList",value:function(){var e=this;this._ProductionService.GetWorkOrderStatusList().subscribe(function(t){e.WOrkStatusList=t,null!=e._Receipt.id&&0!=e._Receipt.id||(e._Receipt.wostatusid=t[0].id),e.cd.markForCheck()})}},{key:"GetProductionLineList",value:function(){var e=this;this._ProductionService.GetSubsidaryProductionLine(this.subsidiaryID).subscribe(function(t){e.ProductionLineList=t,e.cd.markForCheck()})}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Xe.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],o=i[1];e.ReceiptCodeList=r,e.InventorySetting=o;var a=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=a.items,e.GetReceipt()})}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&(this._Receipt.branch_id="null"==n.branchId||0==n.branchId?null:n.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),null!=this.linkedreceiptid&&0!=this.linkedreceiptid&&null!=this.linkedreceiptid&&this._ReceiptSharedService.GetReceiptAndDetailsByID(this.linkedreceiptid).subscribe(function(n){null!=n.receipt&&(e._Receipt.id=0,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=e.BasicCodeReceipt,e._Receipt.branch_id=n.receipt.branch_id,e.linkedreceiptcode=n.receipt.code,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname,e.PriceListItemsOnly=n.receipt.pricelistitemsonly),e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,e._Receipt.classid=n.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,e._Receipt.locationid=n.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.supplier_name=null!=e._Receipt.supplieraccount_id?"ar"==e.lang?{supplier_name:n.receipt.supplier_namear}:{supplier_name:n.receipt.supplier_name}:null,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcaccountcode=n.receipt.lcaccountcode,e._Receipt.lcaccountname=null!=e._Receipt.lcaccountid?"ar"==e.lang?{lcaccountname:n.receipt.lcaccountnamear}:{lcaccountname:n.receipt.lcaccountname}:null,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.details=n.items,e._Receipt.details.forEach(function(t){t.transaction_move=e.Transaction_move,t.storecode={code:t.storecode},t.itemcode={code:t.itemcode},t.allowqtyselectforitem=!0,t.rowno=0,t.parentrowno=0}),e._Receipt.itemscomponent=n.itemcomponents,e._Receipt.itemscomponent.forEach(function(t){t.transaction_move=e.Transaction_move,t.allowqtyselectforitem=!0,t.rowno=0,t.parentrowno=0}),e.ItemUnitsList=n.itemunits,e.ItemComponentUnitsList=n.componentsunits,e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batches.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),e._LinkedReceipt=new R.Cb,e._LinkedReceipt.receiptid=n.receipt.id,e._LinkedReceipt.code=n.receipt.code,e._LinkedReceipt.branch_id=n.receipt.branch_id,e._LinkedReceipt.entry_no=n.receipt.entry_no,e._LinkedReceipt.subsidiaryid=e.subsidiaryID,e._LinkedReceipt.fire=1,e._Receipt.linkedreceipts.push(e._LinkedReceipt),e.GetLinkedReceipt(e._Receipt.linkedreceipts.length-1),e.PaymentTypeList.find(function(t){return t.id==e._Receipt.payment_type}),e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,e.CheckValidDateBySubsidaryID(),null!=e._Receipt.branch_id&&e.GetReceiptEntryCode(),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.cd.markForCheck())}),setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt))},1e3)}else this._ReceiptSharedService.GetReceiptAndDetailsByID(this.ReceiptID).subscribe(function(n){null!=n.receipt&&(e.VouchersLinkedCount=n.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=n.receipt.id,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=n.receipt.code,e._Receipt.entry_no=n.receipt.entry_no,e._Receipt.branch_id=n.receipt.branch_id,e._Receipt.transaction_code=n.receipt.transaction_code,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,null!=e._Receipt.vendor_id&&(e._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname,e.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=e._Receipt.cashcustomerid&&(e._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,e.PriceListItemsOnly=!1),e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commisionaccountfieldname="ar"==e.lang?{commisionaccountfieldname:n.receipt.commisionaccount_sug_ar}:{commisionaccountfieldname:n.receipt.commisionaccount_sug},e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commisionaccountfieldname1="ar"==e.lang?{commisionaccountfieldname1:n.receipt.commisionaccount1_sug_ar}:{commisionaccountfieldname1:n.receipt.commisionaccount1_sug},e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.costcenterfieldname=null!=e._Receipt.costcenterid?"ar"==e.lang?{costcenterfieldname:n.receipt.costcenter_sug_ar}:{costcenterfieldname:n.receipt.costcenter_sug}:null,e._Receipt.classid=n.receipt.classid,e._Receipt.classfieldname=null!=e._Receipt.classid?"ar"==e.lang?{classfieldname:n.receipt.classes_sug_ar}:{classfieldname:n.receipt.classes_sug}:null,e._Receipt.locationid=n.receipt.locationid,e._Receipt.locationfieldname=null!=e._Receipt.locationid?"ar"==e.lang?{locationfieldname:n.receipt.location_sug_ar}:{locationfieldname:n.receipt.location_sug}:null,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.departmentfieldname=null!=e._Receipt.departmentid?"ar"==e.lang?{departmentfieldname:n.receipt.department_sug_ar}:{departmentfieldname:n.receipt.department_sug}:null,e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.totalexpensses=n.receipt.totalexpensses,e._Receipt.totalexpensses_foreign=n.receipt.totalexpensses_foreign,e._Receipt.totallaborers=n.receipt.totallaborers,e._Receipt.totallaborers_foreign=n.receipt.totallaborers_foreign,e._Receipt.details=n.items,e._Receipt.details.forEach(function(e){e.storecode={code:e.storecode},e.itemcode={code:e.itemcode},e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e._Receipt.itemscomponent=n.itemcomponents,e._Receipt.itemscomponent.forEach(function(e){e.allowqtyselectforitem=!0,e.rowno=0,e.parentrowno=0}),e.ItemUnitsList=n.itemunits,e.ItemComponentUnitsList=n.componentsunits,e._Receipt.linkedreceipts=n.linkedreceipts,e._Receipt.receiptexpenses=n.receiptexpenses,e._Receipt.receiptexpenses.forEach(function(t){t.accountcode={accountcode:t.accountcode},t.exchangerate=Number(t.exchangerate.toPrecision()),e.addItemIfNotInList(t)}),e._Receipt.receiptlaborers=n.receiptlaborers,e._Receipt.receiptlaborers.forEach(function(t){t.timeString=e.formatMinutesToHoursMinutes(t.numberofhours)}),e.ItemsComponentList=JSON.parse(JSON.stringify(e._Receipt.itemscomponent)),e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batches.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),e.CheckShowWarrantyDateCols(),e.entry_no=e._Receipt.entry_no,e.originalSalesPrice=e._Receipt.customersalesprice,e.VouchersLinkedCount>0?(e.ShowModeReceipt=!0,e.ShowPopUpLinkedVoucherIsPosted()):1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,0!=e.Transaction_move&&e._Receipt.details.filter(function(t){return t.transaction_move!=e.Transaction_move}).length>0?(e.CheckBalanceForItemInStore(0,!0),e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.CalculateTotalCost()):(e.OnSelectedItem(e._Receipt.details[0],0,"selected",!0),e.CalculateTotalCost()),e.cd.markForCheck())})}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid)if(0!=this.ValidPeriod)if(0!=this.deliverdateValid){if(1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){if(t._Receipt.details[e].transaction_move=t.Transaction_move,null==t._Receipt.details[e].item_id)t._Receipt.details.splice(e,1),e--;else{if(!(t._Receipt.details[e].qty>0))return i=e,{v:void t.toastr.error(t.qtyZeroErrorSaveMsg)};0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}i=e},i=0;i<this._Receipt.details.length;i++){var r=n(i);if("object"==typeof r)return r.v}if(0==this._Receipt.details.length)return this.toastr.error(this.ItemsZeroErrorMsg),void this.AddItems();for(var o=function(e){if(t._Receipt.itemscomponent[e].transaction_move=t.Transaction_move,t._Receipt.itemscomponent[e].qty>0){0!=t._Receipt.value?(t._Receipt.itemscomponent[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty%(1/0)||0,t._Receipt.itemscomponent[e].h_discount_percentage=100*(t._Receipt.itemscomponent[e].h_discount_value/(t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty)%(1/0)||0)):(t._Receipt.itemscomponent[e].h_discount_value=0,t._Receipt.itemscomponent[e].h_discount_percentage=0);var n=t.ItemComponentUnitsList.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id&&n.id==t._Receipt.itemscomponent[e].unit_id});t._Receipt.itemscomponent[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.itemscomponent[e].conv/n.conv):t._Receipt.itemscomponent[e].conv,t._Receipt.itemscomponent[e].final_conv=0==t._Receipt.itemscomponent[e].final_conv?1:t._Receipt.itemscomponent[e].final_conv}},a=0;a<this._Receipt.itemscomponent.length;a++)o(a);this.CheckBalanceForItemInStore(0,!0,!0)}else this.toastr.error(this.DeliverDateMsg);else this.ShowPopUpFinancialPeriod();else this.activeNav="INVALID"==e.form.controls.CostCenter.status||"INVALID"==e.form.controls.Department.status||"INVALID"==e.form.controls.Classes.status||"INVALID"==e.form.controls.Location.status?6:this._Receipt.receiptexpenses.length>0?4:1}},{key:"SaveReceipt",value:function(){var e=this;if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();var t=[];if(this._Receipt.details.forEach(function(e){3==e.isrequireserial&&(e.allowqtyselectforitem=!0,0==e.batcheslist.length?(e.allowqtyselectforitem=!1,t.push(!1)):0==e.validrow&&(e.allowqtyselectforitem=!1,t.push(!0)))}),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),t.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(t=[],this._Receipt.details.forEach(function(n){if(3==n.isrequireserial)if(n.allowqtyselectforitem=!0,0==n.batcheslist.length)n.allowqtyselectforitem=!1,t.push(!1);else{var i=0;n.batcheslist.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0});var r=e.ItemUnitsList.filter(function(e){return e.item_id==n.item_id&&e.id==n.unit_id});i!=n.qty*(n.conv*r[0].finalconv/r[0].conv)&&(n.allowqtyselectforitem=!1,t.push(!1))}}),t.length>0)return t.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);console.log("con..."),this.DuringSaveDisable=!0;for(var n=0;n<this._Receipt.linkedreceipts.length;n++)0==this._Receipt.linkedreceipts[n].fire&&(this._Receipt.linkedreceipts.splice(n,1),n--);""==this._Receipt.customerdeliverdate||null==this._Receipt.customerdeliverdate||""==this._Receipt.entry_time||null==this._Receipt.entry_time||""!=this._Receipt.customerdeliverdate_time&&null!=this._Receipt.customerdeliverdate_time||(this._Receipt.customerdeliverdate_time=this._Receipt.entry_time),null==this._Receipt.id||0==this._Receipt.id?this._ReceiptSharedService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,null!=e.linkedreceiptid&&0!=e.linkedreceiptid&&null!=e.linkedreceiptid&&e._ReceiptSharedService.UpdateSalesState(e.linkedreceiptid,e.linkedreceiptcode).subscribe(function(e){console.log(e,"state")}),e._router.navigate(["/page/production/batchorder/"+e.ReceiptID]).then(function(){window.location.reload()})}):(this._Receipt_h_Edit=new R.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ReceiptSharedService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e._router.navigate(["/page/production/batchorder/"+e.ReceiptID]).then(function(){window.location.reload()})}))}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t?e.ChangeEntryDate():"DeliverDate"==t&&e.CheckDeliverDate()},1e3*n)}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Ke().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/production/batchorder/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"changesalesprice",value:function(e){var t=this,n=JSON.parse(localStorage.getItem("SalesPricePolicy"));null!=n&&null!=n&&localStorage.removeItem("SalesPricePolicy"),this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id?Ke().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){e.value?(t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t.GetDefaultStoreCostCenterByBranch(!0,!1)):t._Receipt.customersalesprice=t.originalSalesPrice,localStorage.setItem("SalesPricePolicy",JSON.stringify({SalesPricePolicy:t._Receipt.customersalesprice}))}):(this.originalSalesPrice=this._Receipt.customersalesprice,localStorage.setItem("SalesPricePolicy",JSON.stringify({SalesPricePolicy:this._Receipt.customersalesprice})))}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id||null!=this._Receipt.vendor_id)Ke().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];1==i&&(this._Receipt.vendor_id=null,this._Receipt.cashcustomerid=null,this._Receipt.cashcustomer_vendor_code=null,this._Receipt.cashcustomer_vendor_name=null,this._Receipt.costcenterid=null,this._Receipt.costcenterfieldname=null),1==n&&this.Calculate_Total_Tax_Net(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(n){if(e.StoreCostCenterSetting=n.length>0?n[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid){if(0==e._Receipt.details.length){e._BatchOrderDetailsReceipt=new R.hm,e._BatchOrderDetailsReceipt.transaction_move=e.Transaction_move;var r=Math.max.apply(Math,t(e._Receipt.details.map(function(e){return e.rowno})).concat([0]));e._BatchOrderDetailsReceipt.rowno=r+1,e._Receipt.details.push(e._BatchOrderDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}}1==i&&e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e._Receipt.itemscomponent.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForItemInStore(0,!0))}null!=e.StoreCostCenterSetting.costcenterid&&(e._Receipt.costcenterid=e.StoreCostCenterSetting.costcenterid,e._Receipt.costcenterfieldname={costcenterfieldname:"ar"==e.lang?e.StoreCostCenterSetting.costcentername_ar:e.StoreCostCenterSetting.costcentername}),e.cd.markForCheck()})}},{key:"GetPaymentTypeList",value:function(){var e=this;this._ReceiptSharedService.PaymentType(this.subsidiaryID).subscribe(function(t){e.PaymentTypeList=t,e.PaymentTypeList.length>0&&(e.MultiPaymentMethodsList=e.PaymentTypeList.filter(function(e){return"multi"!=e.name.toLowerCase()&&"unpaid"!=e.name.toLowerCase()&&"credit"!=e.name.toLowerCase()})),0==e.ReceiptID&&e.PaymentTypeList.length>0&&(e._Receipt.payment_type=e.PaymentTypeList[0].id),e.cd.markForCheck()})}},{key:"GetEmployeesList",value:function(){var e=this;this._ReceiptSharedService.SalesMen_CasherUsers(this.subsidiaryID,this.ReceiptID).subscribe(function(t){if(e.EmployeesList=t,0==e.ReceiptID&&e.EmployeesList.length>0){var n=e.EmployeesList.find(function(t){return t.id==e._UserLogin.id});e._Receipt.empoyee_id=null!=n&&null!=n?e._UserLogin.id:null}e.cd.markForCheck()})}},{key:"GetSalesTypesList",value:function(){var e=this;this._ReceiptSharedService.GetSalesTypeBySubId(this.subsidiaryID).subscribe(function(t){e.SalesTypesList=t,e.cd.markForCheck()})}},{key:"ConfigurationParametersSet",value:function(){var e=this;this._ReceiptSharedService.ConfigurationParameter(this.subsidiaryID).subscribe(function(t){if(t.length>0){var n=t.find(function(e){return"IsDineIn"==e.name});null!=n&&"true"!=n.value&&(e.OrderTypeList=e.OrderTypeList.filter(function(e){return 3!=e.id}));var i=t.find(function(e){return"IsSalesManImplemented"==e.name});null!=i&&"true"==i.value&&(e.IsSalesManImplemented=!0),e.cd.markForCheck()}})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t,e.SetCustomerSalesPriceList()})}},{key:"SetCustomerSalesPriceList",value:function(){var e=this.CurrentUserSetting.salespricepolicy;if(null==e||0==e){if(this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"},{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"},{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"},{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"},{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}],0==this.ReceiptID){var t=JSON.parse(localStorage.getItem("SalesPricePolicy"));this._Receipt.customersalesprice=null!=t&&null!=t?parseInt(t.SalesPricePolicy):this.CustomerSalesPriceList[0].id}}else 1==e?this.CustomerSalesPriceList=[{id:0,text:"Customer Price",text_ar:"\u0633\u0639\u0631 \u0627\u0644\u0639\u0645\u064a\u0644"}]:2==e?this.CustomerSalesPriceList=[{id:1,text:"Price 1",text_ar:"\u0633\u0639\u0631 1"}]:3==e?this.CustomerSalesPriceList=[{id:2,text:"Price 2",text_ar:"\u0633\u0639\u0631 2"}]:4==e?this.CustomerSalesPriceList=[{id:3,text:"Price 3",text_ar:"\u0633\u0639\u0631 3"}]:5==e&&(this.CustomerSalesPriceList=[{id:4,text:"Price 4",text_ar:"\u0633\u0639\u0631 4"}]),this._Receipt.customersalesprice=this.CustomerSalesPriceList[0].id;this.originalSalesPrice=this._Receipt.customersalesprice}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t,e.cd.markForCheck()})}},{key:"GetSubsaidarySetting",value:function(){var e=this;this._ReceiptSharedService.GetSubsaidarySetting(this.subsidiaryID).subscribe(function(t){null!=t&&(e.subsaidarySetting=t[0],e.cd.markForCheck())})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeCurrency",value:function(e){var t,n=this;(this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.Calculate_Total_Tax_Net(),n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"ChangeEntryDate",value:function(){if(null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date){3!=this.CurrentUserSetting.changesalespricemode?(this.CheckValidDateBySubsidaryID(),this.CheckDeliverDate()):3==this.CurrentUserSetting.changesalespricemode&&(this.spinner.show(),this.GetItem_costprice(0,!0,"ChangeEntryDate"));for(var e=0;e<this._Receipt.details.length;e++)1==this._Receipt.details[e].haswarrenty&&null!=this._Receipt.details[e].warrantydate&&null!=this._Receipt.details[e].warrantydate&&Date.parse(this._Receipt.details[e].warrantydate.toString())<Date.parse(this._Receipt.entry_date.toString())&&(this._Receipt.details[e].warrantydate=null,this.toastr.error(this.ItemWarrantyValidMsg))}else this.DuringSaveDisable=!1,this.cd.markForCheck()}},{key:"CheckDeliverDate",value:function(){if(this.DuringSaveDisable=!1,this.cd.markForCheck(),null!=this._Receipt.customerdeliverdate&&""!=this._Receipt.customerdeliverdate&&null!=this._Receipt.customerdeliverdate){var e=P("".concat(this._Receipt.entry_date," ").concat(this._Receipt.entry_time),"YYYY-MM-DD HH:mm").format(),t=P("".concat(this._Receipt.customerdeliverdate," ").concat(this._Receipt.customerdeliverdate_time),"YYYY-MM-DD HH:mm").format();0==P(e).isSameOrBefore(t)?(this.deliverdateValid=!1,this.toastr.error(this.DeliverDateMsg)):this.deliverdateValid=!0}}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.cd.markForCheck(),e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod();e.cd.markForCheck()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Ke().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Ke().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpLinkedVoucherIsPosted",value:function(){Ke().fire({title:this.warning,text:this.LinkedVoucherIsPostedMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){var t=this;1==e.pricelistitemsonly&&(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)?Ke().fire({title:this.warning,text:this.CustomerPricelistMsg,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?(t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.vendor_id=e.accountid,t._Receipt.cashcustomer_vendor_name="ar"!=t.lang?e.name:e.name_ar,t.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(t._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(t._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(t._Receipt.reference_no=e.internalreferencenum),t.GetDefaultStoreCostCenterByBranch(!0,!1)):t.GetDefaultStoreCostCenterByBranch(!1)}):(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar,this.PriceListItemsOnly=e.pricelistitemsonly,null!=e.salesmanid&&0!=e.salesmanid&&""!=e.salesmanid&&(this._Receipt.empoyee_id=e.salesmanid),null!=e.cutomerdiscount&&null!=e.cutomerdiscount&&(this._Receipt.discount_percent=e.cutomerdiscount),null!=e.internalreferencenum&&""!=e.internalreferencenum&&null!=e.cutomerdiscount&&(this._Receipt.reference_no=e.internalreferencenum),this.GetDefaultStoreCostCenterByBranch(!0,!1))}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.CustomerAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e,t){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e.code}),this.CheckBalanceForItemInStore(0,!0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,e.cd.markForCheck()})}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"onClearItems",value:function(e){var n=this._Receipt.details[e];if(3==n.item_type&&this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==n.item_id}).length>0)if(null!=n.id)for(var i=0;i<this._Receipt.itemscomponent.length;i++)this._Receipt.itemscomponent[i].finishedproductid==n.item_id&&this._Receipt.itemscomponent[i].finishedreceipt_did==n.id&&(this._Receipt.itemscomponent.splice(i,1),i--);else null==n.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=n.rowno}));if(null!=this._Receipt.details[e].id){var r=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._Receipt.details[e].rowno=r+1}this._Receipt.details[e].id=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopsales?(t==this._Receipt.details.length-1&&this.AddItems(),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this._Receipt.details[t]=new R.hm,0==this._Receipt.id?(this._Receipt.details[t].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.details[t].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.details[t].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.details[t].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopSelesErrorMsg))}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";0==this.PriceListItemsOnly?this._ReceiptSharedService.GetItemsDataList(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()}):1==this.PriceListItemsOnly&&this._ReceiptSharedService.GetItemsDataFromCustomerPriceList(this.subsidiaryID,this._Receipt.vendor_id,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e,t){var n=this;this._Receipt.details[t].id=null,this._Receipt.details[t].finishedproductid=null,this._Receipt.details[t].finishedreceipt_did=null,this._Receipt.details[t].conv=1,this._Receipt.details[t].final_conv=1,this._Receipt.details[t].qty=1,this._Receipt.details[t].price=0,this._Receipt.details[t].lowestsaleprice=0,this._Receipt.details[t].discount_percent=0,this._Receipt.details[t].discount_value=0,this._Receipt.details[t].total=0,this._Receipt.details[t].notes="",this._Receipt.details[t].unit_id=null,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){0==i.itemunits.length?(n._Receipt.details[t]=new R.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits)):3==e.item_type&&0==i.itemcomponents.length?(n._Receipt.details[t]=new R.hm,n._Receipt.details[t].isrequireserial=i.item.isrequireserial,0==n._Receipt.id?(n._Receipt.details[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.details[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.details[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.details[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NOComponents)):(n._Receipt.details[t].isrequireserial=i.item.isrequireserial,n._Receipt.details[t].notes=i.item.notes,n._Receipt.details[t].item_type=i.item.item_type,n._Receipt.details[t].qty=1,n._Receipt.details[t].haswarrenty=i.item.haswarrenty,n._Receipt.details[t].warrantydate=i.item.haswarrenty?n.getwarrantydateDate():null,n.ItemUnitsList.length>0?0==n.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits)):n.ItemUnitsList=n.ItemUnitsList.concat(i.itemunits),n._Receipt.details[t].unit_id=e.selling_unitid,n.CheckShowWarrantyDateCols(),i.componentsunits.length>0&&(n.ItemComponentUnitsList=n.ItemComponentUnitsList.concat(i.componentsunits)),i.itemcomponents.length>0&&i.itemcomponents.forEach(function(e){var i=new R.hm;i.item_id=e.itemcomponentid,i.finishedproductid=e.item_id,i.itemname=e.itemname,i.itemname_ar=e.itemname_ar,i.itemcode=e.itemcode,i.unit_id=e.itemcomponentunitid,i.qty=e.itemcomponentqty,i.basicqtycomponent=e.itemcomponentqty,i.conv=e.itemcomponentconv,i.itemcode=e.itemcode,i.price=0,i.total=i.price*i.qty,i.store_id=n._Receipt.details[t].store_id,i.transaction_move=n.Transaction_move,i.item_type=e.item_type,i.storecode=null!=n._Receipt.details[t].storecode?n._Receipt.details[t].storecode.code:null,i.parentrowno=n._Receipt.details[t].rowno,n._Receipt.itemscomponent.push(i)}),n.ChangeItemUnits(e.selling_unitid,t)),n.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){var n=this;e.toString().includes(":")&&(e=e.split(":")[1].trim());var i=this._Receipt.details[t].item_id,r=this.ItemUnitsList.filter(function(t){return t.item_id==i&&t.id==e});this._ReceiptSharedService.GetItemSalesPrice(this._Receipt.vendor_id,i,e,this._Receipt.customersalesprice).subscribe(function(e){e.customerprice.length>0&&(n._Receipt.details[t].price=e.customerprice[0].saleprice,5==e.customerdiscount.customersalesprice?(n._Receipt.details[t].conv=e.customerprice[0].itemconv,n._Receipt.details[t].discount_value=e.customerprice[0].discountvalue,n._Receipt.details[t].discount_percent=e.customerprice[0].discountpercentage,n._Receipt.details[t].unit_id=e.customerprice[0].itemunitid):(n._Receipt.details[t].conv=r[0].conv,n._Receipt.details[t].final_conv=r[0].finalconv),n.OnSelectedItem(n._Receipt.details[t],t),n.CalaculteValuesItemsRow(t),3==n.CurrentUserSetting.changesalespricemode?n.GetItem_costprice(t):n._Receipt.details[t].lowestsaleprice=n._Receipt.details[t].price)}),this.cd.markForCheck()}},{key:"ChangePackItem",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n=0,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});i=r[0].conv,t._ReceiptSharedService.GetItemSalesPrice(t._Receipt.vendor_id,t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,t._Receipt.customersalesprice).subscribe(function(r){r.customerprice.length>0&&(n=r.customerprice[0].saleprice,5==r.customerdiscount.customersalesprice&&(i=r.customerprice[0].itemconv),t._Receipt.details[e].price=n*t._Receipt.details[e].conv/i,t.OnSelectedItem(t._Receipt.details[e],e),t.CalaculteValuesItemsRow(e),3==t.CurrentUserSetting.changesalespricemode?t.GetItem_costprice(e):t._Receipt.details[e].lowestsaleprice=t._Receipt.details[e].price)}),t.cd.markForCheck()},1e3)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){if(t.timeout=null,3==t._Receipt.details[e].item_type)if(t.ItemsComponentList=new Array,null!=t._Receipt.details[e].id)!function(){for(var n=t._Receipt.details[e],i=function(e){if(t._Receipt.itemscomponent[e].finishedproductid==n.item_id&&t._Receipt.itemscomponent[e].finishedreceipt_did==n.id){var i=t._ReceiptOriginal.details.find(function(e){return e.id==n.id}).qty,r=t._ReceiptOriginal.itemscomponent.find(function(i){return i.finishedreceipt_did==n.id&&i.id==t._Receipt.itemscomponent[e].id}).qty;t._Receipt.itemscomponent[e].basicqtycomponent=r/i,t._Receipt.itemscomponent[e].qty=t._Receipt.itemscomponent[e].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[e])}},r=0;r<t._Receipt.itemscomponent.length;r++)i(r)}();else if(null==t._Receipt.details[e].id)for(var n=t._Receipt.details[e],i=0;i<t._Receipt.itemscomponent.length;i++)t._Receipt.itemscomponent[i].finishedproductid==n.item_id&&null==t._Receipt.itemscomponent[i].id&&t._Receipt.itemscomponent[i].parentrowno==n.rowno&&(t._Receipt.itemscomponent[i].qty=t._Receipt.itemscomponent[i].basicqtycomponent*n.qty,t.ItemsComponentList.push(t._Receipt.itemscomponent[i]));t.StockBalances(e),t.CheckBalanceForItemInStore(e),t.CalaculteValuesItemsRow(e),t.CalculateTotalCost()},1e3)}},{key:"ChangePrice",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){if(t.timeout=null,null==t._Receipt.details[e].id)t.CalaculteValuesItemsRow(e);else if(2==t.CurrentUserSetting.changesalespricemode&&null!=t._Receipt.details[e].id){var n=0,i=0,r=t.ItemUnitsList.filter(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});i=r[0].conv,t._ReceiptSharedService.GetItemSalesPrice(t._Receipt.vendor_id,t._Receipt.details[e].item_id,t._Receipt.details[e].unit_id,t._Receipt.customersalesprice).subscribe(function(r){r.customerprice.length>0&&(n=r.customerprice[0].saleprice,5==r.customerdiscount.customersalesprice&&(i=r.customerprice[0].itemconv),t._Receipt.details[e].lowestsaleprice=n*t._Receipt.details[e].conv/i,t._Receipt.details[e].price<t._Receipt.details[e].lowestsaleprice&&(t.RForm.controls["item_price"+e].setErrors({customMin:!0}),t.cd.markForCheck()),t.CalaculteValuesItemsRow(e))})}else 3==t.CurrentUserSetting.changesalespricemode&&null!=t._Receipt.details[e].id?(t.GetItem_costprice(e),t.CalaculteValuesItemsRow(e)):t.CalaculteValuesItemsRow(e)},500)}},{key:"GetItem_costprice",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null!=this._Receipt.details[e].item_id&&null!=this._Receipt.details[e].unit_id?this._ReceiptSharedService.GetItemCostAtDateStoreconv(this._Receipt.details[e].item_id,this._Receipt.details[e].unit_id,this._Receipt.details[e].conv,this._Receipt.details[e].store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(i){i.length>0?(t._Receipt.details[e].lowestsaleprice=i[0].avgcost,t._Receipt.details[e].price<t._Receipt.details[e].lowestsaleprice&&(t.RForm.controls["item_price"+e].setErrors({customMin:!0}),t.cd.markForCheck())):(t._Receipt.details[e].lowestsaleprice=0,t.cd.markForCheck()),1==n&&(e+1<t._Receipt.details.length?t.GetItem_costprice(e+1,!0):(t.spinner.hide(),t.CheckValidDateBySubsidaryID(),t.CheckDeliverDate(),t.CheckBalanceForItemInStore(0,!0)))}):1==n&&(e+1<this._Receipt.details.length?this.GetItem_costprice(e+1,!0):(this.spinner.hide(),this.CheckValidDateBySubsidaryID(),this.CheckDeliverDate(),this.CheckBalanceForItemInStore(0,!0)))}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.show_all_component=i,0==this.show_all_component)if(this.ItemsComponentList=new Array,this.SelectedItem=e,null!=e&&3==e.item_type){var r=e;if(null!=r.id)for(var o=0;o<this._Receipt.itemscomponent.length;o++)this._Receipt.itemscomponent[o].finishedproductid==r.item_id&&this._Receipt.itemscomponent[o].finishedreceipt_did==r.id&&this.ItemsComponentList.push(this._Receipt.itemscomponent[o]);else null==r.id&&(this.ItemsComponentList=this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==r.item_id&&null==e.id&&e.parentrowno==r.rowno}))}else this.ItemsComponentList=[];else this.show_all_component=!0,this.cd.markForCheck();this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&(this.CheckBalanceForItemInStore(t),this.CalculateTotalCost())}},{key:"AddItems",value:function(){this._BatchOrderDetailsReceipt=new R.hm,this._Receipt.details.length>0?(this._BatchOrderDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._BatchOrderDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id?(this._BatchOrderDetailsReceipt.store_id=this.StoreCostCenterSetting.storeid,this._BatchOrderDetailsReceipt.storecode={code:this.StoreCostCenterSetting.storecode}):(this._BatchOrderDetailsReceipt.store_id=this._ReceiptOriginal.details[0].store_id,this._BatchOrderDetailsReceipt.storecode=this._ReceiptOriginal.details[0].storecode),this._BatchOrderDetailsReceipt.transaction_move=this.Transaction_move;var e=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._BatchOrderDetailsReceipt.rowno=e+1,this._Receipt.details.push(this._BatchOrderDetailsReceipt),this.cd.markForCheck()}},{key:"DeleteItems",value:function(e){this.itemqtyview=!1;var t=this._Receipt.details[e];if(this._Receipt.itemscomponent.length>0&&this._Receipt.itemscomponent.filter(function(e){return e.finishedproductid==t.item_id}).length>0)if(null!=t.id)for(var n=0;n<this._Receipt.itemscomponent.length;n++)this._Receipt.itemscomponent[n].finishedproductid==t.item_id&&this._Receipt.itemscomponent[n].finishedreceipt_did==t.id&&(this._Receipt.itemscomponent.splice(n,1),n--);else null==t.id&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=t.rowno}));1==this._Receipt.details.filter(function(e){return e.item_id==t.item_id}).length&&(this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id})),this._Receipt.details.splice(e,1),0==this._Receipt.details.length&&(this._Receipt.discount_percent=0,this._Receipt.discount_foreignpercent=0,this._Receipt.deliveryfees=0,this._Receipt.deliveryfeesforeign=0,this._Receipt.discount_value=0,this._Receipt.discount_foreignvalue=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.surchargevalueforeign=0,this._Receipt.surchargevalue=0),this.Calculate_Total_Tax_Net(),this.OnSelectedItem(null),this.cd.markForCheck()}},{key:"OnEditItemsNotes",value:function(e,t){var n=this;this.DescriptionItem=new R.tH,1==this.IsSalesManImplemented?this._ReceiptSharedService.SalesMenUsers(this.subsidiaryID).subscribe(function(i){n.SalesManlist=[],n.SalesManlist=i,n.DescriptionItem.index=e,n.DescriptionItem.detailshtml=n._Receipt.details[e].detailshtml,n.DescriptionItem.customitemname=n._Receipt.details[e].customitemname,n.OpenModal(t)}):(this.DescriptionItem.index=e,this.DescriptionItem.detailshtml=this._Receipt.details[e].detailshtml,this.DescriptionItem.customitemname=this._Receipt.details[e].customitemname,this.OpenModal(t))}},{key:"onContentChanged",value:function(e){this._Receipt.details[this.DescriptionItem.index].notes=e.text}},{key:"SaveNotes",value:function(){this._Receipt.details[this.DescriptionItem.index].customitemname=this.DescriptionItem.customitemname,this._Receipt.details[this.DescriptionItem.index].detailshtml=this.DescriptionItem.detailshtml,this._Receipt.details[this.DescriptionItem.index].salesmanid=this.DescriptionItem.salesmanid,this.CloseModal()}},{key:"Checkwarrantydate",value:function(e,t){Date.parse(e.toString())>Date.parse(this._Receipt.entry_date.toString())?(this._Receipt.details[t].warrantydate=e.target.value,this.cd.markForCheck()):(this.toastr.error(this.ItemWarrantyValidMsg),this._Receipt.details[t].warrantydate=null)}},{key:"OnSerialItems",value:function(e,n){var i,r=this;if(this.SelectedItem=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)this.toastr.error(this.InValidQty);else{this.requiredserial=this._Receipt.details[e].isrequireserial;var o=this.ItemUnitsList.filter(function(t){return t.item_id==r._Receipt.details[e].item_id&&t.id==r._Receipt.details[e].unit_id}),a=this._Receipt.details[e].conv*o[0].finalconv/o[0].conv;this._batchqty=this._Receipt.details[e].qty*a,this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,null!==(i=this._Receipt.id)&&void 0!==i?i:0,this._Receipt.entry_date).subscribe(function(i){r.BatchesListForEatchRow=[],i.seriallist.forEach(function(t){var n=r._Receipt.details.filter(function(t){return t.item_id==r._Receipt.details[e].item_id});null!=n&&n.length>1&&n.forEach(function(e){var n=e.batcheslist.filter(function(e){return e.batchno==t.serial&&e.previtemserialid==t.id});null!=n&&n.length>0&&(t.availableqty=(t.availableqty/a-n[0].qty).toFixed(2))})});var o=[];if(o=i.seriallist,console.log(i.seriallist,"d.seriallist"),r._Receipt.details[r.selectedindex].batcheslist.forEach(function(e){var t=o.findIndex(function(t){return t.id==e.previtemserialid});-1!=t&&(e.inv_receipt_d_id>0?null==r._Receipt.details[r.selectedindex].validrow||1==r._Receipt.details[r.selectedindex].validrow?(o[t].qty=e.qty,o[t].oldqty=e.qty,r._Receipt.details[r.selectedindex].validrow=!0):o[t].availableqty=o[t].availableqty+e.qty:1==r._Receipt.details[r.selectedindex].validrow&&(o[t].qty=e.qty,o[t].oldqty=e.qty,o[t].availableqty=o[t].availableqty-e.qty,r._Receipt.details[r.selectedindex].validrow=!0))}),r._Receipt.id>0)for(var c=0;c<o.length;c++)null==o[c].qty&&0==o[c].availableqty||r.BatchesListForEatchRow.push(o[c]);else r.BatchesListForEatchRow=t(o);r.OpenModal(n)})}}},{key:"saveserial",value:function(e){var t=this;if(e.valid){if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var n,i=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0}),i!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var r=1;this.BatchesListForEatchRow.map(function(e){if(r++,e.qty>0){var i=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=i?t._Receipt.details[t.selectedindex].batcheslist[i].qty=+e.qty.toString():((n=new rt.WB).id=0,n.qty=+e.qty,n.storeid=e.storeid,n.storename=e.name,n.storename_ar=e.name_ar,n.batchno=e.serial,n.date=e.expire_date,n.previtemserialid=e.id,n.serial=r,n.valid=!1,n.isdublicatebatch=!1,n.isused=!1,n.inv_receipt_d_id=null,n.solidquantity=null,t._Receipt.details[t.selectedindex].batcheslist.push(n)),t._Receipt.details[t.selectedindex].validrow=!0}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}},{key:"ChangeBatchQty",value:function(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=this.dealWith(e.availableqty+e.oldqty-+t),e.oldqty=+t}},{key:"dealWith",value:function(e){return e%1==0?e:e.toString().split(".")[1].length>4?+e.toFixed(4):e}},{key:"CheckShowWarrantyDateCols",value:function(){var e=this._Receipt.details.filter(function(e){return 1==e.haswarrenty});this.ShowWarrantyDateCols=e.length>0,this.cd.markForCheck()}},{key:"CalaculteValuesItemsRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.details[e].qty=this._Receipt.details[e].qty||0,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0;var n=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision));"percent"==t&&(this._Receipt.details[e].discount_value=Number(((n*this._Receipt.details[e].discount_percent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/n%(1/0)||0)),this._Receipt.details[e].total=Number((n-this._Receipt.details[e].discount_value).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"ReCalaculteValuesChangeItemsRow",value:function(e){this._Receipt.details[e].qty=this._Receipt.details[e].qty||1,this._Receipt.details[e].price=this._Receipt.details[e].price||0,this._Receipt.details[e].discount_value=this._Receipt.details[e].discount_value||0,this._Receipt.details[e].discount_percent=this._Receipt.details[e].discount_percent||0,this._Receipt.details[e].total=Number((this._Receipt.details[e].total||0).toFixed(this._Currencyprecision)),0==this._Receipt.details[e].discount_value?this._Receipt.details[e].price=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)):0!=this._Receipt.details[e].discount_value&&(this._Receipt.details[e].price=Number(((this._Receipt.details[e].total+this._Receipt.details[e].discount_value)/this._Receipt.details[e].qty%(1/0)||0).toFixed(this._Currencyprecision)),this._Receipt.details[e].discount_percent=100*(this._Receipt.details[e].discount_value/(this._Receipt.details[e].price*this._Receipt.details[e].qty)%(1/0)||0)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"onFocusInCostCenter",value:function(e){this.GetCostCenterList("")}},{key:"CostCenterChangeSearch",value:function(e,t){this.GetCostCenterList(e.query.trim())}},{key:"CostCenterSelectEvent",value:function(e){this._Receipt.costcenterid=e.id}},{key:"GetCostCenterList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetCostcenterTransactionsbycertainIDS(this.subsidiaryID,t,this._Receipt.vendor_id).subscribe(function(t){e.CostCenterList=[],e.CostCenterList=t,e.CostCenterList.length>0&&e.setFieldNameForArray(e.CostCenterList,"costcenter"),e.cd.markForCheck()})}},{key:"onFocusInLocations",value:function(e){this.GetLocationsList("")}},{key:"LocationsChangeSearch",value:function(e,t){this.GetLocationsList(e.query.trim())}},{key:"LocationsSelectEvent",value:function(e){this._Receipt.locationid=e.id}},{key:"GetLocationsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryLocations(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.LocationList=[],e.LocationList=t,e.LocationList.length>0&&e.setFieldNameForArray(e.LocationList,"location"),e.cd.markForCheck()})}},{key:"onFocusInClasses",value:function(e){this.GetClassesList("")}},{key:"ClassesChangeSearch",value:function(e,t){this.GetClassesList(e.query.trim())}},{key:"ClassesSelectEvent",value:function(e){this._Receipt.classid=e.id}},{key:"GetClassesList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryClasses(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.ClassList=[],e.ClassList=t,e.ClassList.length>0&&e.setFieldNameForArray(e.ClassList,"class"),e.cd.markForCheck()})}},{key:"onFocusInDepartment",value:function(e){this.GetDepartmentList("")}},{key:"DepartmentChangeSearch",value:function(e,t){this.GetDepartmentList(e.query.trim())}},{key:"DepartmentSelectEvent",value:function(e){this._Receipt.departmentid=e.id}},{key:"GetDepartmentList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetSubsidaryDepartments(this.subsidiaryID,t).subscribe(function(t){e.CostCenterList=[],e.DepartmentList=[],e.DepartmentList=t,e.DepartmentList.length>0&&e.setFieldNameForArray(e.DepartmentList,"department"),e.cd.markForCheck()})}},{key:"onFocusInTransactionAccount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.GetTransactionAccountList("",t)}},{key:"TransactionAccountChangeSearch",value:function(e,t){this.GetTransactionAccountList(e.query.trim(),t)}},{key:"TransactionAccountsSelectEvent",value:function(e,t){"commisionaccount"==t?this._Receipt.commisionaccountid=e.accountid:this._Receipt.commisionaccountid1=e.accountid}},{key:"GetTransactionAccountList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._ReceiptSharedService.GetTransactionAccountList(this.subsidiaryID,t).subscribe(function(t){e.TransactionAccountList=[],e.TransactionAccountList=t,e.TransactionAccountList.length>0&&e.setFieldNameForArray(e.TransactionAccountList,n),e.cd.markForCheck()})}},{key:"ChangeCommissionType",value:function(e){1==e?null==this._Receipt.commissiontype?(this._Receipt.commission=0,this._Receipt.commissionnet=0):this.CalculateCommition1():2==e&&(null==this._Receipt.commissiontype1?(this._Receipt.commission1=0,this._Receipt.commissionnet1=0):this.CalculateCommition2())}},{key:"CalculateCommition1",value:function(){this._Receipt.netvalue>0&&(1==this._Receipt.commissiontype?this._Receipt.commissionnet=Number(this._Receipt.commission.toFixed(this._Currencyprecision)):0==this._Receipt.commissiontype&&(this._Receipt.commissionnet=Number(((this._Receipt.netvalue-this._Receipt.deliveryfees)*this._Receipt.commission/100).toFixed(this._Currencyprecision))))}},{key:"CalculateCommition2",value:function(){this._Receipt.netvalue>0&&(1==this._Receipt.commissiontype1?this._Receipt.commissionnet1=Number(this._Receipt.commission1.toFixed(this._Currencyprecision)):0==this._Receipt.commissiontype1&&(this._Receipt.commissionnet1=Number(((this._Receipt.netvalue-this._Receipt.deliveryfees)*this._Receipt.commission1/100).toFixed(this._Currencyprecision))))}},{key:"setFieldNameForArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<e.length;n++){var i=e[n];"commisionaccount"==t?i.commisionaccountfieldname="ar"==this.lang?i.sugar:i.sug:"commisionaccount2"==t?i.commisionaccountfieldname1="ar"==this.lang?i.sugar:i.sug:"costcenter"==t?i.costcenterfieldname="ar"==this.lang?i.sugar:i.sug:"location"==t?i.locationfieldname="ar"==this.lang?i.sugar:i.sug:"class"==t?i.classfieldname="ar"==this.lang?i.sugar:i.sug:"department"==t&&(i.departmentfieldname="ar"==this.lang?i.sugar:i.sug)}}},{key:"CarByDriverID",value:function(){var e=this;this._ReceiptSharedService.CarByDriverID(this.subsidiaryID,this._Receipt.driverid).subscribe(function(t){e.CarsList=t,e.CarsList.length>0&&null!=e._Receipt.driverid&&(e._Receipt.carid=e.CarsList[0].id),e.cd.markForCheck()})}},{key:"DriverUsersByCarID",value:function(){var e=this;this._ReceiptSharedService.DriverUsersByCarID(this.subsidiaryID,this._Receipt.carid).subscribe(function(t){e.DriversList=t,e.DriversList.length>0&&null!=e._Receipt.carid&&(e._Receipt.driverid=e.DriversList[0].id),e.cd.markForCheck()})}},{key:"ChangeDriver",value:function(){this.CarByDriverID(),null==this._Receipt.driverid&&(this._Receipt.carid=null,this.DriverUsersByCarID())}},{key:"ChangeCar",value:function(){this.DriverUsersByCarID(),null==this._Receipt.carid&&(this._Receipt.driverid=null,this.DriverUsersByCarID())}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new R.Cb,this._LinkedReceipt.code=this.BasicCodeReceipt,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this.spinner.show(),this._ReceiptSharedService.GetReceiptForLinkedReceipt(n.branch_id,n.code,n.entry_no).subscribe(function(n){if(null==n.receipt.id)t.spinner.hide(),t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(n.items.length>0)if(1==t._Receipt.linkedreceipts.length&&(t._Receipt.subsidiaryid=n.receipt.subsidiaryid,t._Receipt.customersalesprice=null!=n.receipt.customersalesprice?n.receipt.customersalesprice:t._Receipt.customersalesprice,t._Receipt.payment_type=null!=n.receipt.payment_type?n.receipt.payment_type:t._Receipt.payment_type,t._Receipt.vendor_id=null!=n.receipt.vendor_id?n.receipt.vendor_id:t._Receipt.vendor_id,t._Receipt.cashcustomerid=null!=n.receipt.cashcustomerid?n.receipt.cashcustomerid:t._Receipt.cashcustomerid,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.vendornamear:n.receipt.vendorname,t._Receipt.vendor_balance=null!=n.receipt.vendor_balance?n.receipt.vendor_balance:t._Receipt.vendor_balance,t.PriceListItemsOnly=n.receipt.pricelistitemsonly),null!=t._Receipt.cashcustomerid&&(t._Receipt.cashcustomer_vendor_code={phonenumber:n.receipt.phonenumber},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?n.receipt.cashcustomername_ar:n.receipt.cashcustomername,t.PriceListItemsOnly=!1),t._Receipt.currency_id=n.receipt.currency_id,t._Receipt.currency_rate=n.receipt.currency_rate,t._Receipt.empoyee_id=null!=n.receipt.empoyee_id?n.receipt.empoyee_id:t._Receipt.empoyee_id,t._Receipt.memo=n.receipt.memo,t._Receipt.reference_no=n.receipt.reference_no,t._CurrencySelected=t.CurrencyList.find(function(e){return e.id==t._Receipt.currency_id}),t.ForeignCurrencyShow=1!=t._CurrencySelected.basecurrency),0==t.PriceListItemsOnly||n.receipt.vendor_id==t._Receipt.vendor_id){t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=n.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id;for(var i=0;i<t._Receipt.details.length;i++)null==t._Receipt.details[i].item_id&&(t._Receipt.details.splice(i,1),i--);n.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),n.itemcomponents.length>0&&(t.ItemComponentsLinkedReceipt=n.itemcomponents,81==n.receipt.code&&(t.ItemComponentsLinkedReceipt=t.ItemComponentsLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.ItemComponentUnitsList=t.ItemComponentUnitsList.concat(n.componentsunits)),t.ItemLinkedReceipt=n.items,81==n.receipt.code&&(t.ItemLinkedReceipt=t.ItemLinkedReceipt.filter(function(e){return-1==e.transaction_move})),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0])}else t._Receipt.linkedreceipts[e].fire=0,t.toastr.info(t.CustomerPricelistMsg);else t.spinner.hide(),t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;this._BatchOrderDetailsReceipt=new R.hm;var r=this._Receipt.details.findIndex(function(e){return e.item_id==i.item_id&&e.unit_id==i.unit_id&&e.conv==i.conv&&e.price==i.price});if(-1==r){this._Receipt.details.length>0?(this._BatchOrderDetailsReceipt.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,this._BatchOrderDetailsReceipt.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):(this._BatchOrderDetailsReceipt.store_id=i.store_id,this._BatchOrderDetailsReceipt.storecode={code:i.storecode}),this._BatchOrderDetailsReceipt.item_id=i.item_id,this._BatchOrderDetailsReceipt.itemcode={code:i.itemcode},this._BatchOrderDetailsReceipt.itemname=i.itemname,this._BatchOrderDetailsReceipt.itemname_ar=i.itemname_ar,this._BatchOrderDetailsReceipt.unit_id=i.unit_id,this._BatchOrderDetailsReceipt.qty=i.qty,this._BatchOrderDetailsReceipt.transaction_move=this.Transaction_move,this._BatchOrderDetailsReceipt.item_type=i.item_type,this._BatchOrderDetailsReceipt.notes=i.notes,this._BatchOrderDetailsReceipt.haswarrenty=i.haswarrenty,this._BatchOrderDetailsReceipt.warrantydate=i.warrantydate,this._BatchOrderDetailsReceipt.detailshtml=i.detailshtml,this._BatchOrderDetailsReceipt.customitemname=i.customitemname,this._BatchOrderDetailsReceipt.salesmanid=i.salesmanid,this._BatchOrderDetailsReceipt.price=0!=i.priceafterincrease&&null!=i.priceafterincrease?i.priceafterincrease:i.price,this._BatchOrderDetailsReceipt.discount_percent=i.discount_percent,this._BatchOrderDetailsReceipt.discount_value=i.discount_value,this._BatchOrderDetailsReceipt.total=i.total;var o=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._BatchOrderDetailsReceipt.rowno=o+1,3==i.item_type&&this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id}).forEach(function(t){var n=new R.hm;n.store_id=e._BatchOrderDetailsReceipt.store_id,n.storecode=e._BatchOrderDetailsReceipt.storecode.code,n.item_id=t.item_id,n.itemcode=t.itemcode,n.itemname=t.itemname,n.itemname_ar=t.itemname_ar,n.unit_id=t.unit_id,n.conv=t.conv,n.qty=t.qty,n.basicqtycomponent=t.qty/e._BatchOrderDetailsReceipt.qty||0,n.price=t.price,n.discount_value=t.discount_value,n.discount_percent=t.discount_percent,n.total=t.total,n.transaction_move=e.Transaction_move,n.finishedproductid=t.finishedproductid,n.item_type=t.item_type,n.notes=t.notes,n.haswarrenty=t.haswarrenty,n.warrantydate=t.warrantydate,n.detailshtml=t.detailshtml,n.customitemname=t.customitemname,n.salesmanid=t.salesmanid,n.parentrowno=e._BatchOrderDetailsReceipt.rowno,e._Receipt.itemscomponent.push(n)});var a=this.ItemUnitsList.filter(function(e){return e.item_id==i.item_id&&e.id==i.unit_id});this._BatchOrderDetailsReceipt.conv=i.conv,this._BatchOrderDetailsReceipt.price=this._BatchOrderDetailsReceipt.price*this._BatchOrderDetailsReceipt.conv/a[0].conv,this._BatchOrderDetailsReceipt.lowestsaleprice=this._BatchOrderDetailsReceipt.price,this._Receipt.details.push(this._BatchOrderDetailsReceipt),this.CalaculteValuesItemsRow(this._Receipt.details.length-1),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemFinished())}else{if(this._Receipt.details[r].qty=this._Receipt.details[r].qty+parseFloat(i.qty),3==i.item_type){var c=this.ItemComponentsLinkedReceipt.filter(function(e){return e.finishedproductid==i.item_id&&e.finishedreceipt_did==i.id});if(null!=this._Receipt.details[r].id)for(var l=this._Receipt.details[r],s=function(t){e._Receipt.itemscomponent[t].finishedproductid==l.item_id&&e._Receipt.itemscomponent[t].finishedreceipt_did==l.id&&(p=c.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(p.qty))},d=0;d<this._Receipt.itemscomponent.length;d++){var p;s(d)}else if(null==this._Receipt.details[r].id)for(var m=this._Receipt.details[r],u=function(t){e._Receipt.itemscomponent[t].finishedproductid==m.item_id&&null==e._Receipt.itemscomponent[t].id&&e._Receipt.itemscomponent[t].parentrowno==m.rowno&&(p=c.find(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}),e._Receipt.itemscomponent[t].qty=e._Receipt.itemscomponent[t].qty+parseFloat(p.qty))},h=0;h<this._Receipt.itemscomponent.length;h++)u(h)}this.CalaculteValuesItemsRow(r),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):(this.CheckShowWarrantyDateCols(),this.SetLinkReceiptItemFinished())}}},{key:"SetLinkReceiptItemFinished",value:function(){if(this.spinner.hide(),this.IxLRS+1<this.LinkedReceiptListSelected.length){this.IxLRS=this.IxLRS+1;var e=this._Receipt.linkedreceipts.length-(this.IxLRS+1);1!=this._Receipt.linkedreceipts[e].fire&&this.GetLinkedReceipt(e)}else this.CheckBalanceForItemInStore(0,!0),3==this.CurrentUserSetting.changesalespricemode&&(this.spinner.show(),this.activeNav=1,this.GetItem_costprice(0,!0,"LinkReceipt")),this.StockBalances(0),this.CalculateTotalCost()}},{key:"OnCustomerLinkedReceiptSet",value:function(e){this.LinkedReceiptListSelected=[],this.IxLRS=0,this.LinkedReceiptListSelected=e.list;for(var t=0;t<this.LinkedReceiptListSelected.length;t++)this._LinkedReceipt=new R.Cb,this._LinkedReceipt.code=this.LinkedReceiptListSelected[t].code,this._LinkedReceipt.entry_no=this.LinkedReceiptListSelected[t].entry_no,this._LinkedReceipt.subsidiaryid=this.subsidiaryID,this._LinkedReceipt.branch_id=this.LinkedReceiptListSelected[t].branch_id,this._LinkedReceipt.receiptid=this.LinkedReceiptListSelected[t].id,this._LinkedReceipt.parentreceiptid=this._Receipt.id,this._Receipt.linkedreceipts.push(this._LinkedReceipt);this.GetLinkedReceipt(this._Receipt.linkedreceipts.length-(this.IxLRS+1))}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"GetexpenseList",value:function(){var e=this;this._ReceiptSharedService.GetAllExpensesTypeBySubSidary(this.subsidiaryID,2).subscribe(function(t){e.expenseList=t,e.cd.markForCheck()})}},{key:"AddExpenses",value:function(){this._ReceiptExpenses=new R.th,this._ReceiptExpenses.currencyid=this._Receipt.currency_id,this._ReceiptExpenses.exchangerate=this._Receipt.currency_rate,this._ReceiptExpenses.expenseid=this.expenseList.length>0?this.expenseList[0].id:null,this._ReceiptExpenses.purchaseexpense=!1,this._ReceiptExpenses.expenseList=this.expenseList,this._Receipt.receiptexpenses.push(this._ReceiptExpenses),this.changeexpenses(this._Receipt.receiptexpenses.length-1),this.calculateTotalExpenses(),this.cd.markForCheck()}},{key:"DeleteExpenses",value:function(e){this._Receipt.receiptexpenses.splice(e,1),this.calculateTotalExpenses(),this.cd.markForCheck()}},{key:"changeexpenses",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this._Receipt.receiptexpenses[t].expenseid;null!=n?this._ReceiptSharedService.GetExpensesType(n).subscribe(function(n){n&&n.length>0?t>=0&&(e.expensesAccountid=n[0].accountid,e.accountcode=n[0].code,e._Receipt.receiptexpenses[t].accountid=n[0].accountid,e._Receipt.receiptexpenses[t].accountcode={accountcode:n[0].code},e._Receipt.receiptexpenses[t].value=parseFloat(n[0].value.toFixed(e._Currencyprecision)),e._Receipt.receiptexpenses[t].localvalue=parseFloat((parseFloat(n[0].value)/parseFloat(e._Receipt.receiptexpenses[t].exchangerate.toString())).toFixed(e._Currencyprecision))):(e._Receipt.receiptexpenses[t].accountid=null,e._Receipt.receiptexpenses[t].accountcode="",e._Receipt.receiptexpenses[t].value=parseFloat(1..toFixed(e._Currencyprecision)),e._Receipt.receiptexpenses[t].localvalue=e._Receipt.receiptexpenses[t].value,e._Receipt.receiptexpenses[t].exchangerate=e._Receipt.currency_rate),e.cd.markForCheck()}):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"changeexpensesCurrency",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=this.CurrencyList.find(function(t){return t.id==e.target.value});null!=i?this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,i.id,this._Receipt.entry_date,0).subscribe(function(e){e&&e.length>0?(t._Receipt.receiptexpenses[n].exchangerate=e[0].rate.toFixed(9),t.disablerate=!1):(t._Receipt.receiptexpenses[n].exchangerate=Number(1..toFixed(9)),t.disablerate=!0),t.ChangeExpensesValue(n),t.cd.markForCheck()}):(i=null,this._Receipt.receiptexpenses[n].exchangerate=null,this.cd.markForCheck())}},{key:"ChangeExpensesValue",value:function(e){if(this._Receipt.receiptexpenses[e].exchangerate<=0)return this._Receipt.receiptexpenses[e].localvalue=0,void this.calculateTotalExpenses();this._Receipt.receiptexpenses[e].localvalue=parseFloat((this._Receipt.receiptexpenses[e].value/this._Receipt.receiptexpenses[e].exchangerate).toFixed(this._Currencyprecision)),this.calculateTotalExpenses(),this.cd.markForCheck()}},{key:"ChangeExpenseslocalValue",value:function(e){if(this._Receipt.receiptexpenses[e].exchangerate<=0)return this._Receipt.receiptexpenses[e].value=0,void this.calculateTotalExpenses();this._Receipt.receiptexpenses[e].localvalue=parseFloat(this._Receipt.receiptexpenses[e].localvalue.toFixed(this._Currencyprecision)),this._Receipt.receiptexpenses[e].value=parseFloat((this._Receipt.receiptexpenses[e].localvalue*this._Receipt.receiptexpenses[e].exchangerate).toFixed(this._Currencyprecision)),this.calculateTotalExpenses(),this.cd.markForCheck()}},{key:"GetAccount",value:function(e){var n=this;this._ReceiptSharedService.GetAccount(this.subsidiaryID,e.query.trim()).subscribe(function(e){n.AccountList=[],n.AccountList=[].concat(t(n.AccountList),t(e)),n.cd.markForCheck()})}},{key:"onSelectAccount",value:function(e,t){this._Receipt.receiptexpenses[t].accountid=e.accountid;var n=e.accountid;null!=n&&null!=n&&""!=n||(this._Receipt.receiptexpenses[t].accountid=null),this.cd.markForCheck()}},{key:"onFocusInAutoComplete",value:function(e){this.GetAccount(e)}},{key:"calculateTotalExpenses",value:function(){this.TotalExpensses=0,this.TotalExpensses=this._Receipt&&this._Receipt.receiptexpenses?this._Receipt.receiptexpenses.map(function(e){return e.localvalue||0}).reduce(function(e,t){return e+t},0):0,this._Receipt.totalexpensses=Number(this.TotalExpensses.toFixed(this._Currencyprecision)),this._Receipt.totalexpensses_foreign=Number((this.TotalExpensses*this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net(),this.cd.markForCheck()}},{key:"addItemIfNotInList",value:function(e){e.expenseList=t(this.expenseList),e.expenseList.some(function(t){return t.id===e.expenseid})||e.expenseList.push({id:e.expenseid,name:e.name,name_ar:e.name_ar})}},{key:"GetHrEmployeesList",value:function(){var e=this;this._employeeService.getHrEmployees(this.subsidiaryID,"").subscribe(function(t){e.HRemployeesList=t,console.log(e.HRemployeesList),e.cd.markForCheck()})}},{key:"changeHrEmployee",value:function(e){var t=this._Receipt.receiptlaborers[e].employeeid;if(this._Receipt.receiptlaborers.some(function(n,i){return n.employeeid==t&&i!=e}))return this._Receipt.receiptlaborers[e].employeeid=null,this.cd.markForCheck(),this.toastr.error(this.EmpAddedPreviously);this._Receipt.receiptlaborers[e].employeeid=t;var n=this.HRemployeesList.find(function(e){return e.id==t});null!=n&&(this._Receipt.receiptlaborers[e].hourlywages=n.salary,this.ChangeLaborersValue(e)),this.cd.markForCheck()}},{key:"ChangeLaborersValue",value:function(e){this._Receipt.receiptlaborers[e].value=parseFloat((this._Receipt.receiptlaborers[e].hourlywages/60*this._Receipt.receiptlaborers[e].numberofhours).toFixed(this._Currencyprecision)),this.calculateTotalLaborers(),this.cd.markForCheck()}},{key:"AddLaborers",value:function(){this._ReceiptLaborers=new R.NM,this._ReceiptLaborers.employeeid=null,this._ReceiptLaborers.hourlywages=0,this._ReceiptLaborers.numberofhours=0,this._ReceiptLaborers.value=0,this._Receipt.receiptlaborers.push(this._ReceiptLaborers),this.calculateTotalLaborers(),this.cd.markForCheck()}},{key:"DeleteLaborers",value:function(e){this._Receipt.receiptlaborers.splice(e,1),this.calculateTotalLaborers(),this.cd.markForCheck()}},{key:"calculateTotalLaborers",value:function(){this.TotalLaborers=this._Receipt&&this._Receipt.receiptlaborers?this._Receipt.receiptlaborers.map(function(e){return e.value||0}).reduce(function(e,t){return e+t},0):0,this._Receipt.totallaborers=Number(this.TotalLaborers.toFixed(this._Currencyprecision)),this._Receipt.totallaborers_foreign=Number((this.TotalLaborers*this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this.Calculate_Total_Tax_Net()}},{key:"formatSpentHours",value:function(e,t){if(String(t).match(/^[0-9]*:?[0-5]?[0-9]?$/)){var i=n(t.split(":"),2),r=i[0],o=i[1],a="00",c="00";null!=o&&""!=o&&(a=Math.min(parseInt(o,10),59).toString().padStart(2,"0")),null!=r&&""!=r&&(c=Math.min(parseInt(r)).toString().padStart(2,"0")),this._Receipt.receiptlaborers[e].timeString="".concat(c,":").concat(a)}else this._Receipt.receiptlaborers[e].timeString="00:00";var l=n(this._Receipt.receiptlaborers[e].timeString.split(":").map(Number),2),s=l[0],d=l[1];this._Receipt.receiptlaborers[e].numberofhours=60*s+d,this.ChangeLaborersValue(e)}},{key:"formatMinutesToHoursMinutes",value:function(e){var t=e%60;return"".concat(Math.floor(e/60),":").concat(t<10?"0":"").concat(t)}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"Calculate_Total_Tax_Net",value:function(){var e=0;this._Receipt.details.forEach(function(t){e+=t.total}),1==this._Receipt.currency_rate?(this._Receipt.value=Number(e.toFixed(this._Currencyprecision)),this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision))):(this._Receipt.valueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=Number((e/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,this._Receipt.deliveryfees>0?this._Receipt.deliveryfeesforeign=Number((this._Receipt.deliveryfees*this._Receipt.currency_rate).toFixed(this._Currencyprecision)):this._Receipt.deliveryfeesforeign>0&&(this._Receipt.deliveryfees=Number((this._Receipt.deliveryfeesforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this._Receipt.discount_percent>0?this.Calculate_Disc("local","percent"):this._Receipt.discount_value>0?this.Calculate_Disc("local","value"):this._Receipt.discount_foreignvalue>0?this.Calculate_Disc("foreign","value"):this.CalculateTax_Net(e)}},{key:"CalculateTax_Net",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;1==this._Receipt.currency_rate?(this._Receipt.netvalue=Number((e-this._Receipt.discount_value+this._Receipt.deliveryfees+this._Receipt.surchargevalue+this._Receipt.totalexpensses+this._Receipt.totallaborers).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0,this._Receipt.netvalueforeign=this._Receipt.netvalue):(this._Receipt.netvalueforeign=Number((e-this._Receipt.discount_foreignvalue+this._Receipt.deliveryfeesforeign+this._Receipt.surchargevalueforeign+this._Receipt.totalexpensses_foreign+this._Receipt.totallaborers_foreign).toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=this._Receipt.netvalueforeign>=0?this._Receipt.netvalueforeign:0,this._Receipt.netvalue=Number((this._Receipt.netvalueforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this._Receipt.netvalue=this._Receipt.netvalue>=0?this._Receipt.netvalue:0),this.CalculateCommition1(),this.CalculateCommition2()}},{key:"Calculate_Disc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"percent";this._Receipt.discount_percent=this._Receipt.discount_percent||0,this._Receipt.discount_foreignpercent=this._Receipt.discount_foreignpercent||0,this._Receipt.discount_value=this._Receipt.discount_value||0,this._Receipt.discount_foreignvalue=this._Receipt.discount_foreignvalue||0,"local"==e?("percent"==t&&(this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_percent=Number((100*(this._Receipt.discount_value/this._Receipt.value%(1/0)||0)).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignpercent=this._Receipt.discount_percent,this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision)))):"foreign"==e&&("percent"==t&&(this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)),this._Receipt.discount_foreignvalue=Number(((this._Receipt.valueforeign*this._Receipt.discount_foreignpercent||0)/100).toFixed(this._Currencyprecision))),"value"==t&&(this._Receipt.discount_foreignpercent=Number((100*(this._Receipt.discount_foreignvalue/this._Receipt.valueforeign%(1/0)||0)).toFixed(this._Currencyprecision)),this._Receipt.discount_percent=this._Receipt.discount_foreignpercent,this._Receipt.discount_value=Number(((this._Receipt.value*this._Receipt.discount_percent||0)/100).toFixed(this._Currencyprecision)))),this.CalculateTax_Net(1==this._Receipt.currency_rate?this._Receipt.value:this._Receipt.valueforeign)}},{key:"Calculate_DeliveryCharges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local";this._Receipt.deliveryfees=this._Receipt.deliveryfees||0,this._Receipt.deliveryfeesforeign=this._Receipt.deliveryfeesforeign||0,"local"==e?this._Receipt.deliveryfeesforeign=Number((this._Receipt.deliveryfees*this._Receipt.currency_rate).toFixed(this._Currencyprecision)):"foreign"==e&&(this._Receipt.deliveryfees=Number((this._Receipt.deliveryfeesforeign/this._Receipt.currency_rate).toFixed(this._Currencyprecision))),this.CalculateTax_Net(1==this._Receipt.currency_rate?this._Receipt.value:this._Receipt.valueforeign)}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new R.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new R.I$)}},{key:"CheckBalanceForItemInStore",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];1==r&&(this.DuringSaveDisable=!0,this.cd.markForCheck());var o=!0,a=new R.I$;if(null!=this._Receipt.details[e].item_id){a.ReceiptCode=this.BasicCodeReceipt,a.BranchID=this._Receipt.branch_id,a.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,a.Unit_ID=this._Receipt.details[e].unit_id,a.conv=this._Receipt.details[e].conv,a.Qty=0,a.itemid=this._Receipt.details[e].item_id,a.StoreID=this._Receipt.details[e].store_id,a.subsidairyid=this.subsidiaryID,a.ReceiptID=this._Receipt.id,console.log(a);var c=null!==(t=this.ReceiptCodeList.filter(function(e){return e.code==n.BasicCodeReceipt})[0].items)&&void 0!==t?t:-1,l=this.InventorySetting[0].physicalnegativeinventoryid,s=this.InventorySetting[0].salesreturneffect;console.log(this._Receipt.details[e].item_type),2==this._Receipt.details[e].item_type||!(-1==c||1==c&&this._Receipt.details[e].id>0)||1!=l||1!=s&&null!=s?1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt():this._ReceiptSharedService.CheckBalanceForItemInStore(a).subscribe(function(t){var a=0,l=0,s=0,d=[],p=!0;if(0==t.consignment.consignment){if(null!=t.totalqty.totalqty){if(a=t.totalqty.totalqty,d=t.itemcomponent,n._Receipt.details.filter(function(t){return t.item_id==n._Receipt.details[e].item_id}).forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,o=e.conv;l=parseFloat(l.toString())+i*(o/r)*parseFloat(e.qty.toString())}}),3!=n._Receipt.details[e].item_type&&function(){n._Receipt.itemscomponent.filter(function(t){return t.item_id==n._Receipt.details[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());l=parseFloat(l.toString())+i}});for(var t=[],i=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),r=function(r){t=[],t=n._Receipt.itemscomponent.filter(function(t){return t.parentrowno==i[r].rowno&&t.finishedproductid==i[r].item_id&&null==t.id&&t.item_id==n._Receipt.details[e].item_id});for(var o=function(e){var i=t[e].qty,r=n.ItemComponentUnitsList.find(function(n){return n.item_id==t[e].item_id&&n.id==t[e].unit_id});if(null!=r){var o=(null!=r.finalconv?r.finalconv:1)*(t[e].conv/(null!=r.conv?r.conv:1))*parseFloat(i.toString());l=parseFloat(l.toString())+o}},a=0;a<t.length;a++)o(a)},o=0;o<i.length;o++)r(o)}(),-1==c?s=a-l:1==c&&(s=a+l),3==n._Receipt.details[e].item_type)for(var m=function(e){if(2!=d[e].item_type){var t=function(){var t=n._Receipt.details.filter(function(t){return t.item_id==d[e].item_id}),i=0;t.forEach(function(e){var t=n.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=null!=t.finalconv?t.finalconv:1,o=null!=t.conv?t.conv:1,a=e.conv;i=parseFloat(i.toString())+r*(a/o)*parseFloat(e.qty.toString())}}),n._Receipt.itemscomponent.filter(function(t){return t.item_id==d[e].item_id&&null!=t.id}).forEach(function(e){var t=n.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var r=(null!=t.finalconv?t.finalconv:1)*(e.conv/(null!=t.conv?t.conv:1))*parseFloat(e.qty.toString());i=parseFloat(i.toString())+r}});for(var r=[],o=n._Receipt.details.filter(function(e){return 3==e.item_type&&null==e.id}),a=function(t){r=[],r=n._Receipt.itemscomponent.filter(function(n){return n.parentrowno==o[t].rowno&&n.finishedproductid==o[t].item_id&&null==n.id&&n.item_id==d[e].item_id});for(var a=function(e){var t=r[e].qty,o=n.ItemComponentUnitsList.find(function(t){return t.item_id==r[e].item_id&&t.id==r[e].unit_id});if(null!=o){var a=(null!=o.finalconv?o.finalconv:1)*(r[e].conv/(null!=o.conv?o.conv:1))*parseFloat(t.toString());i=parseFloat(i.toString())+a}},c=0;c<r.length;c++)a(c)},c=0;c<o.length;c++)a(c);if(!(i<=d[e].totalqty))return p=!1,{v:"break"};p=!0}();if("object"==typeof t)return t.v}},u=0;u<d.length;u++){if("break"===m(u))break}o=3!=n._Receipt.details[e].item_type?s>=0:1==p}else o=!1;0==o?(n._Receipt.details[e].allowqtyselectforitem=!1,n.cd.markForCheck(),n.toastr.warning(3!=n._Receipt.details[e].item_type?n.qtyErrorMsg+a:n.qtyErrorMsg)):(n._Receipt.details[e].allowqtyselectforitem=!0,n.cd.markForCheck())}1==i&&e+1<n._Receipt.details.length?n.CheckBalanceForItemInStore(e+1,!0,r):1==r&&n.SaveReceipt()})}else 1==i&&e+1<this._Receipt.details.length?this.CheckBalanceForItemInStore(e+1,!0,r):1==r&&this.SaveReceipt()}},{key:"CalculateTotalCost",value:function(){var e,t=this;1==(null===(e=this.CurrentUserSetting)||void 0===e?void 0:e.showcostprice)&&(this._itemqtyList=new Array,this._Receipt.details.forEach(function(e){if(null!=e.item_id){var n=new R.I$;n.ReceiptCode=t.BasicCodeReceipt,n.BranchID=t._Receipt.branch_id,n.Entrydate=t._Receipt.entry_date,n.Unit_ID=e.unit_id,n.conv=e.conv,n.Qty=e.qty,n.itemid=e.item_id,n.StoreID=e.store_id,n.subsidairyid=t.subsidiaryID,t._itemqtyList.push(n)}}),this._ReceiptSharedService.GetTotalCost(this._itemqtyList).subscribe(function(e){t._totalcost=parseFloat(e.toString()),t._totalcost=Number(t._totalcost.toFixed(t._Currencyprecision)),t.cd.markForCheck()}))}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(615)?this._router.navigate(["/page/production/batchorder/0"]).then(function(){window.location.reload()}):Ke().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Ke().DismissReason.cancel&&e._router.navigate(["/page/production/batchorder/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Ke().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ReceiptSharedService.DeleteReceipts(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/production/batchorder"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){var n=P(t[0].maxpostingdate,"YYYY-MM-DD").format(),i=P(e._Receipt.entry_date,"YYYY-MM-DD").format();P(i).isSameOrBefore(n)?(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()):(e.ShowModeReceipt=!1,e.ValidPeriod=!0),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/production/batchorder/0"),e.ReceiptID=0,e._Receipt.id=null,e.VouchersLinkedCount=0,e.CheckBalanceForItemInStore(0,!0),e.cd.markForCheck()})}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/batchorder"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"SubDocumentAction",value:function(e){var t=this._router.createUrlTree(["/page/setupsettings/documents/3/".concat(this._Receipt.id,"/batchorder/").concat(e.id)]);window.open(t.toString(),"_blank")}},{key:"CashCutsomerAction",value:function(){var e;if(null!=this._Receipt.cashcustomerid)this._router.navigate(["/page/receivables/cashcustomer/"+this._Receipt.cashcustomerid+"/"+this._Receipt.cashcustomer_vendor_code.phonenumber]);else{var t=null!==(e=this._Receipt.cashcustomer_vendor_code)&&void 0!==e?e:"";this._router.navigate(["/page/receivables/cashcustomer/0/"+t])}}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){this._authService.userInfo();var e="",t="";"ar"==this.lang&&(t="_ar");var n={reportName:e="P_S_51_batchorder"+t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return n.reportName=e,n.toEmail=this._emailobj.email,n.Subject=this._emailobj.subject,n}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(615)||0==this.ReceiptID&&!this.checkRoleParms(123)||1==this.ShowModeReceipt?this._router.navigate(["/page/production/batchorder"]):Ke().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):e._router.navigate(["/page/production/batchorder"])})}},{key:"CashReturn",value:function(e){this.ReceiptTypeLinked=e,this.Excute_CreateReceipts()}},{key:"CreateCredit_CashSales",value:function(e){var t=this;this.ReceiptTypeLinked=e,this._ReceiptSharedService.ReceiptsLinkedForBatchOrder(this.subsidiaryID,this._Receipt.id,"51,52").subscribe(function(e){0==e.length?t.Excute_CreateReceipts():(t.ReceiptLinkedBatchOrder=e,t.OpenModal(t.LinkedReceiptsBatchOrderModel))})}},{key:"Excute_CreateReceipts",value:function(){52==this.ReceiptTypeLinked?this._router.navigate(["/page/receivables/creditsales/0/0/0/"+this._Receipt.id]).then(function(){window.location.reload()}):51==this.ReceiptTypeLinked?this._router.navigate(["/page/receivables/cashsales/0/0/"+this._Receipt.id]).then(function(){window.location.reload()}):53==this.ReceiptTypeLinked&&this._router.navigate(["/page/receivables/cashreturn/0/0/"+this._Receipt.id])}},{key:"OnViewLinkedBatchOrderReceipt",value:function(e){var t=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(t){return t.Code==e.code});""!=t.Url&&window.open(t.Url+e.id+"/show","_blank")}},{key:"IssueVoucher",value:function(){this._router.navigate(["/page/inventorytransiction/issuevoucher/0/0/"+this._Receipt.id])}},{key:"CreateWorkOrder",value:function(){}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"getwarrantydateDate",value:function(){var e=new Date,t=e.getFullYear()+1;return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](et.v),u["\u0275\u0275directiveInject"](ie.t),u["\u0275\u0275directiveInject"](nt.H),u["\u0275\u0275directiveInject"](S.g),u["\u0275\u0275directiveInject"](ot.M),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](h.gz),u["\u0275\u0275directiveInject"](de.FF),u["\u0275\u0275directiveInject"](oe.t2),u["\u0275\u0275directiveInject"](k.e),u["\u0275\u0275directiveInject"](ae.$),u["\u0275\u0275directiveInject"](re.J),u["\u0275\u0275directiveInject"](l.uU),u["\u0275\u0275directiveInject"](l.Ye))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["BatchOrder-details"]],viewQuery:function(e,t){var n;(1&e&&(u["\u0275\u0275viewQuery"](_t,5),u["\u0275\u0275viewQuery"](ft,5),u["\u0275\u0275viewQuery"](Ct,5)),2&e)&&(u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.LinkedReceiptsBatchOrderModel=n.first),u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.RForm=n.first),u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.PaymentMethodModel=n.first))},features:[u["\u0275\u0275ProvidersFeature"]([et.v,ie.t,l.uU,nt.H,tt.X,ot.M,re.J])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],["method","POST","role","form",1,"container-fluid","py-4","pl-0","pr-0",3,"ngSubmit"],["RForm","ngForm"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-info mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"horizontal","dark","my-2"],[1,"col-lg-5","col-md-5"],[1,"form-group"],["for","customersalesprice",1,"col-form-label"],["name","customersalesprice",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","EntryCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount","required","",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","ngClass","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","CustomerName",1,"col-form-label"],["type","text","id","CustomerName","name","CustomerName",1,"form-control",3,"ngModel","readonly","ngModelChange"],["CustomerName","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],[1,"col-12","col-md-6","mb-2","mb-md-0"],["for","WOstatusID",1,"col-form-label"],["name","WOstatusID","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["WOstatusID","ngModel"],["for","Notes",1,"col-form-label"],["type","text","id","Notes","name","Notes",1,"form-control",3,"ngModel","ngModelChange"],["Notes","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","ProductionLineId",1,"col-form-label"],["name","ProductionLineId","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["ProductionLineId","ngModel"],["for","linescheduleddate",1,"col-form-label"],["type","date","id","linescheduleddate","name","linescheduleddate",1,"form-control",3,"ngModel","ngClass","focusout","ngModelChange"],["linescheduleddate","ngModel"],[1,"col-12","col-md-3","mb-2","mb-md-0",2,"padding-top","30px"],[1,"checkbox"],["type","checkbox","id","Urgent",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","Urgent"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12","nav-wrapper","position-relative","end-0","mt-3"],[1,"col-xl-8","col-md-8"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],["class","nav-item",3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnTotal",1,"form-control","totalValInput",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalTotal",1,"form-control","totalValInput",3,"readonly","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_ForiegnDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_ForiegnDiscountPerc","ngModel"],["style","color: red",4,"ngIf"],["PositiveNumbersOnly","","type","number","min","0","name","ovr_LocalDiscountPerc",1,"form-control",3,"readonly","ngModel","customMax","ngClass","keyup","ngModelChange"],["ovr_LocalDiscountPerc","ngModel"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","number","name","ovr_LocalDiscountVal",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup"],["PositiveNumbersOnly","","type","text","name","totalexpensses_foreign",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totalexpensses",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totallaborers_foreign",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totallaborers",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],[1,"col-md-7","mt-n6"],["DescriptionItemModel",""],["serialModel",""],["PaymentMethodModel",""],["LinkedReceiptsBatchOrderModel",""],["type","button",1,"btn","btn-info","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["type","button",1,"dropdown-item",3,"click"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],[3,"entryno","_savedemailobj"],[3,"value"],["Value","null"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table-responsive","table","table-accountdetails",3,"ngClass"],["scope","col",2,"width","5%"],["scope","col",2,"width","8%"],["scope","col",2,"width","12%"],["scope","col","style","width: 8%",4,"ngIf"],["scope","col",2,"width","6%"],["scope","col",2,"width","10%"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","ngClass","keyup","ngModelChange"],["item_price","ngModel"],["PositiveNumbersOnly","","type","number","customMax","100","customMin","",1,"form-control",3,"ngModel","Min","CheckMin","name","readonly","ngClass","keyup","ngModelChange"],["discountpercent","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","readonly","Min","CheckMin","ngClass","keyup","ngModelChange"],["discount_value","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",2,"background-color","silver",3,"ngModel","name","readonly","keyup","ngModelChange"],[1,"text-center","gridActionsTd"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],[1,"fa-stack","fa-lg","addNotesIcon"],[1,"fa","fa-plus","fa-stack-1x"],[1,"fa","fa-sticky-note","fa-stack-2x"],[1,"fa","fa-trash","font-medium-3","m-0"],["class","primary transparent-BG","href","javascript:;",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"hidden","click"],[1,"fa","fa-list","font-medium-3","mr-2"],["type","date",1,"form-control",3,"hidden","name","ngModel","required","ngClass","ngModelChange"],["warrantydate","ngModel"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","Min","CheckMin","stepallow","ngModel","name","required","ngClass","keyup","ngModelChange"],["item_conv","ngModel"],[2,"color","red"],[1,"fa","fa-file","font-medium-3","m-0"],[1,"row","mb-5",2,"margin-top","10px"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"form-control",3,"name","ngModel","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"ngModel","name","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],[1,"col-12"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],[1,"text-center"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["href","javascript:;",1,"primary","transparent-BG","ml-1",3,"click"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],[1,"fa","fa-trash","font-medium-3"],[1,"table-accountdetails",3,"ngClass"],["scope","col",2,"min-width","30px"],["scope","col",2,"max-width","5px"],["type","text","name","TotalExpensses",1,"form-control","totalValInput",3,"ngModel","disabled"],[1,"form-control","red",3,"name","ngModel","ngModelChange","change"],["PositiveNumbersOnly","","type","number",1,"form-control","red",3,"ngModel","name","keyup","ngModelChange"],["ExpensesValue","ngModel"],["PositiveNumbersOnly","","type","number","required","",1,"form-control","red",3,"ngModel","name","ngClass","min","disabled","ngModelChange","keyup"],["ExpensesExchangeRate","ngModel"],["class","has-error",4,"ngIf"],[1,"form-control",3,"id","click"],["hidden","true","PositiveNumbersOnly","","type","number","customMin","",1,"form-control","red",3,"ngModel","Min","id","name","focusout","ngModelChange","keyup"],["ExpensesLocalValue","ngModel"],["minLength","0","delay","0","field","accountcode",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoAccount",""],["type","text",1,"form-control","red",3,"ngModel","name","ngModelChange"],["ExpensesNotes","ngModel"],[1,"gridActionsTd"],["href","javascript:;",1,"btn","btn-primary","transparent-BG","ml-1",3,"click"],[1,"has-error"],["scope","col",2,"min-width","10px"],["PositiveNumbersOnly","","type","text","name","ovr_TotalLaborers",1,"form-control","totalValInput",3,"readonly","ngModel"],["laboreremployeeid","ngModel"],["appTimeFormat","","required","","type","text",1,"form-control","red",3,"ngModel","ngClass","id","name","focusout","ngModelChange"],["timeString","ngModel"],["type","text",1,"form-control","red",3,"ngModel","name","disabled","keyup"],["hourlywages","ngModel"],["laborerValue","ngModel"],["laborerNotes","ngModel"],[3,"signature","signatureoutput"],[1,"row","mb-5"],[1,"col-md-12","row"],[1,"col-md-3","form-group"],["minLength","0","delay","0","field","costcenterfieldname","name","CostCenter",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCostCenter","","CostCenter","ngModel"],["pTemplate","CostCenterTemplate"],["class","col-md-3 form-group",4,"ngIf"],["for","Cars",1,"col-form-label"],["name","Cars",1,"form-control",3,"ngModel","ngModelChange","change"],["for","Drivers",1,"col-form-label"],["name","Drivers",1,"form-control",3,"ngModel","ngModelChange","change"],["style","color: red; font-weight: bold",4,"ngIf"],["minLength","0","delay","0","field","classfieldname","name","Classes",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoClasses","","Classes","ngModel"],["pTemplate","ClassesTemplate"],["minLength","0","delay","0","field","locationfieldname","name","Location",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoLocation","","Location","ngModel"],["pTemplate","LocationTemplate"],["minLength","0","delay","0","field","departmentfieldname","name","Department",3,"required","ngModel","suggestions","ngClass","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoDepartment","","Department","ngModel"],["pTemplate","DepartmentTemplate"],["PositiveNumbersOnly","","type","number","name","ovr_CostTotal",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12","form-group"],["for","customitemname",1,"col-form-label"],["type","text","id","customitemname","name","customitemname",1,"form-control",3,"ngModel","ngModelChange"],["customitemname","ngModel"],[3,"styles","ngModel","ngModelOptions","modules","ngModelChange","onContentChanged"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-danger","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],[1,"col-md-12"],["for","salesmanid",1,"col-form-label"],["name","salesmanid",1,"form-control",3,"ngModel","ngModelChange"],["class","modal-title",4,"ngIf"],["method","POST","role","form",3,"ngSubmit"],[1,"table-responsive"],[2,"width","20%"],["style","width: 15%",4,"ngIf"],["type","submit",1,"btn","btn-success"],[2,"width","15%"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["MultiPaymentForm","ngForm"],["type","number","name","multipayment_net","PositiveNumbersOnly","","min","0",1,"form-control",3,"ngModel","readonly","ngModelChange"],["multipayment_amount","ngModel"],["type","number","name","multipayment_Paid","PositiveNumbersOnly","","min","0",1,"form-control",3,"ngModel","readonly","ngModelChange"],["type","number","name","multipayment_remaining","PositiveNumbersOnly","","min","0",1,"form-control",3,"ngModel","readonly","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-md"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-secondary","mr-2","ml-2",3,"click"],["required","",1,"form-control",3,"name","ngModel","ngClass","ngModelChange"],["multipayment_type","ngModel"],["type","number","PositiveNumbersOnly","","min","1",1,"form-control","red",3,"ngModel","name","ngModelChange","keyup"],["href","javascript:;",2,"color","red",3,"click"],[1,"fa","fa-trash","fa-lg"],["type","number","readonly","true",1,"form-control","red",3,"ngModel","name","ngModelChange"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,vt,4,3,"div",0),u["\u0275\u0275template"](1,ao,282,248,"ng-container",1)),2&e&&(u["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(579)||t.checkRoleParms(580)||t.checkRoleParms(581)||t.checkRoleParms(627))),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.checkRolesParms(u["\u0275\u0275pureFunction0"](2,co))))},directives:[l.O5,p._Y,p.JL,p.F,p.EJ,p.JJ,p.On,l.sg,p.Q7,l.mk,p.Fj,at.L,ct.a,C.Qc,lt.jx,p.Wl,de.Pz,de.nv,de.Vx,de.uN,de.tO,p.wV,se.K,p.qQ,st.Z,dt.k,p.YN,p.Kr,pt.L,mt.t,ut.T,b.g6],pipes:[g.X$,l.uU,ht.p,gt.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.width-table-input[_ngcontent-%COMP%]{min-width:130px}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1rem}.valid-qty[_ngcontent-%COMP%]{color:#342e49}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}(),so=function e(){c(this,e),this.id=null,this.customerid=null,this.itemid=null,this.quantity=null,this.productqty=null,this.date=null,this.subsidiaryid=null,this.productionvoucherid=null,this.productionunit=null,this.salesmanid=null,this.transferrequestid=null,this.salesorderid=null,this.productionvoucherids=null},po=function e(){c(this,e),this.date="",this.customer="",this.salesman="",this.item="",this.unit="",this.quantity="",this.productedqty="",this.remainqty="",this.salesorder="",this.transferorder="",this.productionvouter="",this.bom="",this.lang="",this.subid=null,this.checktotalproduction=!0,this.SearchValue="",this.PageNo=1,this.PageSize=10,this.checked=!1,this.allSelect=!1},mo=o(79996),uo=function(){var e=function(){function e(t){c(this,e),this.http=t,this.baseUrl=it.N.apiUrl,this.reportUrl=it.N.aspDomain}return a(e,[{key:"CustomerAccountsList",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/Customer/CustomerAccountsList?SubsidiaryID=").concat(e,"&SearchValue=").concat(t)).pipe((0,mo.U)(function(e){return e}))}},{key:"GetAllRoleUsers",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/CreditNote/GetAllRoleUsers?SubsidaryId=").concat(e,"&RoleName=").concat(t)).pipe((0,mo.U)(function(e){return e}))}},{key:"GetItemDataDetailsLists",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/Receipts/GetItemDataDetailsLists?SubsidiaryID=").concat(e,"&ItemID=").concat(t)).pipe((0,mo.U)(function(e){return e}))}},{key:"GetItemsDataList",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/ProductionPlan/GetItemsDataList?SubsidiaryID=").concat(e,"&SearchValue=").concat(t)).pipe((0,mo.U)(function(e){return e}))}},{key:"GetProductionPlanList",value:function(e){return this.http.post(this.baseUrl+"/ProductionPlan/GetProductionPlanList",e).pipe((0,mo.U)(function(e){return e}))}},{key:"GetProductionPlanCount",value:function(e){return this.http.post(this.baseUrl+"/ProductionPlan/GetProductionPlanCount",e).pipe((0,mo.U)(function(e){return e}))}},{key:"SaveProductionPlan",value:function(e){return this.http.post(this.baseUrl+"/ProductionPlan/SaveProductionPlan",e).pipe((0,mo.U)(function(e){return e}))}},{key:"DeleteProductionPlan",value:function(e){return this.http.get("".concat(this.baseUrl,"/ProductionPlan/DeleteProductionPlan?id=").concat(e)).pipe((0,mo.U)(function(e){return e}))}},{key:"GetProductionPlanBy",value:function(e){return this.http.post(this.baseUrl+"/ProductionPlan/GetProductionPlanBy",e).pipe((0,mo.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](m.eN))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function ho(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",6),u["\u0275\u0275elementStart"](1,"h1",7),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function go(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sugar)}}function _o(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sug)}}function fo(e,t){if(1&e&&(u["\u0275\u0275template"](0,go,2,1,"div",5),u["\u0275\u0275template"](1,_o,2,1,"div",5)),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Co(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function vo(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function yo(e,t){if(1&e&&(u["\u0275\u0275template"](0,Co,2,1,"div",5),u["\u0275\u0275template"](1,vo,2,1,"div",5)),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function bo(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",67),u["\u0275\u0275text"](1,"choose"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function xo(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",67),u["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Mo(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function So(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Po(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",68),u["\u0275\u0275template"](1,Mo,2,1,"span",5),u["\u0275\u0275template"](2,So,2,1,"span",5),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Ro(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",67),u["\u0275\u0275text"](1,"choose"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Oo(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",67),u["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Io(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Eo(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function wo(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",68),u["\u0275\u0275template"](1,Io,2,1,"span",5),u["\u0275\u0275template"](2,Eo,2,1,"span",5),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ko(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.date=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"Date")),u["\u0275\u0275property"]("ngModel",i._filter.date)}}function Bo(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.customer=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"Customer")),u["\u0275\u0275property"]("ngModel",i._filter.customer)}}function Do(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.salesman=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"SalesMan")),u["\u0275\u0275property"]("ngModel",i._filter.salesman)}}function Fo(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.item=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"Item")),u["\u0275\u0275property"]("ngModel",i._filter.item)}}function Lo(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.unit=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"Unit")),u["\u0275\u0275property"]("ngModel",i._filter.unit)}}function qo(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.quantity=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"Planned Qty")),u["\u0275\u0275property"]("ngModel",i._filter.quantity)}}function Vo(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.productedqty=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"Product Qty")),u["\u0275\u0275property"]("ngModel",i._filter.productedqty)}}function No(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.remainqty=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"Remining Qty")),u["\u0275\u0275property"]("ngModel",i._filter.remainqty)}}function To(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.salesorder=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"SalesOrder")),u["\u0275\u0275property"]("ngModel",i._filter.salesorder)}}function Uo(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.transferorder=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"TransferOrder")),u["\u0275\u0275property"]("ngModel",i._filter.transferorder)}}function Ao(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.productionvouter=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"ProductionVouther")),u["\u0275\u0275property"]("ngModel",i._filter.productionvouter)}}function Go(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275elementStart"](1,"input",70),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._filter.bom=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).FilterData()}),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("placeholder",u["\u0275\u0275pipeBind1"](2,2,"BOM")),u["\u0275\u0275property"]("ngModel",i._filter.bom)}}function $o(e,t){1&e&&u["\u0275\u0275element"](0,"th")}function zo(e,t){1&e&&u["\u0275\u0275element"](0,"th")}function jo(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"input",76),u["\u0275\u0275listener"]("checkedChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.checked=e})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.checked=e})("change",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"](3).onRowSelect(e)}),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275property"]("checked",i.checked)("ngModel",i.checked)}}function Qo(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"date"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind2"](2,1,null==n?null:n.date,"yyyy-MM-dd")," ")}}function Wo(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2).$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.customerar)}}function Jo(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2).$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.customer)}}function Ho(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275template"](1,Wo,2,1,"span",5),u["\u0275\u0275template"](2,Jo,2,1,"span",5),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Yo(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2).$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.salesmanar)}}function Zo(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2).$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.salesman)}}function Ko(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275template"](1,Yo,2,1,"span",5),u["\u0275\u0275template"](2,Zo,2,1,"span",5),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Xo(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2).$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.itemar)}}function ea(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2).$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.item)}}function ta(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275template"](1,Xo,2,1,"span",5),u["\u0275\u0275template"](2,ea,2,1,"span",5),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function na(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2).$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.unitar,"")}}function ia(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2).$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.unit,"")}}function ra(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275template"](1,na,2,1,"span",5),u["\u0275\u0275template"](2,ia,2,1,"span",5),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function oa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.quantity," ")}}function aa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.productqty," ")}}function ca(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.diffrentqty," ")}}function la(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.salesorder," ")}}function sa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.transferrequestid," ")}}function da(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.productionvoucherids," ")}}function pa(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"-"),u["\u0275\u0275elementEnd"]())}function ma(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"a",78),u["\u0275\u0275elementStart"](1,"span"),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2).$implicit;u["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/bom/",null==n?null:n.bomid,""),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.bom)}}function ua(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275template"](1,pa,2,0,"span",5),u["\u0275\u0275template"](2,ma,3,2,"a",77),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==(null==n?null:n.bom)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0!=(null==n?null:n.bom))}}function ha(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"\u2713"),u["\u0275\u0275elementEnd"]())}function ga(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"\u2718 "),u["\u0275\u0275elementEnd"]())}function _a(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"-"),u["\u0275\u0275elementEnd"]())}function fa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275template"](1,ha,2,0,"span",5),u["\u0275\u0275template"](2,ga,2,0,"span",5),u["\u0275\u0275template"](3,_a,2,0,"span",5),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==n?null:n.quantity)-(null==n?null:n.productqty)==0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==(null==n?null:n.productqty)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0!=(null==n?null:n.productqty)&&(null==n?null:n.quantity)>(null==n?null:n.productqty))}}function Ca(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"a",80),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](2).$implicit;return u["\u0275\u0275nextContext"](3).delete(e.id)}),u["\u0275\u0275elementStart"](1,"span"),u["\u0275\u0275element"](2,"i",81),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}}function va(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275template"](1,Ca,3,0,"a",79),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==n.productionvoucherid||""==n.productionvoucherid)}}function ya(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"div",72),u["\u0275\u0275template"](3,jo,1,2,"input",73),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](4,Qo,3,4,"td",5),u["\u0275\u0275template"](5,Ho,3,2,"td",5),u["\u0275\u0275template"](6,Ko,3,2,"td",5),u["\u0275\u0275template"](7,ta,3,2,"td",5),u["\u0275\u0275template"](8,ra,3,2,"td",5),u["\u0275\u0275template"](9,oa,2,1,"td",5),u["\u0275\u0275template"](10,aa,2,1,"td",5),u["\u0275\u0275template"](11,ca,2,1,"td",5),u["\u0275\u0275template"](12,la,2,1,"td",5),u["\u0275\u0275template"](13,sa,2,1,"td",5),u["\u0275\u0275template"](14,da,2,1,"td",5),u["\u0275\u0275template"](15,ua,3,2,"td",5),u["\u0275\u0275template"](16,fa,4,3,"td",5),u["\u0275\u0275template"](17,va,2,1,"td",5),u["\u0275\u0275elementStart"](18,"td"),u["\u0275\u0275elementStart"](19,"a",74),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).$implicit,t=u["\u0275\u0275nextContext"](3),i=u["\u0275\u0275reference"](4);return t.Edit(e,i)}),u["\u0275\u0275element"](20,"i",75),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",(null==i?null:i.quantity)-(null==i?null:i.productqty)>0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show1Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show2Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show3Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show4Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show5Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show6Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show7Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show8Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show9Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show10Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show11Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show12Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show13Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==r.show14Col)}}function ba(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275template"](1,ya,21,15,"tr",71),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",n.ProductionPlanList)}}function xa(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275elementStart"](1,"tr",82),u["\u0275\u0275elementStart"](2,"td",83),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Ma(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",84),u["\u0275\u0275elementStart"](1,"ngb-pagination",85),u["\u0275\u0275listener"]("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PageNo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](2,"p"),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"select",86),u["\u0275\u0275listener"]("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PageSize=e}),u["\u0275\u0275elementStart"](5,"option",87),u["\u0275\u0275text"](6,"10 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"option",88),u["\u0275\u0275text"](8,"50 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"option",89),u["\u0275\u0275text"](10,"100 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](11,"br"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",i.PageSize)}}var Sa=function(e,t){return{"invalid-data":e,"valid-data":t}},Pa=function(e){return{item_id:e}};function Ra(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",8),u["\u0275\u0275elementStart"](1,"div",9),u["\u0275\u0275elementStart"](2,"div",10),u["\u0275\u0275elementStart"](3,"h6",11),u["\u0275\u0275text"](4),u["\u0275\u0275pipe"](5,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"div",12),u["\u0275\u0275elementStart"](7,"div",13),u["\u0275\u0275elementStart"](8,"form",14,15),u["\u0275\u0275listener"]("ngSubmit",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](9);return u["\u0275\u0275nextContext"]().Save(e)}),u["\u0275\u0275elementStart"](10,"div",6),u["\u0275\u0275elementStart"](11,"div",16),u["\u0275\u0275elementStart"](12,"div",17),u["\u0275\u0275elementStart"](13,"label",18),u["\u0275\u0275text"](14),u["\u0275\u0275pipe"](15,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"p-autoComplete",19,20),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](17);return u["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._wrapper.customercode=e})("onSelect",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(e)}),u["\u0275\u0275template"](19,fo,2,2,"ng-template",21),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"div",16),u["\u0275\u0275elementStart"](21,"div",17),u["\u0275\u0275elementStart"](22,"label",22),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"span",23),u["\u0275\u0275text"](26,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"p-autoComplete",24,25),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](28);return u["\u0275\u0275nextContext"]().onFocusInItems(e),t.show()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._wrapper.itemcode=e})("onSelect",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ItemsSelectEvent(e)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ItemsChangeSearch(e)}),u["\u0275\u0275template"](30,yo,2,2,"ng-template",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"div",16),u["\u0275\u0275elementStart"](32,"div",17),u["\u0275\u0275elementStart"](33,"label",27),u["\u0275\u0275text"](34),u["\u0275\u0275pipe"](35,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](36,"span",23),u["\u0275\u0275text"](37,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"input",28,29),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._wrapper.quantity=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](40,"div",16),u["\u0275\u0275elementStart"](41,"div",17),u["\u0275\u0275elementStart"](42,"label",30),u["\u0275\u0275text"](43),u["\u0275\u0275pipe"](44,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](45,"span",23),u["\u0275\u0275text"](46,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](47,"input",31,32),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._wrapper.date=e})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._wrapper.date=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](49,"div",16),u["\u0275\u0275elementStart"](50,"div",17),u["\u0275\u0275elementStart"](51,"label",33),u["\u0275\u0275text"](52),u["\u0275\u0275pipe"](53,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](54,"span",23),u["\u0275\u0275elementStart"](55,"select",34),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._wrapper.salesmanid=e}),u["\u0275\u0275template"](56,bo,2,1,"option",35),u["\u0275\u0275template"](57,xo,2,1,"option",35),u["\u0275\u0275template"](58,Po,3,3,"option",36),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](59,"div",16),u["\u0275\u0275elementStart"](60,"div",17),u["\u0275\u0275elementStart"](61,"label",37),u["\u0275\u0275text"](62),u["\u0275\u0275pipe"](63,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](64,"select",38),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._wrapper.productionunit=e}),u["\u0275\u0275template"](65,Ro,2,1,"option",35),u["\u0275\u0275template"](66,Oo,2,1,"option",35),u["\u0275\u0275template"](67,wo,3,3,"option",36),u["\u0275\u0275pipe"](68,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](69,"div",39),u["\u0275\u0275elementStart"](70,"div",40),u["\u0275\u0275elementStart"](71,"div",41),u["\u0275\u0275elementStart"](72,"button",42),u["\u0275\u0275element"](73,"i",43),u["\u0275\u0275text"](74),u["\u0275\u0275pipe"](75,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](76,"button",44),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().Reset()}),u["\u0275\u0275element"](77,"i",43),u["\u0275\u0275text"](78),u["\u0275\u0275pipe"](79,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](80,"button",45),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ExecutePlans()}),u["\u0275\u0275element"](81,"i",43),u["\u0275\u0275text"](82),u["\u0275\u0275pipe"](83,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](84,"button",45),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ExecuteBOM()}),u["\u0275\u0275element"](85,"i",43),u["\u0275\u0275text"](86),u["\u0275\u0275pipe"](87,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](88,"button",46),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().OnPrint()}),u["\u0275\u0275element"](89,"i",47),u["\u0275\u0275text"](90),u["\u0275\u0275pipe"](91,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](92,"div",48),u["\u0275\u0275elementStart"](93,"a",49),u["\u0275\u0275element"](94,"i",47),u["\u0275\u0275text"](95),u["\u0275\u0275pipe"](96,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](97,"div",50),u["\u0275\u0275elementStart"](98,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show1Col=!e.show1Col}),u["\u0275\u0275text"](99),u["\u0275\u0275pipe"](100,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](101,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show2Col=!e.show2Col}),u["\u0275\u0275text"](102),u["\u0275\u0275pipe"](103,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](104,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show3Col=!e.show3Col}),u["\u0275\u0275text"](105),u["\u0275\u0275pipe"](106,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](107,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show4Col=!e.show4Col}),u["\u0275\u0275text"](108),u["\u0275\u0275pipe"](109,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](110,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show5Col=!e.show5Col}),u["\u0275\u0275text"](111),u["\u0275\u0275pipe"](112,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](113,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show6Col=!e.show6Col}),u["\u0275\u0275text"](114),u["\u0275\u0275pipe"](115,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](116,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show7Col=!e.show7Col}),u["\u0275\u0275text"](117),u["\u0275\u0275pipe"](118,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](119,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show8Col=!e.show8Col}),u["\u0275\u0275text"](120),u["\u0275\u0275pipe"](121,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](122,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show9Col=!e.show9Col}),u["\u0275\u0275text"](123),u["\u0275\u0275pipe"](124,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](125,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show10Col=!e.show10Col}),u["\u0275\u0275text"](126),u["\u0275\u0275pipe"](127,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](128,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show11Col=!e.show11Col}),u["\u0275\u0275text"](129),u["\u0275\u0275pipe"](130,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](131,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show12Col=!e.show12Col}),u["\u0275\u0275text"](132),u["\u0275\u0275pipe"](133,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](134,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show13Col=!e.show13Col}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](135,"a",51),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]();return e.show14Col=!e.show14Col}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](136,"div",52),u["\u0275\u0275elementStart"](137,"div",53),u["\u0275\u0275elementStart"](138,"label",54),u["\u0275\u0275text"](139),u["\u0275\u0275pipe"](140,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](141,"input",55,56),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._filter.SearchValue=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().FilterData()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](143,"div",57),u["\u0275\u0275elementStart"](144,"input",58),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._filter.checktotalproduction=e})("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ShowProductionPlan()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](145,"label",59),u["\u0275\u0275text"](146),u["\u0275\u0275pipe"](147,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](148,"div",6),u["\u0275\u0275elementStart"](149,"div",60),u["\u0275\u0275elementStart"](150,"section",61),u["\u0275\u0275elementStart"](151,"div",6),u["\u0275\u0275elementStart"](152,"div",60),u["\u0275\u0275elementStart"](153,"div",62),u["\u0275\u0275elementStart"](154,"div",63),u["\u0275\u0275element"](155,"div",64),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](156,"div",12),u["\u0275\u0275elementStart"](157,"div",65),u["\u0275\u0275elementStart"](158,"table",4),u["\u0275\u0275elementStart"](159,"thead"),u["\u0275\u0275elementStart"](160,"tr"),u["\u0275\u0275element"](161,"th"),u["\u0275\u0275template"](162,ko,3,4,"th",5),u["\u0275\u0275template"](163,Bo,3,4,"th",5),u["\u0275\u0275template"](164,Do,3,4,"th",5),u["\u0275\u0275template"](165,Fo,3,4,"th",5),u["\u0275\u0275template"](166,Lo,3,4,"th",5),u["\u0275\u0275template"](167,qo,3,4,"th",5),u["\u0275\u0275template"](168,Vo,3,4,"th",5),u["\u0275\u0275template"](169,No,3,4,"th",5),u["\u0275\u0275template"](170,To,3,4,"th",5),u["\u0275\u0275template"](171,Uo,3,4,"th",5),u["\u0275\u0275template"](172,Ao,3,4,"th",5),u["\u0275\u0275template"](173,Go,3,4,"th",5),u["\u0275\u0275template"](174,$o,1,0,"th",5),u["\u0275\u0275template"](175,zo,1,0,"th",5),u["\u0275\u0275element"](176,"th"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](177,ba,2,1,"tbody",5),u["\u0275\u0275template"](178,xa,5,3,"tbody",5),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](179,Ma,12,7,"div",66),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](9),r=u["\u0275\u0275reference"](18),o=u["\u0275\u0275reference"](29),a=u["\u0275\u0275reference"](39),c=u["\u0275\u0275reference"](48),l=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](5,79,"Production Plan")),u["\u0275\u0275advance"](10),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](15,81,"Customer")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._wrapper.customercode)("suggestions",l.CustomerAccountsList)("ngClass",u["\u0275\u0275pureFunction2"](136,Sa,r.invalid&&i.submitted,r.valid&&i.submitted)),u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](24,83,"Item")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",l._wrapper.itemcode)("suggestions",l.ItemsList)("ngClass",u["\u0275\u0275pureFunction2"](139,Sa,o.invalid&&i.submitted,o.valid&&i.submitted)),u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](35,85,"Quantity")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",l._wrapper.quantity)("Min",1e-5)("ngClass",u["\u0275\u0275pureFunction2"](142,Sa,a.invalid&&i.submitted,a.valid&&i.submitted)),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](44,87,"Date")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",l._wrapper.date)("ngClass",u["\u0275\u0275pureFunction2"](145,Sa,c.invalid&&i.submitted,c.valid&&i.submitted)),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](53,89,"SalesMan")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",l._wrapper.salesmanid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=l.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==l.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",l.SalesManlist),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](63,91,"Production Unit")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._wrapper.productionunit),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=l.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==l.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",u["\u0275\u0275pipeBind2"](68,93,l.ItemUnitsList,u["\u0275\u0275pureFunction1"](148,Pa,l._wrapper.itemid))),u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](75,96,"Save")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](79,98,"Reset")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](83,100,"Production")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](87,102,"BOM")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](91,104,"Print")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](96,106,"Column")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngClass",l.show1Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](100,108,"Date")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show2Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](103,110,"Customer")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show3Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](106,112,"SalesMan")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show4Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](109,114,"Item")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show5Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](112,116,"Unit")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show6Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](115,118,"Planned Qty")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show7Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](118,120,"Product Qty")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show8Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](121,122,"Remining Qty")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show9Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](124,124,"SalesOrder")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show10Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](127,126,"TransferOrder")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show11Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](130,128,"ProductionVouther")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show12Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](133,130,"BOM")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",l.show13Col?"activeCol":""),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngClass",l.show14Col?"activeCol":""),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](140,132,"Search")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._filter.SearchValue),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",l._filter.checktotalproduction),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](147,134,"CheckTotalProduction")),u["\u0275\u0275advance"](16),u["\u0275\u0275property"]("ngIf",1==l.show1Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show2Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show3Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show4Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show5Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show6Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show7Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show8Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show9Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show10Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show11Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show12Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show13Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==l.show14Col),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",l.ProductionPlanList.length>0&&1==l.CheckTotalProduction),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==l.ProductionPlanList.length||0==l.CheckTotalProduction),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",l.totalCount>0)}}function Oa(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",108),u["\u0275\u0275elementStart"](1,"span"),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"PlanQtyError"),""))}function Ia(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",90),u["\u0275\u0275elementStart"](1,"h6",91),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"button",92),u["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),u["\u0275\u0275elementStart"](5,"span",93),u["\u0275\u0275text"](6,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",94),u["\u0275\u0275elementStart"](8,"div",95),u["\u0275\u0275elementStart"](9,"label",96),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"input",97,29),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().Plan.quantity=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"div",95),u["\u0275\u0275elementStart"](15,"label",98),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"input",99,100),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().Plan.productqty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"div",95),u["\u0275\u0275elementStart"](21,"label",101),u["\u0275\u0275text"](22),u["\u0275\u0275pipe"](23,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"label",102),u["\u0275\u0275text"](25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](26,Oa,4,3,"div",103),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"div",104),u["\u0275\u0275elementStart"](28,"button",105),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().SaveEdit()}),u["\u0275\u0275text"](29),u["\u0275\u0275pipe"](30,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"button",106),u["\u0275\u0275listener"]("click",function(){return(0,t.close)("Close click")}),u["\u0275\u0275element"](32,"i",107),u["\u0275\u0275text"](33),u["\u0275\u0275pipe"](34,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](3,11,"Edit")),u["\u0275\u0275advance"](8),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](11,13,"Planned Qty")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i.Plan.quantity),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](17,15,"Product Qty")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i.Plan.productqty),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](23,17,"Remining Qty")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"]((null==i.Plan?null:i.Plan.quantity)-(null==i.Plan?null:i.Plan.productqty)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==i.Plan?null:i.Plan.quantity)-(null==i.Plan?null:i.Plan.productqty)<0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("disabled",(null==i.Plan?null:i.Plan.quantity)-(null==i.Plan?null:i.Plan.productqty)<0),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](30,19,"Save")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](34,21,"Cancel")," ")}}function Ea(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function wa(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Customer")," "))}function ka(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"SalesMan")," "))}function Ba(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Item")," "))}function Da(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Unit")," "))}function Fa(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Planned Qty")," "))}function La(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Product Qty")," "))}function qa(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Remining Qty")," "))}function Va(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"SalesOrder")," "))}function Na(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"TransferOrder")," "))}function Ta(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"ProductionVouther")," "))}function Ua(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"BOM")," "))}function Aa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"date"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind2"](2,1,null==n?null:n.date,"yyyy-MM-dd")," ")}}function Ga(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.customer," ")}}function $a(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.salesman," ")}}function za(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.item," ")}}function ja(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.unit," ")}}function Qa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.quantity," ")}}function Wa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.productqty," ")}}function Ja(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",(null==n?null:n.quantity)-(null==n?null:n.productqty)," ")}}function Ha(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.salesorder," ")}}function Ya(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.transferrequestid," ")}}function Za(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.productionvoucherids," ")}}function Ka(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.bom," ")}}function Xa(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275template"](1,Aa,3,4,"td",5),u["\u0275\u0275template"](2,Ga,2,1,"td",5),u["\u0275\u0275template"](3,$a,2,1,"td",5),u["\u0275\u0275template"](4,za,2,1,"td",5),u["\u0275\u0275template"](5,ja,2,1,"td",5),u["\u0275\u0275template"](6,Qa,2,1,"td",5),u["\u0275\u0275template"](7,Wa,2,1,"td",5),u["\u0275\u0275template"](8,Ja,2,1,"td",5),u["\u0275\u0275template"](9,Ha,2,1,"td",5),u["\u0275\u0275template"](10,Ya,2,1,"td",5),u["\u0275\u0275template"](11,Za,2,1,"td",5),u["\u0275\u0275template"](12,Ka,2,1,"td",5),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show1Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show2Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show3Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show4Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show5Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show6Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show7Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show8Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show9Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show10Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show11Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==n.show12Col)}}function ec(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275template"](1,Xa,13,12,"tr",71),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",n.ProductionPlanList)}}var tc=function(){var t=function(){function t(e,n,i,r,o,a,l,s,d,p,m,u){var h=this;c(this,t),this._ProductionPlanService=e,this.cd=n,this.toastr=i,this._router=r,this.datepipe=o,this._generalService=a,this.translate=l,this.modalService=s,this._translateGlobalService=d,this._printService=m,this._authService=u,this._wrapper=new so,this._filter=new po,this.Plan=new so,this.subsidiaryID=0,this.PageSize=10,this.totalCount=0,this.PageNo=1,this.BranchList=[],this.ProductionPlanList=[],this.ItemReceiptList=[],this.SalesManlist=[],this.CustomerAccountsList=[],this.ItemsList=[],this.ItemUnitsList=[],this.selectedRows=[],this.unSelectedRows=[],this.title="",this.emptyDateMsg="",this.invalidDateMsg="",this.NoUnits="",this.StopInventoryErrorMsg="",this.show1Col=!0,this.show2Col=!0,this.show3Col=!0,this.show4Col=!0,this.show5Col=!0,this.show6Col=!0,this.show7Col=!0,this.show8Col=!0,this.show9Col=!0,this.show10Col=!0,this.show11Col=!0,this.show12Col=!0,this.show13Col=!0,this.show14Col=!0,this.CheckTotalProduction=!0,this.PlanQtyError="",this.sortDirection="asc",this.sortColumn="",this.orderby="",this.ProducedQty=0,this.UnitList=[],this.AllProductionPlan=[],this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Ok="",this.swalSelectItemText="",this.Cancel="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.DuringSaveDisable=!1,this.SaveMsg="",p.params.subscribe(function(e){h.subsidiaryID=h._generalService.SubsidiaryID,h.subsidiaryID>0&&(h._wrapper.date=(new Date).toISOString().slice(0,16),console.log(h._wrapper.date),setTimeout(function(){h.cd.markForCheck(),h.GetEmployeesList(),h.SearchProductionPlan()},1e3))}),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){h.subsidiaryID=h._generalService.SubsidiaryID,h.PageSize=10,h.PageNo=1,h._wrapper.date=(new Date).toISOString().slice(0,16),console.log(h._wrapper.date),h.cd.markForCheck(),h.GetEmployeesList(),h.SearchProductionPlan()}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){h.lang=e.lang,h.dir=e.dir,h.translate.use(e.lang),h.ngTransUnsubscribe=h.translate.get(["Production Plan","EmptyDateMsg","InvalidDateMsg","swalSelectItemText","SaveMsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Ok","Cancel","successMsg","StopInventoryErrorMsg","DeleteRelationmsg","PlanQtyError"]).subscribe(function(e){h.title=e["Production Plan"],document.title=h.title,h.emptyDateMsg=e.EmptyDateMsg,h.invalidDateMsg=e.InvalidDateMsg,h.swalSelectItemText=e.swalSelectItemText,h.SaveMsg=e.SaveMsg,h.swalDeleteTitle=e.swalDeleteTitle,h.swalDetlateText=e.swalDetlateText,h.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,h.Ok=e.Ok,h.Cancel=e.Cancel,h.toastrSuccessDelete=e.successMsg,h.DeleteRelationmsg=e.DeleteRelationmsg,h.StopInventoryErrorMsg=e.StopInventoryErrorMsg,h.PlanQtyError=e.PlanQtyError})})}return a(t,[{key:"ngOnInit",value:function(){}},{key:"onFocus",value:function(){document.title=this.title}},{key:"onBlur",value:function(){document.title=this.title}},{key:"GetEmployeesList",value:function(){var e=this;this._ProductionPlanService.GetAllRoleUsers(this.subsidiaryID,"Salesman").subscribe(function(t){e.SalesManlist=t,e.cd.markForCheck()})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){this._wrapper.customerid=e.accountid,this._wrapper.salesmanid=e.salesmanid;var t=e.accountid;null!=t&&null!=t&&""!=t||(this._wrapper.customerid=null),this.cd.markForCheck(),console.log(e)}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ProductionPlanService.CustomerAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"onFocusInItems",value:function(e){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e){this.GetItemsList(e.query.trim())}},{key:"ItemsSelectEvent",value:function(e){0==e.stopinventorytransactions?(this._wrapper.itemid=e.id,this.GetItemDataDetailsLists(e)):(this._wrapper.itemid=null,this._wrapper.itemcode=null,this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ProductionPlanService.GetItemsDataList(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"GetItemDataDetailsLists",value:function(e){var t=this;this._ProductionPlanService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(n){0==n.itemunits.length?t.toastr.error(t.NoUnits):(t.ItemUnitsList.length>0?0==t.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(t.ItemUnitsList=t.ItemUnitsList.concat(n.itemunits)):t.ItemUnitsList=t.ItemUnitsList.concat(n.itemunits),t._wrapper.productionunit=e.productionunitid),t.cd.markForCheck()})}},{key:"GetProductionPlanBy",value:function(){var e=this;this._ProductionPlanService.GetProductionPlanBy(this._filter).subscribe(function(t){e.ProductionPlanList=t.productionplan,e.totalCount=t.total,e.cd.markForCheck()})}},{key:"GetProductionPlanList",value:function(){var t=this;this._ProductionPlanService.GetProductionPlanList(this._filter).subscribe(function(n){if(t.AllProductionPlan=n.productionplan,t.ItemReceiptList=n.productionvouchers.items,t.UnitList=n.productionvouchers.itemunits,t.AllProductionPlan.length>0){var i,r=e(t.AllProductionPlan);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.productqty=0,null!=o.productionvoucherids&&""!=o.productionvoucherids){var a,c=e(o.productionvoucherids.split(","));try{for(c.s();!(a=c.n()).done;){var l=a.value;if(""!=l){var s=t.ItemReceiptList.filter(function(e){return e.entry_no==l&&e.item_id==o.itemid});null!=s&&s.length>0&&(o.productqty+=parseFloat(s[0].qty)*parseFloat(s[0].final_conv))}}}catch(p){c.e(p)}finally{c.f()}var d=parseFloat(o.quantity)*parseFloat(o.finalconv);o.productqty=o.productqty<d?o.productqty/parseFloat(o.finalconv):parseFloat(o.quantity)}}}catch(p){r.e(p)}finally{r.f()}}t.ProductionPlanList=1==t._filter.checktotalproduction?t.AllProductionPlan.filter(function(e){return e.quantity-e.productqty!=0}):t.AllProductionPlan.concat([]),t.totalCount=t.ProductionPlanList.length,t.ProductionPlanList=t.ProductionPlanList.splice((t.PageNo-1)*t.PageSize,t.PageSize),t.cd.markForCheck()})}},{key:"GetProductionPlanLCount",value:function(){var e=this;this._ProductionPlanService.GetProductionPlanCount(this._filter).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"FilterData",value:function(){this.SearchProductionPlan()}},{key:"SearchProductionPlan",value:function(){this._filter.subid=this.subsidiaryID,this._filter.lang=this.lang,this.GetProductionPlanBy()}},{key:"Save",value:function(e){var t=this;e.form.valid&&(this._wrapper.subsidiaryid=this.subsidiaryID,this._ProductionPlanService.SaveProductionPlan(this._wrapper).subscribe(function(n){t.DuringSaveDisable=!1,t.toastr.success(t.SaveMsg),console.log("form",e.submitted),t._wrapper=new so,t._wrapper.date=(new Date).toISOString().slice(0,16),t.SearchProductionPlan()}))}},{key:"ExecutePlans",value:function(){if(this.selectedRows.length>0){var t,n=[],i=e(this.selectedRows);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(r.id)}}catch(a){i.e(a)}finally{i.f()}var o=n.join(",");this._router.navigate(["/page/production/productionvoucher/0/0/"+o]).then(function(){})}else Ke().fire({text:this.swalSelectItemText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Ok,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){})}},{key:"ExecuteBOM",value:function(){if(this.selectedRows.length>0){var t,n=[],i=e(this.selectedRows);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(r.id)}}catch(a){i.e(a)}finally{i.f()}if(1==this.selectedRows.length&&0!=this.selectedRows[0].bom)this._router.navigate(["/page/production/bom/"+this.selectedRows[0].bomid]).then(function(){});else{var o=n.join(",");this._router.navigate(["/page/production/bom/0/"+o]).then(function(){})}}else Ke().fire({text:this.swalSelectItemText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Ok,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowProductionPlan",value:function(){this._filter.checktotalproduction=!this._filter.checktotalproduction,this.GetProductionPlanBy(),this.cd.markForCheck()}},{key:"onRowSelect",value:function(e){1==this._filter.allSelect?(this._filter.allSelect=!1,this.unSelectedRows.push(e)):0==this.unSelectedRows.length?this.selectedRows.indexOf(e)>-1?this.selectedRows.splice(this.selectedRows.indexOf(e),1):this.selectedRows.push(e):this.unSelectedRows.indexOf(e)>-1?(this.unSelectedRows.splice(this.unSelectedRows.indexOf(e),1),0==this.unSelectedRows.length&&(this._filter.allSelect=!0,this.selectedRows=[],this.unSelectedRows=[])):this.unSelectedRows.push(e)}},{key:"delete",value:function(e){var t=this;Ke().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._ProductionPlanService.DeleteProductionPlan(e).subscribe(function(e){0==e?(t.toastr.success(t.toastrSuccessDelete),t.SearchProductionPlan()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"Edit",value:function(e,t){this.Plan=e,this.modalReference=this.modalService.open(t,{size:"xl",backdrop:"static"})}},{key:"OnPrint",value:function(){var e=this;setTimeout(function(){var t=document.getElementById("BC_DiV");e._printService.OnPrintContent(t.innerHTML)},1e3)}},{key:"SaveEdit",value:function(){var e=this;this._ProductionPlanService.SaveProductionPlan(this.Plan).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.SearchProductionPlan()})}},{key:"Reset",value:function(){this._wrapper=new so,this._wrapper.date=(new Date).toISOString().slice(0,16)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._filter.PageNo=e,this.PageNo=e,this.GetProductionPlanBy(),this.cd.markForCheck()}},{key:"onPageSizeChange",value:function(e){this._filter.PageSize=e,this.PageSize=e,this.GetProductionPlanBy(),this.cd.markForCheck()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u["\u0275\u0275directiveInject"](uo),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](l.uU),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](de.FF),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](h.gz),u["\u0275\u0275directiveInject"](ae.$),u["\u0275\u0275directiveInject"](k.e))},t.\u0275cmp=u["\u0275\u0275defineComponent"]({type:t,selectors:[["app-productionplan"]],hostBindings:function(e,t){1&e&&u["\u0275\u0275listener"]("focus",function(e){return t.onFocus(e)},!1,u["\u0275\u0275resolveWindow"])("blur",function(e){return t.onBlur(e)},!1,u["\u0275\u0275resolveWindow"])},features:[u["\u0275\u0275ProvidersFeature"]([uo,l.uU])],decls:22,vars:16,consts:[["class","row",4,"ngIf"],["class","card my-4 mx-2 px-3",4,"ngIf"],["EditmModel",""],["id","BC_DiV",3,"hidden"],["id","TableList",1,"table","text-center","m-0","table","table-striped"],[4,"ngIf"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-content"],[1,"card-body"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount",3,"ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoCustomerAccounts","","customer","ngModel"],["pTemplate","CustomerAccountsTemplate"],["for","textinput",1,"control-label"],[2,"color","red","font-weight","bold"],["minLength","0","delay","0","field","code","name","itemcode","required","",3,"ngModel","suggestions","ngClass","onFocus","ngModelChange","onSelect","completeMethod"],["autoItems","","itemcode","ngModel"],["pTemplate","servCodeTemplate"],["for","Quantity ",1,"control-label"],["type","number","id","quantity","name","quantity","customMin","","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","Min","ngClass","ngModelChange"],["quantity","ngModel"],["for","Date",1,"control-label"],["type","datetime-local","id","date","name","date","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["date","ngModel"],["for","salesmanid",1,"col-form-label"],["name","salesmanid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","Unit",1,"control-label"],["name","itemunit","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-9","col-md-9","col-sm-12","text-left","actionBtns"],["type","submit",1,"btn","btn-success","mr-2"],[1,"mr-1"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button",1,"btn","btn-primary","mr-2",3,"click"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],[1,""],[1,"btn-group"],["id","visability","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu","mr-2",2,"text-align","right","color","black"],[1,"dropdown-item",3,"ngClass","click"],[1,"col-lg-3","col-md-3","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-12",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-4"],["checked","","id","TotalProduced","name","TotalProduced","type","checkbox","value","checked",3,"ngModel","ngModelChange","click"],["for","TotalProduced"],[1,"col-12"],[2,"margin-top","35px"],[1,"card"],[1,"card-header"],[1,"col-md-2","col-sm-12","float-right"],[1,"card-body","table-responsive"],["class","d-flex justify-content-between\n                flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"ngValue"],[3,"value"],["type","text",1,"form-control",2,"width","100%","height","10%",3,"ngModel","placeholder","ngModelChange","keyup"],["type","text",1,"form-control",2,"width","80%","height","10%",3,"ngModel","placeholder","ngModelChange","keyup"],[4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",3,"checked","ngModel","checkedChange","ngModelChange","change",4,"ngIf"],["href","javascript:;",1,"success","p-0",3,"click"],[1,"ft-edit","font-medium-3","mr-2"],["type","checkbox",3,"checked","ngModel","checkedChange","ngModelChange","change"],["href","javascript:;",3,"routerLink",4,"ngIf"],["href","javascript:;",3,"routerLink"],["class"," mr-1",3,"click",4,"ngIf"],[1,"mr-1",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[2,"background-color","#b0bed9"],["colspan","16"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12","form-group"],["for","plannedqty",1,"col-form-label"],["type","number","id","plannedqty","name","plannedqty",1,"form-control",3,"ngModel","ngModelChange"],["for","productionqty",1,"col-form-label"],["type","text","id","productionqty","name","productionqty","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["productionqty","ngModel"],["for","remainqty",1,"col-form-label"],["type","text","id","remainqty","name","remainqty","readonly","",1,"form-control"],["class","col-md-12 form-group","style","color: red",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-secondary","mr-2","ml-2",3,"click"],[1,"ft-x","mr-1"],[1,"col-md-12","form-group",2,"color","red"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,ho,4,3,"div",0),u["\u0275\u0275elementStart"](1,"section"),u["\u0275\u0275template"](2,Ra,180,150,"div",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](3,Ia,35,23,"ng-template",null,2,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementStart"](5,"div",3),u["\u0275\u0275elementStart"](6,"table",4),u["\u0275\u0275elementStart"](7,"thead"),u["\u0275\u0275elementStart"](8,"tr"),u["\u0275\u0275template"](9,Ea,3,3,"th",5),u["\u0275\u0275template"](10,wa,3,3,"th",5),u["\u0275\u0275template"](11,ka,3,3,"th",5),u["\u0275\u0275template"](12,Ba,3,3,"th",5),u["\u0275\u0275template"](13,Da,3,3,"th",5),u["\u0275\u0275template"](14,Fa,3,3,"th",5),u["\u0275\u0275template"](15,La,3,3,"th",5),u["\u0275\u0275template"](16,qa,3,3,"th",5),u["\u0275\u0275template"](17,Va,3,3,"th",5),u["\u0275\u0275template"](18,Na,3,3,"th",5),u["\u0275\u0275template"](19,Ta,3,3,"th",5),u["\u0275\u0275template"](20,Ua,3,3,"th",5),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](21,ec,2,1,"tbody",5),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("ngIf",!t.checkRoleParms(8949)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",t.checkRoleParms(8949)),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden",!0),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",1==t.show1Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.show2Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.show3Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.show4Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.show5Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.show6Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.show7Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.show8Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.show9Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.show10Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.show11Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.show12Col),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.ProductionPlanList.length>0&&1==t.CheckTotalProduction))},directives:[l.O5,p._Y,p.JL,p.F,C.Qc,p.JJ,p.On,l.mk,lt.jx,p.Q7,p.wV,p.Fj,ct.a,se.K,p.EJ,l.sg,p.Wl,p.YN,p.Kr,h.yS,de.N9],pipes:[g.X$,gt.N,l.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.activeCol[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{background-color:#e4e0e0;color:#fff}th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top:none;border-left:none;border-right:none}[_ngcontent-%COMP%]::-webkit-input-placeholder{white-space:pre-line;position:relative;top:-7px;font-size:10px;font-weight:700;text-decoration:underline}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.dropdown-item[_ngcontent-%COMP%]{color:#000}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#000}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#000}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),t}(),nc=function e(){c(this,e),this.bomid=null,this.subsidiaryid=null,this.branch_id=null,this.entry_no=null,this.production_storeid=null,this.productionplanid=null,this.entry_date=null,this.update_date=null,this.details=[]},ic=function e(){c(this,e),this.id=0,this.bom_id=null,this.finishitemid=null,this.itemid=null,this.unit_id=null,this.store_id=null,this.conv=null,this.qty=null,this.totalqty=null,this.replenshdiff=null},rc=function(){var e=function(){function e(t){c(this,e),this.http=t,this.baseUrl=it.N.apiUrl,this.reportUrl=it.N.aspDomain}return a(e,[{key:"CustomerAccountsList",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/Customer/CustomerAccountsList?SubsidiaryID=").concat(e,"&SearchValue=").concat(t)).pipe((0,mo.U)(function(e){return e}))}},{key:"AllActiveUserBranchddl",value:function(e){return this.http.get("".concat(this.baseUrl,"/Branch/AllActiveUserBranchddl?SubsidiaryID=").concat(e)).pipe((0,mo.U)(function(e){return e}))}},{key:"GetAllActiveStoreBySubsID",value:function(e,t){var n="".concat(this.baseUrl,"/Items/GetAllActiveStoreBySubsID?SubsidiaryID=").concat(e,"&where=").concat(t);return null!=t&&null!=t&&""!=t||(n="".concat(this.baseUrl,"/Items/GetAllActiveStoreBySubsID?SubsidiaryID=").concat(e)),this.http.get(n).pipe((0,mo.U)(function(e){return e}))}},{key:"CheckTransferCreated",value:function(e){return this.http.get("".concat(this.baseUrl,"/BOM/CheckTransferCreated?ids=").concat(e)).pipe((0,mo.U)(function(e){return e}))}},{key:"GetBOMDetail",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/BOM/GetBOMDetails?ids=").concat(e,"&subid=").concat(t)).pipe((0,mo.U)(function(e){return e}))}},{key:"DeleteBOM",value:function(e){return this.http.get("".concat(this.baseUrl,"/BOM/DeleteBOM?id=").concat(e)).pipe((0,mo.U)(function(e){return e}))}},{key:"BOMSave",value:function(e){return this.http.post(this.baseUrl+"/BOM/BOMSave",e).pipe((0,mo.U)(function(e){return e}))}},{key:"GetBOMNextCode",value:function(e){return this.http.get("".concat(this.baseUrl,"/BOM/GetBOMNextCode?subid=").concat(e)).pipe((0,mo.U)(function(e){return e}))}},{key:"BOMDetailsByID",value:function(e){return this.http.get("".concat(this.baseUrl,"/BOM/BOMDetailsByID?BOMid=").concat(e)).pipe((0,mo.U)(function(e){return e}))}},{key:"CreateTransfer",value:function(e){return this.http.post(this.baseUrl+"/BOM/CreateTransfer",e).pipe((0,mo.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](m.eN))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function oc(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",36),u["\u0275\u0275text"](1,"choose"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function ac(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",36),u["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function cc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function lc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function sc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",37),u["\u0275\u0275template"](1,cc,2,1,"span",35),u["\u0275\u0275template"](2,lc,2,1,"span",35),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function dc(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",36),u["\u0275\u0275text"](1,"choose"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function pc(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",36),u["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function mc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function uc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function hc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",37),u["\u0275\u0275template"](1,mc,2,1,"span",35),u["\u0275\u0275template"](2,uc,2,1,"span",35),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function gc(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"button",38),u["\u0275\u0275element"](1,"i",22),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](3,1,"Save")," "))}function _c(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",21),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().Delete()}),u["\u0275\u0275element"](1,"i",22),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](3,1,"Delete")," "))}function fc(e,t){1&e&&u["\u0275\u0275element"](0,"img",39)}function Cc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function vc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function yc(e,t){if(1&e&&(u["\u0275\u0275template"](0,Cc,2,1,"div",35),u["\u0275\u0275template"](1,vc,2,1,"div",35)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function bc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function xc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function Mc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Sc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.namear," ")}}function Pc(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,Mc,2,1,"td",35),u["\u0275\u0275template"](2,Sc,2,1,"td",35),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"]().$implicit,r=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.id===i.item_type&&"ar"!=r.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.id===i.item_type&&"ar"==r.lang)}}function Rc(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",36),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Oc(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",36),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Ic(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function Ec(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name_ar)}}function wc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",37),u["\u0275\u0275template"](1,Ic,2,1,"span",35),u["\u0275\u0275template"](2,Ec,2,1,"span",35),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var kc=function(e){return{item_id:e}},Bc=function(e,t){return{"invalid-data":e,"valid-data":t}};function Dc(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"p-autoComplete",45,46),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](3),i=u["\u0275\u0275nextContext"](3);return i.onFocusInStore(e),t.show(),i.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).StoreChangeSearch(e)})("onClear",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).onClearStoreComponent(e)}),u["\u0275\u0275pipe"](5,"translate"),u["\u0275\u0275template"](6,yc,2,2,"ng-template",47),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"td"),u["\u0275\u0275text"](8),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"td"),u["\u0275\u0275template"](10,bc,2,1,"div",35),u["\u0275\u0275template"](11,xc,2,1,"div",35),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](12,Pc,3,2,"ng-container",48),u["\u0275\u0275elementStart"](13,"td"),u["\u0275\u0275elementStart"](14,"select",49,50),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),u["\u0275\u0275template"](16,Rc,2,1,"option",15),u["\u0275\u0275template"](17,Oc,2,1,"option",15),u["\u0275\u0275template"](18,wc,3,3,"option",51),u["\u0275\u0275pipe"](19,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"td"),u["\u0275\u0275elementStart"](21,"input",52,53),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.conv=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](23,"td"),u["\u0275\u0275elementStart"](24,"input",54,55),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeQtyComponent(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](26,"td"),u["\u0275\u0275elementStart"](27,"input",56,57),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.defaultitemqty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](29,"td"),u["\u0275\u0275elementStart"](30,"input",58,59),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.qtydiff=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275reference"](22),a=u["\u0275\u0275reference"](25),c=u["\u0275\u0275nextContext"](3),l=u["\u0275\u0275reference"](8);u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","storecodecomponent",r,""),u["\u0275\u0275property"]("ngModel",i.storecode)("suggestions",c.StoreList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](5,37,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate1"](" ",i.itemcode.code," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",c.ItemTypesList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","itemcomponentunit",r,""),u["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id)),u["\u0275\u0275attribute"]("disabled",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",u["\u0275\u0275pipeBind2"](19,39,c.ItemComponentUnitsList,u["\u0275\u0275pureFunction1"](42,kc,null==i?null:i.item_id)))("ngForTrackBy",c._ReceiptSharedService.customTrackBy),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_conv",r,""),u["\u0275\u0275property"]("readonly",!0)("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.conv)("required",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](44,Bc,o.invalid&&l.submitted,o.valid&&l.submitted)),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_qty",r,""),u["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",u["\u0275\u0275pureFunction2"](47,Bc,a.invalid&&l.submitted,a.valid&&l.submitted)),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","defaultitemqty",r,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",i.defaultitemqty),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","item_qtydiff",r,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",i.qtydiff)("required",null!=(null==i?null:i.item_id))}}function Fc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275template"](1,Dc,32,50,"tr",44),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",n.BOMList)("ngForTrackBy",n._ReceiptSharedService.customTrackBy)}}function Lc(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275elementStart"](1,"tr",60),u["\u0275\u0275elementStart"](2,"td",61),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](4,1,"NoData")))}var qc=function(e){return{"table-for-autocomplete":e}};function Vc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275elementStart"](1,"table",40),u["\u0275\u0275elementStart"](2,"thead"),u["\u0275\u0275elementStart"](3,"tr",41),u["\u0275\u0275elementStart"](4,"th",42),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"th",42),u["\u0275\u0275text"](8),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"th",42),u["\u0275\u0275text"](11),u["\u0275\u0275pipe"](12,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"th",42),u["\u0275\u0275text"](14),u["\u0275\u0275pipe"](15,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"th",43),u["\u0275\u0275text"](17),u["\u0275\u0275pipe"](18,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"th",42),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"th",42),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"th",42),u["\u0275\u0275text"](26),u["\u0275\u0275pipe"](27,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"th",42),u["\u0275\u0275text"](29),u["\u0275\u0275pipe"](30,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](31,Fc,2,2,"tbody",35),u["\u0275\u0275template"](32,Lc,5,3,"tbody",35),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction1"](30,qc,n.isType)),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](6,12,"Componant Store")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](9,14,"ItemCode")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](12,16,"ItemDescription")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](15,18,"ItemType")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](18,20,"Unit")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,22,"Pack")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](24,24,"qty")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](27,26,"Available Qty")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](30,28,"QtyDiff")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",n.BOMList.length>0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==n.BOMList.length)}}var Nc=function(){var n=function(){function n(e,t,i,r,o,a,l,s,d,p,m,u,h,g){var _=this;c(this,n),this._BOMService=e,this._ReceiptSharedService=t,this._VoucherService=i,this.cd=r,this.toastr=o,this._router=a,this.datepipe=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this.spinner=m,this._printService=h,this._authService=g,this.isType=!1,this._BOM=new nc,this._BOMDetails=new ic,this.subsidiaryID=0,this.PageSize=10,this.totalCount=0,this.PageNo=1,this.Branchlist=[],this.BOMList=[],this.OrginalBOMList=[],this.ItemComponentUnitsList=[],this.StoreList=[],this.CustomerAccountsList=[],this.ItemsList=[],this.ItemUnitsList=[],this.title="",this.emptyDateMsg="",this.invalidDateMsg="",this.BasicCodeReceipt=80,this._Receipt=new R.tY,this.allowsave=!0,this.ItemTypesList=[{id:1,name:"Inventory Item",namear:"\u0635\u0646\u0641 \u0645\u062e\u0632\u0646\u0649"},{id:2,name:"Service Item",namear:"\u062e\u062f\u0645\u0629"},{id:3,name:"Kit / Package",namear:"\u0635\u0646\u0641 \u0645\u062c\u0645\u0639"},{id:4,name:"Finish Product",namear:"\u0635\u0646\u0641 \u062a\u0627\u0645"},{id:5,name:"Configurable",namear:"\u062a\u0634\u0643\u064a\u0644\u064a"}],this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Ok="",this.swalSelectItemText="",this.Cancel="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.DuringSaveDisable=!1,this.SaveMsg="",this._PPlan=[],this.requiredMSG="",this.ngtiveQtyMSG="",this.TransferRequestDone="",this.sortDirection="asc",this.sortColumn="",this.orderby="",this.transferDisabled=!1,this.toStoreList=[],this.ItemsProductionPlan=[],this.ItemsComponentsProductionPlan=[],this.isloading=!1,this.wrapper=new R.I$,this.BOMId=0,this.qtySave=!1,this.ReceiptsList=[],this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){_.lang=e.lang,_.dir=e.dir,_.translate.use(e.lang),_.ngTransUnsubscribe=_.translate.get(["BOM","EmptyDateMsg","InvalidDateMsg","SaveMsg","swalDeleteTitle","TransferRequestDone","swalDetlateText","swalDetlateConfirmButtonText","Ok","Cancel","successMsg","requiredMSG","ngtiveQtyMSG"]).subscribe(function(e){_.title=e.BOM,document.title=_.title,_.emptyDateMsg=e.EmptyDateMsg,_.invalidDateMsg=e.InvalidDateMsg,_.SaveMsg=e.SaveMsg,_.swalDeleteTitle=e.swalDeleteTitle,_.swalDetlateText=e.swalDetlateText,_.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,_.Ok=e.Ok,_.Cancel=e.Cancel,_.toastrSuccessDelete=e.successMsg,_.DeleteRelationmsg=e.DeleteRelationmsg,_.requiredMSG=e.requiredMSG,_.ngtiveQtyMSG=e.ngtiveQtyMSG,_.TransferRequestDone=e.TransferRequestDone})}),u.params.subscribe(function(e){_.ProductPlanIds=e.productionids,_.BOMId=e.id,_.subsidiaryID=_._generalService.SubsidiaryID,_._BOM.bomid=_.BOMId,_._BOM.subsidiaryid=_.subsidiaryID,null!=_.ProductPlanIds?-1===_.ProductPlanIds.toLowerCase().indexOf(",")?(_._BOM.productionplanid=Number(_.ProductPlanIds),_.allowsave=!0):_.allowsave=!1:_.allowsave=!0,_.GetData()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){if(0==_.subsidiaryID&&(_.subsidiaryID=_._generalService.SubsidiaryID,_.GetData()),_.subsidiaryID!=_._generalService.SubsidiaryID&&_.subsidiaryID>0){_.subsidiaryID=_._generalService.SubsidiaryID,_.GetData();var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),_._BOM.branch_id=null,localStorage.setItem("Branch",JSON.stringify({branchId:_._BOM.branch_id})),_.GetData()}})}return a(n,[{key:"ngOnInit",value:function(){}},{key:"onFocus",value:function(){document.title=this.title}},{key:"onBlur",value:function(){document.title=this.title}},{key:"GetData",value:function(){var e=this;if(0==this.BOMId){this.GetBOMNextCode(),this.GetBOMDetails();var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(this._BOM.branch_id="null"!=t.branchId?t.branchId:0,this.GetDefaultStoreCostCenterByBranch()):this._BOM.branch_id=null,parseInt(this.ProductPlanIds)>0&&null!=this.ProductPlanIds&&setTimeout(function(){e.cd.markForCheck()},1e3)}else this.GetBOM();this.GetBranchList(),this.GettostoreList(),this.GetCurrencyList()}},{key:"GetBOMNextCode",value:function(){var e=this;this._BOMService.GetBOMNextCode(this.subsidiaryID).subscribe(function(t){e._BOM.entry_no=null==t[0].code?1:t[0].code+1})}},{key:"GetBOM",value:function(){var e=this;this.isloading=!0,this._BOMService.BOMDetailsByID(this.BOMId).subscribe(function(t){null!=t&&(e._BOM=t.bom,e.BOMList=t.bomdetails,e.BOMList.forEach(function(e){e.itemcode={code:e.itemcode},e.storecode={code:e.storecode}}),e.OrginalBOMList=e.BOMList,e.ItemComponentUnitsList=t.itemunits,e._PPlan=t.productionplan,e.ProductPlanIds=e._PPlan[0].id,null!=e._PPlan[0].transferrequestid&&""!=e._PPlan[0].transferrequestid&&(e.transferDisabled=!0,e.transferIds=e._PPlan[0].transferrequestid),e.TransferRequestDoneMsg(),e.isloading=!1,e.cd.markForCheck())})}},{key:"GetBranchList",value:function(){var e=this;this._BOMService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.Branchlist=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._BOM.branch_id="0"!=e?e:null,localStorage.setItem("Branch",JSON.stringify({branchId:this._BOM.branch_id})),this.GetDefaultStoreCostCenterByBranch()}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this;this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._BOM.branch_id).subscribe(function(t){e.StoreCostCenterSetting=t.length>0?t[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid&&(e._BOM.production_storeid=e.StoreCostCenterSetting.storeid),e.cd.markForCheck()})}},{key:"GettostoreList",value:function(){var e=this;this._BOMService.GetAllActiveStoreBySubsID(this.subsidiaryID,"").subscribe(function(t){e.toStoreList=t,e.cd.markForCheck()})}},{key:"GetBOMDetails",value:function(){var e=this;this.isloading=!0,this.BOMList=[],this._BOMService.GetBOMDetail(this.ProductPlanIds,this.subsidiaryID).subscribe(function(n){n.itemunits.forEach(function(t){e.ItemUnitsList.push(t)}),e.ItemsProductionPlan=n.items,n.itemcomponents.length>0&&(e.ItemsComponentsProductionPlan=n.itemcomponents,e.ItemComponentUnitsList=e.ItemComponentUnitsList.concat(n.componentsunits));for(var i=function(n){var i=e.ItemsProductionPlan[n],r=e.ItemUnitsList.find(function(e){return e.item_id==i.itemid&&e.id==i.productionunit}),o=new R.hm,a=Math.max.apply(Math,t(e._Receipt.details.map(function(e){return e.rowno})).concat([0]));o.rowno=a+1,o.item_id=i.itemid,o.itemcode={code:i.itemcode},o.itemname=i.itemname,o.itemname_ar=i.itemname_ar,o.unit_id=i.productionunit,o.qty=i.itemqty,o.transaction_move=1,o.item_type=i.item_type,o.indirectexpensesunit=i.indirectexpensesunit,o.productionunitexpense=o.indirectexpensesunit,o.productionqtyexpense=Number((o.productionunitexpense*o.qty).toFixed(6)),o.conv=r.conv,o.final_conv=r.finalconv,o.finishedproductid=null,e.ItemsComponentsProductionPlan.filter(function(e){return e.item_id==o.item_id}).forEach(function(n){var i=new R.hm,r=Math.max.apply(Math,t(e._Receipt.itemscomponent.map(function(e){return e.rowno})).concat([0]));i.rowno=r+1,i.transaction_move=-1,i.updatefromproc=1,i.store_id=n.storeid,i.storecode={code:n.storecode},i.item_id=n.itemcomponentid,i.itemcode={code:n.itemcode},i.itemname=n.itemname,i.itemname_ar=n.itemname_ar,i.item_type=n.item_type,i.qty=n.itemcomponentqty*o.qty,i.basicqtycomponent=n.itemcomponentqty,i.defaultitemqty=n.defaultitemqty,i.qtydiff=Number(i.qty-i.defaultitemqty),i.conv=n.itemcomponentconv,i.unit_id=n.inventory_unitid,i.final_conv=1,i.finishedproductid=null,e.BOMList.push(i),i.finishedproductid=n.item_id,e._Receipt.itemscomponent.push(i)}),e._Receipt.details.push(o)},r=0;r<e.ItemsProductionPlan.length;r++)i(r);e._Receipt.prodplansid=e.ProductPlanIds,e.OrginalBOMList=e.BOMList,e._PPlan=n.plan,e._PPlan.forEach(function(t){if(null!=t.transferrequestid&&""!=t.transferrequestid){e.transferDisabled=!0;var n=[];n.push(t.transferrequestid),e.transferIds=n.join(",")}}),e.TransferRequestDoneMsg(),e.isloading=!1,e.cd.markForCheck()})}},{key:"onFocusInStore",value:function(e){this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){var n=this;this.BOMList[t].store_id=e.id,this.BOMList[t].storecode={code:e.code},this.OrginalBOMList[t].store_id=this.BOMList[t].store_id,this.OrginalBOMList[t].storecode=this.BOMList[t].storecode,this.wrapper={ReceiptCode:0,BranchID:0,itemid:this.BOMList[t].item_id,Unit_ID:this.BOMList[t].unit_id,conv:1,Qty:1,Entrydate:this.datepipe.transform(new Date,"MM'-'dd'-'yyyy' 'HH':'mm"),subsidairyid:this.subsidiaryID,StoreID:this.BOMList[t].store_id,ReceiptID:0},this._ReceiptSharedService.GetAllItemStoreQty(this.wrapper).subscribe(function(e){var i=e.find(function(e){return e.storeid==n.BOMList[t].store_id});null!=i&&null!=i?(n.BOMList[t].defaultitemqty=i.totalqty,n.BOMList[t].qtydiff=Number(n.BOMList[t].qty-n.BOMList[t].defaultitemqty)):(n.BOMList[t].defaultitemqty=0,n.BOMList[t].qtydiff=Number(n.BOMList[t].qty-n.BOMList[t].defaultitemqty))}),this.cd.markForCheck()}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,e.cd.markForCheck()})}},{key:"onClearStoreComponent",value:function(e){e.store_id=null,e.storecode=null}},{key:"ChangeQtyComponent",value:function(e){null==this.BOMList[e].qty&&(this.BOMList[e].qty=0),this.BOMList[e].qtydiff=Number((this.BOMList[e].qty-this.BOMList[e].defaultitemqty).toFixed(6)),this.BOMList[e].total=Number((this.BOMList[e].price*this.BOMList[e].qty).toFixed(6)),this.OrginalBOMList[e].qtydiff=this.BOMList[e].qtydiff,this.OrginalBOMList[e].total=this.BOMList[e].total,this.OrginalBOMList[e].qty=this.BOMList[e].qty,this.cd.markForCheck()}},{key:"SearchValueFun",value:function(){var e=this;this.BOMList=this.OrginalBOMList,""!=this.searchValue||null!=this.searchValue?(this.BOMList=this.BOMList.filter("ar"==this.lang?function(t){return(null!=t.storecode?t.storecode.code.includes(e.searchValue):null)||t.itemcode.code.includes(e.searchValue)||t.itemname_ar.includes(e.searchValue)||e.ItemTypesList.find(function(e){return e.id===t.item_type}).namear.includes(e.searchValue)||e.ItemComponentUnitsList.find(function(e){return e.id==t.unit_id}).name_ar.includes(e.searchValue)||t.conv.toString().includes(e.searchValue)||t.qty.toString().includes(e.searchValue)||t.defaultitemqty.toString().includes(e.searchValue)||t.qtydiff.toString().includes(e.searchValue)}:function(t){null!=t.storecode&&t.storecode.code.includes(e.searchValue)||t.itemcode.code.includes(e.searchValue)||t.itemname.includes(e.searchValue)||e.ItemTypesList.find(function(e){return e.id===t.item_type}).name.includes(e.searchValue)||e.ItemComponentUnitsList.find(function(e){return e.id==t.unit_id}).name.includes(e.searchValue)||t.conv.includes(e.searchValue)||t.qty.includes(e.searchValue)||t.defaultitemqty.includes(e.searchValue)||t.qtydiff.includes(e.searchValue)}),this.cd.markForCheck()):(this.BOMList=this.OrginalBOMList,this.cd.markForCheck())}},{key:"Save",value:function(e){var t=this;e.form.valid?(this.OrginalBOMList.forEach(function(e){var n=new ic;if(n.conv=e.conv,n.qty=e.qty,n.itemid=e.item_id,n.store_id=e.store_id,n.replenshdiff=e.qtydiff,n.finishitemid=e.finishedproductid,n.totalqty=e.defaultitemqty,n.unit_id=e.unit_id,e.id>0&&null!=e.id&&(n.id=e.id),t._BOM.details.push(n),e.qty<0)return t.toastr.error(t.ngtiveQtyMSG),void(t.qtySave=!0)}),this._BOM.entry_date=new Date,0==this.qtySave&&this._BOMService.BOMSave(this._BOM).subscribe(function(e){t.DuringSaveDisable=!1,t.toastr.success(t.SaveMsg),t._router.navigate(["/page/production/bom/"+e.id]).then(function(){window.location.reload()})})):this.toastr.error(this.requiredMSG)}},{key:"Reset",value:function(){this.GetBOMDetails()}},{key:"TransferRequest",value:function(n){var i=this;if(this.ReceiptsList=[],n.form.valid){var r,o=e((this.transferDisabled=!0,this.group=t(new Map(this.BOMList.map(function(e){return[e.store_id,e.store_id]})).values()),this.group));try{for(o.s();!(r=o.n()).done;){var a=r.value;if(this._BOM.production_storeid!=a){var c=new R.tY;c.entry_no=0,c.code=this.BasicCodeReceipt,c.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),c.entry_time=this.SetTimeNow(),c.branch_id=this._BOM.branch_id,c.code=80,c.erpstatus=1,c.storetype=2,c.currency_id=this._BaseCurrency.id,c.currency_rate=1,c.replenshimenttype=3,c.schedule_date=c.entry_date,c.schedule_time=c.entry_time,c.subsidiaryid=this.subsidiaryID,c.tostoreid=this._BOM.production_storeid,c.fromstoreid=a,c.details=this.BOMList.filter(function(e){return e.store_id==a});var l,s=e(this._Receipt.itemscomponent.filter(function(e){return e.store_id==a}));try{for(s.s();!(l=s.n()).done;){var d,p=l.value,m=[],u=e(this._PPlan);try{for(u.s();!(d=u.n()).done;){var h=d.value;h.itemid==p.finishedproductid&&m.push(h.id)}}catch(g){u.e(g)}finally{u.f()}}}catch(g){s.e(g)}finally{s.f()}c.prodplansid=m.join(","),console.log(c.prodplansid),c.details.forEach(function(e){return e.finishedproductid=null}),this.ReceiptsList.push(c)}else this.transferDisabled=!1}}catch(g){o.e(g)}finally{o.f()}this.ReceiptsList.length>0&&(this.isloading=!0,console.log(this.ReceiptsList,"this.ReceiptsList"),this.spinner.show(),this._BOMService.CreateTransfer(this.ReceiptsList).subscribe(function(e){e.length>0&&(i.transferDisabled=!0),console.log(e,"res"),i.isloading=!1,i.TransferRequestCreated(e),i.cd.markForCheck()}))}else this.toastr.error(this.requiredMSG)}},{key:"ExecutePlans",value:function(){this._router.navigate(["/page/production/productionvoucher/0/0/"+this.ProductPlanIds]).then(function(){})}},{key:"Back",value:function(){this._router.navigate(["/page/production/productionplan"]).then(function(){window.location.reload()})}},{key:"Delete",value:function(){var e=this;this._BOMService.DeleteBOM(this.BOMId).subscribe(function(t){1==t?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/production/bom/0/"+e._BOM.productionplanid]).then(function(){window.location.reload()})):e.toastr.error(e.DeleteRelationmsg)})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e.cd.markForCheck())})}},{key:"TransferRequestDoneMsg",value:function(){this.transferDisabled&&Ke().fire({text:this.TransferRequestDone+this.transferIds,showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Ok,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){})}},{key:"TransferRequestCreated",value:function(e){this.transferDisabled&&Ke().fire({text:this.TransferRequestDone+" "+e,icon:"success",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Ok,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){})}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),n}();return n.\u0275fac=function(e){return new(e||n)(u["\u0275\u0275directiveInject"](rc),u["\u0275\u0275directiveInject"](ie.t),u["\u0275\u0275directiveInject"](nt.H),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](l.uU),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](oe.t2),u["\u0275\u0275directiveInject"](h.gz),u["\u0275\u0275directiveInject"](ae.$),u["\u0275\u0275directiveInject"](k.e))},n.\u0275cmp=u["\u0275\u0275defineComponent"]({type:n,selectors:[["app-BOM"]],hostBindings:function(e,t){1&e&&u["\u0275\u0275listener"]("focus",function(e){return t.onFocus(e)},!1,u["\u0275\u0275resolveWindow"])("blur",function(e){return t.onBlur(e)},!1,u["\u0275\u0275resolveWindow"])},features:[u["\u0275\u0275ProvidersFeature"]([rc,l.uU,ie.t,nt.H])],decls:77,vars:49,consts:[[1,"card"],[1,"card-header","p-0"],[1,"col-12","headerform"],[1,"card-content"],[1,"card-body"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-sm-12","row"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branchid",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branchid","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["branch","ngModel"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","Unit",1,"control-label"],["name","tostoreid","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["storeid","ngModel"],[1,"col-12"],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"ft-check-square","mr-1"],["type","submit","class","btn btn-primary mr-2",4,"ngIf"],["type","button","class","btn btn-primary mr-2",3,"click",4,"ngIf"],[2,"margin-top","35px"],[1,"row",2,"margin-top","20px"],[1,"h3","h3-primary"],[1,"card-header"],[1,"form-group","row"],["for","SearchValue",1,"col-md-3"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-4",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"card-body","table-responsive"],["src","../../../../assets/img/loading/loading.gif",4,"ngIf"],[4,"ngIf"],[3,"ngValue"],[3,"value"],["type","submit",1,"btn","btn-primary","mr-2"],["src","../../../../assets/img/loading/loading.gif"],["id","TableList",1,"table-responsive","table","table-accountdetails",3,"ngClass"],[2,"background","#e9f1f5"],["scope","col"],["scope","col",2,"width","9%"],[4,"ngFor","ngForOf","ngForTrackBy"],["minLength","0","delay","0","field","code","required","",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStorecomponent","","storecode","ngModel"],["pTemplate","servstorecomponentTemplate"],[4,"ngFor","ngForOf"],[1,"form-control",3,"name","ngModel","required","ngModelChange"],["itemcomponentunit","ngModel"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number","required","",1,"form-control",3,"readonly","Min","CheckMin","ngModel","name","required","ngClass","ngModelChange"],["itemcomponent_conv","ngModel"],["PositiveNumbersOnly","","type","number","required","",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["itemcomponent_qty","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","ngModelChange"],["defaultitemqty","ngModel"],["PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","required","ngModelChange"],["item_qtydiff","ngModel"],[2,"background-color","#b0bed9"],["colspan","16"]],template:function(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275elementStart"](2,"div",2),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",3),u["\u0275\u0275elementStart"](6,"div",4),u["\u0275\u0275elementStart"](7,"form",5,6),u["\u0275\u0275listener"]("ngSubmit",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](8);return t.Save(e)}),u["\u0275\u0275element"](9,"div",7),u["\u0275\u0275elementStart"](10,"div",8),u["\u0275\u0275elementStart"](11,"div",9),u["\u0275\u0275elementStart"](12,"div",10),u["\u0275\u0275elementStart"](13,"label",11),u["\u0275\u0275text"](14),u["\u0275\u0275pipe"](15,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"span",12),u["\u0275\u0275text"](17,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"select",13,14),u["\u0275\u0275listener"]("ngModelChange",function(e){return t._BOM.branch_id=e})("change",function(e){return t.ChangeBranch(e.target.value)}),u["\u0275\u0275template"](20,oc,2,1,"option",15),u["\u0275\u0275template"](21,ac,2,1,"option",15),u["\u0275\u0275template"](22,sc,3,3,"option",16),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](23,"div",9),u["\u0275\u0275elementStart"](24,"div",10),u["\u0275\u0275elementStart"](25,"label",17),u["\u0275\u0275text"](26),u["\u0275\u0275pipe"](27,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"span",12),u["\u0275\u0275text"](29,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"select",18,19),u["\u0275\u0275listener"]("ngModelChange",function(e){return t._BOM.production_storeid=e}),u["\u0275\u0275template"](32,dc,2,1,"option",15),u["\u0275\u0275template"](33,pc,2,1,"option",15),u["\u0275\u0275template"](34,hc,3,3,"option",16),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](35,"div",20),u["\u0275\u0275elementStart"](36,"button",21),u["\u0275\u0275listener"]("click",function(){return t.Reset()}),u["\u0275\u0275element"](37,"i",22),u["\u0275\u0275text"](38),u["\u0275\u0275pipe"](39,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](40,"button",21),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](8);return t.TransferRequest(e)}),u["\u0275\u0275element"](41,"i",22),u["\u0275\u0275text"](42),u["\u0275\u0275pipe"](43,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](44,gc,4,3,"button",23),u["\u0275\u0275template"](45,_c,4,3,"button",24),u["\u0275\u0275elementStart"](46,"button",21),u["\u0275\u0275listener"]("click",function(){return t.ExecutePlans()}),u["\u0275\u0275element"](47,"i",22),u["\u0275\u0275text"](48),u["\u0275\u0275pipe"](49,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](50,"button",21),u["\u0275\u0275listener"]("click",function(){return t.Back()}),u["\u0275\u0275element"](51,"i",22),u["\u0275\u0275text"](52),u["\u0275\u0275pipe"](53,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](54,"div",8),u["\u0275\u0275elementStart"](55,"div",20),u["\u0275\u0275elementStart"](56,"section",25),u["\u0275\u0275elementStart"](57,"div",26),u["\u0275\u0275elementStart"](58,"div",20),u["\u0275\u0275elementStart"](59,"h3",27),u["\u0275\u0275text"](60),u["\u0275\u0275pipe"](61,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](62,"div",8),u["\u0275\u0275elementStart"](63,"div",20),u["\u0275\u0275elementStart"](64,"div",0),u["\u0275\u0275elementStart"](65,"div",28),u["\u0275\u0275elementStart"](66,"div",9),u["\u0275\u0275elementStart"](67,"div",29),u["\u0275\u0275elementStart"](68,"label",30),u["\u0275\u0275text"](69),u["\u0275\u0275pipe"](70,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](71,"input",31,32),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.searchValue=e})("keyup",function(){return t.SearchValueFun()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](73,"div",3),u["\u0275\u0275elementStart"](74,"div",33),u["\u0275\u0275template"](75,fc,1,0,"img",34),u["\u0275\u0275template"](76,Vc,33,32,"div",35),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](8),r=u["\u0275\u0275reference"](19),o=u["\u0275\u0275reference"](31);u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](4,25,"BOM")," "),u["\u0275\u0275advance"](11),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](15,27,"Branch")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",t._BOM.branch_id)("ngClass",u["\u0275\u0275pureFunction2"](43,Bc,r.invalid&&i.submitted,r.valid&&i.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=t.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==t.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",t.Branchlist),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](27,29,"ProductionStore")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",t._BOM.production_storeid)("ngClass",u["\u0275\u0275pureFunction2"](46,Bc,o.invalid&&i.submitted,o.valid&&i.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=t.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==t.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",t.toStoreList),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](39,31,"Reset")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275attribute"]("disabled",1==t.transferDisabled||null),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](43,33,"TransferOrder")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",t.allowsave&&0==t.BOMId),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.allowsave&&t.BOMId>0&&null==t._PPlan[0].productionvoucherid&&null==t._PPlan[0].transferrequestid),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](49,35,"Production")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](53,37,"Back")," "),u["\u0275\u0275advance"](8),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](61,39,"BOM")),u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](70,41,"Search")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",t.searchValue),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",t.isloading),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!t.isloading)}},directives:[p._Y,p.JL,p.F,p.EJ,p.Q7,p.JJ,p.On,l.mk,l.O5,l.sg,p.Fj,p.YN,p.Kr,C.Qc,lt.jx,p.wV,ct.a,at.L,se.K],pipes:[g.X$,gt.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.activeCol[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{background-color:#e4e0e0;color:#fff}th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top:none;border-left:none;border-right:none}[_ngcontent-%COMP%]::-webkit-input-placeholder{white-space:pre-line;position:relative;top:-7px;font-size:10px;font-weight:700;text-decoration:underline}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.dropdown-item[_ngcontent-%COMP%]{color:#000}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#000}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#000}']}),n}();function Tc(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",4),u["\u0275\u0275elementStart"](1,"h1",5),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Uc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function Ac(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name_ar)}}function Gc(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",53),u["\u0275\u0275template"](1,Uc,2,1,"span",48),u["\u0275\u0275template"](2,Ac,2,1,"span",48),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275propertyInterpolate"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function $c(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",54),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).OnAdd()}),u["\u0275\u0275element"](1,"i",28),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function zc(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function jc(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function Qc(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",49),u["\u0275\u0275template"](2,zc,1,0,"i",50),u["\u0275\u0275template"](3,jc,1,0,"i",51),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function Wc(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function Jc(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function Hc(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",49),u["\u0275\u0275template"](2,Wc,1,0,"i",50),u["\u0275\u0275template"](3,Jc,1,0,"i",51),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function Yc(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function Zc(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function Kc(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function Xc(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function el(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function tl(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function nl(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",49),u["\u0275\u0275template"](2,el,1,0,"i",50),u["\u0275\u0275template"](3,tl,1,0,"i",51),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","CustomerName"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"desc"==n.sortDirection)}}function il(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function rl(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function ol(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",49),u["\u0275\u0275template"](2,il,1,0,"i",50),u["\u0275\u0275template"](3,rl,1,0,"i",51),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","CustomerNamear"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"desc"==n.sortDirection)}}function al(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function cl(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function ll(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function sl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function dl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.customername)}}function pl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.customernamear," ")}}function ml(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"a",62),u["\u0275\u0275element"](1,"i",63),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/productionvoucher/",null==n?null:n.id,"")}}function ul(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275template"](1,ll,2,1,"td",48),u["\u0275\u0275template"](2,sl,2,1,"td",48),u["\u0275\u0275elementStart"](3,"td"),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"td"),u["\u0275\u0275text"](6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](7,dl,2,1,"td",48),u["\u0275\u0275template"](8,pl,2,1,"td",48),u["\u0275\u0275elementStart"](9,"td"),u["\u0275\u0275text"](10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td",58),u["\u0275\u0275template"](12,ml,2,1,"a",59),u["\u0275\u0275elementStart"](13,"a",60),u["\u0275\u0275elementStart"](14,"span"),u["\u0275\u0275element"](15,"i",61),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.reference_no),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(628)),u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/productionvoucher/",null==n?null:n.id,"/show")}}function hl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275template"](1,ul,16,9,"tr",57),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",n.ReceiptList)}}function gl(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275elementStart"](1,"tr",64),u["\u0275\u0275elementStart"](2,"td",65),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](4,1,"NoData")))}function _l(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",66),u["\u0275\u0275elementStart"](1,"ngb-pagination",67),u["\u0275\u0275listener"]("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PageNo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](2,"p"),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"select",68),u["\u0275\u0275listener"]("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PageSize=e}),u["\u0275\u0275elementStart"](5,"option",69),u["\u0275\u0275text"](6,"10 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"option",70),u["\u0275\u0275text"](8,"50 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"option",71),u["\u0275\u0275text"](10,"100 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](11,"br"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",i.PageSize)}}function fl(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",6),u["\u0275\u0275elementStart"](1,"div",7),u["\u0275\u0275elementStart"](2,"div",8),u["\u0275\u0275elementStart"](3,"div",9),u["\u0275\u0275elementStart"](4,"h6",10),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",11),u["\u0275\u0275elementStart"](8,"div",12),u["\u0275\u0275elementStart"](9,"section"),u["\u0275\u0275elementStart"](10,"div",4),u["\u0275\u0275elementStart"](11,"div",13),u["\u0275\u0275elementStart"](12,"form",14,15),u["\u0275\u0275listener"]("ngSubmit",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),u["\u0275\u0275elementStart"](14,"div",4),u["\u0275\u0275elementStart"](15,"div",16),u["\u0275\u0275elementStart"](16,"div",17),u["\u0275\u0275elementStart"](17,"label",18),u["\u0275\u0275text"](18),u["\u0275\u0275pipe"](19,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"select",19,20),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),u["\u0275\u0275elementStart"](22,"option",21),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](25,Gc,3,3,"option",22),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](26,"div",16),u["\u0275\u0275elementStart"](27,"div",17),u["\u0275\u0275elementStart"](28,"label",23),u["\u0275\u0275text"](29),u["\u0275\u0275pipe"](30,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"input",24,25),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"div",26),u["\u0275\u0275elementStart"](34,"button",27),u["\u0275\u0275element"](35,"i",28),u["\u0275\u0275text"](36),u["\u0275\u0275pipe"](37,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"button",29),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ShowAll()}),u["\u0275\u0275element"](39,"i",28),u["\u0275\u0275text"](40),u["\u0275\u0275pipe"](41,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"div",30),u["\u0275\u0275elementStart"](43,"div",31),u["\u0275\u0275elementStart"](44,"div",32),u["\u0275\u0275template"](45,$c,4,3,"button",33),u["\u0275\u0275elementStart"](46,"button",34),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().OnPrint()}),u["\u0275\u0275element"](47,"i",28),u["\u0275\u0275text"](48),u["\u0275\u0275pipe"](49,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](50,"button",35),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().OnPrint(1)}),u["\u0275\u0275element"](51,"i",28),u["\u0275\u0275text"](52),u["\u0275\u0275pipe"](53,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](54,"button",36),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().OnExcel()}),u["\u0275\u0275element"](55,"i",28),u["\u0275\u0275text"](56),u["\u0275\u0275pipe"](57,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](58,"div",37),u["\u0275\u0275elementStart"](59,"div",38),u["\u0275\u0275elementStart"](60,"label",39),u["\u0275\u0275text"](61),u["\u0275\u0275pipe"](62,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](63,"input",40,41),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ChangePropFinish()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](65,"div",4),u["\u0275\u0275elementStart"](66,"div",42),u["\u0275\u0275elementStart"](67,"div",43),u["\u0275\u0275elementStart"](68,"div",44),u["\u0275\u0275elementStart"](69,"div",45),u["\u0275\u0275elementStart"](70,"table",46),u["\u0275\u0275elementStart"](71,"thead"),u["\u0275\u0275elementStart"](72,"tr"),u["\u0275\u0275elementStart"](73,"th",47),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),u["\u0275\u0275text"](74),u["\u0275\u0275pipe"](75,"translate"),u["\u0275\u0275template"](76,Qc,4,3,"ng-container",48),u["\u0275\u0275template"](77,Hc,4,3,"ng-container",48),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](78,"th",47),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),u["\u0275\u0275text"](79),u["\u0275\u0275pipe"](80,"translate"),u["\u0275\u0275elementContainerStart"](81),u["\u0275\u0275element"](82,"i",49),u["\u0275\u0275template"](83,Yc,1,0,"i",50),u["\u0275\u0275template"](84,Zc,1,0,"i",51),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](85,"th",47),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),u["\u0275\u0275text"](86),u["\u0275\u0275pipe"](87,"translate"),u["\u0275\u0275elementContainerStart"](88),u["\u0275\u0275element"](89,"i",49),u["\u0275\u0275template"](90,Kc,1,0,"i",50),u["\u0275\u0275template"](91,Xc,1,0,"i",51),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](92,"th",47),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),u["\u0275\u0275text"](93),u["\u0275\u0275pipe"](94,"translate"),u["\u0275\u0275template"](95,nl,4,3,"ng-container",48),u["\u0275\u0275template"](96,ol,4,3,"ng-container",48),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](97,"th",47),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("Reference_No")}),u["\u0275\u0275text"](98),u["\u0275\u0275pipe"](99,"translate"),u["\u0275\u0275elementContainerStart"](100),u["\u0275\u0275element"](101,"i",49),u["\u0275\u0275template"](102,al,1,0,"i",50),u["\u0275\u0275template"](103,cl,1,0,"i",51),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](104,"th"),u["\u0275\u0275text"](105,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](106,"tbody"),u["\u0275\u0275template"](107,hl,2,1,"tbody",48),u["\u0275\u0275template"](108,gl,5,3,"tbody",48),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](109,_l,12,7,"div",52),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](6,36,"productionvoucher"),""),u["\u0275\u0275advance"](13),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](19,38,"Branch")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](24,40,"All")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",i.BranchList),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](30,42,"EntryNo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](37,44,"Search")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](41,46,"All")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(367)),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](49,48,"Print")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](53,50,"pdf")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](57,52,"Excel")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](62,54,"Search")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),u["\u0275\u0275advance"](11),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](75,56,"Branch")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](80,58,"EntryNo")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](87,60,"Date")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](94,62,"Customer")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](99,64,"Reference_No")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","Reference_No"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Reference_No"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Reference_No"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",i.ReceiptList.length>0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var Cl=function(){var e=function(){function e(t,n,i,r,o,a,l,s,d,p,m,u,h,g,_){var f=this;c(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=o,this.translate=a,this._translateGlobalService=l,this.spinner=s,this._activeRoute=d,this._ReceiptSharedService=p,this._authService=m,this._printService=u,this._Excel=h,this._convertToPDF=g,this._VerifyReportsService=_,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new R.Wb,this.NumNotExist="",this.title="",this.sortDirection="asc",this.sortColumn="",this.timeout=null,this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){f.lang=e.lang,f.dir=e.dir,f.translate.use(e.lang),f.ngTransUnsubscribe=f.translate.get("SelectBranchError").subscribe(function(e){f.SelectBranchMsg=e}),f.ngTransUnsubscribe=f.translate.get("EntryNumberMsg").subscribe(function(e){f.EntryNumberMsg=e})}),this.ngTransUnsubscribe=this.translate.get(["productionvoucher"]).subscribe(function(e){f.title=e.productionvoucher,document.title=f.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){f.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=o.proadCastSubsidiaryID.subscribe(function(e){if(0==f.subsidiaryID&&(f.subsidiaryID=f._generalService.SubsidiaryID,f.ReceiptSearch()),f.subsidiaryID!=f._generalService.SubsidiaryID&&f.subsidiaryID>0){f.subsidiaryID=f._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),f._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:f._ReceiptSearch.BranchID})),f._ReceiptSearch.PageNo=1,f._ReceiptSearch.PageSize=10,f.GetBranchList(),f.ReceiptSearch()}}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),f._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):f._ReceiptSearch.BranchID=0})}return a(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="82",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/production/productionvoucher/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/production/productionvoucher/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/production/productionvoucher/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/production/productionvoucher/".concat(e.id),this._router.navigate([t])}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",o="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0639\u0645\u064a\u0644":"Customer",l="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062c\u0639":"Reference No";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(s){e.cd.markForCheck(),n='\n            <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                  <thead>\n                    <tr style="background: #e9f1f5;color: cornflowerblue;">\n                      <th>').concat(r,"</th>\n                      <th>").concat(o,"</th>\n                      <th>").concat(a,"</th>\n                      <th>").concat(c,"</th>\n                      <th>").concat(l,"</th>\n\n                    </tr>\n                  </thead>\n              <tbody>\n          "),s.map(function(t){var i,r;n+="\n          <tr>\n          <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n          <td>").concat(t.entry_no,"</td>\n          <td>").concat(t.entry_date,"</td>\n          <td>").concat(null!==(i="ar"==e.lang?t.customernamear:t.customername)&&void 0!==i?i:"","</td>\n          <td>").concat(null!==(r=t.reference_no)&&void 0!==r?r:"","</td>\n          </tr>\n          ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0639\u0645\u064a\u0644":n.customernamear,"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062c\u0639":n.reference_no}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,Customer:n.customernamear,"Reference No":n.reference_no})}),e._Excel.exportAsExcelFile(t,"CashSales")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](ne.n),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](oe.t2),u["\u0275\u0275directiveInject"](h.gz),u["\u0275\u0275directiveInject"](ie.t),u["\u0275\u0275directiveInject"](k.e),u["\u0275\u0275directiveInject"](ae.$),u["\u0275\u0275directiveInject"](ce.x),u["\u0275\u0275directiveInject"](le.z),u["\u0275\u0275directiveInject"](re.J))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["productionvoucher"]],features:[u["\u0275\u0275ProvidersFeature"]([ne.n,ie.t,re.J])],decls:6,vars:3,consts:[["class","row",4,"ngIf"],["class","card transparent-BG box-shadow-none",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","transparent-BG","box-shadow-none"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped"],[3,"click"],[4,"ngIf"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between\n              flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn btn-primary\n                                transparent-BG",3,"routerLink",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","transparent-BG","mr-3",3,"routerLink"],["aria-hidden","true",1,"fa","fa-file-text-o"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"routerLink"],[1,"ft-edit"],[2,"background-color","#b0bed9"],["colspan","10"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,Tc,4,3,"div",0),u["\u0275\u0275elementStart"](1,"section"),u["\u0275\u0275template"](2,fl,110,66,"div",1),u["\u0275\u0275elementStart"](3,"ngx-spinner",2),u["\u0275\u0275elementStart"](4,"p",3),u["\u0275\u0275text"](5,"Loading..."),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("ngIf",!t.checkRoleParms(366)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",t.checkRoleParms(366)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,oe.Ro,p._Y,p.JL,p.F,p.EJ,p.Q7,p.JJ,p.On,p.YN,p.Kr,l.sg,p.qQ,p.wV,p.Fj,se.K,h.yS,de.N9],pipes:[g.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}(),vl=["RForm"];function yl(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",2),u["\u0275\u0275elementStart"](1,"h1",3),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function bl(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",90),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).DocumentAction()}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function xl(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",91),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PrintPreview(0)}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function Ml(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",92),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).DupilcateAction()}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function Sl(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",92),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](4).CheckBalanceForItemInStoreBeforeDelete(0,!0)}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||i.usedSerialsExists>0||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Pl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275template"](1,Sl,3,4,"button",94),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function Rl(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"button",92),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPrint()}),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"button",92),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PrintPreview(1)}),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"email-popup",93),u["\u0275\u0275listener"]("_savedemailobj",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).sendEmail(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](8,Ml,3,4,"button",94),u["\u0275\u0275elementStart"](9,"button",92),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).QualityAction()}),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](12,Pl,2,1,"div",1),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,9,"Print")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](6,11,"Printpdf")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("entryno",i._Receipt.entry_no),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(367)),u["\u0275\u0275advance"](1),u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,13,"Quality")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(368))}}function Ol(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",95),u["\u0275\u0275text"](1,"choose"),u["\u0275\u0275elementEnd"]())}function Il(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",95),u["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]())}function El(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function wl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function kl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",96),u["\u0275\u0275template"](1,El,2,1,"span",1),u["\u0275\u0275template"](2,wl,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Bl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sugar)}}function Dl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sug)}}function Fl(e,t){if(1&e&&(u["\u0275\u0275template"](0,Bl,2,1,"div",1),u["\u0275\u0275template"](1,Dl,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ll(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.entry_no)}}function ql(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",28),u["\u0275\u0275elementStart"](1,"div",21),u["\u0275\u0275elementStart"](2,"label",32),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"ul",97),u["\u0275\u0275elementStart"](6,"li",98),u["\u0275\u0275elementStart"](7,"div",99),u["\u0275\u0275elementStart"](8,"input",100),u["\u0275\u0275listener"]("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).ChangeFromComponentsTransfers(e)})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._Receipt.fromcomp_transfer=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"label",101),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"li",98),u["\u0275\u0275elementStart"](13,"div",99),u["\u0275\u0275elementStart"](14,"input",102),u["\u0275\u0275listener"]("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).ChangeFromComponentsTransfers(e)})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2)._Receipt.fromcomp_transfer=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"label",103),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](4,7,"RawMaterials")),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("value",1)("ngModel",i._Receipt.fromcomp_transfer),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](11,9,"FromComponents")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("value",2)("ngModel",i._Receipt.fromcomp_transfer),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](17,11,"FromTransfers"))}}function Vl(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",111),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Nl(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",123),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"DefaultCostForOneUnit")," "))}function Tl(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",123),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"CostDiffForOneUnit")," "))}function Ul(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",124),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"ProductCost")," "))}function Al(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Gl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function $l(e,t){if(1&e&&(u["\u0275\u0275template"](0,Al,2,1,"div",1),u["\u0275\u0275template"](1,Gl,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function zl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function jl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Ql(e,t){if(1&e&&(u["\u0275\u0275template"](0,zl,2,1,"div",1),u["\u0275\u0275template"](1,jl,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var Wl=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function Jl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",144),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275nextContext"](2);var i=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction2"](2,Wl,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function Hl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",144),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275nextContext"](2);var i=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction2"](2,Wl,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function Yl(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",145),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Zl(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",145),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Kl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function Xl(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name_ar)}}function es(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",146),u["\u0275\u0275template"](1,Kl,2,1,"span",1),u["\u0275\u0275template"](2,Xl,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"]().$implicit,r=u["\u0275\u0275nextContext"](3);u["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=r.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==r.lang)}}var ts=function(e,t){return{"invalid-data":e,"valid-data":t}};function ns(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",147,148),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.conv=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3),l=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),u["\u0275\u0275propertyInterpolate1"]("name","item_conv",o,""),u["\u0275\u0275property"]("readonly",!0)("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("Min",1e-5)("CheckMin",null!=(null==a?null:a.item_id))("ngModel",a.conv)("required",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](9,ts,i.invalid&&c.submitted,i.valid&&c.submitted))}}function is(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",149,150),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.defaultitemcost=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","item_defaultitemcost",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.defaultitemcost)("ngClass",u["\u0275\u0275pureFunction2"](4,ts,i.invalid&&c.submitted,i.valid&&c.submitted))}}function rs(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",149,151),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.costdiff=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","item_costdiff",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.costdiff)("ngClass",u["\u0275\u0275pureFunction2"](4,ts,i.invalid&&c.submitted,i.valid&&c.submitted))}}function os(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",152,153),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.price=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","item_price",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.price)("Min",0)("CheckMin",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](6,ts,i.invalid&&c.submitted||(null==i.errors?null:i.errors.customMin),i.valid&&c.submitted))}}function as(e,t){1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"span",154),u["\u0275\u0275element"](2,"i",155),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]())}function cs(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"a",156),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]().index;return u["\u0275\u0275nextContext"](3).DeleteItems(e)}),u["\u0275\u0275element"](2,"i",155),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}}function ls(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"a",157),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](),t=e.index,i=e.$implicit;u["\u0275\u0275nextContext"](2);var r=u["\u0275\u0275reference"](216);return u["\u0275\u0275nextContext"]().OnSerialItems(t,i,r)}),u["\u0275\u0275element"](2,"i",158),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden",!(2==i.isrequireserial||3==i.isrequireserial))}}var ss=function(e){return{item_id:e}};function ds(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"p-autoComplete",125,126),u["\u0275\u0275listener"]("onFocus",function(e){var t=u["\u0275\u0275restoreView"](n).index,i=u["\u0275\u0275reference"](3),r=u["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).StoreChangeSearch(e)})("onClear",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275template"](5,$l,2,2,"ng-template",127),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275elementStart"](7,"p-autoComplete",128,129),u["\u0275\u0275listener"]("onFocus",function(e){var t=u["\u0275\u0275restoreView"](n).index,i=u["\u0275\u0275reference"](8),r=u["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).onClearItems(e)}),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275template"](10,Ql,2,2,"ng-template",130),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td",131),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return u["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),u["\u0275\u0275template"](12,Jl,2,5,"div",132),u["\u0275\u0275template"](13,Hl,2,5,"div",132),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"td"),u["\u0275\u0275elementStart"](15,"select",133,134),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),u["\u0275\u0275template"](17,Yl,2,1,"option",135),u["\u0275\u0275template"](18,Zl,2,1,"option",135),u["\u0275\u0275template"](19,es,3,4,"option",136),u["\u0275\u0275pipe"](20,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](21,ns,3,12,"td",1),u["\u0275\u0275elementStart"](22,"td"),u["\u0275\u0275elementStart"](23,"input",137,138),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](25,is,3,7,"td",1),u["\u0275\u0275template"](26,rs,3,7,"td",1),u["\u0275\u0275elementStart"](27,"td"),u["\u0275\u0275elementStart"](28,"input",139,140),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.productionunitexpense=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"td"),u["\u0275\u0275elementStart"](31,"input",139,141),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.productionqtyexpense=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"td"),u["\u0275\u0275elementStart"](34,"input",139,142),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.additionalexpensesandlabors=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](36,os,3,9,"td",1),u["\u0275\u0275elementStart"](37,"td",143),u["\u0275\u0275template"](38,as,3,0,"ng-container",1),u["\u0275\u0275template"](39,cs,3,0,"ng-container",1),u["\u0275\u0275template"](40,ls,3,1,"ng-container",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275reference"](16),a=u["\u0275\u0275reference"](24),c=u["\u0275\u0275reference"](29),l=u["\u0275\u0275reference"](32),s=u["\u0275\u0275reference"](35);u["\u0275\u0275nextContext"](2);var d=u["\u0275\u0275reference"](3),p=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),u["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=p.CurrentUserSetting&&p.CurrentUserSetting.canchangestore)||p._Receipt.details[r].isUsedSerialsExists)("suggestions",p.StoreList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](4,59,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),u["\u0275\u0275property"]("disabled",p._Receipt.details[r].isUsedSerialsExists)("ngModel",i.itemcode)("suggestions",p.ItemsList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](9,61,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf","ar"!=p.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==p.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),u["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](66,ts,o.invalid&&d.submitted,o.valid&&d.submitted)),u["\u0275\u0275attribute"]("disabled",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=p.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==p.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",u["\u0275\u0275pipeBind2"](20,63,p.ItemUnitsList,u["\u0275\u0275pureFunction1"](69,ss,null==i?null:i.item_id)))("ngForTrackBy",p._ReceiptSharedService.customTrackBy),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==p.CashCustomerSetting?null:p.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),u["\u0275\u0275property"]("disabled",p._Receipt.details[r].isUsedSerialsExists)("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",u["\u0275\u0275pureFunction2"](71,ts,a.invalid&&d.submitted,a.valid&&d.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==p.CurrentUserSetting?null:p.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==p.CurrentUserSetting?null:p.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate"]("step",null==p.CashCustomerSetting?null:p.CashCustomerSetting.allowdecimalpack),u["\u0275\u0275propertyInterpolate1"]("name","item_productionunitexpense",r,""),u["\u0275\u0275property"]("readonly",!0)("stepallow",null==p.CashCustomerSetting?null:p.CashCustomerSetting.allowdecimalpack)("ngModel",i.productionunitexpense)("required",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](74,ts,c.invalid&&d.submitted,c.valid&&d.submitted)),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate"]("step",null==p.CashCustomerSetting?null:p.CashCustomerSetting.allowdecimalpack),u["\u0275\u0275propertyInterpolate1"]("name","item_productionqtyexpense",r,""),u["\u0275\u0275property"]("readonly",!0)("stepallow",null==p.CashCustomerSetting?null:p.CashCustomerSetting.allowdecimalpack)("ngModel",i.productionqtyexpense)("required",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](77,ts,l.invalid&&d.submitted,l.valid&&d.submitted)),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate"]("step",null==p.CashCustomerSetting?null:p.CashCustomerSetting.allowdecimalpack),u["\u0275\u0275propertyInterpolate1"]("name","item_additionalexpensesandlabors",r,""),u["\u0275\u0275property"]("readonly",!0)("stepallow",null==p.CashCustomerSetting?null:p.CashCustomerSetting.allowdecimalpack)("ngModel",i.additionalexpensesandlabors)("required",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](80,ts,s.invalid&&d.submitted,s.valid&&d.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==p.CurrentUserSetting?null:p.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",p._Receipt.details[r].isUsedSerialsExists),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!p._Receipt.details[r].isUsedSerialsExists),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==p.InventorySetting[0].purchaseseffect)}}function ps(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",159),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function ms(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",160),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"DefaultQty")," "))}function us(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",160),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"QtyDiff")," "))}function hs(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",161),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"ActualCost")," "))}function gs(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",117),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function _s(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function fs(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Cs(e,t){if(1&e&&(u["\u0275\u0275template"](0,_s,2,1,"div",1),u["\u0275\u0275template"](1,fs,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function vs(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function ys(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function bs(e,t){if(1&e&&(u["\u0275\u0275template"](0,vs,2,1,"div",1),u["\u0275\u0275template"](1,ys,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function xs(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",144),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275nextContext"](2);var i=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction2"](2,Wl,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function Ms(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",144),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275nextContext"](2);var i=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction2"](2,Wl,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function Ss(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",145),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Ps(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",145),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Rs(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function Os(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name_ar)}}function Is(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",96),u["\u0275\u0275template"](1,Rs,2,1,"span",1),u["\u0275\u0275template"](2,Os,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Es(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",147,172),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.conv=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3),l=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),u["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_conv",o,""),u["\u0275\u0275property"]("readonly",!0)("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("Min",1e-5)("CheckMin",null!=(null==a?null:a.item_id))("ngModel",a.conv)("required",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](9,ts,i.invalid&&c.submitted,i.valid&&c.submitted))}}function ws(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",149,173),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.defaultitemqty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","defaultitemqty",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.defaultitemqty)("ngClass",u["\u0275\u0275pureFunction2"](4,ts,i.invalid&&c.submitted,i.valid&&c.submitted))}}function ks(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",174,175),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.qtydiff=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","item_qtydiff",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.qtydiff)("required",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](5,ts,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Bs(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",152,176),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.price=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_price",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.price)("Min",0)("CheckMin",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](6,ts,i.invalid&&c.submitted||(null==i.errors?null:i.errors.customMin),i.valid&&c.submitted))}}function Ds(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",152,177),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.total=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_total",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.total)("Min",0)("CheckMin",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](6,ts,i.invalid&&c.submitted||(null==i.errors?null:i.errors.customMin),i.valid&&c.submitted))}}function Fs(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"a",179),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](2).index;u["\u0275\u0275nextContext"](2);var t=u["\u0275\u0275reference"](218);return u["\u0275\u0275nextContext"]().OnSerialItemsInItemComponent(e,t)}),u["\u0275\u0275element"](1,"i",158),u["\u0275\u0275elementEnd"]()}}function Ls(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,Fs,2,0,"a",178),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1!=n.CashCustomerSetting.dispensingpolicy)}}function qs(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"p-autoComplete",125,162),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](3),i=u["\u0275\u0275nextContext"](3);return i.onFocusInStoreComponent(e),t.show(),i.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).StoreComponentSelectEvent(e,t)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).StoreChangeSearch(e)})("onClear",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).onClearStoreComponent(e)}),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275template"](5,Cs,2,2,"ng-template",163),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275elementStart"](7,"p-autoComplete",164,165),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](8),i=u["\u0275\u0275nextContext"](3);return i.onFocusInItemsComponent(e),t.show(),i.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).ItemsComponentSelectEvent(e,t)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).ItemsComponentChangeSearch(e)})("onClear",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).onClearItemsComponent(e)}),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275template"](10,bs,2,2,"ng-template",166),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td"),u["\u0275\u0275template"](12,xs,2,5,"div",132),u["\u0275\u0275template"](13,Ms,2,5,"div",132),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"td"),u["\u0275\u0275elementStart"](15,"select",167,168),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).ChangeItemComponentsUnits(e.target.value,t)}),u["\u0275\u0275template"](17,Ss,2,1,"option",135),u["\u0275\u0275template"](18,Ps,2,1,"option",135),u["\u0275\u0275template"](19,Is,3,3,"option",27),u["\u0275\u0275pipe"](20,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](21,Es,3,12,"td",1),u["\u0275\u0275elementStart"](22,"td"),u["\u0275\u0275elementStart"](23,"input",169,170),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).ChangeQtyComponent(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](25,ws,3,7,"td",1),u["\u0275\u0275template"](26,ks,3,8,"td",1),u["\u0275\u0275template"](27,Bs,3,9,"td",1),u["\u0275\u0275template"](28,Ds,3,9,"td",1),u["\u0275\u0275elementStart"](29,"td",143),u["\u0275\u0275elementStart"](30,"a",171),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).DeleteItemsComponent(e)}),u["\u0275\u0275element"](31,"i",155),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](32,Ls,2,1,"ng-container",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275reference"](16),a=u["\u0275\u0275reference"](24);u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3),l=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","storecodecomponent",r,""),u["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=l.CurrentUserSetting&&l.CurrentUserSetting.canchangestore))("suggestions",l.StoreList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](4,34,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275propertyInterpolate1"]("name","itemcodecomponent",r,""),u["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",l.ItemsList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](9,36,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf","ar"!=l.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==l.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","itemcomponentunit",r,""),u["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](41,ts,o.invalid&&c.submitted,o.valid&&c.submitted)),u["\u0275\u0275attribute"]("disabled",null!=(null==i?null:i.finishedproductid)||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=l.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==l.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",u["\u0275\u0275pipeBind2"](20,38,l.ItemComponentUnitsList,u["\u0275\u0275pureFunction1"](44,ss,null==i?null:i.item_id)))("ngForTrackBy",l._ReceiptSharedService.customTrackBy),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","itemcomponent_qty",r,""),u["\u0275\u0275property"]("Min",0)("ngModel",i.qty)("ngClass",u["\u0275\u0275pureFunction2"](46,ts,a.invalid&&c.submitted||null==i.qty,a.valid&&c.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",(2==i.isrequireserial||3==i.isrequireserial)&&1==l.CashCustomerSetting.salesreturneffect)}}var Vs=function(e){return{parentrowno:e}};function Ns(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",104),u["\u0275\u0275elementStart"](1,"div",105),u["\u0275\u0275elementStart"](2,"div",68),u["\u0275\u0275elementStart"](3,"table",106),u["\u0275\u0275elementStart"](4,"thead"),u["\u0275\u0275elementStart"](5,"tr"),u["\u0275\u0275elementStart"](6,"th",107),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",108),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",109),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",107),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](18,Vl,3,3,"th",110),u["\u0275\u0275elementStart"](19,"th",111),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](22,Nl,3,3,"th",112),u["\u0275\u0275template"](23,Tl,3,3,"th",112),u["\u0275\u0275elementStart"](24,"th",113),u["\u0275\u0275text"](25),u["\u0275\u0275pipe"](26,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"th",113),u["\u0275\u0275text"](28),u["\u0275\u0275pipe"](29,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"th",113),u["\u0275\u0275text"](31),u["\u0275\u0275pipe"](32,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](33,Ul,3,3,"th",114),u["\u0275\u0275element"](34,"th",70),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](35,"tbody"),u["\u0275\u0275template"](36,ds,41,83,"tr",115),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](37,"button",116),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddItems(1)}),u["\u0275\u0275text"](38),u["\u0275\u0275pipe"](39,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](40,"div",104),u["\u0275\u0275elementStart"](41,"div",105),u["\u0275\u0275elementStart"](42,"div",68),u["\u0275\u0275elementStart"](43,"table",106),u["\u0275\u0275elementStart"](44,"thead"),u["\u0275\u0275elementStart"](45,"tr"),u["\u0275\u0275elementStart"](46,"th",107),u["\u0275\u0275text"](47),u["\u0275\u0275pipe"](48,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](49,"th",108),u["\u0275\u0275text"](50),u["\u0275\u0275pipe"](51,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](52,"th",117),u["\u0275\u0275text"](53),u["\u0275\u0275pipe"](54,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](55,"th",108),u["\u0275\u0275text"](56),u["\u0275\u0275pipe"](57,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](58,ps,3,3,"th",118),u["\u0275\u0275elementStart"](59,"th",119),u["\u0275\u0275text"](60),u["\u0275\u0275pipe"](61,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](62,ms,3,3,"th",120),u["\u0275\u0275template"](63,us,3,3,"th",120),u["\u0275\u0275template"](64,hs,3,3,"th",121),u["\u0275\u0275template"](65,gs,3,3,"th",122),u["\u0275\u0275element"](66,"th",70),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](67,"tbody"),u["\u0275\u0275template"](68,qs,33,49,"tr",115),u["\u0275\u0275pipe"](69,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](70,"button",116),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddItems(2)}),u["\u0275\u0275text"](71),u["\u0275\u0275pipe"](72,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,28,"Store")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,30,"ItemCode")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,32,"ItemDescription")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](17,34,"Unit")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,36,"ProducedQty")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](26,38,"ProductionUnitExpense")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](29,40,"ProductionQtyExpense")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](32,42,"AdditionalExpenses&LaborForQty")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](39,44,"Add")," "),u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](48,46,"Store")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](51,48,"ItemCode")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](54,50,"ItemDescription")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](57,52,"Unit")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](61,54,"ActualQty")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",u["\u0275\u0275pipeBind2"](69,56,null==i._Receipt?null:i._Receipt.itemscomponent,u["\u0275\u0275pureFunction1"](61,Vs,null==i.SelectedItem?null:i.SelectedItem.rowno)))("ngForTrackBy",i._ReceiptSharedService.customTrackBy),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](72,59,"Add")," ")}}function Ts(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",95),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]())}function Us(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",95),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]())}function As(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Gs(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function $s(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",96),u["\u0275\u0275template"](1,As,2,1,"span",1),u["\u0275\u0275template"](2,Gs,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function zs(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",145),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function js(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",145),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Qs(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.codename,"")}}function Ws(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.codenamear,"")}}function Js(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",96),u["\u0275\u0275template"](1,Qs,2,1,"span",1),u["\u0275\u0275template"](2,Ws,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.code),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var Hs=function(){return{code:84}};function Ys(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"select",181),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.branch_id=e}),u["\u0275\u0275template"](3,Ts,2,0,"option",26),u["\u0275\u0275template"](4,Us,2,0,"option",26),u["\u0275\u0275template"](5,$s,3,3,"option",182),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275elementStart"](7,"select",181),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.code=e}),u["\u0275\u0275template"](8,zs,2,1,"option",135),u["\u0275\u0275template"](9,js,2,1,"option",135),u["\u0275\u0275template"](10,Js,3,3,"option",182),u["\u0275\u0275pipe"](11,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"td"),u["\u0275\u0275elementStart"](13,"input",183,184),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.entry_no=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"td",185),u["\u0275\u0275elementStart"](16,"a",171),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).GetLinkedReceipt(e)}),u["\u0275\u0275element"](17,"i",186),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"a",171),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).OnOpenLinkedReceipt(e)}),u["\u0275\u0275element"](19,"i",187),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"a",171),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).DeleteLinkedReceipt(e)}),u["\u0275\u0275element"](21,"i",188),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsbranch",r,""),u["\u0275\u0275property"]("ngModel",i.branch_id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",o.BranchList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptscode",r,""),u["\u0275\u0275property"]("ngModel",i.code),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==o.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",u["\u0275\u0275pipeBind2"](11,13,o.ReceiptCodeList,u["\u0275\u0275pureFunction0"](16,Hs))),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","LinkedReceiptsentry_no",r,""),u["\u0275\u0275property"]("ngModel",i.entry_no),u["\u0275\u0275advance"](3),u["\u0275\u0275attribute"]("disabled",(null==i?null:i.fire)>0||null)}}function Zs(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",2),u["\u0275\u0275elementStart"](1,"div",59),u["\u0275\u0275elementStart"](2,"div",68),u["\u0275\u0275elementStart"](3,"table",69),u["\u0275\u0275elementStart"](4,"thead"),u["\u0275\u0275elementStart"](5,"tr"),u["\u0275\u0275elementStart"](6,"th",70),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",70),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",70),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",70),u["\u0275\u0275text"](16,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"tbody"),u["\u0275\u0275template"](18,Ys,22,17,"tr",180),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"button",116),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddLinkedReceipt()}),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,5,"Branch")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,7,"Receipttype")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,9,"EntryNo")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngForOf",i._Receipt.linkedreceipts),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,11,"Add")," ")}}function Ks(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",95),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]())}function Xs(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",95),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]())}function ed(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function td(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function nd(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",96),u["\u0275\u0275template"](1,ed,2,1,"span",1),u["\u0275\u0275template"](2,td,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function id(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function rd(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function od(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",96),u["\u0275\u0275template"](1,id,2,1,"span",1),u["\u0275\u0275template"](2,rd,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ad(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",208),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275element"](3,"br"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Value must be greater than 0")," "))}function cd(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function ld(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function sd(e,t){if(1&e&&(u["\u0275\u0275template"](0,cd,2,1,"div",1),u["\u0275\u0275template"](1,ld,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function dd(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"select",193),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.expenseid=e})("change",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).changeexpenses(e)}),u["\u0275\u0275template"](3,Ks,2,0,"option",26),u["\u0275\u0275template"](4,Xs,2,0,"option",26),u["\u0275\u0275template"](5,nd,3,3,"option",182),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275elementStart"](7,"select",193),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.currencyid=e})("change",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).changeexpensesCurrency(e,t)}),u["\u0275\u0275template"](8,od,3,3,"option",182),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"td"),u["\u0275\u0275elementStart"](10,"input",194,195),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeExpensesValue(e)})("ngModelChange",function(e){return t.$implicit.value=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"td"),u["\u0275\u0275elementStart"](13,"input",196,197),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.exchangerate=e})("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeExpensesValue(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](15,ad,4,3,"span",198),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"td"),u["\u0275\u0275elementStart"](17,"div",199),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3)._generalService.onFocusControl("ExpensesLocalValue"+e)}),u["\u0275\u0275text"](18),u["\u0275\u0275pipe"](19,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"input",200,201),u["\u0275\u0275listener"]("focusout",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3)._generalService.onFocusoutControl("ExpensesLocalValue"+e)})("ngModelChange",function(e){return t.$implicit.localvalue=e})("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeExpenseslocalValue(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"td"),u["\u0275\u0275elementStart"](23,"p-autoComplete",202,203),u["\u0275\u0275listener"]("onFocus",function(e){var t=u["\u0275\u0275restoreView"](n).index,i=u["\u0275\u0275nextContext"](3);return i.onFocusInAutoComplete(e,t),i.autoItems.show(),i.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.accountcode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).onSelectAccount(e,t)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).GetAccount(e)})("onClear",function(){return t.$implicit.accountid=null}),u["\u0275\u0275pipe"](25,"translate"),u["\u0275\u0275template"](26,sd,2,2,"ng-template",130),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"td"),u["\u0275\u0275elementStart"](28,"input",204,205),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.notes=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"td",206),u["\u0275\u0275elementStart"](31,"a",207),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).DeleteExpenses(e)}),u["\u0275\u0275element"](32,"i",188),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275reference"](14);u["\u0275\u0275nextContext"](2);var a=u["\u0275\u0275reference"](3),c=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","expenseid",r,""),u["\u0275\u0275property"]("ngModel",i.expenseid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",i.expenseList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","expensecurrencyid",r,""),u["\u0275\u0275property"]("ngModel",i.currencyid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",c.CurrencyList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","ExpensesValue",r,""),u["\u0275\u0275property"]("ngModel",i.value),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","ExpensesExchangeRate",r,""),u["\u0275\u0275property"]("ngModel",i.exchangerate)("ngClass",u["\u0275\u0275pureFunction2"](35,ts,i.exchangerate<=0||o.invalid&&a.submitted,o.valid&&a.submitted))("min",1e-26)("disabled",i.currencyid==(null==c._BaseCurrency?null:c._BaseCurrency.id)||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",i.exchangerate<=0),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("id","Display_ExpensesLocalValue",r,""),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind2"](19,30,i.localvalue,c._Currencyprecision)," "),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("id","ExpensesLocalValue",r,""),u["\u0275\u0275propertyInterpolate1"]("name","ExpensesLocalValue",r,""),u["\u0275\u0275property"]("ngModel",i.localvalue)("Min",0),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","accountcode",r,""),u["\u0275\u0275property"]("ngModel",i.accountcode)("suggestions",c.AccountList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](25,33,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275propertyInterpolate1"]("name","ExpensesNotes",r,""),u["\u0275\u0275property"]("ngModel",i.notes)}}var pd=function(e){return{"table-for-autocomplete":e}};function md(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",104),u["\u0275\u0275elementStart"](1,"div",105),u["\u0275\u0275elementStart"](2,"div",189),u["\u0275\u0275elementStart"](3,"table",69),u["\u0275\u0275elementStart"](4,"thead"),u["\u0275\u0275elementStart"](5,"tr"),u["\u0275\u0275elementStart"](6,"th",70),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",70),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",70),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",70),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"th",70),u["\u0275\u0275text"](19),u["\u0275\u0275pipe"](20,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](21,"th",70),u["\u0275\u0275text"](22),u["\u0275\u0275pipe"](23,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"th",70),u["\u0275\u0275text"](25),u["\u0275\u0275pipe"](26,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"th",190),u["\u0275\u0275text"](28," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](29,"tbody"),u["\u0275\u0275template"](30,dd,33,38,"tr",180),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"tfoot"),u["\u0275\u0275elementStart"](32,"tr"),u["\u0275\u0275elementStart"](33,"td",70),u["\u0275\u0275text"](34,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](35,"td",70),u["\u0275\u0275text"](36,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](37,"td",70),u["\u0275\u0275text"](38,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](39,"td",70),u["\u0275\u0275text"](40),u["\u0275\u0275pipe"](41,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"td",191),u["\u0275\u0275element"](43,"input",192),u["\u0275\u0275pipe"](44,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](45,"td",70),u["\u0275\u0275text"](46,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](47,"td",70),u["\u0275\u0275text"](48,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](49,"td",190),u["\u0275\u0275text"](50," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](51,"button",116),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddExpenses()}),u["\u0275\u0275text"](52),u["\u0275\u0275pipe"](53,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction1"](34,pd,i.isType)),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,13,"expense")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,15,"Currency")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,17,"value")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](17,19,"ExchangeRate")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](20,21,"localval")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](23,23,"account")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](26,25,"Note")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngForOf",i._Receipt.receiptexpenses),u["\u0275\u0275advance"](10),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](41,27,"Total")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](44,29,i._Receipt.totalexpensses,i._Currencyprecision))("disabled",!0),u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](53,32,"Add")," ")}}function ud(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"Select"),u["\u0275\u0275elementEnd"]())}function hd(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1,"\u0623\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]())}function gd(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function _d(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function fd(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",96),u["\u0275\u0275template"](1,gd,2,1,"span",1),u["\u0275\u0275template"](2,_d,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}var Cd=function(e){return{"invalid-data":e}};function vd(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"select",193,211),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.employeeid=e})("change",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).changeHrEmployee(e)}),u["\u0275\u0275elementStart"](4,"option",145),u["\u0275\u0275template"](5,ud,2,0,"span",1),u["\u0275\u0275template"](6,hd,2,0,"span",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](7,fd,3,3,"option",182),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"td"),u["\u0275\u0275elementStart"](9,"input",212,213),u["\u0275\u0275listener"]("focusout",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).formatSpentHours(t,e.target.value)})("ngModelChange",function(e){return t.$implicit.timeString=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td"),u["\u0275\u0275elementStart"](12,"input",214,215),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeLaborersValue(e)}),u["\u0275\u0275pipe"](14,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"td"),u["\u0275\u0275elementStart"](16,"input",214,216),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeLaborersValue(e)}),u["\u0275\u0275pipe"](18,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"td"),u["\u0275\u0275elementStart"](20,"input",204,217),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.notes=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"td",206),u["\u0275\u0275elementStart"](23,"a",207),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).DeleteLaborers(e)}),u["\u0275\u0275element"](24,"i",188),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275reference"](10);u["\u0275\u0275nextContext"](2);var a=u["\u0275\u0275reference"](3),c=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","laboreremployeeid",r,""),u["\u0275\u0275property"]("ngModel",i.employeeid),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngValue",null),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==c.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",c.HRemployeesList),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("id","timeString",r,""),u["\u0275\u0275propertyInterpolate1"]("name","timeString",r,""),u["\u0275\u0275property"]("ngModel",i.timeString)("ngClass",u["\u0275\u0275pureFunction1"](24,Cd,o.invalid&&(o.dirty||o.touched)||o.invalid&&a.submitted||"00:00"==i.timeString&&a.submitted)),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","hourlywages",r,""),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](14,18,i.hourlywages,6))("disabled",!0),u["\u0275\u0275advance"](4),u["\u0275\u0275propertyInterpolate1"]("name","laborerValue",r,""),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](18,21,i.value,c._Currencyprecision))("disabled",!0),u["\u0275\u0275advance"](4),u["\u0275\u0275propertyInterpolate1"]("name","laborerNotes",r,""),u["\u0275\u0275property"]("ngModel",i.notes)}}function yd(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",104),u["\u0275\u0275elementStart"](1,"div",105),u["\u0275\u0275elementStart"](2,"div",189),u["\u0275\u0275elementStart"](3,"table",69),u["\u0275\u0275elementStart"](4,"thead"),u["\u0275\u0275elementStart"](5,"tr"),u["\u0275\u0275elementStart"](6,"th",70),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",70),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",70),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",70),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"th",70),u["\u0275\u0275text"](19),u["\u0275\u0275pipe"](20,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](21,"th",190),u["\u0275\u0275text"](22," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](23,"tbody"),u["\u0275\u0275template"](24,vd,25,26,"tr",180),u["\u0275\u0275elementStart"](25,"tr"),u["\u0275\u0275elementStart"](26,"td",190),u["\u0275\u0275text"](27," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"td",190),u["\u0275\u0275text"](29," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"td"),u["\u0275\u0275text"](31),u["\u0275\u0275pipe"](32,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"td",209),u["\u0275\u0275element"](34,"input",210),u["\u0275\u0275pipe"](35,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](36,"td",70),u["\u0275\u0275text"](37,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"td",190),u["\u0275\u0275text"](39," \xa0 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](40,"button",116),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddLaborers()}),u["\u0275\u0275text"](41),u["\u0275\u0275pipe"](42,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction1"](28,pd,i.isType)),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,11,"Empolyee")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,13,"NumberOfHours")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,15,"HourlyWages")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](17,17,"Total")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](20,19,"Note")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngForOf",i._Receipt.receiptlaborers),u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](32,21,"Total")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("readonly",!0)("ngModel",u["\u0275\u0275pipeBind2"](35,23,i._Receipt.totallaborers,i._Currencyprecision)),u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](42,26,"Add")," ")}}function bd(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",104),u["\u0275\u0275elementStart"](1,"div",105),u["\u0275\u0275elementStart"](2,"Signature",218),u["\u0275\u0275listener"]("signatureoutput",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("signature",i._Receipt.signature)}}function xd(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275element"](1,"Item-StoreQty",219,220),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function Md(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h6",233),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Sd(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h6",233),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function Pd(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",234),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function Rd(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function Od(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Id(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Ed(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",241),u["\u0275\u0275listener"]("change",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275nextContext"](),i=t.$implicit,r=t.index;return u["\u0275\u0275nextContext"](3).ChangeBatchQty(i,e.target.value,r)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](),r=i.index,o=i.$implicit;u["\u0275\u0275nextContext"]();var a=u["\u0275\u0275reference"](7);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),u["\u0275\u0275property"]("value",null==o?null:o.qty)("ngClass",u["\u0275\u0275pureFunction1"](3,Cd,null==(null==o?null:o.qty)&&a.submitted||(null==o?null:o.qty)<=0&&a.submitted))}}function wd(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",242),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.date=e}),u["\u0275\u0275pipe"](2,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](),r=i.index,o=i.$implicit;u["\u0275\u0275nextContext"]();var a=u["\u0275\u0275reference"](7);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","Expire_Date",r,""),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](2,4,null==o?null:o.date,"yyyy-MM-dd"))("ngClass",u["\u0275\u0275pureFunction1"](7,Cd,null==(null==o?null:o.date)&&a.submitted||""==(null==o?null:o.date)&&a.submitted))("disabled",(null==o?null:o.solidquantity)>0||null)}}function kd(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275element"](2,"input",235),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"td"),u["\u0275\u0275element"](4,"input",236),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](5,Ed,2,5,"td",1),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275element"](7,"input",237),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](8,wd,3,9,"td",1),u["\u0275\u0275elementStart"](9,"td"),u["\u0275\u0275elementStart"](10,"input",238),u["\u0275\u0275listener"]("change",function(e){var t=u["\u0275\u0275restoreView"](n),i=t.$implicit,r=t.index;return u["\u0275\u0275nextContext"](3).ChangeBatchNo(i,e.target.value,r)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td",185),u["\u0275\u0275elementStart"](12,"button",239),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return u["\u0275\u0275nextContext"](3).DeleteRow(t,i)}),u["\u0275\u0275element"](13,"i",240),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","Vaild",r,""),u["\u0275\u0275property"]("checked",null==i?null:i.valid),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","Serial",r,""),u["\u0275\u0275property"]("value",null==i?null:i.serial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==o.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","Store",r,""),u["\u0275\u0275propertyInterpolate"]("value","ar"!=o.lang?null==i?null:i.storename:null==i?null:i.storename_ar),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==o.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","BatchNo",r,""),u["\u0275\u0275property"]("value",null==i?null:i.batchno)("ngClass",u["\u0275\u0275pureFunction1"](13,Cd,null==i?null:i.isdublicatebatch))("disabled",(null==i?null:i.solidquantity)>0||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("disabled",(null==i?null:i.solidquantity)>0||null)}}function Bd(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",2),u["\u0275\u0275elementStart"](1,"button",243),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"button",244),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"button",245),u["\u0275\u0275text"](8),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,3,"SampleFile")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](6,5,"SelectExcleFile")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](9,7,"Upload")," "))}function Dd(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",221),u["\u0275\u0275template"](1,Md,3,3,"h6",222),u["\u0275\u0275template"](2,Sd,3,3,"h6",222),u["\u0275\u0275elementStart"](3,"button",223),u["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),u["\u0275\u0275elementStart"](4,"span",224),u["\u0275\u0275text"](5,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"form",4,5),u["\u0275\u0275listener"]("ngSubmit",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](7);return u["\u0275\u0275nextContext"](2).SubmitOk(e)}),u["\u0275\u0275elementStart"](8,"div",225),u["\u0275\u0275elementStart"](9,"div",226),u["\u0275\u0275elementStart"](10,"div",2),u["\u0275\u0275elementStart"](11,"form"),u["\u0275\u0275elementStart"](12,"div",227),u["\u0275\u0275elementStart"](13,"table",69),u["\u0275\u0275elementStart"](14,"thead"),u["\u0275\u0275elementStart"](15,"tr"),u["\u0275\u0275elementStart"](16,"th"),u["\u0275\u0275text"](17),u["\u0275\u0275pipe"](18,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"th",228),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](22,Pd,3,3,"th",229),u["\u0275\u0275elementStart"](23,"th",230),u["\u0275\u0275text"](24),u["\u0275\u0275pipe"](25,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](26,Rd,3,3,"th",1),u["\u0275\u0275template"](27,Od,3,3,"th",1),u["\u0275\u0275template"](28,Id,3,3,"th",1),u["\u0275\u0275element"](29,"th"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"tbody"),u["\u0275\u0275template"](31,kd,14,15,"tr",115),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](32,Bd,10,9,"div",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"div",231),u["\u0275\u0275elementStart"](34,"button",232),u["\u0275\u0275text"](35),u["\u0275\u0275pipe"](36,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](15),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](18,13,"Valid")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,15,"Serial")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](25,17,"Store")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",i._Receipt.details[i.SelectedRowIndex].batcheslist)("ngForTrackBy",i.trackByFn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](36,19,"Cancel")," ")}}function Fd(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h6",233),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Ld(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h6",233),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function qd(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function Vd(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Nd(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Td(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",234),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function Ud(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",234),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function Ad(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"date"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind2"](2,1,null==n?null:n.expire_date,"yyyy-MM-dd")," ")}}function Gd(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",250),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}function $d(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",248),u["\u0275\u0275listener"]("change",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"](3).ChangeBatchQtyInItemComponent(t,e.target.value)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](2,Gd,3,3,"span",249),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](),r=i.index,o=i.$implicit;u["\u0275\u0275nextContext"]();var a=u["\u0275\u0275reference"](7);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),u["\u0275\u0275property"]("value",null==o?null:o.qty)("ngClass",u["\u0275\u0275pureFunction1"](4,Cd,(null==o?null:o.qty)>(null==o?null:o.availableqty)+(null==o?null:o.oldqty)&&a.submitted)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==o?null:o.qty)>(null==o?null:o.availableqty)+(null==o?null:o.oldqty)&&a.submitted)}}function zd(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275element"](2,"input",247),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"td"),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](5,Ad,3,4,"td",1),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275text"](7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"td"),u["\u0275\u0275text"](9),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](10,$d,3,6,"td",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","Vaild",i,""),u["\u0275\u0275property"]("checked",null==n?null:n.valid),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ","ar"!=r.lang?null==n?null:n.name:null==n?null:n.name_ar," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==r.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.serial," "),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.availableqty),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==r.requiredserial)}}function jd(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",221),u["\u0275\u0275template"](1,Fd,3,3,"h6",222),u["\u0275\u0275template"](2,Ld,3,3,"h6",222),u["\u0275\u0275elementStart"](3,"button",223),u["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),u["\u0275\u0275elementStart"](4,"span",224),u["\u0275\u0275text"](5,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"form",4,5),u["\u0275\u0275listener"]("ngSubmit",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](7);return u["\u0275\u0275nextContext"](2).saveserial(e)}),u["\u0275\u0275elementStart"](8,"div",225),u["\u0275\u0275elementStart"](9,"div",226),u["\u0275\u0275elementStart"](10,"div",2),u["\u0275\u0275elementStart"](11,"form"),u["\u0275\u0275elementStart"](12,"div",227),u["\u0275\u0275elementStart"](13,"h6",233),u["\u0275\u0275text"](14),u["\u0275\u0275pipe"](15,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"table",69),u["\u0275\u0275elementStart"](17,"thead"),u["\u0275\u0275elementStart"](18,"tr"),u["\u0275\u0275elementStart"](19,"th"),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"th",230),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](25,qd,3,3,"th",1),u["\u0275\u0275template"](26,Vd,3,3,"th",1),u["\u0275\u0275template"](27,Nd,3,3,"th",1),u["\u0275\u0275template"](28,Td,3,3,"th",229),u["\u0275\u0275template"](29,Ud,3,3,"th",229),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"tbody"),u["\u0275\u0275template"](31,zd,11,7,"tr",115),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](32,"div",231),u["\u0275\u0275elementStart"](33,"button",246),u["\u0275\u0275text"](34),u["\u0275\u0275pipe"](35,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](12),u["\u0275\u0275textInterpolate2"](" ",u["\u0275\u0275pipeBind1"](15,14,"qty")," : ",i._batchqty," "),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,16,"Choose")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](24,18,"Store")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",i.BatchesListForEatchRow)("ngForTrackBy",i.trackByFn),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](35,20,"save")," ")}}function Qd(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"section"),u["\u0275\u0275elementStart"](2,"form",4,5),u["\u0275\u0275listener"]("ngSubmit",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](3);return u["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),u["\u0275\u0275elementStart"](4,"div",6),u["\u0275\u0275elementStart"](5,"div",7),u["\u0275\u0275elementStart"](6,"div",8),u["\u0275\u0275elementStart"](7,"div",9),u["\u0275\u0275elementStart"](8,"h6",10),u["\u0275\u0275text"](9),u["\u0275\u0275pipe"](10,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"div",2),u["\u0275\u0275elementStart"](12,"div",11),u["\u0275\u0275elementStart"](13,"button",12),u["\u0275\u0275text"](14),u["\u0275\u0275pipe"](15,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"button",13),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CreateNewAction()}),u["\u0275\u0275text"](17),u["\u0275\u0275pipe"](18,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](19,bl,3,4,"button",14),u["\u0275\u0275template"](20,xl,3,4,"button",15),u["\u0275\u0275elementStart"](21,"button",16),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().BackAction()}),u["\u0275\u0275text"](22),u["\u0275\u0275pipe"](23,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"div",17),u["\u0275\u0275elementStart"](25,"button",18),u["\u0275\u0275text"](26),u["\u0275\u0275pipe"](27,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"div",19),u["\u0275\u0275template"](29,Rl,13,15,"ng-container",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"div",2),u["\u0275\u0275elementStart"](31,"div",20),u["\u0275\u0275elementStart"](32,"div",21),u["\u0275\u0275elementStart"](33,"label",22),u["\u0275\u0275text"](34),u["\u0275\u0275pipe"](35,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](36,"span",23),u["\u0275\u0275text"](37,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"select",24,25),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().changeBranch(e)}),u["\u0275\u0275template"](40,Ol,2,0,"option",26),u["\u0275\u0275template"](41,Il,2,0,"option",26),u["\u0275\u0275template"](42,kl,3,3,"option",27),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](43,"div",28),u["\u0275\u0275elementStart"](44,"div",21),u["\u0275\u0275elementStart"](45,"label",29),u["\u0275\u0275text"](46),u["\u0275\u0275pipe"](47,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](48,"span",23),u["\u0275\u0275text"](49,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](50,"input",30,31),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](52,"div",2),u["\u0275\u0275elementStart"](53,"div",28),u["\u0275\u0275elementStart"](54,"div",21),u["\u0275\u0275elementStart"](55,"label",32),u["\u0275\u0275text"](56),u["\u0275\u0275pipe"](57,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](58,"p-autoComplete",33,34),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](59);return u["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(e)})("onClear",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onClearCustomer(e)}),u["\u0275\u0275pipe"](60,"translate"),u["\u0275\u0275template"](61,Fl,2,2,"ng-template",35),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](62,"div",28),u["\u0275\u0275elementStart"](63,"div",21),u["\u0275\u0275elementStart"](64,"label",36),u["\u0275\u0275text"](65),u["\u0275\u0275pipe"](66,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](67,"input",37,38),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](69,"div",28),u["\u0275\u0275elementStart"](70,"div",21),u["\u0275\u0275elementStart"](71,"label",39),u["\u0275\u0275text"](72),u["\u0275\u0275pipe"](73,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](74,"input",40,41),u["\u0275\u0275listener"]("ngModelChange",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),u["\u0275\u0275pipe"](76,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](77,"div",28),u["\u0275\u0275elementStart"](78,"div",21),u["\u0275\u0275elementStart"](79,"label",42),u["\u0275\u0275text"](80),u["\u0275\u0275pipe"](81,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](82,"input",43,44),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](84,"div",2),u["\u0275\u0275elementStart"](85,"div",28),u["\u0275\u0275elementStart"](86,"div",21),u["\u0275\u0275elementStart"](87,"label",45),u["\u0275\u0275text"](88),u["\u0275\u0275pipe"](89,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](90,"input",46,47),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](92,"div",28),u["\u0275\u0275elementStart"](93,"div",21),u["\u0275\u0275elementStart"](94,"label",48),u["\u0275\u0275text"](95),u["\u0275\u0275pipe"](96,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](97,"input",49,50),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.memo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](99,"div",28),u["\u0275\u0275elementStart"](100,"div",21),u["\u0275\u0275elementStart"](101,"label",51),u["\u0275\u0275text"](102),u["\u0275\u0275pipe"](103,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](104,"input",52,53),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.expensesdistributionvoucherno=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](106,"div",2),u["\u0275\u0275elementStart"](107,"div",28),u["\u0275\u0275elementStart"](108,"div",21),u["\u0275\u0275elementStart"](109,"label",32),u["\u0275\u0275text"](110),u["\u0275\u0275pipe"](111,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](112,"p-autoComplete",54,55),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](113);return u["\u0275\u0275nextContext"]().onFocusInBatchOrder(e),t.show()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.batchorder_no=e})("onSelect",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().BatchOrderSelectEvent(e)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().BatchOrderChangeSearch(e)})("onClear",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onClearBatchOrder(e)}),u["\u0275\u0275pipe"](114,"translate"),u["\u0275\u0275template"](115,Ll,2,1,"ng-template",56),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](116,ql,18,13,"div",57),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](117,"div",58),u["\u0275\u0275elementStart"](118,"div",2),u["\u0275\u0275elementStart"](119,"div",59),u["\u0275\u0275elementStart"](120,"ul",60,61),u["\u0275\u0275listener"]("activeIdChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().activeNav=e}),u["\u0275\u0275elementStart"](122,"li",62),u["\u0275\u0275elementStart"](123,"a",63),u["\u0275\u0275text"](124),u["\u0275\u0275pipe"](125,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](126,Ns,73,63,"ng-template",64),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](127,"li",65),u["\u0275\u0275elementStart"](128,"a",63),u["\u0275\u0275text"](129),u["\u0275\u0275pipe"](130,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](131,Zs,22,13,"ng-template",64),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](132,"li",62),u["\u0275\u0275elementStart"](133,"a",63),u["\u0275\u0275text"](134),u["\u0275\u0275pipe"](135,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](136,md,54,36,"ng-template",64),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](137,"li",62),u["\u0275\u0275elementStart"](138,"a",63),u["\u0275\u0275text"](139),u["\u0275\u0275pipe"](140,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](141,yd,43,30,"ng-template",64),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](142,"li",65),u["\u0275\u0275elementStart"](143,"a",63),u["\u0275\u0275text"](144),u["\u0275\u0275pipe"](145,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](146,bd,3,1,"ng-template",64),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](147,"div",66),u["\u0275\u0275elementStart"](148,"div",2),u["\u0275\u0275elementStart"](149,"div",67),u["\u0275\u0275elementStart"](150,"div",68),u["\u0275\u0275elementStart"](151,"table",69),u["\u0275\u0275elementStart"](152,"thead"),u["\u0275\u0275elementStart"](153,"tr"),u["\u0275\u0275element"](154,"th",70),u["\u0275\u0275elementStart"](155,"th",71),u["\u0275\u0275text"](156),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](157,"th",70),u["\u0275\u0275text"](158),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](159,"tbody"),u["\u0275\u0275elementStart"](160,"tr"),u["\u0275\u0275elementStart"](161,"td"),u["\u0275\u0275text"](162),u["\u0275\u0275pipe"](163,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](164,"td",72),u["\u0275\u0275elementStart"](165,"input",73),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](166,"td"),u["\u0275\u0275elementStart"](167,"input",74),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.netvalue=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](168,"tr"),u["\u0275\u0275elementStart"](169,"td"),u["\u0275\u0275text"](170),u["\u0275\u0275pipe"](171,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](172,"td",72),u["\u0275\u0275elementStart"](173,"input",75),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.totalproductioncostforeign=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](174,"td"),u["\u0275\u0275elementStart"](175,"input",76),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.totalproductioncost=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](176,"tr"),u["\u0275\u0275elementStart"](177,"td"),u["\u0275\u0275text"](178),u["\u0275\u0275pipe"](179,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](180,"td",72),u["\u0275\u0275elementStart"](181,"input",77),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.totalvouchercostforeign=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](182,"td"),u["\u0275\u0275elementStart"](183,"input",78),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.totalvouchercost=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](184,"tr"),u["\u0275\u0275elementStart"](185,"td"),u["\u0275\u0275text"](186),u["\u0275\u0275pipe"](187,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](188,"td",72),u["\u0275\u0275element"](189,"input",79),u["\u0275\u0275pipe"](190,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](191,"td"),u["\u0275\u0275element"](192,"input",80),u["\u0275\u0275pipe"](193,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](194,"tr"),u["\u0275\u0275elementStart"](195,"td"),u["\u0275\u0275text"](196),u["\u0275\u0275pipe"](197,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](198,"td",72),u["\u0275\u0275element"](199,"input",81),u["\u0275\u0275pipe"](200,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](201,"td"),u["\u0275\u0275element"](202,"input",82),u["\u0275\u0275pipe"](203,"numberFormat"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](204,"tr"),u["\u0275\u0275elementStart"](205,"td"),u["\u0275\u0275text"](206),u["\u0275\u0275pipe"](207,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](208,"td",72),u["\u0275\u0275elementStart"](209,"input",83),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.allvouchercost_foreign=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](210,"td"),u["\u0275\u0275elementStart"](211,"input",84),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.allvouchercost=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](212,"div",85),u["\u0275\u0275template"](213,xd,3,1,"div",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](214,"div"),u["\u0275\u0275template"](215,Dd,37,21,"ng-template",null,86,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](217,jd,36,22,"ng-template",null,87,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementStart"](219,"ngx-spinner",88),u["\u0275\u0275elementStart"](220,"p",89),u["\u0275\u0275text"](221,"Loading..."),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](3),r=u["\u0275\u0275reference"](39),o=u["\u0275\u0275reference"](51),a=u["\u0275\u0275reference"](75),c=u["\u0275\u0275reference"](121),l=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](10,110,"productionvoucher"),""),u["\u0275\u0275advance"](4),u["\u0275\u0275attribute"]("disabled",l.VouchersLinkedCount>0||null!=l._Receipt.expensesdistributionvoucherno||1==l.ShowModeReceipt||1==l.DuringSaveDisable||l.ReceiptID>0&&!l.checkRoleParms(628)||0==l.ReceiptID&&!l.checkRoleParms(367)||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](15,112,"Save")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275attribute"]("disabled",!l.checkRoleParms(367)||1==l.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](18,114,"CreateNew")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",l.ReceiptID>0&&0==l.VouchersLinkedCount),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",l.ReceiptID>0),u["\u0275\u0275advance"](1),u["\u0275\u0275attribute"]("disabled",1==l.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](23,116,"Exit")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](27,118,"Action Menu")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",l.ReceiptID>0),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](35,120,"Branch")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",l._Receipt.branch_id)("ngClass",u["\u0275\u0275pureFunction2"](181,ts,r.invalid&&i.submitted,r.valid&&i.submitted)),u["\u0275\u0275attribute"]("disabled",l.ReceiptID>0||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=l.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==l.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",l.BranchList)("ngForTrackBy",l.customTrackBy),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](47,122,"Entry#")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("stepallow",1)("ngModel",l._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==l.LockedRecepit)("ngClass",u["\u0275\u0275pureFunction2"](184,ts,o.invalid&&i.submitted,o.valid&&i.submitted)),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](57,124,"Customer#")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.cashcustomer_vendor_code)("suggestions",l.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](60,126,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](66,128,"CustomerName")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.cashcustomer_vendor_name)("readonly",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](73,130,"Date")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](76,132,l._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==(l.ReceiptID>0&&!l.checkRoleParms(628))||null!=l._Receipt.expensesdistributionvoucherno||1==l.LockedRecepit)("ngClass",u["\u0275\u0275pureFunction2"](187,ts,a.invalid&&i.submitted||0==l.ValidPeriod,a.valid&&i.submitted)),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](81,135,"time")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==(l.ReceiptID>0&&!l.checkRoleParms(628))||null!=l._Receipt.expensesdistributionvoucherno||1==l.LockedRecepit)("ngModel",l._Receipt.entry_time),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](89,137,"ReferenceNo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.reference_no),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](96,139,"Memo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.memo),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](103,141,"ExpensesDistributionVoucherNo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.expensesdistributionvoucherno)("readonly",!0),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](111,143,"WorkOrder")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.batchorder_no)("suggestions",l.BatchOrderList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](114,145,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",null!=l._Receipt.batchorder_id),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("destroyOnHide",!1)("activeId",l.activeNav),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngbNavItem",1),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](125,147,"Items")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavItem",2),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](130,149,"LinkedReceipt")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavItem",3),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](135,151,"AdditionalExpenses")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavItem",4),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](140,153,"Laborers")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavItem",5),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](145,155,"Signature")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavOutlet",c),u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("Total - ",null==l._CurrencySelected?null:l._CurrencySelected.currencysymbol,""),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("Total - ",null==l._BaseCurrency?null:l._BaseCurrency.currencysymbol,""),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](163,157,"TotalMaterialCost")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",l._Receipt.netvalueforeign)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.netvalue)("readonly",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](171,159,"TotalIndirectExpensesCost")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",l._Receipt.totalproductioncostforeign)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.totalproductioncost)("readonly",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](179,161,"TotalInitialCost")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",l._Receipt.totalvouchercostforeign)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.totalvouchercost)("readonly",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](187,163,"TotalAdditionalExpenseCost")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](190,165,l._Receipt.totalexpensses_foreign,l._Currencyprecision))("readonly",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](193,168,l._Receipt.totalexpensses,l._Currencyprecision))("readonly",!0),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](197,171,"TotalLaborCost")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](200,173,l._Receipt.totallaborers_foreign,l._Currencyprecision))("readonly",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](203,176,l._Receipt.totallaborers,l._Currencyprecision))("readonly",!0),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](207,179,"TotalVoucherCost")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",l._Receipt.allvouchercost_foreign)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.allvouchercost)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",l.itemqtyview),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("fullScreen",!0)}}var Wd=function(){return[366,367,368,628]},Jd=function(){var e=function(){function e(t,n,i,r,o,a,l,s,d,p,m,u,h,g,_,f,C,v,y,b){var x=this;c(this,e),this._cashsalesService=t,this._CustomerService=n,this._ReceiptSharedService=i,this._VoucherService=r,this._employeeService=o,this.cd=a,this.toastr=l,this._router=s,this._generalService=d,this.translate=p,this._translateGlobalService=m,this._activeRoute=u,this.spinner=h,this._authService=g,this._printService=_,this._VerifyReportsService=f,this.datepipe=C,this.location=v,this._ProductionService=y,this.modalService=b,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.BasicCodeReceipt=82,this.Transaction_move=0,this._Receipt=new R.tY,this._ReceiptOriginal=new R.tY,this._Receipt_h_Edit=new R.Iu,this._ProductionDetailsReceipt=new R.hm,this.ItemsComponentList=new Array,this._LinkedReceipt=new R.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_component=!1,this.BranchList=[],this.CustomerAccountsList=[],this.ReceiptCodeList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemOrginalUnitsList=[],this.ItemComponentUnitsList=[],this.reporturl="",this.reportdomainUrl=it.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.linkedreceiptid=0,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.LinkedVoucherIsPostedMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.NegativeBalancesMsg="",this.qtyZeroErrorSaveMsg="",this.NOComponents="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopInventoryErrorMsg="",this.RelatedwithSerialsOrBatches="",this.ItemSelectedBefor="",this.componentItselfMsg="",this.QtyNotsufficient="",this.ComponentQtyZeroError="",this.NoComponentInItem="",this.InvalidPatchDate="",this.InValidQty="",this.InValidNumberOfBatch="",this.DublicateBatchMassage="",this.InValidQtyForBatch="",this.QtyIsValidWithAvailableQty="",this.InValidDateWithPatchesDates="",this.usedSerialsExists=0,this.expenseList=[],this.HRemployeesList=[],this._ReceiptExpenses=new R.th,this.expensesAccountid=0,this.accountcode="",this.disablerate=!0,this.AccountList=[],this.TotalExpensses=0,this.EmpAddedPreviously="",this.TotalLaborers=0,this._ReceiptLaborers=new R.NM,this.timeout=null,this.BatchOrderList=[],this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],this.itemqtyview=!1,this._itemstoreqtyobj=new R.I$,this._totalcost=0,this.BatchesAndSeialsList=[],this.ProductionPlan=[],this.ItemsComponentsProductionPlan=[],this.requiredserial=2,this.SelectedRowIndex=0,this.RowItem=null,this.selectedindex=0,this._batchqty=0,this.BatchesListForEatchRow=[],u.params.subscribe(function(e){x.ReceiptID=e.id,x.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,x.LockedRecepit=x.ShowModeReceipt,x.ProdPlansID=e.prodplansid,x.BatchOrderID=e.linkedreceiptid,console.log(x.BatchOrderID),x.subsidiaryID=x._generalService.SubsidiaryID,x.subsidiaryID>0&&x.SetInitialMethods(),x._UserLogin=x._authService.userInfo()}),this.ngUnsubscribe=d.proadCastSubsidiaryID.subscribe(function(e){0==x.subsidiaryID&&(x.subsidiaryID=x._generalService.SubsidiaryID,x.SetInitialMethods()),x.subsidiaryID!=x._generalService.SubsidiaryID&&x.subsidiaryID>0&&(x.subsidiaryID=x._generalService.SubsidiaryID,x._router.navigate(["/page/production/productionvoucher/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){x.lang=e.lang,x.dir=e.dir,x.translate.use(e.lang),x.ngTransUnsubscribe=x.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","FinancialPeriodMsg","CloseFinancialPeriodMsg","Close","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","productionvoucher",,"No","swalNewActionTitle","swalNewActionText","NOComponents","StopInventoryErrorMsg","CostPostingPeriodMessage","LinkedVoucherIsPostedMsg","RelatedwithSerialsOrBatches","ItemSelectedBefor","componentItselfMsg","NegativeBalancesMsg","QtyNotsufficient","ComponentQtyZeroError","NoComponentInItem","InValidQty","InValidNumberOfBatch","DublicateBatchMassage","InvalidPatchDate","InValidQtyForBatch","QtyIsValidWithAvailableQty","InValidDateWithPatchesDates","EmpAddedPreviously"]).subscribe(function(e){document.title=e.productionvoucher,x.Cancel=e.Cancel,x.swalTitleEntry=e.swalTitleEntryno,x.swalTextEntry=e.swalEntrynoText,x.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,x.WarningInfoLost=e.WarningInfoLost,x.warning=e.warning,x.Yes=e.Yes,x.No=e.No,x.NOComponents=e.NOComponents,x.ItemSelectedBefor=e.ItemSelectedBefor,x.swalNewActionTitle=e.swalNewActionTitle,x.swalNewActionText=e.swalNewActionText,x.mailmsg=e.mailmsg,x.swalDeleteTitle=e.swalDeleteTitle,x.swalDetlateText=e.swalDetlateText,x.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,x.DeleteRelationmsg=e.DeleteRelationmsg,x.toastrSuccessDelete=e.successMsg,x.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,x.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,x.ReceiptNotFound=e.ReceiptNotFound,x.CustomerPricelistMsg=e.CustomerPricelistMsg,x.Receiptnoitems=e.Receiptnoitems,x.NoUnits=e.NoUnits,x.FinancialPeriodMsg=e.FinancialPeriodMsg,x.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,x.Close=e.Close,x.qtyErrorMsg=e.qtyErrorMsg,x.qtyErrorSaveMsg=e.qtyErrorSaveMsg,x.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,x.SaveMsg=e.SaveMsg,x.StopInventoryErrorMsg=e.StopInventoryErrorMsg,x.CostPostingPeriodMessage=e.CostPostingPeriodMessage,x.LinkedVoucherIsPostedMsg=e.LinkedVoucherIsPostedMsg,x.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,x.componentItselfMsg=e.componentItselfMsg,x.QtyNotsufficient=e.QtyNotsufficient,x.ComponentQtyZeroError=e.ComponentQtyZeroError,x.NoComponentInItem=e.NoComponentInItem,x.NegativeBalancesMsg=e.NegativeBalancesMsg,x.InValidQty=e.InValidQty,x.InValidNumberOfBatch=e.InValidNumberOfBatch,x.InValidNumberOfBatch=e.InValidNumberOfBatch,x.DublicateBatchMassage=e.DublicateBatchMassage,x.InvalidPatchDate=e.InvalidPatchDate,x.InValidQtyForBatch=e.InValidQtyForBatch,x.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,x.InValidDateWithPatchesDates=e.InValidDateWithPatchesDates,x.EmpAddedPreviously=e.EmpAddedPreviously})})}return a(e,[{key:"SetInitialMethods",value:function(){this._Receipt=new R.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetCurrencyList(),this.GetexpenseList(),this.GetHrEmployeesList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Xe.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],o=i[1];e.ReceiptCodeList=r,e.InventorySetting=o;var a=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=a.items,e.GetReceipt()})}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,this._Receipt.id=this.ReceiptID,0==this.ReceiptID){this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&(this._Receipt.branch_id="null"==n.branchId||0==n.branchId?null:n.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt))},1e3)}else this._ProductionService.GetReceiptProductionAndDetailsByID(this.ReceiptID).subscribe(function(n){var i;if(null!=n.receipt){e.VouchersLinkedCount=n.voucherslinkedcount.voucherslinkedcount,e.usedSerialsExists=n.usedserials?n.usedserials.length:0,e._Receipt.id=n.receipt.id,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=n.receipt.code,e._Receipt.entry_no=n.receipt.entry_no,e._Receipt.branch_id=n.receipt.branch_id,e._Receipt.transaction_code=n.receipt.transaction_code,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,e._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname,e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.classid=n.receipt.classid,e._Receipt.locationid=n.receipt.locationid,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.totalexpensses=n.receipt.totalexpensses,e._Receipt.totalexpensses_foreign=n.receipt.totalexpensses_foreign,e._Receipt.totallaborers=n.receipt.totallaborers,e._Receipt.totallaborers_foreign=n.receipt.totallaborers_foreign,e._Receipt.batchorder_id=n.receipt.batchorder_id,e._Receipt.batchorder_no={entry_no:n.receipt.batchorder_no},e._Receipt.fromcomp_transfer=n.receipt.fromcomp_transfer||1,e._Receipt.allvouchercost=n.receipt.allvouchercost||0,e._Receipt.allvouchercost_foreign=n.receipt.allvouchercost_foreign||0,e._Receipt.details=n.items,e._Receipt.itemscomponent=n.itemcomponents,e.ItemUnitsList=n.itemunits,e.ItemOrginalUnitsList=n.itemunits,e.ItemComponentUnitsList=n.componentsunits,e._Receipt.linkedreceipts=n.linkedreceipts,e._Receipt.receiptexpenses=n.receiptexpenses,e._Receipt.receiptexpenses.forEach(function(t){t.accountcode={accountcode:t.accountcode},t.exchangerate=Number(t.exchangerate.toPrecision()),e.addItemIfNotInList(t)}),e._Receipt.receiptlaborers=n.receiptlaborers,e._Receipt.receiptlaborers.forEach(function(t){t.timeString=e.formatMinutesToHoursMinutes(t.numberofhours)});for(var r=function(t){var n=e._Receipt.details.find(function(n){return n.id==e._Receipt.itemscomponent[t].finishedreceipt_did});e._Receipt.itemscomponent[t].storecode={code:e._Receipt.itemscomponent[t].storecode},e._Receipt.itemscomponent[t].itemcode={code:e._Receipt.itemscomponent[t].itemcode},e._Receipt.itemscomponent[t].parentrowno=n.rowno,2!=e._Receipt.itemscomponent[t].item_type&&(e._Receipt.itemscomponent[t].price=Number((Number(e._Receipt.itemscomponent[t].avgcost)*Number(e._Receipt.itemscomponent[t].final_conv)).toFixed(6))),e._Receipt.itemscomponent[t].total=Number((e._Receipt.itemscomponent[t].price*e._Receipt.itemscomponent[t].qty).toFixed(6)),e._Receipt.itemscomponent[t].qtydiff=e._Receipt.itemscomponent[t].qty-e._Receipt.itemscomponent[t].defaultitemqty,e._Receipt.itemscomponent[t].allowqtyselectforitem=!0,e._Receipt.itemscomponent[t].basicqtycomponent=e._Receipt.itemscomponent[t].defaultitemqty/n.qty},o=0;o<e._Receipt.itemscomponent.length;o++)r(o);for(var a=function(t){e._Receipt.details[t].storecode={code:e._Receipt.details[t].storecode},e._Receipt.details[t].itemcode={code:e._Receipt.details[t].itemcode},e._Receipt.details[t].indirectexpensesunit=e._Receipt.details[t].productionunitexpense,e._Receipt.details[t].total=Number((e._Receipt.details[t].price*e._Receipt.details[t].qty).toFixed(6));var r=0,o=0;e._Receipt.itemscomponent.filter(function(n){return n.parentrowno==e._Receipt.details[t].rowno}).forEach(function(e){r+=e.total,o+=e.basicqtycomponent*e.price}),e._Receipt.details[t].defaultitemcost=Number(o.toFixed(6)),e._Receipt.details[t].price=Number(r.toFixed(6)),e._Receipt.details[t].costdiff=Number((Number(e._Receipt.details[t].price/e._Receipt.details[t].qty)-Number(e._Receipt.details[t].defaultitemcost)).toFixed(6)),e._Receipt.details[t].allowqtyselectforitem=!0;var a=null===(i=n.usedserials)||void 0===i?void 0:i.findIndex(function(n){return n.itemid==e._Receipt.details[t].item_id});e._Receipt.details[t].isUsedSerialsExists=-1!=a},c=0;c<e._Receipt.details.length;c++)a(c);var l,s=0,d=0,p=0,m=0;e._Receipt.details.forEach(function(e){s+=e.price,d+=e.productionqtyexpense}),l=e._Receipt.totalexpensses+e._Receipt.totallaborers,m=(p=s+d)+l,e._Receipt.netvalue=Number(s.toFixed(6)),e._Receipt.netvalueforeign=Number(s.toFixed(6)),e._Receipt.value=e._Receipt.netvalue,e._Receipt.valueforeign=e._Receipt.netvalueforeign,e._Receipt.totalproductioncost=Number(d.toFixed(6)),e._Receipt.totalproductioncostforeign=Number(d.toFixed(6)),e._Receipt.totalvouchercost=Number(p.toFixed(6)),e._Receipt.totalvouchercostforeign=Number(p.toFixed(6)),e._Receipt.allvouchercost=Number(m.toFixed(6)),e._Receipt.allvouchercost_foreign=Number(m.toFixed(6)),e._Receipt.details.forEach(function(e){e.additionalexpensesandlabors=Number((l*(e.price/s)).toFixed(6))}),e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batchesinitems.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),e._Receipt.itemscomponent.map(function(e){e.batcheslist=new Array;var i=n.batchesinitemscomponent.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),e.entry_no=e._Receipt.entry_no,e.VouchersLinkedCount>0?(e.ShowModeReceipt=!0,e.ShowPopUpLinkedVoucherIsPosted()):null!=e._Receipt.expensesdistributionvoucherno?e.ShowModeReceipt=!0:1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,e.OnSelectedItem(e._Receipt.details[0],0,"selected"),e.cd.markForCheck()}})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)Ke().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemComponentUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t,e.cd.markForCheck()})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeCurrency",value:function(e){var t,n=this;(this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Ke().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/production/productionvoucher/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t&&e.ChangeEntryDate()},1e3*n)}},{key:"ChangeEntryDate",value:function(){this.checkDateISValidWithPatchesDates()||this.toastr.warning(this.InValidDateWithPatchesDates),null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date?this.CheckValidDateBySubsidaryID():(this.DuringSaveDisable=!1,this.cd.markForCheck())}},{key:"checkDateISValidWithPatchesDates",value:function(){var e=new Date(this._Receipt.entry_date+" "+this._Receipt.entry_time),t=!0;return this._Receipt.details.map(function(n){if(3==n.isrequireserial&&n.batcheslist.some(function(t){return e>new Date(t.date)}))return t=!1}),this._Receipt.itemscomponent.map(function(n){if(3==n.isrequireserial&&n.batcheslist.some(function(t){return e>new Date(t.date)}))return t=!1}),t}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.cd.markForCheck(),e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod();e.cd.markForCheck()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Ke().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Ke().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpLinkedVoucherIsPosted",value:function(){Ke().fire({title:this.warning,text:this.LinkedVoucherIsPostedMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];1==n&&this.Calculate_Total_Cost(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(n){if(e.StoreCostCenterSetting=n.length>0?n[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.ProdPlansID&&null!=e.ProdPlansID&&""!=e.ProdPlansID.trim()&&0!=e.ProdPlansID&&e.GetFinishProductFromProductionPlan(),null!=e.BatchOrderID&&null!=e.BatchOrderID&&""!=e.BatchOrderID.trim()&&0!=e.BatchOrderID&&e.GetBatchOrders(),null!=e.StoreCostCenterSetting.storeid){if(0==e._Receipt.details.length){e._ProductionDetailsReceipt=new R.hm,e._ProductionDetailsReceipt.transaction_move=1;var i=Math.max.apply(Math,t(e._Receipt.details.map(function(e){return e.rowno})).concat([0]));e._ProductionDetailsReceipt.rowno=i+1,e._Receipt.details.push(e._ProductionDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}}e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e._Receipt.itemscomponent.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForAllItemsComponentInStore(0))}e.cd.markForCheck()})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.CustomerAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"onClearCustomer",value:function(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_id=null}},{key:"onFocusInBatchOrder",value:function(e){this.GetBatchOrderList("")}},{key:"BatchOrderChangeSearch",value:function(e){this.GetBatchOrderList(e.query.trim())}},{key:"GetBatchOrderList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ProductionService.GetBatchOrderBySub(this.subsidiaryID,this._Receipt.branch_id,t).subscribe(function(t){e.BatchOrderList=[],e.BatchOrderList=t,e.cd.markForCheck()})}},{key:"BatchOrderSelectEvent",value:function(e){this._Receipt.batchorder_id=e.id,null!=e.id&&null!=e.accountid&&(this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_code={code:e.vendorcode},this._Receipt.cashcustomer_vendor_name="ar"==this.lang?e.vendorname_ar:e.vendorname)}},{key:"onClearBatchOrder",value:function(e){this._Receipt.batchorder_id=null,this._Receipt.fromcomp_transfer=1}},{key:"ChangeFromComponentsTransfers",value:function(e){}},{key:"AddItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=new R.hm;if(this._Receipt.details.length>0?(n.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,n.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id?(n.store_id=this.StoreCostCenterSetting.storeid,n.storecode={code:this.StoreCostCenterSetting.storecode}):(n.store_id=this._ReceiptOriginal.details[0].store_id,n.storecode=this._ReceiptOriginal.details[0].storecode),1==e){n.transaction_move=1;var i=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));n.rowno=i+1,this._Receipt.details.push(n)}else{n.transaction_move=-1,n.updatefromproc=1;var r=Math.max.apply(Math,t(this._Receipt.itemscomponent.map(function(e){return e.rowno})).concat([0]));n.rowno=r+1,n.parentrowno=this.SelectedItem.rowno,this._Receipt.itemscomponent.push(n),this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent))}this.cd.markForCheck()}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e}),this.CheckBalanceForAllItemsComponentInStore(0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,console.log(e.StoreList,"  this.StoreList"),e.cd.markForCheck()})}},{key:"onFocusInStoreComponent",value:function(e){this.GetStoreList("")}},{key:"StoreComponentSelectEvent",value:function(e){this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e,console.log(t)}),this.cd.markForCheck(),this.CheckBalanceForAllItemsComponentInStore(0)}},{key:"onClearStoreComponent",value:function(e){var t;t=this._Receipt.itemscomponent.findIndex(null==e.id?function(t){return t.rowno==e.rowno}:function(t){return t.id==e.id}),this._Receipt.itemscomponent[t].store_id=null,this._Receipt.itemscomponent[t].storecode=null}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ProductionService.GetItemsDataListProduction(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?0==this._Receipt.details.filter(function(t){return t.item_id==e.id}).length?(t==this._Receipt.details.length-1&&this.AddItems(),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this.ResetRow(t),this.toastr.error(this.ItemSelectedBefor)):(this.ResetRow(t),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"ResetRow",value:function(e){var t=this;this._Receipt.details.splice(e,1),setTimeout(function(){t.AddItems()},0)}},{key:"onClearItems",value:function(e){var n=this._Receipt.details[e];this._Receipt.itemscomponent.length>0&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=n.rowno})),this._Receipt.details[e].id=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].conv=1,this._Receipt.details[e].final_conv=1,this._Receipt.details[e].qty=1,this._Receipt.details[e].price=0,this._Receipt.details[e].discount_percent=0,this._Receipt.details[e].discount_value=0,this._Receipt.details[e].total=0,this._Receipt.details[e].defaultitemcost=0,this._Receipt.details[e].costdiff=0,this._Receipt.details[e].productionunitexpense=0,this._Receipt.details[e].productionqtyexpense=0,this._Receipt.details[e].indirectexpensesunit=0,this._Receipt.details[e].unit_id=null;var i=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._Receipt.details[e].rowno=i+1}},{key:"GetItemDataDetailsLists",value:function(e,i){var r,o=this;this._Receipt.details[i].id=null,this._Receipt.details[i].finishedproductid=null,this._Receipt.details[i].finishedreceipt_did=null,this._Receipt.details[i].conv=1,this._Receipt.details[i].final_conv=1,this._Receipt.details[i].qty=1,this._Receipt.details[i].price=0,this._Receipt.details[i].discount_percent=0,this._Receipt.details[i].discount_value=0,this._Receipt.details[i].total=0,this._Receipt.details[i].defaultitemcost=0,this._Receipt.details[i].costdiff=0,this._Receipt.details[i].productionunitexpense=0,this._Receipt.details[i].productionqtyexpense=0,this._Receipt.details[i].indirectexpensesunit=0,this._Receipt.details[i].unit_id=null,1==this._Receipt.fromcomp_transfer?r=this._ProductionService.GetFinishProductDetailsLists(this.subsidiaryID,e.id):2==this._Receipt.fromcomp_transfer&&(r=this._ProductionService.GetFinishProductDetailsFromTransfer(this.subsidiaryID,e.id,this._Receipt.batchorder_id)),(0,Xe.D)([r]).subscribe(function(r){var a=n(r,1)[0];if(0==a.itemunits.length){o._Receipt.details[i]=new R.hm,o._Receipt.details[i].isrequireserial=a.item.isrequireserial;var c=Math.max.apply(Math,t(o._Receipt.details.map(function(e){return e.rowno})).concat([0]));o._Receipt.details[i].rowno=c+1,0==o._Receipt.id?(o._Receipt.details[i].store_id=o.StoreCostCenterSetting.storeid,o._Receipt.details[i].storecode={code:o.StoreCostCenterSetting.storecode}):(o._Receipt.details[i].store_id=o._ReceiptOriginal.details[0].store_id,o._Receipt.details[i].storecode=o._ReceiptOriginal.details[0].storecode),o.toastr.error(o.NoUnits)}else o._Receipt.details[i].isrequireserial=a.item.isrequireserial,o._Receipt.details[i].notes=a.item.notes,o._Receipt.details[i].item_type=a.item.item_type,1==o._Receipt.fromcomp_transfer?o._Receipt.details[i].qty=1:2==o._Receipt.fromcomp_transfer&&(o._Receipt.details[i].qty=a.item.batchorderqty),o._Receipt.details[i].indirectexpensesunit=a.item.indirectexpensesunit,o._Receipt.details[i].productionunitexpense=o._Receipt.details[i].indirectexpensesunit,o._Receipt.details[i].productionqtyexpense=Number((o._Receipt.details[i].productionunitexpense*o._Receipt.details[i].qty).toFixed(6)),o.ItemUnitsList.length>0?0==o.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(o.ItemUnitsList=o.ItemUnitsList.concat(a.itemunits)):o.ItemUnitsList=o.ItemUnitsList.concat(a.itemunits),o._Receipt.details[i].unit_id=a.item.productionunitid,o.ChangeItemUnits(a.item.productionunitid,i),a.itemcomponents.length>0?(a.componentsunits.length>0&&(o.ItemComponentUnitsList=o.ItemComponentUnitsList.concat(a.componentsunits)),a.itemcomponents.forEach(function(e){var n=new R.hm;n.isrequireserial=e.isrequireserial,n.item_id=e.itemcomponentid,n.finishedproductid=e.item_id,n.itemname=e.itemname,n.itemname_ar=e.itemname_ar,n.itemcode={code:e.itemcode},n.unit_id=e.itemcomponentunitid,1==o._Receipt.fromcomp_transfer?(n.basicqtycomponent=e.itemcomponentqty,n.qty=Number((n.basicqtycomponent*o._Receipt.details[i].qty).toFixed(6)),n.defaultitemqty=Number((n.basicqtycomponent*o._Receipt.details[i].qty).toFixed(6))):2==o._Receipt.fromcomp_transfer&&(n.basicqtycomponent=Number((e.itemcomponentqty/o._Receipt.details[i].qty).toFixed(6)),n.qty=e.itemcomponentqty,n.defaultitemqty=e.itemcomponentqty),n.qtydiff=0,n.conv=e.itemcomponentconv,n.total=Number((n.price*n.qty).toFixed(6)),n.store_id=o._Receipt.details[i].store_id,n.transaction_move=-1,n.updatefromproc=1,n.item_type=e.item_type,n.storecode=null!=o._Receipt.details[i].storecode?o._Receipt.details[i].storecode:null,n.parentrowno=o._Receipt.details[i].rowno;var r=Math.max.apply(Math,t(o._Receipt.itemscomponent.map(function(e){return e.rowno})).concat([0]));n.rowno=r+1,o._Receipt.itemscomponent.push(n)}),o.GetItemComponents_CostPrice(o._Receipt.details[i].rowno)):(o.toastr.error(o.NOComponents),o.OnSelectedItem(o._Receipt.details[i],i),o.CalaculteItemsCostPriceRow(i));o.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());var n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(function(t){return t.item_id==n&&t.id==e});this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.cd.markForCheck()}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];console.log(e,"SelectedItem"),this.show_all_component=i,this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),0==this.show_all_component?this.SelectedItem=e:(this.show_all_component=!0,this.cd.markForCheck()),this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemComponentsInStore(t,0)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n=t._Receipt.details[e];t._Receipt.itemscomponent.filter(function(e){return e.parentrowno==n.rowno}).forEach(function(e){e.qty=Number((e.basicqtycomponent*n.qty).toFixed(6)),e.defaultitemqty=Number((e.basicqtycomponent*n.qty).toFixed(6)),e.qtydiff=Number((e.qty-e.defaultitemqty).toFixed(6)),e.total=Number((e.price*e.qty).toFixed(6))}),t._Receipt.details[e].productionqtyexpense=Number((t._Receipt.details[e].productionunitexpense*t._Receipt.details[e].qty).toFixed(6)),t.CalaculteItemsCostPriceRow(e),t.OnSelectedItem(n,e),t.cd.markForCheck()},500)}},{key:"DeleteItems",value:function(e){this.itemqtyview=!1;var t=this._Receipt.details[e];this._Receipt.itemscomponent.length>0&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=t.rowno})),this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id}),this._Receipt.details.splice(e,1),0==this._Receipt.details.length?(this._Receipt.netvalue=0,this._Receipt.netvalueforeign=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.totalproductioncost=0,this._Receipt.totalproductioncostforeign=0,this._Receipt.totalvouchercost=0,this._Receipt.totalvouchercostforeign=0,this._Receipt.allvouchercost=this.TotalExpensses+this.TotalLaborers,this._Receipt.allvouchercost_foreign=this._Receipt.allvouchercost):this.Calculate_Total_Cost(),this.OnSelectedItem(null),this.cd.markForCheck()}},{key:"onFocusInItemsComponent",value:function(e){this.GetItemsComponentList("")}},{key:"ItemsComponentChangeSearch",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null,t.GetItemsComponentList(e.query.trim())},300)}},{key:"GetItemsComponentList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ProductionService.GetItemsDataListProductionComponent(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"onClearItemsComponent",value:function(e){var n=this._Receipt.itemscomponent.findIndex(function(t){return t.rowno==e.rowno});this._Receipt.itemscomponent[n].id=null,this._Receipt.itemscomponent[n].item_id=null,this._Receipt.itemscomponent[n].itemname=null,this._Receipt.itemscomponent[n].itemname_ar=null,this._Receipt.itemscomponent[n].finishedproductid=null,this._Receipt.itemscomponent[n].finishedreceipt_did=null,this._Receipt.itemscomponent[n].conv=1,this._Receipt.itemscomponent[n].final_conv=1,this._Receipt.itemscomponent[n].qty=1,this._Receipt.itemscomponent[n].price=0,this._Receipt.itemscomponent[n].discount_percent=0,this._Receipt.itemscomponent[n].discount_value=0,this._Receipt.itemscomponent[n].total=0,this._Receipt.itemscomponent[n].defaultitemcost=0,this._Receipt.itemscomponent[n].costdiff=0,this._Receipt.itemscomponent[n].productionunitexpense=0,this._Receipt.itemscomponent[n].productionqtyexpense=0,this._Receipt.itemscomponent[n].indirectexpensesunit=0,this._Receipt.itemscomponent[n].unit_id=null,this._Receipt.itemscomponent[n].defaultitemqty=0,this._Receipt.itemscomponent[n].qtydiff=0;var i=Math.max.apply(Math,t(this._Receipt.itemscomponent.map(function(e){return e.rowno})).concat([0]));this._Receipt.itemscomponent[n].rowno=i+1}},{key:"ItemsComponentSelectEvent",value:function(e,t){var n=this,i=this._Receipt.itemscomponent.findIndex(function(e){return e.rowno==t.rowno});null!=this._Receipt.itemscomponent[i].item_id&&this.onClearItemsComponent(t);var r=this._Receipt.details.find(function(e){return e.rowno==n._Receipt.itemscomponent[i].parentrowno});if(e.id==r.item_id)return this._Receipt.itemscomponent[i]=new R.hm,this._Receipt.itemscomponent[i].transaction_move=-1,this._Receipt.itemscomponent[i].updatefromproc=1,0==this._Receipt.id?(this._Receipt.itemscomponent[i].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.itemscomponent[i].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.itemscomponent[i].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.itemscomponent[i].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.componentItselfMsg),void this.cd.markForCheck();0==e.stopinventorytransactions?(this._Receipt.itemscomponent[i].item_id=e.id,this._Receipt.itemscomponent[i].itemname=e.name,this._Receipt.itemscomponent[i].itemname_ar=e.name_ar,this.GetItemDataComponentsDetailsLists(e,i)):(this._Receipt.itemscomponent[i]=new R.hm,this._Receipt.itemscomponent[i].transaction_move=-1,this._Receipt.itemscomponent[i].updatefromproc=1,0==this._Receipt.id?(this._Receipt.itemscomponent[i].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.itemscomponent[i].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.itemscomponent[i].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.itemscomponent[i].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"GetItemDataComponentsDetailsLists",value:function(e,t){var n=this;this._Receipt.itemscomponent[t].id=null,this._Receipt.itemscomponent[t].finishedproductid=null,this._Receipt.itemscomponent[t].finishedreceipt_did=null,this._Receipt.itemscomponent[t].conv=1,this._Receipt.itemscomponent[t].final_conv=1,this._Receipt.itemscomponent[t].qty=1,this._Receipt.itemscomponent[t].price=0,this._Receipt.itemscomponent[t].discount_percent=0,this._Receipt.itemscomponent[t].discount_value=0,this._Receipt.itemscomponent[t].total=0,this._Receipt.itemscomponent[t].defaultitemcost=0,this._Receipt.itemscomponent[t].unit_id=null,this._Receipt.itemscomponent[t].defaultitemqty=0,this._Receipt.itemscomponent[t].qtydiff=0,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){if(0==i.itemunits.length)n._Receipt.itemscomponent[t]=new R.hm,n._Receipt.itemscomponent[t].isrequireserial=i.item.isrequireserial,n._Receipt.itemscomponent[t].transaction_move=-1,n._Receipt.itemscomponent[t].updatefromproc=1,0==n._Receipt.id?(n._Receipt.itemscomponent[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.itemscomponent[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.itemscomponent[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.itemscomponent[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits);else{var r=n._Receipt.details.find(function(e){return e.rowno==n._Receipt.itemscomponent[t].parentrowno});n._Receipt.itemscomponent[t].isrequireserial=i.item.isrequireserial,n._Receipt.itemscomponent[t].notes=i.item.notes,n._Receipt.itemscomponent[t].item_type=i.item.item_type,n._Receipt.itemscomponent[t].qty=1*r.qty,n._Receipt.itemscomponent[t].defaultitemqty=0,n._Receipt.itemscomponent[t].qtydiff=Number((n._Receipt.itemscomponent[t].qty-n._Receipt.itemscomponent[t].defaultitemqty).toFixed(6)),n._Receipt.itemscomponent[t].basicqtycomponent=1,n.ItemComponentUnitsList.length>0?0==n.ItemComponentUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemComponentUnitsList=n.ItemComponentUnitsList.concat(i.itemunits)):n.ItemComponentUnitsList=n.ItemComponentUnitsList.concat(i.itemunits),n._Receipt.itemscomponent[t].unit_id=i.item.inventory_unit,n.ChangeItemComponentsUnits(i.item.inventory_unit,n._Receipt.itemscomponent[t]),n.cd.markForCheck()}n.cd.markForCheck()})}},{key:"ChangeItemComponentsUnits",value:function(e,t){var n=this._Receipt.itemscomponent.findIndex(function(e){return e.rowno==t.rowno}),i=this.ItemComponentUnitsList.find(function(n){return n.item_id==t.item_id&&n.id==e});this._Receipt.itemscomponent[n].conv=i.conv,this._Receipt.itemscomponent[n].final_conv=i.finalconv,this.GetItemComponent_CostPrice(n),this.CheckBalanceForItemComponentInStore(n)}},{key:"DeleteItemsComponent",value:function(e){var t=this._Receipt.itemscomponent.findIndex(function(t){return t.rowno==e.rowno}),n=this._Receipt.itemscomponent[t];1==this._Receipt.itemscomponent.filter(function(e){return e.item_id==n.item_id}).length&&(this.ItemComponentUnitsList=this.ItemComponentUnitsList.filter(function(e){return e.item_id!=n.item_id})),this._Receipt.itemscomponent.splice(t,1),this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent));var i=this._Receipt.details.findIndex(function(t){return t.rowno==e.parentrowno});this.CalaculteItemsCostPriceRow(i),this.cd.markForCheck()}},{key:"ChangeQtyComponent",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n=t._Receipt.itemscomponent.findIndex(function(t){return t.rowno==e.rowno});t._Receipt.itemscomponent[n].qtydiff=Number((t._Receipt.itemscomponent[n].qty-t._Receipt.itemscomponent[n].defaultitemqty).toFixed(6)),t._Receipt.itemscomponent[n].total=Number((t._Receipt.itemscomponent[n].price*t._Receipt.itemscomponent[n].qty).toFixed(6));var i=t._Receipt.details.findIndex(function(t){return t.rowno==e.parentrowno});t.CalaculteItemsCostPriceRow(i),t.cd.markForCheck(),t.CheckBalanceForItemComponentInStore(n)},2e3)}},{key:"GetItemComponents_CostPrice",value:function(e){var t,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this._Receipt.itemscomponent.filter(function(t){return t.parentrowno==e}),a=o[r],c=this._Receipt.itemscomponent.findIndex(function(e){return e.rowno==a.rowno});t=2!=a.item_type?this._ReceiptSharedService.GetItemCostAtDateStoreconv(a.item_id,a.unit_id,a.conv,a.store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time):this._ProductionService.GetServiceItemCost(this._Receipt.subsidiaryid,a.item_id),(0,Xe.D)([t]).subscribe(function(t){var a=n(t,1)[0];if(i._Receipt.itemscomponent[c].price=a.length>0?Number(a[0].avgcost.toFixed(6)):0,i._Receipt.itemscomponent[c].total=Number((i._Receipt.itemscomponent[c].price*i._Receipt.itemscomponent[c].qty).toFixed(6)),i.cd.markForCheck(),r+1<o.length)i.GetItemComponents_CostPrice(e,r+1);else{var l=0,s=i._Receipt.details.findIndex(function(t){return t.rowno==e});i._Receipt.itemscomponent.filter(function(t){return t.parentrowno==e}).forEach(function(e){l+=e.total}),i._Receipt.details[s].defaultitemcost=Number((l/i._Receipt.details[s].qty).toFixed(6)),i.OnSelectedItem(i._Receipt.details[s],s),i.CalaculteItemsCostPriceRow(s)}})}},{key:"GetItemComponent_CostPrice",value:function(e){var t,i=this,r=this._Receipt.itemscomponent[e];t=2!=r.item_type?this._ReceiptSharedService.GetItemCostAtDateStoreconv(r.item_id,r.unit_id,r.conv,r.store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time):this._ProductionService.GetServiceItemCost(this._Receipt.subsidiaryid,r.item_id),(0,Xe.D)([t]).subscribe(function(t){var r=n(t,1)[0];i._Receipt.itemscomponent[e].price=r.length>0?Number(r[0].avgcost.toFixed(6)):0,i._Receipt.itemscomponent[e].total=Number((i._Receipt.itemscomponent[e].price*i._Receipt.itemscomponent[e].qty).toFixed(6));var o=i._Receipt.details.findIndex(function(t){return t.rowno==i._Receipt.itemscomponent[e].parentrowno});i.CalaculteItemsCostPriceRow(o),i.cd.markForCheck()})}},{key:"CalaculteItemsCostPriceRow",value:function(e){var t=this,n=0;this._Receipt.itemscomponent.filter(function(n){return n.parentrowno==t._Receipt.details[e].rowno}).forEach(function(e){n+=e.total}),this._Receipt.details[e].price=Number(n.toFixed(6)),this._Receipt.details[e].total=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(6)),this._Receipt.details[e].discount_percent=0,this._Receipt.details[e].discount_value=0,this._Receipt.details[e].costdiff=Number((this._Receipt.details[e].price/this._Receipt.details[e].qty-this._Receipt.details[e].defaultitemcost).toFixed(6)),this.Calculate_Total_Cost()}},{key:"Calculate_Total_Cost",value:function(){var e,t=0,n=0,i=0,r=0;this._Receipt.details.forEach(function(e){t+=e.price,n+=e.productionqtyexpense}),e=this._Receipt.totalexpensses+this._Receipt.totallaborers,r=(i=t+n)+e,this._Receipt.details.forEach(function(n){n.additionalexpensesandlabors=Number((e*(n.price/t)).toFixed(6))}),this._Receipt.netvalue=Number(t.toFixed(6)),this._Receipt.netvalueforeign=Number(t.toFixed(6)),this._Receipt.value=this._Receipt.netvalue,this._Receipt.valueforeign=this._Receipt.netvalueforeign,this._Receipt.totalproductioncost=Number(n.toFixed(6)),this._Receipt.totalproductioncostforeign=Number(n.toFixed(6)),this._Receipt.totalvouchercost=Number(i.toFixed(6)),this._Receipt.totalvouchercostforeign=Number(i.toFixed(6)),this._Receipt.allvouchercost=Number(r.toFixed(6)),this._Receipt.allvouchercost_foreign=Number(r.toFixed(6)),this.cd.markForCheck()}},{key:"GetReceiptCodeList",value:function(){var e=this;this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID).subscribe(function(t){e.ReceiptCodeList=t;var n=e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt});e.Transaction_move=n.items,e.cd.markForCheck()})}},{key:"AddLinkedReceipt",value:function(){this._LinkedReceipt=new R.Cb,this._LinkedReceipt.branch_id=this._Receipt.branch_id,this._Receipt.linkedreceipts.push(this._LinkedReceipt),this.cd.markForCheck()}},{key:"GetLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e];this.ItemLinkedReceipt=[],this.ItemComponentsLinkedReceipt=[],null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&0==n.fire&&(this._Receipt.linkedreceipts[e].fire=1,this._ProductionService.GetReceiptForLinkedReceiptProduction(n.branch_id,n.code,n.entry_no,0==this._Receipt.id?this.StoreCostCenterSetting.storeid:this._ReceiptOriginal.details[0].store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(i){if(null==i.receipt.id)t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.ReceiptNotFound);else if(i.items.length>0){t._Receipt.linkedreceipts[e].fire=1,t._Receipt.linkedreceipts[e].receiptid=i.receipt.id,t._Receipt.linkedreceipts[e].subsidiaryid=t.subsidiaryID,t._Receipt.linkedreceipts[e].parentreceiptid=t._Receipt.id;for(var r=0;r<t._Receipt.details.length;r++)null==t._Receipt.details[r].item_id&&(t._Receipt.details.splice(r,1),r--);if(i.itemunits.forEach(function(e){0==t.ItemUnitsList.filter(function(t){return t.item_id==e.item_id&&t.id==e.unit_id}).length&&t.ItemUnitsList.push(e)}),t.ItemLinkedReceipt=i.items,i.itemcomponents.length>0&&(t.ItemComponentsLinkedReceipt=i.itemcomponents,t.ItemComponentUnitsList=t.ItemComponentUnitsList.concat(i.componentsunits)),i.receiptexpenses.length>0){var o=i.receiptexpenses;o.forEach(function(e){e.accountcode={accountcode:e.accountcode},e.exchangerate=Number(e.exchangerate.toPrecision()),t.addItemIfNotInList(e)}),t._Receipt.receiptexpenses=t._Receipt.receiptexpenses.concat(o)}if(i.receiptlaborers.length>0){var a=i.receiptlaborers;a.forEach(function(e){e.timeString=t.formatMinutesToHoursMinutes(e.numberofhours)}),t._Receipt.receiptlaborers=t._Receipt.receiptlaborers.concat(a)}t._Receipt.memo="ar"!=t.lang?"Production voucher for work order # "+n.entry_no:"\u0633\u0646\u062f \u0627\u0646\u062a\u0627\u062c \u0645\u0646 \u0623\u0645\u0631 \u062a\u0634\u063a\u064a\u0644 \u0631\u0642\u0645 "+n.entry_no,t._Receipt.customersalesprice=i.receipt.customersalesprice,1==t._Receipt.linkedreceipts.length?(t._Receipt.vendor_id=null!=i.receipt.vendor_id?i.receipt.vendor_id:t._Receipt.vendor_id,null!=t._Receipt.vendor_id&&(t._Receipt.cashcustomer_vendor_code={code:i.receipt.vendorcode},t._Receipt.cashcustomer_vendor_name="ar"==t.lang?i.receipt.vendornamear:i.receipt.vendorname,t._Receipt.vendor_balance=null!=i.receipt.vendor_balance?i.receipt.vendor_balance:t._Receipt.vendor_balance)):t._Receipt.vendor_id!=i.receipt.vendor_id&&(t._Receipt.vendor_id=null,t._Receipt.cashcustomer_vendor_code={code:null},t._Receipt.cashcustomer_vendor_name=null),t.SetLinkReceiptItemRow(0,t.ItemLinkedReceipt[0])}else t._Receipt.linkedreceipts[e].fire=0,t.toastr.error(t.Receiptnoitems),t._Receipt.linkedreceipts[e].entry_no=null,t.cd.markForCheck()}))}},{key:"SetLinkReceiptItemRow",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,r=this._Receipt.details.findIndex(function(e){return e.item_id==i.item_id&&e.unit_id==i.unit_id&&e.conv==i.conv});if(-1==r){var o=new R.hm,a=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));o.rowno=a+1,0==this._Receipt.id?(o.store_id=this.StoreCostCenterSetting.storeid,o.storecode={code:this.StoreCostCenterSetting.storecode}):(o.store_id=this._ReceiptOriginal.details[0].store_id,o.storecode=this._ReceiptOriginal.details[0].storecode),o.item_id=i.item_id,o.itemcode={code:i.itemcode},o.itemname=i.itemname,o.itemname_ar=i.itemname_ar,o.isrequireserial=i.isrequireserial,o.unit_id=i.unit_id,o.qty=i.qty,o.transaction_move=1,o.item_type=i.item_type,o.indirectexpensesunit=i.indirectexpensesunit,o.productionunitexpense=o.indirectexpensesunit,o.productionqtyexpense=Number((o.productionunitexpense*o.qty).toFixed(6)),o.conv=i.conv,o.final_conv=i.finalconv,this.ItemComponentsLinkedReceipt.filter(function(e){return e.item_id==o.item_id}).forEach(function(n){var i=new R.hm,r=Math.max.apply(Math,t(e._Receipt.itemscomponent.map(function(e){return e.rowno})).concat([0]));i.rowno=r+1,i.parentrowno=o.rowno,i.transaction_move=-1,i.updatefromproc=1,i.store_id=o.store_id,i.storecode=o.storecode,i.item_id=n.itemcomponentid,i.itemcode={code:n.itemcode},i.itemname=n.itemname,i.itemname_ar=n.itemname_ar,i.item_type=n.item_type,i.finishedproductid=n.item_id,i.qty=n.itemcomponentqty*o.qty,i.basicqtycomponent=n.itemcomponentqty,i.defaultitemqty=n.itemcomponentqty*o.qty,i.qtydiff=0,i.conv=n.itemcomponentconv,i.unit_id=n.itemcomponentunitid,i.final_conv=1,i.price=Number((n.avgcostpriceclac||0).toFixed(6)),i.total=Number(((n.avgcostpriceclac||0)*i.qty).toFixed(6)),o.defaultitemcost=o.defaultitemcost+i.total,e._Receipt.itemscomponent.push(i)}),this._Receipt.details.push(o),this.CalaculteItemsCostPriceRow(this._Receipt.details.length-1),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):(this.CheckBalanceForAllItemsComponentInStore(0),this.OnSelectedItem(this._Receipt.details[0],0,"Selected"))}else{this._Receipt.details[r].qty=this._Receipt.details[r].qty+parseFloat(i.qty);var c=this._Receipt.details[r];this._Receipt.itemscomponent.filter(function(e){return e.parentrowno==c.rowno}).forEach(function(e){e.qty=Number((e.basicqtycomponent*c.qty).toFixed(6)),e.defaultitemqty=Number((e.basicqtycomponent*c.qty).toFixed(6)),e.qtydiff=Number((e.qty-e.defaultitemqty).toFixed(6)),e.total=Number((e.price*e.qty).toFixed(6))}),this._Receipt.details[r].productionqtyexpense=Number((this._Receipt.details[r].productionunitexpense*this._Receipt.details[r].qty).toFixed(6)),this.CalaculteItemsCostPriceRow(r),n+1<this.ItemLinkedReceipt.length?this.SetLinkReceiptItemRow(n+1,this.ItemLinkedReceipt[n+1]):(this.CheckBalanceForAllItemsComponentInStore(0),this.OnSelectedItem(this._Receipt.details[0],0,"Selected"))}}},{key:"OnOpenLinkedReceipt",value:function(e){var t=this,n=this._Receipt.linkedreceipts[e],i=this._ReceiptSharedService.ReceiptsLinked_Url_Codes.find(function(e){return e.Code==n.code});null!=this._Receipt.linkedreceipts[e].receiptid?""!=i.Url&&window.open(i.Url+this._Receipt.linkedreceipts[e].receiptid+"/show","_blank"):null!=n.branch_id&&null!=n.code&&null!=n.entry_no&&n.entry_no>0&&this._ReceiptSharedService.GetLinkedReceiptID(n.branch_id,n.code,n.entry_no).subscribe(function(e){""!=i.Url&&null!=e?window.open(i.Url+e.id+"/show","_blank"):t.toastr.error(t.ReceiptNotFound)})}},{key:"DeleteLinkedReceipt",value:function(e){this._Receipt.linkedreceipts.splice(e,1),this.cd.markForCheck()}},{key:"GetexpenseList",value:function(){var e=this;this._ReceiptSharedService.GetAllExpensesTypeBySubSidary(this.subsidiaryID,3).subscribe(function(t){e.expenseList=t,e.cd.markForCheck()})}},{key:"AddExpenses",value:function(){this._ReceiptExpenses=new R.th,this._ReceiptExpenses.currencyid=this._Receipt.currency_id,this._ReceiptExpenses.exchangerate=this._Receipt.currency_rate,this._ReceiptExpenses.expenseid=this.expenseList.length>0?this.expenseList[0].id:null,this._ReceiptExpenses.purchaseexpense=!1,this._ReceiptExpenses.expenseList=this.expenseList,this._Receipt.receiptexpenses.push(this._ReceiptExpenses),this.changeexpenses(this._Receipt.receiptexpenses.length-1),this.calculateTotalExpenses(),this.cd.markForCheck()}},{key:"DeleteExpenses",value:function(e){this._Receipt.receiptexpenses.splice(e,1),this.calculateTotalExpenses(),this.cd.markForCheck()}},{key:"changeexpenses",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this._Receipt.receiptexpenses[t].expenseid;null!=n?this._ReceiptSharedService.GetExpensesType(n).subscribe(function(n){n&&n.length>0?t>=0&&(e.expensesAccountid=n[0].accountid,e.accountcode=n[0].code,e._Receipt.receiptexpenses[t].accountid=n[0].accountid,e._Receipt.receiptexpenses[t].accountcode={accountcode:n[0].code},e._Receipt.receiptexpenses[t].value=parseFloat(n[0].value.toFixed(e._Currencyprecision)),e._Receipt.receiptexpenses[t].localvalue=parseFloat((parseFloat(n[0].value)/parseFloat(e._Receipt.receiptexpenses[t].exchangerate.toString())).toFixed(e._Currencyprecision))):(e._Receipt.receiptexpenses[t].accountid=null,e._Receipt.receiptexpenses[t].accountcode="",e._Receipt.receiptexpenses[t].value=parseFloat(1..toFixed(e._Currencyprecision)),e._Receipt.receiptexpenses[t].localvalue=e._Receipt.receiptexpenses[t].value,e._Receipt.receiptexpenses[t].exchangerate=e._Receipt.currency_rate),e.cd.markForCheck()}):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"changeexpensesCurrency",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=this.CurrencyList.find(function(t){return t.id==e.target.value});null!=i?this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,i.id,this._Receipt.entry_date,0).subscribe(function(e){e&&e.length>0?(t._Receipt.receiptexpenses[n].exchangerate=e[0].rate.toFixed(9),t.disablerate=!1):(t._Receipt.receiptexpenses[n].exchangerate=Number(1..toFixed(9)),t.disablerate=!0),t.ChangeExpensesValue(n),t.cd.markForCheck()}):(i=null,this._Receipt.receiptexpenses[n].exchangerate=null,this.cd.markForCheck())}},{key:"ChangeExpensesValue",value:function(e){if(this._Receipt.receiptexpenses[e].exchangerate<=0)return this._Receipt.receiptexpenses[e].localvalue=0,void this.calculateTotalExpenses();this._Receipt.receiptexpenses[e].localvalue=parseFloat((this._Receipt.receiptexpenses[e].value/this._Receipt.receiptexpenses[e].exchangerate).toFixed(this._Currencyprecision)),this.calculateTotalExpenses(),this.cd.markForCheck()}},{key:"ChangeExpenseslocalValue",value:function(e){if(this._Receipt.receiptexpenses[e].exchangerate<=0)return this._Receipt.receiptexpenses[e].value=0,void this.calculateTotalExpenses();this._Receipt.receiptexpenses[e].localvalue=parseFloat(this._Receipt.receiptexpenses[e].localvalue.toFixed(this._Currencyprecision)),this._Receipt.receiptexpenses[e].value=parseFloat((this._Receipt.receiptexpenses[e].localvalue*this._Receipt.receiptexpenses[e].exchangerate).toFixed(this._Currencyprecision)),this.calculateTotalExpenses(),this.cd.markForCheck()}},{key:"GetAccount",value:function(e){var n=this;this._ReceiptSharedService.GetAccount(this.subsidiaryID,e.query.trim()).subscribe(function(e){n.AccountList=[],n.AccountList=[].concat(t(n.AccountList),t(e)),n.cd.markForCheck()})}},{key:"onSelectAccount",value:function(e,t){this._Receipt.receiptexpenses[t].accountid=e.accountid;var n=e.accountid;null!=n&&null!=n&&""!=n||(this._Receipt.receiptexpenses[t].accountid=null),this.cd.markForCheck()}},{key:"onFocusInAutoComplete",value:function(e){this.GetAccount(e)}},{key:"calculateTotalExpenses",value:function(){this.TotalExpensses=0,this.TotalExpensses=this._Receipt&&this._Receipt.receiptexpenses?this._Receipt.receiptexpenses.map(function(e){return e.localvalue||0}).reduce(function(e,t){return e+t},0):0,this._Receipt.totalexpensses=Number(this.TotalExpensses.toFixed(this._Currencyprecision)),this._Receipt.totalexpensses_foreign=Number((this.TotalExpensses*this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this.Calculate_Total_Cost(),this.cd.markForCheck()}},{key:"addItemIfNotInList",value:function(e){e.expenseList=t(this.expenseList),e.expenseList.some(function(t){return t.id===e.expenseid})||e.expenseList.push({id:e.expenseid,name:e.name,name_ar:e.name_ar})}},{key:"GetHrEmployeesList",value:function(){var e=this;this._employeeService.getHrEmployees(this.subsidiaryID,"").subscribe(function(t){e.HRemployeesList=t,console.log(e.HRemployeesList),e.cd.markForCheck()})}},{key:"changeHrEmployee",value:function(e){var t=this._Receipt.receiptlaborers[e].employeeid;if(this._Receipt.receiptlaborers.some(function(n,i){return n.employeeid==t&&i!=e}))return this._Receipt.receiptlaborers[e].employeeid=null,this.cd.markForCheck(),this.toastr.error(this.EmpAddedPreviously);this._Receipt.receiptlaborers[e].employeeid=t;var n=this.HRemployeesList.find(function(e){return e.id==t});null!=n&&(this._Receipt.receiptlaborers[e].hourlywages=n.salary,this.ChangeLaborersValue(e)),this.cd.markForCheck()}},{key:"ChangeLaborersValue",value:function(e){this._Receipt.receiptlaborers[e].value=parseFloat((this._Receipt.receiptlaborers[e].hourlywages/60*this._Receipt.receiptlaborers[e].numberofhours).toFixed(this._Currencyprecision)),this.calculateTotalLaborers(),this.cd.markForCheck()}},{key:"AddLaborers",value:function(){this._ReceiptLaborers=new R.NM,this._ReceiptLaborers.employeeid=null,this._ReceiptLaborers.hourlywages=0,this._ReceiptLaborers.numberofhours=0,this._ReceiptLaborers.value=0,this._Receipt.receiptlaborers.push(this._ReceiptLaborers),this.calculateTotalLaborers(),this.cd.markForCheck()}},{key:"DeleteLaborers",value:function(e){this._Receipt.receiptlaborers.splice(e,1),this.calculateTotalLaborers(),this.cd.markForCheck()}},{key:"calculateTotalLaborers",value:function(){this.TotalLaborers=this._Receipt&&this._Receipt.receiptlaborers?this._Receipt.receiptlaborers.map(function(e){return e.value||0}).reduce(function(e,t){return e+t},0):0,this._Receipt.totallaborers=Number(this.TotalLaborers.toFixed(this._Currencyprecision)),this._Receipt.totallaborers_foreign=Number((this.TotalLaborers*this._Receipt.currency_rate).toFixed(this._Currencyprecision)),this.Calculate_Total_Cost()}},{key:"formatSpentHours",value:function(e,t){if(String(t).match(/^[0-9]*:?[0-5]?[0-9]?$/)){var i=n(t.split(":"),2),r=i[0],o=i[1],a="00",c="00";null!=o&&""!=o&&(a=Math.min(parseInt(o,10),59).toString().padStart(2,"0")),null!=r&&""!=r&&(c=Math.min(parseInt(r)).toString().padStart(2,"0")),this._Receipt.receiptlaborers[e].timeString="".concat(c,":").concat(a)}else this._Receipt.receiptlaborers[e].timeString="00:00";var l=n(this._Receipt.receiptlaborers[e].timeString.split(":").map(Number),2),s=l[0],d=l[1];this._Receipt.receiptlaborers[e].numberofhours=60*s+d,this.ChangeLaborersValue(e)}},{key:"formatMinutesToHoursMinutes",value:function(e){var t=e%60;return"".concat(Math.floor(e/60),":").concat(t<10?"0":"").concat(t)}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new R.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new R.I$)}},{key:"CheckBalanceForAllItemsComponentInStore",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!0,r=new R.I$;null!=this._Receipt.itemscomponent[t].item_id&&2!=this._Receipt.itemscomponent[t].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid?(r.ReceiptCode=this.BasicCodeReceipt,r.BranchID=this._Receipt.branch_id,r.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,r.subsidairyid=this.subsidiaryID,r.ReceiptID=this._Receipt.id,r.Qty=0,r.Unit_ID=this._Receipt.itemscomponent[t].unit_id,r.conv=this._Receipt.itemscomponent[t].conv,r.itemid=this._Receipt.itemscomponent[t].item_id,r.StoreID=this._Receipt.itemscomponent[t].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(r).subscribe(function(r){var o=0,a=0;if(0==r.consignment.consignment&&void 0!==r.totalqty.totalqty){o=r.totalqty.totalqty,e._Receipt.itemscomponent.filter(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id}).forEach(function(t){var n=e.ItemComponentUnitsList.find(function(e){return e.item_id==t.item_id&&e.id==t.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,o=t.conv;a=parseFloat(a.toString())+i*(o/r)*parseFloat(t.qty.toString())}}),i=o-a>=0;var c=e._Receipt.details.findIndex(function(n){return n.rowno==e._Receipt.itemscomponent[t].parentrowno});0==i?(e._Receipt.itemscomponent[t].allowqtyselectforitem=!1,e._Receipt.details[c].allowqtyselectforitem=!1,e.cd.markForCheck()):(e._Receipt.itemscomponent[t].allowqtyselectforitem=!0,e._Receipt.itemscomponent.filter(function(t){return t.parentrowno==e._Receipt.details[c].rowno&&0==t.allowqtyselectforitem}).length>0?(e._Receipt.details[c].allowqtyselectforitem=!1,e.cd.markForCheck()):(e._Receipt.details[c].allowqtyselectforitem=!0,e.cd.markForCheck())),t+1<e._Receipt.itemscomponent.length?e.CheckBalanceForAllItemsComponentInStore(t+1,n):1==n&&e.SaveReceipt()}})):t+1<this._Receipt.itemscomponent.length?this.CheckBalanceForAllItemsComponentInStore(t+1,n):1==n&&this.SaveReceipt()}},{key:"CheckBalanceForItemComponentsInStore",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this._Receipt.itemscomponent.filter(function(n){return n.parentrowno==t._Receipt.details[e].rowno}),r=!0,o=new R.I$;null!=this._Receipt.details[e].item_id&&null!=i[n].item_id&&2!=i[n].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid?(o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._Receipt.branch_id,o.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._Receipt.id,o.Qty=0,o.Unit_ID=i[n].unit_id,o.conv=i[n].conv,o.itemid=i[n].item_id,o.StoreID=i[n].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(o).subscribe(function(o){var a=0,c=0;if(0==o.consignment.consignment&&null!=o.totalqty.totalqty){a=o.totalqty.totalqty,t._Receipt.itemscomponent.filter(function(e){return e.item_id==i[n].item_id}).forEach(function(e){var n=t.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,o=e.conv;c=parseFloat(c.toString())+i*(o/r)*parseFloat(e.qty.toString())}}),r=a-c>=0;var l=t._Receipt.itemscomponent.findIndex(function(e){return e.rowno==i[n].rowno});t._Receipt.itemscomponent[l].allowqtyselectforitem=0!=r,n+1<i.length?t.CheckBalanceForItemComponentsInStore(e,n+1):t._Receipt.itemscomponent.filter(function(n){return n.parentrowno==t._Receipt.details[e].rowno&&0==n.allowqtyselectforitem}).length>0?(t._Receipt.details[e].allowqtyselectforitem=!1,t.cd.markForCheck(),t.toastr.warning(t.QtyNotsufficient)):(t._Receipt.details[e].allowqtyselectforitem=!0,t.cd.markForCheck())}})):n+1<i.length?this.CheckBalanceForItemComponentsInStore(e,n+1):this._Receipt.itemscomponent.filter(function(n){return n.parentrowno==t._Receipt.details[e].rowno&&0==n.allowqtyselectforitem}).length>0?(this._Receipt.details[e].allowqtyselectforitem=!1,this.cd.markForCheck(),this.toastr.warning(this.QtyNotsufficient)):(this._Receipt.details[e].allowqtyselectforitem=!0,this.cd.markForCheck())}},{key:"CheckBalanceForItemComponentInStore",value:function(e){var t=this,n=!0,i=new R.I$;null!=this._Receipt.itemscomponent[e].item_id&&2!=this._Receipt.itemscomponent[e].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid&&(i.ReceiptCode=this.BasicCodeReceipt,i.BranchID=this._Receipt.branch_id,i.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,i.subsidairyid=this.subsidiaryID,i.ReceiptID=this._Receipt.id,i.Qty=0,i.Unit_ID=this._Receipt.itemscomponent[e].unit_id,i.conv=this._Receipt.itemscomponent[e].conv,i.itemid=this._Receipt.itemscomponent[e].item_id,i.StoreID=this._Receipt.itemscomponent[e].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(i).subscribe(function(i){var r=0,o=0;if(0==i.consignment.consignment&&null!=i.totalqty.totalqty){r=i.totalqty.totalqty,t._Receipt.itemscomponent.filter(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id}).forEach(function(e){var n=t.ItemComponentUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,a=e.conv;o=parseFloat(o.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),n=r-o>=0;var a=t._Receipt.details.findIndex(function(n){return n.rowno==t._Receipt.itemscomponent[e].parentrowno});0==n?(t._Receipt.itemscomponent[e].allowqtyselectforitem=!1,t._Receipt.details[a].allowqtyselectforitem=!1,t.cd.markForCheck(),t.toastr.warning(t.QtyNotsufficient)):(t._Receipt.itemscomponent[e].allowqtyselectforitem=!0,t._Receipt.itemscomponent.filter(function(e){return e.parentrowno==t._Receipt.details[a].rowno&&0==e.allowqtyselectforitem}).length>0?(t._Receipt.details[a].allowqtyselectforitem=!1,t.cd.markForCheck(),t.toastr.warning(t.QtyNotsufficient)):(t._Receipt.details[a].allowqtyselectforitem=!0,t.cd.markForCheck()))}}))}},{key:"CheckBalanceForItemInStoreBeforeDelete",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._ReceiptOriginal.details.length>0){var r=!0,o=new R.I$;if(null!=this._ReceiptOriginal.details[e].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._ReceiptOriginal.branch_id,o.Entrydate=this._ReceiptOriginal.entry_date,o.Unit_ID=this._ReceiptOriginal.details[e].unit_id,o.conv=this._ReceiptOriginal.details[e].conv,o.Qty=0,o.itemid=this._ReceiptOriginal.details[e].item_id,o.StoreID=this._ReceiptOriginal.details[e].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._ReceiptOriginal.id;var a=null!==(t=this.ReceiptCodeList.filter(function(e){return e.code==n.BasicCodeReceipt})[0].items)&&void 0!==t?t:-1,c=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._ReceiptOriginal.details[e].item_type&&3!=this._ReceiptOriginal.details[e].item_type&&1==a&&this._ReceiptOriginal.details[e].id>0&&1==c?this._ReceiptSharedService.CheckBalanceForItemInStoreBeforeDelete(o).subscribe(function(t){var o=0,a=0;null!=t.totalqty.totalqty?(o=t.totalqty.totalqty,n._ReceiptOriginal.details.filter(function(t){return t.item_id==n._ReceiptOriginal.details[e].item_id}).forEach(function(e){if(e.id>0){var t=n.ItemOrginalUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,o=e.conv;a=parseFloat(a.toString())+i*(o/r)*parseFloat(e.qty.toString())}}}),r=o-a>=0):r=!1,0==r?n.toastr.error(n.NegativeBalancesMsg):1==i&&e+1<n._ReceiptOriginal.details.length?n.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):n.DeleteAction()}):1==i&&e+1<this._ReceiptOriginal.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else 1==i&&e+1<this._ReceiptOriginal.details.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else this.DeleteAction()}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(628)?this._router.navigate(["/page/production/productionvoucher/0"]).then(function(){window.location.reload()}):Ke().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Ke().DismissReason.cancel&&e._router.navigate(["/page/production/productionvoucher/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Ke().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ProductionService.DeleteProductions(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/production/productionvoucher"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){var n=e.datepipe.transform(t[0].maxpostingdate,"yyyy-MM-dd");Date.parse(n.toString())<Date.parse(e._Receipt.entry_date.toString())?(e.ShowModeReceipt=!1,e.ValidPeriod=!0):(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/production/productionvoucher/0"),e.ReceiptID=0,e._Receipt.id=null,e.VouchersLinkedCount=0,e.CheckBalanceForAllItemsComponentInStore(0),e.cd.markForCheck()})}},{key:"QualityAction",value:function(){}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/productionvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(628)||0==this.ReceiptID&&!this.checkRoleParms(367)||1==this.ShowModeReceipt?this._router.navigate(["/page/production/productionvoucher"]):Ke().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):e._router.navigate(["/page/production/productionvoucher"])})}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){this._authService.userInfo();var e="",t="";"ar"==this.lang&&(t="_ar");var n={reportName:e="P_I_82_ProductionVoucher"+t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return n.reportName=e,n.toEmail=this._emailobj.email,n.Subject=this._emailobj.subject,n}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid){if(0==this.ValidPeriod)return void this.ShowPopUpFinancialPeriod();if(this._Receipt.details=this._Receipt.details.filter(function(e){return null!=e.item_id}),this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return null!=e.item_id}),0==this._Receipt.details.length||1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){var n=0;if((r=t._Receipt.itemscomponent.filter(function(n){return n.parentrowno==t._Receipt.details[e].rowno})).forEach(function(e){n+=e.qty}),t._Receipt.details[e].allowqtyselectforitem=0!=n,0==r.length)return{v:void t.toastr.error(t.NoComponentInItem)}},i=0;i<this._Receipt.details.length;i++){var r,o=n(i);if("object"==typeof o)return o.v}if(this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return void this.toastr.error(this.ComponentQtyZeroError);for(var a=function(e){if(t._Receipt.details[e].transaction_move=1,t._Receipt.details[e].qty>0){0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}},c=0;c<this._Receipt.details.length;c++)a(c);for(var l=function(e){if(t._Receipt.itemscomponent[e].transaction_move=-1,t._Receipt.itemscomponent[e].updatefromproc=1,t._Receipt.itemscomponent[e].qty>0){0!=t._Receipt.value?(t._Receipt.itemscomponent[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty%(1/0)||0,t._Receipt.itemscomponent[e].h_discount_percentage=100*(t._Receipt.itemscomponent[e].h_discount_value/(t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty)%(1/0)||0)):(t._Receipt.itemscomponent[e].h_discount_value=0,t._Receipt.itemscomponent[e].h_discount_percentage=0);var n=t.ItemComponentUnitsList.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id&&n.id==t._Receipt.itemscomponent[e].unit_id});t._Receipt.itemscomponent[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.itemscomponent[e].conv/n.conv):t._Receipt.itemscomponent[e].conv,t._Receipt.itemscomponent[e].final_conv=0==t._Receipt.itemscomponent[e].final_conv?1:t._Receipt.itemscomponent[e].final_conv}else 0==t._Receipt.itemscomponent[e].qty&&0==t._Receipt.itemscomponent[e].defaultitemqty&&(t._Receipt.itemscomponent.splice(e,1),e--,t._Receipt.itemscomponent=JSON.parse(JSON.stringify(t._Receipt.itemscomponent)));s=e},s=0;s<this._Receipt.itemscomponent.length;s++)l(s);this.CheckBalanceForAllItemsComponentInStore(0,!0)}}},{key:"SaveReceipt",value:function(){if(this._Receipt.lang=this.lang,"ar"!=this._Receipt.lang&&(this._Receipt.lang="en-US"),this.DuringSaveDisable=!0,this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.PreFinalSave()}},{key:"PreFinalSave",value:function(){var e,t=this,n=!0;if(this._Receipt.id>0)for(var i=function(i){var r=t._ReceiptOriginal.details[i],o=t._Receipt.details.find(function(e){return e.item_id==r.item_id});if(null==o||null!=o&&o.qty<r.qty){var a=!0,c=new R.I$;if(null!=t._ReceiptOriginal.details[i].item_id){c.ReceiptCode=t.BasicCodeReceipt,c.BranchID=t._ReceiptOriginal.branch_id,c.Entrydate=t._ReceiptOriginal.entry_date,c.Unit_ID=t._ReceiptOriginal.details[i].unit_id,c.conv=t._ReceiptOriginal.details[i].conv,c.Qty=0,c.itemid=t._ReceiptOriginal.details[i].item_id,c.StoreID=t._ReceiptOriginal.details[i].store_id,c.subsidairyid=t.subsidiaryID,c.ReceiptID=t._ReceiptOriginal.id;var l=null!==(e=t.ReceiptCodeList.filter(function(e){return e.code==t.BasicCodeReceipt})[0].items)&&void 0!==e?e:-1,s=t.InventorySetting[0].physicalnegativeinventoryid;2!=t._ReceiptOriginal.details[i].item_type&&3!=t._ReceiptOriginal.details[i].item_type&&1==l&&t._ReceiptOriginal.details[i].id>0&&1==s?t._ReceiptSharedService.CheckBalanceForItemInStoreBeforeDelete(c).subscribe(function(e){var r=0,c=0;if(null!=e.totalqty.totalqty?(r=e.totalqty.totalqty,t._ReceiptOriginal.details.filter(function(e){return e.item_id==t._ReceiptOriginal.details[i].item_id}).forEach(function(e){if(e.id>0){var n=t.ItemOrginalUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,o=e.conv;c=parseFloat(c.toString())+i*(o/r)*parseFloat(e.qty.toString())}}}),null!=o&&(c=0,t._Receipt.details.filter(function(e){return e.item_id==t._ReceiptOriginal.details[i].item_id}).forEach(function(e){var n=t.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,o=e.conv;c=parseFloat(c.toString())+i*(o/r)*parseFloat(e.qty.toString())}})),a=r-c>=0):a=!1,0==a)return n=!1,t.DuringSaveDisable=!1,t.cd.markForCheck(),void t.toastr.error(t.NegativeBalancesMsg);i==t._ReceiptOriginal.details.length-1&&1==n&&t.FinalLevelSave()}):i==t._ReceiptOriginal.details.length-1&&1==n&&t.FinalLevelSave()}}else i==t._ReceiptOriginal.details.length-1&&1==n&&t.FinalLevelSave()},r=0;r<this._ReceiptOriginal.details.length;r++)i(r);else this.FinalLevelSave()}},{key:"FinalLevelSave",value:function(){this.DuringSaveDisable=!0;for(var e=0;e<this._Receipt.linkedreceipts.length;e++)0==this._Receipt.linkedreceipts[e].fire&&(this._Receipt.linkedreceipts.splice(e,1),e--);if(!this.checkDateISValidWithPatchesDates())return this.toastr.error(this.InValidDateWithPatchesDates),void(this.DuringSaveDisable=!1);this.CheckBatchesAndSerials()}},{key:"Save",value:function(){var e=this;null==this._Receipt.id||0==this._Receipt.id?(console.log(this._Receipt,"rece"),this._ProductionService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,setTimeout(function(){e._router.navigate(["/page/production/productionvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})},2e3)})):(this._Receipt_h_Edit=new R.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ProductionService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),setTimeout(function(){e._router.navigate(["/page/production/productionvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})},2e3)}))}},{key:"CheckBatchesAndSerials",value:function(){var e=this;this.BatchesAndSeialsList=[],console.log(this.BatchesAndSeialsList,"BatchesAndSeialsList");var n=this._Receipt.details.some(function(e){return 3==e.isrequireserial}),i=this._Receipt.itemscomponent.some(function(e){return 3==e.isrequireserial});if(n)if(console.log("Validate"),this._Receipt.details.forEach(function(n){e.BatchesAndSeialsList=[].concat(t(e.BatchesAndSeialsList),t(n.batcheslist))}),this.ValidateInFrontEnd())if(i){if(1==this.CashCustomerSetting.salesreturneffect){var r=[];if(this._Receipt.itemscomponent.forEach(function(e){3==e.isrequireserial&&(e.allowqtyselectforitem=!0,0==e.batcheslist.length?(e.allowqtyselectforitem=!1,r.push(!1)):0==e.validrow&&(e.allowqtyselectforitem=!1,r.push(!0)))}),r.length>0)return r.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),r.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(r=[],this._Receipt.itemscomponent.forEach(function(t){if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,r.push(!1);else{var n=0;t.batcheslist.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0});var i=e.ItemComponentUnitsList.filter(function(e){return e.item_id==t.item_id&&e.id==t.unit_id});n!=t.qty*(t.conv*i[0].finalconv/i[0].conv)&&(t.allowqtyselectforitem=!1,r.push(!1))}}),r.length>0)return r.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}this.DuringSaveDisable=!0,console.log("Saved"),this.Save()}else this.DuringSaveDisable=!0,console.log("Saved"),this.Save();else this.DuringSaveDisable=!1;else if(i){if(1==this.CashCustomerSetting.salesreturneffect){var o=[];if(this._Receipt.itemscomponent.forEach(function(e){3==e.isrequireserial&&(e.allowqtyselectforitem=!0,0==e.batcheslist.length?(e.allowqtyselectforitem=!1,o.push(!1)):0==e.validrow&&(e.allowqtyselectforitem=!1,o.push(!0)))}),o.length>0)return o.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),o.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(o=[],this._Receipt.itemscomponent.forEach(function(t){if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,o.push(!1);else{var n=0;t.batcheslist.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0});var i=e.ItemComponentUnitsList.filter(function(e){return e.item_id==t.item_id&&e.id==t.unit_id});n!=t.qty*(t.conv*i[0].finalconv/i[0].conv)&&(t.allowqtyselectforitem=!1,o.push(!1))}}),o.length>0)return o.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}this.DuringSaveDisable=!0,console.log("Saved"),this.Save()}else this.DuringSaveDisable=!0,console.log("Saved"),this.Save()}},{key:"ValidateInFrontEnd",value:function(){return 0==this.ValidateBatchesAndSerialsList()?(this.toastr.error(this.InValidNumberOfBatch),!1):(this._Receipt.details.map(function(e){e.batcheslist.length>0&&""==e.batcheslist[0].batchno.trim()&&(e.batcheslist[0].batchno=new Date(e.batcheslist[0].date).toLocaleDateString()+"_"+e.item_id)}),!0)}},{key:"ValidateDublicateBatchesInBackEnd",value:function(){var e=this;console.log(this._Receipt.details,"this._Receipt.details"),this._ReceiptSharedService.ValidateDublicateBatches(this._Receipt.details).subscribe(function(t){if(e._Receipt.details=[],e._Receipt.details=null!=t?t:[],console.log(e._Receipt.details,"details"),e.cd.markForCheck(),e._Receipt.details.some(function(e){if(e.batcheslist.length>0)return 1==e.batcheslist[0].isdublicatebatch}))return Ke().fire(e.DublicateBatchMassage),void(e.DuringSaveDisable=!1);if(e._Receipt.itemscomponent.some(function(e){return 3==e.isrequireserial})){if(1==e.CashCustomerSetting.salesreturneffect){var n=[];if(e._Receipt.itemscomponent.forEach(function(e){3==e.isrequireserial&&(e.allowqtyselectforitem=!0,0==e.batcheslist.length?(e.allowqtyselectforitem=!1,n.push(!1)):0==e.validrow&&(e.allowqtyselectforitem=!1,n.push(!0)))}),n.length>0)return n.includes(!1)&&(e.toastr.error(e.InValidNumberOfBatch),e.cd.markForCheck()),n.includes(!0)&&(e.toastr.error(e.QtyIsValidWithAvailableQty),e.cd.markForCheck()),void(e.DuringSaveDisable=!1);if(n=[],e._Receipt.itemscomponent.forEach(function(t){if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,n.push(!1);else{var i=0;t.batcheslist.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0});var r=e.ItemComponentUnitsList.filter(function(e){return e.item_id==t.item_id&&e.id==t.unit_id});i!=t.qty*(t.conv*r[0].finalconv/r[0].conv)&&(t.allowqtyselectforitem=!1,n.push(!1))}}),n.length>0)return n.includes(!1)&&(e.toastr.error(e.InValidNumberOfBatch),e.cd.markForCheck()),void(e.DuringSaveDisable=!1)}e.DuringSaveDisable=!0,console.log("Saved"),e.Save()}else e.DuringSaveDisable=!0,e.Save()})}},{key:"ValidateBatchesAndSerialsList",value:function(){var e=this,t=!0;this.BatchesAndSeialsList.forEach(function(e){return 0==e.qty||null==e.qty||null==e.date||""==e.date?t=!1:void 0}),this.BatchesAndSeialsList.filter(function(t){var n=P("".concat(e._Receipt.entry_date," ").concat(e._Receipt.entry_time),"YYYY-MM-DD HH:mm").format(),i=P("".concat(t.date),"YYYY-MM-DD HH:mm").format();return P(n).isSameOrAfter(i)}).length>0&&(this.toastr.error(this.InvalidPatchDate),t=!1);for(var n=0,i=function(t){if(3==e._Receipt.details[t].isrequireserial){var i=e.ItemUnitsList.filter(function(n){return n.item_id==e._Receipt.details[t].item_id&&n.id==e._Receipt.details[t].unit_id});n+=e._Receipt.details[t].qty*(e._Receipt.details[t].conv*i[0].finalconv/i[0].conv)}},r=0;r<this._Receipt.details.length;r++)i(r);return n!=this.BatchesAndSeialsList.reduce(function(e,t){return e+t.qty},0)&&(t=!1),t}},{key:"ValidateDublicateBatchesInFrontEnd",value:function(){for(var e=[],t=0;t<this._Receipt.details.length;t++)if(0!=this._Receipt.details[t].batcheslist.length){var n=this._Receipt.details[t].batcheslist[0];if(1==n.isdublicatebatch)continue;n.isdublicatebatch=!1;for(var i=t+1;i<this._Receipt.details.length;i++)0!=this._Receipt.details[i].batcheslist.length&&n.batchno.toLowerCase().trim()==this._Receipt.details[i].batcheslist[0].batchno.toLowerCase().trim()&&new Date(n.date).toLocaleDateString()!=new Date(this._Receipt.details[i].batcheslist[0].date).toLocaleDateString()&&(this._Receipt.details[i].batcheslist[0].isdublicatebatch=!0,e.push(this._Receipt.details[i].batcheslist[0]))}return e}},{key:"GetBatchOrders",value:function(){var e=this;this._ProductionService.GetBatchOrders(this.BatchOrderID,0==this.ReceiptID?this.StoreCostCenterSetting.storeid:this._ReceiptOriginal.details[0].store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(t){if(null===t.receipts.receipt)e.cd.markForCheck(),console.log("nnnot");else{for(var n=t.receipts,i=0;i<n.length;i++){var r=new R.Cb;r.branch_id=n[i].branch_id,r.code=n[i].code,r.entry_no=n[i].entry_no,r.receiptid=n[i].id,r.subsidiaryid=e.subsidiaryID,r.parentreceiptid=e._Receipt.id,r.fire=1,e._Receipt.linkedreceipts.push(r)}null!=n[0].vendor_id&&(e._Receipt.vendor_id=n[0].vendor_id,e._Receipt.cashcustomer_vendor_code={code:n[0].vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n[0].vendornamear:n[0].vendorname,e._Receipt.vendor_balance=null!=n[0].vendor_balance?n[0].vendor_balance:e._Receipt.vendor_balance);for(var o=0;o<e._Receipt.details.length;o++)null==e._Receipt.details[o].item_id&&(e._Receipt.details.splice(o,1),o--);t.itemunits.forEach(function(t){0==e.ItemUnitsList.filter(function(e){return e.item_id==t.item_id&&e.id==t.unit_id}).length&&e.ItemUnitsList.push(t)}),e.ItemLinkedReceipt=t.items,t.itemcomponents.length>0&&(e.ItemComponentsLinkedReceipt=t.itemcomponents,e.ItemComponentUnitsList=e.ItemComponentUnitsList.concat(t.componentsunits)),e.SetLinkReceiptItemRow(0,e.ItemLinkedReceipt[0]),e.cd.markForCheck()}console.log(e._Receipt.details)})}},{key:"GetFinishProductFromProductionPlan",value:function(){var e=this;this._ProductionService.GetFinishProductFromProductionPlan(this.ProdPlansID,this._Receipt.branch_id,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(n){for(var i=0;i<e._Receipt.details.length;i++)null==e._Receipt.details[i].item_id&&(e._Receipt.details.splice(i,1),i--);n.itemunits.forEach(function(t){0==e.ItemUnitsList.filter(function(e){return e.item_id==t.item_id&&e.id==t.unit_id}).length&&e.ItemUnitsList.push(t)}),e.ItemsProductionPlan=n.items,n.itemcomponents.length>0&&(e.ItemsComponentsProductionPlan=n.itemcomponents,e.ItemComponentUnitsList=e.ItemComponentUnitsList.concat(n.componentsunits));for(var r=function(n){var i=e.ItemsProductionPlan[n],r=e.ItemUnitsList.find(function(e){return e.item_id==i.itemid&&e.id==i.productionunit}),o=e._Receipt.details.findIndex(function(e){return e.item_id==i.itemid&&e.unit_id==i.productionunit});if(-1==o){var a=new R.hm,c=Math.max.apply(Math,t(e._Receipt.details.map(function(e){return e.rowno})).concat([0]));a.rowno=c+1,0==e._Receipt.id||null==e._Receipt.id?(a.store_id=e.StoreCostCenterSetting.storeid,a.storecode={code:e.StoreCostCenterSetting.storecode}):(a.store_id=e._ReceiptOriginal.details[0].store_id,a.storecode=e._ReceiptOriginal.details[0].storecode),a.item_id=i.itemid,a.itemcode={code:i.itemcode},a.itemname=i.itemname,a.itemname_ar=i.itemname_ar,a.unit_id=i.productionunit,a.qty=i.itemqty,a.transaction_move=1,a.item_type=i.item_type,a.indirectexpensesunit=i.indirectexpensesunit,a.productionunitexpense=a.indirectexpensesunit,a.productionqtyexpense=Number((a.productionunitexpense*a.qty).toFixed(6)),a.conv=r.conv,a.final_conv=r.finalconv,e.ItemsComponentsProductionPlan.filter(function(e){return e.item_id==a.item_id}).forEach(function(n){var i=new R.hm,r=Math.max.apply(Math,t(e._Receipt.itemscomponent.map(function(e){return e.rowno})).concat([0]));i.rowno=r+1,i.parentrowno=a.rowno,i.transaction_move=-1,i.updatefromproc=1,i.store_id=a.store_id,i.storecode=a.storecode,i.item_id=n.itemcomponentid,i.itemcode={code:n.itemcode},i.itemname=n.itemname,i.itemname_ar=n.itemname_ar,i.item_type=n.item_type,i.finishedproductid=n.item_id,i.qty=n.itemcomponentqty*a.qty,i.basicqtycomponent=n.itemcomponentqty,i.defaultitemqty=n.itemcomponentqty*a.qty,i.qtydiff=0,i.conv=n.itemcomponentconv,i.unit_id=n.itemcomponentunitid,i.final_conv=1,i.price=Number((n.avgcostpriceclac||0).toFixed(6)),i.total=Number(((n.avgcostpriceclac||0)*i.qty).toFixed(6)),a.defaultitemcost=a.defaultitemcost+i.total,e._Receipt.itemscomponent.push(i)}),e._Receipt.details.push(a),e.CalaculteItemsCostPriceRow(e._Receipt.details.length-1)}else{e._Receipt.details[o].qty=e._Receipt.details[o].qty*i.itemqty;var l=e._Receipt.details[o];e._Receipt.itemscomponent.filter(function(e){return e.parentrowno==l.rowno}).forEach(function(e){e.qty=Number((e.basicqtycomponent*l.qty).toFixed(6)),e.defaultitemqty=Number((e.basicqtycomponent*l.qty).toFixed(6)),e.qtydiff=Number((e.qty-e.defaultitemqty).toFixed(6)),e.total=Number((e.price*e.qty).toFixed(6))}),e._Receipt.details[o].productionqtyexpense=Number((e._Receipt.details[o].productionunitexpense*e._Receipt.details[o].qty).toFixed(6)),e.CalaculteItemsCostPriceRow(o)}},o=0;o<e.ItemsProductionPlan.length;o++)r(o);e.ProductionPlan=n.productionplan,e._Receipt.prodplansid=e.ProdPlansID,null!=e.ProductionPlan[0].customerid&&(e._Receipt.vendor_id=e.ProductionPlan[0].customerid,e._Receipt.cashcustomer_vendor_code={code:e.ProductionPlan[0].vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?e.ProductionPlan[0].vendornamear:e.ProductionPlan[0].vendorname),e.CheckBalanceForAllItemsComponentInStore(0),e.OnSelectedItem(e._Receipt.details[0],0,"Selected")})}},{key:"OnSerialItems",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log(e,"ix",t),this.SelectedRowIndex=e,this.RowItem=t,t.qty<=0)this.toastr.error(this.InValidQty);else{if(this.requiredserial=this._Receipt.details[e].isrequireserial,0==this._Receipt.details[e].batcheslist.length)this.AddNewRow(e);else{var r=this.ItemUnitsList.filter(function(t){return t.item_id==n._Receipt.details[e].item_id&&t.id==n._Receipt.details[e].unit_id});this._Receipt.details[e].batcheslist[0].qty=this._Receipt.details[e].qty*(this._Receipt.details[e].conv*r[0].finalconv/r[0].conv)}this.OpenModal(i)}}},{key:"AddNewRow",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._ReceiptSharedService.GetStoreByID(this.RowItem.store_id).subscribe(function(n){var i,r;console.log(n,"dd",e.RowItem);var o=new rt.WB;o.storeid=e.RowItem.store_id,o.storename=null!==(i=null==n?void 0:n.name)&&void 0!==i?i:"",o.storename_ar=null!==(r=null==n?void 0:n.name_ar)&&void 0!==r?r:"";var a=e.ItemUnitsList.filter(function(n){return n.item_id==e._Receipt.details[t].item_id&&n.id==e._Receipt.details[t].unit_id}),c=e._Receipt.details[t].conv*a[0].finalconv/a[0].conv;o.qty=e._Receipt.details[t].qty*c,console.log(a,"_selectedunit",c,o.qty),o.serial=e._Receipt.details[t].batcheslist.length>0?e._Receipt.details[t].batcheslist.length+1:1,e._Receipt.details[t].batcheslist.push(o),e.cd.markForCheck(),console.log(e._Receipt.details[t].batcheslist,"this.BatchesList")})}},{key:"SubmitOk",value:function(e){e.valid&&this.CloseModal()}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"ChangeBatchQty",value:function(e,t,n){}},{key:"ChangeBatchNo",value:function(e,t,n){this._Receipt.details[this.SelectedRowIndex].batcheslist[n].batchno=t.trim(),console.log(this._Receipt.details,"ChangeBatchNo")}},{key:"DeleteRow",value:function(e,t){this._Receipt.details[this.SelectedRowIndex].batcheslist.pop(),console.log(this._Receipt.details,"DeleteRow")}},{key:"OnSerialItemsInItemComponent",value:function(e,n){var i=this;if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.itemscomponent[this.selectedindex].batcheslist=[]),this.SelectedItemComp=this._Receipt.itemscomponent[e],this.selectedindex=e,this._Receipt.itemscomponent[e].qty<=0)this.toastr.error(this.InValidQty);else{this.requiredserial=this._Receipt.itemscomponent[e].isrequireserial;var r=this.ItemComponentUnitsList.filter(function(t){return t.item_id==i._Receipt.itemscomponent[e].item_id&&t.id==i._Receipt.itemscomponent[e].unit_id});this._batchqty=this._Receipt.itemscomponent[e].qty*(this._Receipt.itemscomponent[e].conv*r[0].finalconv/r[0].conv),this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.itemscomponent[e].item_id,this._Receipt.itemscomponent[e].store_id,this._Receipt.id?parseInt(this._Receipt.id.toString()):0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(r){i.BatchesListForEatchRow=[];var o=[];if(o=r.seriallist,console.log(r.seriallist,"d.seriallist"),i._Receipt.itemscomponent[i.selectedindex].batcheslist.forEach(function(e){var t=o.findIndex(function(t){return t.id==e.previtemserialid});-1!=t&&(e.inv_receipt_d_id>0?null==i._Receipt.itemscomponent[i.selectedindex].validrow||1==i._Receipt.itemscomponent[i.selectedindex].validrow?(o[t].qty=e.qty,o[t].oldqty=e.qty,i._Receipt.itemscomponent[i.selectedindex].validrow=!0):o[t].availableqty=o[t].availableqty+e.qty:1==i._Receipt.itemscomponent[i.selectedindex].validrow&&(o[t].qty=e.qty,o[t].oldqty=e.qty,o[t].availableqty=o[t].availableqty-e.qty,i._Receipt.itemscomponent[i.selectedindex].validrow=!0))}),i._Receipt.id>0)for(var a=0;a<o.length;a++)null==o[a].qty&&0==o[a].availableqty||i.BatchesListForEatchRow.push(o[a]);else i.BatchesListForEatchRow=t(o);if(1==i.CashCustomerSetting.salesreturneffect&&1==i.CashCustomerSetting.dispensingpolicy){if(i._Receipt.itemscomponent[i.selectedindex].id>0&&i.ReceiptID>0){console.log(i.BatchesListForEatchRow);for(var c=0;c<i.BatchesListForEatchRow.length;c++)i.BatchesListForEatchRow[c].availableqty+=i.BatchesListForEatchRow[c].oldqty,i.BatchesListForEatchRow[c].qty=0,i.BatchesListForEatchRow[c].solidquantity=0}var l=0;if(i.BatchesListForEatchRow.forEach(function(e){l+=e.availableqty}),console.log(l,i._Receipt.itemscomponent[e].qty),i._Receipt.itemscomponent[e].qty>l)return void i.toastr.error(i.InValidQtyForBatch);if(i._Receipt.itemscomponent[e].qty==l)i.BatchesListForEatchRow.forEach(function(e){e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),i.saveSerialOnSalesReturnEffectDispensingPolicy();else{var s=i._Receipt.itemscomponent[e].qty;i.BatchesListForEatchRow.forEach(function(e){0!=s&&(e.availableqty>=s?(e.qty=s,e.oldqty=s,e.availableqty=e.availableqty-s,s=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,s-=e.availableqty,e.availableqty=0))}),i.saveSerialOnSalesReturnEffectDispensingPolicy()}}else i.OpenModal(n);1==i.CashCustomerSetting.salesreturneffect&&1==i.CashCustomerSetting.dispensingpolicy&&i.OpenModal(n)})}}},{key:"saveserial",value:function(e){var t=this;if(e.valid){if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.itemscomponent[this.selectedindex].validrow=!1);var n,i=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0}),i!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.itemscomponent[this.selectedindex].validrow=!1);var r=1;this.BatchesListForEatchRow.map(function(e){if(r++,e.qty>0){var i=t._Receipt.itemscomponent[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=i?t._Receipt.itemscomponent[t.selectedindex].batcheslist[i].qty=+e.qty.toString():((n=new rt.WB).id=0,n.qty=+e.qty,n.storeid=e.storeid,n.storename=e.name,n.storename_ar=e.name_ar,n.batchno=e.serial,n.date=e.expire_date,n.previtemserialid=e.id,n.serial=r,n.valid=!1,n.isdublicatebatch=!1,n.isused=!1,n.inv_receipt_d_id=null,n.solidquantity=null,t._Receipt.itemscomponent[t.selectedindex].batcheslist.push(n)),t._Receipt.itemscomponent[t.selectedindex].validrow=!0}}),this.CloseModal()}console.log(this._Receipt.itemscomponent,"this._Receipt.itemscomponent")}},{key:"saveSerialOnSalesReturnEffectDispensingPolicy",value:function(){var e=this;if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.itemscomponent[this.selectedindex].validrow=!1);var t,n=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.itemscomponent[this.selectedindex].validrow=!1);var i=1;this.BatchesListForEatchRow.map(function(n){if(i++,n.qty>0){var r=e._Receipt.itemscomponent[e.selectedindex].batcheslist.findIndex(function(e){return e.previtemserialid==n.id});-1!=r?e._Receipt.itemscomponent[e.selectedindex].batcheslist[r].qty=+n.qty.toString():((t=new rt.WB).id=0,t.qty=+n.qty,t.storeid=n.storeid,t.storename=n.name,t.storename_ar=n.name_ar,t.batchno=n.serial,t.date=n.expire_date,t.previtemserialid=n.id,t.serial=i,t.valid=!1,t.isdublicatebatch=!1,t.isused=!1,t.inv_receipt_d_id=null,t.solidquantity=null,e._Receipt.itemscomponent[e.selectedindex].batcheslist.push(t)),e._Receipt.itemscomponent[e.selectedindex].validrow=!0}}),console.log(this._Receipt.itemscomponent,"this._Receipt.itemscomponent")}},{key:"ChangeBatchQtyInItemComponent",value:function(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.itemscomponent[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=e.availableqty+e.oldqty-+t,e.oldqty=+t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](ne.n),u["\u0275\u0275directiveInject"](et.v),u["\u0275\u0275directiveInject"](ie.t),u["\u0275\u0275directiveInject"](nt.H),u["\u0275\u0275directiveInject"](ot.M),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](h.gz),u["\u0275\u0275directiveInject"](oe.t2),u["\u0275\u0275directiveInject"](k.e),u["\u0275\u0275directiveInject"](ae.$),u["\u0275\u0275directiveInject"](re.J),u["\u0275\u0275directiveInject"](l.uU),u["\u0275\u0275directiveInject"](l.Ye),u["\u0275\u0275directiveInject"](S.g),u["\u0275\u0275directiveInject"](de.FF))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["productionvoucher-details"]],viewQuery:function(e,t){var n;(1&e&&u["\u0275\u0275viewQuery"](vl,5),2&e)&&(u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[u["\u0275\u0275ProvidersFeature"]([ne.n,et.v,ie.t,l.uU,nt.H,re.J,S.g,ot.M])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-lg-5","col-md-5"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","EntryCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts",""],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","ExpensesDistributionVoucherNo",1,"col-form-label"],["type","text","id","ExpensesDistributionVoucherNo","name","ExpensesDistributionVoucherNo",1,"form-control",3,"ngModel","readonly","ngModelChange"],["ExpensesDistributionVoucherNo","ngModel"],["delay","0","minLength","0","field","entry_no","name","BatchOrder",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoBatchOrder",""],["pTemplate","BatchOrderTemplate"],["class","col-12 col-md-3 mb-2  mb-md-0",4,"ngIf"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5",2,"margin-top","4rem"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalProductionCostForeign",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalProductionCost",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalVoucherCostForeign",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalVoucherCost",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","text","name","totalexpensses_foreign",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totalexpensses",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totallaborers_foreign",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","text","name","totallaborers",1,"form-control",3,"ngModel","readonly"],["PositiveNumbersOnly","","type","number","name","allvouchercost_foreign",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","allvouchercost",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],[1,"col-md-7"],["_AddPatchModal",""],["serialModel",""],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["type","button",1,"dropdown-item",3,"click"],[3,"entryno","_savedemailobj"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],["Value","null"],[3,"value"],[1,"list-unstyled","mb-0","px-0"],[1,"d-inline-block","mr-2"],[1,"radio"],["type","radio","name","typeComp","id","radio1",3,"value","ngModel","change","ngModelChange"],["for","radio1"],["type","radio","name","typeComp","id","radio2",3,"value","ngModel","change","ngModelChange"],["for","radio2"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table",2,"width","100%","margin-bottom","120px !important"],["scope","col",2,"width","5%"],["scope","col",2,"width","10%"],["scope","col",2,"width","12%"],["scope","col","style","width:5%; white-space: normal;text-align: center;",4,"ngIf"],["scope","col",2,"width","5%","white-space","normal","text-align","center"],["scope","col","style","width: 11%; white-space: normal;text-align: center;",4,"ngIf"],["scope","col",2,"width","11%","white-space","normal"],["scope","col","style","width:11%;",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],["scope","col",2,"width","15%"],["scope","col","style","width: 8%;",4,"ngIf"],["scope","col",2,"width","10%","white-space","normal"],["scope","col","style","width:7%;  white-space: normal;",4,"ngIf"],["scope","col","style","width: 15%; white-space: normal;",4,"ngIf"],["scope","col","style","width: 15%",4,"ngIf"],["scope","col",2,"width","11%","white-space","normal","text-align","center"],["scope","col",2,"width","11%"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"disabled","ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf","ngForTrackBy"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"disabled","Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","stepallow","ngModel","name","required","ngClass","ngModelChange"],["item_productionunitexpense","ngModel"],["item_productionqtyexpense","ngModel"],["item_additionalexpensesandlabors","ngModel"],[1,"text-center","gridActionsTd"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","stepallow","Min","CheckMin","ngModel","name","required","ngClass","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","ngClass","ngModelChange"],["item_defaultitemcost","ngModel"],["item_costdiff","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"readonly","ngModel","name","Min","CheckMin","ngClass","ngModelChange"],["item_price","ngModel"],[2,"cursor","no-drop","margin","0px 5px"],[1,"fa","fa-trash","font-medium-3","m-0"],["href","javascript:;",1,"primary","transparent-BG",2,"margin","0px 5px",3,"click"],["href","javascript:;",1,"info","p-0",3,"hidden","click"],[1,"fa","fa-list","font-medium-3","mr-2"],["scope","col",2,"width","8%"],["scope","col",2,"width","7%","white-space","normal"],["scope","col",2,"width","15%","white-space","normal"],["autoStorecomponent",""],["pTemplate","servstorecomponentTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItemscomponent",""],["pTemplate","servCodecomponentTemplate"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemcomponentunit","ngModel"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","ngModel","name","ngClass","keyup","ngModelChange"],["itemcomponent_qty","ngModel"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],["itemcomponent_conv","ngModel"],["defaultitemqty","ngModel"],["PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","required","ngClass","ngModelChange"],["item_qtydiff","ngModel"],["itemcomponent_price","ngModel"],["itemcomponent_total","ngModel"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[4,"ngFor","ngForOf"],[1,"form-control","red",3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",1,"form-control","red",3,"ngModel","name","ngModelChange"],["LinkedReceiptsentry_no","ngModel"],[1,"text-center"],["aria-hidden","true",1,"fa","fa-plus-square","font-medium-3"],["aria-hidden","true",1,"fa","fa-eye","font-medium-3"],[1,"fa","fa-trash","font-medium-3"],[1,"table-accountdetails",3,"ngClass"],["scope","col",2,"min-width","30px"],["scope","col",2,"max-width","5px"],["type","text","name","TotalExpensses",1,"form-control","totalValInput",3,"ngModel","disabled"],[1,"form-control","red",3,"name","ngModel","ngModelChange","change"],["PositiveNumbersOnly","","type","number",1,"form-control","red",3,"ngModel","name","keyup","ngModelChange"],["ExpensesValue","ngModel"],["PositiveNumbersOnly","","type","number","required","",1,"form-control","red",3,"ngModel","name","ngClass","min","disabled","ngModelChange","keyup"],["ExpensesExchangeRate","ngModel"],["class","has-error",4,"ngIf"],[1,"form-control",3,"id","click"],["hidden","true","PositiveNumbersOnly","","type","number","customMin","",1,"form-control","red",3,"ngModel","Min","id","name","focusout","ngModelChange","keyup"],["ExpensesLocalValue","ngModel"],["minLength","0","delay","0","field","accountcode",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoAccount",""],["type","text",1,"form-control","red",3,"ngModel","name","ngModelChange"],["ExpensesNotes","ngModel"],[1,"gridActionsTd"],["href","javascript:;",1,"btn","btn-primary","transparent-BG","ml-1",3,"click"],[1,"has-error"],["scope","col",2,"min-width","10px"],["PositiveNumbersOnly","","type","text","name","ovr_TotalLaborers",1,"form-control","totalValInput",3,"readonly","ngModel"],["laboreremployeeid","ngModel"],["appTimeFormat","","required","","type","text",1,"form-control","red",3,"ngModel","ngClass","id","name","focusout","ngModelChange"],["timeString","ngModel"],["type","text",1,"form-control","red",3,"ngModel","name","disabled","keyup"],["hourlywages","ngModel"],["laborerValue","ngModel"],["laborerNotes","ngModel"],[3,"signature","signatureoutput"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","10%"],["style","width: 15%",4,"ngIf"],[2,"width","20%"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary","mx-2"],[1,"modal-title"],[2,"width","15%"],["type","checkbox","disabled","",3,"name","checked"],["type","number","disabled","",1,"form-control",3,"name","value"],["type","text","disabled","",1,"form-control",3,"name","value"],["type","text",1,"form-control",3,"name","value","ngClass","disabled","change"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"icon-trash"],["type","number","PositiveNumbersOnly","","min","0","disabled","",1,"form-control",3,"name","value","ngClass","change"],["type","date","required","",1,"form-control",3,"name","ngModel","ngClass","disabled","ngModelChange"],["type","button",1,"btn","btn-primary","col-md-4"],["type","button",1,"btn","btn-info","col-md-2","mx-2"],["type","button",1,"btn","btn-primary","col-md-2"],["type","submit",1,"btn","btn-success"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,yl,4,3,"div",0),u["\u0275\u0275template"](1,Qd,222,190,"ng-container",1)),2&e&&(u["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(366)||t.checkRoleParms(367)||t.checkRoleParms(368)||t.checkRoleParms(628))),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.checkRolesParms(u["\u0275\u0275pureFunction0"](2,Wd))))},directives:[l.O5,p._Y,p.JL,p.F,p.EJ,p.Q7,p.JJ,p.On,l.mk,l.sg,p.Fj,at.L,ct.a,C.Qc,lt.jx,de.Pz,de.nv,de.Vx,de.uN,de.tO,p.wV,se.K,oe.Ro,dt.k,p.YN,p.Kr,p._,p.qQ,pt.L,mt.t,ut.T],pipes:[g.X$,l.uU,ht.p,gt.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}td[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1rem}.valid-qty[_ngcontent-%COMP%]{color:#342e49}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}table[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{display:block!important}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}']}),e}(),Hd=function e(){c(this,e),this.customertype=0,this.vendor_id=null,this.cashcustomerid=null,this.FromDate=null,this.ToDate=null,this.fromDateString="",this.toDateString="",this.SearchValue="",this.orderby="",this.PageNo=1,this.PageSize=10},Yd=function(){var e=function(){function e(t){c(this,e),this.http=t,this.baseUrl=it.N.apiUrl}return a(e,[{key:"GetBatchOrderByCustomer",value:function(e){return this.http.post(this.baseUrl+"/UnProducedWorkOrders/GetBatchOrderByCustomer",e).pipe((0,mo.U)(function(e){return e}))}},{key:"GetCountBatchOrderByCustomer",value:function(e){return this.http.post(this.baseUrl+"/UnProducedWorkOrders/GetCountBatchOrderByCustomer",e).pipe((0,mo.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](m.eN))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function Zd(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function Kd(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name_ar)}}function Xd(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",45),u["\u0275\u0275template"](1,Zd,2,1,"span",43),u["\u0275\u0275template"](2,Kd,2,1,"span",43),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"]();u["\u0275\u0275propertyInterpolate"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function ep(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sugar)}}function tp(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sug)}}function np(e,t){if(1&e&&(u["\u0275\u0275template"](0,ep,2,1,"div",43),u["\u0275\u0275template"](1,tp,2,1,"div",43)),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ip(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",13),u["\u0275\u0275elementStart"](1,"div",14),u["\u0275\u0275elementStart"](2,"label",18),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",2),u["\u0275\u0275elementStart"](6,"p-autoComplete",46,47),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](7);return u["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._UnProduceWorkOrders.vendor_code=e})("onSelect",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(e)})("onClear",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._UnProduceWorkOrders.vendor_id=null}),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275template"](9,np,2,2,"ng-template",27),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](4,6,"Customer#"),""),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",i._UnProduceWorkOrders.vendor_code)("suggestions",i.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](8,8,"NoResultsFound"))("forceSelection",!0)}}function rp(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sugar)}}function op(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sug)}}function ap(e,t){if(1&e&&(u["\u0275\u0275template"](0,rp,2,1,"div",43),u["\u0275\u0275template"](1,op,2,1,"div",43)),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function cp(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",48),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ExecuteAll()}),u["\u0275\u0275element"](1,"i",30),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"ExecuteAll")," "))}function lp(e,t){1&e&&u["\u0275\u0275element"](0,"img",49)}function sp(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function dp(e,t){1&e&&u["\u0275\u0275element"](0,"i",57)}function pp(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function mp(e,t){1&e&&u["\u0275\u0275element"](0,"i",57)}function up(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",53),u["\u0275\u0275template"](2,pp,1,0,"i",54),u["\u0275\u0275template"](3,mp,1,0,"i",55),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function hp(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function gp(e,t){1&e&&u["\u0275\u0275element"](0,"i",57)}function _p(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",53),u["\u0275\u0275template"](2,hp,1,0,"i",54),u["\u0275\u0275template"](3,gp,1,0,"i",55),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","BranchNameAr"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchNameAr"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchNameAr"==n.sortColumn&&"desc"==n.sortDirection)}}function fp(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function Cp(e,t){1&e&&u["\u0275\u0275element"](0,"i",57)}function vp(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function yp(e,t){1&e&&u["\u0275\u0275element"](0,"i",57)}function bp(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",53),u["\u0275\u0275template"](2,vp,1,0,"i",54),u["\u0275\u0275template"](3,yp,1,0,"i",55),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","CustomerName"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"desc"==n.sortDirection)}}function xp(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function Mp(e,t){1&e&&u["\u0275\u0275element"](0,"i",57)}function Sp(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",53),u["\u0275\u0275template"](2,xp,1,0,"i",54),u["\u0275\u0275template"](3,Mp,1,0,"i",55),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","CustomerNameAr"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerNameAr"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerNameAr"==n.sortColumn&&"desc"==n.sortDirection)}}function Pp(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function Rp(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function Op(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.customername)}}function Ip(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.customernamear)}}function Ep(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](3,Pp,2,1,"td",43),u["\u0275\u0275template"](4,Rp,2,1,"td",43),u["\u0275\u0275elementStart"](5,"td"),u["\u0275\u0275text"](6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](7,Op,2,1,"td",43),u["\u0275\u0275template"](8,Ip,2,1,"td",43),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function wp(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"tr",59),u["\u0275\u0275elementStart"](2,"th"),u["\u0275\u0275text"](3),u["\u0275\u0275elementStart"](4,"button",60),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).GoTOProductionVoucher(e)}),u["\u0275\u0275element"](5,"i",61),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275text"](7,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"td"),u["\u0275\u0275text"](9,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"td"),u["\u0275\u0275text"](11,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](12,Ep,9,6,"tr",58),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=t.$implicit;u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"]("",i[0].entry_date," "),u["\u0275\u0275advance"](9),u["\u0275\u0275property"]("ngForOf",i)}}function kp(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275template"](1,wp,13,2,"ng-container",58),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",n.ReciptlistbyEntryDate)}}function Bp(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275elementStart"](1,"tr",62),u["\u0275\u0275elementStart"](2,"td",63),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Dp(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275elementStart"](1,"table",50),u["\u0275\u0275elementStart"](2,"thead"),u["\u0275\u0275elementStart"](3,"tr",51),u["\u0275\u0275elementStart"](4,"th",52),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetBatchOrderByCustomer("Entry_No")}),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementContainerStart"](7),u["\u0275\u0275element"](8,"i",53),u["\u0275\u0275template"](9,sp,1,0,"i",54),u["\u0275\u0275template"](10,dp,1,0,"i",55),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"th",52),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetBatchOrderByCustomer("BranchName")}),u["\u0275\u0275text"](12),u["\u0275\u0275pipe"](13,"translate"),u["\u0275\u0275template"](14,up,4,3,"ng-container",43),u["\u0275\u0275template"](15,_p,4,3,"ng-container",43),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"th",52),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetBatchOrderByCustomer("Entry_Date")}),u["\u0275\u0275text"](17),u["\u0275\u0275pipe"](18,"translate"),u["\u0275\u0275elementContainerStart"](19),u["\u0275\u0275element"](20,"i",53),u["\u0275\u0275template"](21,fp,1,0,"i",54),u["\u0275\u0275template"](22,Cp,1,0,"i",55),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](23,"th",52),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetBatchOrderByCustomer("CustomerName")}),u["\u0275\u0275text"](24),u["\u0275\u0275pipe"](25,"translate"),u["\u0275\u0275template"](26,bp,4,3,"ng-container",43),u["\u0275\u0275template"](27,Sp,4,3,"ng-container",43),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](28,kp,2,1,"tbody",43),u["\u0275\u0275template"](29,Bp,5,3,"tbody",43),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](6,16,"EntryNo")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](13,18,"Branch")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](18,20,"Date")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](25,22,"customer")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.ReciptlistbyEntryDate.length>0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==i.ReciptlistbyEntryDate.length)}}function Fp(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",64),u["\u0275\u0275elementStart"](1,"p"),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"ngb-pagination",65),u["\u0275\u0275listener"]("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onPageChange(e)})("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().PageNo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",10)("boundaryLinks",!0)}}var Lp=function(e,t){return{"invalid-data":e,"valid-data":t}},qp=function(){var n=function(){function n(e,t,i,r,o,a,l,s,d,p,m,u){var h=this;c(this,n),this._CustomerService=e,this._ReceiptSharedService=t,this._UnProducedWorkOrdersService=i,this.cd=r,this.toastr=o,this._router=a,this._generalService=l,this.translate=s,this._translateGlobalService=d,this.spinner=p,this._activeRoute=m,this._authService=u,this.subsidiaryID=0,this.CustomerTypesList=[{id:0,name:"One Customer",name_ar:"\u0643\u0644 \u0639\u0645\u064a\u0644 \u0639\u0644\u0649 \u062d\u062f\u0627"},{id:1,name:"All Customers",name_ar:"\u0643\u0644 \u0627\u0644\u0639\u0645\u0644\u0627\u0621"}],this.CashCustomerList=[],this.CustomerAccountsList=[],this._UnProduceWorkOrders=new Hd,this.invalidDateMsg="",this.title="",this.PageSize=10,this.PageNo=1,this.totalCount=0,this.ReciptlistbyEntryDate=[],this.isloading=!1,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){h.lang=e.lang,h.dir=e.dir,h.translate.use(e.lang),h.ngTransUnsubscribe=h.translate.get(["invalidDateMsg","UnProducedWorkOrders"]).subscribe(function(e){h.invalidDateMsg=e.invalidDateMsg,h.title=e.UnProducedWorkOrders,document.title=h.title})}),this.ngUnsubscribe=l.proadCastSubsidiaryID.subscribe(function(e){0==h.subsidiaryID&&(h.subsidiaryID=h._generalService.SubsidiaryID),h.subsidiaryID!=h._generalService.SubsidiaryID&&h.subsidiaryID>0&&(h.subsidiaryID=h._generalService.SubsidiaryID)})}return a(n,[{key:"ngOnInit",value:function(){}},{key:"View",value:function(){this._UnProduceWorkOrders.SubsidiaryID=this.subsidiaryID,this._UnProduceWorkOrders.PageNo=this.PageNo,this._UnProduceWorkOrders.PageSize=this.PageSize,this._UnProduceWorkOrders.ToDate<this._UnProduceWorkOrders.FromDate?this.toastr.error(this.invalidDateMsg):(this.GetBatchOrderByCustomer(),this.GetCountBatchOrderByCustomer())}},{key:"ExecuteAll",value:function(){}},{key:"GoTOProductionVoucher",value:function(t){if(t.length>0){var n,i=[],r=e(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;i.push(o.id)}}catch(c){r.e(c)}finally{r.f()}var a=i.join(",");this._router.navigate(["/page/production/productionvoucher/0/0/0/"+a]).then(function(){})}}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){this._UnProduceWorkOrders.vendor_id=e.accountid}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.CustomerAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"onFocusInCashCustomer",value:function(e){this.GetCashCustomerList("")}},{key:"CashCustomerChangeSearch",value:function(e){this.GetCashCustomerList(e.query.trim())}},{key:"CashCustomerSelectEvent",value:function(e){this._UnProduceWorkOrders.cashcustomerid=e.id}},{key:"GetCashCustomerList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.CashCustomerSearch_Phone(this.subsidiaryID,t).subscribe(function(t){e.CashCustomerList=[],e.CashCustomerList=t,e.cd.markForCheck()})}},{key:"GetBatchOrderByCustomer",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==n?null:n,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=n&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._UnProduceWorkOrders.orderby=this.sortColumn+"."+this.sortDirection),this.isloading=!0,this._UnProducedWorkOrdersService.GetBatchOrderByCustomer(this._UnProduceWorkOrders).subscribe(function(n){e.BatchOrderListByCustomer=t(n);var i=e.groupBy(n,"entry_date");e.ReciptlistbyEntryDate=Object.values(i),setTimeout(function(){},200),e.cd.markForCheck(),e.isloading=!1})}},{key:"GetCountBatchOrderByCustomer",value:function(){var e=this;this._UnProducedWorkOrdersService.GetCountBatchOrderByCustomer(this._UnProduceWorkOrders).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"groupBy",value:function(e,t){return e.reduce(function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e},{})}},{key:"GetBatchOrderByCustomerSearch",value:function(){this.GetBatchOrderByCustomer(),this.GetCountBatchOrderByCustomer()}},{key:"changeCustomerType",value:function(){1==this._UnProduceWorkOrders.customertype&&(this._UnProduceWorkOrders.vendor_id=null),this.GetBatchOrderByCustomerSearch()}},{key:"FromDateChange",value:function(e){this._UnProduceWorkOrders.FromDate=new Date(e),this._UnProduceWorkOrders.fromDateString=e}},{key:"ToDateChange",value:function(e){this._UnProduceWorkOrders.ToDate=new Date(e),this._UnProduceWorkOrders.toDateString=e}},{key:"onPageChange",value:function(e){this._UnProduceWorkOrders.PageNo=e,this.PageNo=e,this.GetBatchOrderByCustomer()}},{key:"onPageSizeChange",value:function(e){this._UnProduceWorkOrders.PageSize=e,this.PageSize=e,this.GetCountBatchOrderByCustomer()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),n}();return n.\u0275fac=function(e){return new(e||n)(u["\u0275\u0275directiveInject"](et.v),u["\u0275\u0275directiveInject"](ie.t),u["\u0275\u0275directiveInject"](Yd),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](oe.t2),u["\u0275\u0275directiveInject"](h.gz),u["\u0275\u0275directiveInject"](k.e))},n.\u0275cmp=u["\u0275\u0275defineComponent"]({type:n,selectors:[["app-un-produced-work-orders"]],features:[u["\u0275\u0275ProvidersFeature"]([et.v,ie.t,Yd])],decls:89,vars:56,consts:[[1,"col-md-12","col-lg-12"],[1,"row"],[1,"col-12"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-content"],[1,"card-body"],[1,"row","d-flex"],[1,"col-8"],["method","POST","role","form"],["RForm","ngForm"],[1,"col-6","mb-2","mb-md-0"],[1,"form-group"],[1,"mb-1","mr-3"],["name","Customer",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","From",1,"col-12"],["type","date","id","FromDate","name","FromDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["FromDate","ngModel"],["for","to",1,"col-12"],["type","date","id","ToDate","name","ToDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["ToDate","ngModel"],["class","col-6 mb-2 mb-md-0",4,"ngIf"],["minLength","0","delay","0","field","phonenumber","name","cashAccount",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCashCustomer",""],["pTemplate","CustomerAccountsTemplate"],[1,"col-12","col-md-2","mb-2","mb-md-0",2,"padding-top","30px"],["type","button",1,"btn","btn-success","mr-2",3,"click"],[1,"mr-1"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","25"],["Value","50"],["Value","100"],[1,"m-1"],[1,"form-group","row"],["for","SearchValue",1,"col-md-3"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-4",3,"ngModel","ngModelChange","keyup"],[1,"card-body","table-responsive"],["src","../../../../assets/img/loading/loading.gif",4,"ngIf"],[4,"ngIf"],["class","d-flex justify-content-between p-2",4,"ngIf"],[3,"value"],["minLength","0","delay","0","field","code","name","CreditAccount",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts",""],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["src","../../../../assets/img/loading/loading.gif"],[1,"table","text-center","m-0","table","table-striped"],[2,"background","#e9f1f5","color","cornflowerblue"],[3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"alert","alert-light"],[1,"btn","btn-primary",3,"click"],[1,"icon-list"],[2,"background-color","#b0bed9"],["colspan","10"],[1,"d-flex","justify-content-between","p-2"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"]],template:function(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275elementStart"](2,"section"),u["\u0275\u0275elementStart"](3,"div",2),u["\u0275\u0275elementStart"](4,"div",3),u["\u0275\u0275elementStart"](5,"div",4),u["\u0275\u0275elementStart"](6,"div",5),u["\u0275\u0275elementStart"](7,"h6",6),u["\u0275\u0275text"](8),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"div",7),u["\u0275\u0275elementStart"](11,"div",8),u["\u0275\u0275elementStart"](12,"div",9),u["\u0275\u0275elementStart"](13,"div",10),u["\u0275\u0275elementStart"](14,"form",11,12),u["\u0275\u0275elementStart"](16,"div",1),u["\u0275\u0275elementStart"](17,"div",13),u["\u0275\u0275elementStart"](18,"div",14),u["\u0275\u0275elementStart"](19,"label",15),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"div",2),u["\u0275\u0275elementStart"](23,"select",16),u["\u0275\u0275listener"]("ngModelChange",function(e){return t._UnProduceWorkOrders.customertype=e})("change",function(){return t.changeCustomerType()}),u["\u0275\u0275template"](24,Xd,3,3,"option",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"div",1),u["\u0275\u0275elementStart"](26,"div",13),u["\u0275\u0275elementStart"](27,"div",14),u["\u0275\u0275elementStart"](28,"label",18),u["\u0275\u0275text"](29),u["\u0275\u0275pipe"](30,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"div",2),u["\u0275\u0275elementStart"](32,"input",19,20),u["\u0275\u0275listener"]("ngModelChange",function(e){return t._UnProduceWorkOrders.FromDate=e})("focusout",function(e){return t.FromDateChange(e.target.value)}),u["\u0275\u0275pipe"](34,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](35,"div",13),u["\u0275\u0275elementStart"](36,"div",14),u["\u0275\u0275elementStart"](37,"label",21),u["\u0275\u0275text"](38),u["\u0275\u0275pipe"](39,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](40,"div",2),u["\u0275\u0275elementStart"](41,"input",22,23),u["\u0275\u0275listener"]("ngModelChange",function(e){return t._UnProduceWorkOrders.ToDate=e})("focusout",function(e){return t.ToDateChange(e.target.value)}),u["\u0275\u0275pipe"](43,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](44,"div",1),u["\u0275\u0275template"](45,ip,10,10,"div",24),u["\u0275\u0275elementStart"](46,"div",13),u["\u0275\u0275elementStart"](47,"div",14),u["\u0275\u0275elementStart"](48,"label",21),u["\u0275\u0275text"](49),u["\u0275\u0275pipe"](50,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](51,"div",2),u["\u0275\u0275elementStart"](52,"p-autoComplete",25,26),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var i=u["\u0275\u0275reference"](53);return t.onFocusInCashCustomer(e),i.show()})("ngModelChange",function(e){return t._UnProduceWorkOrders.cashcustomer_code=e})("onSelect",function(e){return t.CashCustomerSelectEvent(e)})("completeMethod",function(e){return t.CashCustomerChangeSearch(e)})("onClear",function(){return t._UnProduceWorkOrders.cashcustomerid=null}),u["\u0275\u0275pipe"](54,"translate"),u["\u0275\u0275template"](55,ap,2,2,"ng-template",27),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](56,"div",1),u["\u0275\u0275element"](57,"div",28),u["\u0275\u0275elementStart"](58,"div",2),u["\u0275\u0275elementStart"](59,"button",29),u["\u0275\u0275listener"]("click",function(){return t.View()}),u["\u0275\u0275element"](60,"i",30),u["\u0275\u0275text"](61),u["\u0275\u0275pipe"](62,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](63,cp,4,3,"button",31),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](64,"div",1),u["\u0275\u0275elementStart"](65,"select",32),u["\u0275\u0275listener"]("change",function(e){return t.onPageSizeChange(e.target.value)})("ngModelChange",function(e){return t.PageSize=e}),u["\u0275\u0275elementStart"](66,"option",33),u["\u0275\u0275text"](67,"10 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](68,"option",34),u["\u0275\u0275text"](69,"25 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](70,"option",35),u["\u0275\u0275text"](71,"50 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](72,"option",36),u["\u0275\u0275text"](73,"100 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](74,"label",37),u["\u0275\u0275text"](75),u["\u0275\u0275pipe"](76,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](77,"div",1),u["\u0275\u0275element"](78,"hr"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](79,"div",38),u["\u0275\u0275elementStart"](80,"label",39),u["\u0275\u0275text"](81),u["\u0275\u0275pipe"](82,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](83,"input",40),u["\u0275\u0275listener"]("ngModelChange",function(e){return t._UnProduceWorkOrders.SearchValue=e})("keyup",function(){return t.GetBatchOrderByCustomerSearch()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](84,"div",7),u["\u0275\u0275elementStart"](85,"div",41),u["\u0275\u0275template"](86,lp,1,0,"img",42),u["\u0275\u0275template"](87,Dp,30,24,"div",43),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](88,Fp,4,6,"div",44),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](33),r=u["\u0275\u0275reference"](42);u["\u0275\u0275advance"](8),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](9,26,"UnProducedWorkOrders")," "),u["\u0275\u0275advance"](12),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](21,28,"Customer")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",t._UnProduceWorkOrders.customertype),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",t.CustomerTypesList),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](30,30,"From"),""),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](34,32,t._UnProduceWorkOrders.FromDate,"yyyy-MM-dd"))("ngClass",u["\u0275\u0275pureFunction2"](50,Lp,i.invalid,i.valid)),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](39,35,"to"),""),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](43,37,t._UnProduceWorkOrders.ToDate,"yyyy-MM-dd"))("ngClass",u["\u0275\u0275pureFunction2"](53,Lp,r.invalid,r.valid)),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",0==t._UnProduceWorkOrders.customertype),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](50,40,"CashCustomerphone"),""),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",t._UnProduceWorkOrders.cashcustomer_code)("suggestions",t.CashCustomerList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](54,42,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](62,44,"View")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==t._UnProduceWorkOrders.customertype),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",t.PageSize),u["\u0275\u0275advance"](10),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](76,46,"Records per page")),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](82,48,"Search")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",t._UnProduceWorkOrders.SearchValue),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",t.isloading),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!t.isloading),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.totalCount>0)}},directives:[p._Y,p.JL,p.F,p.EJ,p.JJ,p.On,l.sg,p.Fj,l.mk,l.O5,C.Qc,lt.jx,p.YN,p.Kr,de.N9],pipes:[g.X$,l.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}']}),n}(),Vp=function(){var e=function(){function e(t){c(this,e),this.http=t,this.baseUrl=it.N.apiUrl}return a(e,[{key:"GetMaxCostPostedSerDate",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/Receipts/GetMaxCostPostedSerDate?Date=").concat(e,"&SubID=").concat(t)).pipe((0,mo.U)(function(e){return e}))}},{key:"GetAllExpensesDistribution",value:function(e,t,n){return this.http.get("".concat(this.baseUrl,"/ExpensesDistribution/GetAllExpensesDistribution?SubId=").concat(e,"&PageNo=").concat(t,"&PageSize=").concat(n)).pipe((0,mo.U)(function(e){return e}))}},{key:"GetCountExpensesDistribution",value:function(e){return this.http.get("".concat(this.baseUrl,"/ExpensesDistribution/GetCountExpensesDistribution?SubId=").concat(e)).pipe((0,mo.U)(function(e){return e}))}},{key:"GetExpensesDistributionCode",value:function(e,t){return this.http.get("".concat(this.baseUrl,"/ExpensesDistribution/GetExpensesDistributionCode?SubId=").concat(t,"&Date=").concat(e)).pipe((0,mo.U)(function(e){return e}))}},{key:"ExpensesDistributionCreate",value:function(e){return this.http.post(this.baseUrl+"/ExpensesDistribution/ExpensesDistributionCreate",e).pipe((0,mo.U)(function(e){return e}))}},{key:"ExpensesDistributionUpdate",value:function(e){return this.http.post(this.baseUrl+"/ExpensesDistribution/ExpensesDistributionUpdate",e).pipe((0,mo.U)(function(e){return e}))}},{key:"CalcExpensesDistribution",value:function(e,t,n){return this.http.get("".concat(this.baseUrl,"/ExpensesDistribution/CalcExpensesDistribution?SubId=").concat(e,"&DistributionTransLastDate=").concat(t,"&DistributionToDate=").concat(n)).pipe((0,mo.U)(function(e){return e}))}},{key:"PerformExpensesDistribution",value:function(e){return this.http.post(this.baseUrl+"/ExpensesDistribution/PerformExpensesDistribution",e).pipe((0,mo.U)(function(e){return e}))}},{key:"DeleteExpensesDistribution",value:function(e){return this.http.post(this.baseUrl+"/ExpensesDistribution/DeleteExpensesDistribution",e).pipe((0,mo.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](m.eN))},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),Np=function e(){c(this,e),this.distributioncode=null,this.distributiontranslastdate=null,this.distributiontodate=null,this.debittransactions=null,this.credittransactions=null,this.difftransactions=null,this.branchid=null,this.voucherid=null,this.userid=null,this.lang=null};function Tp(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",4),u["\u0275\u0275elementStart"](1,"h1",5),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Up(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",23),u["\u0275\u0275elementStart"](1,"button",24),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).Add()}),u["\u0275\u0275element"](2,"i",25),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](4,1,"Add")," "))}function Ap(e,t){1&e&&u["\u0275\u0275element"](0,"img",26)}function Gp(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",29),u["\u0275\u0275text"](1,"\xa0"),u["\u0275\u0275elementEnd"]())}function $p(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.distributionuser)}}function zp(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.distributionuserar)}}function jp(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.branchname)}}function Qp(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.branchnamear)}}function Wp(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"a",34),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](2).$implicit;return u["\u0275\u0275nextContext"](4).Delete(e)}),u["\u0275\u0275element"](1,"i",35),u["\u0275\u0275elementEnd"]()}}function Jp(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td",29),u["\u0275\u0275template"](1,Wp,2,0,"a",33),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](),i=n.index,r=n.$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==i&&0==r.posted)}}function Hp(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr",28),u["\u0275\u0275elementStart"](1,"td",29),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"td",29),u["\u0275\u0275text"](4),u["\u0275\u0275pipe"](5,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td",29),u["\u0275\u0275template"](7,$p,2,1,"span",1),u["\u0275\u0275template"](8,zp,2,1,"span",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"td",29),u["\u0275\u0275text"](10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td",29),u["\u0275\u0275text"](12),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"td",29),u["\u0275\u0275text"](14),u["\u0275\u0275pipe"](15,"number"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"td",29),u["\u0275\u0275template"](17,jp,2,1,"span",1),u["\u0275\u0275template"](18,Qp,2,1,"span",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"td",29),u["\u0275\u0275elementStart"](20,"a",32),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](4).GOTOVoucher(e)}),u["\u0275\u0275text"](21),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](22,Jp,2,1,"td",30),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](i.distributioncode),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind2"](5,11,i.distributiontodate,"yyyy-MM-dd")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf","ar"!=r.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==r.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](i.debittransactions),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](i.credittransactions),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind2"](15,14,i.debittransactions-i.credittransactions,"1.0-3")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf","ar"!=r.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==r.lang),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",i.voucherno," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",r.checkRoleParms(8751))}}function Yp(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275template"](1,Hp,23,17,"tr",31),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",n.ExpensesDistribution)}}function Zp(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275elementStart"](1,"tr",36),u["\u0275\u0275elementStart"](2,"td",37),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Kp(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"table",27),u["\u0275\u0275elementStart"](1,"thead"),u["\u0275\u0275elementStart"](2,"tr",28),u["\u0275\u0275elementStart"](3,"th",29),u["\u0275\u0275text"](4),u["\u0275\u0275pipe"](5,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"th",29),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",29),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",29),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",29),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"th",29),u["\u0275\u0275text"](19),u["\u0275\u0275pipe"](20,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](21,"th",29),u["\u0275\u0275text"](22),u["\u0275\u0275pipe"](23,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"th",29),u["\u0275\u0275text"](25),u["\u0275\u0275pipe"](26,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](27,Gp,2,0,"th",30),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](28,Yp,2,1,"tbody",1),u["\u0275\u0275template"](29,Zp,5,3,"tbody",1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](5,11,"ExpensesDistributionNum")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](8,13,"DistributionToDate")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](11,15,"DistributionUser")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](14,17,"DebitTransactions")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](17,19,"CreditTransactions")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](20,21,"DiffTransactions")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](23,23,"Branch")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](26,25,"VoucherNo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",n.checkRoleParms(8751)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",n.ExpensesDistribution.length>0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==n.ExpensesDistribution.length)}}function Xp(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",38),u["\u0275\u0275elementStart"](1,"ngb-pagination",39),u["\u0275\u0275listener"]("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PageNo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](2,"p"),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"select",40),u["\u0275\u0275listener"]("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PageSize=e}),u["\u0275\u0275elementStart"](5,"option",41),u["\u0275\u0275text"](6),u["\u0275\u0275pipe"](7,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"option",42),u["\u0275\u0275text"](9),u["\u0275\u0275pipe"](10,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"option",43),u["\u0275\u0275text"](12),u["\u0275\u0275pipe"](13,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",10)("boundaryLinks",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",i.PageSize),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](7,10,"10 items per page")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](10,12,"50 items per page")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](13,14,"100 items per page"))}}function em(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",6),u["\u0275\u0275elementStart"](2,"section"),u["\u0275\u0275elementStart"](3,"div",7),u["\u0275\u0275elementStart"](4,"div",6),u["\u0275\u0275elementStart"](5,"div",8),u["\u0275\u0275elementStart"](6,"div",9),u["\u0275\u0275elementStart"](7,"h6",10),u["\u0275\u0275text"](8),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"div",11),u["\u0275\u0275elementStart"](11,"div",4),u["\u0275\u0275elementStart"](12,"div",12),u["\u0275\u0275elementStart"](13,"div",13),u["\u0275\u0275elementStart"](14,"div",14),u["\u0275\u0275elementStart"](15,"label",15),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](18,"div",14),u["\u0275\u0275elementStart"](19,"input",16),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().maxpostingdate=e}),u["\u0275\u0275pipe"](20,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](21,Up,5,3,"div",17),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"div",18),u["\u0275\u0275elementStart"](23,"div",19),u["\u0275\u0275elementStart"](24,"div"),u["\u0275\u0275elementStart"](25,"div",19),u["\u0275\u0275template"](26,Ap,1,0,"img",20),u["\u0275\u0275template"](27,Kp,30,27,"table",21),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](28,Xp,14,16,"div",22),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](8),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](9,8,"ExpensesDistribution")," "),u["\u0275\u0275advance"](8),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](17,10,"LastVoucherPostingDate")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](20,12,i.maxpostingdate,"yyyy-MM-dd"))("disabled",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(8750)),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf",i.isloading),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!i.isloading),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var tm=function(){return[8749]},nm=function(){var e=function(){function e(t,n,i,r,o,a,l,s,d,p,m){var u=this;c(this,e),this._ExpensesDistributionService=t,this.cd=n,this.toastr=i,this._generalService=r,this._router=o,this.translate=a,this._translateGlobalService=l,this._printService=s,this._Excel=d,this.spinner=p,this._authService=m,this.subsidiaryID=0,this.PageSize=10,this.totalCount=0,this.PageNo=1,this.sortDirection="asc",this.sortColumn="",this.orderby="",this.toastrSuccessDelete="",this.toastrErrorDelete="",this.DeleteRelationmsg="",this.title="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Cancel="",this.ExpensesDistribution=[],this.isloading=!1,this._ExpensesDistribution=new Np,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){u.lang=e.lang,u.dir=e.dir,u.translate.use(e.lang),u.GetMaxCostPostedSerDate(),u.GetDetails(),u.GetCount(),u.ngTransUnsubscribe=u.translate.get(["ExpensesDistribution"]).subscribe(function(e){u.title=e.ExpensesDistribution,document.title=u.title}),u.ngTransUnsubscribe=u.translate.get(["swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Cancel","DeleteRelationmsg"]).subscribe(function(e){u.swalDeleteTitle=e.swalDeleteTitle,u.swalDetlateText=e.swalDetlateText,u.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,u.Cancel=e.Cancel,u.DeleteRelationmsg=e.DeleteRelationmsg}),u.ngTransUnsubscribe=u.translate.get("successMsg").subscribe(function(e){u.toastrSuccessDelete=e}),u.ngTransUnsubscribe=u.translate.get("errorMsg").subscribe(function(e){u.toastrErrorDelete=e})}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(function(e){u.subsidiaryID=u._generalService.SubsidiaryID,u.PageSize=10,u.PageNo=1,u.GetMaxCostPostedSerDate(),u.cd.markForCheck()})}return a(e,[{key:"onFocus",value:function(){document.title=this.title}},{key:"onBlur",value:function(){document.title=this.title}},{key:"ngOnInit",value:function(){}},{key:"onPageChange",value:function(e){this.PageNo=e,this.GetDetails()}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this.GetDetails()}},{key:"GOTOVoucher",value:function(e){this._router.navigate(["/page/financial/voucher/1/"+e.voucherid])}},{key:"Add",value:function(){this._router.navigate(["/page/production/addexpensesdistribution"])}},{key:"GetDetails",value:function(){var e=this;this._ExpensesDistributionService.GetAllExpensesDistribution(this.subsidiaryID,this.PageNo,this.PageSize).subscribe(function(t){e.ExpensesDistribution=t,e.cd.markForCheck()})}},{key:"GetCount",value:function(){var e=this;this._ExpensesDistributionService.GetCountExpensesDistribution(this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this.Date=new Date,this._ExpensesDistributionService.GetMaxCostPostedSerDate(this.Date,this.subsidiaryID).subscribe(function(t){e.maxpostingdate=Date.parse(t[0].maxpostingdate.toString()),e.cd.markForCheck()})}},{key:"Delete",value:function(e){var t=this;Ke().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&(t._ExpensesDistribution={id:e.id,subsidaryid:t.subsidiaryID,distributioncode:e.distributioncode,distributiontranslastdate:e.distributiontranslastdate,distributiontodate:e.distributiontodate,debittransactions:e.debittransactions,credittransactions:e.credittransactions,difftransactions:e.difftransactions,branchid:e.branchid,voucherid:e.voucherid,userid:e.userid,lang:t.lang},t.spinner.show(),t._ExpensesDistributionService.DeleteExpensesDistribution(t._ExpensesDistribution).subscribe(function(e){t.spinner.hide(),1==e?t.toastr.success(t.toastrSuccessDelete):t.toastr.error(t.DeleteRelationmsg),t.GetDetails(),t.GetCount()}))})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](Vp),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](ae.$),u["\u0275\u0275directiveInject"](ce.x),u["\u0275\u0275directiveInject"](oe.t2),u["\u0275\u0275directiveInject"](k.e))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["expenses-distribution"]],hostBindings:function(e,t){1&e&&u["\u0275\u0275listener"]("focus",function(e){return t.onFocus(e)},!1,u["\u0275\u0275resolveWindow"])("blur",function(e){return t.onBlur(e)},!1,u["\u0275\u0275resolveWindow"])},features:[u["\u0275\u0275ProvidersFeature"]([Vp])],decls:5,vars:4,consts:[["class","row",4,"ngIf"],[4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-12"],["id","print-section",1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-lg-12","col-md-12","col-sm-12","mt-3"],[1,"col-md-6"],[1,"row","mt-1"],[1,"col-lg-4","col-md-4","col-sm-12"],["for","maxpostingdate",1,"col-form-label"],["type","date","id","maxpostingdate","name","maxpostingdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","col-md-6 text-right mt-2 text-center-sm",4,"ngIf"],[1,"card-content"],[1,"card-body","table-responsive"],["src","../../../assets/img/loading/loading.gif",4,"ngIf"],["class","table text-center m-0 table table-striped","id","Transfer",4,"ngIf"],["class","d-flex justify-content-between p-2",4,"ngIf"],[1,"col-md-6","text-right","mt-2","text-center-sm"],[1,"col-md-6","btn","btn-success","mr-2",3,"click"],[1,""],["src","../../../assets/img/loading/loading.gif"],["id","Transfer",1,"table","text-center","m-0","table","table-striped"],[1,"text-center"],["scope","col"],["scope","col",4,"ngIf"],["class","text-center",4,"ngFor","ngForOf"],["href","javascript:;",1,"info","p-0",3,"click"],["href","javascript:;","class","danger p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"danger","p-0",3,"click"],[1,"ft-x","font-medium-3"],[2,"background-color","#b0bed9"],["colspan","9"],[1,"d-flex","justify-content-between","p-2"],[1,"d-flex","justify-content-center",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,Tp,4,3,"div",0),u["\u0275\u0275template"](1,em,29,15,"ng-container",1),u["\u0275\u0275elementStart"](2,"ngx-spinner",2),u["\u0275\u0275elementStart"](3,"p",3),u["\u0275\u0275text"](4," Loading... "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("ngIf",!t.checkRoleParms(8749)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.checkRolesParms(u["\u0275\u0275pureFunction0"](3,tm))),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,oe.Ro,p.Fj,p.JJ,p.On,l.sg,de.N9,p.EJ,p.YN,p.Kr],pipes:[g.X$,l.uU,l.JJ],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}'],changeDetection:0}),e}();function im(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",2),u["\u0275\u0275elementStart"](1,"h1",3),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function rm(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",25),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).Perform()}),u["\u0275\u0275element"](1,"i",26),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](3,1,"Perform")," "))}function om(e,t){1&e&&u["\u0275\u0275element"](0,"img",41)}var am=function(e,t){return{"invalid-data":e,"valid-data":t}};function cm(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",4),u["\u0275\u0275elementStart"](2,"section"),u["\u0275\u0275elementStart"](3,"div",5),u["\u0275\u0275elementStart"](4,"div",4),u["\u0275\u0275elementStart"](5,"div",6),u["\u0275\u0275elementStart"](6,"div",7),u["\u0275\u0275elementStart"](7,"h6",8),u["\u0275\u0275text"](8),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"div",9),u["\u0275\u0275elementStart"](11,"div",4),u["\u0275\u0275elementStart"](12,"section"),u["\u0275\u0275elementStart"](13,"div",2),u["\u0275\u0275elementStart"](14,"div",4),u["\u0275\u0275elementStart"](15,"div",10),u["\u0275\u0275elementStart"](16,"div",11),u["\u0275\u0275elementStart"](17,"div",9),u["\u0275\u0275elementStart"](18,"form",12,13),u["\u0275\u0275elementStart"](20,"div",2),u["\u0275\u0275elementStart"](21,"div",14),u["\u0275\u0275elementStart"](22,"div",15),u["\u0275\u0275elementStart"](23,"label",16),u["\u0275\u0275text"](24),u["\u0275\u0275pipe"](25,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](26,"input",17,18),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ExpensesDistribution.distributioncode=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"div",14),u["\u0275\u0275elementStart"](29,"div",15),u["\u0275\u0275elementStart"](30,"label",19),u["\u0275\u0275text"](31),u["\u0275\u0275pipe"](32,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"input",20,21),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ExpensesDistribution.distributiontranslastdate=e})("focusout",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().FromDateChange(e.target.value)}),u["\u0275\u0275pipe"](35,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](36,"div",14),u["\u0275\u0275elementStart"](37,"div",15),u["\u0275\u0275elementStart"](38,"label",22),u["\u0275\u0275text"](39),u["\u0275\u0275pipe"](40,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](41,"input",23,24),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ExpensesDistribution.distributiontodate=e})("focusout",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ToDateChange(e.target.value)}),u["\u0275\u0275pipe"](43,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](44,"div",14),u["\u0275\u0275elementStart"](45,"button",25),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().Preview()}),u["\u0275\u0275element"](46,"i",26),u["\u0275\u0275text"](47),u["\u0275\u0275pipe"](48,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](49,"div",2),u["\u0275\u0275elementStart"](50,"div",14),u["\u0275\u0275elementStart"](51,"div",15),u["\u0275\u0275elementStart"](52,"label",27),u["\u0275\u0275text"](53),u["\u0275\u0275pipe"](54,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](55,"input",28,29),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ExpensesDistribution.debittransactions=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](57,"div",14),u["\u0275\u0275elementStart"](58,"div",15),u["\u0275\u0275elementStart"](59,"label",30),u["\u0275\u0275text"](60),u["\u0275\u0275pipe"](61,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](62,"input",31,32),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ExpensesDistribution.credittransactions=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](64,"div",14),u["\u0275\u0275elementStart"](65,"div",15),u["\u0275\u0275elementStart"](66,"label",33),u["\u0275\u0275text"](67),u["\u0275\u0275pipe"](68,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](69,"input",34,35),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ExpensesDistribution.difftransactions=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](71,"div",2),u["\u0275\u0275elementStart"](72,"div",36),u["\u0275\u0275template"](73,rm,4,3,"button",37),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](74,"div",36),u["\u0275\u0275elementStart"](75,"button",38),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().Close()}),u["\u0275\u0275element"](76,"i",26),u["\u0275\u0275text"](77),u["\u0275\u0275pipe"](78,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](79,"div",11),u["\u0275\u0275elementStart"](80,"div",39),u["\u0275\u0275elementStart"](81,"div"),u["\u0275\u0275elementStart"](82,"div",39),u["\u0275\u0275template"](83,om,1,0,"img",40),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](34),r=u["\u0275\u0275reference"](42),o=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](8),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](9,20,"ExpensesDistribution")," "),u["\u0275\u0275advance"](16),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](25,22,"ExpensesDistributionNum")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",o._ExpensesDistribution.distributioncode),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](32,24,"DistributionTransLastDate")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](35,26,o._ExpensesDistribution.distributiontranslastdate,"yyyy-MM-dd"))("ngClass",u["\u0275\u0275pureFunction2"](44,am,i.invalid,i.valid)),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](40,29,"DistributionToDate")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](43,31,o._ExpensesDistribution.distributiontodate,"yyyy-MM-dd"))("ngClass",u["\u0275\u0275pureFunction2"](47,am,r.invalid,r.valid)),u["\u0275\u0275advance"](4),u["\u0275\u0275attribute"]("disabled",1==o.validDate||null),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](48,34,"Preview")," "),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](54,36,"DebitTransactions")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",o._ExpensesDistribution.debittransactions),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](61,38,"CreditTransactions")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",o._ExpensesDistribution.credittransactions),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](68,40,"DiffTransactions")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",o._ExpensesDistribution.difftransactions),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",1==o.HasProductionVoucher&&o._ExpensesDistribution.difftransactions>0),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](78,42,"Exit")," "),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("ngIf",o.isloading)}}var lm=function(){return[8749]},sm=function(){var e=function(){function e(t,n,i,r,o,a,l,s,d,p){var m=this;c(this,e),this._ExpensesDistributionService=t,this.cd=n,this.toastr=i,this._generalService=r,this._router=o,this.translate=a,this._translateGlobalService=l,this.spinner=s,this.datepipe=d,this._authService=p,this.subsidiaryID=0,this.PageSize=10,this.totalCount=0,this.PageNo=1,this.sortDirection="asc",this.sortColumn="",this.orderby="",this.toastrSuccessDelete="",this.toastrErrorDelete="",this.DeleteRelationmsg="",this.title="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Cancel="",this._ExpensesDistribution=new Np,this.isloading=!1,this.HasProductionVoucher=!1,this.validDate=!1,this.subsidiaryID=this._generalService.SubsidiaryID,this.GetExpensesDistributionCode(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["ExpensesDistribution"]).subscribe(function(e){m.title=e.ExpensesDistribution,document.title=m.title}),m.ngTransUnsubscribe=m.translate.get(["swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Cancel","DeleteRelationmsg","DateError"]).subscribe(function(e){m.swalDeleteTitle=e.swalDeleteTitle,m.swalDetlateText=e.swalDetlateText,m.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,m.Cancel=e.Cancel,m.DeleteRelationmsg=e.DeleteRelationmsg,m.DateError=e.DateError}),m.ngTransUnsubscribe=m.translate.get("successMsg").subscribe(function(e){m.toastrSuccessDelete=e}),m.ngTransUnsubscribe=m.translate.get("errorMsg").subscribe(function(e){m.toastrErrorDelete=e})}),this.ngUnsubscribe=r.proadCastSubsidiaryID.subscribe(function(e){m.subsidiaryID=m._generalService.SubsidiaryID,m.GetExpensesDistributionCode(),m.cd.markForCheck()})}return a(e,[{key:"onFocus",value:function(){document.title=this.title}},{key:"onBlur",value:function(){document.title=this.title}},{key:"ngOnInit",value:function(){}},{key:"GetExpensesDistributionCode",value:function(){var e=this;this.Date=new Date,this._ExpensesDistributionService.GetExpensesDistributionCode(this.Date,this.subsidiaryID).subscribe(function(t){null==t.distributioncode?e._ExpensesDistribution.distributioncode=1:(e._ExpensesDistribution.distributioncode=t.distributioncode+1,e.lastdistributiontransdate=t.distributiontranslastdate),e._ExpensesDistribution.subsidaryid=e.subsidiaryID,e._ExpensesDistribution.lang=e.lang,e._ExpensesDistribution.distributiontodate=e.datepipe.transform(t.distributiontodate,"yyyy-MM-dd"),e._ExpensesDistribution.distributiontranslastdate=e.datepipe.transform(t.distributiontranslastdate,"yyyy-MM-dd"),e.cd.markForCheck()})}},{key:"Preview",value:function(){var e=this;this.isloading=!0,this._ExpensesDistributionService.CalcExpensesDistribution(this.subsidiaryID,this._ExpensesDistribution.distributiontranslastdate,this._ExpensesDistribution.distributiontodate).subscribe(function(t){0==t.length?(e._ExpensesDistribution.credittransactions=0,e._ExpensesDistribution.debittransactions=0,e._ExpensesDistribution.difftransactions=0):(e._ExpensesDistribution.credittransactions=t.productionexpenses.totalcredit,e._ExpensesDistribution.debittransactions=t.productionexpenses.totaldebit,e._ExpensesDistribution.difftransactions=t.productionexpenses.diff,e.HasProductionVoucher=t.produtionreceiptcount.total>0),e.isloading=!1,e.cd.markForCheck()})}},{key:"Perform",value:function(){var e=this;this.isloading=!0,this._ExpensesDistributionService.PerformExpensesDistribution(this._ExpensesDistribution).subscribe(function(t){e.isloading=!1,e._router.navigate(["/page/production/expensesdistribution"])})}},{key:"Close",value:function(){this._router.navigate(["/page/production/expensesdistribution"])}},{key:"FromDateChange",value:function(e){this._ExpensesDistribution.distributiontodate<this._ExpensesDistribution.distributiontranslastdate&&(this.validDate=!0,this.toastr.warning(this.DateError))}},{key:"ToDateChange",value:function(e){this._ExpensesDistribution.distributiontodate<this._ExpensesDistribution.distributiontranslastdate?(this.validDate=!0,this.toastr.warning(this.DateError)):this.validDate=!1}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](Vp),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](oe.t2),u["\u0275\u0275directiveInject"](l.uU),u["\u0275\u0275directiveInject"](k.e))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-expenses-distribution-details"]],hostBindings:function(e,t){1&e&&u["\u0275\u0275listener"]("focus",function(e){return t.onFocus(e)},!1,u["\u0275\u0275resolveWindow"])("blur",function(e){return t.onBlur(e)},!1,u["\u0275\u0275resolveWindow"])},features:[u["\u0275\u0275ProvidersFeature"]([Vp,l.uU])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[2,"margin","0 30% 0 30%","margin-top","200px"],[1,"col-12"],["id","print-section",1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"card","transparent-BG","box-shadow-none"],[1,"card-content"],["method","POST","role","form"],["RForm","ngForm"],[1,"col-lg-3","col-md-3","col-sm-12"],[1,"form-group"],["for","distributioncode"],["type","number","name","distributioncode","id","distributioncode","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["distributioncode","ngModel"],["for","FromDate"],["type","date","id","FromDate","name","FromDate","readonly","","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["FromDate","ngModel"],["for","ToDate"],["type","date","id","ToDate","name","ToDate","requird","",1,"form-control",3,"ngModel","ngClass","ngModelChange","focusout"],["ToDate","ngModel"],["type","button",1,"btn","btn-primary","mb-0","me-3","ng-star-inserted","mt-3",3,"click"],[1,""],["for","debittransactions"],["type","number","name","debittransactions","id","debittransactions","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["debittransactions","ngModel"],["for","credittransactions"],["type","number","name","credittransactions","id","credittransactions","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["credittransactions","ngModel"],["for","difftransactions"],["type","number","name","difftransactions","id","difftransactions","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["difftransactions","ngModel"],[1,"col-lg-2","col-md-2","col-sm-6"],["type","button","class","btn btn-primary mb-0 me-3\n                                              ng-star-inserted mt-3",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mb-0","me-3","ng-star-inserted","mt-3",3,"click"],[1,"card-body","table-responsive"],["src","../../../assets/img/loading/loading.gif",4,"ngIf"],["src","../../../assets/img/loading/loading.gif"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,im,4,3,"div",0),u["\u0275\u0275template"](1,cm,84,50,"ng-container",1)),2&e&&(u["\u0275\u0275property"]("ngIf",!t.checkRoleParms(8749)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.checkRolesParms(u["\u0275\u0275pureFunction0"](2,lm))))},directives:[l.O5,p._Y,p.JL,p.F,p.wV,p.Fj,p.JJ,p.On,l.mk],pipes:[g.X$,l.uU],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.red.form-control[_ngcontent-%COMP%]:focus{color:#75787d;background-color:transparent;border-color:#f74c4c;outline:0;box-shadow:none}.inline-flex[_ngcontent-%COMP%]{display:inline-flex}.signature-container[_ngcontent-%COMP%]{border-style:dashed;border-width:1px;margin-bottom:20px;background-color:#fff;width:40%}.buttons[_ngcontent-%COMP%]{float:right}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:10px;background-color:#1e90ff;color:#fff;border-radius:5px}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#cdcdce;opacity:1}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}'],changeDetection:0}),e}();function dm(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",4),u["\u0275\u0275elementStart"](1,"h1",5),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function pm(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function mm(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name_ar)}}function um(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",53),u["\u0275\u0275template"](1,pm,2,1,"span",48),u["\u0275\u0275template"](2,mm,2,1,"span",48),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275propertyInterpolate"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function hm(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",54),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).OnAdd()}),u["\u0275\u0275element"](1,"i",28),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"Add")," "))}function gm(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function _m(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function fm(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",49),u["\u0275\u0275template"](2,gm,1,0,"i",50),u["\u0275\u0275template"](3,_m,1,0,"i",51),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","BranchName"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchName"==n.sortColumn&&"desc"==n.sortDirection)}}function Cm(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function vm(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function ym(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",49),u["\u0275\u0275template"](2,Cm,1,0,"i",50),u["\u0275\u0275template"](3,vm,1,0,"i",51),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","BranchNameAR"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","BranchNameAR"==n.sortColumn&&"desc"==n.sortDirection)}}function bm(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function xm(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function Mm(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function Sm(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function Pm(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function Rm(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function Om(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",49),u["\u0275\u0275template"](2,Pm,1,0,"i",50),u["\u0275\u0275template"](3,Rm,1,0,"i",51),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","CustomerName"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerName"==n.sortColumn&&"desc"==n.sortDirection)}}function Im(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function Em(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function wm(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"i",49),u["\u0275\u0275template"](2,Im,1,0,"i",50),u["\u0275\u0275template"](3,Em,1,0,"i",51),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden","CustomerNamear"==n.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"asc"==n.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","CustomerNamear"==n.sortColumn&&"desc"==n.sortDirection)}}function km(e,t){1&e&&u["\u0275\u0275element"](0,"i",55)}function Bm(e,t){1&e&&u["\u0275\u0275element"](0,"i",56)}function Dm(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.branchname)}}function Fm(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](null==n?null:n.branchnamear)}}function Lm(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.customername)}}function qm(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.customernamear," ")}}function Vm(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"a",62),u["\u0275\u0275element"](1,"i",63),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/reverseproductionvoucher/",null==n?null:n.id,"")}}function Nm(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275template"](1,Dm,2,1,"td",48),u["\u0275\u0275template"](2,Fm,2,1,"td",48),u["\u0275\u0275elementStart"](3,"td"),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"td"),u["\u0275\u0275text"](6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](7,Lm,2,1,"td",48),u["\u0275\u0275template"](8,qm,2,1,"td",48),u["\u0275\u0275elementStart"](9,"td"),u["\u0275\u0275text"](10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td",58),u["\u0275\u0275template"](12,Vm,2,1,"a",59),u["\u0275\u0275elementStart"](13,"a",60),u["\u0275\u0275elementStart"](14,"span"),u["\u0275\u0275element"](15,"i",61),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.entry_no),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.entry_date),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.reference_no),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(10147)),u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("routerLink","/page/production/reverseproductionvoucher/",null==n?null:n.id,"/show")}}function Tm(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275template"](1,Nm,16,9,"tr",57),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",n.ReceiptList)}}function Um(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"tbody"),u["\u0275\u0275elementStart"](1,"tr",64),u["\u0275\u0275elementStart"](2,"td",65),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](4,1,"NoData")))}function Am(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",66),u["\u0275\u0275elementStart"](1,"ngb-pagination",67),u["\u0275\u0275listener"]("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPageChange(e)})("pageChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PageNo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](2,"p"),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"select",68),u["\u0275\u0275listener"]("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PageSize=e}),u["\u0275\u0275elementStart"](5,"option",69),u["\u0275\u0275text"](6,"10 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"option",70),u["\u0275\u0275text"](8,"50 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"option",71),u["\u0275\u0275text"](10,"100 "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](11,"br"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("collectionSize",i.totalCount)("page",i.PageNo)("pageSize",i.PageSize)("maxSize",5)("boundaryLinks",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",i._generalService.TotalDetailsTextShow(i.PageNo,i.PageSize,i.totalCount,i.lang)," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",i.PageSize)}}function Gm(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",6),u["\u0275\u0275elementStart"](1,"div",7),u["\u0275\u0275elementStart"](2,"div",8),u["\u0275\u0275elementStart"](3,"div",9),u["\u0275\u0275elementStart"](4,"h6",10),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",11),u["\u0275\u0275elementStart"](8,"div",12),u["\u0275\u0275elementStart"](9,"section"),u["\u0275\u0275elementStart"](10,"div",4),u["\u0275\u0275elementStart"](11,"div",13),u["\u0275\u0275elementStart"](12,"form",14,15),u["\u0275\u0275listener"]("ngSubmit",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().SearchReceiptByEntryNo()}),u["\u0275\u0275elementStart"](14,"div",4),u["\u0275\u0275elementStart"](15,"div",16),u["\u0275\u0275elementStart"](16,"div",17),u["\u0275\u0275elementStart"](17,"label",18),u["\u0275\u0275text"](18),u["\u0275\u0275pipe"](19,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"select",19,20),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ReceiptSearch.BranchID=e})("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ChangeBranch(e.target.value)}),u["\u0275\u0275elementStart"](22,"option",21),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](25,um,3,3,"option",22),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](26,"div",16),u["\u0275\u0275elementStart"](27,"div",17),u["\u0275\u0275elementStart"](28,"label",23),u["\u0275\u0275text"](29),u["\u0275\u0275pipe"](30,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](31,"input",24,25),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ReceiptSearch.EntryNo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"div",26),u["\u0275\u0275elementStart"](34,"button",27),u["\u0275\u0275element"](35,"i",28),u["\u0275\u0275text"](36),u["\u0275\u0275pipe"](37,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"button",29),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ShowAll()}),u["\u0275\u0275element"](39,"i",28),u["\u0275\u0275text"](40),u["\u0275\u0275pipe"](41,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"div",30),u["\u0275\u0275elementStart"](43,"div",31),u["\u0275\u0275elementStart"](44,"div",32),u["\u0275\u0275template"](45,hm,4,3,"button",33),u["\u0275\u0275elementStart"](46,"button",34),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().OnPrint()}),u["\u0275\u0275element"](47,"i",28),u["\u0275\u0275text"](48),u["\u0275\u0275pipe"](49,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](50,"button",35),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().OnPrint(1)}),u["\u0275\u0275element"](51,"i",28),u["\u0275\u0275text"](52),u["\u0275\u0275pipe"](53,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](54,"button",36),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().OnExcel()}),u["\u0275\u0275element"](55,"i",28),u["\u0275\u0275text"](56),u["\u0275\u0275pipe"](57,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](58,"div",37),u["\u0275\u0275elementStart"](59,"div",38),u["\u0275\u0275elementStart"](60,"label",39),u["\u0275\u0275text"](61),u["\u0275\u0275pipe"](62,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](63,"input",40,41),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._ReceiptSearch.SearchValue=e})("keyup",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ChangePropFinish()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](65,"div",4),u["\u0275\u0275elementStart"](66,"div",42),u["\u0275\u0275elementStart"](67,"div",43),u["\u0275\u0275elementStart"](68,"div",44),u["\u0275\u0275elementStart"](69,"div",45),u["\u0275\u0275elementStart"](70,"table",46),u["\u0275\u0275elementStart"](71,"thead"),u["\u0275\u0275elementStart"](72,"tr"),u["\u0275\u0275elementStart"](73,"th",47),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("BranchName")}),u["\u0275\u0275text"](74),u["\u0275\u0275pipe"](75,"translate"),u["\u0275\u0275template"](76,fm,4,3,"ng-container",48),u["\u0275\u0275template"](77,ym,4,3,"ng-container",48),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](78,"th",47),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("Entry_No")}),u["\u0275\u0275text"](79),u["\u0275\u0275pipe"](80,"translate"),u["\u0275\u0275elementContainerStart"](81),u["\u0275\u0275element"](82,"i",49),u["\u0275\u0275template"](83,bm,1,0,"i",50),u["\u0275\u0275template"](84,xm,1,0,"i",51),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](85,"th",47),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("Entry_Date")}),u["\u0275\u0275text"](86),u["\u0275\u0275pipe"](87,"translate"),u["\u0275\u0275elementContainerStart"](88),u["\u0275\u0275element"](89,"i",49),u["\u0275\u0275template"](90,Mm,1,0,"i",50),u["\u0275\u0275template"](91,Sm,1,0,"i",51),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](92,"th",47),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("CustomerName")}),u["\u0275\u0275text"](93),u["\u0275\u0275pipe"](94,"translate"),u["\u0275\u0275template"](95,Om,4,3,"ng-container",48),u["\u0275\u0275template"](96,wm,4,3,"ng-container",48),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](97,"th",47),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().GetReceiptList("Reference_No")}),u["\u0275\u0275text"](98),u["\u0275\u0275pipe"](99,"translate"),u["\u0275\u0275elementContainerStart"](100),u["\u0275\u0275element"](101,"i",49),u["\u0275\u0275template"](102,km,1,0,"i",50),u["\u0275\u0275template"](103,Bm,1,0,"i",51),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](104,"th"),u["\u0275\u0275text"](105,"\xa0"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](106,"tbody"),u["\u0275\u0275template"](107,Tm,2,1,"tbody",48),u["\u0275\u0275template"](108,Um,5,3,"tbody",48),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](109,Am,12,7,"div",52),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](6,36,"productionvoucher2"),""),u["\u0275\u0275advance"](13),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](19,38,"Branch")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i._ReceiptSearch.BranchID),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](24,40,"All")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",i.BranchList),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](30,42,"EntryNo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i._ReceiptSearch.EntryNo),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](37,44,"Search")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("",u["\u0275\u0275pipeBind1"](41,46,"All")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(10146)),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](49,48,"Print")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](53,50,"pdf")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](57,52,"Excel")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](62,54,"Search")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",i._ReceiptSearch.SearchValue),u["\u0275\u0275advance"](11),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](75,56,"Branch")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](80,58,"EntryNo")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","Entry_No"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_No"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](87,60,"Date")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","Entry_Date"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Entry_Date"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](94,62,"Customer")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](99,64,"Reference_No")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("hidden","Reference_No"==i.sortColumn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Reference_No"==i.sortColumn&&"asc"==i.sortDirection),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","Reference_No"==i.sortColumn&&"desc"==i.sortDirection),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",i.ReceiptList.length>0),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",0==i.ReceiptList.length),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var $m=function(){var e=function(){function e(t,n,i,r,o,a,l,s,d,p,m,u,h,g,_){var f=this;c(this,e),this._cashsalesService=t,this.cd=n,this.toastr=i,this._router=r,this._generalService=o,this.translate=a,this._translateGlobalService=l,this.spinner=s,this._activeRoute=d,this._ReceiptSharedService=p,this._authService=m,this._printService=u,this._Excel=h,this._convertToPDF=g,this._VerifyReportsService=_,this.loaded=!1,this.subsidiaryID=0,this.PageSize=10,this.PageNo=1,this.ReceiptList=[],this.totalCount=0,this.BranchList=[],this.list=[],this._ReceiptSearch=new R.Wb,this.NumNotExist="",this.title="",this.sortDirection="asc",this.sortColumn="",this.timeout=null,this.SelectBranchMsg="",this.EntryNumberMsg="",this.subsidiaryID=this._generalService.SubsidiaryID,this.GetBranchList(),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){f.lang=e.lang,f.dir=e.dir,f.translate.use(e.lang),f.ngTransUnsubscribe=f.translate.get("SelectBranchError").subscribe(function(e){f.SelectBranchMsg=e}),f.ngTransUnsubscribe=f.translate.get("EntryNumberMsg").subscribe(function(e){f.EntryNumberMsg=e})}),this.ngTransUnsubscribe=this.translate.get(["productionvoucher2"]).subscribe(function(e){f.title=e.productionvoucher2,document.title=f.title}),this.ngTransUnsubscribe=this.translate.get(["NumNotExist"]).subscribe(function(e){f.NumNotExist=e.NumNotExist}),this.ngUnsubscribe=o.proadCastSubsidiaryID.subscribe(function(e){if(0==f.subsidiaryID&&(f.subsidiaryID=f._generalService.SubsidiaryID,f.ReceiptSearch()),f.subsidiaryID!=f._generalService.SubsidiaryID&&f.subsidiaryID>0){f.subsidiaryID=f._generalService.SubsidiaryID;var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),f._ReceiptSearch.BranchID=0,localStorage.setItem("Branch",JSON.stringify({branchId:f._ReceiptSearch.BranchID})),f._ReceiptSearch.PageNo=1,f._ReceiptSearch.PageSize=10,f.GetBranchList(),f.ReceiptSearch()}}),d.params.subscribe(function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t?(console.log(t.branchId),f._ReceiptSearch.BranchID="null"!=t.branchId?t.branchId:0):f._ReceiptSearch.BranchID=0})}return a(e,[{key:"ngOnInit",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this._ReceiptSearch.ReceiptCode="20",this._ReceiptSearch.sortColumn="Entry_Date.desc",0!=this.subsidiaryID&&(this.GetReceiptList(),this.GetReceiptListCount())}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e.ReceiptSearch()},1e3*t)}},{key:"ReceiptSearch",value:function(){this._ReceiptSearch.SubsidaryID=this.subsidiaryID,this.GetReceiptList(),this.GetReceiptListCount()}},{key:"GetBranchList",value:function(){var e=this;this._cashsalesService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"ChangeBranch",value:function(e){var t=JSON.parse(localStorage.getItem("Branch"));null!=t&&null!=t&&localStorage.removeItem("Branch"),this._ReceiptSearch.BranchID="0"!=e?e:0,localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this._ReceiptSearch.PageNo=1,this._ReceiptSearch.PageSize=10,this.ReceiptSearch()}},{key:"GetReceiptList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.sortColumn=null==t?null:t,this.sortDirection="asc"==this.sortDirection?"desc":"asc","ar"==this.lang&&("branch"!=this.sortColumn&&"accountname"!=this.sortColumn||(this.sortColumn=this.sortColumn+"ar")),null!=t&&(this.PageNo=1),null!=this.sortColumn&&""!=this.sortDirection&&(this._ReceiptSearch.sortColumn=this.sortColumn+"."+this.sortDirection),this.spinner.show(),this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._ReceiptSearch.EntryNo.toString().length>10&&(this.ReceiptList=[],this.toastr.warning(this.NumNotExist),this.spinner.hide()),this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(t){e.ReceiptList=[],e.list=t,1==e.list.length&&e._ReceiptSearch.EntryNo>0?e._router.navigate(["/page/production/reverseproductionvoucher/"+e.list[0].id]):0==e.list.length&&e._ReceiptSearch.EntryNo>0?e.toastr.warning(e.NumNotExist):e.ReceiptList=t,e.cd.markForCheck(),e.spinner.hide()})}},{key:"GetReceiptListCount",value:function(){var e=this;this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptListCount(this._ReceiptSearch).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigate(["/page/production/reverseproductionvoucher/0"])}},{key:"OnView",value:function(e){this._router.navigate(["/page/production/reverseproductionvoucher/"+e.id+"/show"])}},{key:"onEdit",value:function(e){var t;t="/page/production/reverseproductionvoucher/".concat(e.id),this._router.navigate([t])}},{key:"ShowAll",value:function(){this._ReceiptSearch.BranchID=0,this._ReceiptSearch.EntryNo=0;var e=JSON.parse(localStorage.getItem("Branch"));null!=e&&null!=e&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._ReceiptSearch.BranchID})),this.GetReceiptList(),this.GetReceiptListCount()}},{key:"SearchReceiptByEntryNo",value:function(){null!=this._ReceiptSearch.EntryNo&&null!=this._ReceiptSearch.EntryNo?(this.PageNo=1,this.PageSize=10,this.GetReceiptList(),this.GetReceiptListCount()):this.toastr.warning(this.EntryNumberMsg)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n="",i="ar"==this.lang?"rtl":"ltr",r="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639":"Branch",o="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":"Entry no",a="ar"==this.lang?"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":"Date",c="ar"==this.lang?"\u0639\u0645\u064a\u0644":"Customer",l="ar"==this.lang?"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062c\u0639":"Reference No";this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(s){e.cd.markForCheck(),n='\n            <table class="table text-center m-0 table table-striped"  border="1px"  dir = '.concat(i,'>\n                  <thead>\n                    <tr style="background: #e9f1f5;color: cornflowerblue;">\n                      <th>').concat(r,"</th>\n                      <th>").concat(o,"</th>\n                      <th>").concat(a,"</th>\n                      <th>").concat(c,"</th>\n                      <th>").concat(l,"</th>\n\n                    </tr>\n                  </thead>\n              <tbody>\n          "),s.map(function(t){var i,r;n+="\n          <tr>\n          <td>".concat("ar"==e.lang?t.branchnamear:t.branchname,"</td>\n          <td>").concat(t.entry_no,"</td>\n          <td>").concat(t.entry_date,"</td>\n          <td>").concat(null!==(i="ar"==e.lang?t.customernamear:t.customername)&&void 0!==i?i:"","</td>\n          <td>").concat(null!==(r=t.reference_no)&&void 0!==r?r:"","</td>\n          </tr>\n          ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._ReceiptSearch.PageSize=this.PageSize,this._ReceiptSearch.PageNo=this.PageNo,this._ReceiptSearch.EntryNo=null==this._ReceiptSearch.EntryNo?0:this._ReceiptSearch.EntryNo,this._cashsalesService.GetReceiptList(this._ReceiptSearch).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0627\u0644\u0641\u0631\u0639":n.branchnamear,"\u0631\u0642\u0645 \u0627\u0644\u0633\u0646\u062f":n.entry_no,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e":n.entry_date,"\u0627\u0644\u0639\u0645\u064a\u0644":n.customernamear,"\u0631\u0642\u0645 \u0627\u0644\u0645\u0631\u062c\u0639":n.reference_no}:{Branch:n.branchname,"Entry No":n.entry_no,Date:n.entry_date,Customer:n.customernamear,"Reference No":n.reference_no})}),e._Excel.exportAsExcelFile(t,"CashSales")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"onPageChange",value:function(e){this._ReceiptSearch.PageNo=e,this.PageNo=e,this.GetReceiptList()}},{key:"onPageSizeChange",value:function(e){this._ReceiptSearch.PageSize=e,this.PageSize=e,this.GetReceiptList()}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](ne.n),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](oe.t2),u["\u0275\u0275directiveInject"](h.gz),u["\u0275\u0275directiveInject"](ie.t),u["\u0275\u0275directiveInject"](k.e),u["\u0275\u0275directiveInject"](ae.$),u["\u0275\u0275directiveInject"](ce.x),u["\u0275\u0275directiveInject"](le.z),u["\u0275\u0275directiveInject"](re.J))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["productionvoucher2"]],features:[u["\u0275\u0275ProvidersFeature"]([ne.n,ie.t,re.J])],decls:6,vars:3,consts:[["class","row",4,"ngIf"],["class","card transparent-BG box-shadow-none",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],[1,"card","transparent-BG","box-shadow-none"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"col-md-8"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12"],[1,"form-group"],["for","Branch"],["name","Branch","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["Branch","ngModel"],["Value","0"],[3,"value",4,"ngFor","ngForOf"],["for","EntryNumber"],["type","number","id","ReceiptNumber","name","ReceiptNumber","min","0","PositiveNumbersOnly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ReceiptNumber","ngModel"],[1,"col-lg-4","col-sm-4","mt-3","text-center"],["type","submit",1,"btn","btn-primary","mr-2"],[1,""],["type","button",1,"btn","btn-primary","mr-2",3,"click"],[1,"col-lg-12","mt-2","col-xs-12","text-center-sm"],[1,"row","mb-2"],[1,"col-lg-6","col-md-7","col-xs-12","my-auto","text-center-sm","actionBtns"],["class","btn btn-success mb-0 ng-star-inserted",3,"click",4,"ngIf"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"col-12","p-0"],[1,"card","transparent-BG"],[1,"card-content"],[1,"table-responsive","card-body"],[1,"table","m-0","table-striped"],[3,"click"],[4,"ngIf"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],["class","d-flex justify-content-between\n              flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"value"],[1,"btn","btn-success","mb-0","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[4,"ngFor","ngForOf"],[1,"gridActionsTd","text-center"],["href","javascript:;","class","btn btn-primary\n                                transparent-BG",3,"routerLink",4,"ngIf"],["href","javascript:;",1,"btn","btn-primary","transparent-BG","mr-3",3,"routerLink"],["aria-hidden","true",1,"fa","fa-file-text-o"],["href","javascript:;",1,"btn","btn-primary","transparent-BG",3,"routerLink"],[1,"ft-edit"],[2,"background-color","#b0bed9"],["colspan","10"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,dm,4,3,"div",0),u["\u0275\u0275elementStart"](1,"section"),u["\u0275\u0275template"](2,Gm,110,66,"div",1),u["\u0275\u0275elementStart"](3,"ngx-spinner",2),u["\u0275\u0275elementStart"](4,"p",3),u["\u0275\u0275text"](5,"Loading..."),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("ngIf",!t.checkRoleParms(10145)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",t.checkRoleParms(10145)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("fullScreen",!0))},directives:[l.O5,oe.Ro,p._Y,p.JL,p.F,p.EJ,p.Q7,p.JJ,p.On,p.YN,p.Kr,l.sg,p.qQ,p.wV,p.Fj,se.K,h.yS,de.N9],pipes:[g.X$],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}']}),e}(),zm=["RForm"];function jm(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",2),u["\u0275\u0275elementStart"](1,"h1",3),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Qm(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",80),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).DocumentAction()}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"Document")," ")}}function Wm(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",81),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PrintPreview(0)}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"PrintPreview")," ")}}function Jm(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",82),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).DupilcateAction()}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](3);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"Dupilcate")," ")}}function Hm(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",82),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](4).CheckBalanceForItemInStoreBeforeDelete(0,!0)}),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Ym(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275template"](1,Hm,3,4,"button",84),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!n.ShowModeReceipt&&n.ReceiptID>0&&0==n.VouchersLinkedCount)}}function Zm(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"button",82),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).onPrint()}),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"button",82),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).PrintPreview(1)}),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"email-popup",83),u["\u0275\u0275listener"]("_savedemailobj",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).sendEmail(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](8,Jm,3,4,"button",84),u["\u0275\u0275template"](9,Ym,2,1,"div",1),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,7,"Print")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275attribute"]("disabled",1==i.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](6,9,"Printpdf")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("entryno",i._Receipt.entry_no),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(10146)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",i.checkRoleParms(10148))}}function Km(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",85),u["\u0275\u0275text"](1,"choose"),u["\u0275\u0275elementEnd"]())}function Xm(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",85),u["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),u["\u0275\u0275elementEnd"]())}function eu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function tu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function nu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",86),u["\u0275\u0275template"](1,eu,2,1,"span",1),u["\u0275\u0275template"](2,tu,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function iu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sugar)}}function ru(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.sug)}}function ou(e,t){if(1&e&&(u["\u0275\u0275template"](0,iu,2,1,"div",1),u["\u0275\u0275template"](1,ru,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function au(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",94),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function cu(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",106),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"DefaultCost")," "))}function lu(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",106),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"CostDiff")," "))}function su(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",107),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"ProductCost")," "))}function du(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function pu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function mu(e,t){if(1&e&&(u["\u0275\u0275template"](0,du,2,1,"div",1),u["\u0275\u0275template"](1,pu,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function uu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function hu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function gu(e,t){if(1&e&&(u["\u0275\u0275template"](0,uu,2,1,"div",1),u["\u0275\u0275template"](1,hu,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}var _u=function(e,t){return{"invalid-qty":e,"valid-qty":t}};function fu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",128),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275nextContext"](2);var i=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction2"](2,_u,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function Cu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",128),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275nextContext"](2);var i=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction2"](2,_u,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function vu(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",129),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function yu(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",129),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function bu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function xu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name_ar)}}function Mu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",130),u["\u0275\u0275template"](1,bu,2,1,"span",1),u["\u0275\u0275template"](2,xu,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"]().$implicit,r=u["\u0275\u0275nextContext"](3);u["\u0275\u0275property"]("ngValue",null==n?null:n.id)("selected",(null==n?null:n.id)===i.unit_id&&(null==n?null:n.item_id)===(null==i?null:i.item_id)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=r.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==r.lang)}}var Su=function(e,t){return{"invalid-data":e,"valid-data":t}};function Pu(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",131,132),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.conv=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3),l=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),u["\u0275\u0275propertyInterpolate1"]("name","item_conv",o,""),u["\u0275\u0275property"]("readonly",!0)("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("Min",1e-5)("CheckMin",null!=(null==a?null:a.item_id))("ngModel",a.conv)("required",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](9,Su,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Ru(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",133,134),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.defaultitemcost=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","item_defaultitemcost",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.defaultitemcost)("ngClass",u["\u0275\u0275pureFunction2"](4,Su,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Ou(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",133,135),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.costdiff=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","item_costdiff",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.costdiff)("ngClass",u["\u0275\u0275pureFunction2"](4,Su,i.invalid&&c.submitted,i.valid&&c.submitted))}}function Iu(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",136,137),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.total=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","item_price",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.total)("Min",0)("CheckMin",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](6,Su,i.invalid&&c.submitted||(null==i.errors?null:i.errors.customMin),i.valid&&c.submitted))}}function Eu(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"a",139),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](2).index;u["\u0275\u0275nextContext"](2);var t=u["\u0275\u0275reference"](164);return u["\u0275\u0275nextContext"]().OnSerialItemsInItemComponent(e,t)}),u["\u0275\u0275element"](1,"i",140),u["\u0275\u0275elementEnd"]()}}function wu(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,Eu,2,0,"a",138),u["\u0275\u0275elementContainerEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1!=n.CashCustomerSetting.dispensingpolicy)}}var ku=function(e){return{item_id:e}};function Bu(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"p-autoComplete",108,109),u["\u0275\u0275listener"]("onFocus",function(e){var t=u["\u0275\u0275restoreView"](n).index,i=u["\u0275\u0275reference"](3),r=u["\u0275\u0275nextContext"](3);return r.onFocusInStore(e,t),i.show(),r.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).StoreSelectEvent(e,t)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).StoreChangeSearch(e)})("onClear",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3)._Receipt.details[e].store_id=null}),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275template"](5,mu,2,2,"ng-template",110),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275elementStart"](7,"p-autoComplete",111,112),u["\u0275\u0275listener"]("onFocus",function(e){var t=u["\u0275\u0275restoreView"](n).index,i=u["\u0275\u0275reference"](8),r=u["\u0275\u0275nextContext"](3);return r.onFocusInItems(e,t),i.show(),r.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ItemsSelectEvent(e,t)})("completeMethod",function(e){var t=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ItemsChangeSearch(e,t)})("onClear",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).onClearItems(e)}),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275template"](10,gu,2,2,"ng-template",113),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td",114),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return u["\u0275\u0275nextContext"](3).OnSelectedItem(t,i,"selected")}),u["\u0275\u0275template"](12,fu,2,5,"div",115),u["\u0275\u0275template"](13,Cu,2,5,"div",115),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"td"),u["\u0275\u0275elementStart"](15,"select",116,117),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e}),u["\u0275\u0275template"](17,vu,2,1,"option",118),u["\u0275\u0275template"](18,yu,2,1,"option",118),u["\u0275\u0275template"](19,Mu,3,4,"option",119),u["\u0275\u0275pipe"](20,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](21,Pu,3,12,"td",1),u["\u0275\u0275elementStart"](22,"td"),u["\u0275\u0275elementStart"](23,"input",120,121),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).ChangeQty(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](25,Ru,3,7,"td",1),u["\u0275\u0275template"](26,Ou,3,7,"td",1),u["\u0275\u0275elementStart"](27,"td"),u["\u0275\u0275elementStart"](28,"input",122,123),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.productionunitexpense=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"td"),u["\u0275\u0275elementStart"](31,"input",122,124),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.productionqtyexpense=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](33,Iu,3,9,"td",1),u["\u0275\u0275elementStart"](34,"td",125),u["\u0275\u0275elementStart"](35,"a",126),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).index;return u["\u0275\u0275nextContext"](3).DeleteItems(e)}),u["\u0275\u0275element"](36,"i",127),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](37,wu,2,1,"ng-container",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275reference"](16),a=u["\u0275\u0275reference"](24),c=u["\u0275\u0275reference"](29),l=u["\u0275\u0275reference"](32);u["\u0275\u0275nextContext"](2);var s=u["\u0275\u0275reference"](3),d=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","storecode",r,""),u["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=d.CurrentUserSetting&&d.CurrentUserSetting.canchangestore))("suggestions",d.StoreList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](4,48,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275propertyInterpolate1"]("name","itemcode",r,""),u["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",d.ItemsList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](9,50,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf","ar"!=d.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==d.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","itemunit",r,""),u["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](55,Su,o.invalid&&s.submitted,o.valid&&s.submitted)),u["\u0275\u0275attribute"]("disabled",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=d.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==d.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",u["\u0275\u0275pipeBind2"](20,52,d.ItemUnitsList,u["\u0275\u0275pureFunction1"](58,ku,null==i?null:i.item_id)))("ngForTrackBy",d._ReceiptSharedService.customTrackBy),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","item_qty",r,""),u["\u0275\u0275property"]("Min",1e-5)("CheckMin",null!=(null==i?null:i.item_id))("ngModel",i.qty)("ngClass",u["\u0275\u0275pureFunction2"](60,Su,a.invalid&&s.submitted,a.valid&&s.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate"]("step",null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowdecimalpack),u["\u0275\u0275propertyInterpolate1"]("name","item_productionunitexpense",r,""),u["\u0275\u0275property"]("readonly",!0)("stepallow",null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowdecimalpack)("ngModel",i.productionunitexpense)("required",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](63,Su,c.invalid&&s.submitted,c.valid&&s.submitted)),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate"]("step",null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowdecimalpack),u["\u0275\u0275propertyInterpolate1"]("name","item_productionqtyexpense",r,""),u["\u0275\u0275property"]("readonly",!0)("stepallow",null==d.CashCustomerSetting?null:d.CashCustomerSetting.allowdecimalpack)("ngModel",i.productionqtyexpense)("required",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](66,Su,l.invalid&&s.submitted,l.valid&&s.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==d.CurrentUserSetting?null:d.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",(2==i.isrequireserial||3==i.isrequireserial)&&1==d.CashCustomerSetting.salesreturneffect)}}function Du(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",90),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Pack")," "))}function Fu(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",96),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"BasicQty")," "))}function Lu(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",96),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"DefaultQty")," "))}function qu(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",96),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"QtyDiff")," "))}function Vu(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",141),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"CostForDefaultQTY")," "))}function Nu(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",141),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"ActualCostUnit")," "))}function Tu(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",107),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Total")," "))}function Uu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function Au(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function Gu(e,t){if(1&e&&(u["\u0275\u0275template"](0,Uu,2,1,"div",1),u["\u0275\u0275template"](1,Au,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function $u(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sugar," ")}}function zu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.sug," ")}}function ju(e,t){if(1&e&&(u["\u0275\u0275template"](0,$u,2,1,"div",1),u["\u0275\u0275template"](1,zu,2,1,"div",1)),2&e){var n=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("ngIf","ar"==n.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Qu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",128),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275nextContext"](2);var i=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction2"](2,_u,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname," ")}}function Wu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",128),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275nextContext"](2);var i=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("ngClass",u["\u0275\u0275pureFunction2"](2,_u,0==n.allowqtyselectforitem&&i.submitted||0==n.allowqtyselectforitem,1==n.allowqtyselectforitem&&i.submitted||1==n.allowqtyselectforitem)),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",n.itemname_ar," ")}}function Ju(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",129),u["\u0275\u0275text"](1," choose "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Hu(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"option",129),u["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("ngValue",null)}function Yu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function Zu(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"span"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name_ar)}}function Ku(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",86),u["\u0275\u0275template"](1,Yu,2,1,"span",1),u["\u0275\u0275template"](2,Zu,2,1,"span",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=u["\u0275\u0275nextContext"](4);u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"!=i.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==i.lang)}}function Xu(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",131,151),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.conv=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3),l=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate"]("step",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack),u["\u0275\u0275propertyInterpolate1"]("name","itemProducts_conv",o,""),u["\u0275\u0275property"]("readonly",!0)("stepallow",null==l.CashCustomerSetting?null:l.CashCustomerSetting.allowdecimalpack)("Min",1e-5)("CheckMin",null!=(null==a?null:a.item_id))("ngModel",a.conv)("required",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](9,Su,i.invalid&&c.submitted,i.valid&&c.submitted))}}function eh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",152,153),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.basicqtycomponent=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","basicqtycomponent",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.basicqtycomponent)("ngClass",u["\u0275\u0275pureFunction2"](4,Su,i.invalid&&c.submitted,i.valid&&c.submitted))}}function th(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",133,154),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.defaultitemqty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","defaultitemqty",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.defaultitemqty)("ngClass",u["\u0275\u0275pureFunction2"](4,Su,i.invalid&&c.submitted,i.valid&&c.submitted))}}function nh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",155,156),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.qtydiff=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","item_qtydiff",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.qtydiff)("required",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](5,Su,i.invalid&&c.submitted,i.valid&&c.submitted))}}function ih(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",157,158),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.pricecostbasicqty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","itemProducts_pricecostbasicqty",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.pricecostbasicqty)("Min",0)("CheckMin",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](6,Su,i.invalid&&c.submitted||(null==i.errors?null:i.errors.customMin),i.valid&&c.submitted))}}function rh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",159,160),u["\u0275\u0275listener"]("keyup",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"]().$implicit,t=u["\u0275\u0275nextContext"](3);return t.CalaculteValuesItemsRow(null==t.SelectedItem?null:t.SelectedItem.rowno,e,"value")})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.price=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","itemProducts_price",o,""),u["\u0275\u0275property"]("ngModel",a.price)("Min",0)("ngClass",u["\u0275\u0275pureFunction2"](4,Su,i.invalid&&c.submitted||(null==i.errors?null:i.errors.customMin)||null==a.price,i.valid&&c.submitted))}}function oh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",136,161),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.total=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](2),r=u["\u0275\u0275nextContext"](),o=r.index,a=r.$implicit;u["\u0275\u0275nextContext"](2);var c=u["\u0275\u0275reference"](3);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","itemProducts_total",o,""),u["\u0275\u0275property"]("readonly",!0)("ngModel",a.total)("Min",0)("CheckMin",null!=(null==a?null:a.item_id))("ngClass",u["\u0275\u0275pureFunction2"](6,Su,i.invalid&&c.submitted||(null==i.errors?null:i.errors.customMin),i.valid&&c.submitted))}}function ah(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"a",162),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](),t=e.index,i=e.$implicit;u["\u0275\u0275nextContext"](2);var r=u["\u0275\u0275reference"](162);return u["\u0275\u0275nextContext"]().OnSerialItems(t,i,r)}),u["\u0275\u0275element"](2,"i",140),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("hidden",!(2==i.isrequireserial||3==i.isrequireserial))}}function ch(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275elementStart"](2,"p-autoComplete",108,142),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](3),i=u["\u0275\u0275nextContext"](3);return i.onFocusInStoreProducts(e),t.show(),i.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.storecode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).StoreProductsSelectEvent(e,t)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).StoreChangeSearch(e)})("onClear",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).onClearStoreProducts(e)}),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275template"](5,Gu,2,2,"ng-template",143),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275elementStart"](7,"p-autoComplete",111,144),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](8),i=u["\u0275\u0275nextContext"](3);return i.onFocusInItemsProducts(e),t.show(),i.isType=!0})("onClick",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).isType=!1})("ngModelChange",function(e){return t.$implicit.itemcode=e})("onSelect",function(e){var t=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).ItemsProductsSelectEvent(e,t)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](3).ItemsProductsChangeSearch(e)})("onClear",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).onClearItemsProducts(e)}),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275template"](10,ju,2,2,"ng-template",145),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td",114),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).StockBalances(e,2)}),u["\u0275\u0275template"](12,Qu,2,5,"div",115),u["\u0275\u0275template"](13,Wu,2,5,"div",115),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"td"),u["\u0275\u0275elementStart"](15,"select",146,147),u["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.unit_id=e})("change",function(e){var t=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).ChangeItemProductssUnits(e.target.value,t)}),u["\u0275\u0275template"](17,Ju,2,1,"option",118),u["\u0275\u0275template"](18,Hu,2,1,"option",118),u["\u0275\u0275template"](19,Ku,3,3,"option",27),u["\u0275\u0275pipe"](20,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](21,Xu,3,12,"td",1),u["\u0275\u0275elementStart"](22,"td"),u["\u0275\u0275elementStart"](23,"input",148,149),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).ChangeQtyProducts(e)})("ngModelChange",function(e){return t.$implicit.qty=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](25,"td"),u["\u0275\u0275elementStart"](26,"input",148,150),u["\u0275\u0275listener"]("keyup",function(){var e=u["\u0275\u0275restoreView"](n).$implicit,t=u["\u0275\u0275nextContext"](3);return t.CalaculteValuesItemsRow(null==t.SelectedItem?null:t.SelectedItem.rowno,e)})("ngModelChange",function(e){return t.$implicit.priceincreasepercentage=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](28,eh,3,7,"td",1),u["\u0275\u0275template"](29,th,3,7,"td",1),u["\u0275\u0275template"](30,nh,3,8,"td",1),u["\u0275\u0275template"](31,ih,3,9,"td",1),u["\u0275\u0275template"](32,rh,3,7,"td",1),u["\u0275\u0275template"](33,oh,3,9,"td",1),u["\u0275\u0275elementStart"](34,"td",125),u["\u0275\u0275elementStart"](35,"a",126),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n).$implicit;return u["\u0275\u0275nextContext"](3).DeleteItemsProducts(e)}),u["\u0275\u0275element"](36,"i",127),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](37,ah,3,1,"ng-container",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275reference"](16),a=u["\u0275\u0275reference"](24),c=u["\u0275\u0275reference"](27);u["\u0275\u0275nextContext"](2);var l=u["\u0275\u0275reference"](3),s=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","storecodeProducts",r,""),u["\u0275\u0275property"]("ngModel",i.storecode)("disabled",!(null!=s.CurrentUserSetting&&s.CurrentUserSetting.canchangestore))("suggestions",s.StoreList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](4,40,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275propertyInterpolate1"]("name","itemcodeProducts",r,""),u["\u0275\u0275property"]("ngModel",i.itemcode)("suggestions",s.ItemsList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](9,42,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf","ar"!=s.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==s.lang),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","itemProductsunit",r,""),u["\u0275\u0275property"]("ngModel",i.unit_id)("required",null!=(null==i?null:i.item_id))("ngClass",u["\u0275\u0275pureFunction2"](47,Su,o.invalid&&l.submitted,o.valid&&l.submitted)),u["\u0275\u0275attribute"]("disabled",null!=(null==i?null:i.finishedproductid)||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=s.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==s.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",u["\u0275\u0275pipeBind2"](20,44,s.ItemProductsUnitsList,u["\u0275\u0275pureFunction1"](50,ku,null==i?null:i.item_id)))("ngForTrackBy",s._ReceiptSharedService.customTrackBy),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==s.CashCustomerSetting?null:s.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","itemProducts_qty",r,""),u["\u0275\u0275property"]("Min",0)("ngModel",i.qty)("ngClass",u["\u0275\u0275pureFunction2"](52,Su,a.invalid&&l.submitted||null==i.qty,a.valid&&l.submitted)),u["\u0275\u0275advance"](3),u["\u0275\u0275propertyInterpolate1"]("name","itemProducts_costrate",r,""),u["\u0275\u0275property"]("Min",0)("ngModel",i.priceincreasepercentage)("ngClass",u["\u0275\u0275pureFunction2"](55,Su,c.invalid&&l.submitted||null==i.priceincreasepercentage,c.valid&&l.submitted)),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==s.CurrentUserSetting?null:s.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",1==s.InventorySetting[0].purchaseseffect)}}var lh=function(e){return{parentrowno:e}};function sh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",87),u["\u0275\u0275elementStart"](1,"div",88),u["\u0275\u0275elementStart"](2,"div",64),u["\u0275\u0275elementStart"](3,"table",89),u["\u0275\u0275elementStart"](4,"thead"),u["\u0275\u0275elementStart"](5,"tr"),u["\u0275\u0275elementStart"](6,"th",90),u["\u0275\u0275text"](7),u["\u0275\u0275pipe"](8,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](9,"th",90),u["\u0275\u0275text"](10),u["\u0275\u0275pipe"](11,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](12,"th",91),u["\u0275\u0275text"](13),u["\u0275\u0275pipe"](14,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](15,"th",92),u["\u0275\u0275text"](16),u["\u0275\u0275pipe"](17,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](18,au,3,3,"th",93),u["\u0275\u0275elementStart"](19,"th",94),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](22,cu,3,3,"th",95),u["\u0275\u0275template"](23,lu,3,3,"th",95),u["\u0275\u0275elementStart"](24,"th",96),u["\u0275\u0275text"](25),u["\u0275\u0275pipe"](26,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](27,"th",96),u["\u0275\u0275text"](28),u["\u0275\u0275pipe"](29,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](30,su,3,3,"th",97),u["\u0275\u0275element"](31,"th",66),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](32,"tbody"),u["\u0275\u0275template"](33,Bu,38,69,"tr",98),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](34,"button",99),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddItems(1)}),u["\u0275\u0275text"](35),u["\u0275\u0275pipe"](36,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](37,"div",87),u["\u0275\u0275elementStart"](38,"div",88),u["\u0275\u0275elementStart"](39,"div",64),u["\u0275\u0275elementStart"](40,"table",100),u["\u0275\u0275elementStart"](41,"thead"),u["\u0275\u0275elementStart"](42,"tr"),u["\u0275\u0275elementStart"](43,"th",90),u["\u0275\u0275text"](44),u["\u0275\u0275pipe"](45,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](46,"th",90),u["\u0275\u0275text"](47),u["\u0275\u0275pipe"](48,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](49,"th",101),u["\u0275\u0275text"](50),u["\u0275\u0275pipe"](51,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](52,"th",90),u["\u0275\u0275text"](53),u["\u0275\u0275pipe"](54,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](55,Du,3,3,"th",102),u["\u0275\u0275elementStart"](56,"th",96),u["\u0275\u0275text"](57),u["\u0275\u0275pipe"](58,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](59,"th",96),u["\u0275\u0275text"](60),u["\u0275\u0275pipe"](61,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](62,Fu,3,3,"th",103),u["\u0275\u0275template"](63,Lu,3,3,"th",103),u["\u0275\u0275template"](64,qu,3,3,"th",103),u["\u0275\u0275template"](65,Vu,3,3,"th",104),u["\u0275\u0275template"](66,Nu,3,3,"th",104),u["\u0275\u0275template"](67,Tu,3,3,"th",105),u["\u0275\u0275element"](68,"th",66),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](69,"tbody"),u["\u0275\u0275template"](70,ch,38,58,"tr",98),u["\u0275\u0275pipe"](71,"filterby"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](72,"button",99),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).AddItems(2)}),u["\u0275\u0275text"](73),u["\u0275\u0275pipe"](74,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](8,30,"Store")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](11,32,"ItemCode")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](14,34,"ItemDescription")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](17,36,"Unit")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,38,"ProducedQty")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](26,40,"ProductionUnitExpense")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](29,42,"ProductionQtyExpense")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",i._Receipt.details)("ngForTrackBy",i._ReceiptSharedService.customTrackBy),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](36,44,"Add")," "),u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](45,46,"Store")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](48,48,"ItemCode")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](51,50,"ItemDescription")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](54,52,"Unit")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==i.CashCustomerSetting?null:i.CashCustomerSetting.allowpack)),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](58,54,"ActualQty")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](61,56,"CostRatio")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==i.CurrentUserSetting?null:i.CurrentUserSetting.showcostprice)),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",u["\u0275\u0275pipeBind2"](71,58,null==i._Receipt?null:i._Receipt.itemscomponent,u["\u0275\u0275pureFunction1"](63,lh,null==i.SelectedItem?null:i.SelectedItem.rowno)))("ngForTrackBy",i._ReceiptSharedService.customTrackBy),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](74,61,"Add")," ")}}function dh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",87),u["\u0275\u0275elementStart"](1,"div",88),u["\u0275\u0275elementStart"](2,"Signature",163),u["\u0275\u0275listener"]("signatureoutput",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"](2).OnSignatureSet(e)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("signature",i._Receipt.signature)}}function ph(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div"),u["\u0275\u0275element"](1,"Item-StoreQty",164,165),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("wrappe",n._itemstoreqtyobj)}}function mh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h6",178),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function uh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h6",178),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function hh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",179),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function gh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function _h(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function fh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}var Ch=function(e){return{"invalid-data":e}};function vh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",187),u["\u0275\u0275listener"]("change",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275nextContext"](),i=t.$implicit,r=t.index;return u["\u0275\u0275nextContext"](3).ChangeBatchQty(i,e.target.value,r)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](),r=i.index,o=i.$implicit;u["\u0275\u0275nextContext"]();var a=u["\u0275\u0275reference"](7);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),u["\u0275\u0275property"]("value",null==o?null:o.qty)("ngClass",u["\u0275\u0275pureFunction1"](3,Ch,null==(null==o?null:o.qty)&&a.submitted||(null==o?null:o.qty)<=0&&a.submitted))}}function yh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",188),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().$implicit.date=e}),u["\u0275\u0275pipe"](2,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](),r=i.index,o=i.$implicit;u["\u0275\u0275nextContext"]();var a=u["\u0275\u0275reference"](7);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","Expire_Date",r,""),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](2,4,null==o?null:o.date,"yyyy-MM-dd"))("ngClass",u["\u0275\u0275pureFunction1"](7,Ch,null==(null==o?null:o.date)&&a.submitted||""==(null==o?null:o.date)&&a.submitted))("disabled",(null==o?null:o.solidquantity)>0||null)}}function bh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275element"](2,"input",180),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"td"),u["\u0275\u0275element"](4,"input",181),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](5,vh,2,5,"td",1),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275element"](7,"input",182),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](8,yh,3,9,"td",1),u["\u0275\u0275elementStart"](9,"td"),u["\u0275\u0275elementStart"](10,"input",183),u["\u0275\u0275listener"]("change",function(e){var t=u["\u0275\u0275restoreView"](n),i=t.$implicit,r=t.index;return u["\u0275\u0275nextContext"](3).ChangeBatchNo(i,e.target.value,r)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"td",184),u["\u0275\u0275elementStart"](12,"button",185),u["\u0275\u0275listener"]("click",function(){var e=u["\u0275\u0275restoreView"](n),t=e.$implicit,i=e.index;return u["\u0275\u0275nextContext"](3).DeleteRow(t,i)}),u["\u0275\u0275element"](13,"i",186),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,r=t.index,o=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","Vaild",r,""),u["\u0275\u0275property"]("checked",null==i?null:i.valid),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","Serial",r,""),u["\u0275\u0275property"]("value",null==i?null:i.serial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==o.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","Store",r,""),u["\u0275\u0275propertyInterpolate"]("value","ar"!=o.lang?null==i?null:i.storename:null==i?null:i.storename_ar),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==o.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","BatchNo",r,""),u["\u0275\u0275property"]("value",null==i?null:i.batchno)("ngClass",u["\u0275\u0275pureFunction1"](13,Ch,null==i?null:i.isdublicatebatch))("disabled",(null==i?null:i.solidquantity)>0||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("disabled",(null==i?null:i.solidquantity)>0||null)}}function xh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",2),u["\u0275\u0275elementStart"](1,"button",189),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"button",190),u["\u0275\u0275text"](5),u["\u0275\u0275pipe"](6,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"button",191),u["\u0275\u0275text"](8),u["\u0275\u0275pipe"](9,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](3,3,"SampleFile")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](6,5,"SelectExcleFile")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](9,7,"Upload")," "))}function Mh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",166),u["\u0275\u0275template"](1,mh,3,3,"h6",167),u["\u0275\u0275template"](2,uh,3,3,"h6",167),u["\u0275\u0275elementStart"](3,"button",168),u["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),u["\u0275\u0275elementStart"](4,"span",169),u["\u0275\u0275text"](5,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"form",4,5),u["\u0275\u0275listener"]("ngSubmit",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](7);return u["\u0275\u0275nextContext"](2).SubmitOk(e)}),u["\u0275\u0275elementStart"](8,"div",170),u["\u0275\u0275elementStart"](9,"div",171),u["\u0275\u0275elementStart"](10,"div",2),u["\u0275\u0275elementStart"](11,"form"),u["\u0275\u0275elementStart"](12,"div",172),u["\u0275\u0275elementStart"](13,"table",65),u["\u0275\u0275elementStart"](14,"thead"),u["\u0275\u0275elementStart"](15,"tr"),u["\u0275\u0275elementStart"](16,"th"),u["\u0275\u0275text"](17),u["\u0275\u0275pipe"](18,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"th",173),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](22,hh,3,3,"th",174),u["\u0275\u0275elementStart"](23,"th",175),u["\u0275\u0275text"](24),u["\u0275\u0275pipe"](25,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](26,gh,3,3,"th",1),u["\u0275\u0275template"](27,_h,3,3,"th",1),u["\u0275\u0275template"](28,fh,3,3,"th",1),u["\u0275\u0275element"](29,"th"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"tbody"),u["\u0275\u0275template"](31,bh,14,15,"tr",98),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](32,xh,10,9,"div",0),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](33,"div",176),u["\u0275\u0275elementStart"](34,"button",177),u["\u0275\u0275text"](35),u["\u0275\u0275pipe"](36,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](15),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](18,13,"Valid")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,15,"Serial")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](25,17,"Store")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",i._Receipt.itemscomponent[i.SelectedRowIndex].batcheslist)("ngForTrackBy",i.trackByFn),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](36,19,"Cancel")," ")}}function Sh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h6",178),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Ph(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h6",178),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Batches")," "))}function Rh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Date")," "))}function Oh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Serials")," "))}function Ih(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"BatchNo")," "))}function Eh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",179),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"Availableqty")," "))}function wh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",179),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](2,1,"qty")," "))}function kh(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"date"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]().$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind2"](2,1,null==n?null:n.expire_date,"yyyy-MM-dd")," ")}}function Bh(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",196),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](2,1,"QtyIsValidWithAvailableQty")))}function Dh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td"),u["\u0275\u0275elementStart"](1,"input",194),u["\u0275\u0275listener"]("change",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"](3).ChangeBatchQtyInItemComponent(t,e.target.value)}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](2,Bh,3,3,"span",195),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](),r=i.index,o=i.$implicit;u["\u0275\u0275nextContext"]();var a=u["\u0275\u0275reference"](7);u["\u0275\u0275advance"](1),u["\u0275\u0275propertyInterpolate1"]("name","Qty",r,""),u["\u0275\u0275property"]("value",null==o?null:o.qty)("ngClass",u["\u0275\u0275pureFunction1"](4,Ch,(null==o?null:o.qty)>(null==o?null:o.availableqty)+(null==o?null:o.oldqty)&&a.submitted)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==o?null:o.qty)>(null==o?null:o.availableqty)+(null==o?null:o.oldqty)&&a.submitted)}}function Fh(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"tr"),u["\u0275\u0275elementStart"](1,"td"),u["\u0275\u0275element"](2,"input",193),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"td"),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](5,kh,3,4,"td",1),u["\u0275\u0275elementStart"](6,"td"),u["\u0275\u0275text"](7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"td"),u["\u0275\u0275text"](9),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](10,Dh,3,6,"td",1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=t.index,r=u["\u0275\u0275nextContext"](3);u["\u0275\u0275advance"](2),u["\u0275\u0275propertyInterpolate1"]("name","Vaild",i,""),u["\u0275\u0275property"]("checked",null==n?null:n.valid),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ","ar"!=r.lang?null==n?null:n.name:null==n?null:n.name_ar," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==r.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",null==n?null:n.serial," "),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](null==n?null:n.availableqty),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==r.requiredserial)}}function Lh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"div",166),u["\u0275\u0275template"](1,Sh,3,3,"h6",167),u["\u0275\u0275template"](2,Ph,3,3,"h6",167),u["\u0275\u0275elementStart"](3,"button",168),u["\u0275\u0275listener"]("click",function(){return(0,t.dismiss)("Cross click")}),u["\u0275\u0275elementStart"](4,"span",169),u["\u0275\u0275text"](5,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"form",4,5),u["\u0275\u0275listener"]("ngSubmit",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](7);return u["\u0275\u0275nextContext"](2).saveserial(e)}),u["\u0275\u0275elementStart"](8,"div",170),u["\u0275\u0275elementStart"](9,"div",171),u["\u0275\u0275elementStart"](10,"div",2),u["\u0275\u0275elementStart"](11,"form"),u["\u0275\u0275elementStart"](12,"div",172),u["\u0275\u0275elementStart"](13,"h6",178),u["\u0275\u0275text"](14),u["\u0275\u0275pipe"](15,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"table",65),u["\u0275\u0275elementStart"](17,"thead"),u["\u0275\u0275elementStart"](18,"tr"),u["\u0275\u0275elementStart"](19,"th"),u["\u0275\u0275text"](20),u["\u0275\u0275pipe"](21,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"th",175),u["\u0275\u0275text"](23),u["\u0275\u0275pipe"](24,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](25,Rh,3,3,"th",1),u["\u0275\u0275template"](26,Oh,3,3,"th",1),u["\u0275\u0275template"](27,Ih,3,3,"th",1),u["\u0275\u0275template"](28,Eh,3,3,"th",174),u["\u0275\u0275template"](29,wh,3,3,"th",174),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"tbody"),u["\u0275\u0275template"](31,Fh,11,7,"tr",98),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](32,"div",176),u["\u0275\u0275elementStart"](33,"button",192),u["\u0275\u0275text"](34),u["\u0275\u0275pipe"](35,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var i=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](12),u["\u0275\u0275textInterpolate2"](" ",u["\u0275\u0275pipeBind1"](15,14,"qty")," : ",i._batchqty," "),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](21,16,"Choose")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](24,18,"Store")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",2==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",3==i.requiredserial),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",i.BatchesListForEatchRow)("ngForTrackBy",i.trackByFn),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](35,20,"save")," ")}}function qh(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"section"),u["\u0275\u0275elementStart"](2,"form",4,5),u["\u0275\u0275listener"]("ngSubmit",function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275reference"](3);return u["\u0275\u0275nextContext"]().CheckPre_SaveReceipt(e)}),u["\u0275\u0275elementStart"](4,"div",6),u["\u0275\u0275elementStart"](5,"div",7),u["\u0275\u0275elementStart"](6,"div",8),u["\u0275\u0275elementStart"](7,"div",9),u["\u0275\u0275elementStart"](8,"h6",10),u["\u0275\u0275text"](9),u["\u0275\u0275pipe"](10,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"div",2),u["\u0275\u0275elementStart"](12,"div",11),u["\u0275\u0275elementStart"](13,"button",12),u["\u0275\u0275text"](14),u["\u0275\u0275pipe"](15,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"button",13),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CreateNewAction()}),u["\u0275\u0275text"](17),u["\u0275\u0275pipe"](18,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](19,Qm,3,4,"button",14),u["\u0275\u0275template"](20,Wm,3,4,"button",15),u["\u0275\u0275elementStart"](21,"button",16),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().BackAction()}),u["\u0275\u0275text"](22),u["\u0275\u0275pipe"](23,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](24,"div",17),u["\u0275\u0275elementStart"](25,"button",18),u["\u0275\u0275text"](26),u["\u0275\u0275pipe"](27,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"div",19),u["\u0275\u0275template"](29,Zm,10,11,"ng-container",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"div",2),u["\u0275\u0275elementStart"](31,"div",20),u["\u0275\u0275elementStart"](32,"div",21),u["\u0275\u0275elementStart"](33,"label",22),u["\u0275\u0275text"](34),u["\u0275\u0275pipe"](35,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](36,"span",23),u["\u0275\u0275text"](37,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"select",24,25),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.branch_id=e})("change",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().changeBranch(e)}),u["\u0275\u0275template"](40,Km,2,0,"option",26),u["\u0275\u0275template"](41,Xm,2,0,"option",26),u["\u0275\u0275template"](42,nu,3,3,"option",27),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](43,"div",28),u["\u0275\u0275elementStart"](44,"div",21),u["\u0275\u0275elementStart"](45,"label",29),u["\u0275\u0275text"](46),u["\u0275\u0275pipe"](47,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](48,"span",23),u["\u0275\u0275text"](49,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](50,"input",30,31),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.entry_no=e})("ngModelChange",function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().ChangePropFinish("EntryCode",2)})("keydown.space",function(e){return e.preventDefault()}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](52,"div",2),u["\u0275\u0275elementStart"](53,"div",28),u["\u0275\u0275elementStart"](54,"div",21),u["\u0275\u0275elementStart"](55,"label",32),u["\u0275\u0275text"](56),u["\u0275\u0275pipe"](57,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](58,"p-autoComplete",33,34),u["\u0275\u0275listener"]("onFocus",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275reference"](59);return u["\u0275\u0275nextContext"]().onFocusInCustomerAccounts(e),t.show()})("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_code=e})("onSelect",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CustomerAccountsSelectEvent(e)})("completeMethod",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().CustomerAccountsChangeSearch(e)})("onClear",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onClearCustomer(e)}),u["\u0275\u0275pipe"](60,"translate"),u["\u0275\u0275template"](61,ou,2,2,"ng-template",35),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](62,"div",28),u["\u0275\u0275elementStart"](63,"div",21),u["\u0275\u0275elementStart"](64,"label",36),u["\u0275\u0275text"](65),u["\u0275\u0275pipe"](66,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](67,"input",37,38),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.cashcustomer_vendor_name=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](69,"div",28),u["\u0275\u0275elementStart"](70,"div",21),u["\u0275\u0275elementStart"](71,"label",39),u["\u0275\u0275text"](72),u["\u0275\u0275pipe"](73,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](74,"input",40,41),u["\u0275\u0275listener"]("ngModelChange",function(e){u["\u0275\u0275restoreView"](n);var t=u["\u0275\u0275nextContext"]();return t._Receipt.entry_date=e,t.ChangePropFinish("EntryDate",2)}),u["\u0275\u0275pipe"](76,"date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](77,"div",28),u["\u0275\u0275elementStart"](78,"div",21),u["\u0275\u0275elementStart"](79,"label",42),u["\u0275\u0275text"](80),u["\u0275\u0275pipe"](81,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](82,"input",43,44),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.entry_time=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](84,"div",2),u["\u0275\u0275elementStart"](85,"div",28),u["\u0275\u0275elementStart"](86,"div",21),u["\u0275\u0275elementStart"](87,"label",45),u["\u0275\u0275text"](88),u["\u0275\u0275pipe"](89,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](90,"input",46,47),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.reference_no=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](92,"div",28),u["\u0275\u0275elementStart"](93,"div",21),u["\u0275\u0275elementStart"](94,"label",48),u["\u0275\u0275text"](95),u["\u0275\u0275pipe"](96,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](97,"input",49,50),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.memo=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](99,"div",28),u["\u0275\u0275elementStart"](100,"div",21),u["\u0275\u0275elementStart"](101,"label",51),u["\u0275\u0275text"](102),u["\u0275\u0275pipe"](103,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](104,"input",52,53),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.expensesdistributionvoucherno=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](106,"div",54),u["\u0275\u0275elementStart"](107,"div",2),u["\u0275\u0275elementStart"](108,"div",55),u["\u0275\u0275elementStart"](109,"ul",56,57),u["\u0275\u0275listener"]("activeIdChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().activeNav=e}),u["\u0275\u0275elementStart"](111,"li",58),u["\u0275\u0275elementStart"](112,"a",59),u["\u0275\u0275text"](113),u["\u0275\u0275pipe"](114,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](115,sh,75,65,"ng-template",60),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](116,"li",61),u["\u0275\u0275elementStart"](117,"a",59),u["\u0275\u0275text"](118),u["\u0275\u0275pipe"](119,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](120,dh,3,1,"ng-template",60),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](121,"div",62),u["\u0275\u0275elementStart"](122,"div",2),u["\u0275\u0275elementStart"](123,"div",63),u["\u0275\u0275elementStart"](124,"div",64),u["\u0275\u0275elementStart"](125,"table",65),u["\u0275\u0275elementStart"](126,"thead"),u["\u0275\u0275elementStart"](127,"tr"),u["\u0275\u0275element"](128,"th",66),u["\u0275\u0275elementStart"](129,"th",67),u["\u0275\u0275text"](130),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](131,"th",66),u["\u0275\u0275text"](132),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](133,"tbody"),u["\u0275\u0275elementStart"](134,"tr"),u["\u0275\u0275elementStart"](135,"td"),u["\u0275\u0275text"](136),u["\u0275\u0275pipe"](137,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](138,"td",68),u["\u0275\u0275elementStart"](139,"input",69),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.netvalueforeign=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](140,"td"),u["\u0275\u0275elementStart"](141,"input",70),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.netvalue=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](142,"tr"),u["\u0275\u0275elementStart"](143,"td"),u["\u0275\u0275text"](144),u["\u0275\u0275pipe"](145,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](146,"td",68),u["\u0275\u0275elementStart"](147,"input",71),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.totalproductioncostforeign=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](148,"td"),u["\u0275\u0275elementStart"](149,"input",72),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.totalproductioncost=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](150,"tr"),u["\u0275\u0275elementStart"](151,"td"),u["\u0275\u0275text"](152),u["\u0275\u0275pipe"](153,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](154,"td",68),u["\u0275\u0275elementStart"](155,"input",73),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.totalvouchercostforeign=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](156,"td"),u["\u0275\u0275elementStart"](157,"input",74),u["\u0275\u0275listener"]("ngModelChange",function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]()._Receipt.totalvouchercost=e}),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](158,"div",75),u["\u0275\u0275template"](159,ph,3,1,"div",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](160,"div"),u["\u0275\u0275template"](161,Mh,37,21,"ng-template",null,76,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](163,Lh,36,22,"ng-template",null,77,u["\u0275\u0275templateRefExtractor"]),u["\u0275\u0275elementStart"](165,"ngx-spinner",78),u["\u0275\u0275elementStart"](166,"p",79),u["\u0275\u0275text"](167,"Loading..."),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=u["\u0275\u0275reference"](3),r=u["\u0275\u0275reference"](39),o=u["\u0275\u0275reference"](51),a=u["\u0275\u0275reference"](75),c=u["\u0275\u0275reference"](110),l=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](9),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](10,79,"productionvoucher2"),""),u["\u0275\u0275advance"](4),u["\u0275\u0275attribute"]("disabled",l.VouchersLinkedCount>0||null!=l._Receipt.expensesdistributionvoucherno||1==l.ShowModeReceipt||1==l.DuringSaveDisable||l.ReceiptID>0&&!l.checkRoleParms(10147)||0==l.ReceiptID&&!l.checkRoleParms(10146)||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](15,81,"Save")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275attribute"]("disabled",!l.checkRoleParms(10146)||1==l.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](18,83,"CreateNew")," "),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",l.ReceiptID>0&&0==l.VouchersLinkedCount),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",l.ReceiptID>0),u["\u0275\u0275advance"](1),u["\u0275\u0275attribute"]("disabled",1==l.DuringSaveDisable||null),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](23,85,"Exit")," "),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](27,87,"Action Menu")," "),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",l.ReceiptID>0),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](35,89,"Branch")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",l._Receipt.branch_id)("ngClass",u["\u0275\u0275pureFunction2"](122,Su,r.invalid&&i.submitted,r.valid&&i.submitted)),u["\u0275\u0275attribute"]("disabled",l.ReceiptID>0||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf","ar"!=l.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ar"==l.lang),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",l.BranchList)("ngForTrackBy",l.customTrackBy),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](47,91,"Entry#")),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("stepallow",1)("ngModel",l._Receipt.entry_no)("Min",1)("CheckMin",!0)("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==l.LockedRecepit)("ngClass",u["\u0275\u0275pureFunction2"](125,Su,o.invalid&&i.submitted,o.valid&&i.submitted)),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](57,93,"Customer#")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.cashcustomer_vendor_code)("suggestions",l.CustomerAccountsList)("showEmptyMessage",!0)("emptyMessage",u["\u0275\u0275pipeBind1"](60,95,"NoResultsFound"))("forceSelection",!0),u["\u0275\u0275advance"](7),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](66,97,"CustomerName")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.cashcustomer_vendor_name)("readonly",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](73,99,"Date")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",u["\u0275\u0275pipeBind2"](76,101,l._Receipt.entry_date,"yyyy-MM-dd"))("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==(l.ReceiptID>0&&!l.checkRoleParms(10147))||null!=l._Receipt.expensesdistributionvoucherno||1==l.LockedRecepit)("ngClass",u["\u0275\u0275pureFunction2"](128,Su,a.invalid&&i.submitted||0==l.ValidPeriod,a.valid&&i.submitted)),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](81,104,"time")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("readonly",0==(null==l.CurrentUserSetting?null:l.CurrentUserSetting.controlvouchernumanddate)||l.VouchersLinkedCount>0||1==(l.ReceiptID>0&&!l.checkRoleParms(10147))||null!=l._Receipt.expensesdistributionvoucherno||1==l.LockedRecepit)("ngModel",l._Receipt.entry_time),u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](89,106,"ReferenceNo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.reference_no),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](96,108,"Memo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.memo),u["\u0275\u0275advance"](5),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](103,110,"ExpensesDistributionVoucherNo")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.expensesdistributionvoucherno)("readonly",!0),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("destroyOnHide",!1)("activeId",l.activeNav),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngbNavItem",1),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](114,112,"Items")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavItem",3),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](119,114,"Signature")),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngbNavOutlet",c),u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("Total - ",null==l._CurrencySelected?null:l._CurrencySelected.currencysymbol,""),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("Total - ",null==l._BaseCurrency?null:l._BaseCurrency.currencysymbol,""),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](137,116,"TotalMaterialCost")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",l._Receipt.netvalueforeign)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.netvalue)("readonly",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](145,118,"TotalProductionCost")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",l._Receipt.totalproductioncostforeign)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.totalproductioncost)("readonly",!0),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](153,120,"TotalVoucherCost")),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("hidden",!l.ForeignCurrencyShow),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngModel",l._Receipt.totalvouchercostforeign)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngModel",l._Receipt.totalvouchercost)("readonly",!0),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",l.itemqtyview),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("fullScreen",!0)}}var Vh=function(){return[10145,10146,10147,10148]},Nh=function(){var i=function(){function i(e,t,n,r,o,a,l,s,d,p,m,u,h,g,_,f,C,v,y){var b=this;c(this,i),this._cashsalesService=e,this._CustomerService=t,this._ReceiptSharedService=n,this._VoucherService=r,this.cd=o,this.toastr=a,this._router=l,this._generalService=s,this.translate=d,this._translateGlobalService=p,this._activeRoute=m,this.spinner=u,this._authService=h,this._printService=g,this._VerifyReportsService=_,this.datepipe=f,this.location=C,this._ProductionService=v,this.modalService=y,this.isType=!1,this.subsidiaryID=0,this.ReceiptID=0,this.activeNav=1,this.BasicCodeReceipt=20,this.Transaction_move=0,this._Receipt=new R.tY,this._ReceiptOriginal=new R.tY,this._Receipt_h_Edit=new R.Iu,this._ProductionDetailsReceipt=new R.hm,this.ItemsProductsList=new Array,this._LinkedReceipt=new R.Cb,this._Currencyprecision=3,this.ForeignCurrencyShow=!1,this.ValidPeriod=!0,this.VouchersLinkedCount=0,this.DuringSaveDisable=!1,this.show_all_Products=!1,this.BranchList=[],this.CustomerAccountsList=[],this.ReceiptCodeList=[],this.CurrencyList=[],this.StoreList=[],this.ItemsList=[],this.ItemUnitsList=[],this.ItemOrginalUnitsList=[],this.ItemProductsUnitsList=[],this.reporturl="",this.reportdomainUrl=it.N.aspDomain,this._emailobj={email:"",subject:""},this.mailmsg="",this.allowDelete=!1,this.ShowModeReceipt=!1,this.linkedreceiptid=0,this.LockedRecepit=!1,this.swalTitleEntry="",this.swalTextEntry="",this.swalConfirmButtonEntry="",this.Cancel="",this.WarningInfoLost="",this.warning="",this.Yes="",this.FinancialPeriodMsg="",this.FinancialPeriodCloseMsg="",this.Close="",this.CostPostingPeriodMessage="",this.LinkedVoucherIsPostedMsg="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.ItemsZeroErrorMsg="",this.ItemsEqualZeroMsg="",this.ReceiptNotFound="",this.CustomerPricelistMsg="",this.Receiptnoitems="",this.NoUnits="",this.qtyErrorSaveMsg="",this.qtyErrorMsg="",this.NegativeBalancesMsg="",this.qtyZeroErrorSaveMsg="",this.NOProdcts="",this.SaveMsg="",this.No="",this.swalNewActionTitle="",this.swalNewActionText="",this.StopInventoryErrorMsg="",this.RelatedwithSerialsOrBatches="",this.ItemSelectedBefor="",this.productItselfMsg="",this.ProductQtyZeroError="",this.NoProductInItem="",this.InvalidPatchDate="",this.InValidQty="",this.InValidNumberOfBatch="",this.DublicateBatchMassage="",this.InValidQtyForBatch="",this.QtyIsValidWithAvailableQty="",this.totalProductsError="",this.timeout=null,this.itemqtyview=!1,this._itemstoreqtyobj=new R.I$,this._totalcost=0,this.BatchesAndSeialsList=[],this.selectedindex=0,this._batchqty=0,this.BatchesListForEatchRow=[],this.requiredserial=2,this.SelectedRowIndex=0,this.RowItem=null,m.params.subscribe(function(e){console.log("id",b.ReceiptID),b.ReceiptID=e.id,console.log("id",b.ReceiptID),b.ShowModeReceipt=null!=e.show&&"show"==e.show&&e.id>0,b.LockedRecepit=b.ShowModeReceipt,b.subsidiaryID=b._generalService.SubsidiaryID,b.subsidiaryID>0&&b.SetInitialMethods(),b._UserLogin=b._authService.userInfo()}),this.ngUnsubscribe=s.proadCastSubsidiaryID.subscribe(function(e){0==b.subsidiaryID&&(b.subsidiaryID=b._generalService.SubsidiaryID,b.SetInitialMethods()),b.subsidiaryID!=b._generalService.SubsidiaryID&&b.subsidiaryID>0&&(b.subsidiaryID=b._generalService.SubsidiaryID,b._router.navigate(["/page/production/reverseproductionvoucher/0"]).then(function(){window.location.reload()}))}),this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){b.lang=e.lang,b.dir=e.dir,b.translate.use(e.lang),b.ngTransUnsubscribe=b.translate.get(["Cancel","swalTitleEntryno","swalEntrynoText","swalEntrynoConfirmButton","WarningInfoLost","warning","Yes","mailmsg","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","DeleteRelationmsg","successMsg","ItemsZeroErrorMsg","ItemsEqualZeroMsg","ReceiptNotFound","CustomerPricelistMsg","Receiptnoitems","NoUnits","FinancialPeriodMsg","CloseFinancialPeriodMsg","Close","qtyErrorSaveMsg","qtyErrorMsg","qtyZeroErrorSaveMsg","SaveMsg","productionvoucher2",,"No","swalNewActionTitle","swalNewActionText","NOProdcts","StopInventoryErrorMsg","CostPostingPeriodMessage","LinkedVoucherIsPostedMsg","RelatedwithSerialsOrBatches","ItemSelectedBefor","productItselfMsg","NegativeBalancesMsg","qtyErrorMsg","ProductQtyZeroError","NoProductInItem","InValidQty","InValidNumberOfBatch","DublicateBatchMassage","InvalidPatchDate","InValidQtyForBatch","QtyIsValidWithAvailableQty","totalProductsError"]).subscribe(function(e){document.title=e.productionvoucher2,b.Cancel=e.Cancel,b.swalTitleEntry=e.swalTitleEntryno,b.swalTextEntry=e.swalEntrynoText,b.swalConfirmButtonEntry=e.swalEntrynoConfirmButton,b.WarningInfoLost=e.WarningInfoLost,b.warning=e.warning,b.Yes=e.Yes,b.No=e.No,b.NOProdcts=e.NOProdcts,b.ItemSelectedBefor=e.ItemSelectedBefor,b.swalNewActionTitle=e.swalNewActionTitle,b.swalNewActionText=e.swalNewActionText,b.mailmsg=e.mailmsg,b.swalDeleteTitle=e.swalDeleteTitle,b.swalDetlateText=e.swalDetlateText,b.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,b.DeleteRelationmsg=e.DeleteRelationmsg,b.toastrSuccessDelete=e.successMsg,b.ItemsZeroErrorMsg=e.ItemsZeroErrorMsg,b.ItemsEqualZeroMsg=e.ItemsEqualZeroMsg,b.ReceiptNotFound=e.ReceiptNotFound,b.CustomerPricelistMsg=e.CustomerPricelistMsg,b.Receiptnoitems=e.Receiptnoitems,b.NoUnits=e.NoUnits,b.FinancialPeriodMsg=e.FinancialPeriodMsg,b.FinancialPeriodCloseMsg=e.CloseFinancialPeriodMsg,b.Close=e.Close,b.qtyErrorMsg=e.qtyErrorMsg,b.qtyErrorSaveMsg=e.qtyErrorSaveMsg,b.qtyZeroErrorSaveMsg=e.qtyZeroErrorSaveMsg,b.SaveMsg=e.SaveMsg,b.StopInventoryErrorMsg=e.StopInventoryErrorMsg,b.CostPostingPeriodMessage=e.CostPostingPeriodMessage,b.LinkedVoucherIsPostedMsg=e.LinkedVoucherIsPostedMsg,b.RelatedwithSerialsOrBatches=e.RelatedwithSerialsOrBatches,b.productItselfMsg=e.productItselfMsg,b.qtyErrorMsg=e.qtyErrorMsg,b.ProductQtyZeroError=e.ProductQtyZeroError,b.NoProductInItem=e.NoProductInItem,b.NegativeBalancesMsg=e.NegativeBalancesMsg,b.InValidQty=e.InValidQty,b.InValidNumberOfBatch=e.InValidNumberOfBatch,b.InValidNumberOfBatch=e.InValidNumberOfBatch,b.DublicateBatchMassage=e.DublicateBatchMassage,b.InvalidPatchDate=e.InvalidPatchDate,b.InValidQtyForBatch=e.InValidQtyForBatch,b.QtyIsValidWithAvailableQty=e.QtyIsValidWithAvailableQty,b.totalProductsError=e.totalProductsError})})}return a(i,[{key:"SetInitialMethods",value:function(){this._Receipt=new R.tY,this.GetCurrentUserSetting(),this.GetBranchList(),this.GetCashCustomerSettings(),this.GetCurrencyList(),this.GetReceipt_AfterReceiptCode_InventroySettings()}},{key:"GetReceipt_AfterReceiptCode_InventroySettings",value:function(){var e=this,t=this._ReceiptSharedService.GetReceiptCodeList(this.subsidiaryID),i=this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID);(0,Xe.D)([t,i]).subscribe(function(t){var i=n(t,2),r=i[0],o=i[1];e.ReceiptCodeList=r,e.InventorySetting=o,e.ReceiptCodeList.find(function(t){return t.code==e.BasicCodeReceipt}),e.Transaction_move=-1,e.GetReceipt()})}},{key:"GetReceipt",value:function(){var e=this;if(this._Receipt.subsidiaryid=this.subsidiaryID,this._Receipt.id=this.ReceiptID,console.log("id",this.ReceiptID),0==this.ReceiptID||null==this.ReceiptID){console.log("id",this.ReceiptID),this._Receipt.code=this.BasicCodeReceipt,this._Receipt.entry_date=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.CheckValidDateBySubsidaryID(),this._Receipt.entry_time=this.SetTimeNow();var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&(this._Receipt.branch_id="null"==n.branchId||0==n.branchId?null:n.branchId,null!=this._Receipt.branch_id&&(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch())),setTimeout(function(){e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt))},1e3)}else this._ProductionService.GetReceiptProductionAndDetailsByID(this.ReceiptID).subscribe(function(n){if(null!=n.receipt){e.VouchersLinkedCount=n.voucherslinkedcount.voucherslinkedcount,e._Receipt.id=n.receipt.id,e._Receipt.subsidiaryid=n.receipt.subsidiaryid,e._Receipt.code=n.receipt.code,e._Receipt.entry_no=n.receipt.entry_no,e._Receipt.branch_id=n.receipt.branch_id,e._Receipt.transaction_code=n.receipt.transaction_code,e._Receipt.customersalesprice=n.receipt.customersalesprice,e._Receipt.entry_date=e.datepipe.transform(n.receipt.entry_date,"yyyy-MM-dd"),e._Receipt.entry_time=n.receipt.entry_time,e._Receipt.reservedflag=n.receipt.reservedflag,e._Receipt.payment_type=n.receipt.payment_type,e._Receipt.vendor_id=n.receipt.vendor_id,e._Receipt.cashcustomerid=n.receipt.cashcustomerid,e._Receipt.cashcustomer_vendor_code={code:n.receipt.vendorcode},e._Receipt.cashcustomer_vendor_name="ar"==e.lang?n.receipt.vendornamear:n.receipt.vendorname,e._Receipt.currency_id=n.receipt.currency_id,e._Receipt.currency_rate=n.receipt.currency_rate,e._Receipt.customerdeliverdate=e.datepipe.transform(n.receipt.customerdeliverdate,"yyyy-MM-dd"),e._Receipt.customerdeliverdate_time=n.receipt.customerdeliverdate_time,e._Receipt.ordertype=n.receipt.ordertype,e._Receipt.empoyee_id=n.receipt.empoyee_id,e._Receipt.memo=n.receipt.memo,e._Receipt.reference_no=n.receipt.reference_no,e._Receipt.salestypeid=n.receipt.salestypeid,e._Receipt.commisionaccountid=n.receipt.commisionaccountid,e._Receipt.commissiontype=n.receipt.commissiontype,e._Receipt.commission=n.receipt.commission,e._Receipt.commissionnet=n.receipt.commissionnet,e._Receipt.commisionaccountid1=n.receipt.commisionaccountid1,e._Receipt.commissiontype1=n.receipt.commissiontype1,e._Receipt.commission1=n.receipt.commission1,e._Receipt.commissionnet1=n.receipt.commissionnet1,e._Receipt.costcenterid=n.receipt.costcenterid,e._Receipt.classid=n.receipt.classid,e._Receipt.locationid=n.receipt.locationid,e._Receipt.departmentid=n.receipt.departmentid,e._Receipt.carid=n.receipt.carid,e._Receipt.driverid=n.receipt.driverid,e._Receipt.valueforeign=n.receipt.valueforeign,e._Receipt.value=n.receipt.value,e._Receipt.discount_foreignpercent=n.receipt.discount_foreignpercent,e._Receipt.discount_percent=n.receipt.discount_percent,e._Receipt.discount_foreignvalue=n.receipt.discount_foreignvalue,e._Receipt.discount_value=n.receipt.discount_value,e._Receipt.deliveryfeesforeign=n.receipt.deliveryfeesforeign,e._Receipt.deliveryfees=n.receipt.deliveryfees,e._Receipt.surchargevalueforeign=n.receipt.surchargevalueforeign,e._Receipt.surchargevalue=n.receipt.surchargevalue,e._Receipt.surchargepercent=n.receipt.surchargepercent,e._Receipt.netvalueforeign=n.receipt.netvalueforeign,e._Receipt.netvalue=n.receipt.netvalue,e._Receipt.signature=n.receipt.signature,e._Receipt.related_voucher_type=n.receipt.related_voucher_type,e._Receipt.related_voucher_code=n.receipt.related_voucher_code,e._Receipt.status_id=n.receipt.status_id,e._Receipt.approvalstatus_id=n.receipt.approvalstatus_id,e._Receipt.costing_rate=n.receipt.costing_rate,e._Receipt.approvedby_id=n.receipt.approvedby_id,e._Receipt.shipmentterm_id=n.receipt.shipmentterm_id,e._Receipt.paymentterm_id=n.receipt.paymentterm_id,e._Receipt.supplieraccount_id=n.receipt.supplieraccount_id,e._Receipt.planneddeliverydate=n.receipt.planneddeliverydate,e._Receipt.actualdeliverydate=n.receipt.actualdeliverydate,e._Receipt.deliverylocation=n.receipt.deliverylocation,e._Receipt.contactedperson=n.receipt.contactedperson,e._Receipt.othernotes=n.receipt.othernotes,e._Receipt.cashdrawerid=n.receipt.cashdrawerid,e._Receipt.leadid=n.receipt.leadid,e._Receipt.deliverynotes=n.receipt.deliverynotes,e._Receipt.cashcustomerdetailid=n.receipt.cashcustomerdetailid,e._Receipt.is_canceled=n.receipt.is_canceled,e._Receipt.fromstoreid=n.receipt.fromstoreid,e._Receipt.tostoreid=n.receipt.tostoreid,e._Receipt.isdeliveryprint=n.receipt.isdeliveryprint,e._Receipt.printcount=n.receipt.printcount,e._Receipt.iskitchendone=n.receipt.iskitchendone,e._Receipt.paidamount=n.receipt.paidamount,e._Receipt.isholded=n.receipt.isholded,e._Receipt.branchtableid=n.receipt.branchtableid,e._Receipt.customeractualdeliverdate=n.receipt.customeractualdeliverdate,e._Receipt.deliverystatusid=n.receipt.deliverystatusid,e._Receipt.deposite=n.receipt.deposite,e._Receipt.paymentandconditions=n.receipt.paymentandconditions,e._Receipt.notes=n.receipt.notes,e._Receipt.chefid=n.receipt.chefid,e._Receipt.changeamount=n.receipt.changeamount,e._Receipt.divisionid=n.receipt.divisionid,e._Receipt.courierid=n.receipt.courierid,e._Receipt.depositepaymenttypeid=n.receipt.depositepaymenttypeid,e._Receipt.creationdate=n.receipt.creationdate,e._Receipt.lastupdatedate=n.receipt.lastupdatedate,e._Receipt.createdbyid=n.receipt.createdbyid,e._Receipt.updatedbyid=n.receipt.updatedbyid,e._Receipt.receiptattributeid=n.receipt.receiptattributeid,e._Receipt.costposted=n.receipt.costposted,e._Receipt.lcaccountid=n.receipt.lcaccountid,e._Receipt.lcno=n.receipt.lcno,e._Receipt.lcbank=n.receipt.lcbank,e._Receipt.lcstartdate=n.receipt.lcstartdate,e._Receipt.lcenddate=n.receipt.lcenddate,e._Receipt.lcrenewdate=n.receipt.lcrenewdate,e._Receipt.lcrenewenddate=n.receipt.lcrenewenddate,e._Receipt.lcinsurancecompany=n.receipt.lcinsurancecompany,e._Receipt.lcpolicyno=n.receipt.lcpolicyno,e._Receipt.insurancedate=n.receipt.insurancedate,e._Receipt.gooddeliverydate=n.receipt.gooddeliverydate,e._Receipt.lccondition=n.receipt.lccondition,e._Receipt.shippingmethod=n.receipt.shippingmethod,e._Receipt.exportport=n.receipt.exportport,e._Receipt.shipname=n.receipt.shipname,e._Receipt.lcnotes=n.receipt.lcnotes,e._Receipt.quotationcustomername=n.receipt.quotationcustomername,e._Receipt.duedate=n.receipt.duedate,e._Receipt.schedule_date=n.receipt.schedule_date,e._Receipt.storetype=n.receipt.storetype,e._Receipt.quotationenddate=n.receipt.quotationenddate,e._Receipt.wostatusid=n.receipt.wostatusid,e._Receipt.parentreceiptid=n.receipt.parentreceiptid,e._Receipt.isapproved=n.receipt.isapproved,e._Receipt.replenshimenttype=n.receipt.replenshimenttype,e._Receipt.reference=n.receipt.reference,e._Receipt.replenshimentfromdate=n.receipt.replenshimentfromdate,e._Receipt.replenshimenttodate=n.receipt.replenshimenttodate,e._Receipt.cancelreasonid=n.receipt.cancelreasonid,e._Receipt.contractstartdate=n.receipt.contractstartdate,e._Receipt.contractenddate=n.receipt.contractenddate,e._Receipt.previouscontractid=n.receipt.previouscontractid,e._Receipt.erpstatus=n.receipt.erpstatus,e._Receipt.loyalitybalance=n.receipt.loyalitybalance,e._Receipt.cpno=n.receipt.cpno,e._Receipt.accounttype=n.receipt.accounttype,e._Receipt.printing=n.receipt.printing,e._Receipt.storedelivery=n.receipt.storedelivery,e._Receipt.customerrecieve=n.receipt.customerrecieve,e._Receipt.promotionid=n.receipt.promotionid,e._Receipt.promotionpercent=n.receipt.promotionpercent,e._Receipt.promotionvalue=n.receipt.promotionvalue,e._Receipt.purchaserequeststatusid=n.receipt.purchaserequeststatusid,e._Receipt.urgent=n.receipt.urgent,e._Receipt.quotationstatusid=n.receipt.quotationstatusid,e._Receipt.salesorderstatusid=n.receipt.salesorderstatusid,e._Receipt.purchaseorderstatusid=n.receipt.purchaseorderstatusid,e._Receipt.expensesdistributionvoucherno=n.receipt.expensesdistributionvoucherno,e._Receipt.totalproductioncost=n.receipt.totalproductioncost,e._Receipt.totalvouchercost=n.receipt.totalvouchercost,e._Receipt.totalproductioncostforeign=n.receipt.totalproductioncostforeign,e._Receipt.totalvouchercostforeign=n.receipt.totalvouchercostforeign,e._Receipt.taxvalue=n.receipt.taxvalue,e._Receipt.sourceid=n.receipt.sourceid,e._Receipt.contractid=n.receipt.contractid,e._Receipt.type_id=n.receipt.type_id,e._Receipt.productionlineid=n.receipt.productionlineid,e._Receipt.linescheduleddate=n.receipt.linescheduleddate,e._Receipt.inchargepersonname=n.receipt.inchargepersonname,e._Receipt.inchargephoneno=n.receipt.inchargephoneno,e._Receipt.details=n.items,e._Receipt.itemscomponent=n.itemcomponents,e.ItemUnitsList=n.itemunits,e.ItemOrginalUnitsList=n.itemunits,e.ItemProductsUnitsList=n.componentsunits,e._Receipt.linkedreceipts=n.linkedreceipts;for(var i=0;i<e._Receipt.details.length;i++)e._Receipt.details[i].storecode={code:e._Receipt.details[i].storecode},e._Receipt.details[i].itemcode={code:e._Receipt.details[i].itemcode},e._Receipt.details[i].indirectexpensesunit=e._Receipt.details[i].productionunitexpense,2!=e._Receipt.details[i].item_type&&(e._Receipt.details[i].price=Number((Number(e._Receipt.details[i].avgcost)*Number(e._Receipt.details[i].final_conv)).toFixed(e._Currencyprecision))),e._Receipt.details[i].total=Number((e._Receipt.details[i].price*e._Receipt.details[i].qty).toFixed(e._Currencyprecision)),e._Receipt.details[i].costdiff=Number((e._Receipt.details[i].total/e._Receipt.details[i].qty-e._Receipt.details[i].defaultitemcost).toFixed(e._Currencyprecision)),e._Receipt.details[i].allowqtyselectforitem=!0;for(var r=function(t){var n=e._Receipt.details.find(function(n){return n.id==e._Receipt.itemscomponent[t].finishedreceipt_did});e._Receipt.itemscomponent[t].storecode={code:e._Receipt.itemscomponent[t].storecode},e._Receipt.itemscomponent[t].itemcode={code:e._Receipt.itemscomponent[t].itemcode},e._Receipt.itemscomponent[t].parentrowno=n.rowno,e._Receipt.itemscomponent[t].qtydiff=e._Receipt.itemscomponent[t].qty-e._Receipt.itemscomponent[t].defaultitemqty,e._Receipt.itemscomponent[t].allowqtyselectforitem=!0,e._Receipt.itemscomponent[t].basicqtycomponent=e._Receipt.itemscomponent[t].defaultitemqty/n.qty,e._Receipt.itemscomponent[t].pricecostbasicqty=Number((e._Receipt.itemscomponent[t].price*e._Receipt.itemscomponent[t].basicqtycomponent).toFixed(e._Currencyprecision)),e._Receipt.itemscomponent[t].price=Number(e._Receipt.itemscomponent[t].price.toFixed(e._Currencyprecision)),e._Receipt.itemscomponent[t].total=Number((e._Receipt.itemscomponent[t].price*e._Receipt.itemscomponent[t].qty).toFixed(e._Currencyprecision))},o=0;o<e._Receipt.itemscomponent.length;o++)r(o);e._Receipt.netvalue=Number(n.receipt.netvalue.toFixed(e._Currencyprecision)),e._Receipt.netvalueforeign=Number(n.receipt.netvalueforeign.toFixed(e._Currencyprecision)),e._Receipt.value=e._Receipt.netvalue,e._Receipt.valueforeign=e._Receipt.netvalueforeign,e._Receipt.totalproductioncost=Number(n.receipt.totalproductioncost.toFixed(e._Currencyprecision)),e._Receipt.totalproductioncostforeign=Number(n.receipt.totalproductioncostforeign.toFixed(e._Currencyprecision)),e._Receipt.totalvouchercost=Number(n.receipt.totalvouchercost.toFixed(e._Currencyprecision)),e._Receipt.totalvouchercostforeign=Number(n.receipt.totalvouchercostforeign.toFixed(e._Currencyprecision)),e._Receipt.details.map(function(e){e.batcheslist=new Array;var i=n.batchesinitemscomponent.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),e._Receipt.itemscomponent.map(function(e){e.batcheslist=new Array;var i=n.batchesinitems.filter(function(t){return t.inv_receipt_d_id==e.id});e.batcheslist=t(i)}),e._ReceiptOriginal=JSON.parse(JSON.stringify(e._Receipt)),e.entry_no=e._Receipt.entry_no,e.VouchersLinkedCount>0?(e.ShowModeReceipt=!0,e.ShowPopUpLinkedVoucherIsPosted()):null!=e._Receipt.expensesdistributionvoucherno?e.ShowModeReceipt=!0:1==!e.ShowModeReceipt&&e.CheckValidDateBySubsidaryID(),e._CurrencySelected=e.CurrencyList.find(function(t){return t.id==e._Receipt.currency_id}),e.ForeignCurrencyShow=1!=e._CurrencySelected.basecurrency,e.OnSelectedItem(e._Receipt.details[0],0,"selected"),e.cd.markForCheck()}})}},{key:"GetCurrentUserSetting",value:function(){var e=this;this._ReceiptSharedService.GetCurrentUserSetting().subscribe(function(t){e.CurrentUserSetting=t})}},{key:"GetBranchList",value:function(){var e=this;this._ReceiptSharedService.AllActiveUserBranchddl(this.subsidiaryID).subscribe(function(t){e.BranchList=t,e.cd.markForCheck()})}},{key:"changeBranch",value:function(e){var t=this;if(this._Receipt.details.length>1||1==this._Receipt.details.length&&null!=this._Receipt.details[0].item_id)Ke().fire({title:this.warning,text:this.WarningInfoLost,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){if(n.value){t._Receipt.details=new Array,t._Receipt.itemscomponent=new Array,t._Receipt.linkedreceipts=new Array,t.ItemUnitsList=[],t.ItemProductsUnitsList=[],t._Receipt.branch_id="null"==e.target.value?null:e.target.value;var i=JSON.parse(localStorage.getItem("Branch"));null!=i&&null!=i&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:t._Receipt.branch_id})),null!=t._Receipt.branch_id?(t.GetReceiptEntryCode(),t.GetDefaultStoreCostCenterByBranch(!0)):t._Receipt.entry_no=null}else{var r=JSON.parse(localStorage.getItem("Branch"));null!=r&&null!=r&&(t._Receipt.branch_id="null"==r.branchId||0==r.branchId?null:r.branchId)}});else{this._Receipt.branch_id="null"==e.target.value?null:e.target.value;var n=JSON.parse(localStorage.getItem("Branch"));null!=n&&null!=n&&localStorage.removeItem("Branch"),localStorage.setItem("Branch",JSON.stringify({branchId:this._Receipt.branch_id})),null!=this._Receipt.branch_id?(this.GetReceiptEntryCode(),this.GetDefaultStoreCostCenterByBranch()):this._Receipt.entry_no=null}}},{key:"GetCashCustomerSettings",value:function(){var e=this;this._ReceiptSharedService.GetCashCustomerSettings(this.subsidiaryID).subscribe(function(t){null!=t||null!=t?(e.CashCustomerSetting=t,e.CashCustomerSetting.allowdecimalpack=1==e.CashCustomerSetting.allowdecimalpack?".01":"1"):e.CashCustomerSetting={allowdecimalpack:"1",enablecashcustomer:!1,salesreturneffect:"1",allowpack:!1},e.cd.markForCheck()})}},{key:"GetAllInventroySettingsBySubSidary",value:function(){var e=this;this._ReceiptSharedService.GetAllInventroySettingsBySubSidary(this.subsidiaryID).subscribe(function(t){e.InventorySetting=t,e.cd.markForCheck()})}},{key:"GetCurrencyList",value:function(){var e=this;this._VoucherService.GetSubsidaryCurrencyList(this.subsidiaryID).subscribe(function(t){var n;t.length>0&&(e.CurrencyList=t,e._BaseCurrency=e.CurrencyList.find(function(e){return 1==e.basecurrency}),e._CurrencySelected=e._BaseCurrency,e._Currencyprecision=null!==(n=e._BaseCurrency.currencyprecision)&&void 0!==n?n:3,e._Receipt.currency_id=e._CurrencySelected.id,e._Receipt.currency_rate=Number(1..toFixed(9)),e.cd.markForCheck())})}},{key:"changeCurrency",value:function(e){var t,n=this;(this._CurrencySelected=this.CurrencyList.find(function(t){return t.id==e.target.value}),null!=this._CurrencySelected)?(t=""!=this._Receipt.entry_time&&null!=this._Receipt.entry_time&&null!=this._Receipt.entry_time?this._Receipt.entry_date+" "+this._Receipt.entry_time:this._Receipt.entry_date+" 23:59",this._VoucherService.GetSubsidaryCurrenciesRate(this.subsidiaryID,this._CurrencySelected.id,t,0).subscribe(function(e){n._Receipt.currency_rate=e&&e.length>0?e[0].rate.toFixed(9):Number(1..toFixed(9)),n.ForeignCurrencyShow=1!=n._CurrencySelected.basecurrency,n.cd.markForCheck()})):(this._CurrencySelected=null,this._Currencyprecision=3,this._Receipt.currency_rate=null,this.cd.markForCheck())}},{key:"GetReceiptEntryCode",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.cd.markForCheck()})}},{key:"CheckEntryCode",value:function(){var e=this;this._ReceiptSharedService.CheckEntryNo(this._Receipt.id,this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.entry_no,this._Receipt.branch_id).subscribe(function(t){e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t&&Ke().fire({title:e.swalTitleEntry,text:e.swalTextEntry,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:e.swalConfirmButtonEntry,cancelButtonText:e.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.value?e._router.navigate(["/page/production/reverseproductionvoucher/"+t.id]).then(function(){}):(e._Receipt.entry_no=e.entry_no,e.cd.markForCheck())})})}},{key:"ChangePropFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.DuringSaveDisable=!0,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,"EntryCode"==t?e.CheckEntryCode():"EntryDate"==t&&e.ChangeEntryDate()},1e3*n)}},{key:"ChangeEntryDate",value:function(){null!=this._Receipt.entry_date&&""!=this._Receipt.entry_date&&null!=this._Receipt.entry_date?this.CheckValidDateBySubsidaryID():(this.DuringSaveDisable=!1,this.cd.markForCheck())}},{key:"CheckValidDateBySubsidaryID",value:function(){var e=this;this._ReceiptSharedService.ValidDateBySubsidaryID(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){if(e.DuringSaveDisable=!1,e.cd.markForCheck(),null!=t||null!=t){if(null!=t||null!=t){var n=Date.parse(t.subsidarystart.toString()),i=Date.parse(e._Receipt.entry_date.toString());0==t.openperiod?(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod("close")):1==t.openperiod&&n<i?(e.ValidPeriod=!0,e.ShowModeReceipt=!1,e.cd.markForCheck(),e.GetMaxCostPostedSerDate()):(e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod())}}else e.ValidPeriod=!1,e.ShowModeReceipt=!0,e.ShowPopUpFinancialPeriod();e.cd.markForCheck()})}},{key:"ShowPopUpFinancialPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="close"==e?this.FinancialPeriodCloseMsg:this.FinancialPeriodMsg;Ke().fire({title:this.warning,text:t,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpCostPostedSerDate",value:function(){Ke().fire({title:this.warning,text:this.CostPostingPeriodMessage,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"ShowPopUpLinkedVoucherIsPosted",value:function(){Ke().fire({title:this.warning,text:this.LinkedVoucherIsPostedMsg,icon:"warning",showCancelButton:!1,confirmButtonColor:"#2F8BE6",confirmButtonText:this.Close,customClass:{confirmButton:"btn btn-warning"},buttonsStyling:!1}).then(function(e){})}},{key:"GetDefaultStoreCostCenterByBranch",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];1==n&&this.Calculate_Total_Cost(),this._ReceiptSharedService.DefaultStoreCostCenterByBranch(this._Receipt.branch_id).subscribe(function(n){if(e.StoreCostCenterSetting=n.length>0?n[0]:{storeid:null,storecode:null,costcenterid:null,costcentername:null,costcentername_ar:null},null!=e.StoreCostCenterSetting.storeid){if(0==e._Receipt.details.length){e._ProductionDetailsReceipt=new R.hm,e._ProductionDetailsReceipt.transaction_move=-1;var i=Math.max.apply(Math,t(e._Receipt.details.map(function(e){return e.rowno})).concat([0]));e._ProductionDetailsReceipt.rowno=i+1,e._Receipt.details.push(e._ProductionDetailsReceipt),e._Receipt.details[0].store_id=e.StoreCostCenterSetting.storeid,e._Receipt.details[0].storecode={code:e.StoreCostCenterSetting.storecode}}e._Receipt.details.length>0&&(e._Receipt.details.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e._Receipt.itemscomponent.forEach(function(t){t.store_id=e.StoreCostCenterSetting.storeid,t.storecode={code:e.StoreCostCenterSetting.storecode}}),e.CheckBalanceForAllItemsProductsInStore(0))}e.cd.markForCheck()})}},{key:"onFocusInCustomerAccounts",value:function(e){this.GetCustomerAccountsList("")}},{key:"CustomerAccountsChangeSearch",value:function(e){this.GetCustomerAccountsList(e.query.trim())}},{key:"CustomerAccountsSelectEvent",value:function(e){this._Receipt.vendor_id=e.accountid,this._Receipt.cashcustomer_vendor_name="ar"!=this.lang?e.name:e.name_ar}},{key:"GetCustomerAccountsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._CustomerService.CustomerAccountsList(this.subsidiaryID,t).subscribe(function(t){e.CustomerAccountsList=[],e.CustomerAccountsList=t,e.cd.markForCheck()})}},{key:"onClearCustomer",value:function(e){this._Receipt.cashcustomer_vendor_name=null,this._Receipt.vendor_id=null}},{key:"AddItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=new R.hm;if(this._Receipt.details.length>0?(n.store_id=this._Receipt.details[this._Receipt.details.length-1].store_id,n.storecode=this._Receipt.details[this._Receipt.details.length-1].storecode):0==this._Receipt.id?(n.store_id=this.StoreCostCenterSetting.storeid,n.storecode={code:this.StoreCostCenterSetting.storecode}):(n.store_id=this._ReceiptOriginal.details[0].store_id,n.storecode=this._ReceiptOriginal.details[0].storecode),1==e){n.transaction_move=-1;var i=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));n.rowno=i+1,this._Receipt.details.push(n)}else{n.transaction_move=1,n.updatefromproc=-1;var r=Math.max.apply(Math,t(this._Receipt.itemscomponent.map(function(e){return e.rowno})).concat([0]));n.rowno=r+1,n.parentrowno=this.SelectedItem.rowno,this._Receipt.itemscomponent.push(n),this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent))}this.cd.markForCheck()}},{key:"onFocusInStore",value:function(e,t){t==this._Receipt.details.length-1&&this.AddItems(),this.GetStoreList("")}},{key:"StoreChangeSearch",value:function(e){this.GetStoreList(e.query.trim())}},{key:"StoreSelectEvent",value:function(e,t){this._Receipt.details[t].store_id=e.id,this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e}),this.CheckBalanceForAllItemsProductsInStore(0)}},{key:"GetStoreList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ReceiptSharedService.GetStoreList(this.subsidiaryID,t).subscribe(function(t){e.StoreList=[],e.StoreList=t,console.log(e.StoreList,"  this.StoreList"),e.cd.markForCheck()})}},{key:"onFocusInStoreProducts",value:function(e){this.GetStoreList("")}},{key:"StoreProductsSelectEvent",value:function(e){this._Receipt.details.forEach(function(t){t.store_id=e.id,t.storecode=e}),this._Receipt.itemscomponent.forEach(function(t){t.store_id=e.id,t.storecode=e,console.log(t)}),this.cd.markForCheck(),this.CheckBalanceForAllItemsProductsInStore(0)}},{key:"onClearStoreProducts",value:function(e){var t;t=this._Receipt.itemscomponent.findIndex(null==e.id?function(t){return t.rowno==e.rowno}:function(t){return t.id==e.id}),this._Receipt.itemscomponent[t].store_id=null,this._Receipt.itemscomponent[t].storecode=null}},{key:"onFocusInItems",value:function(e,t){this.GetItemsList("")}},{key:"ItemsChangeSearch",value:function(e,t){var n=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){n.timeout=null,n.GetItemsList(e.query.trim())},300)}},{key:"GetItemsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ProductionService.GetItemsDataListProduction2(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"ItemsSelectEvent",value:function(e,t){null!=this._Receipt.details[t].item_id&&this.onClearItems(t),0==e.stopinventorytransactions?0==this._Receipt.details.filter(function(t){return t.item_id==e.id}).length?(t==this._Receipt.details.length-1&&this.AddItems(),this._Receipt.details[t].item_id=e.id,this._Receipt.details[t].itemname=e.name,this._Receipt.details[t].itemname_ar=e.name_ar,this.GetItemDataDetailsLists(e,t)):(this.ResetRow(t),this.toastr.error(this.ItemSelectedBefor)):(this.ResetRow(t),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"ResetRow",value:function(e){var t=this;this._Receipt.details.splice(e,1),setTimeout(function(){t.AddItems()},0)}},{key:"onClearItems",value:function(e){var n=this._Receipt.details[e];this._Receipt.itemscomponent.length>0&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=n.rowno})),this._Receipt.details[e].id=null,this._Receipt.details[e].item_id=null,this._Receipt.details[e].itemname=null,this._Receipt.details[e].itemname_ar=null,this._Receipt.details[e].finishedproductid=null,this._Receipt.details[e].finishedreceipt_did=null,this._Receipt.details[e].conv=1,this._Receipt.details[e].final_conv=1,this._Receipt.details[e].qty=1,this._Receipt.details[e].price=0,this._Receipt.details[e].discount_percent=0,this._Receipt.details[e].discount_value=0,this._Receipt.details[e].total=0,this._Receipt.details[e].defaultitemcost=0,this._Receipt.details[e].costdiff=0,this._Receipt.details[e].productionunitexpense=0,this._Receipt.details[e].productionqtyexpense=0,this._Receipt.details[e].indirectexpensesunit=0,this._Receipt.details[e].unit_id=null;var i=Math.max.apply(Math,t(this._Receipt.details.map(function(e){return e.rowno})).concat([0]));this._Receipt.details[e].rowno=i+1}},{key:"GetItemDataDetailsLists",value:function(e,n){var i=this;this._Receipt.details[n].id=null,this._Receipt.details[n].finishedproductid=null,this._Receipt.details[n].finishedreceipt_did=null,this._Receipt.details[n].conv=1,this._Receipt.details[n].final_conv=1,this._Receipt.details[n].qty=1,this._Receipt.details[n].price=0,this._Receipt.details[n].discount_percent=0,this._Receipt.details[n].discount_value=0,this._Receipt.details[n].total=0,this._Receipt.details[n].defaultitemcost=0,this._Receipt.details[n].costdiff=0,this._Receipt.details[n].productionunitexpense=0,this._Receipt.details[n].productionqtyexpense=0,this._Receipt.details[n].indirectexpensesunit=0,this._Receipt.details[n].unit_id=null,this._ProductionService.GetFinishItemProductDetailsLists(this.subsidiaryID,e.id).subscribe(function(r){if(0==r.itemunits.length){i._Receipt.details[n]=new R.hm,i._Receipt.details[n].isrequireserial=r.item.isrequireserial;var o=Math.max.apply(Math,t(i._Receipt.details.map(function(e){return e.rowno})).concat([0]));i._Receipt.details[n].rowno=o+1,0==i._Receipt.id?(i._Receipt.details[n].store_id=i.StoreCostCenterSetting.storeid,i._Receipt.details[n].storecode={code:i.StoreCostCenterSetting.storecode}):(i._Receipt.details[n].store_id=i._ReceiptOriginal.details[0].store_id,i._Receipt.details[n].storecode=i._ReceiptOriginal.details[0].storecode),i.toastr.error(i.NoUnits)}else i._Receipt.details[n].isrequireserial=r.item.isrequireserial,i._Receipt.details[n].notes=r.item.notes,i._Receipt.details[n].item_type=r.item.item_type,i._Receipt.details[n].indirectexpensesunit=r.item.indirectexpensesunit,i._Receipt.details[n].productionunitexpense=i._Receipt.details[n].indirectexpensesunit,i._Receipt.details[n].productionqtyexpense=Number((i._Receipt.details[n].productionunitexpense*i._Receipt.details[n].qty).toFixed(i._Currencyprecision)),i.ItemUnitsList.length>0?0==i.ItemUnitsList.filter(function(t){return t.item_id==e.id}).length&&(i.ItemUnitsList=i.ItemUnitsList.concat(r.itemunits)):i.ItemUnitsList=i.ItemUnitsList.concat(r.itemunits),i._Receipt.details[n].unit_id=r.item.inventory_unit,i.ChangeItemUnits(r.item.inventory_unit,n),r.itemcomponents.length>0?(r.componentsunits.length>0&&(i.ItemProductsUnitsList=i.ItemProductsUnitsList.concat(r.componentsunits)),r.itemcomponents.forEach(function(e){var r=new R.hm;r.isrequireserial=e.isrequireserial,r.item_id=e.itemproductid,r.finishedproductid=e.item_id,r.itemname=e.itemname,r.itemname_ar=e.itemname_ar,r.itemcode={code:e.itemcode},r.unit_id=e.itemproductunitid,r.qty=e.itemproductqty,r.priceincreasepercentage=e.costratio.toFixed(2),r.defaultitemqty=e.itemproductqty,r.qtydiff=0,r.basicqtycomponent=e.itemproductqty;var o=i.ItemProductsUnitsList.filter(function(e){return e.item_id==r.item_id&&e.id==r.unit_id});r.conv=o[0].conv,r.price=0,r.total=Number((r.price*r.qty).toFixed(i._Currencyprecision)),r.store_id=i._Receipt.details[n].store_id,r.transaction_move=1,r.updatefromproc=-1,r.item_type=e.item_type,r.storecode=null!=i._Receipt.details[n].storecode?i._Receipt.details[n].storecode:null,r.parentrowno=i._Receipt.details[n].rowno;var a=Math.max.apply(Math,t(i._Receipt.itemscomponent.map(function(e){return e.rowno})).concat([0]));r.rowno=a+1,i._Receipt.itemscomponent.push(r)}),i.GetItemProductss_CostPrice(i._Receipt.details[n].rowno)):(i.toastr.error(i.NOProdcts),i.OnSelectedItem(i._Receipt.details[n],n),i.CalaculteItemsCostPriceRow(n));i.cd.markForCheck()})}},{key:"ChangeItemUnits",value:function(e,t){e.toString().includes(":")&&(e=e.split(":")[1].trim());var n=this._Receipt.details[t].item_id,i=this.ItemUnitsList.filter(function(t){return t.item_id==n&&t.id==e});this._Receipt.details[t].conv=i[0].conv,this._Receipt.details[t].final_conv=i[0].finalconv,this.cd.markForCheck(),this.CheckBalanceForItemProductsInStore(t)}},{key:"OnSelectedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];console.log(e,"SelectedItem"),this.show_all_Products=i,this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent)),0==this.show_all_Products?(this.SelectedItem=e,console.log(this.SelectedItem)):(this.show_all_Products=!0,this.cd.markForCheck()),this.itemqtyview=!1,null!=t&&this.StockBalances(t),""==n&&null!=t&&this.CheckBalanceForItemProductssInStore(t,0)}},{key:"ChangeQty",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n=t._Receipt.details[e];t._Receipt.itemscomponent.filter(function(n){return n.parentrowno==t._Receipt.details[e].rowno}).forEach(function(n){n.qty=Number((n.basicqtycomponent*t._Receipt.details[e].qty).toFixed(t._Currencyprecision)),n.defaultitemqty=Number((n.basicqtycomponent*t._Receipt.details[e].qty).toFixed(t._Currencyprecision)),n.qtydiff=Number((n.qty-n.defaultitemqty).toFixed(t._Currencyprecision))}),t._Receipt.details[e].productionqtyexpense=Number((t._Receipt.details[e].productionunitexpense*t._Receipt.details[e].qty).toFixed(t._Currencyprecision)),t.CalaculteItemsCostPriceRow(e),t.OnSelectedItem(n,e),t.CheckBalanceForItemProductsInStore(e),t.cd.markForCheck()},500)}},{key:"DeleteItems",value:function(e){this.itemqtyview=!1;var t=this._Receipt.details[e];this._Receipt.itemscomponent.length>0&&(this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno!=t.rowno})),this.ItemUnitsList=this.ItemUnitsList.filter(function(e){return e.item_id!=t.item_id}),this._Receipt.details.splice(e,1),0==this._Receipt.details.length?(this._Receipt.netvalue=0,this._Receipt.netvalueforeign=0,this._Receipt.value=0,this._Receipt.valueforeign=0,this._Receipt.totalproductioncost=0,this._Receipt.totalproductioncostforeign=0,this._Receipt.totalvouchercost=0,this._Receipt.totalvouchercostforeign=0):this.Calculate_Total_Cost(),this.OnSelectedItem(null),this.cd.markForCheck()}},{key:"onFocusInItemsProducts",value:function(e){this.GetItemsProductsList("")}},{key:"ItemsProductsChangeSearch",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null,t.GetItemsProductsList(e.query.trim())},300)}},{key:"GetItemsProductsList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._ProductionService.GetItemsDataListProductionComponent(this.subsidiaryID,t).subscribe(function(t){e.ItemsList=[],e.ItemsList=t,e.cd.markForCheck()})}},{key:"onClearItemsProducts",value:function(e){var n=this._Receipt.itemscomponent.findIndex(function(t){return t.rowno==e.rowno});this._Receipt.itemscomponent[n].id=null,this._Receipt.itemscomponent[n].item_id=null,this._Receipt.itemscomponent[n].itemname=null,this._Receipt.itemscomponent[n].itemname_ar=null,this._Receipt.itemscomponent[n].finishedproductid=null,this._Receipt.itemscomponent[n].finishedreceipt_did=null,this._Receipt.itemscomponent[n].conv=1,this._Receipt.itemscomponent[n].final_conv=1,this._Receipt.itemscomponent[n].qty=1,this._Receipt.itemscomponent[n].price=0,this._Receipt.itemscomponent[n].discount_percent=0,this._Receipt.itemscomponent[n].discount_value=0,this._Receipt.itemscomponent[n].total=0,this._Receipt.itemscomponent[n].defaultitemcost=0,this._Receipt.itemscomponent[n].costdiff=0,this._Receipt.itemscomponent[n].productionunitexpense=0,this._Receipt.itemscomponent[n].productionqtyexpense=0,this._Receipt.itemscomponent[n].indirectexpensesunit=0,this._Receipt.itemscomponent[n].unit_id=null,this._Receipt.itemscomponent[n].defaultitemqty=0,this._Receipt.itemscomponent[n].qtydiff=0;var i=Math.max.apply(Math,t(this._Receipt.itemscomponent.map(function(e){return e.rowno})).concat([0]));this._Receipt.itemscomponent[n].rowno=i+1}},{key:"ItemsProductsSelectEvent",value:function(e,t){var n=this,i=this._Receipt.itemscomponent.findIndex(function(e){return e.rowno==t.rowno});null!=this._Receipt.itemscomponent[i].item_id&&this.onClearItemsProducts(t);var r=this._Receipt.details.find(function(e){return e.rowno==n._Receipt.itemscomponent[i].parentrowno});if(e.id==r.item_id)return this._Receipt.itemscomponent[i]=new R.hm,this._Receipt.itemscomponent[i].transaction_move=1,this._Receipt.itemscomponent[i].updatefromproc=-1,0==this._Receipt.id?(this._Receipt.itemscomponent[i].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.itemscomponent[i].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.itemscomponent[i].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.itemscomponent[i].storecode=this._ReceiptOriginal.details[0].storecode),this.toastr.error(this.productItselfMsg),void this.cd.markForCheck();0==e.stopinventorytransactions?(this._Receipt.itemscomponent[i].item_id=e.id,this._Receipt.itemscomponent[i].itemname=e.name,this._Receipt.itemscomponent[i].itemname_ar=e.name_ar,this.GetItemDataProductssDetailsLists(e,i)):(this._Receipt.itemscomponent[i]=new R.hm,this._Receipt.itemscomponent[i].transaction_move=1,this._Receipt.itemscomponent[i].updatefromproc=-1,0==this._Receipt.id?(this._Receipt.itemscomponent[i].store_id=this.StoreCostCenterSetting.storeid,this._Receipt.itemscomponent[i].storecode={code:this.StoreCostCenterSetting.storecode}):(this._Receipt.itemscomponent[i].store_id=this._ReceiptOriginal.details[0].store_id,this._Receipt.itemscomponent[i].storecode=this._ReceiptOriginal.details[0].storecode),this.cd.markForCheck(),this.toastr.error(this.StopInventoryErrorMsg))}},{key:"GetItemDataProductssDetailsLists",value:function(e,t){var n=this;this._Receipt.itemscomponent[t].id=null,this._Receipt.itemscomponent[t].finishedproductid=null,this._Receipt.itemscomponent[t].finishedreceipt_did=null,this._Receipt.itemscomponent[t].conv=1,this._Receipt.itemscomponent[t].final_conv=1,this._Receipt.itemscomponent[t].qty=1,this._Receipt.itemscomponent[t].price=0,this._Receipt.itemscomponent[t].discount_percent=0,this._Receipt.itemscomponent[t].discount_value=0,this._Receipt.itemscomponent[t].total=0,this._Receipt.itemscomponent[t].defaultitemcost=0,this._Receipt.itemscomponent[t].unit_id=null,this._Receipt.itemscomponent[t].defaultitemqty=0,this._Receipt.itemscomponent[t].qtydiff=0,this._ReceiptSharedService.GetItemDataDetailsLists(this.subsidiaryID,e.id).subscribe(function(i){if(0==i.itemunits.length)n._Receipt.itemscomponent[t]=new R.hm,n._Receipt.itemscomponent[t].transaction_move=1,n._Receipt.itemscomponent[t].updatefromproc=-1,0==n._Receipt.id?(n._Receipt.itemscomponent[t].store_id=n.StoreCostCenterSetting.storeid,n._Receipt.itemscomponent[t].storecode={code:n.StoreCostCenterSetting.storecode}):(n._Receipt.itemscomponent[t].store_id=n._ReceiptOriginal.details[0].store_id,n._Receipt.itemscomponent[t].storecode=n._ReceiptOriginal.details[0].storecode),n.toastr.error(n.NoUnits);else{var r=n._Receipt.details.find(function(e){return e.rowno==n._Receipt.itemscomponent[t].parentrowno});n._Receipt.itemscomponent[t].notes=i.item.notes,n._Receipt.itemscomponent[t].item_type=i.item.item_type,n._Receipt.itemscomponent[t].qty=1*r.qty,n._Receipt.itemscomponent[t].defaultitemqty=0,n._Receipt.itemscomponent[t].qtydiff=Number((n._Receipt.itemscomponent[t].qty-n._Receipt.itemscomponent[t].defaultitemqty).toFixed(n._Currencyprecision)),n._Receipt.itemscomponent[t].basicqtycomponent=1,n.ItemProductsUnitsList.length>0?0==n.ItemProductsUnitsList.filter(function(t){return t.item_id==e.id}).length&&(n.ItemProductsUnitsList=n.ItemProductsUnitsList.concat(i.itemunits)):n.ItemProductsUnitsList=n.ItemProductsUnitsList.concat(i.itemunits),n._Receipt.itemscomponent[t].unit_id=i.item.inventory_unit,n.ChangeItemProductssUnits(i.item.inventory_unit,n._Receipt.itemscomponent[t]),n.cd.markForCheck()}n.cd.markForCheck()})}},{key:"ChangeItemProductssUnits",value:function(e,t){var n=this._Receipt.itemscomponent.findIndex(function(e){return e.rowno==t.rowno}),i=this.ItemProductsUnitsList.find(function(n){return n.item_id==t.item_id&&n.id==e});this._Receipt.itemscomponent[n].conv=i.conv,this._Receipt.itemscomponent[n].final_conv=i.finalconv,this.GetItemProducts_CostPrice(n)}},{key:"DeleteItemsProducts",value:function(e){var t=this._Receipt.itemscomponent.findIndex(function(t){return t.rowno==e.rowno}),n=this._Receipt.itemscomponent[t];1==this._Receipt.itemscomponent.filter(function(e){return e.item_id==n.item_id}).length&&(this.ItemProductsUnitsList=this.ItemProductsUnitsList.filter(function(e){return e.item_id!=n.item_id})),this._Receipt.itemscomponent.splice(t,1),this._Receipt.itemscomponent=JSON.parse(JSON.stringify(this._Receipt.itemscomponent));var i=this._Receipt.details.findIndex(function(t){return t.rowno==e.parentrowno});this.CalaculteItemsCostPriceRow(i),this.cd.markForCheck()}},{key:"ChangeQtyProducts",value:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.timeout=null;var n=t._Receipt.itemscomponent.findIndex(function(t){return t.rowno==e.rowno});t._Receipt.itemscomponent[n].qtydiff=Number((t._Receipt.itemscomponent[n].qty-t._Receipt.itemscomponent[n].defaultitemqty).toFixed(t._Currencyprecision)),t._Receipt.itemscomponent[n].total=Number((t._Receipt.itemscomponent[n].price*t._Receipt.itemscomponent[n].qty).toFixed(t._Currencyprecision));var i=t._Receipt.details.findIndex(function(t){return t.rowno==e.parentrowno});t.CalaculteItemsCostPriceRow(i),t.cd.markForCheck()},2e3)}},{key:"CalaculteValuesItemsRow",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"percent",i=this._Receipt.details.findIndex(function(t){return t.rowno==e});this._Receipt.details[i].price=Number(this._Receipt.details[i].price)||0,"percent"==n&&(t.pricecostbasicqty=Number((this._Receipt.details[i].price*(t.priceincreasepercentage/100)*t.conv).toFixed(this._Currencyprecision)),t.price=Number((t.pricecostbasicqty/t.basicqtycomponent*t.conv).toFixed(this._Currencyprecision))),"value"==n&&(t.pricecostbasicqty=Number((t.price*t.basicqtycomponent/t.conv).toFixed(this._Currencyprecision)),t.priceincreasepercentage=(100*(t.pricecostbasicqty/(this._Receipt.details[i].price*t.conv)%(1/0)||0)).toFixed(2)),t.total=Number((t.price*t.qty).toFixed(this._Currencyprecision)),this.OnSelectedItem(this._Receipt.details[i],i),this.CalaculteItemsCostPriceRow(i),this.cd.markForCheck()}},{key:"GetItemProductss_CostPrice",value:function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=0;this._Receipt.itemscomponent.filter(function(e){return e.parentrowno==t}).forEach(function(e){o+=e.qty*e.priceincreasepercentage});var a,c=this._Receipt.itemscomponent.filter(function(e){return e.parentrowno==t}),l=this._Receipt.details.find(function(e){return e.rowno==t}),s=c[r],d=this._Receipt.details.findIndex(function(e){return e.rowno==t});a=2!=s.item_type?this._ReceiptSharedService.GetItemCostAtDateStoreconv(l.item_id,l.unit_id,l.conv,l.store_id,this._Receipt.entry_date+" "+this._Receipt.entry_time):this._ProductionService.GetServiceItemCost(this._Receipt.subsidiaryid,l.item_id),(0,Xe.D)([a]).subscribe(function(a){var s=n(a,1)[0];s.length>0?(l.price=Number(s[0].avgcost.toFixed(i._Currencyprecision)),l.defaultitemcost=Number(s[0].avgcost.toFixed(i._Currencyprecision))):(l.price=0,l.defaultitemcost=0),l.total=Number((l.price*l.qty).toFixed(i._Currencyprecision)),Number((l.total/o).toFixed(i._Currencyprecision));var p,m=e(c);try{for(m.s();!(p=m.n()).done;){var u=p.value;u.pricecostbasicqty=Number((l.price*(u.priceincreasepercentage/100)*u.conv).toFixed(i._Currencyprecision)),u.price=Number((u.pricecostbasicqty/u.basicqtycomponent*u.conv).toFixed(i._Currencyprecision)),u.total=Number((u.price*u.qty).toFixed(i._Currencyprecision)),u.total}}catch(h){m.e(h)}finally{m.f()}i.cd.markForCheck(),r+1<c.length?i.GetItemProductss_CostPrice(t,r+1):(i._Receipt.details[d].defaultitemcost=Number(i._Receipt.details[d].defaultitemcost),i.OnSelectedItem(i._Receipt.details[d],d),i.CalaculteItemsCostPriceRow(d))})}},{key:"GetItemProducts_CostPrice",value:function(e){var t=this,n=this._Receipt.details.findIndex(function(n){return n.rowno==t._Receipt.itemscomponent[e].parentrowno});this.CalaculteItemsCostPriceRow(n),this.cd.markForCheck()}},{key:"CalaculteItemsCostPriceRow",value:function(e){var t=this;this._Receipt.details[e].total=Number((this._Receipt.details[e].price*this._Receipt.details[e].qty).toFixed(this._Currencyprecision)),this._Receipt.itemscomponent.filter(function(n){return n.parentrowno==t._Receipt.details[e].rowno}).forEach(function(e){e.total=Number((e.price*e.qty).toFixed(t._Currencyprecision))}),this._Receipt.details[e].discount_percent=0,this._Receipt.details[e].discount_value=0,this._Receipt.details[e].costdiff=Number((this._Receipt.details[e].total/this._Receipt.details[e].qty-this._Receipt.details[e].defaultitemcost).toFixed(this._Currencyprecision)),this.Calculate_Total_Cost()}},{key:"Calculate_Total_Cost",value:function(){var e=0,t=0,n=0;this._Receipt.itemscomponent.forEach(function(n){e+=n.total,t+=n.productionqtyexpense}),n=e+t,this._Receipt.netvalue=Number(e.toFixed(this._Currencyprecision)),this._Receipt.netvalueforeign=Number(e.toFixed(this._Currencyprecision)),this._Receipt.value=this._Receipt.netvalue,this._Receipt.valueforeign=this._Receipt.netvalueforeign,this._Receipt.totalproductioncost=Number(t.toFixed(this._Currencyprecision)),this._Receipt.totalproductioncostforeign=Number(t.toFixed(this._Currencyprecision)),this._Receipt.totalvouchercost=Number(n.toFixed(this._Currencyprecision)),this._Receipt.totalvouchercostforeign=Number(n.toFixed(this._Currencyprecision)),this.cd.markForCheck()}},{key:"OnSignatureSet",value:function(e){this._Receipt.signature=e.signature}},{key:"StockBalances",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;1==t?null!=e&&3!=this._Receipt.details[e].item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new R.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,this._itemstoreqtyobj.Unit_ID=this._Receipt.details[e].unit_id,this._itemstoreqtyobj.conv=this._Receipt.details[e].conv,this._itemstoreqtyobj.itemid=this._Receipt.details[e].item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new R.I$):3!=e.item_type?(this.itemqtyview=!1,this._itemstoreqtyobj=new R.I$,this._itemstoreqtyobj.subsidairyid=this.subsidiaryID,this._itemstoreqtyobj.ReceiptCode=this.BasicCodeReceipt,this._itemstoreqtyobj.BranchID=this._Receipt.branch_id,this._itemstoreqtyobj.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,this._itemstoreqtyobj.Unit_ID=e.unit_id,this._itemstoreqtyobj.conv=e.conv,this._itemstoreqtyobj.itemid=e.item_id,this.itemqtyview=!0):(this.itemqtyview=!1,this._itemstoreqtyobj=new R.I$)}},{key:"CheckBalanceForAllItemsProductsInStore",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=new R.I$;null!=this._Receipt.details[t].item_id&&2!=this._Receipt.details[t].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid?(i.ReceiptCode=this.BasicCodeReceipt,i.BranchID=this._Receipt.branch_id,i.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,i.subsidairyid=this.subsidiaryID,i.ReceiptID=this._Receipt.id,i.Qty=0,i.Unit_ID=this._Receipt.details[t].unit_id,i.conv=this._Receipt.details[t].conv,i.itemid=this._Receipt.details[t].item_id,i.StoreID=this._Receipt.details[t].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(i).subscribe(function(i){var r=0,o=0;0==i.consignment.consignment&&void 0!==i.totalqty.totalqty&&(r=i.totalqty.totalqty,e._Receipt.details.filter(function(n){return n.item_id==e._Receipt.details[t].item_id}).forEach(function(t){var n=e.ItemUnitsList.find(function(e){return e.item_id==t.item_id&&e.id==t.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,a=t.conv;o=parseFloat(o.toString())+i*(a/r)*parseFloat(t.qty.toString())}}),0==r-o>=0?(e._Receipt.details[t].allowqtyselectforitem=!1,e.cd.markForCheck(),e.toastr.warning(e.qtyErrorMsg+r)):(e._Receipt.details[t].allowqtyselectforitem=!0,e.cd.markForCheck()),t+1<e._Receipt.details.length?e.CheckBalanceForAllItemsProductsInStore(t+1,n):1==n&&e.SaveReceipt())})):t+1<this._Receipt.details.length?this.CheckBalanceForAllItemsProductsInStore(t+1,n):1==n&&this.SaveReceipt()}},{key:"CheckBalanceForItemProductssInStore",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=new R.I$;null!=this._Receipt.details[e].item_id&&null!=this._Receipt.details[e].item_id&&2!=this._Receipt.details[e].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid?(i.ReceiptCode=this.BasicCodeReceipt,i.BranchID=this._Receipt.branch_id,i.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,i.subsidairyid=this.subsidiaryID,i.ReceiptID=this._Receipt.id,i.Qty=0,i.Unit_ID=this._Receipt.details[e].unit_id,i.conv=this._Receipt.details[e].conv,i.itemid=this._Receipt.details[e].item_id,i.StoreID=this._Receipt.details[e].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(i).subscribe(function(i){var r=0,o=0;0==i.consignment.consignment&&(null!=i.totalqty.totalqty?(r=i.totalqty.totalqty,t._Receipt.details.filter(function(n){return n.item_id==t._Receipt.details[e].item_id}).forEach(function(e){var n=t.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,a=e.conv;o=parseFloat(o.toString())+i*(a/r)*parseFloat(e.qty.toString())}}),0==r-o>=0?(t._Receipt.details[e].allowqtyselectforitem=!1,t.cd.markForCheck(),t.toastr.warning(t.qtyErrorMsg+r)):t._Receipt.details[e].allowqtyselectforitem=!0,e+1<t._Receipt.details.length&&t.CheckBalanceForItemProductssInStore(e+1,n+1)):(t._Receipt.details[e].allowqtyselectforitem=!1,t.cd.markForCheck(),t.toastr.warning(t.qtyErrorMsg+0)))})):e+1<this._Receipt.details.length&&this.CheckBalanceForItemProductssInStore(e+1,n)}},{key:"CheckBalanceForItemProductsInStore",value:function(e){var t=this,n=new R.I$;null!=this._Receipt.details[e].item_id&&2!=this._Receipt.details[e].item_type&&1==this.InventorySetting[0].physicalnegativeinventoryid&&(n.ReceiptCode=this.BasicCodeReceipt,n.BranchID=this._Receipt.branch_id,n.Entrydate=this._Receipt.entry_date+" "+this._Receipt.entry_time,n.subsidairyid=this.subsidiaryID,n.ReceiptID=this._Receipt.id,n.Qty=0,n.Unit_ID=this._Receipt.details[e].unit_id,n.conv=this._Receipt.details[e].conv,n.itemid=this._Receipt.details[e].item_id,n.StoreID=this._Receipt.details[e].store_id,this._ProductionService.GetTotalQtyForIteminStoreProduction(n).subscribe(function(n){var i=0,r=0;0==n.consignment.consignment&&null!=n.totalqty.totalqty&&(i=n.totalqty.totalqty,t._Receipt.details.filter(function(n){return n.item_id==t._Receipt.details[e].item_id}).forEach(function(e){var n=t.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,o=null!=n.conv?n.conv:1,a=e.conv;r=parseFloat(r.toString())+i*(a/o)*parseFloat(e.qty.toString())}}),0==i-r>=0?(t._Receipt.details[e].allowqtyselectforitem=!1,t.cd.markForCheck(),t.toastr.warning(t.qtyErrorMsg+i)):(t._Receipt.details[e].allowqtyselectforitem=!0,t.cd.markForCheck()))}))}},{key:"CheckBalanceForItemInStoreBeforeDelete",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._ReceiptOriginal.itemscomponent.length>0){var r=!0,o=new R.I$;if(null!=this._ReceiptOriginal.itemscomponent[e].item_id){o.ReceiptCode=this.BasicCodeReceipt,o.BranchID=this._ReceiptOriginal.branch_id,o.Entrydate=this._ReceiptOriginal.entry_date,o.Unit_ID=this._ReceiptOriginal.itemscomponent[e].unit_id,o.conv=this._ReceiptOriginal.itemscomponent[e].conv,o.Qty=0,o.itemid=this._ReceiptOriginal.itemscomponent[e].item_id,o.StoreID=this._ReceiptOriginal.itemscomponent[e].store_id,o.subsidairyid=this.subsidiaryID,o.ReceiptID=this._ReceiptOriginal.id;var a=null!==(t=this.ReceiptCodeList.filter(function(e){return e.code==n.BasicCodeReceipt})[0].items)&&void 0!==t?t:-1,c=this.InventorySetting[0].physicalnegativeinventoryid;2!=this._ReceiptOriginal.itemscomponent[e].item_type&&3!=this._ReceiptOriginal.itemscomponent[e].item_type&&1==a&&this._ReceiptOriginal.itemscomponent[e].id>0&&1==c?this._ReceiptSharedService.CheckBalanceForItemInStoreBeforeDelete(o).subscribe(function(t){var o=0,a=0;null!=t.totalqty.totalqty?(o=t.totalqty.totalqty,n._ReceiptOriginal.itemscomponent.filter(function(t){return t.item_id==n._ReceiptOriginal.itemscomponent[e].item_id}).forEach(function(e){if(e.id>0){var t=n.ItemProductsUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=t){var i=null!=t.finalconv?t.finalconv:1,r=null!=t.conv?t.conv:1,o=e.conv;a=parseFloat(a.toString())+i*(o/r)*parseFloat(e.qty.toString())}}}),r=o-a>=0):r=!1,0==r?n.toastr.error(n.NegativeBalancesMsg):1==i&&e+1<n._ReceiptOriginal.itemscomponent.length?n.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):n.DeleteAction()}):1==i&&e+1<this._ReceiptOriginal.itemscomponent.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else 1==i&&e+1<this._ReceiptOriginal.itemscomponent.length?this.CheckBalanceForItemInStoreBeforeDelete(e+1,!0):this.DeleteAction()}else this.DeleteAction()}},{key:"CheckPre_SaveReceipt",value:function(e){var t=this;if(e.form.valid){if(0==this.ValidPeriod)return void this.ShowPopUpFinancialPeriod();if(this._Receipt.details=this._Receipt.details.filter(function(e){return null!=e.item_id}),this._Receipt.itemscomponent=this._Receipt.itemscomponent.filter(function(e){return null!=e.item_id}),0==this._Receipt.details.length||1==this._Receipt.details.length&&null==this._Receipt.details[0].item_id)return this.toastr.error(this.ItemsZeroErrorMsg),this._Receipt.details.splice(0,1),void this.AddItems();for(var n=function(e){var n=0;if((r=t._Receipt.itemscomponent.filter(function(n){return n.parentrowno==t._Receipt.details[e].rowno})).forEach(function(e){n+=e.qty}),t._Receipt.details[e].allowqtyselectforitem=0!=n,0==r.length)return{v:void t.toastr.error(t.NoProductInItem)}},i=0;i<this._Receipt.details.length;i++){var r,o=n(i);if("object"==typeof o)return o.v}if(this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return void this.toastr.error(this.ProductQtyZeroError);for(var a=function(e){if(t._Receipt.details[e].transaction_move=-1,t._Receipt.details[e].qty>0){0!=t._Receipt.value?(t._Receipt.details[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.details[e].total/t._Receipt.details[e].qty%(1/0)||0,t._Receipt.details[e].h_discount_percentage=100*(t._Receipt.details[e].h_discount_value/(t._Receipt.details[e].total/t._Receipt.details[e].qty)%(1/0)||0)):(t._Receipt.details[e].h_discount_value=0,t._Receipt.details[e].h_discount_percentage=0);var n=t.ItemUnitsList.find(function(n){return n.item_id==t._Receipt.details[e].item_id&&n.id==t._Receipt.details[e].unit_id});t._Receipt.details[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.details[e].conv/n.conv):t._Receipt.details[e].conv,t._Receipt.details[e].final_conv=0==t._Receipt.details[e].final_conv?1:t._Receipt.details[e].final_conv}},c=0;c<this._Receipt.details.length;c++)a(c);for(var l=function(e){if(t._Receipt.itemscomponent[e].transaction_move=1,t._Receipt.itemscomponent[e].updatefromproc=-1,t._Receipt.itemscomponent[e].qty>0){0!=t._Receipt.value?(t._Receipt.itemscomponent[e].h_discount_value=t._Receipt.discount_percent/100*t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty%(1/0)||0,t._Receipt.itemscomponent[e].h_discount_percentage=100*(t._Receipt.itemscomponent[e].h_discount_value/(t._Receipt.itemscomponent[e].total/t._Receipt.itemscomponent[e].qty)%(1/0)||0)):(t._Receipt.itemscomponent[e].h_discount_value=0,t._Receipt.itemscomponent[e].h_discount_percentage=0);var n=t.ItemProductsUnitsList.find(function(n){return n.item_id==t._Receipt.itemscomponent[e].item_id&&n.id==t._Receipt.itemscomponent[e].unit_id});t._Receipt.itemscomponent[e].final_conv=null!=n?(null!=n.finalconv?n.finalconv:1)*(t._Receipt.itemscomponent[e].conv/n.conv):t._Receipt.itemscomponent[e].conv,t._Receipt.itemscomponent[e].final_conv=0==t._Receipt.itemscomponent[e].final_conv?1:t._Receipt.itemscomponent[e].final_conv}else 0==t._Receipt.itemscomponent[e].qty&&0==t._Receipt.itemscomponent[e].defaultitemqty&&(t._Receipt.itemscomponent.splice(e,1),e--,t._Receipt.itemscomponent=JSON.parse(JSON.stringify(t._Receipt.itemscomponent)));s=e},s=0;s<this._Receipt.itemscomponent.length;s++)l(s);this.CheckBalanceForAllItemsProductsInStore(0,!0)}}},{key:"SaveReceipt",value:function(){if(this.DuringSaveDisable=!0,this._Receipt.details.filter(function(e){return 0==e.allowqtyselectforitem}).length>0)return this.toastr.error(this.qtyErrorSaveMsg),this.DuringSaveDisable=!1,void this.cd.markForCheck();this.PreFinalSave()}},{key:"PreFinalSave",value:function(){var e,t=this,n=!0;if(this._Receipt.id>0)for(var i=function(i){var r=t._ReceiptOriginal.details[i],o=t._Receipt.details.find(function(e){return e.item_id==r.item_id});if(null==o||null!=o&&o.qty<r.qty){var a=!0,c=new R.I$;if(null!=t._ReceiptOriginal.details[i].item_id){c.ReceiptCode=t.BasicCodeReceipt,c.BranchID=t._ReceiptOriginal.branch_id,c.Entrydate=t._ReceiptOriginal.entry_date,c.Unit_ID=t._ReceiptOriginal.details[i].unit_id,c.conv=t._ReceiptOriginal.details[i].conv,c.Qty=0,c.itemid=t._ReceiptOriginal.details[i].item_id,c.StoreID=t._ReceiptOriginal.details[i].store_id,c.subsidairyid=t.subsidiaryID,c.ReceiptID=t._ReceiptOriginal.id;var l=null!==(e=t.ReceiptCodeList.filter(function(e){return e.code==t.BasicCodeReceipt})[0].items)&&void 0!==e?e:-1,s=t.InventorySetting[0].physicalnegativeinventoryid;2!=t._ReceiptOriginal.details[i].item_type&&3!=t._ReceiptOriginal.details[i].item_type&&1==l&&t._ReceiptOriginal.details[i].id>0&&1==s&&t._ReceiptSharedService.CheckBalanceForItemInStoreBeforeDelete(c).subscribe(function(e){var r=0,c=0;if(null!=e.totalqty.totalqty?(r=e.totalqty.totalqty,t._ReceiptOriginal.details.filter(function(e){return e.item_id==t._ReceiptOriginal.details[i].item_id}).forEach(function(e){if(e.id>0){var n=t.ItemOrginalUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,o=e.conv;c=parseFloat(c.toString())+i*(o/r)*parseFloat(e.qty.toString())}}}),null!=o&&(c=0,t._Receipt.details.filter(function(e){return e.item_id==t._ReceiptOriginal.details[i].item_id}).forEach(function(e){var n=t.ItemUnitsList.find(function(t){return t.item_id==e.item_id&&t.id==e.unit_id});if(null!=n){var i=null!=n.finalconv?n.finalconv:1,r=null!=n.conv?n.conv:1,o=e.conv;c=parseFloat(c.toString())+i*(o/r)*parseFloat(e.qty.toString())}})),a=r-c>=0):a=!1,0==a)return n=!1,t.DuringSaveDisable=!1,t.cd.markForCheck(),t.toastr.error(t.NegativeBalancesMsg);i==t._ReceiptOriginal.details.length-1&&1==n&&t.CheckBatchesAndSerials()})}}else i==t._ReceiptOriginal.details.length-1&&1==n&&t.CheckBatchesAndSerials()},r=0;r<this._ReceiptOriginal.details.length;r++)i(r);else this.CheckBatchesAndSerials()}},{key:"CheckBatchesAndSerials",value:function(){var e=this;this.BatchesAndSeialsList=[],console.log(this.BatchesAndSeialsList,"BatchesAndSeialsList");var n=this._Receipt.details.some(function(e){return 3==e.isrequireserial}),i=this._Receipt.itemscomponent.some(function(e){return 3==e.isrequireserial});if(n&&1==this.CashCustomerSetting.salesreturneffect){var r=[];if(this._Receipt.details.forEach(function(e){3==e.isrequireserial&&(e.allowqtyselectforitem=!0,0==e.batcheslist.length?(e.allowqtyselectforitem=!1,r.push(!1)):0==e.validrow&&(e.allowqtyselectforitem=!1,r.push(!0)))}),r.length>0)return r.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),r.includes(!0)&&(this.toastr.error(this.QtyIsValidWithAvailableQty),this.cd.markForCheck()),void(this.DuringSaveDisable=!1);if(r=[],this._Receipt.details.forEach(function(t){if(3==t.isrequireserial)if(t.allowqtyselectforitem=!0,0==t.batcheslist.length)t.allowqtyselectforitem=!1,r.push(!1);else{var n=0;t.batcheslist.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0});var i=e.ItemUnitsList.filter(function(e){return e.item_id==t.item_id&&e.id==t.unit_id});n!=t.qty*(t.conv*i[0].finalconv/i[0].conv)&&(t.allowqtyselectforitem=!1,r.push(!1))}}),r.length>0)return r.includes(!1)&&(this.toastr.error(this.InValidNumberOfBatch),this.cd.markForCheck()),void(this.DuringSaveDisable=!1)}if(i){if(console.log("Validate"),this._Receipt.itemscomponent.forEach(function(n){e.BatchesAndSeialsList=[].concat(t(e.BatchesAndSeialsList),t(n.batcheslist))}),!this.ValidateInFrontEnd())return this.DuringSaveDisable=!1,void this.cd.markForCheck();this.DuringSaveDisable=!0,console.log("Saved"),this.Save()}else this.DuringSaveDisable=!0,console.log("Saved"),this.Save()}},{key:"ValidateInFrontEnd",value:function(){return 0==this.ValidateBatchesAndSerialsList()?(this.toastr.error(this.InValidNumberOfBatch),!1):(this._Receipt.itemscomponent.map(function(e){e.batcheslist.length>0&&""==e.batcheslist[0].batchno.trim()&&(e.batcheslist[0].batchno=new Date(e.batcheslist[0].date).toLocaleDateString()+"_"+e.item_id)}),!0)}},{key:"ValidateBatchesAndSerialsList",value:function(){var e=this,t=!0;this.BatchesAndSeialsList.forEach(function(e){return 0==e.qty||null==e.qty||null==e.date||""==e.date?t=!1:void 0}),this.BatchesAndSeialsList.filter(function(t){var n=P("".concat(e._Receipt.entry_date," ").concat(e._Receipt.entry_time),"YYYY-MM-DD HH:mm").format(),i=P("".concat(t.date),"YYYY-MM-DD HH:mm").format();return P(n).isSameOrAfter(i)}).length>0&&(this.toastr.error(this.InvalidPatchDate),t=!1);for(var n=0,i=function(t){if(3==e._Receipt.itemscomponent[t].isrequireserial){var i=e.ItemProductsUnitsList.filter(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id&&n.id==e._Receipt.itemscomponent[t].unit_id});n+=e._Receipt.itemscomponent[t].qty*(e._Receipt.itemscomponent[t].conv*i[0].finalconv/i[0].conv)}},r=0;r<this._Receipt.itemscomponent.length;r++)i(r);return n!=this.BatchesAndSeialsList.reduce(function(e,t){return e+t.qty},0)&&(t=!1),t}},{key:"ValidateDublicateBatchesInFrontEnd",value:function(){for(var e=[],t=0;t<this._Receipt.itemscomponent.length;t++)if(0!=this._Receipt.itemscomponent[t].batcheslist.length){var n=this._Receipt.itemscomponent[t].batcheslist[0];if(1==n.isdublicatebatch)continue;n.isdublicatebatch=!1;for(var i=t+1;i<this._Receipt.itemscomponent.length;i++)0!=this._Receipt.itemscomponent[i].batcheslist.length&&n.batchno.toLowerCase().trim()==this._Receipt.itemscomponent[i].batcheslist[0].batchno.toLowerCase().trim()&&new Date(n.date).toLocaleDateString()!=new Date(this._Receipt.itemscomponent[i].batcheslist[0].date).toLocaleDateString()&&(this._Receipt.itemscomponent[i].batcheslist[0].isdublicatebatch=!0,e.push(this._Receipt.itemscomponent[i].batcheslist[0]))}return e}},{key:"ValidateDublicateBatchesInBackEnd",value:function(){var e=this;console.log(this._Receipt.itemscomponent,"this._Receipt.itemscomponent"),this._ReceiptSharedService.ValidateDublicateBatches(this._Receipt.itemscomponent).subscribe(function(t){if(e._Receipt.itemscomponent=[],e._Receipt.itemscomponent=null!=t?t:[],console.log(e._Receipt.itemscomponent,"itemscomponent"),e.cd.markForCheck(),e._Receipt.itemscomponent.some(function(e){if(e.batcheslist.length>0)return 1==e.batcheslist[0].isdublicatebatch}))return Ke().fire(e.DublicateBatchMassage),void(e.DuringSaveDisable=!1);e.DuringSaveDisable=!0,console.log("Saved"),e.Save()})}},{key:"Save",value:function(){var e=this;null==this._Receipt.id||0==this._Receipt.id?(console.log(this._Receipt,"rece"),this._ProductionService.ReceiptCreate(this._Receipt).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),e.ReceiptID=t.id,setTimeout(function(){e._router.navigate(["/page/production/reverseproductionvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})},2e3)})):(this._Receipt_h_Edit=new R.Iu,this._Receipt_h_Edit.Receipt_h=this._Receipt,this._Receipt_h_Edit.ReceiptOriginal=this._ReceiptOriginal,this._ProductionService.ReceiptUpdate(this._Receipt_h_Edit).subscribe(function(t){e.DuringSaveDisable=!1,e.toastr.success(e.SaveMsg),setTimeout(function(){e._router.navigate(["/page/production/reverseproductionvoucher/"+e.ReceiptID]).then(function(){window.location.reload()})},2e3)}))}},{key:"CreateNewAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||1==this.ShowModeReceipt||this.ReceiptID>0&&!this.checkRoleParms(10147)?this._router.navigate(["/page/production/reverseproductionvoucher/0"]).then(function(){window.location.reload()}):Ke().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):t.dismiss===Ke().DismissReason.cancel&&e._router.navigate(["/page/production/reverseproductionvoucher/0"]).then(function(){window.location.reload()})})}},{key:"DeleteAction",value:function(){var e=this;Ke().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._ProductionService.DeleteProductions(e._Receipt.id).subscribe(function(t){0==t.bcount?(e.toastr.success(e.toastrSuccessDelete),e._router.navigate(["/page/production/reverseproductionvoucher"])):-1==t.bcount?(t.usedserials.forEach(function(t){var n=e._Receipt.details.findIndex(function(e){return e.item_id==t.itemid&&e.batcheslist[0].id==t.id});-1!=n&&(e._Receipt.details[n].allowqtyselectforitem=!1)}),e.toastr.error(e.RelatedwithSerialsOrBatches)):e.toastr.error(e.DeleteRelationmsg)})})}},{key:"GetMaxCostPostedSerDate",value:function(){var e=this;this._ReceiptSharedService.GetMaxCostPostedSerDate(this._Receipt.entry_date,this.subsidiaryID).subscribe(function(t){var n=e.datepipe.transform(t[0].maxpostingdate,"yyyy-MM-dd");Date.parse(n.toString())<Date.parse(e._Receipt.entry_date.toString())?(e.ShowModeReceipt=!1,e.ValidPeriod=!0):(e.ShowModeReceipt=!0,e.ValidPeriod=!1,e.ShowPopUpCostPostedSerDate()),e.cd.markForCheck()})}},{key:"DupilcateAction",value:function(){var e=this;this._ReceiptSharedService.GetLastEntryNumBySubsAndCode(this.subsidiaryID,this.BasicCodeReceipt,this._Receipt.branch_id).subscribe(function(t){e._Receipt.entry_no=0==t.length?1:t[0].entry_no+1,e.entry_no=e._Receipt.entry_no,e.location.replaceState("/page/production/reverseproductionvoucher/0"),e.ReceiptID=0,e._Receipt.id=null,e.VouchersLinkedCount=0,e.CheckBalanceForAllItemsProductsInStore(0),e.cd.markForCheck()})}},{key:"DocumentAction",value:function(){this._router.navigate(["/page/setupsettings/documents/3/"+this._Receipt.id+"/productionvoucher"],{relativeTo:this._activeRoute,queryParams:{show:this.LockedRecepit}})}},{key:"BackAction",value:function(){var e=this;JSON.stringify(this._Receipt)===JSON.stringify(this._ReceiptOriginal)||this.ReceiptID>0&&!this.checkRoleParms(10147)||0==this.ReceiptID&&!this.checkRoleParms(10146)||1==this.ShowModeReceipt?this._router.navigate(["/page/production/reverseproductionvoucher"]):Ke().fire({title:this.swalNewActionTitle,text:this.swalNewActionText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.value?e.CheckPre_SaveReceipt(e.RForm):e._router.navigate(["/page/production/reverseproductionvoucher"])})}},{key:"PrintPreview",value:function(e){var t=this,n=this.getReportfilter(0==e?1:0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(n){t.spinner.hide(),1==e?t._authService.showPdfInNewTab(n.bytes,""):t._authService.printJS(n.bytes)}),this.cd.markForCheck()}},{key:"onPrint",value:function(){var e=this,t=this.getReportfilter(0);this._VerifyReportsService.SaveVerifyReports(this.subsidiaryID,this.lang).subscribe(function(n){e.reporturl="".concat(e.reportdomainUrl,"?q=").concat(t.reportName,"&ID=").concat(t.ReceiptID),""!=t.lang&&(e.reporturl=e.reporturl+"&Lang=".concat(t.lang)),""!=t.DomainName&&(e.reporturl=e.reporturl+"&DomainName=".concat(t.DomainName)),""!=t.toEmail&&(e.reporturl=e.reporturl+"&email=".concat(t.toEmail,"+&Subject=").concat(t.Subject,"+&boby=").concat(t.boby)),e.reporturl=e.reporturl+"&Info=".concat(n),e._authService.showReportInNextTab(e.reporturl),e.cd.markForCheck()})}},{key:"sendEmail",value:function(e){var t=this;this._emailobj=e.list;var n=this.getReportfilter(0);this.spinner.show(),this._ReceiptSharedService.GetReport(n).subscribe(function(e){t.spinner.hide(),alert(t.mailmsg)}),this.cd.markForCheck()}},{key:"getReportfilter",value:function(){this._authService.userInfo();var e="",t="";"ar"==this.lang&&(t="_ar");var n={reportName:e="P_I_82_ProductionVoucher2"+t,SubsidaryID:this.subsidiaryID,ReceiptID:this._Receipt.id,lang:"",DomainName:"",toEmail:"",Subject:"",boby:""};return n.reportName=e,n.toEmail=this._emailobj.email,n.Subject=this._emailobj.subject,n}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getFullYear();return e.getMonth()+1+"/"+e.getDate()+"/"+t}},{key:"SetTimeNow",value:function(){var e=new Date;return("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},{key:"formateDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.toFixed(t)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"checkRolesParms",value:function(e){var t=!0;return this._authService.isHasRole(e)||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"customTrackBy",value:function(e,t){return e}},{key:"OnSerialItemsInItemComponent",value:function(e,n){var i=this;if(1==this.CashCustomerSetting.salesreturneffect&&1==this.CashCustomerSetting.dispensingpolicy&&0==this.ReceiptID&&(this._Receipt.details[this.selectedindex].batcheslist=[]),this.SelectedItemComp=this._Receipt.details[e],this.selectedindex=e,this._Receipt.details[e].qty<=0)this.toastr.error(this.InValidQty);else{this.requiredserial=this._Receipt.details[e].isrequireserial;var r=this.ItemUnitsList.filter(function(t){return t.item_id==i._Receipt.details[e].item_id&&t.id==i._Receipt.details[e].unit_id});this._batchqty=this._Receipt.details[e].qty*(this._Receipt.details[e].conv*r[0].finalconv/r[0].conv),this._ReceiptSharedService.GetReceiptItemSerial(this._Receipt.details[e].item_id,this._Receipt.details[e].store_id,this._Receipt.id?parseInt(this._Receipt.id.toString()):0,this._Receipt.entry_date+" "+this._Receipt.entry_time).subscribe(function(r){i.BatchesListForEatchRow=[];var o=[];if(o=r.seriallist,console.log(r.seriallist,"d.seriallist"),i._Receipt.details[i.selectedindex].batcheslist.forEach(function(e){var t=o.findIndex(function(t){return t.id==e.previtemserialid});-1!=t&&(e.inv_receipt_d_id>0?null==i._Receipt.details[i.selectedindex].validrow||1==i._Receipt.details[i.selectedindex].validrow?(o[t].qty=e.qty,o[t].oldqty=e.qty,i._Receipt.details[i.selectedindex].validrow=!0):o[t].availableqty=o[t].availableqty+e.qty:1==i._Receipt.details[i.selectedindex].validrow&&(o[t].qty=e.qty,o[t].oldqty=e.qty,o[t].availableqty=o[t].availableqty-e.qty,i._Receipt.details[i.selectedindex].validrow=!0))}),i._Receipt.id>0)for(var a=0;a<o.length;a++)null==o[a].qty&&0==o[a].availableqty||i.BatchesListForEatchRow.push(o[a]);else i.BatchesListForEatchRow=t(o);if(1==i.CashCustomerSetting.salesreturneffect&&1==i.CashCustomerSetting.dispensingpolicy){if(i._Receipt.details[i.selectedindex].id>0&&i.ReceiptID>0){console.log(i.BatchesListForEatchRow);for(var c=0;c<i.BatchesListForEatchRow.length;c++)i.BatchesListForEatchRow[c].availableqty+=i.BatchesListForEatchRow[c].oldqty,i.BatchesListForEatchRow[c].qty=0,i.BatchesListForEatchRow[c].solidquantity=0}var l=0;if(i.BatchesListForEatchRow.forEach(function(e){l+=e.availableqty}),console.log(l,i._Receipt.details[e].qty),i._Receipt.details[e].qty>l)return void i.toastr.error(i.InValidQtyForBatch);if(i._Receipt.details[e].qty==l)i.BatchesListForEatchRow.forEach(function(e){e.qty=e.availableqty,e.oldqty=e.availableqty,e.availableqty=0}),i.saveSerialOnSalesReturnEffectDispensingPolicy();else{var s=i._Receipt.details[e].qty;i.BatchesListForEatchRow.forEach(function(e){0!=s&&(e.availableqty>=s?(e.qty=s,e.oldqty=s,e.availableqty=e.availableqty-s,s=0):(e.qty=e.availableqty,e.oldqty=e.availableqty,s-=e.availableqty,e.availableqty=0))}),i.saveSerialOnSalesReturnEffectDispensingPolicy()}}else i.OpenModal(n);1==i.CashCustomerSetting.salesreturneffect&&1==i.CashCustomerSetting.dispensingpolicy&&i.OpenModal(n)})}}},{key:"saveserial",value:function(e){var t=this;if(e.valid){if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var n,i=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;i+=null!==(t=+e.qty)&&void 0!==t?t:0}),i!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var r=1;this.BatchesListForEatchRow.map(function(e){if(r++,e.qty>0){var i=t._Receipt.details[t.selectedindex].batcheslist.findIndex(function(t){return t.previtemserialid==e.id});-1!=i?t._Receipt.details[t.selectedindex].batcheslist[i].qty=+e.qty.toString():((n=new rt.WB).id=0,n.qty=+e.qty,n.storeid=e.storeid,n.storename=e.name,n.storename_ar=e.name_ar,n.batchno=e.serial,n.date=e.expire_date,n.previtemserialid=e.id,n.serial=r,n.valid=!1,n.isdublicatebatch=!1,n.isused=!1,n.inv_receipt_d_id=null,n.solidquantity=null,t._Receipt.details[t.selectedindex].batcheslist.push(n)),t._Receipt.details[t.selectedindex].validrow=!0}}),this.CloseModal()}console.log(this._Receipt.details,"this._Receipt.details")}},{key:"saveSerialOnSalesReturnEffectDispensingPolicy",value:function(){var e=this;if(this.BatchesListForEatchRow.some(function(e){return e.qty>e.availableqty+e.oldqty}))return this.toastr.error(this.QtyIsValidWithAvailableQty),void(this._Receipt.details[this.selectedindex].validrow=!1);var t,n=0;if(this.BatchesListForEatchRow.forEach(function(e){var t;n+=null!==(t=+e.qty)&&void 0!==t?t:0}),n!=this._batchqty)return this.toastr.error(this.InValidNumberOfBatch),void(this._Receipt.details[this.selectedindex].validrow=!1);var i=1;this.BatchesListForEatchRow.map(function(n){if(i++,n.qty>0){var r=e._Receipt.details[e.selectedindex].batcheslist.findIndex(function(e){return e.previtemserialid==n.id});-1!=r?e._Receipt.details[e.selectedindex].batcheslist[r].qty=+n.qty.toString():((t=new rt.WB).id=0,t.qty=+n.qty,t.storeid=n.storeid,t.storename=n.name,t.storename_ar=n.name_ar,t.batchno=n.serial,t.date=n.expire_date,t.previtemserialid=n.id,t.serial=i,t.valid=!1,t.isdublicatebatch=!1,t.isused=!1,t.inv_receipt_d_id=null,t.solidquantity=null,e._Receipt.details[e.selectedindex].batcheslist.push(t)),e._Receipt.details[e.selectedindex].validrow=!0}}),console.log(this._Receipt.details,"this._Receipt.details")}},{key:"ChangeBatchQtyInItemComponent",value:function(e,t){if(+t>(null==e?void 0:e.availableqty)+(null==e?void 0:e.oldqty))return this.toastr.error(this.QtyIsValidWithAvailableQty),this._Receipt.details[this.selectedindex].validrow=!1,e.qty=null,e.availableqty=e.availableqty+e.oldqty,void(e.oldqty=0);e.qty=+t,e.availableqty=e.availableqty+e.oldqty-+t,e.oldqty=+t}},{key:"OnSerialItems",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(console.log(e,"ix",t),this.SelectedRowIndex=e,this.RowItem=t,t.qty<=0)this.toastr.error(this.InValidQty);else{if(this.requiredserial=this._Receipt.itemscomponent[e].isrequireserial,0==this._Receipt.itemscomponent[e].batcheslist.length)this.AddNewRow(e);else{var r=this.ItemProductsUnitsList.filter(function(t){return t.item_id==n._Receipt.itemscomponent[e].item_id&&t.id==n._Receipt.itemscomponent[e].unit_id});this._Receipt.itemscomponent[e].batcheslist[0].qty=this._Receipt.itemscomponent[e].qty*(this._Receipt.itemscomponent[e].conv*r[0].finalconv/r[0].conv)}this.OpenModal(i)}}},{key:"AddNewRow",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._ReceiptSharedService.GetStoreByID(this.RowItem.store_id).subscribe(function(n){var i,r;console.log(n,"dd",e.RowItem);var o=new rt.WB;o.storeid=e.RowItem.store_id,o.storename=null!==(i=null==n?void 0:n.name)&&void 0!==i?i:"",o.storename_ar=null!==(r=null==n?void 0:n.name_ar)&&void 0!==r?r:"";var a=e.ItemProductsUnitsList.filter(function(n){return n.item_id==e._Receipt.itemscomponent[t].item_id&&n.id==e._Receipt.itemscomponent[t].unit_id}),c=e._Receipt.itemscomponent[t].conv*a[0].finalconv/a[0].conv;o.qty=e._Receipt.itemscomponent[t].qty*c,console.log(a,"_selectedunit",c,o.qty),o.serial=e._Receipt.itemscomponent[t].batcheslist.length>0?e._Receipt.itemscomponent[t].batcheslist.length+1:1,e._Receipt.itemscomponent[t].batcheslist.push(o),e.cd.markForCheck(),console.log(e._Receipt.itemscomponent[t].batcheslist,"this.BatchesList")})}},{key:"SubmitOk",value:function(e){e.valid&&this.CloseModal()}},{key:"OpenModal",value:function(e){this.modalReference=this.modalService.open(e,{size:"xl",backdrop:"static"})}},{key:"CloseModal",value:function(){this.modalReference.close()}},{key:"ChangeBatchQty",value:function(e,t,n){}},{key:"ChangeBatchNo",value:function(e,t,n){this._Receipt.itemscomponent[this.SelectedRowIndex].batcheslist[n].batchno=t.trim(),console.log(this._Receipt.itemscomponent,"ChangeBatchNo")}},{key:"DeleteRow",value:function(e,t){this._Receipt.itemscomponent[this.SelectedRowIndex].batcheslist.pop(),console.log(this._Receipt.itemscomponent,"DeleteRow")}}]),i}();return i.\u0275fac=function(e){return new(e||i)(u["\u0275\u0275directiveInject"](ne.n),u["\u0275\u0275directiveInject"](et.v),u["\u0275\u0275directiveInject"](ie.t),u["\u0275\u0275directiveInject"](nt.H),u["\u0275\u0275directiveInject"](u.ChangeDetectorRef),u["\u0275\u0275directiveInject"](E._W),u["\u0275\u0275directiveInject"](h.F0),u["\u0275\u0275directiveInject"](w.m),u["\u0275\u0275directiveInject"](g.sK),u["\u0275\u0275directiveInject"](_.K),u["\u0275\u0275directiveInject"](h.gz),u["\u0275\u0275directiveInject"](oe.t2),u["\u0275\u0275directiveInject"](k.e),u["\u0275\u0275directiveInject"](ae.$),u["\u0275\u0275directiveInject"](re.J),u["\u0275\u0275directiveInject"](l.uU),u["\u0275\u0275directiveInject"](l.Ye),u["\u0275\u0275directiveInject"](S.g),u["\u0275\u0275directiveInject"](de.FF))},i.\u0275cmp=u["\u0275\u0275defineComponent"]({type:i,selectors:[["productionvoucher2-details"]],viewQuery:function(e,t){var n;(1&e&&u["\u0275\u0275viewQuery"](zm,5),2&e)&&(u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},features:[u["\u0275\u0275ProvidersFeature"]([ne.n,et.v,ie.t,l.uU,nt.H,re.J,S.g])],decls:2,vars:3,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"HasNotPermission",2,"margin","auto","width","auto","margin-top","200px"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"container-fluid","py-4","pl-0","pr-0"],[1,"card","my-2","mx-2","px-3","pb-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-4","pl-2","pr-2","pb-3","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"col-12","text-right","actionBtns"],["type","submit",1,"btn","btn-success","mr-2","mb-2"],["type","button",1,"btn","btn-success","mr-2","mb-2",3,"click"],["class","btn btn-primary mr-2 mb-2","type","button",3,"click",4,"ngIf"],["class","btn btn-warning mr-2 mb-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2","mb-2",3,"click"],[1,"btn-group","mr-2","mb-2","mt-3"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],[1,"col-lg-5","col-md-5"],[1,"form-group"],["for","Category",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","Branch","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","change"],["Branch","ngModel"],["Value","null",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-md-3","mb-2","mb-md-0"],["for","EntryCode",1,"col-form-label"],["type","text","id","entry_no","name","entry_no","PositiveNumbersOrDecimalOnly","","required","","customMin","",1,"form-control",3,"stepallow","ngModel","Min","CheckMin","readonly","ngClass","ngModelChange","keydown.space"],["entry_no","ngModel"],[1,"col-form-label"],["minLength","0","delay","0","field","code","name","CreditAccount",3,"ngModel","suggestions","showEmptyMessage","emptyMessage","forceSelection","onFocus","ngModelChange","onSelect","completeMethod","onClear"],["autoCustomerAccounts",""],["pTemplate","CustomerAccountsTemplate"],["for","cashcustomer_vendor_phone",1,"col-form-label"],["type","text","id","cashcustomer_vendor_name","name","cashcustomer_vendor_name",1,"form-control",3,"ngModel","readonly","ngModelChange"],["cashcustomer_vendor_name","ngModel"],["for","entry_date",1,"col-form-label"],["type","date","id","entry_date","name","entry_date","required","",1,"form-control",3,"ngModel","readonly","ngClass","ngModelChange"],["entry_date","ngModel"],["for","entry_time",1,"col-form-label"],["type","time","id","entry_time","name","entry_time",1,"form-control",3,"readonly","ngModel","ngModelChange"],["entry_time","ngModel"],["for","reference_no",1,"col-form-label"],["type","text","id","reference_no","name","reference_no",1,"form-control",3,"ngModel","ngModelChange"],["reference_no","ngModel"],["for","memo",1,"col-form-label"],["type","text","id","memo","name","memo",1,"form-control",3,"ngModel","ngModelChange"],["memo","ngModel"],["for","ExpensesDistributionVoucherNo",1,"col-form-label"],["type","text","id","ExpensesDistributionVoucherNo","name","ExpensesDistributionVoucherNo",1,"form-control",3,"ngModel","readonly","ngModelChange"],["ExpensesDistributionVoucherNo","ngModel"],[1,"card","my-2","mx-2","px-3","pb-3","pt-3"],[1,"col-12"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"destroyOnHide","activeId","activeIdChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-5",2,"margin-top","4rem"],[1,"table-responsive","table","table-accountdetails"],[1,"table"],["scope","col"],["scope","col",3,"hidden"],[3,"hidden"],["PositiveNumbersOnly","","type","number","name","ovr_ForiegnNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","ovr_LocalNet",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalProductionCostForeign",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalProductionCost",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalVoucherCostForeign",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],["PositiveNumbersOnly","","type","number","name","TotalVoucherCost",1,"form-control","totalValInput",3,"ngModel","readonly","ngModelChange"],[1,"col-md-7"],["_AddPatchModal",""],["serialModel",""],["bdColor","rgba(0, 0, 0, 0.8)","size","large","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],["type","button",1,"btn","btn-primary","mr-2","mb-2",3,"click"],["type","button",1,"btn","btn-warning","mr-2","mb-2",3,"click"],["type","button",1,"dropdown-item",3,"click"],[3,"entryno","_savedemailobj"],["class","dropdown-item","type","button",3,"click",4,"ngIf"],["Value","null"],[3,"value"],[1,"row",2,"margin-top","10px"],[1,"col"],[1,"table",2,"width","100%","margin-bottom","125px !important"],["scope","col",2,"width","5%"],["scope","col",2,"width","10%"],["scope","col",2,"width","7%"],["scope","col","style","width:7%; white-space: normal;text-align: center;",4,"ngIf"],["scope","col",2,"width","7%","white-space","normal","text-align","center"],["scope","col","style","width: 12%; white-space: normal;text-align: center;",4,"ngIf"],["scope","col",2,"width","7%","white-space","normal"],["scope","col","style","width:15%;",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success",3,"click"],[1,"table",2,"width","110%","margin-bottom","125px !important"],["scope","col",2,"width","12%"],["scope","col","style","width: 5%;",4,"ngIf"],["scope","col","style","width:7%;  white-space: normal;",4,"ngIf"],["scope","col","style","width: 11%; white-space: normal;",4,"ngIf"],["scope","col","style","width: 15%",4,"ngIf"],["scope","col",2,"width","12%","white-space","normal","text-align","center"],["scope","col",2,"width","15%"],["minLength","0","delay","0","field","code",3,"ngModel","disabled","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoStore",""],["pTemplate","servstoreTemplate"],["minLength","0","delay","0","field","code",3,"ngModel","suggestions","name","showEmptyMessage","emptyMessage","forceSelection","onFocus","onClick","ngModelChange","onSelect","completeMethod","onClear"],["autoItems",""],["pTemplate","servCodeTemplate"],[3,"click"],[3,"ngClass",4,"ngIf"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange"],["itemunit","ngModel"],[3,"ngValue",4,"ngIf"],[3,"ngValue","selected",4,"ngFor","ngForOf","ngForTrackBy"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","CheckMin","ngModel","name","ngClass","keyup","ngModelChange"],["item_qty","ngModel"],["PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","stepallow","ngModel","name","required","ngClass","ngModelChange"],["item_productionunitexpense","ngModel"],["item_productionqtyexpense","ngModel"],[1,"text-center","gridActionsTd"],["href","javascript:;",1,"primary","transparent-BG",3,"click"],[1,"fa","fa-trash","font-medium-3","m-0"],[3,"ngClass"],[3,"ngValue"],[3,"ngValue","selected"],["customMin","","PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","step","stepallow","Min","CheckMin","ngModel","name","required","ngClass","ngModelChange"],["item_conv","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","ngClass","ngModelChange"],["item_defaultitemcost","ngModel"],["item_costdiff","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"readonly","ngModel","name","Min","CheckMin","ngClass","ngModelChange"],["item_price","ngModel"],["href","javascript:;","class","info p-0",3,"click",4,"ngIf"],["href","javascript:;",1,"info","p-0",3,"click"],[1,"fa","fa-list","font-medium-3","mr-2"],["scope","col",2,"width","11%","white-space","normal"],["autoStoreProducts",""],["pTemplate","servstoreProductsTemplate"],["autoItemsProducts",""],["pTemplate","servCodeProductsTemplate"],[1,"form-control",3,"name","ngModel","required","ngClass","ngModelChange","change"],["itemProductsunit","ngModel"],["customMin","","PositiveNumbersOnly","","type","number",1,"form-control",3,"Min","ngModel","name","ngClass","keyup","ngModelChange"],["itemProducts_qty","ngModel"],["itemProducts_costrate","ngModel"],["itemProducts_conv","ngModel"],["PositiveNumbersOnly","","type","number",1,"form-control","font-weight-bold","text-primary",3,"readonly","ngModel","name","ngClass","ngModelChange"],["basicqtycomponent","ngModel"],["defaultitemqty","ngModel"],["PositiveNumbersOrDecimalOnly","","type","number",1,"form-control",3,"readonly","ngModel","name","required","ngClass","ngModelChange"],["item_qtydiff","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control","font-weight-bold","text-primary",3,"readonly","ngModel","name","Min","CheckMin","ngClass","ngModelChange"],["itemProducts_pricecostbasicqty","ngModel"],["PositiveNumbersOnly","","type","number","customMin","",1,"form-control",3,"ngModel","name","Min","ngClass","keyup","ngModelChange"],["itemProducts_price","ngModel"],["itemProducts_total","ngModel"],["href","javascript:;",1,"info","p-0",3,"hidden","click"],[3,"signature","signatureoutput"],[3,"wrappe"],["ItemStoreQty",""],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table-responsive"],[2,"width","10%"],["style","width: 15%",4,"ngIf"],[2,"width","20%"],[1,"modal-footer"],["type","submit",1,"btn","btn-secondary","mx-2"],[1,"modal-title"],[2,"width","15%"],["type","checkbox","disabled","",3,"name","checked"],["type","number","disabled","",1,"form-control",3,"name","value"],["type","text","disabled","",1,"form-control",3,"name","value"],["type","text",1,"form-control",3,"name","value","ngClass","disabled","change"],[1,"text-center"],[1,"btn","btn-sm","btn-danger",3,"disabled","click"],[1,"icon-trash"],["type","number","PositiveNumbersOnly","","min","0","disabled","",1,"form-control",3,"name","value","ngClass","change"],["type","date","required","",1,"form-control",3,"name","ngModel","ngClass","disabled","ngModelChange"],["type","button",1,"btn","btn-primary","col-md-4"],["type","button",1,"btn","btn-info","col-md-2","mx-2"],["type","button",1,"btn","btn-primary","col-md-2"],["type","submit",1,"btn","btn-success"],["type","checkbox",3,"name","checked"],["type","number","PositiveNumbersOnly","","min","0",1,"form-control",3,"name","value","ngClass","change"],["style","color: red",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(u["\u0275\u0275template"](0,jm,4,3,"div",0),u["\u0275\u0275template"](1,qh,168,131,"ng-container",1)),2&e&&(u["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(10145)||t.checkRoleParms(10146)||t.checkRoleParms(10147)||t.checkRoleParms(10148))),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.checkRolesParms(u["\u0275\u0275pureFunction0"](2,Vh))))},directives:[l.O5,p._Y,p.JL,p.F,p.EJ,p.Q7,p.JJ,p.On,l.mk,l.sg,p.Fj,at.L,ct.a,C.Qc,lt.jx,de.Pz,de.nv,de.Vx,de.uN,de.tO,p.wV,se.K,oe.Ro,dt.k,p.YN,p.Kr,mt.t,ut.T],pipes:[g.X$,l.uU,gt.N],styles:['.searchBarSection[_ngcontent-%COMP%]{direction:ltr}.form-section[_ngcontent-%COMP%]{background-color:#fff;box-shadow:8px 8px 5px 0 rgba(25,42,70,.1);padding:15px;margin-bottom:10px}.form-section[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%;margin-top:0}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]:after{background-color:#4ba6ec}.form-section[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before, .form-section[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]:before{border:1px solid #4ba6ec}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{line-height:1rem}.form-section[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{border-radius:15px}.btn-primary[_ngcontent-%COMP%], .headerform[_ngcontent-%COMP%], .headerinfo[_ngcontent-%COMP%]{background-color:#4ba6ec}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#4ba6ec}input[name=SearchValue][_ngcontent-%COMP%]{background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:0}.card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:0}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}.nav-tabs[_ngcontent-%COMP%]{background-color:#f1f9ff;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:1em;color:#333;position:relative}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";left:0;background-color:#dee2e6;width:1px;position:absolute;height:70%;top:8px}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#4ba6ec;border-bottom:none}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{top:98%;left:50%;content:"";height:0;width:0;position:absolute;pointer-events:none;border:10px solid rgba(136,183,213,0);border-top-color:#f7f7f8;margin-left:-10px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem .2rem!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .taslsLink[_ngcontent-%COMP%]{display:block;font-size:.8em;color:#333!important;text-decoration:underline}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]{width:1em;height:1em}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus[_ngcontent-%COMP%]{color:#fff;font-size:11px!important;top:-14px;z-index:1}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-stack-2x[_ngcontent-%COMP%]{top:-5px;font-size:1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-list-alt.fa-stack-2x[_ngcontent-%COMP%]{font-size:1.1em!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .addTasksIcon[_ngcontent-%COMP%]   i.fa-plus-circle.fa-stack-1x[_ngcontent-%COMP%]{top:-6px;right:-10px}.form-control.totalValInput[_ngcontent-%COMP%]{background-color:transparent!important;border:none;font-size:1.1em;cursor:default;font-weight:700}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f7f7f7}@media (max-width:800px){form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:500px){.headerform[_ngcontent-%COMP%]{padding:5px 10px}.buttons-ds[_ngcontent-%COMP%]   button.btn.btn-primary[_ngcontent-%COMP%]{min-width:30%;margin-top:5px}.text-center-sm[_ngcontent-%COMP%]{text-align:center!important}}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover{background:#26c6da}.headerform[_ngcontent-%COMP%]{font-size:1.5rem;padding:5px 2em}.headerform[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{border-radius:5px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]{background-color:#fff}table.table-responsive[_ngcontent-%COMP%]{display:table}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:transparent;color:#7b809a;background:#80808030}table[_ngcontent-%COMP%]   .tableheader[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.8rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;border-top:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem!important}.gridActionsTd[_ngcontent-%COMP%]{min-width:20px;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;padding:.5rem .1rem!important;width:50px;white-space:nowrap}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]{display:inline-block;border:none;background:transparent!important;color:#26c6da;padding:5px 2px}.gridActionsTd[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover, .gridActionsTd[_ngcontent-%COMP%]   bottom[_ngcontent-%COMP%]:hover{background:transparent;box-shadow:none}.card-body[_ngcontent-%COMP%]   .has-error[_ngcontent-%COMP%]{color:red;transition:all 1s;border:none}.cardTitle[_ngcontent-%COMP%]{position:absolute;top:25%;font-size:22px}.SearchValue[_ngcontent-%COMP%]{width:auto}.pagination-display-block[_ngcontent-%COMP%], .pagination-display-block[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:#7b809a!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]{padding:8px;border-collapse:separate;box-sizing:border-box;background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{border-top:none}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#fff}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead.tabel-header-style-two[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1)!important;margin-top:.5rem!important;padding:.1rem .2rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:25px;max-height:25px;padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.1rem .5rem!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-sticky-note[_ngcontent-%COMP%]{left:14px;top:-9px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{top:-11px;left:-1px;font-size:9px!important}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape.bg-gradient-warning[_ngcontent-%COMP%]   .addNotesIcon[_ngcontent-%COMP%]   .fa-plus[_ngcontent-%COMP%]{color:#ffa726}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:first-child{right:8%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:nth-child(2){right:4.5%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .icon.icon-shape[_ngcontent-%COMP%]:last-child{right:1%}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.25;font-size:.75rem!important;font-weight:400;color:#7b809a}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:last-child   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:10px}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:0}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   table.bill-design[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:right!important}@media (max-width:800px){input[name=SearchValue][_ngcontent-%COMP%]{margin-top:10px}}@media (max-width:576px){.pagination-display-block[_ngcontent-%COMP%]{display:block!important;text-align:center}}@media (max-width:425px){.actionBtns[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .actionBtns[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{margin:5px!important;width:45%!important}.actionBtns[_ngcontent-%COMP%]{margin-bottom:20px!important}}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-transform:unset;font-size:.85rem;font-weight:500}.searchinput[_ngcontent-%COMP%]{background-color:#fff;width:95%}.required-alert-danger[_ngcontent-%COMP%]{color:red;font-size:30px}.invalid-data[_ngcontent-%COMP%]{border:2px solid red}.invalid-qty[_ngcontent-%COMP%]{color:red}.valid-qty[_ngcontent-%COMP%]{color:#342e49}']}),i}();function Th(e){return new y.z(e,[{prefix:"assets/i18n/Production/",suffix:".json"},{prefix:"assets/i18n/shared/",suffix:".json"}])}var Uh,Ah=[{path:"",component:f},{path:"batchorder",component:Ye},{path:"batchorder/:id",component:lo},{path:"batchorder/:id/:show",component:lo},{path:"batchorder/:id/:show/:linkedreceiptid",component:lo},{path:"batchorderstatus",component:ee},{path:"batchorderstatustest",component:ee},{path:"productionplan",component:tc},{path:"productionvoucher",component:Cl},{path:"productionvoucher/:id",component:Jd},{path:"productionvoucher/:id/:show",component:Jd},{path:"productionvoucher/:id/:show/:prodplansid",component:Jd},{path:"productionvoucher/:id/:show/:prodplansid/:linkedreceiptid",component:Jd},{path:"bom/:id",component:Nc},{path:"bom/:id/:productionids",component:Nc},{path:"unproducedworkorders",component:qp},{path:"expensesdistribution",component:nm},{path:"addexpensesdistribution",component:sm},{path:"reverseproductionvoucher",component:$m},{path:"reverseproductionvoucher/:id",component:Nh},{path:"reverseproductionvoucher/:id/:show",component:Nh}],Gh=((Uh=function e(){c(this,e)}).\u0275fac=function(e){return new(e||Uh)},Uh.\u0275mod=u["\u0275\u0275defineNgModule"]({type:Uh}),Uh.\u0275inj=u["\u0275\u0275defineInjector"]({providers:[g.gM,g.sK,S.g],imports:[[p.u5,l.ez,s.m,b.fi.forRoot(),p.UX,C.WN,x.d,v.d,M._t,b.fi.forRoot(),g.aw.forChild({loader:{provide:g.Zw,useFactory:Th,deps:[m.eN]},extend:!0}),h.Bz.forChild(Ah),d.xc]]}),Uh)}}])}();
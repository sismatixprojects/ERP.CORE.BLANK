!function(){function e(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=n(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){s=!0,l=e},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw l}}}}function t(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["src_app_page_HR_ManageEmployeeModule_HrManageEmployee_module_ts"],{36618:function(n,a,r){"use strict";r.r(a),r.d(a,{HrManageEmployeeModule:function(){return Wu},childLoaderFactory:function(){return Yu}});var o=r(61511),s=r(59218),c=r(45593),d=r(16073),m=r(29063),p=r(53544),u=r(88402),y=r(96898),h=r(48160),v=r(20180),g=r(64802),f=r(33398),S=r(40925),b=r(31572),E=r(7427),x=r(16395),C=r(62120),D=r(71825),_=r(76757),I=r(72796),w=r(77915),k=r(90159);function T(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",2),b["\u0275\u0275elementStart"](1,"h1"),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function M(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",3),b["\u0275\u0275elementStart"](2,"div",4),b["\u0275\u0275elementStart"](3,"div",5),b["\u0275\u0275elementStart"](4,"h6",6),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",7),b["\u0275\u0275elementStart"](8,"div",8),b["\u0275\u0275elementStart"](9,"app-Matix-table",9),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnExcel",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnExcel()})("OnPrint",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnPrint(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"employee")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var B=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.cd=t,this._generalService=n,this._employeesService=a,this._router=r,this.translate=l,this._translateGlobalService=o,this._printService=s,this._Excel=c,this._authService=d,this._convertToPDF=m,this.EmployeeList=[],this.totalCount=0,this.title="",this.subsidiaryID=0,this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"fullname_ar",sortByEn:"fullname_en",displayName:"name"},{sortByAr:"civilnumber",sortByEn:"civilnumber",displayName:"civilNumber"},{sortByAr:"dateofhiringstring",sortByEn:"dateofhiringstring",displayName:"dateofhiring"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["employee"]).subscribe(function(e){p.title=e.employee,document.title=p.title})})}return l(e,[{key:"ngOnInit",value:function(){var e=this;this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(function(t){e.EmployeeList=t,e.cd.markForCheck()}),this._employeesService.CountOfEmployee("",this.subsidiaryID).subscribe(function(t){e.totalCount=t.employees,e.cd.markForCheck()})}},{key:"OnAdd",value:function(){this._router.navigateByUrl("page/hr/manageemployee/employees/0")}},{key:"OnShow",value:function(e){this._router.navigateByUrl("page/hr/manageemployee/employees/"+e+"/show")}},{key:"OnEdit",value:function(e){this._router.navigateByUrl("page/hr/manageemployee/employees/"+e)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Employees",r="ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f":"Code",l="ar"==this.lang?"\u0627\u0644\u0627\u0633\u0645":"Name",o="ar"==this.lang?"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0645\u062f\u0646\u0649":"Civil number",s="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0639\u064a\u064a\u0646":"Date of hiring";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(function(c){e.cd.markForCheck(),n='\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;" >'.concat(i,'</div>\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir=').concat(a,'>\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>').concat(r,"</th>              \n            <th>").concat(l,"</th>\n            <th>").concat(o,"</th>              \n            <th>").concat(s,"</th>\n            </tr>\n           </thead>\n           <tbody>\n      "),c.map(function(t){n+="\n          <tr>\n            <td>".concat(t.code,"</td>\n            <td>").concat("ar"==e.lang?t.fullname_ar:t.fullname_en,"</td>\n            <td>").concat(t.civilnumber,"</td>\n            <td>").concat(t.dateofhiring,"</td>\n          </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0643\u0648\u062f":n.code,"\u0627\u0644\u0627\u0633\u0645":n.fullname_ar,"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0645\u062f\u0646\u0649":n.civilnumber,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0639\u064a\u064a\u0646":n.dateofhiring}:{Code:n.code,Name:n.fullname_en,"Civil number":n.civilnumber,"Date of hiring":n.dateofhiring})}),e._Excel.exportAsExcelFile(t,"Employees")})}},{key:"EmployeeSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(function(e){t.EmployeeList=e,t.cd.markForCheck()}),this._employeesService.CountOfEmployee(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(function(e){t.EmployeeList=e,t.cd.markForCheck()}),this._employeesService.CountOfEmployee(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](D.$),b["\u0275\u0275directiveInject"](_.x),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](w.z))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-EmployeeListing"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnExcel","OnPrint","OnSearch","OnSort"]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,T,4,3,"div",0),b["\u0275\u0275template"](1,M,10,7,"section",1)),2&e&&(b["\u0275\u0275property"]("ngIf",!t.checkRoleParms(400)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[o.O5,k.u],pipes:[h.X$],styles:[""]}),e}(),F=function e(){i(this,e),this.firstname_ar="",this.secondname_ar="",this.thirdname_ar="",this.lastname_ar="",this.fullname_ar="",this.firstname_en="",this.secondname_en="",this.thirdname_en="",this.lastname_en="",this.fullname_en="",this.employeestatus_en="",this.employeestatus_ar="",this.workingstatus=0,this.imagepath="",this.subsidaryid=null},H=r(22501),R=r.n(H),O=r(25181),V=r(22829),A=r(82270),N=r(29743),G=function e(){i(this,e),this.civilnumber="",this.maritalstatusid=null,this.gender=null,this.nationalityid=null,this.religionid=null,this.birthdate=null,this.birthplace="",this.mobilenumber="",this.emailadress="",this.directmanagerid=null,this.subsidaryid=null},P=r(31663),j=r(24490),U=r(58705);function L(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function J(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function z(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",32),b["\u0275\u0275template"](1,L,2,1,"div",33),b["\u0275\u0275template"](2,J,2,1,"div",33),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function $(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Y(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function q(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",32),b["\u0275\u0275template"](1,$,2,1,"div",33),b["\u0275\u0275template"](2,Y,2,1,"div",33),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Q(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function K(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function W(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",32),b["\u0275\u0275template"](1,Q,2,1,"div",33),b["\u0275\u0275template"](2,K,2,1,"div",33),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function X(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Z(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function ee(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",32),b["\u0275\u0275template"](1,X,2,1,"div",33),b["\u0275\u0275template"](2,Z,2,1,"div",33),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function te(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function ne(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function ae(e,t){if(1&e&&(b["\u0275\u0275template"](0,te,2,1,"div",33),b["\u0275\u0275template"](1,ne,2,1,"div",33)),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngIf","ar"==n.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ie(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",34),b["\u0275\u0275element"](1,"i",35),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var re=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._nationalityService=m,this._maritalStatusService=p,this._religionsService=u,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new G,this._oldEmployeeT="",this.nationalityList=[],this.maritalStatusList=[],this.religionList=[],this.managerList=[],this.genderList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","DataSavedsuccessfully","No","MissData","savedChanges","Yes"]).subscribe(function(e){y.Cancel=e.Cancel,y.checkname=e.checkname,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Yes=e.Yes,y.No=e.No,y.MissData=e.MissData,y.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){y.EmployeeID=e.id,y.showmood=null!=e.show&&"show"==e.show&&y.EmployeeID>0,y.GetNationality(),y.GetMaritalStatus(),y.GetReligion(),y.GetGender(),y.GetData()})}return l(e,[{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeesService.GetEmployeePersonalDataById(this.EmployeeID).subscribe(function(t){e._employeeT.id=e.EmployeeID,e._employeeT.civilnumber=t.civilnumber,e._employeeT.maritalstatusid=t.maritalstatusid,e._employeeT.gender=t.gender,e._employeeT.nationalityid=t.nationalityid,e._employeeT.religionid=t.religionid,e._employeeT.birthdate=t.birthdate,e._employeeT.birthplace=t.birthplace,e._employeeT.mobilenumber=t.mobilenumber,e._employeeT.emailadress=t.emailadress,e._employeeT.directmanagerid=t.directmanagerid,t.directmanagerid>0&&(e._employeeT.directmanageremployee=new Object,e._employeeT.directmanageremployee.id=t.directmanagerid,e._employeeT.directmanageremployee.fullname_ar=t.directmanagerfullname_ar,e._employeeT.directmanageremployee.fullname_en=t.directmanagerfullname_en,e._employeeT.directmanageremployee.code=t.directmanagercode,e._employeeT.directmanageremployee.name_ar=t.directmanagercode+" | "+t.directmanagerfullname_ar,e._employeeT.directmanageremployee.name=t.directmanagercode+" | "+t.directmanagerfullname_en),e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"GetNationality",value:function(){var e=this;this._nationalityService.GetAllForDropdown().subscribe(function(t){e.nationalityList=t,e.cd.markForCheck()})}},{key:"GetMaritalStatus",value:function(){var e=this;this._maritalStatusService.GetAllForDropdown().subscribe(function(t){e.maritalStatusList=t,e.cd.markForCheck()})}},{key:"GetReligion",value:function(){var e=this;this._religionsService.GetAllForDropdown().subscribe(function(t){e.religionList=t,e.cd.markForCheck()})}},{key:"GetGender",value:function(){var e=this;this._employeesService.GetStaticValues("Gender").subscribe(function(t){e.genderList=t,e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onCompleteEmployeeAuto",value:function(e){var n,a=this;n=e.query?e.query.trim():"",this._employeesService.getHrEmployees(this.subsidiaryID,n).subscribe(function(e){a.managerList=[],a.managerList=[].concat(t(a.managerList),t(e)),a.cd.markForCheck()})}},{key:"onFocusInAutoEmployeeComplete",value:function(e){var t=e.target.value;null!=t&&""!=t||this.onCompleteEmployeeAuto(e),this.onCompleteEmployeeAuto(e)}},{key:"onSelectEmployeeAuto",value:function(e){this._employeeT.directmanagerid=e.id}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.id>0&&this._employeesService.UpdateEmployeePersonalData(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)})}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("page/hr/manageemployee/employees")}):this.router.navigateByUrl("page/hr/manageemployee/employees")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](P.R),b["\u0275\u0275directiveInject"](j.E),b["\u0275\u0275directiveInject"](U.m))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-personal-data-form"]],decls:94,vars:69,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","civilNumber",1,"col-form-label"],["type","text","name","civilNumber",1,"form-control",3,"ngModel","ngModelChange"],["id","maritalstatusid",1,"col-form-label"],["name","maritalstatusid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","gender",1,"col-form-label"],["name","gender",1,"form-control",3,"ngModel","ngModelChange"],["id","nationalityID",1,"col-form-label"],["name","nationalityID",1,"form-control",3,"ngModel","ngModelChange"],["id","Religionid",1,"col-form-label"],["name","Religionid",1,"form-control",3,"ngModel","ngModelChange"],["id","birthdate",1,"col-form-label"],["type","Date","id","birthdate","name","birthdate",1,"form-control",3,"ngModel","ngModelChange"],["id","birthplace",1,"col-form-label"],["type","text","name","birthplace",1,"form-control",3,"ngModel","ngModelChange"],["id","mobilenumber",1,"col-form-label"],["type","text","name","mobilenumber",1,"form-control",3,"ngModel","ngModelChange"],["id","emailadress",1,"col-form-label"],["type","text","name","emailadress",1,"form-control",3,"ngModel","ngModelChange"],["id","Employee"],["delay","0","id","Employee","minLength","0","name","code",1,"inline-flex",3,"ngModel","suggestions","field","completeMethod","onFocus","onSelect","ngModelChange"],["autoEmployee",""],["pTemplate","item"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"value"],[4,"ngIf"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"input",6),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.civilnumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",3),b["\u0275\u0275elementStart"](11,"div",4),b["\u0275\u0275elementStart"](12,"label",7),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"select",8),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.maritalstatusid=e}),b["\u0275\u0275elementStart"](16,"option",9),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](19,z,3,3,"option",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"div",3),b["\u0275\u0275elementStart"](21,"div",4),b["\u0275\u0275elementStart"](22,"label",11),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"select",12),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.gender=e}),b["\u0275\u0275elementStart"](26,"option",9),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](29,q,3,3,"option",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"div",2),b["\u0275\u0275elementStart"](31,"div",3),b["\u0275\u0275elementStart"](32,"div",4),b["\u0275\u0275elementStart"](33,"label",13),b["\u0275\u0275text"](34),b["\u0275\u0275pipe"](35,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"select",14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.nationalityid=e}),b["\u0275\u0275elementStart"](37,"option",9),b["\u0275\u0275text"](38),b["\u0275\u0275pipe"](39,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](40,W,3,3,"option",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"div",3),b["\u0275\u0275elementStart"](42,"div",4),b["\u0275\u0275elementStart"](43,"label",15),b["\u0275\u0275text"](44),b["\u0275\u0275pipe"](45,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](46,"select",16),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.religionid=e}),b["\u0275\u0275elementStart"](47,"option",9),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](50,ee,3,3,"option",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"div",3),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"label",17),b["\u0275\u0275text"](54),b["\u0275\u0275pipe"](55,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](56,"input",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.birthdate=e}),b["\u0275\u0275pipe"](57,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"div",2),b["\u0275\u0275elementStart"](59,"div",3),b["\u0275\u0275elementStart"](60,"div",4),b["\u0275\u0275elementStart"](61,"label",19),b["\u0275\u0275text"](62),b["\u0275\u0275pipe"](63,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](64,"input",20),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.birthplace=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](65,"div",3),b["\u0275\u0275elementStart"](66,"div",4),b["\u0275\u0275elementStart"](67,"label",21),b["\u0275\u0275text"](68),b["\u0275\u0275pipe"](69,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](70,"input",22),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.mobilenumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](71,"div",3),b["\u0275\u0275elementStart"](72,"div",4),b["\u0275\u0275elementStart"](73,"label",23),b["\u0275\u0275text"](74),b["\u0275\u0275pipe"](75,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](76,"input",24),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.emailadress=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](77,"div",2),b["\u0275\u0275elementStart"](78,"div",3),b["\u0275\u0275elementStart"](79,"div",4),b["\u0275\u0275elementStart"](80,"label",25),b["\u0275\u0275text"](81),b["\u0275\u0275pipe"](82,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](83,"p-autoComplete",26,27),b["\u0275\u0275listener"]("completeMethod",function(e){return t.onCompleteEmployeeAuto(e)})("onFocus",function(e){b["\u0275\u0275restoreView"](n);var a=b["\u0275\u0275reference"](84);return t.onFocusInAutoEmployeeComplete(e),a.show()})("onSelect",function(e){return t.onSelectEmployeeAuto(e)})("ngModelChange",function(e){return t._employeeT.directmanageremployee=e}),b["\u0275\u0275template"](85,ae,2,2,"ng-template",28),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](86,"div",3),b["\u0275\u0275elementStart"](87,"div",3),b["\u0275\u0275elementStart"](88,"div",29),b["\u0275\u0275template"](89,ie,4,4,"button",30),b["\u0275\u0275elementStart"](90,"a",31),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](91),b["\u0275\u0275pipe"](92,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](93,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](8,36,"civilNumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.civilnumber),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](14,38,"maritalstatusid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.maritalstatusid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](18,40,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.maritalStatusList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](24,42,"gender")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.gender),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](28,44,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.genderList),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](35,46,"nationalityID")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.nationalityid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](39,48,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.nationalityList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](45,50,"Religion")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.religionid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,52,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.religionList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](55,54,"BirthDayDate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](57,56,t._employeeT.birthdate,"yyyy-MM-dd")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](63,59,"BirthDayPlace")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.birthplace),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](69,61,"mobilenumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.mobilenumber),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](75,63,"emailadress")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.emailadress),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](82,65,"directmanager")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.directmanageremployee)("suggestions",t.managerList)("field","ar"==t.lang?"name_ar":"name"),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](92,67,"Cancel")," "))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.EJ,d.YN,d.Kr,o.sg,p.Qc,N.jx,o.O5],pipes:[h.X$,o.uU],styles:[""]}),e}(),le=function e(){i(this,e),this.jobsite=null,this.sectionid=null,this.department=null,this.contracttypeid=null,this.category="",this.degree="",this.professionsjobid=null,this.dateofhiring=null,this.workstartdate=null,this.costcenterid=null,this.vacationuntildate=null,this.vacationdays=null,this.vacationdaysafter=null,this.noticeperioddays=null,this.stbbonusdays=null,this.stbbonusdaysafter=null},oe=r(29609),se=r(97441),ce=r(78216),de=r(55115),me=r(30445),pe=r(57897),ue=r(37516),ye=r(35248),he=["autocostcenter"],ve=["RForm"];function ge(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function fe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Se(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",47),b["\u0275\u0275template"](1,ge,2,1,"div",48),b["\u0275\u0275template"](2,fe,2,1,"div",48),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function be(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Ee(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function xe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",47),b["\u0275\u0275template"](1,be,2,1,"div",48),b["\u0275\u0275template"](2,Ee,2,1,"div",48),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Ce(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function De(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function _e(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",47),b["\u0275\u0275template"](1,Ce,2,1,"div",48),b["\u0275\u0275template"](2,De,2,1,"div",48),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Ie(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function we(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function ke(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",47),b["\u0275\u0275template"](1,Ie,2,1,"div",48),b["\u0275\u0275template"](2,we,2,1,"div",48),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Te(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Me(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Be(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",47),b["\u0275\u0275template"](1,Te,2,1,"div",48),b["\u0275\u0275template"](2,Me,2,1,"div",48),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Fe(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",49),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function He(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",49),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"WorkStartDateGreaterThanHiring")," "))}function Re(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.sugar)}}function Oe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.sug)}}function Ve(e,t){if(1&e&&(b["\u0275\u0275template"](0,Re,2,1,"div",48),b["\u0275\u0275template"](1,Oe,2,1,"div",48)),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngIf","ar"==n.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Ae(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"label",50),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",51),b["\u0275\u0275listener"]("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ChangeSTBBonusDaysAfter()})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.stbbonusdaysafter=e}),b["\u0275\u0275element"](5,"option",7),b["\u0275\u0275elementStart"](6,"option",7),b["\u0275\u0275text"](7,"26"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"option",7),b["\u0275\u0275text"](9,"30"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"option",7),b["\u0275\u0275text"](11),b["\u0275\u0275pipe"](12,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,7,"stbbonusdaysafter")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.stbbonusdaysafter),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",26),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngValue",30),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngValue",0),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](12,9,"Other"))}}function Ne(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"label",50),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"input",52),b["\u0275\u0275listener"]("keyup",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().ChangeSTBBonusDaysAfterText()})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.stbbonusdaysafter=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"stbbonusdaysafter")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.stbbonusdaysafter)}}function Ge(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"a",53),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("href","/page/hr/manageemployee/changeemployeedata/"+n._employeeT.id,b["\u0275\u0275sanitizeUrl"]),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Add")," ")}}function Pe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",54),b["\u0275\u0275element"](1,"i",55),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var je=function(e,t){return{"invalid-data":e,"valid-data":t}},Ue=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u,y,h,v){var g=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._sectionsService=m,this._contractTypesService=p,this._professionsJobsService=u,this._branchService=y,this._departmentService=h,this._employeeVacationsService=v,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.NumNotExist="",this.VacationUntilDateMsg="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new le,this._oldEmployeeT="",this.jobSiteList=[],this.departmentList=[],this.sectionList=[],this.contractTypeList=[],this.ProfessionsJobList=[],this.costcenterList=[],this.VacationUntilDateValid=!0,this.showSTBBonusDaysAfterTextbox=!1,this.showSTBBonusDaysAfterDropdown=!0,this.WorkStartDateValid=!0,this.WorkStartDate=null,this.showAddButton=!1,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){g.lang=e.lang,g.dir=e.dir,g.translate.use(e.lang),g.ngTransUnsubscribe=g.translate.get(["Cancel","checkname","NumNotExist","VacationUntilDateMsg","DataSavedsuccessfully","No","MissData","savedChanges","Yes"]).subscribe(function(e){g.Cancel=e.Cancel,g.checkname=e.checkname,g.NumNotExist=e.NumNotExist,g.VacationUntilDateMsg=e.VacationUntilDateMsg,g.DataSavedsuccessfully=e.DataSavedsuccessfully,g.Yes=e.Yes,g.No=e.No,g.MissData=e.MissData,g.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){g.EmployeeID=e.id,g.showmood=null!=e.show&&"show"==e.show&&g.EmployeeID>0,g.GetJobSites(),g.GetDepartments(),g.GetSections(),g.GetContractTypes(),g.GetProfessionsJobs(),g.GetData(),g.GetEmployeeDataForValidation()})}return l(e,[{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeesService.GetEmployeeFunctionalInformationById(this.EmployeeID,this.lang).subscribe(function(t){e._employeeT.id=e.EmployeeID,e._employeeT.jobsite=t.jobsite,e._employeeT.sectionid=t.sectionid,e._employeeT.department=t.department,e._employeeT.contracttypeid=t.contracttypeid,e._employeeT.category=t.category,e._employeeT.degree=t.degree,e._employeeT.professionsjobid=t.professionsjobid,e._employeeT.dateofhiring=t.dateofhiring,e._employeeT.workstartdate=t.workstartdate,e._employeeT.costcenterid=t.costcenterid,e._employeeT.vacationuntildate=t.vacationuntildate,e._employeeT.vacationdays=t.vacationdays,e._employeeT.vacationdaysafter=t.vacationdaysafter,e._employeeT.noticeperioddays=t.noticeperioddays,e._employeeT.stbbonusdays=t.stbbonusdays,e._employeeT.stbbonusdaysafter=t.stbbonusdaysafter,null==e._employeeT.stbbonusdaysafter||0==e._employeeT.stbbonusdaysafter||e._employeeT.stbbonusdaysafter>0&&(26==e._employeeT.stbbonusdaysafter||30==e._employeeT.stbbonusdaysafter)?(e.showSTBBonusDaysAfterDropdown=!0,e.showSTBBonusDaysAfterTextbox=!1):(e.showSTBBonusDaysAfterDropdown=!1,e.showSTBBonusDaysAfterTextbox=!0),t.costcenterid>0&&(e._employeeT.costcenterobj={id:t.costcenterid,name_ar:t.costcentername_ar,name:t.costcentername_en,code:t.costcentercode,sugar:t.costcentercode+" | "+t.costcentername_ar,sug:t.costcentercode+" | "+t.costcentername_en,costcentercode:t.costcentercode+" | "+t.costcentername_ar}),e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"GetJobSites",value:function(){var e=this;this._branchService.GetAllForDropdown().subscribe(function(t){e.jobSiteList=t,e.cd.markForCheck()})}},{key:"GetDepartments",value:function(){var e=this;this._departmentService.GetAllForDropdown().subscribe(function(t){e.departmentList=t,e.cd.markForCheck()})}},{key:"GetSections",value:function(){var e=this;this._sectionsService.GetAllForDropdown().subscribe(function(t){e.sectionList=t,e.cd.markForCheck()})}},{key:"GetContractTypes",value:function(){var e=this;this._contractTypesService.GetAllForDropdown().subscribe(function(t){e.contractTypeList=t,e.cd.markForCheck()})}},{key:"GetProfessionsJobs",value:function(){var e=this;this._professionsJobsService.GetAllForDropdown(this.subsidiaryID).subscribe(function(t){e.ProfessionsJobList=t,e.cd.markForCheck()})}},{key:"Getcostcenter",value:function(e){var n=this;this._employeesService.Getcostcenter(this.subsidiaryID,e.query.trim(),this.lang).subscribe(function(e){n.costcenterList=[],n.costcenterList=[].concat(t(n.costcenterList),t(e)),0==n.costcenterList.length&&n.toastr.success(n.NumNotExist),n.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this.WorkStartDate=null,this._employeeVacationsService.GetEmployeeDataForValidation(this.EmployeeID).subscribe(function(t){null!=t&&(null!=t.workstartdate?(e.WorkStartDate=t.workstartdate,e.showAddButton=!0):e.showAddButton=!1)})}},{key:"onSelectcostcenter",value:function(e){this._employeeT.costcenterid=e.id;var t=e.id;null!=t&&null!=t&&""!=t||(this._employeeT.costcenterid=null),this.cd.markForCheck()}},{key:"onFocusInAutoComplete",value:function(e){var t=e.target.value;null!=t&&null!=t&&""!=t||(this._employeeT.costcenterid=null,this.autocostcenter.completeMethod.emit({originalEvent:e,query:""}))}},{key:"onFocusOutAutoComplete",value:function(e){var t=e.target.value;null!=t&&null!=t&&""!=t||(this._employeeT.costcenterid=null)}},{key:"validateVacationUntilDate",value:function(){if(null!=this._employeeT.workstartdate&&null!=this._employeeT.workstartdate&&""!=this._employeeT.workstartdate.toString()&&null!=this._employeeT.vacationuntildate&&null!=this._employeeT.vacationuntildate&&""!=this._employeeT.vacationuntildate.toString()){var e=oe("".concat(this._employeeT.workstartdate),"YYYY-MM-DD").format(),t=oe("".concat(this._employeeT.vacationuntildate),"YYYY-MM-DD").format();0==oe(e).isSameOrBefore(t)?(this.VacationUntilDateValid=!1,this.toastr.error(this.VacationUntilDateMsg)):this.VacationUntilDateValid=!0}else this.VacationUntilDateValid=!0;this.cd.markForCheck()}},{key:"ChangeSTBBonusDaysAfter",value:function(){0==this._employeeT.stbbonusdaysafter?(this.showSTBBonusDaysAfterTextbox=!0,this.showSTBBonusDaysAfterDropdown=!1):(this.showSTBBonusDaysAfterTextbox=!1,this.showSTBBonusDaysAfterDropdown=!0)}},{key:"ChangeSTBBonusDaysAfterText",value:function(){0==this._employeeT.stbbonusdaysafter?(this.showSTBBonusDaysAfterTextbox=!1,this.showSTBBonusDaysAfterDropdown=!0):(this.showSTBBonusDaysAfterTextbox=!0,this.showSTBBonusDaysAfterDropdown=!1)}},{key:"validateWorkStartDate",value:function(){this.WorkStartDateValid=null==this._employeeT.dateofhiring||null==this._employeeT.workstartdate||!(this._employeeT.workstartdate<this._employeeT.dateofhiring)}},{key:"onWorkStartDateChange",value:function(){this.validateWorkStartDate()}},{key:"onHiringDateChange",value:function(){this.validateWorkStartDate()}},{key:"PreSave",value:function(e){this.validateVacationUntilDate(),0!=this.VacationUntilDateValid&&!this.RForm.form.invalid&&this.WorkStartDateValid&&this.onSave(e)}},{key:"onSave",value:function(e){var t=this;this._employeeT.id>0&&this._employeesService.UpdateEmployeeFunctionalInformation(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)})}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("page/hr/manageemployee/employees")}):this.router.navigateByUrl("page/hr/manageemployee/employees")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](se.J),b["\u0275\u0275directiveInject"](ce.x),b["\u0275\u0275directiveInject"](de._),b["\u0275\u0275directiveInject"](me.b),b["\u0275\u0275directiveInject"](pe.n),b["\u0275\u0275directiveInject"](ue.C))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-functional-information-form"]],viewQuery:function(e,t){var n;(1&e&&(b["\u0275\u0275viewQuery"](he,5),b["\u0275\u0275viewQuery"](ve,5)),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.autocostcenter=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},decls:143,vars:109,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","jobSite",1,"col-form-label"],["name","jobSite","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","sectionid",1,"col-form-label"],["name","sectionid","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","department",1,"col-form-label"],["name","department","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","contracttypeid",1,"col-form-label"],["name","contracttypeid","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","category",1,"col-form-label"],["type","text","name","category","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","degree",1,"col-form-label"],["type","text","name","degree","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","jobtitleid",1,"col-form-label"],["name","jobtitleid","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","dateofhiring",1,"col-form-label"],["type","Date","id","dateofhiring","name","dateofhiring",1,"form-control",3,"ngModel","ngModelChange","change"],["id","workstartdate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","workstartdate","name","workstartdate",1,"form-control",3,"ngModel","required","ngClass","ngModelChange","change"],["DateWorkStartDate","ngModel"],["style","color: red",4,"ngIf"],["field","costcentercode","name","costcentercode","disabled","",1,"w-100",3,"ngModel","suggestions","onFocus","focusout","ngModelChange","onSelect","completeMethod"],["autocostcenter",""],["pTemplate","item"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","vacationuntildate",1,"col-form-label"],["type","Date","id","vacationuntildate","name","vacationuntildate",1,"form-control",3,"ngModel","ngModelChange"],["id","vacationdays",1,"col-form-label"],["PositiveNumbersWithoutDecimal","","type","text","name","vacationdays",1,"form-control",3,"ngModel","ngModelChange"],["id","vacationdaysafter",1,"col-form-label"],["PositiveNumbersWithoutDecimal","","type","text","name","vacationdaysafter",1,"form-control",3,"ngModel","ngModelChange"],["id","noticeperioddays",1,"col-form-label"],["PositiveNumbersWithoutDecimal","","type","text","name","noticeperioddays",1,"form-control",3,"ngModel","ngModelChange"],["id","stbbonusdays",1,"col-form-label"],["PositiveNumbersWithoutDecimal","","type","text","name","stbbonusdays",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],[1,"col-12",2,"margin-top","20px"],["class","btn mr-1 border btn-success",3,"href",4,"ngIf"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"value"],[4,"ngIf"],[2,"color","red"],["id","stbbonusdaysafter",1,"col-form-label"],["name","stbbonusdaysafter",1,"form-control",3,"ngModel","change","ngModelChange"],["PositiveNumbersWithoutDecimal","","type","text","name","stbbonusdaysafter",1,"form-control",3,"ngModel","keyup","ngModelChange"],[1,"btn","mr-1","border","btn-success",3,"href"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.PreSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"select",6),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.jobsite=e}),b["\u0275\u0275elementStart"](10,"option",7),b["\u0275\u0275text"](11),b["\u0275\u0275pipe"](12,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](13,Se,3,3,"option",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"div",3),b["\u0275\u0275elementStart"](15,"div",4),b["\u0275\u0275elementStart"](16,"label",9),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"select",10),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.sectionid=e}),b["\u0275\u0275elementStart"](20,"option",7),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](23,xe,3,3,"option",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"div",3),b["\u0275\u0275elementStart"](25,"div",4),b["\u0275\u0275elementStart"](26,"label",11),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"select",12),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.department=e}),b["\u0275\u0275elementStart"](30,"option",7),b["\u0275\u0275text"](31),b["\u0275\u0275pipe"](32,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](33,_e,3,3,"option",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](34,"div",2),b["\u0275\u0275elementStart"](35,"div",3),b["\u0275\u0275elementStart"](36,"div",4),b["\u0275\u0275elementStart"](37,"label",13),b["\u0275\u0275text"](38),b["\u0275\u0275pipe"](39,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](40,"select",14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.contracttypeid=e}),b["\u0275\u0275elementStart"](41,"option",7),b["\u0275\u0275text"](42),b["\u0275\u0275pipe"](43,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](44,ke,3,3,"option",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"div",3),b["\u0275\u0275elementStart"](46,"div",4),b["\u0275\u0275elementStart"](47,"label",15),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"input",16),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.category=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"div",3),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"label",17),b["\u0275\u0275text"](54),b["\u0275\u0275pipe"](55,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](56,"input",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.degree=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](57,"div",2),b["\u0275\u0275elementStart"](58,"div",3),b["\u0275\u0275elementStart"](59,"div",4),b["\u0275\u0275elementStart"](60,"label",19),b["\u0275\u0275text"](61),b["\u0275\u0275pipe"](62,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](63,"select",20),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.professionsjobid=e}),b["\u0275\u0275elementStart"](64,"option",7),b["\u0275\u0275text"](65),b["\u0275\u0275pipe"](66,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](67,Be,3,3,"option",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](68,"div",3),b["\u0275\u0275elementStart"](69,"div",4),b["\u0275\u0275elementStart"](70,"label",21),b["\u0275\u0275text"](71),b["\u0275\u0275pipe"](72,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](73,"input",22),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.dateofhiring=e})("change",function(){return t.onHiringDateChange()}),b["\u0275\u0275pipe"](74,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](75,"div",3),b["\u0275\u0275elementStart"](76,"div",4),b["\u0275\u0275elementStart"](77,"label",23),b["\u0275\u0275text"](78),b["\u0275\u0275pipe"](79,"translate"),b["\u0275\u0275elementStart"](80,"span",24),b["\u0275\u0275text"](81,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](82,"input",25,26),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.workstartdate=e})("change",function(){return t.onWorkStartDateChange()}),b["\u0275\u0275pipe"](84,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](85,Fe,3,3,"span",27),b["\u0275\u0275template"](86,He,3,3,"span",27),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](87,"div",2),b["\u0275\u0275elementStart"](88,"div",3),b["\u0275\u0275elementStart"](89,"div",4),b["\u0275\u0275elementStart"](90,"label"),b["\u0275\u0275text"](91),b["\u0275\u0275pipe"](92,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](93,"p-autoComplete",28,29),b["\u0275\u0275listener"]("onFocus",function(e){b["\u0275\u0275restoreView"](n);var a=b["\u0275\u0275reference"](94);return t.onFocusInAutoComplete(e),a.show()})("focusout",function(e){return t.onFocusOutAutoComplete(e)})("ngModelChange",function(e){return t._employeeT.costcenterobj=e})("onSelect",function(e){return t.onSelectcostcenter(e)})("completeMethod",function(e){return t.Getcostcenter(e)}),b["\u0275\u0275template"](95,Ve,2,2,"ng-template",30),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](96,"div",3),b["\u0275\u0275elementStart"](97,"div",2),b["\u0275\u0275elementStart"](98,"div",31),b["\u0275\u0275elementStart"](99,"div",4),b["\u0275\u0275elementStart"](100,"label",32),b["\u0275\u0275text"](101),b["\u0275\u0275pipe"](102,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](103,"input",33),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.vacationuntildate=e,t.validateVacationUntilDate()}),b["\u0275\u0275pipe"](104,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](105,"div",31),b["\u0275\u0275elementStart"](106,"div",4),b["\u0275\u0275elementStart"](107,"label",34),b["\u0275\u0275text"](108),b["\u0275\u0275pipe"](109,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](110,"input",35),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.vacationdays=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](111,"div",3),b["\u0275\u0275elementStart"](112,"div",4),b["\u0275\u0275elementStart"](113,"label",36),b["\u0275\u0275text"](114),b["\u0275\u0275pipe"](115,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](116,"input",37),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.vacationdaysafter=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](117,"div",2),b["\u0275\u0275elementStart"](118,"div",3),b["\u0275\u0275elementStart"](119,"div",4),b["\u0275\u0275elementStart"](120,"label",38),b["\u0275\u0275text"](121),b["\u0275\u0275pipe"](122,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](123,"input",39),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.noticeperioddays=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](124,"div",3),b["\u0275\u0275elementStart"](125,"div",4),b["\u0275\u0275elementStart"](126,"label",40),b["\u0275\u0275text"](127),b["\u0275\u0275pipe"](128,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](129,"input",41),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.stbbonusdays=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](130,"div",3),b["\u0275\u0275template"](131,Ae,13,11,"div",42),b["\u0275\u0275template"](132,Ne,5,4,"div",42),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](133,"div",2),b["\u0275\u0275element"](134,"div",3),b["\u0275\u0275element"](135,"div",3),b["\u0275\u0275elementStart"](136,"div",3),b["\u0275\u0275elementStart"](137,"div",43),b["\u0275\u0275template"](138,Ge,3,4,"a",44),b["\u0275\u0275template"](139,Pe,4,4,"button",45),b["\u0275\u0275elementStart"](140,"a",46),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](141),b["\u0275\u0275pipe"](142,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275reference"](2),i=b["\u0275\u0275reference"](83);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](8,55,"jobSite")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.jobsite),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](12,57,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.jobSiteList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](18,59,"sectionid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.sectionid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,61,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.sectionList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](28,63,"department")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.department),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](32,65,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.departmentList),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](39,67,"contracttypeid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.contracttypeid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](43,69,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.contractTypeList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,71,"category")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.category),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](55,73,"degree")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.degree),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](62,75,"job")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.professionsjobid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](66,77,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.ProfessionsJobList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](72,79,"dateofhiring"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](74,81,t._employeeT.dateofhiring,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](79,84,"workstartdate"),""),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](84,86,t._employeeT.workstartdate,"yyyy-MM-dd"))("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](106,je,i.invalid&&a.submitted||!t.WorkStartDateValid,i.valid&&a.submitted&&t.WorkStartDateValid)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",i.invalid&&a.submitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.WorkStartDateValid),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](92,89,"CostCenterId")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.costcenterobj)("suggestions",t.costcenterList),b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](102,91,"vacationuntildate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](104,93,t._employeeT.vacationuntildate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](109,96,"vacationdays")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.vacationdays),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](115,98,"vacationdaysafter")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.vacationdaysafter),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](122,100,"noticeperioddays")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.noticeperioddays),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](128,102,"stbbonusdays")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.stbbonusdays),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.showSTBBonusDaysAfterDropdown),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.showSTBBonusDaysAfterTextbox),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(430)||t.checkRoleParms(431)||t.checkRoleParms(432)||t.checkRoleParms(433)||t.checkRoleParms(434))&&t.showAddButton),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](142,104,"Cancel")," ")}},directives:[d._Y,d.JL,d.F,d.EJ,d.JJ,d.On,d.YN,d.Kr,o.sg,d.Fj,d.Q7,o.mk,o.O5,p.Qc,N.jx,ye.k],pipes:[h.X$,o.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}  .p-autocomplete-input.p-inputtext.p-component.ng-star-inserted.p-disabled{color:#000!important;background:#f7f7f8!important;opacity:1!important}"]}),e}(),Le=function e(){i(this,e),this.addresscountryid=null,this.addressgovernorateid=null,this.addresscityid=null,this.addressregion="",this.partnumber="",this.departmentnumber="",this.district="",this.street="",this.buildingtype="",this.buildingname="",this.entrance="",this.floor="",this.flat="",this.town="",this.realestatearea="",this.blocknumber="",this.phone1="",this.phone2="",this.mailbox="",this.postalcode="",this.fax="",this.distancefromfacility="",this.address="",this.kinshiprelationid=null,this.emergencycontactphone="",this.emergencycontactname=""},Je=r(63425);function ze(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",62),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function $e(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",62),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function Ye(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.countryname,"")}}function qe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.countryname_ar,"")}}function Qe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",63),b["\u0275\u0275template"](1,Ye,2,1,"span",64),b["\u0275\u0275template"](2,qe,2,1,"span",64),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function Ke(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",62),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function We(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",62),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function Xe(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Ze(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function et(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",63),b["\u0275\u0275template"](1,Xe,2,1,"span",64),b["\u0275\u0275template"](2,Ze,2,1,"span",64),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function tt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",62),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function nt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",62),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function at(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function it(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function rt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",63),b["\u0275\u0275template"](1,at,2,1,"span",64),b["\u0275\u0275template"](2,it,2,1,"span",64),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function lt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",62),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function ot(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",62),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function st(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function ct(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function dt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",63),b["\u0275\u0275template"](1,st,2,1,"span",64),b["\u0275\u0275template"](2,ct,2,1,"span",64),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function mt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",65),b["\u0275\u0275element"](1,"i",66),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var pt=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._kinshipRelationsService=m,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.NumNotExist="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new Le,this._oldEmployeeT="",this.CountryList=[],this.GovernorateList=[],this.AreaList=[],this.RelationsList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["Cancel","checkname","DataSavedsuccessfully","No","MissData","savedChanges","Yes"]).subscribe(function(e){p.Cancel=e.Cancel,p.checkname=e.checkname,p.DataSavedsuccessfully=e.DataSavedsuccessfully,p.Yes=e.Yes,p.No=e.No,p.MissData=e.MissData,p.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){p.EmployeeID=e.id,p.showmood=null!=e.show&&"show"==e.show&&p.EmployeeID>0,p.Country(),p.GetRelations(),p.GetData()})}return l(e,[{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeesService.GetEmployeeAddressesAndContactInformationById(this.EmployeeID).subscribe(function(t){e._employeeT.id=e.EmployeeID,e._employeeT.addresscountryid=t.addresscountryid,e._employeeT.addressgovernorateid=t.addressgovernorateid,e._employeeT.addresscityid=t.addresscityid,e._employeeT.addressregion=t.addressregion,e._employeeT.partnumber=t.partnumber,e._employeeT.departmentnumber=t.departmentnumber,e._employeeT.district=t.district,e._employeeT.street=t.street,e._employeeT.buildingtype=t.buildingtype,e._employeeT.buildingname=t.buildingname,e._employeeT.entrance=t.entrance,e._employeeT.floor=t.floor,e._employeeT.flat=t.flat,e._employeeT.town=t.town,e._employeeT.realestatearea=t.realestatearea,e._employeeT.blocknumber=t.blocknumber,e._employeeT.phone1=t.phone1,e._employeeT.phone2=t.phone2,e._employeeT.mailbox=t.mailbox,e._employeeT.postalcode=t.postalcode,e._employeeT.fax=t.fax,e._employeeT.distancefromfacility=t.distancefromfacility,e._employeeT.address=t.address,e._employeeT.kinshiprelationid=t.kinshiprelationid,e._employeeT.emergencycontactname=t.emergencycontactname,e._employeeT.emergencycontactphone=t.emergencycontactphone,e.GovernorateByCountryID(),e.ChangeGovernorate(),e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"Country",value:function(){var e=this;this._employeesService.Countries().subscribe(function(t){e.CountryList=t,e.cd.markForCheck()},function(t){console.log("-> err",t),e.toastr.error(e.translate.instant("InternalServerError")),e.cd.markForCheck()})}},{key:"GovernorateByCountryID",value:function(){var e=this;this._employeesService.GovernorateByCountryID(this._employeeT.addresscountryid).subscribe(function(t){e.GovernorateList=t,e.cd.markForCheck()},function(t){console.log("-> err",t),e.toastr.error(e.translate.instant("InternalServerError")),e.cd.markForCheck()})}},{key:"AreaByGovernorateID",value:function(){var e=this;this._employeesService.AreaByGovernorateID(this._employeeT.addressgovernorateid,"",this.lang).subscribe(function(t){e.AreaList=t,e.cd.markForCheck()},function(t){console.log("-> err",t),e.toastr.error(e.translate.instant("InternalServerError")),e.cd.markForCheck()})}},{key:"ChangeCountry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.GovernorateList=[],this.AreaList=[],1==e&&(this._employeeT.addressgovernorateid=null,this._employeeT.addresscityid=null),this.GovernorateByCountryID()}},{key:"ChangeGovernorate",value:function(){this.AreaList=[],this.AreaByGovernorateID()}},{key:"GetRelations",value:function(){var e=this;this._kinshipRelationsService.GetAllForDropdown().subscribe(function(t){e.RelationsList=t,e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.id>0&&this._employeesService.UpdateEmployeeAddressesAndContactInformation(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)})}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("page/hr/manageemployee/employees")}):this.router.navigateByUrl("page/hr/manageemployee/employees")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](Je.g))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-addresses-contact-information-form"]],decls:198,vars:123,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["for","CountryId",1,"control-label"],["name","addresscountryid",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","GovernorateId",1,"control-label"],["name","GovernorateId",1,"form-control",3,"ngModel","change","ngModelChange"],["for","AreaId"],["name","AreaId",1,"form-control",3,"ngModel","ngModelChange"],["id","addressregion",1,"col-form-label"],["type","text","name","addressregion",1,"form-control",3,"ngModel","ngModelChange"],["id","partnumber",1,"col-form-label"],["type","text","name","partnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","departmentnumber",1,"col-form-label"],["type","text","name","departmentnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","district",1,"col-form-label"],["type","text","name","district",1,"form-control",3,"ngModel","ngModelChange"],["id","street",1,"col-form-label"],["type","text","name","street",1,"form-control",3,"ngModel","ngModelChange"],["id","buildingtype",1,"col-form-label"],["type","text","name","buildingtype",1,"form-control",3,"ngModel","ngModelChange"],["id","buildingname",1,"col-form-label"],["type","text","name","buildingname",1,"form-control",3,"ngModel","ngModelChange"],["id","entrance",1,"col-form-label"],["type","text","name","entrance",1,"form-control",3,"ngModel","ngModelChange"],["id","floor",1,"col-form-label"],["type","text","name","floor",1,"form-control",3,"ngModel","ngModelChange"],["id","flat",1,"col-form-label"],["type","text","name","flat",1,"form-control",3,"ngModel","ngModelChange"],["id","town",1,"col-form-label"],["type","text","name","town",1,"form-control",3,"ngModel","ngModelChange"],["id","realestatearea",1,"col-form-label"],["type","text","name","realestatearea",1,"form-control",3,"ngModel","ngModelChange"],["id","blocknumber",1,"col-form-label"],["type","text","name","blocknumber",1,"form-control",3,"ngModel","ngModelChange"],["id","phone1",1,"col-form-label"],["type","text","name","phone1",1,"form-control",3,"ngModel","ngModelChange"],["id","phone2",1,"col-form-label"],["type","text","name","phone2",1,"form-control",3,"ngModel","ngModelChange"],["id","mailbox",1,"col-form-label"],["type","text","name","mailbox",1,"form-control",3,"ngModel","ngModelChange"],["id","postalcode",1,"col-form-label"],["type","text","name","postalcode",1,"form-control",3,"ngModel","ngModelChange"],["id","fax",1,"col-form-label"],["type","text","name","fax",1,"form-control",3,"ngModel","ngModelChange"],["id","distancefromfacility",1,"col-form-label"],["type","text","name","distancefromfacility",1,"form-control",3,"ngModel","ngModelChange"],["id","address",1,"col-form-label"],["id","address","name","address",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["for","AreaId",1,"col-form-label"],["name","kinshipRelationID",1,"form-control",3,"ngModel","ngModelChange"],["id","emergencyContactName",1,"col-form-label"],["type","text","name","emergencyContactName",1,"form-control",3,"ngModel","ngModelChange"],["id","emergencyContactPhone",1,"col-form-label"],["type","text","name","emergencyContactPhone",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"ngValue"],[3,"value"],[4,"ngIf"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"select",6),b["\u0275\u0275listener"]("change",function(){return t.ChangeCountry()})("ngModelChange",function(e){return t._employeeT.addresscountryid=e}),b["\u0275\u0275template"](10,ze,2,1,"option",7),b["\u0275\u0275template"](11,$e,2,1,"option",7),b["\u0275\u0275template"](12,Qe,3,3,"option",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"label",9),b["\u0275\u0275text"](16),b["\u0275\u0275pipe"](17,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"select",10),b["\u0275\u0275listener"]("change",function(){return t.ChangeGovernorate()})("ngModelChange",function(e){return t._employeeT.addressgovernorateid=e}),b["\u0275\u0275template"](19,Ke,2,1,"option",7),b["\u0275\u0275template"](20,We,2,1,"option",7),b["\u0275\u0275template"](21,et,3,3,"option",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"div",3),b["\u0275\u0275elementStart"](23,"div",4),b["\u0275\u0275elementStart"](24,"label",11),b["\u0275\u0275text"](25),b["\u0275\u0275pipe"](26,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"select",12),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.addresscityid=e}),b["\u0275\u0275template"](28,tt,2,1,"option",7),b["\u0275\u0275template"](29,nt,2,1,"option",7),b["\u0275\u0275template"](30,rt,3,3,"option",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"div",2),b["\u0275\u0275elementStart"](32,"div",3),b["\u0275\u0275elementStart"](33,"div",4),b["\u0275\u0275elementStart"](34,"label",13),b["\u0275\u0275text"](35),b["\u0275\u0275pipe"](36,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](37,"input",14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.addressregion=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"div",3),b["\u0275\u0275elementStart"](39,"div",4),b["\u0275\u0275elementStart"](40,"label",15),b["\u0275\u0275text"](41),b["\u0275\u0275pipe"](42,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"input",16),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.partnumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"div",3),b["\u0275\u0275elementStart"](45,"div",4),b["\u0275\u0275elementStart"](46,"label",17),b["\u0275\u0275text"](47),b["\u0275\u0275pipe"](48,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](49,"input",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.departmentnumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"div",2),b["\u0275\u0275elementStart"](51,"div",3),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"label",19),b["\u0275\u0275text"](54),b["\u0275\u0275pipe"](55,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](56,"input",20),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.district=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](57,"div",3),b["\u0275\u0275elementStart"](58,"div",4),b["\u0275\u0275elementStart"](59,"label",21),b["\u0275\u0275text"](60),b["\u0275\u0275pipe"](61,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](62,"input",22),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.street=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](63,"div",3),b["\u0275\u0275elementStart"](64,"div",4),b["\u0275\u0275elementStart"](65,"label",23),b["\u0275\u0275text"](66),b["\u0275\u0275pipe"](67,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](68,"input",24),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.buildingtype=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](69,"div",2),b["\u0275\u0275elementStart"](70,"div",3),b["\u0275\u0275elementStart"](71,"div",4),b["\u0275\u0275elementStart"](72,"label",25),b["\u0275\u0275text"](73),b["\u0275\u0275pipe"](74,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](75,"input",26),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.buildingname=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](76,"div",3),b["\u0275\u0275elementStart"](77,"div",4),b["\u0275\u0275elementStart"](78,"label",27),b["\u0275\u0275text"](79),b["\u0275\u0275pipe"](80,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](81,"input",28),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.entrance=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](82,"div",3),b["\u0275\u0275elementStart"](83,"div",4),b["\u0275\u0275elementStart"](84,"label",29),b["\u0275\u0275text"](85),b["\u0275\u0275pipe"](86,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](87,"input",30),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.floor=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](88,"div",2),b["\u0275\u0275elementStart"](89,"div",3),b["\u0275\u0275elementStart"](90,"div",4),b["\u0275\u0275elementStart"](91,"label",31),b["\u0275\u0275text"](92),b["\u0275\u0275pipe"](93,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](94,"input",32),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.flat=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](95,"div",3),b["\u0275\u0275elementStart"](96,"div",4),b["\u0275\u0275elementStart"](97,"label",33),b["\u0275\u0275text"](98),b["\u0275\u0275pipe"](99,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](100,"input",34),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.town=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](101,"div",3),b["\u0275\u0275elementStart"](102,"div",4),b["\u0275\u0275elementStart"](103,"label",35),b["\u0275\u0275text"](104),b["\u0275\u0275pipe"](105,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](106,"input",36),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.realestatearea=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](107,"div",2),b["\u0275\u0275elementStart"](108,"div",3),b["\u0275\u0275elementStart"](109,"div",4),b["\u0275\u0275elementStart"](110,"label",37),b["\u0275\u0275text"](111),b["\u0275\u0275pipe"](112,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](113,"input",38),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.blocknumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](114,"div",3),b["\u0275\u0275elementStart"](115,"div",4),b["\u0275\u0275elementStart"](116,"label",39),b["\u0275\u0275text"](117),b["\u0275\u0275pipe"](118,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](119,"input",40),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.phone1=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](120,"div",3),b["\u0275\u0275elementStart"](121,"div",4),b["\u0275\u0275elementStart"](122,"label",41),b["\u0275\u0275text"](123),b["\u0275\u0275pipe"](124,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](125,"input",42),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.phone2=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](126,"div",2),b["\u0275\u0275elementStart"](127,"div",3),b["\u0275\u0275elementStart"](128,"div",4),b["\u0275\u0275elementStart"](129,"label",43),b["\u0275\u0275text"](130),b["\u0275\u0275pipe"](131,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](132,"input",44),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.mailbox=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](133,"div",3),b["\u0275\u0275elementStart"](134,"div",4),b["\u0275\u0275elementStart"](135,"label",45),b["\u0275\u0275text"](136),b["\u0275\u0275pipe"](137,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](138,"input",46),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.postalcode=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](139,"div",3),b["\u0275\u0275elementStart"](140,"div",4),b["\u0275\u0275elementStart"](141,"label",47),b["\u0275\u0275text"](142),b["\u0275\u0275pipe"](143,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](144,"input",48),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.fax=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](145,"div",2),b["\u0275\u0275elementStart"](146,"div",3),b["\u0275\u0275elementStart"](147,"div",4),b["\u0275\u0275elementStart"](148,"label",49),b["\u0275\u0275text"](149),b["\u0275\u0275pipe"](150,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](151,"input",50),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.distancefromfacility=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](152,"div",3),b["\u0275\u0275elementStart"](153,"div",4),b["\u0275\u0275elementStart"](154,"label",51),b["\u0275\u0275text"](155),b["\u0275\u0275pipe"](156,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](157,"textarea",52),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.address=e}),b["\u0275\u0275text"](158,"          "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](159,"div",2),b["\u0275\u0275elementStart"](160,"div",3),b["\u0275\u0275elementStart"](161,"div",53),b["\u0275\u0275elementStart"](162,"h4"),b["\u0275\u0275text"](163),b["\u0275\u0275pipe"](164,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](165,"div",3),b["\u0275\u0275element"](166,"div",3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](167,"div",2),b["\u0275\u0275elementStart"](168,"div",3),b["\u0275\u0275elementStart"](169,"div",4),b["\u0275\u0275elementStart"](170,"label",54),b["\u0275\u0275text"](171),b["\u0275\u0275pipe"](172,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](173,"select",55),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.kinshiprelationid=e}),b["\u0275\u0275template"](174,lt,2,1,"option",7),b["\u0275\u0275template"](175,ot,2,1,"option",7),b["\u0275\u0275template"](176,dt,3,3,"option",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](177,"div",3),b["\u0275\u0275elementStart"](178,"div",4),b["\u0275\u0275elementStart"](179,"label",56),b["\u0275\u0275text"](180),b["\u0275\u0275pipe"](181,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](182,"input",57),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.emergencycontactname=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](183,"div",3),b["\u0275\u0275elementStart"](184,"div",4),b["\u0275\u0275elementStart"](185,"label",58),b["\u0275\u0275text"](186),b["\u0275\u0275pipe"](187,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](188,"input",59),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.emergencycontactphone=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](189,"div",2),b["\u0275\u0275element"](190,"div",3),b["\u0275\u0275element"](191,"div",3),b["\u0275\u0275elementStart"](192,"div",3),b["\u0275\u0275elementStart"](193,"div",53),b["\u0275\u0275template"](194,mt,4,4,"button",60),b["\u0275\u0275elementStart"](195,"a",61),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](196),b["\u0275\u0275pipe"](197,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](8,67,"Country")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.addresscountryid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.CountryList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](17,69,"State")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.addressgovernorateid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang&&t.GovernorateList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==t.lang&&t.GovernorateList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.GovernorateList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](26,71,"AreaOrCity")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.addresscityid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang&&t.AreaList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==t.lang&&t.AreaList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.AreaList),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](36,73,"addressregion")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.addressregion),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](42,75,"partnumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.partnumber),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](48,77,"departmentnumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.departmentnumber),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](55,79,"district")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.district),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](61,81,"street")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.street),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](67,83,"buildingtype")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.buildingtype),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](74,85,"buildingname")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.buildingname),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](80,87,"entrance")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.entrance),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](86,89,"floor")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.floor),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](93,91,"flat")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.flat),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](99,93,"town")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.town),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](105,95,"realestatearea")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.realestatearea),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](112,97,"blocknumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.blocknumber),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](118,99,"phone1")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.phone1),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](124,101,"phone2")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.phone2),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](131,103,"mailbox")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.mailbox),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](137,105,"postalcode")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.postalcode),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](143,107,"fax")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.fax),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](150,109,"distancefromfacility")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.distancefromfacility),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](156,111,"address")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.address),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](164,113,"ContactIfNecessary")," "),b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](172,115,"kinshipRelationID")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.kinshiprelationid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang&&t.RelationsList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==t.lang&&t.RelationsList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.RelationsList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](181,117,"emergencyContactName")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.emergencycontactname),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](187,119,"emergencyContactPhone")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.emergencycontactphone),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](197,121,"Cancel")," "))},directives:[d._Y,d.JL,d.F,d.EJ,d.JJ,d.On,o.O5,o.sg,d.Fj,d.YN,d.Kr],pipes:[h.X$],styles:[""]}),e}(),ut=function e(){i(this,e),this.id=0,this.code="",this.fromdate=null,this.todate=null,this.untilnow=!1,this.facilityname="",this.job="",this.salary=null,this.salarycurrency="",this.referencename="",this.referencejob="",this.facilityphone="",this.countryid=null,this.workplace="",this.leaveworkreasonid=null,this.placeofexperience="",this.typeofexperience="",this.natureofwork="",this.jobclassification="",this.relevanceofexperience="",this.responsibilities="",this.subsidaryid=null},yt=r(529),ht=r(79996),vt=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAll",value:function(e,t,n){var a="/EmployeeExperiences/GetAll?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeExperience",value:function(e,t){return this.http.get(this.baseUrl+"/EmployeeExperiences/CountOfEmployeeExperience?searchValue=".concat(e,"&subsidaryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e){return this.http.get(this.baseUrl+"/EmployeeExperiences/GetMaxCode?subsidaryid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"Delete",value:function(e){return this.http.get(this.baseUrl+"/EmployeeExperiences/Delete?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeExperience",value:function(e){return this.http.post("".concat(this.baseUrl,"/EmployeeExperiences/Create"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeExperience",value:function(e){return this.http.post(this.baseUrl+"/EmployeeExperiences/Update",e).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),gt=r(96115),ft=r(63567);function St(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",37),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function bt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",37),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function Et(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.countryname,"")}}function xt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.countryname_ar,"")}}function Ct(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",55),b["\u0275\u0275template"](1,Et,2,1,"span",54),b["\u0275\u0275template"](2,xt,2,1,"span",54),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function Dt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function _t(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function It(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",55),b["\u0275\u0275template"](1,Dt,2,1,"div",54),b["\u0275\u0275template"](2,_t,2,1,"div",54),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function wt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",56),b["\u0275\u0275element"](1,"i",57),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function kt(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",52),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]();return e.DeleteExperience(e._experienceT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Tt(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",58),b["\u0275\u0275elementStart"](2,"div",59),b["\u0275\u0275elementStart"](3,"div",60),b["\u0275\u0275elementStart"](4,"h6",61),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",62),b["\u0275\u0275elementStart"](8,"div",63),b["\u0275\u0275elementStart"](9,"app-Matix-table",64),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeExperienceSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeExperienceSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"EmployeeExperience")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeExperienceList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var Mt=function(){return{standalone:!0}},Bt=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p){var u=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._employeeExperiencesService=m,this._leaveWorkReasonsService=p,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"facilityname",sortByEn:"facilityname",displayName:"facilityname"},{sortByAr:"job",sortByEn:"job",displayName:"job"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._experienceT=new ut,this.EmployeeExperienceList=[],this.CountryList=[],this.LeaveWorkReasonList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){u.lang=e.lang,u.dir=e.dir,u.translate.use(e.lang),u.ngTransUnsubscribe=u.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(function(e){u.Cancel=e.Cancel,u.checkname=e.checkname,u.swalDeleteTitle=e.swalDeleteTitle,u.swalDetlateText=e.swalDetlateText,u.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,u.toastrSuccessDelete=e.successMsg,u.emptyerror=e.emptyerror,u.DeleteRelationmsg=e.DeleteRelationmsg,u.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){u.EmployeeID=e.id,u.showmood=null!=e.show&&"show"==e.show&&u.EmployeeID>0,u.Country(),u.GetLeaveWorkReasons(),u.GetList(),u.GetData()})}return l(e,[{key:"GetLeaveWorkReasons",value:function(){var e=this;this._leaveWorkReasonsService.GetAllForDropdown().subscribe(function(t){e.LeaveWorkReasonList=t,e.cd.markForCheck()})}},{key:"Country",value:function(){var e=this;this._employeesService.Countries().subscribe(function(t){e.CountryList=t,e.cd.markForCheck()},function(t){console.log("-> err",t),e.toastr.error(e.translate.instant("InternalServerError")),e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){}},{key:"GetList",value:function(){var e=this;this._employeeExperiencesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(t){e.EmployeeExperienceList=t,e.cd.markForCheck()}),this._employeeExperiencesService.CountOfEmployeeExperience("",this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t?this._employeeExperiencesService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._experienceT.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e.cd.markForCheck()}):this._experienceT=this.EmployeeExperienceList.find(function(e){return e.id==t})}},{key:"EmployeeExperienceSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeExperiencesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeExperienceList=e,t.cd.markForCheck()}),this._employeeExperiencesService.CountOfEmployeeExperience(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeExperienceSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeExperiencesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeExperienceList=e,t.cd.markForCheck()}),this._employeeExperiencesService.CountOfEmployeeExperience(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"OnAdd",value:function(){this._experienceT=new ut,this.showmood=!1,this.GetData()}},{key:"OnEdit",value:function(e){this._experienceT=new ut,this.showmood=!1,this.GetData(e)}},{key:"OnShow",value:function(e){this._experienceT=new ut,this.showmood=!0,this.GetData(e)}},{key:"CancelForm",value:function(){this._experienceT=new ut,this.GetData()}},{key:"DeleteExperience",value:function(e){var t=this;R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeeExperiencesService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t._experienceT=new ut,t.GetList(),t.showmood=!1,t.GetData()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._experienceT.employeeid=this.EmployeeID,this._experienceT.subsidaryid=this.subsidiaryID,this._experienceT.id>0?this._employeeExperiencesService.UpdateEmployeeExperience(this._experienceT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()}):this._employeeExperiencesService.CreateEmployeeExperience(this._experienceT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](vt),b["\u0275\u0275directiveInject"](gt.q))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-experiences-form"]],decls:155,vars:103,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","40px"],["type","checkbox","id","untilnow",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","untilnow"],["id","facilityname",1,"col-form-label"],["type","text","name","facilityname",1,"form-control",3,"ngModel","ngModelChange"],["id","job",1,"col-form-label"],["type","text","name","job",1,"form-control",3,"ngModel","ngModelChange"],["id","salary",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","salary",1,"form-control",3,"ngModel","ngModelChange"],["id","salarycurrency",1,"col-form-label"],["type","text","name","salarycurrency",1,"form-control",3,"ngModel","ngModelChange"],["id","referencename",1,"col-form-label"],["type","text","name","referencename",1,"form-control",3,"ngModel","ngModelChange"],["id","referencejob",1,"col-form-label"],["type","text","name","referencejob",1,"form-control",3,"ngModel","ngModelChange"],["id","facilityphone",1,"col-form-label"],["type","text","name","facilityphone",1,"form-control",3,"ngModel","ngModelChange"],["for","CountryId",1,"control-label"],["name","addresscountryid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["id","workplace",1,"col-form-label"],["type","text","name","workplace",1,"form-control",3,"ngModel","ngModelChange"],["id","leaveworkreasonid",1,"col-form-label"],["name","leaveworkreasonid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["id","placeofexperience",1,"col-form-label"],["type","text","name","placeofexperience",1,"form-control",3,"ngModel","ngModelChange"],["id","typeofexperience",1,"col-form-label"],["type","text","name","typeofexperience",1,"form-control",3,"ngModel","ngModelChange"],["id","natureofwork",1,"col-form-label"],["type","text","name","natureofwork",1,"form-control",3,"ngModel","ngModelChange"],["id","jobclassification",1,"col-form-label"],["type","text","name","jobclassification",1,"form-control",3,"ngModel","ngModelChange"],["id","relevanceofexperience",1,"col-form-label"],["type","text","name","relevanceofexperience",1,"form-control",3,"ngModel","ngModelChange"],["id","responsibilities",1,"col-form-label"],["id","responsibilities","name","responsibilities",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"form",1,2),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return t.onSave(e)}),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"label",6),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",4),b["\u0275\u0275element"](12,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",5),b["\u0275\u0275elementStart"](16,"label",8),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"input",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.fromdate=e}),b["\u0275\u0275pipe"](20,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"div",4),b["\u0275\u0275elementStart"](22,"div",5),b["\u0275\u0275elementStart"](23,"label",10),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"input",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.todate=e}),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"div",4),b["\u0275\u0275elementStart"](29,"div",12),b["\u0275\u0275elementStart"](30,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.untilnow=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"label",14),b["\u0275\u0275elementStart"](32,"span"),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"div",3),b["\u0275\u0275elementStart"](36,"div",4),b["\u0275\u0275elementStart"](37,"div",5),b["\u0275\u0275elementStart"](38,"label",15),b["\u0275\u0275text"](39),b["\u0275\u0275pipe"](40,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"input",16),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.facilityname=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](42,"div",4),b["\u0275\u0275elementStart"](43,"div",5),b["\u0275\u0275elementStart"](44,"label",17),b["\u0275\u0275text"](45),b["\u0275\u0275pipe"](46,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](47,"input",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.job=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](48,"div",4),b["\u0275\u0275elementStart"](49,"div",5),b["\u0275\u0275elementStart"](50,"label",19),b["\u0275\u0275text"](51),b["\u0275\u0275pipe"](52,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](53,"input",20),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.salary=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](54,"div",3),b["\u0275\u0275elementStart"](55,"div",4),b["\u0275\u0275elementStart"](56,"div",5),b["\u0275\u0275elementStart"](57,"label",21),b["\u0275\u0275text"](58),b["\u0275\u0275pipe"](59,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](60,"input",22),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.salarycurrency=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](61,"div",4),b["\u0275\u0275elementStart"](62,"div",5),b["\u0275\u0275elementStart"](63,"label",23),b["\u0275\u0275text"](64),b["\u0275\u0275pipe"](65,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](66,"input",24),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.referencename=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](67,"div",4),b["\u0275\u0275elementStart"](68,"div",5),b["\u0275\u0275elementStart"](69,"label",25),b["\u0275\u0275text"](70),b["\u0275\u0275pipe"](71,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](72,"input",26),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.referencejob=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](73,"div",3),b["\u0275\u0275elementStart"](74,"div",4),b["\u0275\u0275elementStart"](75,"div",5),b["\u0275\u0275elementStart"](76,"label",27),b["\u0275\u0275text"](77),b["\u0275\u0275pipe"](78,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](79,"input",28),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.facilityphone=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](80,"div",4),b["\u0275\u0275elementStart"](81,"div",5),b["\u0275\u0275elementStart"](82,"label",29),b["\u0275\u0275text"](83),b["\u0275\u0275pipe"](84,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](85,"select",30),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.countryid=e}),b["\u0275\u0275template"](86,St,2,1,"option",31),b["\u0275\u0275template"](87,bt,2,1,"option",31),b["\u0275\u0275template"](88,Ct,3,3,"option",32),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](89,"div",4),b["\u0275\u0275elementStart"](90,"div",5),b["\u0275\u0275elementStart"](91,"label",33),b["\u0275\u0275text"](92),b["\u0275\u0275pipe"](93,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](94,"input",34),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.workplace=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](95,"div",3),b["\u0275\u0275elementStart"](96,"div",4),b["\u0275\u0275elementStart"](97,"div",5),b["\u0275\u0275elementStart"](98,"label",35),b["\u0275\u0275text"](99),b["\u0275\u0275pipe"](100,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](101,"select",36),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.leaveworkreasonid=e}),b["\u0275\u0275elementStart"](102,"option",37),b["\u0275\u0275text"](103),b["\u0275\u0275pipe"](104,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](105,It,3,3,"option",32),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](106,"div",4),b["\u0275\u0275elementStart"](107,"div",5),b["\u0275\u0275elementStart"](108,"label",38),b["\u0275\u0275text"](109),b["\u0275\u0275pipe"](110,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](111,"input",39),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.placeofexperience=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](112,"div",4),b["\u0275\u0275elementStart"](113,"div",5),b["\u0275\u0275elementStart"](114,"label",40),b["\u0275\u0275text"](115),b["\u0275\u0275pipe"](116,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](117,"input",41),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.typeofexperience=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](118,"div",3),b["\u0275\u0275elementStart"](119,"div",4),b["\u0275\u0275elementStart"](120,"div",5),b["\u0275\u0275elementStart"](121,"label",42),b["\u0275\u0275text"](122),b["\u0275\u0275pipe"](123,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](124,"input",43),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.natureofwork=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](125,"div",4),b["\u0275\u0275elementStart"](126,"div",5),b["\u0275\u0275elementStart"](127,"label",44),b["\u0275\u0275text"](128),b["\u0275\u0275pipe"](129,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](130,"input",45),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.jobclassification=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](131,"div",4),b["\u0275\u0275elementStart"](132,"div",5),b["\u0275\u0275elementStart"](133,"label",46),b["\u0275\u0275text"](134),b["\u0275\u0275pipe"](135,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](136,"input",47),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.relevanceofexperience=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](137,"div",3),b["\u0275\u0275elementStart"](138,"div",4),b["\u0275\u0275elementStart"](139,"div",5),b["\u0275\u0275elementStart"](140,"label",48),b["\u0275\u0275text"](141),b["\u0275\u0275pipe"](142,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](143,"textarea",49),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceT.responsibilities=e}),b["\u0275\u0275text"](144,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](145,"div",4),b["\u0275\u0275elementStart"](146,"div",4),b["\u0275\u0275elementStart"](147,"div",50),b["\u0275\u0275template"](148,wt,4,4,"button",51),b["\u0275\u0275elementStart"](149,"button",52),b["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),b["\u0275\u0275text"](150),b["\u0275\u0275pipe"](151,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](152,kt,3,4,"button",53),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](153,"div",0),b["\u0275\u0275template"](154,Tt,10,7,"section",54),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,52,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.code),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](18,54,"fromdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](20,56,t._experienceT.fromdate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,59,"todate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](27,61,t._experienceT.todate,"yyyy-MM-dd")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("checked",t._experienceT.untilnow)("ngModelOptions",b["\u0275\u0275pureFunction0"](102,Mt))("ngModel",t._experienceT.untilnow),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](34,64,"untilnow")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](40,66,"facilityname")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.facilityname),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](46,68,"job")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.job),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](52,70,"salary")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.salary),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](59,72,"salarycurrency")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.salarycurrency),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](65,74,"referencename")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.referencename),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](71,76,"referencejob")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.referencejob),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](78,78,"facilityphone")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.facilityphone),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](84,80,"Country")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.countryid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.CountryList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](93,82,"workplace")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.workplace),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](100,84,"leaveworkreasonid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.leaveworkreasonid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](104,86,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.LeaveWorkReasonList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](110,88,"placeofexperience")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.placeofexperience),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](116,90,"typeofexperience")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.typeofexperience),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](123,92,"natureofwork")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.natureofwork),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](129,94,"jobclassification")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.jobclassification),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](135,96,"relevanceofexperience")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.relevanceofexperience),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](142,98,"responsibilities")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceT.responsibilities),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](151,100,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._experienceT.id>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.Wl,ft.L,d.EJ,o.O5,o.sg,d.YN,d.Kr,k.u],pipes:[h.X$,o.uU],styles:[""]}),e}(),Ft=function e(){i(this,e),this.code="",this.fromdate=null,this.todate=null,this.untilnow=!1,this.countryid=null,this.governorateid=null,this.university="",this.college="",this.academicqualificationid=null,this.otheracademicqualification="",this.specialty="",this.universityrate="",this.degree="",this.graduationyear="",this.qualificationnotes="",this.secondaryeducation=!1,this.subsidaryid=null},Ht=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAll",value:function(e,t,n){var a="/EmployeeQualifications/GetAll?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeQualification",value:function(e,t){return this.http.get(this.baseUrl+"/EmployeeQualifications/CountOfEmployeeQualification?searchValue=".concat(e,"&subsidaryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e){return this.http.get(this.baseUrl+"/EmployeeQualifications/GetMaxCode?subsidaryid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"Delete",value:function(e){return this.http.get(this.baseUrl+"/EmployeeQualifications/Delete?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeQualification",value:function(e){return this.http.post("".concat(this.baseUrl,"/EmployeeQualifications/Create"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeQualification",value:function(e){return this.http.post(this.baseUrl+"/EmployeeQualifications/Update",e).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),Rt=r(29388);function Ot(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",27),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function Vt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",27),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function At(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.countryname,"")}}function Nt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.countryname_ar,"")}}function Gt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",47),b["\u0275\u0275template"](1,At,2,1,"span",46),b["\u0275\u0275template"](2,Nt,2,1,"span",46),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function Pt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",27),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function jt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",27),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function Ut(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Lt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function Jt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",47),b["\u0275\u0275template"](1,Ut,2,1,"span",46),b["\u0275\u0275template"](2,Lt,2,1,"span",46),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function zt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function $t(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Yt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",47),b["\u0275\u0275template"](1,zt,2,1,"div",46),b["\u0275\u0275template"](2,$t,2,1,"div",46),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function qt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",48),b["\u0275\u0275element"](1,"i",49),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Qt(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",44),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]();return e.DeleteQualification(e._qualificationT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Kt(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",50),b["\u0275\u0275elementStart"](2,"div",51),b["\u0275\u0275elementStart"](3,"div",52),b["\u0275\u0275elementStart"](4,"h6",53),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",54),b["\u0275\u0275elementStart"](8,"div",55),b["\u0275\u0275elementStart"](9,"app-Matix-table",56),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeQualificationSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeQualificationSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"EmployeeQualification")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeQualificationList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var Wt=function(){return{standalone:!0}},Xt=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p){var u=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._employeeQualificationsService=m,this._educationalQualificationsService=p,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._qualificationT=new Ft,this.EmployeeQualificationList=[],this.CountryList=[],this.GovernorateList=[],this.AcademicQualificationList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){u.lang=e.lang,u.dir=e.dir,u.translate.use(e.lang),u.ngTransUnsubscribe=u.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(function(e){u.Cancel=e.Cancel,u.checkname=e.checkname,u.swalDeleteTitle=e.swalDeleteTitle,u.swalDetlateText=e.swalDetlateText,u.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,u.toastrSuccessDelete=e.successMsg,u.emptyerror=e.emptyerror,u.DeleteRelationmsg=e.DeleteRelationmsg,u.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){u.EmployeeID=e.id,u.showmood=null!=e.show&&"show"==e.show&&u.EmployeeID>0,u.Country(),u.GetAcademicQualification(),u.GetList(),u.GetData()})}return l(e,[{key:"Country",value:function(){var e=this;this._employeesService.Countries().subscribe(function(t){e.CountryList=t,e.cd.markForCheck()},function(t){console.log("-> err",t),e.toastr.error(e.translate.instant("InternalServerError")),e.cd.markForCheck()})}},{key:"GovernorateByCountryID",value:function(){var e=this;this._employeesService.GovernorateByCountryID(this._qualificationT.countryid).subscribe(function(t){e.GovernorateList=t,e.cd.markForCheck()},function(t){console.log("-> err",t),e.toastr.error(e.translate.instant("InternalServerError")),e.cd.markForCheck()})}},{key:"ChangeCountry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.GovernorateList=[],1==e&&(this._qualificationT.governorateid=null),this.GovernorateByCountryID()}},{key:"GetAcademicQualification",value:function(){var e=this;this._educationalQualificationsService.GetAllForDropdown().subscribe(function(t){e.AcademicQualificationList=t,e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){}},{key:"GetList",value:function(){var e=this;this._employeeQualificationsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(t){e.EmployeeQualificationList=t,e.cd.markForCheck()}),this._employeeQualificationsService.CountOfEmployeeQualification("",this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t?this._employeeQualificationsService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._qualificationT.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e.cd.markForCheck()}):this._qualificationT=this.EmployeeQualificationList.find(function(e){return e.id==t})}},{key:"EmployeeQualificationSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeQualificationsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeQualificationList=e,t.cd.markForCheck()}),this._employeeQualificationsService.CountOfEmployeeQualification(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeQualificationSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeQualificationsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeQualificationList=e,t.cd.markForCheck()}),this._employeeQualificationsService.CountOfEmployeeQualification(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"OnAdd",value:function(){this._qualificationT=new Ft,this.showmood=!1,this.GetData()}},{key:"OnEdit",value:function(e){this._qualificationT=new Ft,this.showmood=!1,this.GetData(e)}},{key:"OnShow",value:function(e){this._qualificationT=new Ft,this.showmood=!0,this.GetData(e)}},{key:"CancelForm",value:function(){this._qualificationT=new Ft,this.GetData()}},{key:"DeleteQualification",value:function(e){var t=this;R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeeQualificationsService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t._qualificationT=new Ft,t.GetList(),t.showmood=!1,t.GetData()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._qualificationT.employeeid=this.EmployeeID,this._qualificationT.subsidaryid=this.subsidiaryID,this._qualificationT.id>0?this._employeeQualificationsService.UpdateEmployeeQualification(this._qualificationT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()}):this._employeeQualificationsService.CreateEmployeeQualification(this._qualificationT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](Ht),b["\u0275\u0275directiveInject"](Rt.c))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-qualifications-form"]],decls:135,vars:93,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","40px"],["type","checkbox","id","untilnow",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","untilnow"],["for","CountryId",1,"control-label"],["name","countryid",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["for","GovernorateId",1,"control-label"],["name","GovernorateId",1,"form-control",3,"ngModel","ngModelChange"],["id","university",1,"col-form-label"],["type","text","name","university",1,"form-control",3,"ngModel","ngModelChange"],["id","college",1,"col-form-label"],["type","text","name","college",1,"form-control",3,"ngModel","ngModelChange"],["id","academicqualificationid",1,"col-form-label"],["name","academicqualificationid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],["id","otheracademicqualification",1,"col-form-label"],["type","text","name","otheracademicqualification",1,"form-control",3,"ngModel","ngModelChange"],["id","specialty",1,"col-form-label"],["type","text","name","specialty",1,"form-control",3,"ngModel","ngModelChange"],["id","universityrate",1,"col-form-label"],["type","text","name","universityrate",1,"form-control",3,"ngModel","ngModelChange"],["id","degree",1,"col-form-label"],["type","text","name","degree",1,"form-control",3,"ngModel","ngModelChange"],["id","graduationyear",1,"col-form-label"],["type","text","name","graduationyear",1,"form-control",3,"ngModel","ngModelChange"],["id","qualificationnotes",1,"col-form-label"],["id","qualificationnotes","name","qualificationnotes",1,"form-control",3,"ngModel","ngModelChange"],["type","checkbox","id","secondaryeducation",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","secondaryeducation"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"form",1,2),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return t.onSave(e)}),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"label",6),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",4),b["\u0275\u0275element"](12,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",5),b["\u0275\u0275elementStart"](16,"label",8),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"input",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.fromdate=e}),b["\u0275\u0275pipe"](20,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"div",4),b["\u0275\u0275elementStart"](22,"div",5),b["\u0275\u0275elementStart"](23,"label",10),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"input",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.todate=e}),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"div",4),b["\u0275\u0275elementStart"](29,"div",12),b["\u0275\u0275elementStart"](30,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.untilnow=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"label",14),b["\u0275\u0275elementStart"](32,"span"),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"div",3),b["\u0275\u0275elementStart"](36,"div",4),b["\u0275\u0275elementStart"](37,"div",5),b["\u0275\u0275elementStart"](38,"label",15),b["\u0275\u0275text"](39),b["\u0275\u0275pipe"](40,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"select",16),b["\u0275\u0275listener"]("change",function(){return t.ChangeCountry()})("ngModelChange",function(e){return t._qualificationT.countryid=e}),b["\u0275\u0275template"](42,Ot,2,1,"option",17),b["\u0275\u0275template"](43,Vt,2,1,"option",17),b["\u0275\u0275template"](44,Gt,3,3,"option",18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"div",4),b["\u0275\u0275elementStart"](46,"div",5),b["\u0275\u0275elementStart"](47,"label",19),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"select",20),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.governorateid=e}),b["\u0275\u0275template"](51,Pt,2,1,"option",17),b["\u0275\u0275template"](52,jt,2,1,"option",17),b["\u0275\u0275template"](53,Jt,3,3,"option",18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](54,"div",4),b["\u0275\u0275elementStart"](55,"div",5),b["\u0275\u0275elementStart"](56,"label",21),b["\u0275\u0275text"](57),b["\u0275\u0275pipe"](58,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](59,"input",22),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.university=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](60,"div",3),b["\u0275\u0275elementStart"](61,"div",4),b["\u0275\u0275elementStart"](62,"div",5),b["\u0275\u0275elementStart"](63,"label",23),b["\u0275\u0275text"](64),b["\u0275\u0275pipe"](65,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](66,"input",24),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.college=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](67,"div",4),b["\u0275\u0275elementStart"](68,"div",5),b["\u0275\u0275elementStart"](69,"label",25),b["\u0275\u0275text"](70),b["\u0275\u0275pipe"](71,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](72,"select",26),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.academicqualificationid=e}),b["\u0275\u0275elementStart"](73,"option",27),b["\u0275\u0275text"](74),b["\u0275\u0275pipe"](75,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](76,Yt,3,3,"option",18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](77,"div",4),b["\u0275\u0275elementStart"](78,"div",5),b["\u0275\u0275elementStart"](79,"label",28),b["\u0275\u0275text"](80),b["\u0275\u0275pipe"](81,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](82,"input",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.otheracademicqualification=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](83,"div",3),b["\u0275\u0275elementStart"](84,"div",4),b["\u0275\u0275elementStart"](85,"div",5),b["\u0275\u0275elementStart"](86,"label",30),b["\u0275\u0275text"](87),b["\u0275\u0275pipe"](88,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](89,"input",31),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.specialty=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](90,"div",4),b["\u0275\u0275elementStart"](91,"div",5),b["\u0275\u0275elementStart"](92,"label",32),b["\u0275\u0275text"](93),b["\u0275\u0275pipe"](94,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](95,"input",33),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.universityrate=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](96,"div",4),b["\u0275\u0275elementStart"](97,"div",5),b["\u0275\u0275elementStart"](98,"label",34),b["\u0275\u0275text"](99),b["\u0275\u0275pipe"](100,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](101,"input",35),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.degree=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](102,"div",3),b["\u0275\u0275elementStart"](103,"div",4),b["\u0275\u0275elementStart"](104,"div",5),b["\u0275\u0275elementStart"](105,"label",36),b["\u0275\u0275text"](106),b["\u0275\u0275pipe"](107,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](108,"input",37),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.graduationyear=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](109,"div",4),b["\u0275\u0275elementStart"](110,"div",5),b["\u0275\u0275elementStart"](111,"label",38),b["\u0275\u0275text"](112),b["\u0275\u0275pipe"](113,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](114,"textarea",39),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.qualificationnotes=e}),b["\u0275\u0275text"](115,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](116,"div",4),b["\u0275\u0275elementStart"](117,"div",12),b["\u0275\u0275elementStart"](118,"input",40),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._qualificationT.secondaryeducation=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](119,"label",41),b["\u0275\u0275elementStart"](120,"span"),b["\u0275\u0275text"](121),b["\u0275\u0275pipe"](122,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](123,"div",3),b["\u0275\u0275element"](124,"div",4),b["\u0275\u0275element"](125,"div",4),b["\u0275\u0275elementStart"](126,"div",4),b["\u0275\u0275elementStart"](127,"div",42),b["\u0275\u0275template"](128,qt,4,4,"button",43),b["\u0275\u0275elementStart"](129,"button",44),b["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),b["\u0275\u0275text"](130),b["\u0275\u0275pipe"](131,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](132,Qt,3,4,"button",45),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](133,"div",0),b["\u0275\u0275template"](134,Kt,10,7,"section",46),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,49,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.code),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](18,51,"fromdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](20,53,t._qualificationT.fromdate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,56,"todate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](27,58,t._qualificationT.todate,"yyyy-MM-dd")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("checked",t._qualificationT.untilnow)("ngModelOptions",b["\u0275\u0275pureFunction0"](91,Wt))("ngModel",t._qualificationT.untilnow),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](34,61,"untilnow")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](40,63,"Country")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.countryid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.CountryList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](49,65,"State")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.governorateid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang&&t.GovernorateList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==t.lang&&t.GovernorateList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.GovernorateList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](58,67,"university")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.university),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](65,69,"college")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.college),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](71,71,"academicqualificationid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.academicqualificationid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](75,73,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.AcademicQualificationList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](81,75,"otheracademicqualification")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.otheracademicqualification),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](88,77,"specialty")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.specialty),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](94,79,"universityrate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.universityrate),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](100,81,"degree")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.degree),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](107,83,"graduationyear")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.graduationyear),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](113,85,"qualificationnotes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._qualificationT.qualificationnotes),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("checked",t._qualificationT.secondaryeducation)("ngModelOptions",b["\u0275\u0275pureFunction0"](92,Wt))("ngModel",t._qualificationT.secondaryeducation),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](122,87,"secondaryeducation")),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](131,89,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._qualificationT.id>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.Wl,d.EJ,o.O5,o.sg,d.YN,d.Kr,k.u],pipes:[h.X$,o.uU],styles:[""]}),e}(),Zt=function e(){i(this,e),this.code="",this.category="",this.type="",this.skill="",this.yearsofexperience="",this.level="",this.skillsource="",this.appearsin="",this.notes="",this.subsidaryid=null},en=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAll",value:function(e,t,n){var a="/EmployeeSkills/GetAll?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeSkill",value:function(e,t){return this.http.get(this.baseUrl+"/EmployeeSkills/CountOfEmployeeSkill?searchValue=".concat(e,"&subsidaryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e){return this.http.get(this.baseUrl+"/EmployeeSkills/GetMaxCode?subsidaryid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"Delete",value:function(e){return this.http.get(this.baseUrl+"/EmployeeSkills/Delete?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeSkill",value:function(e){return this.http.post("".concat(this.baseUrl,"/EmployeeSkills/Create"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeSkill",value:function(e){return this.http.post(this.baseUrl+"/EmployeeSkills/Update",e).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function tn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",29),b["\u0275\u0275element"](1,"i",30),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function nn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",26),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]();return e.DeleteSkill(e._skillT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function an(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",31),b["\u0275\u0275elementStart"](2,"div",32),b["\u0275\u0275elementStart"](3,"div",33),b["\u0275\u0275elementStart"](4,"h6",34),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",35),b["\u0275\u0275elementStart"](8,"div",36),b["\u0275\u0275elementStart"](9,"app-Matix-table",37),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeSkillSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeSkillSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"EmployeeSkill")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeSkillList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var rn=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._employeeSkillsService=m,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"skill",sortByEn:"skill",displayName:"skill"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._skillT=new Zt,this.EmployeeSkillList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(function(e){p.Cancel=e.Cancel,p.checkname=e.checkname,p.swalDeleteTitle=e.swalDeleteTitle,p.swalDetlateText=e.swalDetlateText,p.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,p.toastrSuccessDelete=e.successMsg,p.emptyerror=e.emptyerror,p.DeleteRelationmsg=e.DeleteRelationmsg,p.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){p.EmployeeID=e.id,p.showmood=null!=e.show&&"show"==e.show&&p.EmployeeID>0,p.GetList(),p.GetData()})}return l(e,[{key:"ngOnInit",value:function(){}},{key:"GetList",value:function(){var e=this;this._employeeSkillsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(t){e.EmployeeSkillList=t,e.cd.markForCheck()}),this._employeeSkillsService.CountOfEmployeeSkill("",this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t?this._employeeSkillsService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._skillT.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e.cd.markForCheck()}):this._skillT=this.EmployeeSkillList.find(function(e){return e.id==t})}},{key:"EmployeeSkillSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeSkillsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeSkillList=e,t.cd.markForCheck()}),this._employeeSkillsService.CountOfEmployeeSkill(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeSkillSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeSkillsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeSkillList=e,t.cd.markForCheck()}),this._employeeSkillsService.CountOfEmployeeSkill(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"OnAdd",value:function(){this._skillT=new Zt,this.showmood=!1,this.GetData()}},{key:"OnEdit",value:function(e){this._skillT=new Zt,this.showmood=!1,this.GetData(e)}},{key:"OnShow",value:function(e){this._skillT=new Zt,this.showmood=!0,this.GetData(e)}},{key:"CancelForm",value:function(){this._skillT=new Zt,this.GetData()}},{key:"DeleteSkill",value:function(e){var t=this;R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeeSkillsService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t._skillT=new Zt,t.showmood=!1,t.GetList()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._skillT.employeeid=this.EmployeeID,this._skillT.subsidaryid=this.subsidiaryID,this._skillT.id>0?this._employeeSkillsService.UpdateEmployeeSkill(this._skillT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()}):this._employeeSkillsService.CreateEmployeeSkill(this._skillT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](en))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-skills-form"]],decls:74,vars:42,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","category",1,"col-form-label"],["type","text","name","category",1,"form-control",3,"ngModel","ngModelChange"],["id","type",1,"col-form-label"],["type","text","name","type",1,"form-control",3,"ngModel","ngModelChange"],["id","skill",1,"col-form-label"],["type","text","name","skill",1,"form-control",3,"ngModel","ngModelChange"],["id","yearsofexperience",1,"col-form-label"],["type","text","name","yearsofexperience",1,"form-control",3,"ngModel","ngModelChange"],["id","level",1,"col-form-label"],["type","text","name","level",1,"form-control",3,"ngModel","ngModelChange"],["id","skillsource",1,"col-form-label"],["type","text","name","skillsource",1,"form-control",3,"ngModel","ngModelChange"],["id","appearsin",1,"col-form-label"],["type","text","name","appearsin",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"form",1,2),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return t.onSave(e)}),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"label",6),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",4),b["\u0275\u0275element"](12,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",5),b["\u0275\u0275elementStart"](16,"label",8),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"input",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.category=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"div",4),b["\u0275\u0275elementStart"](21,"div",5),b["\u0275\u0275elementStart"](22,"label",10),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"input",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.type=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"div",4),b["\u0275\u0275elementStart"](27,"div",5),b["\u0275\u0275elementStart"](28,"label",12),b["\u0275\u0275text"](29),b["\u0275\u0275pipe"](30,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.skill=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"div",3),b["\u0275\u0275elementStart"](33,"div",4),b["\u0275\u0275elementStart"](34,"div",5),b["\u0275\u0275elementStart"](35,"label",14),b["\u0275\u0275text"](36),b["\u0275\u0275pipe"](37,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"input",15),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.yearsofexperience=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"div",4),b["\u0275\u0275elementStart"](40,"div",5),b["\u0275\u0275elementStart"](41,"label",16),b["\u0275\u0275text"](42),b["\u0275\u0275pipe"](43,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"input",17),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.level=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"div",4),b["\u0275\u0275elementStart"](46,"div",5),b["\u0275\u0275elementStart"](47,"label",18),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"input",19),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.skillsource=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"div",3),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"div",5),b["\u0275\u0275elementStart"](54,"label",20),b["\u0275\u0275text"](55),b["\u0275\u0275pipe"](56,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](57,"input",21),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.appearsin=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"div",4),b["\u0275\u0275elementStart"](59,"div",5),b["\u0275\u0275elementStart"](60,"label",22),b["\u0275\u0275text"](61),b["\u0275\u0275pipe"](62,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](63,"textarea",23),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._skillT.notes=e}),b["\u0275\u0275text"](64,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](65,"div",4),b["\u0275\u0275elementStart"](66,"div",24),b["\u0275\u0275template"](67,tn,4,4,"button",25),b["\u0275\u0275elementStart"](68,"button",26),b["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),b["\u0275\u0275text"](69),b["\u0275\u0275pipe"](70,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](71,nn,3,4,"button",27),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](72,"div",0),b["\u0275\u0275template"](73,an,10,7,"section",28),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,22,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._skillT.code),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](18,24,"category")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._skillT.category),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](24,26,"type")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._skillT.type),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](30,28,"skill")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._skillT.skill),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](37,30,"yearsofexperience")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._skillT.yearsofexperience),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](43,32,"level")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._skillT.level),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,34,"skillsource")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._skillT.skillsource),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](56,36,"appearsin")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._skillT.appearsin),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](62,38,"notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._skillT.notes),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](70,40,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._skillT.id>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,o.O5,k.u],pipes:[h.X$],styles:[""]}),e}(),ln=function e(){i(this,e),this.id=0,this.code="",this.source="",this.fromdate=null,this.todate=null,this.coursetypeid=null,this.othercoursetype="",this.coursenameid=null,this.othercoursename="",this.value=null,this.numberofhours=null,this.trainingside="",this.programtype="",this.programstatus="",this.lecturer="",this.trainingsite="",this.trainingfunder="",this.countryid=null,this.governorateid=null,this.trainingactionplan="",this.appearsin="",this.description="",this.location="",this.notes="",this.subsidaryid=null},on=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAll",value:function(e,t,n){var a="/EmployeeTrainings/GetAll?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeTraining",value:function(e,t){return this.http.get(this.baseUrl+"/EmployeeTrainings/CountOfEmployeeTraining?searchValue=".concat(e,"&subsidaryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e){return this.http.get(this.baseUrl+"/EmployeeTrainings/GetMaxCode?subsidaryid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"Delete",value:function(e){return this.http.get(this.baseUrl+"/EmployeeTrainings/Delete?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeTraining",value:function(e){return this.http.post("".concat(this.baseUrl,"/EmployeeTrainings/Create"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeTraining",value:function(e){return this.http.post(this.baseUrl+"/EmployeeTrainings/Update",e).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),sn=r(52572),cn=r(18850);function dn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function mn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function pn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",60),b["\u0275\u0275template"](1,dn,2,1,"div",59),b["\u0275\u0275template"](2,mn,2,1,"div",59),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function un(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function yn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function hn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",60),b["\u0275\u0275template"](1,un,2,1,"div",59),b["\u0275\u0275template"](2,yn,2,1,"div",59),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function vn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",16),b["\u0275\u0275text"](1,"choose"),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function gn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",16),b["\u0275\u0275text"](1,"\u0627\u062e\u062a\u0631"),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function fn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.countryname,"")}}function Sn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.countryname_ar,"")}}function bn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",60),b["\u0275\u0275template"](1,fn,2,1,"span",59),b["\u0275\u0275template"](2,Sn,2,1,"span",59),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function En(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",16),b["\u0275\u0275text"](1," choose "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function xn(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"option",16),b["\u0275\u0275text"](1," \u0627\u062e\u062a\u0631 "),b["\u0275\u0275elementEnd"]()),2&e&&b["\u0275\u0275property"]("ngValue",null)}function Cn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name,"")}}function Dn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar,"")}}function _n(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",60),b["\u0275\u0275template"](1,Cn,2,1,"span",59),b["\u0275\u0275template"](2,Dn,2,1,"span",59),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang)}}function In(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",61),b["\u0275\u0275element"](1,"i",62),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function wn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",57),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]();return e.DeleteTraining(e._trainingT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function kn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",63),b["\u0275\u0275elementStart"](2,"div",64),b["\u0275\u0275elementStart"](3,"div",65),b["\u0275\u0275elementStart"](4,"h6",66),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",67),b["\u0275\u0275elementStart"](8,"div",68),b["\u0275\u0275elementStart"](9,"app-Matix-table",69),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeTrainingSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeTrainingSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"EmployeeTraining")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeTrainingList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var Tn=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._employeeTrainingsService=m,this._coursesTypesService=p,this._trainingCoursesNamesService=u,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"trainingcoursesname_ar",sortByEn:"trainingcoursesname_en",displayName:"coursenameid"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._trainingT=new ln,this.EmployeeTrainingList=[],this.CoursesTypeList=[],this.CoursesNameList=[],this.CountryList=[],this.GovernorateList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(function(e){y.Cancel=e.Cancel,y.checkname=e.checkname,y.swalDeleteTitle=e.swalDeleteTitle,y.swalDetlateText=e.swalDetlateText,y.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,y.toastrSuccessDelete=e.successMsg,y.emptyerror=e.emptyerror,y.DeleteRelationmsg=e.DeleteRelationmsg,y.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){y.EmployeeID=e.id,y.showmood=null!=e.show&&"show"==e.show&&y.EmployeeID>0,y.Country(),y.GetCoursesType(),y.GetData()})}return l(e,[{key:"Country",value:function(){var e=this;this._employeesService.Countries().subscribe(function(t){e.CountryList=t,e.cd.markForCheck()},function(t){console.log("-> err",t),e.toastr.error(e.translate.instant("InternalServerError")),e.cd.markForCheck()})}},{key:"GovernorateByCountryID",value:function(){var e=this;this._employeesService.GovernorateByCountryID(this._trainingT.countryid).subscribe(function(t){e.GovernorateList=t,e.cd.markForCheck()},function(t){console.log("-> err",t),e.toastr.error(e.translate.instant("InternalServerError")),e.cd.markForCheck()})}},{key:"ChangeCountry",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.GovernorateList=[],1==e&&(this._trainingT.governorateid=null),this.GovernorateByCountryID()}},{key:"GetCoursesType",value:function(){var e=this;this._coursesTypesService.GetAllForDropdown().subscribe(function(t){e.CoursesTypeList=t,e.cd.markForCheck()})}},{key:"GetCoursesName",value:function(){var e=this;this._trainingCoursesNamesService.GetAllForDropdown(this._trainingT.coursetypeid).subscribe(function(t){e.CoursesNameList=t,e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){this.GetList()}},{key:"GetList",value:function(){var e=this;this._employeeTrainingsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(t){e.EmployeeTrainingList=t,e.cd.markForCheck()}),this._employeeTrainingsService.CountOfEmployeeTraining("",this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t?this._employeeTrainingsService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._trainingT.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e.cd.markForCheck()}):this._trainingT=this.EmployeeTrainingList.find(function(e){return e.id==t})}},{key:"EmployeeTrainingSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeTrainingsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeTrainingList=e,t.cd.markForCheck()}),this._employeeTrainingsService.CountOfEmployeeTraining(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeTrainingSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeTrainingsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeTrainingList=e,t.cd.markForCheck()}),this._employeeTrainingsService.CountOfEmployeeTraining(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"OnAdd",value:function(){this._trainingT=new ln,this.showmood=!1,this.GetData()}},{key:"OnEdit",value:function(e){this._trainingT=new ln,this.showmood=!1,this.GetData(e)}},{key:"OnShow",value:function(e){this._trainingT=new ln,this.showmood=!0,this.GetData(e)}},{key:"CancelForm",value:function(){this._trainingT=new ln,this.GetData()}},{key:"DeleteTraining",value:function(e){var t=this;R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeeTrainingsService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t._trainingT=new ln,t.showmood=!1,t.GetList()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._trainingT.employeeid=this.EmployeeID,this._trainingT.subsidaryid=this.subsidiaryID,this._trainingT.id>0?this._employeeTrainingsService.UpdateEmployeeTraining(this._trainingT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()}):this._employeeTrainingsService.CreateEmployeeTraining(this._trainingT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](on),b["\u0275\u0275directiveInject"](sn.D),b["\u0275\u0275directiveInject"](cn.q))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-trainings-form"]],decls:180,vars:120,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","source",1,"col-form-label"],["type","text","name","source",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],["id","coursetypeid",1,"col-form-label"],["name","coursetypeid",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","othercoursetype",1,"col-form-label"],["type","text","name","othercoursetype",1,"form-control",3,"ngModel","ngModelChange"],["id","coursenameid",1,"col-form-label"],["name","coursenameid",1,"form-control",3,"ngModel","ngModelChange"],["id","othercoursename",1,"col-form-label"],["type","text","name","othercoursename",1,"form-control",3,"ngModel","ngModelChange"],["id","value",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","value",1,"form-control",3,"ngModel","ngModelChange"],["id","numberofhours",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","numberofhours",1,"form-control",3,"ngModel","ngModelChange"],["id","trainingside",1,"col-form-label"],["type","text","name","trainingside",1,"form-control",3,"ngModel","ngModelChange"],["id","programtype",1,"col-form-label"],["type","text","name","programtype",1,"form-control",3,"ngModel","ngModelChange"],["id","programstatus",1,"col-form-label"],["type","text","name","programstatus",1,"form-control",3,"ngModel","ngModelChange"],["id","lecturer",1,"col-form-label"],["type","text","name","lecturer",1,"form-control",3,"ngModel","ngModelChange"],["id","trainingsite",1,"col-form-label"],["type","text","name","trainingsite",1,"form-control",3,"ngModel","ngModelChange"],["id","trainingfunder",1,"col-form-label"],["type","text","name","trainingfunder",1,"form-control",3,"ngModel","ngModelChange"],["for","CountryId",1,"control-label"],["name","countryid",1,"form-control",3,"ngModel","change","ngModelChange"],[3,"ngValue",4,"ngIf"],["for","GovernorateId",1,"control-label"],["name","GovernorateId",1,"form-control",3,"ngModel","ngModelChange"],["id","trainingactionplan",1,"col-form-label"],["type","text","name","trainingactionplan",1,"form-control",3,"ngModel","ngModelChange"],["id","appearsin",1,"col-form-label"],["type","text","name","appearsin",1,"form-control",3,"ngModel","ngModelChange"],["id","description",1,"col-form-label"],["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],["id","location",1,"col-form-label"],["type","text","name","location",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"form",1,2),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return t.onSave(e)}),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"label",6),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",4),b["\u0275\u0275element"](12,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",5),b["\u0275\u0275elementStart"](16,"label",8),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"input",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.source=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"div",4),b["\u0275\u0275elementStart"](21,"div",5),b["\u0275\u0275elementStart"](22,"label",10),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"input",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.fromdate=e}),b["\u0275\u0275pipe"](26,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"div",4),b["\u0275\u0275elementStart"](28,"div",5),b["\u0275\u0275elementStart"](29,"label",12),b["\u0275\u0275text"](30),b["\u0275\u0275pipe"](31,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.todate=e}),b["\u0275\u0275pipe"](33,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](34,"div",3),b["\u0275\u0275elementStart"](35,"div",4),b["\u0275\u0275elementStart"](36,"div",5),b["\u0275\u0275elementStart"](37,"label",14),b["\u0275\u0275text"](38),b["\u0275\u0275pipe"](39,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](40,"select",15),b["\u0275\u0275listener"]("change",function(){return t.GetCoursesName()})("ngModelChange",function(e){return t._trainingT.coursetypeid=e}),b["\u0275\u0275elementStart"](41,"option",16),b["\u0275\u0275text"](42),b["\u0275\u0275pipe"](43,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](44,pn,3,3,"option",17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"div",4),b["\u0275\u0275elementStart"](46,"div",5),b["\u0275\u0275elementStart"](47,"label",18),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"input",19),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.othercoursetype=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"div",4),b["\u0275\u0275elementStart"](52,"div",5),b["\u0275\u0275elementStart"](53,"label",20),b["\u0275\u0275text"](54),b["\u0275\u0275pipe"](55,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](56,"select",21),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.coursenameid=e}),b["\u0275\u0275elementStart"](57,"option",16),b["\u0275\u0275text"](58),b["\u0275\u0275pipe"](59,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](60,hn,3,3,"option",17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](61,"div",3),b["\u0275\u0275elementStart"](62,"div",4),b["\u0275\u0275elementStart"](63,"div",5),b["\u0275\u0275elementStart"](64,"label",22),b["\u0275\u0275text"](65),b["\u0275\u0275pipe"](66,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](67,"input",23),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.othercoursename=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](68,"div",4),b["\u0275\u0275elementStart"](69,"div",5),b["\u0275\u0275elementStart"](70,"label",24),b["\u0275\u0275text"](71),b["\u0275\u0275pipe"](72,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](73,"input",25),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.value=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](74,"div",4),b["\u0275\u0275elementStart"](75,"div",5),b["\u0275\u0275elementStart"](76,"label",26),b["\u0275\u0275text"](77),b["\u0275\u0275pipe"](78,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](79,"input",27),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.numberofhours=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](80,"div",3),b["\u0275\u0275elementStart"](81,"div",4),b["\u0275\u0275elementStart"](82,"div",5),b["\u0275\u0275elementStart"](83,"label",28),b["\u0275\u0275text"](84),b["\u0275\u0275pipe"](85,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](86,"input",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.trainingside=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](87,"div",4),b["\u0275\u0275elementStart"](88,"div",5),b["\u0275\u0275elementStart"](89,"label",30),b["\u0275\u0275text"](90),b["\u0275\u0275pipe"](91,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](92,"input",31),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.programtype=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](93,"div",4),b["\u0275\u0275elementStart"](94,"div",5),b["\u0275\u0275elementStart"](95,"label",32),b["\u0275\u0275text"](96),b["\u0275\u0275pipe"](97,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](98,"input",33),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.programstatus=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](99,"div",3),b["\u0275\u0275elementStart"](100,"div",4),b["\u0275\u0275elementStart"](101,"div",5),b["\u0275\u0275elementStart"](102,"label",34),b["\u0275\u0275text"](103),b["\u0275\u0275pipe"](104,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](105,"input",35),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.lecturer=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](106,"div",4),b["\u0275\u0275elementStart"](107,"div",5),b["\u0275\u0275elementStart"](108,"label",36),b["\u0275\u0275text"](109),b["\u0275\u0275pipe"](110,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](111,"input",37),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.trainingsite=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](112,"div",4),b["\u0275\u0275elementStart"](113,"div",5),b["\u0275\u0275elementStart"](114,"label",38),b["\u0275\u0275text"](115),b["\u0275\u0275pipe"](116,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](117,"input",39),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.trainingfunder=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](118,"div",3),b["\u0275\u0275elementStart"](119,"div",4),b["\u0275\u0275elementStart"](120,"div",5),b["\u0275\u0275elementStart"](121,"label",40),b["\u0275\u0275text"](122),b["\u0275\u0275pipe"](123,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](124,"select",41),b["\u0275\u0275listener"]("change",function(){return t.ChangeCountry()})("ngModelChange",function(e){return t._trainingT.countryid=e}),b["\u0275\u0275template"](125,vn,2,1,"option",42),b["\u0275\u0275template"](126,gn,2,1,"option",42),b["\u0275\u0275template"](127,bn,3,3,"option",17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](128,"div",4),b["\u0275\u0275elementStart"](129,"div",5),b["\u0275\u0275elementStart"](130,"label",43),b["\u0275\u0275text"](131),b["\u0275\u0275pipe"](132,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](133,"select",44),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.governorateid=e}),b["\u0275\u0275template"](134,En,2,1,"option",42),b["\u0275\u0275template"](135,xn,2,1,"option",42),b["\u0275\u0275template"](136,_n,3,3,"option",17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](137,"div",4),b["\u0275\u0275elementStart"](138,"div",5),b["\u0275\u0275elementStart"](139,"label",45),b["\u0275\u0275text"](140),b["\u0275\u0275pipe"](141,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](142,"input",46),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.trainingactionplan=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](143,"div",3),b["\u0275\u0275elementStart"](144,"div",4),b["\u0275\u0275elementStart"](145,"div",5),b["\u0275\u0275elementStart"](146,"label",47),b["\u0275\u0275text"](147),b["\u0275\u0275pipe"](148,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](149,"input",48),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.appearsin=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](150,"div",4),b["\u0275\u0275elementStart"](151,"div",5),b["\u0275\u0275elementStart"](152,"label",49),b["\u0275\u0275text"](153),b["\u0275\u0275pipe"](154,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](155,"input",50),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.description=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](156,"div",4),b["\u0275\u0275elementStart"](157,"div",5),b["\u0275\u0275elementStart"](158,"label",51),b["\u0275\u0275text"](159),b["\u0275\u0275pipe"](160,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](161,"input",52),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.location=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](162,"div",3),b["\u0275\u0275elementStart"](163,"div",4),b["\u0275\u0275elementStart"](164,"div",5),b["\u0275\u0275elementStart"](165,"label",53),b["\u0275\u0275text"](166),b["\u0275\u0275pipe"](167,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](168,"textarea",54),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._trainingT.notes=e}),b["\u0275\u0275text"](169,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](170,"div",4),b["\u0275\u0275elementStart"](171,"div",4),b["\u0275\u0275elementStart"](172,"div",55),b["\u0275\u0275template"](173,In,4,4,"button",56),b["\u0275\u0275elementStart"](174,"button",57),b["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),b["\u0275\u0275text"](175),b["\u0275\u0275pipe"](176,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](177,wn,3,4,"button",58),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](178,"div",0),b["\u0275\u0275template"](179,kn,10,7,"section",59),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,62,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.code),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](18,64,"source")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.source),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](24,66,"fromdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](26,68,t._trainingT.fromdate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](31,71,"todate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](33,73,t._trainingT.todate,"yyyy-MM-dd")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](39,76,"coursetypeid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.coursetypeid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](43,78,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.CoursesTypeList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,80,"othercoursetype")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.othercoursetype),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](55,82,"coursenameid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.coursenameid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](59,84,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.CoursesNameList),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](66,86,"othercoursename")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.othercoursename),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](72,88,"value")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.value),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](78,90,"numberofhours")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.numberofhours),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](85,92,"trainingside")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.trainingside),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](91,94,"programtype")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.programtype),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](97,96,"programstatus")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.programstatus),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](104,98,"lecturer")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.lecturer),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](110,100,"trainingsite")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.trainingsite),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](116,102,"trainingfunder")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.trainingfunder),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](123,104,"Country")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.countryid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.CountryList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](132,106,"State")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.governorateid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang&&t.GovernorateList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==t.lang&&t.GovernorateList.length>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.GovernorateList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](141,108,"trainingactionplan")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.trainingactionplan),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](148,110,"appearsin")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.appearsin),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](154,112,"description")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.description),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](160,114,"location")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.location),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](167,116,"notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._trainingT.notes),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](176,118,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._trainingT.id>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.EJ,d.YN,d.Kr,o.sg,ft.L,o.O5,k.u],pipes:[h.X$,o.uU],styles:[""]}),e}(),Mn=function e(){i(this,e),this.code="",this.fromdate=null,this.todate=null,this.type="",this.name="",this.issuedate=null,this.serialnumber="",this.degree="",this.certificatenumber="",this.appearsin="",this.notes="",this.status=null,this.subsidaryid=null},Bn=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAll",value:function(e,t,n){var a="/EmployeeExperienceCertificates/GetAll?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeExperienceCertificate",value:function(e,t){return this.http.get(this.baseUrl+"/EmployeeExperienceCertificates/CountOfEmployeeExperienceCertificate?searchValue=".concat(e,"&subsidaryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e){return this.http.get(this.baseUrl+"/EmployeeExperienceCertificates/GetMaxCode?subsidaryid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"Delete",value:function(e){return this.http.get(this.baseUrl+"/EmployeeExperienceCertificates/Delete?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeExperienceCertificate",value:function(e){return this.http.post("".concat(this.baseUrl,"/EmployeeExperienceCertificates/Create"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeExperienceCertificate",value:function(e){return this.http.post(this.baseUrl+"/EmployeeExperienceCertificates/Update",e).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function Fn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",39),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function Hn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",39),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Rn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"label",36),b["\u0275\u0275elementStart"](1,"input",37),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._experienceCertificateT.status=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](2,Fn,2,1,"label",38),b["\u0275\u0275template"](3,Hn,2,1,"label",38),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("value",a.id)("ngModel",i._experienceCertificateT.status),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang)}}function On(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",40),b["\u0275\u0275element"](1,"i",41),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Vn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",33),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]();return e.DeleteExperienceCertificate(e._experienceCertificateT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function An(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",42),b["\u0275\u0275elementStart"](2,"div",43),b["\u0275\u0275elementStart"](3,"div",44),b["\u0275\u0275elementStart"](4,"h6",45),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",46),b["\u0275\u0275elementStart"](8,"div",47),b["\u0275\u0275elementStart"](9,"app-Matix-table",48),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeExperienceCertificateSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeExperienceCertificateSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"EmployeeExperienceCertificate")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeExperienceCertificateList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var Nn=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._employeeExperienceCertificatesService=m,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"type",sortByEn:"type",displayName:"type"},{sortByAr:"name",sortByEn:"name",displayName:"name"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._experienceCertificateT=new Mn,this.EmployeeExperienceCertificateList=[],this.ExperienceCertificatesStatuList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(function(e){p.Cancel=e.Cancel,p.checkname=e.checkname,p.swalDeleteTitle=e.swalDeleteTitle,p.swalDetlateText=e.swalDetlateText,p.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,p.toastrSuccessDelete=e.successMsg,p.emptyerror=e.emptyerror,p.DeleteRelationmsg=e.DeleteRelationmsg,p.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){p.EmployeeID=e.id,p.showmood=null!=e.show&&"show"==e.show&&p.EmployeeID>0,p.GetExperienceCertificatesStatus(),p.GetData()})}return l(e,[{key:"ngOnInit",value:function(){this.GetList()}},{key:"GetExperienceCertificatesStatus",value:function(){var e=this;this._employeesService.GetStaticValues("ExperienceCertificatesStatus").subscribe(function(t){e.ExperienceCertificatesStatuList=t,e.cd.markForCheck()})}},{key:"GetList",value:function(){var e=this;this._employeeExperienceCertificatesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(t){e.EmployeeExperienceCertificateList=t,e.cd.markForCheck()}),this._employeeExperienceCertificatesService.CountOfEmployeeExperienceCertificate("",this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t?this._employeeExperienceCertificatesService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._experienceCertificateT.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e.cd.markForCheck()}):this._experienceCertificateT=this.EmployeeExperienceCertificateList.find(function(e){return e.id==t})}},{key:"EmployeeExperienceCertificateSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeExperienceCertificatesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeExperienceCertificateList=e,t.cd.markForCheck()}),this._employeeExperienceCertificatesService.CountOfEmployeeExperienceCertificate(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeExperienceCertificateSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeExperienceCertificatesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeExperienceCertificateList=e,t.cd.markForCheck()}),this._employeeExperienceCertificatesService.CountOfEmployeeExperienceCertificate(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"OnAdd",value:function(){this._experienceCertificateT=new Mn,this.showmood=!1,this.GetData()}},{key:"OnEdit",value:function(e){this._experienceCertificateT=new Mn,this.showmood=!1,this.GetData(e)}},{key:"OnShow",value:function(e){this._experienceCertificateT=new Mn,this.showmood=!0,this.GetData(e)}},{key:"CancelForm",value:function(){this._experienceCertificateT=new Mn,this.GetData()}},{key:"DeleteExperienceCertificate",value:function(e){var t=this;R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeeExperienceCertificatesService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t._experienceCertificateT=new Mn,t.showmood=!1,t.GetList()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._experienceCertificateT.employeeid=this.EmployeeID,this._experienceCertificateT.subsidaryid=this.subsidiaryID,this._experienceCertificateT.id>0?this._employeeExperienceCertificatesService.UpdateEmployeeExperienceCertificate(this._experienceCertificateT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()}):this._employeeExperienceCertificatesService.CreateEmployeeExperienceCertificate(this._experienceCertificateT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](Bn))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-experience-certificates-form"]],decls:97,vars:63,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],["id","type",1,"col-form-label"],["type","text","name","type",1,"form-control",3,"ngModel","ngModelChange"],["id","name",1,"col-form-label"],["type","text","name","name",1,"form-control",3,"ngModel","ngModelChange"],["id","issuedate",1,"col-form-label"],["type","Date","id","issuedate","name","issuedate",1,"form-control",3,"ngModel","ngModelChange"],["id","serialnumber",1,"col-form-label"],["type","text","name","serialnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","degree",1,"col-form-label"],["type","text","name","degree",1,"form-control",3,"ngModel","ngModelChange"],["id","certificatenumber",1,"col-form-label"],["type","text","name","certificatenumber",1,"form-control",3,"ngModel","ngModelChange"],["id","appearsin",1,"col-form-label"],["type","text","name","appearsin",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],["for","posted",1,"ml-1"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[1,"mt-4"],["type","radio","name","status",3,"value","ngModel","ngModelChange"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"form",1,2),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return t.onSave(e)}),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"label",6),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",4),b["\u0275\u0275element"](12,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",5),b["\u0275\u0275elementStart"](16,"label",8),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"input",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.fromdate=e}),b["\u0275\u0275pipe"](20,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"div",4),b["\u0275\u0275elementStart"](22,"div",5),b["\u0275\u0275elementStart"](23,"label",10),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"input",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.todate=e}),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"div",4),b["\u0275\u0275elementStart"](29,"div",5),b["\u0275\u0275elementStart"](30,"label",12),b["\u0275\u0275text"](31),b["\u0275\u0275pipe"](32,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.type=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](34,"div",3),b["\u0275\u0275elementStart"](35,"div",4),b["\u0275\u0275elementStart"](36,"div",5),b["\u0275\u0275elementStart"](37,"label",14),b["\u0275\u0275text"](38),b["\u0275\u0275pipe"](39,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](40,"input",15),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.name=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"div",4),b["\u0275\u0275elementStart"](42,"div",5),b["\u0275\u0275elementStart"](43,"label",16),b["\u0275\u0275text"](44),b["\u0275\u0275pipe"](45,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](46,"input",17),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.issuedate=e}),b["\u0275\u0275pipe"](47,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](48,"div",4),b["\u0275\u0275elementStart"](49,"div",5),b["\u0275\u0275elementStart"](50,"label",18),b["\u0275\u0275text"](51),b["\u0275\u0275pipe"](52,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](53,"input",19),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.serialnumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](54,"div",3),b["\u0275\u0275elementStart"](55,"div",4),b["\u0275\u0275elementStart"](56,"div",5),b["\u0275\u0275elementStart"](57,"label",20),b["\u0275\u0275text"](58),b["\u0275\u0275pipe"](59,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](60,"input",21),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.degree=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](61,"div",4),b["\u0275\u0275elementStart"](62,"div",5),b["\u0275\u0275elementStart"](63,"label",22),b["\u0275\u0275text"](64),b["\u0275\u0275pipe"](65,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](66,"input",23),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.certificatenumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](67,"div",4),b["\u0275\u0275elementStart"](68,"div",5),b["\u0275\u0275elementStart"](69,"label",24),b["\u0275\u0275text"](70),b["\u0275\u0275pipe"](71,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](72,"input",25),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.appearsin=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](73,"div",3),b["\u0275\u0275elementStart"](74,"div",4),b["\u0275\u0275elementStart"](75,"div",5),b["\u0275\u0275elementStart"](76,"label",26),b["\u0275\u0275text"](77),b["\u0275\u0275pipe"](78,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](79,"textarea",27),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._experienceCertificateT.notes=e}),b["\u0275\u0275text"](80,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](81,"div",4),b["\u0275\u0275elementStart"](82,"div",5),b["\u0275\u0275elementStart"](83,"label",28),b["\u0275\u0275text"](84),b["\u0275\u0275pipe"](85,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](86,"label",29),b["\u0275\u0275template"](87,Rn,4,4,"label",30),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](88,"div",4),b["\u0275\u0275elementStart"](89,"div",31),b["\u0275\u0275template"](90,On,4,4,"button",32),b["\u0275\u0275elementStart"](91,"button",33),b["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),b["\u0275\u0275text"](92),b["\u0275\u0275pipe"](93,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](94,Vn,3,4,"button",34),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](95,"div",0),b["\u0275\u0275template"](96,An,10,7,"section",35),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,28,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceCertificateT.code),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](18,30,"fromdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](20,32,t._experienceCertificateT.fromdate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,35,"todate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](27,37,t._experienceCertificateT.todate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](32,40,"type")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceCertificateT.type),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](39,42,"name")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceCertificateT.name),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](45,44,"issuedate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](47,46,t._experienceCertificateT.issuedate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](52,49,"serialnumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceCertificateT.serialnumber),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](59,51,"degree")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceCertificateT.degree),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](65,53,"certificatenumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceCertificateT.certificatenumber),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](71,55,"appearsin")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceCertificateT.appearsin),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](78,57,"notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._experienceCertificateT.notes),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](85,59,"status")," : "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.ExperienceCertificatesStatuList),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](93,61,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._experienceCertificateT.id>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,o.sg,o.O5,d._,k.u],pipes:[h.X$,o.uU],styles:[""]}),e}(),Gn=function e(){i(this,e),this.code="",this.typeid=null,this.enddate=null,this.issuedate=null,this.documentnumber="",this.notes="",this.subsidaryid=null,this.imagepaths=[]},Pn=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAll",value:function(e,t,n){var a="/EmployeeDocuments/GetAll?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeDocument",value:function(e,t){return this.http.get(this.baseUrl+"/EmployeeDocuments/CountOfEmployeeDocument?searchValue=".concat(e,"&subsidaryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e){return this.http.get(this.baseUrl+"/EmployeeDocuments/GetMaxCode?subsidaryid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"Delete",value:function(e){return this.http.get(this.baseUrl+"/EmployeeDocuments/Delete?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeDocument",value:function(e){return this.http.post("".concat(this.baseUrl,"/EmployeeDocuments/Create"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeDocument",value:function(e){return this.http.post(this.baseUrl+"/EmployeeDocuments/Update",e).pipe((0,ht.U)(function(e){return e}))}},{key:"UploadFile",value:function(e){return this.http.post(this.baseUrl+"/EmployeeDocuments/UploadFile",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeDocumentAttachments",value:function(e){return this.http.get(this.baseUrl+"/EmployeeDocuments/GetEmployeeDocumentAttachments?employeedocumentid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),jn=r(58741);function Un(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Ln(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Jn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",34),b["\u0275\u0275template"](1,Un,2,1,"div",33),b["\u0275\u0275template"](2,Ln,2,1,"div",33),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function zn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementContainerStart"](0,3),b["\u0275\u0275element"](1,"img",35),b["\u0275\u0275elementStart"](2,"button",36),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).$implicit;return b["\u0275\u0275nextContext"]().onDeleteImage(e)}),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275element"](4,"i",37),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("src",a,b["\u0275\u0275sanitizeUrl"]),b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate"]("title",b["\u0275\u0275pipeBind1"](3,2,"delete"))}}function $n(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",38),b["\u0275\u0275element"](1,"i",39),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Yn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",31),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]();return e.DeleteDocument(e._documentT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function qn(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",40),b["\u0275\u0275elementStart"](2,"div",41),b["\u0275\u0275elementStart"](3,"div",42),b["\u0275\u0275elementStart"](4,"h6",43),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",44),b["\u0275\u0275elementStart"](8,"div",45),b["\u0275\u0275elementStart"](9,"app-Matix-table",46),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeDocumentSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeDocumentSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"EmployeeDocument")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeDocumentList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var Qn=function(){var t=function(){function t(e,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,t),this.router=e,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._employeeDocumentsService=m,this._documentTypesService=p,this._DocumentsCategoryService=u,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this.attachments=[],this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"documenttypename_ar",sortByEn:"documenttypename_en",displayName:"documenttypeid"},{sortByAr:"issuedatestring",sortByEn:"issuedatestring",displayName:"issuedate"},{sortByAr:"enddatestring",sortByEn:"enddatestring",displayName:"documentenddate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._documentT=new Gn,this.EmployeeDocumentList=[],this.DocumentTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(function(e){y.Cancel=e.Cancel,y.checkname=e.checkname,y.swalDeleteTitle=e.swalDeleteTitle,y.swalDetlateText=e.swalDetlateText,y.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,y.toastrSuccessDelete=e.successMsg,y.emptyerror=e.emptyerror,y.DeleteRelationmsg=e.DeleteRelationmsg,y.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){y.EmployeeID=e.id,y.showmood=null!=e.show&&"show"==e.show&&y.EmployeeID>0,y.GetDocumentType(),y.GetData()})}return l(t,[{key:"GetDocumentType",value:function(){var e=this;this._documentTypesService.GetAllForDropdown().subscribe(function(t){e.DocumentTypeList=t,e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){this.GetList()}},{key:"GetList",value:function(){var e=this;this._employeeDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(t){e.EmployeeDocumentList=t,e.cd.markForCheck()}),this._employeeDocumentsService.CountOfEmployeeDocument("",this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t?this._employeeDocumentsService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._documentT.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e.cd.markForCheck()}):(this._documentT=this.EmployeeDocumentList.find(function(e){return e.id==t}),this._documentT.imagepaths=[],this._employeeDocumentsService.GetEmployeeDocumentAttachments(t).subscribe(function(t){if(t.length>0)for(var n=0;n<t.length;n++)e._documentT.imagepaths.push(t[n].imagepath),e.GetImage(t[n].imagepath);e.cd.markForCheck()}))}},{key:"EmployeeDocumentSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeDocumentList=e,t.cd.markForCheck()}),this._employeeDocumentsService.CountOfEmployeeDocument(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeDocumentSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeDocumentList=e,t.cd.markForCheck()}),this._employeeDocumentsService.CountOfEmployeeDocument(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"OnAdd",value:function(){this._documentT=new Gn,this.previews=null,this.showmood=!1,this.GetData()}},{key:"OnEdit",value:function(e){this._documentT=new Gn,this.previews=null,this.showmood=!1,this.GetData(e)}},{key:"OnShow",value:function(e){this._documentT=new Gn,this.previews=null,this.showmood=!0,this.GetData(e)}},{key:"CancelForm",value:function(){this._documentT=new Gn,this.previews=null,this.GetData()}},{key:"DeleteDocument",value:function(e){var t=this;R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeeDocumentsService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t._documentT=new Gn,t.previews=null,t.showmood=!1,t.GetList()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){this.attachments.length>0?this.UploadPhoto():this.FinalSave()}},{key:"UploadPhoto",value:function(){for(var e=this,t=0;t<this.attachments.length;t++){var n=new FormData;n.append("FileSend",this.attachments[t]),this._employeeDocumentsService.UploadFile(n).subscribe(function(t){null!=t&&null!=t&&(e._documentT.imagepaths.push(t.filepath),e._documentT.imagepaths.length==e.previews.length&&(e.FinalSave(),e.cd.markForCheck()))})}}},{key:"FinalSave",value:function(){var e=this;this._documentT.employeeid=this.EmployeeID,this._documentT.subsidaryid=this.subsidiaryID,this._documentT.id>0?this._employeeDocumentsService.UpdateEmployeeDocument(this._documentT).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.CancelForm(),e.GetList()}):this._employeeDocumentsService.CreateEmployeeDocument(this._documentT).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.CancelForm(),e.GetList()})}},{key:"previewImage",value:function(e){var t=this;if(this.selectedFiles=e.target.files,this.selectedFiles&&this.selectedFiles[0])for(var n=this.selectedFiles.length,a=0;a<n;a++){var i=new FileReader;i.onload=function(e){t.previews&&t.previews.length>0||(t.previews=[]),t.previews.push(e.target.result)},i.readAsDataURL(this.selectedFiles[a])}this.cd.markForCheck()}},{key:"fileChange",value:function(t){if(t.length>0&&null!=t[0])if(this.attachments&&this.attachments.length>0)this.attachments.push(t);else{this.attachments=[];var n,a=e(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;this.attachments.push(i)}}catch(r){a.e(r)}finally{a.f()}}this.cd.markForCheck()}},{key:"onDeleteImage",value:function(e){var t=this.previews.find(function(t){return t==e}),n=this.previews.indexOf(t);this.previews.splice(n,1),this.attachments.splice(n,1),this._documentT.imagepaths.splice(n,1),this.cd.markForCheck()}},{key:"GetImage",value:function(e){var t=this;this._DocumentsCategoryService.GetImage(e).subscribe(function(e){null!=e&&(t.createImageFromBlob(e),t.cd.markForCheck())},function(e){console.log(e)})}},{key:"createImageFromBlob",value:function(e){var t=this,n=new FileReader;console.log(n),n.addEventListener("load",function(){t.previews&&t.previews.length>0||(t.previews=[]),t.previews.push(n.result),t.cd.markForCheck()},!1),e&&n.readAsDataURL(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](Pn),b["\u0275\u0275directiveInject"](jn.T),b["\u0275\u0275directiveInject"](V.F))},t.\u0275cmp=b["\u0275\u0275defineComponent"]({type:t,selectors:[["app-documents-form"]],decls:75,vars:45,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","typeid",1,"col-form-label"],["name","typeid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","issuedate",1,"col-form-label"],["type","Date","id","issuedate","name","issuedate",1,"form-control",3,"ngModel","ngModelChange"],["id","enddate",1,"col-form-label"],["type","Date","id","enddate","name","enddate",1,"form-control",3,"ngModel","ngModelChange"],["id","documentnumber",1,"col-form-label"],["type","text","name","documentnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","30px"],["id","attachment",1,"col-form-label"],["type","button",1,"add-photo",3,"change"],["accept",".jpg, .png, .jpeg, .gif|image/*","id","file","multiple","multiple","name","file","type","file",2,"display","none","border","none",3,"change"],["fileupload",""],["for","file",1,"text-white","m-0"],[1,"fa","fa-camera","camera"],[1,"col-lg-8","col-md-8","col-sm-12","mb-2","mb-md-0"],["class","row",4,"ngFor","ngForOf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["alt","...",1,"preview",2,"height","100px","width","100px",3,"src"],[1,"col-1","delete-img",3,"title","click"],[1,"fa","fa-times","danger"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"form",1,2),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return t.onSave(e)}),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"label",6),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",4),b["\u0275\u0275element"](12,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",5),b["\u0275\u0275elementStart"](16,"label",8),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"select",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.typeid=e}),b["\u0275\u0275elementStart"](20,"option",10),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](23,Jn,3,3,"option",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"div",4),b["\u0275\u0275elementStart"](25,"div",5),b["\u0275\u0275elementStart"](26,"label",12),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.issuedate=e}),b["\u0275\u0275pipe"](30,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"div",4),b["\u0275\u0275elementStart"](32,"div",5),b["\u0275\u0275elementStart"](33,"label",14),b["\u0275\u0275text"](34),b["\u0275\u0275pipe"](35,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"input",15),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.enddate=e}),b["\u0275\u0275pipe"](37,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"div",3),b["\u0275\u0275elementStart"](39,"div",4),b["\u0275\u0275elementStart"](40,"div",5),b["\u0275\u0275elementStart"](41,"label",16),b["\u0275\u0275text"](42),b["\u0275\u0275pipe"](43,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"input",17),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.documentnumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"div",4),b["\u0275\u0275elementStart"](46,"div",5),b["\u0275\u0275elementStart"](47,"label",18),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"textarea",19),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.notes=e}),b["\u0275\u0275text"](51,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"div",20),b["\u0275\u0275elementStart"](54,"label",21),b["\u0275\u0275text"](55),b["\u0275\u0275pipe"](56,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](57,"button",22),b["\u0275\u0275listener"]("change",function(e){return t.previewImage(e)}),b["\u0275\u0275elementStart"](58,"input",23,24),b["\u0275\u0275listener"]("change",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](59);return t.fileChange(e.files)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](60,"label",25),b["\u0275\u0275element"](61,"i",26),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](62,"div",3),b["\u0275\u0275elementStart"](63,"div",27),b["\u0275\u0275elementStart"](64,"div",5),b["\u0275\u0275template"](65,zn,5,4,"ng-container",28),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](66,"div",4),b["\u0275\u0275elementStart"](67,"div",29),b["\u0275\u0275template"](68,$n,4,4,"button",30),b["\u0275\u0275elementStart"](69,"button",31),b["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),b["\u0275\u0275text"](70),b["\u0275\u0275pipe"](71,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](72,Yn,3,4,"button",32),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](73,"div",0),b["\u0275\u0275template"](74,qn,10,7,"section",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,21,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._documentT.code),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](18,23,"documenttypeid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._documentT.typeid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,25,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.DocumentTypeList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](28,27,"issuedate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](30,29,t._documentT.issuedate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](35,32,"documentenddate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](37,34,t._documentT.enddate,"yyyy-MM-dd")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](43,37,"documentnumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._documentT.documentnumber),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,39,"notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._documentT.notes),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](56,41,"attachment")),b["\u0275\u0275advance"](10),b["\u0275\u0275property"]("ngForOf",t.previews),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](71,43,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._documentT.id>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.EJ,d.YN,d.Kr,o.sg,o.O5,k.u],pipes:[h.X$,o.uU],styles:[".add-photo[_ngcontent-%COMP%]{border:0 solid #fff;background-color:transparent}.add-photo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}.preview[_ngcontent-%COMP%]{position:relative}.delete-img[_ngcontent-%COMP%]{background-color:#00000085;width:5%;padding:5px;left:100px;top:-30px;border:0}.camera[_ngcontent-%COMP%]{color:#999;font-size:22px}"]}),t}(),Kn=function e(){i(this,e),this.code="",this.custodydate=null,this.custodyenddate=null,this.dropdate=null,this.custodynameid=null,this.value="",this.number=null,this.description="",this.factorynumber="",this.site="",this.decreasing=!1,this.notes="",this.subsidaryid=null},Wn=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAll",value:function(e,t,n){var a="/EmployeeCustodies/GetAll?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeCustody",value:function(e,t){return this.http.get(this.baseUrl+"/EmployeeCustodies/CountOfEmployeeCustody?searchValue=".concat(e,"&subsidaryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e){return this.http.get(this.baseUrl+"/EmployeeCustodies/GetMaxCode?subsidaryid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"Delete",value:function(e){return this.http.get(this.baseUrl+"/EmployeeCustodies/Delete?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeCustody",value:function(e){return this.http.post("".concat(this.baseUrl,"/EmployeeCustodies/Create"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeCustody",value:function(e){return this.http.post(this.baseUrl+"/EmployeeCustodies/Update",e).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),Xn=r(23636);function Zn(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function ea(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function ta(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",38),b["\u0275\u0275template"](1,Zn,2,1,"div",37),b["\u0275\u0275template"](2,ea,2,1,"div",37),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function na(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",39),b["\u0275\u0275element"](1,"i",40),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function aa(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",35),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]();return e.DeleteCustody(e._custodyT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function ia(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",41),b["\u0275\u0275elementStart"](2,"div",42),b["\u0275\u0275elementStart"](3,"div",43),b["\u0275\u0275elementStart"](4,"h6",44),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",45),b["\u0275\u0275elementStart"](8,"div",46),b["\u0275\u0275elementStart"](9,"app-Matix-table",47),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeCustodySearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeCustodySort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"EmployeeCustody")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeCustodyList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var ra=function(){return{standalone:!0}},la=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p){var u=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._employeeCustodiesService=m,this._custodyNamesService=p,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"custodyname_ar",sortByEn:"custodyname_en",displayName:"custodynameid"},{sortByAr:"custodydatestring",sortByEn:"custodydatestring",displayName:"custodydate"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._custodyT=new Kn,this.EmployeeCustodyList=[],this.custodyNamesList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){u.lang=e.lang,u.dir=e.dir,u.translate.use(e.lang),u.ngTransUnsubscribe=u.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(function(e){u.Cancel=e.Cancel,u.checkname=e.checkname,u.swalDeleteTitle=e.swalDeleteTitle,u.swalDetlateText=e.swalDetlateText,u.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,u.toastrSuccessDelete=e.successMsg,u.emptyerror=e.emptyerror,u.DeleteRelationmsg=e.DeleteRelationmsg,u.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){u.EmployeeID=e.id,u.showmood=null!=e.show&&"show"==e.show&&u.EmployeeID>0,u.GetCustodyNames(),u.GetData()})}return l(e,[{key:"GetCustodyNames",value:function(){var e=this;this._custodyNamesService.GetAllForDropdown().subscribe(function(t){e.custodyNamesList=t,e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){this.GetList()}},{key:"GetList",value:function(){var e=this;this._employeeCustodiesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(t){e.EmployeeCustodyList=t,e.cd.markForCheck()}),this._employeeCustodiesService.CountOfEmployeeCustody("",this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t?this._employeeCustodiesService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._custodyT.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e.cd.markForCheck()}):this._custodyT=this.EmployeeCustodyList.find(function(e){return e.id==t})}},{key:"EmployeeCustodySearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeCustodiesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeCustodyList=e,t.cd.markForCheck()}),this._employeeCustodiesService.CountOfEmployeeCustody(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeCustodySort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeCustodiesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeCustodyList=e,t.cd.markForCheck()}),this._employeeCustodiesService.CountOfEmployeeCustody(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"OnAdd",value:function(){this._custodyT=new Kn,this.showmood=!1,this.GetData()}},{key:"OnEdit",value:function(e){this._custodyT=new Kn,this.showmood=!1,this.GetData(e)}},{key:"OnShow",value:function(e){this._custodyT=new Kn,this.showmood=!0,this.GetData(e)}},{key:"CancelForm",value:function(){this._custodyT=new Kn,this.GetData()}},{key:"DeleteCustody",value:function(e){var t=this;R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeeCustodiesService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t._custodyT=new Kn,t.showmood=!1,t.GetList()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._custodyT.employeeid=this.EmployeeID,this._custodyT.subsidaryid=this.subsidiaryID,this._custodyT.id>0?this._employeeCustodiesService.UpdateEmployeeCustody(this._custodyT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()}):this._employeeCustodiesService.CreateEmployeeCustody(this._custodyT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](Wn),b["\u0275\u0275directiveInject"](Xn.p))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-custodies-form"]],decls:101,vars:71,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","custodydate",1,"col-form-label"],["type","Date","id","custodydate","name","custodydate",1,"form-control",3,"ngModel","ngModelChange"],["id","custodyenddate",1,"col-form-label"],["type","Date","id","custodyenddate","name","custodyenddate",1,"form-control",3,"ngModel","ngModelChange"],["id","dropdate",1,"col-form-label"],["type","Date","id","dropdate","name","dropdate",1,"form-control",3,"ngModel","ngModelChange"],["id","custodynameid",1,"col-form-label"],["name","custodynameid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","value",1,"col-form-label"],["type","text","name","value",1,"form-control",3,"ngModel","ngModelChange"],["id","number",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","number",1,"form-control",3,"ngModel","ngModelChange"],["id","description",1,"col-form-label"],["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],["id","factorynumber",1,"col-form-label"],["type","text","name","factorynumber",1,"form-control",3,"ngModel","ngModelChange"],["id","site",1,"col-form-label"],["type","text","name","site",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","40px"],["type","checkbox","id","decreasing",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","decreasing"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"form",1,2),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return t.onSave(e)}),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"label",6),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",4),b["\u0275\u0275element"](12,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",5),b["\u0275\u0275elementStart"](16,"label",8),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"input",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.custodydate=e}),b["\u0275\u0275pipe"](20,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"div",4),b["\u0275\u0275elementStart"](22,"div",5),b["\u0275\u0275elementStart"](23,"label",10),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"input",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.custodyenddate=e}),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"div",4),b["\u0275\u0275elementStart"](29,"div",5),b["\u0275\u0275elementStart"](30,"label",12),b["\u0275\u0275text"](31),b["\u0275\u0275pipe"](32,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.dropdate=e}),b["\u0275\u0275pipe"](34,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"div",3),b["\u0275\u0275elementStart"](36,"div",4),b["\u0275\u0275elementStart"](37,"div",5),b["\u0275\u0275elementStart"](38,"label",14),b["\u0275\u0275text"](39),b["\u0275\u0275pipe"](40,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"select",15),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.custodynameid=e}),b["\u0275\u0275elementStart"](42,"option",16),b["\u0275\u0275text"](43),b["\u0275\u0275pipe"](44,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](45,ta,3,3,"option",17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](46,"div",4),b["\u0275\u0275elementStart"](47,"div",5),b["\u0275\u0275elementStart"](48,"label",18),b["\u0275\u0275text"](49),b["\u0275\u0275pipe"](50,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"input",19),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.value=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"div",5),b["\u0275\u0275elementStart"](54,"label",20),b["\u0275\u0275text"](55),b["\u0275\u0275pipe"](56,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](57,"input",21),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.number=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"div",3),b["\u0275\u0275elementStart"](59,"div",4),b["\u0275\u0275elementStart"](60,"div",5),b["\u0275\u0275elementStart"](61,"label",22),b["\u0275\u0275text"](62),b["\u0275\u0275pipe"](63,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](64,"input",23),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.description=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](65,"div",4),b["\u0275\u0275elementStart"](66,"div",5),b["\u0275\u0275elementStart"](67,"label",24),b["\u0275\u0275text"](68),b["\u0275\u0275pipe"](69,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](70,"input",25),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.factorynumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](71,"div",4),b["\u0275\u0275elementStart"](72,"div",5),b["\u0275\u0275elementStart"](73,"label",26),b["\u0275\u0275text"](74),b["\u0275\u0275pipe"](75,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](76,"input",27),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.site=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](77,"div",3),b["\u0275\u0275elementStart"](78,"div",4),b["\u0275\u0275elementStart"](79,"div",28),b["\u0275\u0275elementStart"](80,"input",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.decreasing=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](81,"label",30),b["\u0275\u0275elementStart"](82,"span"),b["\u0275\u0275text"](83),b["\u0275\u0275pipe"](84,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](85,"div",4),b["\u0275\u0275elementStart"](86,"div",5),b["\u0275\u0275elementStart"](87,"label",31),b["\u0275\u0275text"](88),b["\u0275\u0275pipe"](89,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](90,"textarea",32),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._custodyT.notes=e}),b["\u0275\u0275text"](91,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](92,"div",4),b["\u0275\u0275elementStart"](93,"div",33),b["\u0275\u0275template"](94,na,4,4,"button",34),b["\u0275\u0275elementStart"](95,"button",35),b["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),b["\u0275\u0275text"](96),b["\u0275\u0275pipe"](97,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](98,aa,3,4,"button",36),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](99,"div",0),b["\u0275\u0275template"](100,ia,10,7,"section",37),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,33,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._custodyT.code),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](18,35,"custodydate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](20,37,t._custodyT.custodydate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,40,"custodyenddate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](27,42,t._custodyT.custodyenddate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](32,45,"dropdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](34,47,t._custodyT.dropdate,"yyyy-MM-dd")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](40,50,"custodynameid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._custodyT.custodynameid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](44,52,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.custodyNamesList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](50,54,"value")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._custodyT.value),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](56,56,"number")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._custodyT.number),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](63,58,"description")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._custodyT.description),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](69,60,"factorynumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._custodyT.factorynumber),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](75,62,"site")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._custodyT.site),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("checked",t._custodyT.decreasing)("ngModelOptions",b["\u0275\u0275pureFunction0"](70,ra))("ngModel",t._custodyT.decreasing),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](84,64,"decreasing")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](89,66,"notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._custodyT.notes),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](97,68,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._custodyT.id>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.EJ,d.YN,d.Kr,o.sg,ft.L,d.Wl,o.O5,k.u],pipes:[h.X$,o.uU],styles:[""]}),e}(),oa=function e(){i(this,e),this.code="",this.date=null,this.note="",this.employeecomment="",this.subsidaryid=null},sa=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAll",value:function(e,t,n){var a="/EmployeeNotes/GetAll?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeNote",value:function(e,t){return this.http.get(this.baseUrl+"/EmployeeNotes/CountOfEmployeeNote?searchValue=".concat(e,"&subsidaryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e){return this.http.get(this.baseUrl+"/EmployeeNotes/GetMaxCode?subsidaryid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"Delete",value:function(e){return this.http.get(this.baseUrl+"/EmployeeNotes/Delete?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeNote",value:function(e){return this.http.post("".concat(this.baseUrl,"/EmployeeNotes/Create"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeNote",value:function(e){return this.http.post(this.baseUrl+"/EmployeeNotes/Update",e).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function ca(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",19),b["\u0275\u0275element"](1,"i",20),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function da(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",16),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]();return e.DeleteNote(e._noteT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function ma(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",21),b["\u0275\u0275elementStart"](2,"div",22),b["\u0275\u0275elementStart"](3,"div",23),b["\u0275\u0275elementStart"](4,"h6",24),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",25),b["\u0275\u0275elementStart"](8,"div",26),b["\u0275\u0275elementStart"](9,"app-Matix-table",27),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeNoteSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeNoteSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"EmployeeNotes")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeNoteList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var pa=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._employeeNotesService=m,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"datestring",sortByEn:"datestring",displayName:"date"},{sortByAr:"note",sortByEn:"note",displayName:"note"}],this.Permission={View:400,Add:401,Edit:402,Delete:403,Print:404,PDF:405,Excel:406},this._noteT=new oa,this.EmployeeNoteList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(function(e){p.Cancel=e.Cancel,p.checkname=e.checkname,p.swalDeleteTitle=e.swalDeleteTitle,p.swalDetlateText=e.swalDetlateText,p.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,p.toastrSuccessDelete=e.successMsg,p.emptyerror=e.emptyerror,p.DeleteRelationmsg=e.DeleteRelationmsg,p.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){p.EmployeeID=e.id,p.showmood=null!=e.show&&"show"==e.show&&p.EmployeeID>0,p.GetData()})}return l(e,[{key:"ngOnInit",value:function(){this.GetList()}},{key:"GetList",value:function(){var e=this;this._employeeNotesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(t){e.EmployeeNoteList=t,e.cd.markForCheck()}),this._employeeNotesService.CountOfEmployeeNote("",this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t?this._employeeNotesService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._noteT.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e.cd.markForCheck()}):this._noteT=this.EmployeeNoteList.find(function(e){return e.id==t})}},{key:"EmployeeNoteSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeNotesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeNoteList=e,t.cd.markForCheck()}),this._employeeNotesService.CountOfEmployeeNote(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeNoteSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeNotesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeNoteList=e,t.cd.markForCheck()}),this._employeeNotesService.CountOfEmployeeNote(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"OnAdd",value:function(){this._noteT=new oa,this.showmood=!1,this.GetData()}},{key:"OnEdit",value:function(e){this._noteT=new oa,this.showmood=!1,this.GetData(e)}},{key:"OnShow",value:function(e){this._noteT=new oa,this.showmood=!0,this.GetData(e)}},{key:"CancelForm",value:function(){this._noteT=new oa,this.GetData()}},{key:"DeleteNote",value:function(e){var t=this;R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeeNotesService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t._noteT=new oa,t.showmood=!1,t.GetList()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._noteT.employeeid=this.EmployeeID,this._noteT.subsidaryid=this.subsidiaryID,this._noteT.id>0?this._employeeNotesService.UpdateEmployeeNote(this._noteT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()}):this._employeeNotesService.CreateEmployeeNote(this._noteT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](sa))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-notes-form"]],decls:47,vars:25,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","date",1,"col-form-label"],["type","Date","id","date","name","date",1,"form-control",3,"ngModel","ngModelChange"],["id","note",1,"col-form-label"],["id","note","name","note",1,"form-control",3,"ngModel","ngModelChange"],["id","employeecomment",1,"col-form-label"],["id","employeecomment","name","employeecomment",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"form",1,2),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return t.onSave(e)}),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"label",6),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._noteT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",4),b["\u0275\u0275element"](12,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",5),b["\u0275\u0275elementStart"](16,"label",8),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"input",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._noteT.date=e}),b["\u0275\u0275pipe"](20,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"div",4),b["\u0275\u0275elementStart"](22,"div",5),b["\u0275\u0275elementStart"](23,"label",10),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"textarea",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._noteT.note=e}),b["\u0275\u0275text"](27,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"div",4),b["\u0275\u0275elementStart"](29,"div",5),b["\u0275\u0275elementStart"](30,"label",12),b["\u0275\u0275text"](31),b["\u0275\u0275pipe"](32,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"textarea",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._noteT.employeecomment=e}),b["\u0275\u0275text"](34,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"div",3),b["\u0275\u0275element"](36,"div",4),b["\u0275\u0275element"](37,"div",4),b["\u0275\u0275elementStart"](38,"div",4),b["\u0275\u0275elementStart"](39,"div",14),b["\u0275\u0275template"](40,ca,4,4,"button",15),b["\u0275\u0275elementStart"](41,"button",16),b["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),b["\u0275\u0275text"](42),b["\u0275\u0275pipe"](43,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](44,da,3,4,"button",17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"div",0),b["\u0275\u0275template"](46,ma,10,7,"section",18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,12,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._noteT.code),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](18,14,"date"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](20,16,t._noteT.date,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](25,19,"note")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._noteT.note),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](32,21,"employeecomment")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._noteT.employeecomment),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](43,23,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(401)||t.checkRoleParms(402))&&t._noteT.id>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,o.O5,k.u],pipes:[h.X$,o.uU],styles:[""]}),e}(),ua=function e(){i(this,e),this.entrycardnumber="",this.workinghourstype=null,this.shifttype="",this.shift=""};function ya(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",20),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function ha(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",20),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function va(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"label",17),b["\u0275\u0275elementStart"](1,"input",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.workinghourstype=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](2,ya,2,1,"label",19),b["\u0275\u0275template"](3,ha,2,1,"label",19),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("value",a.id)("ngModel",i._employeeT.workinghourstype),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang)}}function ga(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",21),b["\u0275\u0275element"](1,"i",22),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var fa=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d){var m=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.NumNotExist="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new ua,this._oldEmployeeT="",this.WorkingHoursTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","DataSavedsuccessfully","No","MissData","savedChanges","Yes"]).subscribe(function(e){m.Cancel=e.Cancel,m.checkname=e.checkname,m.DataSavedsuccessfully=e.DataSavedsuccessfully,m.Yes=e.Yes,m.No=e.No,m.MissData=e.MissData,m.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){m.EmployeeID=e.id,m.showmood=null!=e.show&&"show"==e.show&&m.EmployeeID>0,m.GetWorkingHoursTypes(),m.GetData()})}return l(e,[{key:"GetWorkingHoursTypes",value:function(){var e=this;this._employeesService.GetStaticValues("WorkingHoursTypes").subscribe(function(t){e.WorkingHoursTypeList=t,e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeesService.GetEmployeeShiftDetailsById(this.EmployeeID).subscribe(function(t){e._employeeT.id=e.EmployeeID,e._employeeT.entrycardnumber=t.entrycardnumber,e._employeeT.workinghourstype=t.workinghourstype,e._employeeT.shifttype=t.shifttype,e._employeeT.shift=t.shift,e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.id>0&&this._employeesService.UpdateEmployeeShiftDetails(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)})}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("page/hr/manageemployee/employees")}):this.router.navigateByUrl("page/hr/manageemployee/employees")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-shift-details-form"]],decls:37,vars:20,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","entrycardnumber",1,"col-form-label"],["type","text","name","entrycardnumber",1,"form-control",3,"ngModel","ngModelChange"],["for","posted",1,"ml-1"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],["id","shifttype",1,"col-form-label"],["type","text","name","shifttype",1,"form-control",3,"ngModel","ngModelChange"],["id","shift",1,"col-form-label"],["type","text","name","shift",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[1,"mt-4"],["type","radio","name","workinghourstype",3,"value","ngModel","ngModelChange"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"input",6),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.entrycardnumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",3),b["\u0275\u0275elementStart"](11,"div",4),b["\u0275\u0275elementStart"](12,"label",7),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"label",8),b["\u0275\u0275template"](16,va,4,4,"label",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"div",3),b["\u0275\u0275elementStart"](18,"div",4),b["\u0275\u0275elementStart"](19,"label",10),b["\u0275\u0275text"](20),b["\u0275\u0275pipe"](21,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"input",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.shifttype=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"div",2),b["\u0275\u0275elementStart"](24,"div",3),b["\u0275\u0275elementStart"](25,"div",4),b["\u0275\u0275elementStart"](26,"label",12),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.shift=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](30,"div",3),b["\u0275\u0275elementStart"](31,"div",3),b["\u0275\u0275elementStart"](32,"div",14),b["\u0275\u0275template"](33,ga,4,4,"button",15),b["\u0275\u0275elementStart"](34,"a",16),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](35),b["\u0275\u0275pipe"](36,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](8,10,"entrycardnumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.entrycardnumber),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](14,12,"workinghourstype")," : "),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.WorkingHoursTypeList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](21,14,"shifttype")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.shifttype),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](28,16,"shift")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.shift),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(401)||t.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](36,18,"Cancel")," "))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,o.sg,o.O5,d._],pipes:[h.X$],styles:[""]}),e}(),Sa=["RForm"];function ba(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",2),b["\u0275\u0275elementStart"](1,"h1"),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Ea(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",41),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function xa(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",41),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275element"](3,"br"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueMustGreaterThan0")," "))}function Ca(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",42),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2)._employeeT.employeestatus_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("ngModel",a._employeeT.employeestatus_en)}}function Da(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",42),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2)._employeeT.employeestatus_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("ngModel",a._employeeT.employeestatus_ar)}}function _a(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"div",43),b["\u0275\u0275elementStart"](2,"button",44),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).previewImage(e)}),b["\u0275\u0275elementStart"](3,"input",45,46),b["\u0275\u0275listener"]("change",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](4);return b["\u0275\u0275nextContext"](2).fileChange(e.files)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"label",47),b["\u0275\u0275element"](6,"i",48),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Ia(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",54),b["\u0275\u0275elementStart"](1,"button",55),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"](3);return e.onDeleteImage(e.preview)}),b["\u0275\u0275element"](2,"i",56),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function wa(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",57),b["\u0275\u0275elementStart"](1,"button",58),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).previewImage(e)}),b["\u0275\u0275elementStart"](2,"input",45,46),b["\u0275\u0275listener"]("change",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return b["\u0275\u0275nextContext"](3).fileChange(e.files)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"label",59),b["\u0275\u0275element"](5,"i",60),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}var ka=function(e){return{color:e}};function Ta(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"div",49),b["\u0275\u0275listener"]("mouseenter",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onImgHover()})("mouseleave",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onImgLeave()}),b["\u0275\u0275elementContainerStart"](2,2),b["\u0275\u0275element"](3,"i",50),b["\u0275\u0275template"](4,Ia,3,0,"div",51),b["\u0275\u0275element"](5,"img",52),b["\u0275\u0275template"](6,wa,6,0,"div",53),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngStyle",b["\u0275\u0275pureFunction1"](4,ka,1==a._employeeT.workingstatus?"#bafca6":2==a._employeeT.workingstatus?"#f1d299":3==a._employeeT.workingstatus?"#fca6b9":"#dd89f7")),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.showEditDeleteImg),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("src",a.previews[0],b["\u0275\u0275sanitizeUrl"]),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.showEditDeleteImg)}}function Ma(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",41),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Ba(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",41),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Fa(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",61),b["\u0275\u0275element"](1,"i",62),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Ha(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",63),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"](2);return e.DeleteEmployee(e._employeeT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Ra(e,t){1&e&&b["\u0275\u0275element"](0,"app-personal-data-form")}function Oa(e,t){1&e&&b["\u0275\u0275element"](0,"app-functional-information-form")}function Va(e,t){1&e&&b["\u0275\u0275element"](0,"app-addresses-contact-information-form")}function Aa(e,t){1&e&&b["\u0275\u0275element"](0,"app-experiences-form")}function Na(e,t){1&e&&b["\u0275\u0275element"](0,"app-qualifications-form")}function Ga(e,t){1&e&&b["\u0275\u0275element"](0,"app-skills-form")}function Pa(e,t){1&e&&b["\u0275\u0275element"](0,"app-trainings-form")}function ja(e,t){1&e&&b["\u0275\u0275element"](0,"app-experience-certificates-form")}function Ua(e,t){1&e&&b["\u0275\u0275element"](0,"app-documents-form")}function La(e,t){1&e&&b["\u0275\u0275element"](0,"app-custodies-form")}function Ja(e,t){1&e&&b["\u0275\u0275element"](0,"app-notes-form")}function za(e,t){1&e&&b["\u0275\u0275element"](0,"app-shift-details-form")}function $a(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"p-accordion"),b["\u0275\u0275elementStart"](1,"p-accordionTab"),b["\u0275\u0275elementStart"](2,"p-header"),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"p-accordion"),b["\u0275\u0275elementStart"](6,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).PersonalDataClick()}),b["\u0275\u0275elementStart"](7,"p-header"),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](10,Ra,1,0,"app-personal-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).FunctionalInformationClick()}),b["\u0275\u0275elementStart"](12,"p-header"),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](15,Oa,1,0,"app-functional-information-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"p-accordionTab"),b["\u0275\u0275elementStart"](17,"p-header"),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"p-accordionTab"),b["\u0275\u0275elementStart"](21,"p-header"),b["\u0275\u0275text"](22),b["\u0275\u0275pipe"](23,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"p-accordionTab"),b["\u0275\u0275elementStart"](25,"p-header"),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"p-accordion"),b["\u0275\u0275elementStart"](29,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).AddressesAndContactInformationClick()}),b["\u0275\u0275elementStart"](30,"p-header"),b["\u0275\u0275text"](31),b["\u0275\u0275pipe"](32,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](33,Va,1,0,"app-addresses-contact-information-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](34,"p-accordionTab"),b["\u0275\u0275elementStart"](35,"p-header"),b["\u0275\u0275text"](36),b["\u0275\u0275pipe"](37,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"p-accordion"),b["\u0275\u0275elementStart"](39,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).ExperiencesClick()}),b["\u0275\u0275elementStart"](40,"p-header"),b["\u0275\u0275text"](41),b["\u0275\u0275pipe"](42,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](43,Aa,1,0,"app-experiences-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"p-accordionTab"),b["\u0275\u0275elementStart"](45,"p-header"),b["\u0275\u0275text"](46),b["\u0275\u0275pipe"](47,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](48,"p-accordion"),b["\u0275\u0275elementStart"](49,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).QualificationsClick()}),b["\u0275\u0275elementStart"](50,"p-header"),b["\u0275\u0275text"](51),b["\u0275\u0275pipe"](52,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](53,Na,1,0,"app-qualifications-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](54,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).SkillsClick()}),b["\u0275\u0275elementStart"](55,"p-header"),b["\u0275\u0275text"](56),b["\u0275\u0275pipe"](57,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](58,Ga,1,0,"app-skills-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](59,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).TrainingsClick()}),b["\u0275\u0275elementStart"](60,"p-header"),b["\u0275\u0275text"](61),b["\u0275\u0275pipe"](62,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](63,Pa,1,0,"app-trainings-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](64,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).ExperienceCertificatesClick()}),b["\u0275\u0275elementStart"](65,"p-header"),b["\u0275\u0275text"](66),b["\u0275\u0275pipe"](67,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](68,ja,1,0,"app-experience-certificates-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](69,"p-accordionTab"),b["\u0275\u0275elementStart"](70,"p-header"),b["\u0275\u0275text"](71),b["\u0275\u0275pipe"](72,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](73,"p-accordion"),b["\u0275\u0275elementStart"](74,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).DocumentsClick()}),b["\u0275\u0275elementStart"](75,"p-header"),b["\u0275\u0275text"](76),b["\u0275\u0275pipe"](77,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](78,Ua,1,0,"app-documents-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](79,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).CustodiesClick()}),b["\u0275\u0275elementStart"](80,"p-header"),b["\u0275\u0275text"](81),b["\u0275\u0275pipe"](82,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](83,La,1,0,"app-custodies-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](84,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).NotesClick()}),b["\u0275\u0275elementStart"](85,"p-header"),b["\u0275\u0275text"](86),b["\u0275\u0275pipe"](87,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](88,Ja,1,0,"app-notes-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](89,"p-accordionTab"),b["\u0275\u0275elementStart"](90,"p-header"),b["\u0275\u0275text"](91),b["\u0275\u0275pipe"](92,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](93,"p-accordion"),b["\u0275\u0275elementStart"](94,"p-accordionTab",64),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).ShiftDetailsClick()}),b["\u0275\u0275elementStart"](95,"p-header"),b["\u0275\u0275text"](96),b["\u0275\u0275pipe"](97,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](98,za,1,0,"app-shift-details-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](4,32,"PersonalAndEmploymentInfo")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,34,"PersonalData")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isPersonalDataClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](14,36,"FunctionalInformation")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isFunctionalInformationClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,38,"HusbandAndWives")),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](23,40,"Children")),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](27,42,"AddressesAndContactInformation")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](32,44,"AddressesAndContactInformation")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isAddressesAndContactInformationClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](37,46,"Experiences")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](42,48,"Experiences")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isExperiencesClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](47,50,"EducationAndDevelopment")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](52,52,"Qualifications")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isQualificationsClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](57,54,"Skills")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isSkillsClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](62,56,"TrainingAndCourses")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isTrainingsClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](67,58,"ExperienceCertificates")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isExperienceCertificatesClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](72,60,"CovenantAndDocuments")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](77,62,"DocumentsAndAttachments")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isDocumentsClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](82,64,"Covenant")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isCustodiesClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](87,66,"Notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isNotesClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](92,68,"Other")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](97,70,"ShiftDetails")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isShiftDetailsClicked)}}var Ya=function(e,t){return{"invalid-data":e,"valid-data":t}};function qa(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",3),b["\u0275\u0275elementStart"](2,"div",4),b["\u0275\u0275elementStart"](3,"div",5),b["\u0275\u0275elementStart"](4,"h6",6),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",7),b["\u0275\u0275elementStart"](8,"form",8,9),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](9);return b["\u0275\u0275nextContext"]().PreSave(e)}),b["\u0275\u0275elementStart"](10,"div",2),b["\u0275\u0275elementStart"](11,"div",10),b["\u0275\u0275elementStart"](12,"div",11),b["\u0275\u0275elementStart"](13,"label",12),b["\u0275\u0275text"](14),b["\u0275\u0275pipe"](15,"translate"),b["\u0275\u0275elementStart"](16,"span",13),b["\u0275\u0275text"](17,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"input",14,15),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.code=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().checkIsCodeExist()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](20,Ea,3,3,"span",16),b["\u0275\u0275template"](21,xa,4,3,"span",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"div",10),b["\u0275\u0275elementStart"](23,"div",11),b["\u0275\u0275elementStart"](24,"label",17),b["\u0275\u0275text"](25),b["\u0275\u0275pipe"](26,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](27,Ca,1,1,"input",18),b["\u0275\u0275template"](28,Da,1,1,"input",18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](29,_a,7,0,"div",19),b["\u0275\u0275template"](30,Ta,7,6,"div",19),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"div",2),b["\u0275\u0275elementStart"](32,"div",20),b["\u0275\u0275elementStart"](33,"div",11),b["\u0275\u0275elementStart"](34,"label",21),b["\u0275\u0275text"](35),b["\u0275\u0275pipe"](36,"translate"),b["\u0275\u0275elementStart"](37,"span",13),b["\u0275\u0275text"](38,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"div",22),b["\u0275\u0275elementStart"](40,"div",11),b["\u0275\u0275elementStart"](41,"input",23,24),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.firstname_ar=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().createFullName()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](43,Ma,3,3,"span",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"div",22),b["\u0275\u0275elementStart"](45,"div",11),b["\u0275\u0275elementStart"](46,"input",25,26),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.secondname_ar=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().createFullName()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](48,Ba,3,3,"span",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](49,"div",22),b["\u0275\u0275elementStart"](50,"div",11),b["\u0275\u0275elementStart"](51,"input",27),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.thirdname_ar=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().createFullName()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](52,"div",22),b["\u0275\u0275elementStart"](53,"div",11),b["\u0275\u0275elementStart"](54,"input",28),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.lastname_ar=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().createFullName()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](55,"div",29),b["\u0275\u0275elementStart"](56,"div",11),b["\u0275\u0275elementStart"](57,"input",30),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.fullname_ar=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"div",2),b["\u0275\u0275elementStart"](59,"div",20),b["\u0275\u0275elementStart"](60,"div",11),b["\u0275\u0275elementStart"](61,"label",31),b["\u0275\u0275text"](62),b["\u0275\u0275pipe"](63,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](64,"div",22),b["\u0275\u0275elementStart"](65,"div",11),b["\u0275\u0275elementStart"](66,"input",32),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.firstname_en=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().createFullName()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](67,"div",22),b["\u0275\u0275elementStart"](68,"div",11),b["\u0275\u0275elementStart"](69,"input",33),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.secondname_en=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().createFullName()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](70,"div",22),b["\u0275\u0275elementStart"](71,"div",11),b["\u0275\u0275elementStart"](72,"input",34),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.thirdname_en=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().createFullName()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](73,"div",22),b["\u0275\u0275elementStart"](74,"div",11),b["\u0275\u0275elementStart"](75,"input",35),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.lastname_en=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().createFullName()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](76,"div",29),b["\u0275\u0275elementStart"](77,"div",11),b["\u0275\u0275elementStart"](78,"input",36),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.fullname_en=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](79,"div",2),b["\u0275\u0275element"](80,"div",10),b["\u0275\u0275element"](81,"div",10),b["\u0275\u0275elementStart"](82,"div",10),b["\u0275\u0275elementStart"](83,"div",37),b["\u0275\u0275template"](84,Fa,4,4,"button",38),b["\u0275\u0275elementStart"](85,"a",39),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](9);return b["\u0275\u0275nextContext"]().NotToMissData(e)}),b["\u0275\u0275text"](86),b["\u0275\u0275pipe"](87,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](88,Ha,3,4,"button",40),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](89,$a,99,72,"p-accordion",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275reference"](9),i=b["\u0275\u0275reference"](19),r=b["\u0275\u0275reference"](42),l=b["\u0275\u0275reference"](47),o=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,35,"addemployee")," "),b["\u0275\u0275advance"](9),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](15,37,"Code")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("readonly",o.EmployeeID>0)("ngModel",o._employeeT.code)("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](47,Ya,i.invalid&&a.submitted||o._employeeT.code<=0,i.valid&&o._employeeT.code>0&&a.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",i.invalid&&a.submitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",o._employeeT.code<=0),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](26,39,"workingstatus")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=o.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==o.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",o.previews.length<=0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",o.previews.length>0),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](36,41,"NameAR")),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngModel",o._employeeT.firstname_ar)("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](50,Ya,r.invalid&&a.submitted,r.valid&&a.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",r.invalid&&a.submitted),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngModel",o._employeeT.secondname_ar)("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](53,Ya,l.invalid&&a.submitted,l.valid&&a.submitted)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",l.invalid&&a.submitted),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngModel",o._employeeT.thirdname_ar),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngModel",o._employeeT.lastname_ar),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngModel",o._employeeT.fullname_ar),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](63,43,"NameEN")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",o._employeeT.firstname_en),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngModel",o._employeeT.secondname_en),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngModel",o._employeeT.thirdname_en),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngModel",o._employeeT.lastname_en),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngModel",o._employeeT.fullname_en),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",o.checkRoleParms(401)||o.checkRoleParms(402)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](87,45,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",o.checkRoleParms(403)&&o._employeeT.id>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",o.EmployeeID>0)}}var Qa=function(){var t=function(){function t(e,n,a,r,l,o,s,c,d,m){var p=this;i(this,t),this.router=e,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._DocumentsCategoryService=m,this.EmployeeID=0,this.subsidiaryID=0,this.showmood=!1,this.checkname="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Cancel="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.VacationCodeMsg="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this.datamsg="",this.isFunctionalInformationClicked=!1,this.isAddressesAndContactInformationClicked=!1,this.isExperiencesClicked=!1,this.isQualificationsClicked=!1,this.isSkillsClicked=!1,this.isTrainingsClicked=!1,this.isExperienceCertificatesClicked=!1,this.isPersonalDataClicked=!1,this.isCustodiesClicked=!1,this.isNotesClicked=!1,this.isShiftDetailsClicked=!1,this.isDocumentsClicked=!1,this.VacationCode=!0,this.previews=[],this.attachments=[],this.showEditDeleteImg=!1,this._employeeT=new F,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Cancel","DeleteRelationmsg","successMsg","checkname","addemployee","VacationCodeMsg","DataSavedsuccessfully","No","MissData","savedChanges","Yes","datamsg"]).subscribe(function(e){p.swalDeleteTitle=e.swalDeleteTitle,p.swalDetlateText=e.swalDetlateText,p.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,p.Cancel=e.Cancel,p.DeleteRelationmsg=e.DeleteRelationmsg,p.toastrSuccessDelete=e.successMsg,p.checkname=e.checkname,p.title=e.addemployee,document.title=p.title,p.VacationCodeMsg=e.VacationCodeMsg,p.DataSavedsuccessfully=e.DataSavedsuccessfully,p.Yes=e.Yes,p.No=e.No,p.MissData=e.MissData,p.SavedData=e.savedChanges,p.datamsg=e.datamsg})}),this.route.params.subscribe(function(e){p.EmployeeID=e.id,p.showmood=null!=e.show&&"show"==e.show&&p.EmployeeID>0,p.GetData()})}return l(t,[{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID?this._employeesService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._employeeT.code=t.length>0?Number(t[0].code)+1:1,e.cd.markForCheck()}):this._employeesService.GetEmployeeMainDataById(this.EmployeeID).subscribe(function(t){e._employeeT.id=e.EmployeeID,e._employeeT.code=Number(t.code),e._employeeT.firstname_ar=t.firstname_ar,e._employeeT.secondname_ar=t.secondname_ar,e._employeeT.thirdname_ar=t.thirdname_ar,e._employeeT.lastname_ar=t.lastname_ar,e._employeeT.fullname_ar=t.fullname_ar,e._employeeT.firstname_en=t.firstname_en,e._employeeT.secondname_en=t.secondname_en,e._employeeT.thirdname_en=t.thirdname_en,e._employeeT.lastname_en=t.lastname_en,e._employeeT.fullname_en=t.fullname_en,e._employeeT.employeestatus_en=t.employeestatus_en,e._employeeT.employeestatus_ar=t.employeestatus_ar,e._employeeT.workingstatus=t.workingstatus,e._employeeT.imagepath=t.imagepath,null!=t.imagepath&&null!=t.imagepath&&""!=t.imagepath&&e.GetImage(t.imagepath),e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"FunctionalInformationClick",value:function(){this.isFunctionalInformationClicked||(this.isFunctionalInformationClicked=!0)}},{key:"AddressesAndContactInformationClick",value:function(){this.isAddressesAndContactInformationClicked||(this.isAddressesAndContactInformationClicked=!0)}},{key:"ExperiencesClick",value:function(){this.isExperiencesClicked||(this.isExperiencesClicked=!0)}},{key:"QualificationsClick",value:function(){this.isQualificationsClicked||(this.isQualificationsClicked=!0)}},{key:"SkillsClick",value:function(){this.isSkillsClicked||(this.isSkillsClicked=!0)}},{key:"TrainingsClick",value:function(){this.isTrainingsClicked||(this.isTrainingsClicked=!0)}},{key:"ExperienceCertificatesClick",value:function(){this.isExperienceCertificatesClicked||(this.isExperienceCertificatesClicked=!0)}},{key:"PersonalDataClick",value:function(){this.isPersonalDataClicked||(this.isPersonalDataClicked=!0)}},{key:"CustodiesClick",value:function(){this.isCustodiesClicked||(this.isCustodiesClicked=!0)}},{key:"NotesClick",value:function(){this.isNotesClicked||(this.isNotesClicked=!0)}},{key:"ShiftDetailsClick",value:function(){this.isShiftDetailsClicked||(this.isShiftDetailsClicked=!0)}},{key:"DocumentsClick",value:function(){this.isDocumentsClicked||(this.isDocumentsClicked=!0)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"createFullName",value:function(){this._employeeT.fullname_ar=this._employeeT.firstname_ar+" "+this._employeeT.secondname_ar+" "+this._employeeT.thirdname_ar+" "+this._employeeT.lastname_ar,this._employeeT.fullname_en=this._employeeT.firstname_en+" "+this._employeeT.secondname_en+" "+this._employeeT.thirdname_en+" "+this._employeeT.lastname_en}},{key:"checkIsCodeExist",value:function(){var e=this;this._employeesService.CheckCode(this.EmployeeID,this._employeeT.code,this.subsidiaryID).subscribe(function(t){t.length>0?t[0].id>0&&(e.VacationCode=!1,e.toastr.error(e.VacationCodeMsg)):e.VacationCode=!0,e.cd.markForCheck()})}},{key:"PreSave",value:function(e){this.checkIsCodeExist(),0!=this.VacationCode&&(this.attachments.length>0?this.UploadPhoto():this.onSave())}},{key:"onSave",value:function(){var e=this;this.RForm.form.valid&&this._employeeT.code>0?(this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.id>0?this._employeesService.UpdateEmployeeMainData(this._employeeT).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully)}):this._employeesService.CreateEmployeeMainData(this._employeeT).subscribe(function(t){e._employeeT.id=t[0].id,e.toastr.success(e.DataSavedsuccessfully),e.router.navigateByUrl("page/hr/manageemployee/employees/"+e._employeeT.id)})):this.RForm.form.valid||this.toastr.error(this.datamsg)}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){e.isConfirmed&&1==e.isConfirmed?t.onSave():t.router.navigateByUrl("page/hr/manageemployee/employees")}):this.router.navigateByUrl("page/hr/manageemployee/employees")}},{key:"DeleteEmployee",value:function(e){var t=this;this._employeesService.GetEmployeeApprovalRelation(this.EmployeeID).subscribe(function(n){n.length>0&&(n[0].total>0?t.toastr.error(t.DeleteRelationmsg):R().fire({title:t.swalDeleteTitle,text:t.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:t.swalDetlateConfirmButtonText,cancelButtonText:t.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeesService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t.router.navigate(["/page/hr/manageemployee/employees"])):t.toastr.error(t.DeleteRelationmsg)})}))})}},{key:"fileChange",value:function(t){if(t.length>0&&null!=t[0])if(this.attachments&&this.attachments.length>0)this.attachments.push(t);else{this.attachments=[];var n,a=e(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;this.attachments.push(i)}}catch(r){a.e(r)}finally{a.f()}}this.cd.markForCheck()}},{key:"previewImage",value:function(e){var t=this;if(this.selectedFiles=e.target.files,this.selectedFiles&&this.selectedFiles[0])for(var n=this.selectedFiles.length,a=0;a<n;a++){var i=new FileReader;i.onload=function(e){t.previews=[],t.previews.push(e.target.result)},i.readAsDataURL(this.selectedFiles[a])}this.cd.markForCheck()}},{key:"UploadPhoto",value:function(){for(var e=this,t=0;t<this.attachments.length;t++){var n=new FormData;n.append("FileSend",this.attachments[t]),this._employeesService.UploadFile(n).subscribe(function(t){null!=t&&null!=t&&(e._employeeT.imagepath=t.filepath,e.onSave(),e.cd.markForCheck())})}}},{key:"GetImage",value:function(e){var t=this;this._DocumentsCategoryService.GetImage(e).subscribe(function(e){null!=e&&(t.createImageFromBlob(e),t.cd.markForCheck())},function(e){console.log(e)})}},{key:"createImageFromBlob",value:function(e){var t=this,n=new FileReader;console.log(n),n.addEventListener("load",function(){t.previews&&t.previews.length>0||(t.previews=[]),t.previews.push(n.result),t.cd.markForCheck()},!1),e&&n.readAsDataURL(e)}},{key:"onImgHover",value:function(){this.showEditDeleteImg=!0}},{key:"onImgLeave",value:function(){this.showEditDeleteImg=!1}},{key:"onDeleteImage",value:function(e){var t=this.previews.find(function(t){return t==e}),n=this.previews.indexOf(t);this.previews.splice(n,1),this.attachments.splice(n,1),this._employeeT.imagepath="",this.cd.markForCheck()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](V.F))},t.\u0275cmp=b["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-employee"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](Sa,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.RForm=n.first))},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],[2,"color","red","font-weight","bold"],["PositiveNumbersOnly","","type","text","name","formcode",1,"form-control",3,"readonly","ngModel","required","ngClass","ngModelChange","change"],["EmployeeCode","ngModel"],["style","color: red",4,"ngIf"],["id","workingstatus",1,"col-form-label"],["type","text","disabled","","name","workingstatus","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["class","col-lg-4 col-md-4 col-sm-12 mb-2 mb-md-0",4,"ngIf"],[1,"col-lg-1","col-md-1","col-sm-12","mb-2","mb-md-0"],["id","NameAR",1,"col-form-label"],[1,"col-lg-2","col-md-2","col-sm-12","mb-2","mb-md-0"],["type","text","name","firstNameAR",1,"form-control",3,"ngModel","required","ngClass","ngModelChange","change"],["FirstNameAR","ngModel"],["type","text","name","secondNameAR",1,"form-control",3,"ngModel","required","ngClass","ngModelChange","change"],["SecondNameAR","ngModel"],["type","text","name","ThirdNameAR",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","name","lastNameAR",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],["type","text","readonly","","name","fullNameAR",1,"form-control",3,"ngModel","ngModelChange"],["id","NameEN",1,"col-form-label"],["type","text","name","firstNameEN",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","name","secondNameEN",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","name","ThirdNameEN",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","name","lastNameEN",1,"form-control",3,"ngModel","ngModelChange","change"],["type","text","readonly","","name","fullNameEN",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[2,"color","red"],["type","text","disabled","","name","workingstatus",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","30px","height","50%"],["type","button",1,"add-photo",2,"border","none","height","100%","width","20%",3,"change"],["accept",".jpg, .png, .jpeg, .jpe, .bmp|image/*","id","file","name","file","type","file",2,"display","none","border","none",3,"change"],["fileupload",""],["for","file",1,"text-white","m-0",2,"font-size","x-large"],[1,"fa","fa-camera","camera"],[1,"form-group",3,"mouseenter","mouseleave"],["aria-hidden","true",1,"fa","fa-circle",2,"position","absolute","margin","-4px",3,"ngStyle"],["style","\n                    position: absolute;\n                    background-color: white;\n                    border-radius: 25px;\n                    width: 20px;\n                    height: 20px;\n                    text-align: center;\n                    margin-top: 75px;\n                    margin-right: 5px;\n                  ",4,"ngIf"],["alt","...",1,"preview",2,"height","100px","width","100px",3,"src"],["style","\n                    position: absolute;\n                    background-color: white;\n                    border-radius: 25px;\n                    width: 20px;\n                    height: 20px;\n                    text-align: center;\n                    margin-top: -25px;\n                    margin-right: 75px;\n                  ",4,"ngIf"],[2,"position","absolute","background-color","white","border-radius","25px","width","20px","height","20px","text-align","center","margin-top","75px","margin-right","5px"],[2,"border","none","border-radius","25px","background-color","white",3,"click"],["aria-hidden","true",1,"fa","fa-trash-o"],[2,"position","absolute","background-color","white","border-radius","25px","width","20px","height","20px","text-align","center","margin-top","-25px","margin-right","75px"],["type","button",2,"border","none","border-radius","25px","background-color","white",3,"change"],["for","file",1,"m-0"],["aria-hidden","true",1,"fa","fa-pencil"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],[3,"click"]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,ba,4,3,"div",0),b["\u0275\u0275template"](1,qa,90,56,"section",1)),2&e&&(b["\u0275\u0275property"]("ngIf",!t.checkRoleParms(400)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(400)))},directives:[o.O5,d._Y,d.JL,d.F,d.Fj,A.K,d.JJ,d.On,d.Q7,o.mk,o.PC,g.UQ,g.US,N.h4,re,Ue,pt,Bt,Xt,rn,Tn,Nn,Qn,la,pa,fa],pipes:[h.X$],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),t}();function Ka(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",2),b["\u0275\u0275elementStart"](1,"h1"),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Wa(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",3),b["\u0275\u0275elementStart"](2,"div",4),b["\u0275\u0275elementStart"](3,"div",5),b["\u0275\u0275elementStart"](4,"h6",6),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",7),b["\u0275\u0275elementStart"](8,"div",8),b["\u0275\u0275elementStart"](9,"app-Matix-table",9),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnExcel",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnExcel()})("OnPrint",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnPrint(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"employee")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var Xa=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.cd=t,this._generalService=n,this._employeesService=a,this._router=r,this.translate=l,this._translateGlobalService=o,this._printService=s,this._Excel=c,this._authService=d,this._convertToPDF=m,this.EmployeeList=[],this.totalCount=0,this.title="",this.subsidiaryID=0,this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"fullname_ar",sortByEn:"fullname_en",displayName:"name"}],this.Permission={View:407,Add:408,Edit:409,Delete:410,Print:411,PDF:412,Excel:413},this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._translateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["employee"]).subscribe(function(e){p.title=e.employee,document.title=p.title})})}return l(e,[{key:"ngOnInit",value:function(){var e=this;this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(function(t){e.EmployeeList=t,e.cd.markForCheck()}),this._employeesService.CountOfEmployee("",this.subsidiaryID).subscribe(function(t){e.totalCount=t.employees,e.cd.markForCheck()})}},{key:"OnShow",value:function(e){this._router.navigateByUrl("page/hr/manageemployee/employeefinancials/"+e+"/show")}},{key:"OnEdit",value:function(e){this._router.navigateByUrl("page/hr/manageemployee/employeefinancials/"+e)}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Employees",r="ar"==this.lang?"\u0627\u0644\u0643\u0648\u062f":"Code",l="ar"==this.lang?"\u0627\u0644\u0627\u0633\u0645":"Name";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(function(o){e.cd.markForCheck(),n='\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;" >'.concat(i,'</div>\n           <table class="table text-center m-0 table table-striped"  border="1px"  dir=').concat(a,'>\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>').concat(r,"</th>              \n            <th>").concat(l,"</th>\n            </tr>\n           </thead>\n           <tbody>\n      "),o.map(function(t){n+="\n          <tr>\n            <td>".concat(t.code,"</td>\n            <td>").concat("ar"==e.lang?t.fullname_ar:t.fullname_en,"</td>\n          </tr>\n        ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0643\u0648\u062f":n.code,"\u0627\u0644\u0627\u0633\u0645":n.fullname_ar}:{Code:n.code,Name:n.fullname_en})}),e._Excel.exportAsExcelFile(t,"Employees")})}},{key:"EmployeeSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(function(e){t.EmployeeList=e,t.cd.markForCheck()}),this._employeesService.CountOfEmployee(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeesService.GetAll(this._searchModel,this.subsidiaryID).subscribe(function(e){t.EmployeeList=e,t.cd.markForCheck()}),this._employeesService.CountOfEmployee(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](D.$),b["\u0275\u0275directiveInject"](_.x),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](w.z))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-FinancialEmployeeListing"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnShow","OnExcel","OnPrint","OnSearch","OnSort"]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,Ka,4,3,"div",0),b["\u0275\u0275template"](1,Wa,10,7,"section",1)),2&e&&(b["\u0275\u0275property"]("ngIf",!t.checkRoleParms(407)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(407)))},directives:[o.O5,k.u],pipes:[h.X$],styles:[""]}),e}(),Za=function e(){i(this,e),this.basicsalary=null,this.workpermitsalary=null,this.salarytype=null,this.overtime=null,this.overtimetype=null,this.overtimevalue=null,this.overtimepercentage=null,this.subsidaryid=null},ei=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"UpdateEmployeeFinancialData",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeFinancialData",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeFinancialDataById",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetEmployeeFinancialDataById?employeeID=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeHousingData",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeHousingData",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeHousingDataById",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetEmployeeHousingDataById?employeeID=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeFurnitureData",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeFurnitureData",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeFurnitureDataById",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetEmployeeFurnitureDataById?employeeID=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeTravelTicketsData",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeTravelTicketsData",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeTravelTicketsDataById",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetEmployeeTravelTicketsDataById?employeeID=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeePaymentMethodData",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeePaymentMethodData",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeePaymentMethodDataById",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetEmployeePaymentMethodDataById?employeeID=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeHealthInsuranceData",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeHealthInsuranceData",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeHealthInsuranceDataById",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetEmployeeHealthInsuranceDataById?employeeID=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeSocialSecurityData",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeSocialSecurityData",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeSocialSecurityDataById",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetEmployeeSocialSecurityDataById?employeeID=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeEndOfServiceGratuityData",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeEndOfServiceGratuityData",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeEndOfServiceGratuityDataById",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetEmployeeEndOfServiceGratuityDataById?employeeID=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeAccountingNumberData",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeAccountingNumberData",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeAccountingNumberDataById",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetEmployeeAccountingNumberDataById?employeeID=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeOtherInsuranceData",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeOtherInsuranceData",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeOtherInsuranceDataById",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetEmployeeOtherInsuranceDataById?employeeID=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeTaxData",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialData/UpdateEmployeeTaxData",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeTaxDataById",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetEmployeeTaxDataById?employeeID=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetStaticValues",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialData/GetStaticValues?listDescription=".concat(e)).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function ti(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"a",21),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().NotToMissData()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"AddEmployeeSalary")," "))}function ni(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",25),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function ai(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",25),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function ii(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"label",22),b["\u0275\u0275elementStart"](1,"input",23),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.salarytype=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](2,ni,2,1,"label",24),b["\u0275\u0275template"](3,ai,2,1,"label",24),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("value",a.id)("ngModel",i._employeeT.salarytype),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang)}}function ri(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",25),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function li(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",25),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function oi(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"label",22),b["\u0275\u0275elementStart"](1,"input",26),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.overtime=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().overtimeChange()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](2,ri,2,1,"label",24),b["\u0275\u0275template"](3,li,2,1,"label",24),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("value",a.id)("ngModel",i._employeeT.overtime),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang)}}function si(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function ci(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function di(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",31),b["\u0275\u0275template"](1,si,2,1,"div",32),b["\u0275\u0275template"](2,ci,2,1,"div",32),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function mi(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"label",27),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",28),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.overtimetype=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().overtimetypeChange()}),b["\u0275\u0275elementStart"](5,"option",29),b["\u0275\u0275text"](6),b["\u0275\u0275pipe"](7,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](8,di,3,3,"option",30),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,5,"overtimetype")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.overtimetype),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](7,7,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",a.OverTimeTypeList)}}function pi(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"label",33),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"input",34),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.overtimevalue=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"overtimevalue")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.overtimevalue)}}function ui(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"label",35),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"input",36),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.overtimepercentage=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"overtimepercentage"),"%"),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.overtimepercentage)}}function yi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",37),b["\u0275\u0275element"](1,"i",38),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var hi=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d){var m=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeeFinancialDataService=c,this._generalService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.showovertimetype=!1,this.showovertimevalue=!1,this.showovertimepercentage=!1,this.isAddEmployeeSalaryClicked=!1,this._employeeT=new Za,this._oldEmployeeT=new Za,this.SalaryTypeList=[],this.OverTimeList=[],this.OverTimeTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","DataSavedsuccessfully","No"]).subscribe(function(e){m.Yes=e.Yes,m.No=e.No,m.Cancel=e.Cancel,m.checkname=e.checkname,m.MissData=e.MissData,m.SavedData=e.savedChanges,m.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){m.EmployeeID=e.id,m.showmood=null!=e.show&&"show"==e.show&&m.EmployeeID>0,m.GetSalaryTypes(),m.GetOverTime(),m.GetOverTimeTypes(),m.GetData()})}return l(e,[{key:"GetSalaryTypes",value:function(){var e=this;this._employeeFinancialDataService.GetStaticValues("SalaryType").subscribe(function(t){e.SalaryTypeList=t,e.cd.markForCheck()})}},{key:"GetOverTime",value:function(){var e=this;this._employeeFinancialDataService.GetStaticValues("OverTime").subscribe(function(t){e.OverTimeList=t,e.cd.markForCheck()})}},{key:"GetOverTimeTypes",value:function(){var e=this;this._employeeFinancialDataService.GetStaticValues("OverTimeType").subscribe(function(t){e.OverTimeTypeList=t,e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeFinancialDataById(this.EmployeeID).subscribe(function(t){e._employeeT.employeeid=e.EmployeeID,e._employeeT.basicsalary=t.basicsalary,e._employeeT.workpermitsalary=t.workpermitsalary,e._employeeT.salarytype=t.salarytype,e._employeeT.overtime=t.overtime,e._employeeT.overtimetype=t.overtimetype,e._employeeT.overtimevalue=t.overtimevalue,e._employeeT.overtimepercentage=t.overtimepercentage,e._oldEmployeeT.employeeid=e.EmployeeID,e._oldEmployeeT.basicsalary=t.basicsalary,e._oldEmployeeT.workpermitsalary=t.workpermitsalary,e._oldEmployeeT.salarytype=t.salarytype,e._oldEmployeeT.overtime=t.overtime,e._oldEmployeeT.overtimetype=t.overtimetype,e._oldEmployeeT.overtimevalue=t.overtimevalue,e._oldEmployeeT.overtimepercentage=t.overtimepercentage,e.overtimeChange(),e.overtimetypeChange(),e.cd.markForCheck()})}},{key:"overtimeChange",value:function(){3==this._employeeT.overtime?this.showovertimetype=!0:(this._employeeT.overtimetype=null,this.showovertimetype=!1,this.showovertimevalue=!1,this.showovertimepercentage=!1)}},{key:"overtimetypeChange",value:function(){2==this._employeeT.overtimetype?(this.showovertimevalue=!0,this.showovertimepercentage=!1):3==this._employeeT.overtimetype?(this.showovertimepercentage=!0,this.showovertimevalue=!1):(this.showovertimevalue=!1,this.showovertimepercentage=!1)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&this._employeeFinancialDataService.UpdateEmployeeFinancialData(this._employeeT).subscribe(function(e){1==t.isAddEmployeeSalaryClicked?t.router.navigateByUrl("/page/hr/manageemployee/changeemployeedata/"+t._employeeT.employeeid):t.toastr.success(t.DataSavedsuccessfully)})}},{key:"NotToMissData",value:function(){var e=this;JSON.stringify(this._oldEmployeeT)!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed?e.isAddEmployeeSalaryClicked=!0:e.router.navigateByUrl("/page/hr/manageemployee/changeemployeedata/"+e._employeeT.employeeid)}):this.router.navigateByUrl("/page/hr/manageemployee/changeemployeedata/"+this._employeeT.employeeid)}},{key:"NotToMissDataForCancel",value:function(e){var t=this;JSON.stringify(this._oldEmployeeT)!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](ei),b["\u0275\u0275directiveInject"](E.m))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-financial-data-form"]],decls:51,vars:24,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],[1,"form-group","col-6"],["id","basicsalary",1,"col-form-label"],["disabled","","type","text","name","basicsalary",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],["style","margin-top: 30px;","class","btn btn-success mr-1",3,"click",4,"ngIf"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","workpermitsalary",1,"col-form-label"],["type","text","name","workpermitsalary",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-form-label"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],["class","form-group",4,"ngIf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[1,"btn","btn-success","mr-1",2,"margin-top","30px",3,"click"],[1,"mt-4"],["type","radio","name","salarytype","disabled","",3,"value","ngModel","ngModelChange"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["type","radio","name","overtime","disabled","",3,"value","ngModel","ngModelChange","change"],["id","overtimetype",1,"col-form-label"],["name","overtimetype","disabled","",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],["id","overtimevalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","overtimevalue","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","overtimepercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","overtimepercentage","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",2),b["\u0275\u0275elementStart"](6,"div",4),b["\u0275\u0275elementStart"](7,"label",5),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",6),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.basicsalary=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",7),b["\u0275\u0275template"](12,ti,3,3,"a",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",9),b["\u0275\u0275elementStart"](14,"div",10),b["\u0275\u0275elementStart"](15,"label",11),b["\u0275\u0275text"](16),b["\u0275\u0275pipe"](17,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"input",12),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.workpermitsalary=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"div",9),b["\u0275\u0275elementStart"](20,"div",10),b["\u0275\u0275elementStart"](21,"label",13),b["\u0275\u0275text"](22),b["\u0275\u0275pipe"](23,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"label",14),b["\u0275\u0275template"](25,ii,4,4,"label",15),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"div",2),b["\u0275\u0275elementStart"](27,"div",16),b["\u0275\u0275elementStart"](28,"div",10),b["\u0275\u0275elementStart"](29,"label",13),b["\u0275\u0275text"](30),b["\u0275\u0275pipe"](31,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"label",14),b["\u0275\u0275template"](33,oi,4,4,"label",15),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](34,"div",16),b["\u0275\u0275template"](35,mi,9,9,"div",17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"div",16),b["\u0275\u0275template"](37,pi,5,4,"div",17),b["\u0275\u0275template"](38,ui,5,4,"div",17),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"div",2),b["\u0275\u0275elementStart"](40,"div",16),b["\u0275\u0275element"](41,"div",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](42,"div",16),b["\u0275\u0275element"](43,"div",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"div",16),b["\u0275\u0275elementStart"](45,"div",18),b["\u0275\u0275template"](46,yi,4,4,"button",19),b["\u0275\u0275elementStart"](47,"a",20),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissDataForCancel(e)}),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](50,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,14,"basicsalary")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.basicsalary),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(435)),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](17,16,"workpermitsalary")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.workpermitsalary),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](23,18,"salarytype")," :"),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.SalaryTypeList),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](31,20,"overtime")," :"),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.OverTimeList),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.showovertimetype),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.showovertimevalue),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.showovertimepercentage),b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](49,22,"Cancel")," "))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,o.O5,o.sg,d._,d.EJ,d.YN,d.Kr,ft.L],pipes:[h.X$],styles:[""]}),e}(),vi=r(66687),gi=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAllEmployeeBranchHistory",value:function(e,t,n){var a="/ChangeEmployeeData/GetAllEmployeeBranchHistory?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeBranchHistory",value:function(e,t,n){return this.http.get(this.baseUrl+"/ChangeEmployeeData/CountOfEmployeeBranchHistory?searchValue=".concat(e,"&subsidaryid=").concat(t,"&employeeid=").concat(n)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeBranchHistoryById",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeBranchHistoryById?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeBranchHistory",value:function(e){return this.http.post("".concat(this.baseUrl,"/ChangeEmployeeData/CreateEmployeeBranchHistory"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeBranchHistory",value:function(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeBranchHistory",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCodeEmployeeBranchHistory",value:function(e,t){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetMaxCodeEmployeeBranchHistory?subsidaryid=".concat(e,"&employeeid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"DeleteEmployeeBranchHistory",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/DeleteEmployeeBranchHistory?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeBranchHistoryDataForValidation",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeBranchHistoryDataForValidation?employeeid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetAllEmployeeSectionHistory",value:function(e,t,n){var a="/ChangeEmployeeData/GetAllEmployeeSectionHistory?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeSectionHistory",value:function(e,t,n){return this.http.get(this.baseUrl+"/ChangeEmployeeData/CountOfEmployeeSectionHistory?searchValue=".concat(e,"&subsidaryid=").concat(t,"&employeeid=").concat(n)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeSectionHistoryById",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeSectionHistoryById?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeSectionHistory",value:function(e){return this.http.post("".concat(this.baseUrl,"/ChangeEmployeeData/CreateEmployeeSectionHistory"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeSectionHistory",value:function(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeSectionHistory",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCodeEmployeeSectionHistory",value:function(e,t){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetMaxCodeEmployeeSectionHistory?subsidaryid=".concat(e,"&employeeid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"DeleteEmployeeSectionHistory",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/DeleteEmployeeSectionHistory?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeSectionHistoryDataForValidation",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeSectionHistoryDataForValidation?employeeid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetAllEmployeeDepartmentHistory",value:function(e,t,n){var a="/ChangeEmployeeData/GetAllEmployeeDepartmentHistory?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeDepartmentHistory",value:function(e,t,n){return this.http.get(this.baseUrl+"/ChangeEmployeeData/CountOfEmployeeDepartmentHistory?searchValue=".concat(e,"&subsidaryid=").concat(t,"&employeeid=").concat(n)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeDepartmentHistoryById",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeDepartmentHistoryById?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeDepartmentHistory",value:function(e){return this.http.post("".concat(this.baseUrl,"/ChangeEmployeeData/CreateEmployeeDepartmentHistory"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeDepartmentHistory",value:function(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeDepartmentHistory",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCodeEmployeeDepartmentHistory",value:function(e,t){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetMaxCodeEmployeeDepartmentHistory?subsidaryid=".concat(e,"&employeeid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"DeleteEmployeeDepartmentHistory",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/DeleteEmployeeDepartmentHistory?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeDepartmentHistoryDataForValidation",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeDepartmentHistoryDataForValidation?employeeid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetAllEmployeeCostcenterHistory",value:function(e,t,n){var a="/ChangeEmployeeData/GetAllEmployeeCostcenterHistory?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeCostcenterHistory",value:function(e,t,n){return this.http.get(this.baseUrl+"/ChangeEmployeeData/CountOfEmployeeCostcenterHistory?searchValue=".concat(e,"&subsidaryid=").concat(t,"&employeeid=").concat(n)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeCostcenterHistoryById",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeCostcenterHistoryById?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeCostcenterHistory",value:function(e){return this.http.post("".concat(this.baseUrl,"/ChangeEmployeeData/CreateEmployeeCostcenterHistory"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeCostcenterHistory",value:function(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeCostcenterHistory",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCodeEmployeeCostcenterHistory",value:function(e,t){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetMaxCodeEmployeeCostcenterHistory?subsidaryid=".concat(e,"&employeeid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"DeleteEmployeeCostcenterHistory",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/DeleteEmployeeCostcenterHistory?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeCostcenterHistoryDataForValidation",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeCostcenterHistoryDataForValidation?employeeid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetAllEmployeeJobHistory",value:function(e,t,n){var a="/ChangeEmployeeData/GetAllEmployeeJobHistory?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeJobHistory",value:function(e,t,n){return this.http.get(this.baseUrl+"/ChangeEmployeeData/CountOfEmployeeJobHistory?searchValue=".concat(e,"&subsidaryid=").concat(t,"&employeeid=").concat(n)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeJobHistoryById",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeJobHistoryById?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeJobHistory",value:function(e){return this.http.post("".concat(this.baseUrl,"/ChangeEmployeeData/CreateEmployeeJobHistory"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeJobHistory",value:function(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeJobHistory",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCodeEmployeeJobHistory",value:function(e,t){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetMaxCodeEmployeeJobHistory?subsidaryid=".concat(e,"&employeeid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"DeleteEmployeeJobHistory",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/DeleteEmployeeJobHistory?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeJobHistoryDataForValidation",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeJobHistoryDataForValidation?employeeid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetAllEmployeeSalaryHistory",value:function(e,t,n){var a="/ChangeEmployeeData/GetAllEmployeeSalaryHistory?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeSalaryHistory",value:function(e,t,n){return this.http.get(this.baseUrl+"/ChangeEmployeeData/CountOfEmployeeSalaryHistory?searchValue=".concat(e,"&subsidaryid=").concat(t,"&employeeid=").concat(n)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeSalaryHistoryById",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeSalaryHistoryById?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeSalaryHistory",value:function(e){return this.http.post("".concat(this.baseUrl,"/ChangeEmployeeData/CreateEmployeeSalaryHistory"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeSalaryHistory",value:function(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeSalaryHistory",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCodeEmployeeSalaryHistory",value:function(e,t){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetMaxCodeEmployeeSalaryHistory?subsidaryid=".concat(e,"&employeeid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"DeleteEmployeeSalaryHistory",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/DeleteEmployeeSalaryHistory?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeSalaryHistoryDataForValidation",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeSalaryHistoryDataForValidation?employeeid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetAllEmployeeAllowanceHistory",value:function(e,t,n,a){var i="/ChangeEmployeeData/GetAllEmployeeAllowanceHistory?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n,"&viewOnlyValidAllowances=").concat(a);return e.searchValue&&(i+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+i).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeAllowanceHistory",value:function(e,t,n,a){return this.http.get(this.baseUrl+"/ChangeEmployeeData/CountOfEmployeeAllowanceHistory?searchValue=".concat(e,"&subsidaryid=").concat(t,"&employeeid=").concat(n,"&viewOnlyValidAllowances=").concat(a)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeAllowanceHistoryById",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeAllowanceHistoryById?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeAllowanceHistory",value:function(e){return this.http.post("".concat(this.baseUrl,"/ChangeEmployeeData/CreateEmployeeAllowanceHistory"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeAllowanceHistory",value:function(e){return this.http.post(this.baseUrl+"/ChangeEmployeeData/UpdateEmployeeAllowanceHistory",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCodeEmployeeAllowanceHistory",value:function(e,t){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetMaxCodeEmployeeAllowanceHistory?subsidaryid=".concat(e,"&employeeid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"DeleteEmployeeAllowanceHistory",value:function(e){return this.http.get(this.baseUrl+"/ChangeEmployeeData/DeleteEmployeeAllowanceHistory?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeAllowanceHistoryDataForValidation",value:function(e,t){return this.http.get(this.baseUrl+"/ChangeEmployeeData/GetEmployeeAllowanceHistoryDataForValidation?employeeid=".concat(e,"&allowancetypeid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),fi=r(5851);function Si(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.allowancestypename_ar)}}function bi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.allowancestypename_en)}}function Ei(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function xi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function Ci(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function Di(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function _i(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function Ii(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function wi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function ki(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function Ti(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function Mi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function Bi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function Fi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function Hi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function Ri(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function Oi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function Vi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function Ai(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function Ni(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function Gi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function Pi(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}var ji=function(e){return{color:e}};function Ui(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"tr",12),b["\u0275\u0275elementStart"](2,"td"),b["\u0275\u0275elementStart"](3,"div"),b["\u0275\u0275template"](4,Si,2,1,"span",9),b["\u0275\u0275template"](5,bi,2,1,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"div"),b["\u0275\u0275elementStart"](8,"span"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"div"),b["\u0275\u0275elementStart"](13,"span"),b["\u0275\u0275text"](14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"td"),b["\u0275\u0275template"](16,Ei,2,0,"span",9),b["\u0275\u0275template"](17,xi,2,0,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"td"),b["\u0275\u0275template"](19,Ci,2,0,"span",9),b["\u0275\u0275template"](20,Di,2,0,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"td",13),b["\u0275\u0275template"](22,_i,2,0,"span",9),b["\u0275\u0275template"](23,Ii,2,0,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"td",13),b["\u0275\u0275template"](25,wi,2,0,"span",9),b["\u0275\u0275template"](26,ki,2,0,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"td"),b["\u0275\u0275template"](28,Ti,2,0,"span",9),b["\u0275\u0275template"](29,Mi,2,0,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"td"),b["\u0275\u0275template"](31,Bi,2,0,"span",9),b["\u0275\u0275template"](32,Fi,2,0,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"td",13),b["\u0275\u0275template"](34,Hi,2,0,"span",9),b["\u0275\u0275template"](35,Ri,2,0,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"td"),b["\u0275\u0275template"](37,Oi,2,0,"span",9),b["\u0275\u0275template"](38,Vi,2,0,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"td"),b["\u0275\u0275template"](40,Ai,2,0,"span",9),b["\u0275\u0275template"](41,Ni,2,0,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](42,"td"),b["\u0275\u0275template"](43,Gi,2,0,"span",9),b["\u0275\u0275template"](44,Pi,2,0,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](10,27,null==n?null:n.startdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](null==n?null:n.amountofallowance),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.overtime)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.overtime)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.rewards)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.rewards)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngStyle",b["\u0275\u0275pureFunction1"](30,ji,3==n.deductibility?"black":"gray")),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.absences)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.absences)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngStyle",b["\u0275\u0275pureFunction1"](32,ji,3==n.deductibility?"black":"gray")),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.penalties)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.penalties)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.paidvacations)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.paidvacations)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.vacationpay)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.vacationpay)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngStyle",b["\u0275\u0275pureFunction1"](34,ji,3==n.deductibility?"black":"gray")),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.sickleave)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.sickleave)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.termination)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.termination)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.subjecttotaxes)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.subjecttotaxes)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.subjecttoinsurances)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.subjecttoinsurances))}}function Li(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,Ui,45,36,"ng-container",11),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.EmployeeAllowanceHistoryList)}}function Ji(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",14),b["\u0275\u0275elementStart"](1,"ngb-pagination",15),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNoChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",16),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageSize=e}),b["\u0275\u0275elementStart"](5,"option",17),b["\u0275\u0275text"](6,"10 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",18),b["\u0275\u0275text"](8,"20 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",19),b["\u0275\u0275text"](10,"50 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"option",20),b["\u0275\u0275text"](12,"100 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](13,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",a.PageSize)}}var zi=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cdr=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=m,this._changeEmployeeDataService=p,this._printService=u,this.EmployeeID=0,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeAllowanceHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this._searchModel=new S.h,this._filterAttribute=new vi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply,y.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})}),this.route.params.subscribe(function(e){y.EmployeeID=e.id,y.GetData()})}return l(e,[{key:"ngOnInit",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;setTimeout(function(){e._changeEmployeeDataService.GetAllEmployeeAllowanceHistory(e._searchModel,e.subsidaryid,e.EmployeeID,!0).subscribe(function(t){e.EmployeeAllowanceHistoryList=t.data,e.cdr.markForCheck()}),e._changeEmployeeDataService.CountOfEmployeeAllowanceHistory(e._searchModel,e.subsidaryid,e.EmployeeID,!0).subscribe(function(t){e.totalCount=t.employees,e.cdr.markForCheck()})},0)}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onAddClick",value:function(){this.router.navigateByUrl("/page/hr/manageemployee/changeemployeedata/"+this.EmployeeID)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](D.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-monthly-allowances"]],decls:53,vars:47,consts:[[1,"btn","btn-success","mr-1",2,"margin-top","30px",3,"click"],[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[1,"text-center"],[1,"text-center",2,"width","6%","text-wrap","wrap"],[1,"text-center",2,"width","7%","text-wrap","wrap"],[1,"text-center",2,"width","5%","text-wrap","wrap"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[3,"ngStyle"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"a",0),b["\u0275\u0275listener"]("click",function(){return t.onAddClick()}),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"div",1),b["\u0275\u0275elementStart"](5,"div",2),b["\u0275\u0275elementStart"](6,"h6",3),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"div"),b["\u0275\u0275elementStart"](10,"table",4),b["\u0275\u0275elementStart"](11,"thead"),b["\u0275\u0275elementStart"](12,"th",5),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"th",5),b["\u0275\u0275text"](16),b["\u0275\u0275pipe"](17,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"th",5),b["\u0275\u0275text"](19),b["\u0275\u0275pipe"](20,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"th",6),b["\u0275\u0275text"](22),b["\u0275\u0275pipe"](23,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"th",7),b["\u0275\u0275text"](25),b["\u0275\u0275pipe"](26,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"th",6),b["\u0275\u0275text"](28),b["\u0275\u0275pipe"](29,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"th",6),b["\u0275\u0275text"](31),b["\u0275\u0275pipe"](32,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"th",7),b["\u0275\u0275text"](34),b["\u0275\u0275pipe"](35,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"th",6),b["\u0275\u0275text"](37),b["\u0275\u0275pipe"](38,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"th",8),b["\u0275\u0275text"](40),b["\u0275\u0275pipe"](41,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](42,"th",7),b["\u0275\u0275text"](43),b["\u0275\u0275pipe"](44,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"th",6),b["\u0275\u0275text"](46),b["\u0275\u0275pipe"](47,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](48,"th",7),b["\u0275\u0275text"](49),b["\u0275\u0275pipe"](50,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](51,Li,2,1,"tbody",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](52,Ji,14,7,"div",10)),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,17,"Add")," "),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](8,19,"MonthlyAllowances")," "),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](14,21,"AllowanceType")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](17,23,"StartingFromDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](20,25,"TheAmount")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](23,27,"Overtime")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](26,29,"Rewards")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](29,31,"Absences")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](32,33,"Penalties")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](35,35,"PaidVacations")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](38,37,"VacationPay")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](41,39,"SickLeave")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](44,41,"Termination")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](47,43,"SubjectToTaxes")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](50,45,"SubjectToInsurances")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.EmployeeAllowanceHistoryList.length>0&&t.EmployeeID>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[o.O5,o.sg,o.PC,fi.N9,d.EJ,d.JJ,d.On,d.YN,d.Kr],pipes:[h.X$,o.uU],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem .5rem;text-transform:capitalize;letter-spacing:0;border-bottom:1px solid #f0f2f5!important}"]}),e}(),$i=function e(){i(this,e),this.id=0,this.code="",this.bonustypeid=null,this.bonusvalue=null,this.fromdate=null,this.todate=null,this.reservation=null,this.notes="",this.subsidaryid=null},Yi=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAll",value:function(e,t,n){var a="/EmployeeBonuses/GetAll?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeBonuse",value:function(e,t){return this.http.get(this.baseUrl+"/EmployeeBonuses/CountOfEmployeeBonuse?searchValue=".concat(e,"&subsidaryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e){return this.http.get(this.baseUrl+"/EmployeeBonuses/GetMaxCode?subsidaryid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"Delete",value:function(e){return this.http.get(this.baseUrl+"/EmployeeBonuses/Delete?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeBonuse",value:function(e){return this.http.post("".concat(this.baseUrl,"/EmployeeBonuses/Create"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeBonuse",value:function(e){return this.http.post(this.baseUrl+"/EmployeeBonuses/Update",e).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),qi=r(96720);function Qi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Ki(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Wi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",27),b["\u0275\u0275template"](1,Qi,2,1,"div",26),b["\u0275\u0275template"](2,Ki,2,1,"div",26),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Xi(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",28),b["\u0275\u0275element"](1,"i",29),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Zi(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",24),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]();return e.DeleteBonuse(e._bonuseT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function er(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",30),b["\u0275\u0275elementStart"](2,"div",31),b["\u0275\u0275elementStart"](3,"div",32),b["\u0275\u0275elementStart"](4,"h6",33),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",34),b["\u0275\u0275elementStart"](8,"div",35),b["\u0275\u0275elementStart"](9,"app-Matix-table",36),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeBonuseSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeBonuseSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"EmployeeBonuse")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeBonuseList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var tr=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeeBonusesService=d,this._bonusTypesService=m,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"bonustypename_ar",sortByEn:"bonustypename_en",displayName:"bonustype"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:407,Add:408,Edit:409,Delete:410,Print:411,PDF:412,Excel:413},this._bonuseT=new $i,this.EmployeeBonuseList=[],this.BonusTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(function(e){p.Cancel=e.Cancel,p.checkname=e.checkname,p.swalDeleteTitle=e.swalDeleteTitle,p.swalDetlateText=e.swalDetlateText,p.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,p.toastrSuccessDelete=e.successMsg,p.emptyerror=e.emptyerror,p.DeleteRelationmsg=e.DeleteRelationmsg,p.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){p.EmployeeID=e.id,p.showmood=null!=e.show&&"show"==e.show&&p.EmployeeID>0,p.GetBonusType(),p.GetList(),p.GetData()})}return l(e,[{key:"GetBonusType",value:function(){var e=this;this._bonusTypesService.GetAllForDropdown().subscribe(function(t){e.BonusTypeList=t,e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){}},{key:"GetList",value:function(){var e=this;this._employeeBonusesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(t){e.EmployeeBonuseList=t,e.cd.markForCheck()}),this._employeeBonusesService.CountOfEmployeeBonuse("",this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t?this._employeeBonusesService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._bonuseT.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e.cd.markForCheck()}):this._bonuseT=this.EmployeeBonuseList.find(function(e){return e.id==t})}},{key:"EmployeeBonuseSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeBonusesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeBonuseList=e,t.cd.markForCheck()}),this._employeeBonusesService.CountOfEmployeeBonuse(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeBonuseSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeBonusesService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeBonuseList=e,t.cd.markForCheck()}),this._employeeBonusesService.CountOfEmployeeBonuse(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"OnAdd",value:function(){this._bonuseT=new $i,this.showmood=!1,this.GetData()}},{key:"OnEdit",value:function(e){this._bonuseT=new $i,this.showmood=!1,this.GetData(e)}},{key:"OnShow",value:function(e){this._bonuseT=new $i,this.showmood=!0,this.GetData(e)}},{key:"CancelForm",value:function(){this._bonuseT=new $i,this.GetData()}},{key:"DeleteBonuse",value:function(e){var t=this;R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeeBonusesService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t._bonuseT=new $i,t.showmood=!1,t.GetList(),t.GetData()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._bonuseT.employeeid=this.EmployeeID,this._bonuseT.subsidaryid=this.subsidiaryID,this._bonuseT.id>0?this._employeeBonusesService.UpdateEmployeeBonuse(this._bonuseT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()}):this._employeeBonusesService.CreateEmployeeBonuse(this._bonuseT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](Yi),b["\u0275\u0275directiveInject"](qi.F))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-bonuses-form"]],decls:70,vars:45,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","bonustypeid",1,"col-form-label"],["name","bonustypeid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","bonusvalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","bonusvalue",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],["id","reservation",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","reservation",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"form",1,2),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return t.onSave(e)}),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"label",6),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",4),b["\u0275\u0275element"](12,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",5),b["\u0275\u0275elementStart"](16,"label",8),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"select",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.bonustypeid=e}),b["\u0275\u0275elementStart"](20,"option",10),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](23,Wi,3,3,"option",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"div",4),b["\u0275\u0275elementStart"](25,"div",5),b["\u0275\u0275elementStart"](26,"label",12),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.bonusvalue=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"div",4),b["\u0275\u0275elementStart"](31,"div",5),b["\u0275\u0275elementStart"](32,"label",14),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"input",15),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.fromdate=e}),b["\u0275\u0275pipe"](36,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](37,"div",3),b["\u0275\u0275elementStart"](38,"div",4),b["\u0275\u0275elementStart"](39,"div",5),b["\u0275\u0275elementStart"](40,"label",16),b["\u0275\u0275text"](41),b["\u0275\u0275pipe"](42,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"input",17),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.todate=e}),b["\u0275\u0275pipe"](44,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"div",4),b["\u0275\u0275elementStart"](46,"div",5),b["\u0275\u0275elementStart"](47,"label",18),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"input",19),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.reservation=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"div",4),b["\u0275\u0275elementStart"](52,"div",5),b["\u0275\u0275elementStart"](53,"label",20),b["\u0275\u0275text"](54),b["\u0275\u0275pipe"](55,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](56,"textarea",21),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._bonuseT.notes=e}),b["\u0275\u0275text"](57,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"div",3),b["\u0275\u0275element"](59,"div",4),b["\u0275\u0275element"](60,"div",4),b["\u0275\u0275elementStart"](61,"div",4),b["\u0275\u0275elementStart"](62,"div",22),b["\u0275\u0275template"](63,Xi,4,4,"button",23),b["\u0275\u0275elementStart"](64,"button",24),b["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),b["\u0275\u0275text"](65),b["\u0275\u0275pipe"](66,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](67,Zi,3,4,"button",25),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](68,"div",0),b["\u0275\u0275template"](69,er,10,7,"section",26),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,21,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._bonuseT.code),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](18,23,"bonustype")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._bonuseT.bonustypeid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,25,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.BonusTypeList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](28,27,"bonusvalue")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._bonuseT.bonusvalue),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](34,29,"fromdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](36,31,t._bonuseT.fromdate,"yyyy-MM-dd")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](42,34,"todate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](44,36,t._bonuseT.todate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](49,39,"reservation"),"%"),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._bonuseT.reservation),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](55,41,"notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._bonuseT.notes),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](66,43,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(408)||t.checkRoleParms(409))&&t._bonuseT.id>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(407)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.EJ,d.YN,d.Kr,o.sg,ft.L,o.O5,k.u],pipes:[h.X$,o.uU],styles:[""]}),e}(),nr=function e(){i(this,e),this.id=0,this.code="",this.benefittypeid=null,this.benefitvalue=null,this.fromdate=null,this.todate=null,this.notes="",this.subsidaryid=null},ar=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAll",value:function(e,t,n){var a="/EmployeeBenefits/GetAll?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeBenefit",value:function(e,t){return this.http.get(this.baseUrl+"/EmployeeBenefits/CountOfEmployeeBenefit?searchValue=".concat(e,"&subsidaryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e){return this.http.get(this.baseUrl+"/EmployeeBenefits/GetMaxCode?subsidaryid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"Delete",value:function(e){return this.http.get(this.baseUrl+"/EmployeeBenefits/Delete?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeBenefit",value:function(e){return this.http.post("".concat(this.baseUrl,"/EmployeeBenefits/Create"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeBenefit",value:function(e){return this.http.post(this.baseUrl+"/EmployeeBenefits/Update",e).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),ir=r(29352);function rr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function lr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function or(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",25),b["\u0275\u0275template"](1,rr,2,1,"div",24),b["\u0275\u0275template"](2,lr,2,1,"div",24),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function sr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",26),b["\u0275\u0275element"](1,"i",27),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function cr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",22),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]();return e.DeleteBenefit(e._benefitT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function dr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",28),b["\u0275\u0275elementStart"](2,"div",29),b["\u0275\u0275elementStart"](3,"div",30),b["\u0275\u0275elementStart"](4,"h6",31),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",32),b["\u0275\u0275elementStart"](8,"div",33),b["\u0275\u0275elementStart"](9,"app-Matix-table",34),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeBenefitSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeBenefitSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"EmployeeBenefit")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeBenefitList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var mr=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeeBenefitsService=d,this._allowancesTypesService=m,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"benefittypename_ar",sortByEn:"benefittypename_en",displayName:"benefittype"},{sortByAr:"fromdatestring",sortByEn:"fromdatestring",displayName:"fromdate"},{sortByAr:"todatestring",sortByEn:"todatestring",displayName:"todate"}],this.Permission={View:407,Add:408,Edit:409,Delete:410,Print:411,PDF:412,Excel:413},this._benefitT=new nr,this.EmployeeBenefitList=[],this.AllowancesTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(function(e){p.Cancel=e.Cancel,p.checkname=e.checkname,p.swalDeleteTitle=e.swalDeleteTitle,p.swalDetlateText=e.swalDetlateText,p.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,p.toastrSuccessDelete=e.successMsg,p.emptyerror=e.emptyerror,p.DeleteRelationmsg=e.DeleteRelationmsg,p.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){p.EmployeeID=e.id,p.showmood=null!=e.show&&"show"==e.show&&p.EmployeeID>0,p.GetAllowancesType(),p.GetList(),p.GetData()})}return l(e,[{key:"GetAllowancesType",value:function(){var e=this;this._allowancesTypesService.GetAllForDropdown().subscribe(function(t){e.AllowancesTypeList=t,e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){}},{key:"GetList",value:function(){var e=this;this._employeeBenefitsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(t){e.EmployeeBenefitList=t,e.cd.markForCheck()}),this._employeeBenefitsService.CountOfEmployeeBenefit("",this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t?this._employeeBenefitsService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._benefitT.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e.cd.markForCheck()}):this._benefitT=this.EmployeeBenefitList.find(function(e){return e.id==t})}},{key:"EmployeeBenefitSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeBenefitsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeBenefitList=e,t.cd.markForCheck()}),this._employeeBenefitsService.CountOfEmployeeBenefit(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeBenefitSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeBenefitsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeBenefitList=e,t.cd.markForCheck()}),this._employeeBenefitsService.CountOfEmployeeBenefit(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"OnAdd",value:function(){this._benefitT=new nr,this.showmood=!1,this.GetData()}},{key:"OnEdit",value:function(e){this._benefitT=new nr,this.showmood=!1,this.GetData(e)}},{key:"OnShow",value:function(e){this._benefitT=new nr,this.showmood=!0,this.GetData(e)}},{key:"CancelForm",value:function(){this._benefitT=new nr,this.GetData()}},{key:"DeleteBenefit",value:function(e){var t=this;R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeeBenefitsService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t._benefitT=new nr,t.showmood=!1,t.GetList(),t.GetData()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._benefitT.employeeid=this.EmployeeID,this._benefitT.subsidaryid=this.subsidiaryID,this._benefitT.id>0?this._employeeBenefitsService.UpdateEmployeeBenefit(this._benefitT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()}):this._employeeBenefitsService.CreateEmployeeBenefit(this._benefitT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully),t.CancelForm(),t.GetList()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](ar),b["\u0275\u0275directiveInject"](ir.w))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-benefits-form"]],decls:62,vars:41,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","benefittypeid",1,"col-form-label"],["name","benefittypeid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","benefitvalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","benefitvalue",1,"form-control",3,"ngModel","ngModelChange"],["id","fromdate",1,"col-form-label"],["type","Date","id","fromdate","name","fromdate",1,"form-control",3,"ngModel","ngModelChange"],["id","todate",1,"col-form-label"],["type","Date","id","todate","name","todate",1,"form-control",3,"ngModel","ngModelChange"],["id","notes",1,"col-form-label"],["id","notes","name","notes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"form",1,2),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return t.onSave(e)}),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"label",6),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",4),b["\u0275\u0275element"](12,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",5),b["\u0275\u0275elementStart"](16,"div",5),b["\u0275\u0275elementStart"](17,"label",8),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"select",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.benefittypeid=e}),b["\u0275\u0275elementStart"](21,"option",10),b["\u0275\u0275text"](22),b["\u0275\u0275pipe"](23,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](24,or,3,3,"option",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"div",4),b["\u0275\u0275elementStart"](26,"div",5),b["\u0275\u0275elementStart"](27,"label",12),b["\u0275\u0275text"](28),b["\u0275\u0275pipe"](29,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.benefitvalue=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"div",4),b["\u0275\u0275elementStart"](32,"div",5),b["\u0275\u0275elementStart"](33,"label",14),b["\u0275\u0275text"](34),b["\u0275\u0275pipe"](35,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"input",15),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.fromdate=e}),b["\u0275\u0275pipe"](37,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"div",3),b["\u0275\u0275elementStart"](39,"div",4),b["\u0275\u0275elementStart"](40,"div",5),b["\u0275\u0275elementStart"](41,"label",16),b["\u0275\u0275text"](42),b["\u0275\u0275pipe"](43,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"input",17),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.todate=e}),b["\u0275\u0275pipe"](45,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](46,"div",4),b["\u0275\u0275elementStart"](47,"div",5),b["\u0275\u0275elementStart"](48,"label",18),b["\u0275\u0275text"](49),b["\u0275\u0275pipe"](50,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"textarea",19),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._benefitT.notes=e}),b["\u0275\u0275text"](52,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](53,"div",4),b["\u0275\u0275elementStart"](54,"div",20),b["\u0275\u0275template"](55,sr,4,4,"button",21),b["\u0275\u0275elementStart"](56,"button",22),b["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),b["\u0275\u0275text"](57),b["\u0275\u0275pipe"](58,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](59,cr,3,4,"button",23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](60,"div",0),b["\u0275\u0275template"](61,dr,10,7,"section",24),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,19,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._benefitT.code),b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,21,"benefittype")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._benefitT.benefittypeid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](23,23,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.AllowancesTypeList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](29,25,"benefitvalue")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._benefitT.benefitvalue),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](35,27,"fromdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](37,29,t._benefitT.fromdate,"yyyy-MM-dd")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](43,32,"todate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](45,34,t._benefitT.todate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](50,37,"notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._benefitT.notes),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](58,39,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(408)||t.checkRoleParms(409))&&t._benefitT.id>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(407)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.EJ,d.YN,d.Kr,o.sg,ft.L,o.O5,k.u],pipes:[h.X$,o.uU],styles:[""]}),e}(),pr=function e(){i(this,e),this.hashousingallowance=!1,this.housingallowancetype=null,this.housingallowancevalue=null,this.housingallowancepercentage=null,this.housingallowancestartdate=null,this.housingallowanceenddate=null,this.housingallowancerepetition=null,this.subsidaryid=null},ur=r(25122);function yr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",25),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function hr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",25),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function vr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"label",22),b["\u0275\u0275elementStart"](1,"input",23),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.housingallowancetype=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().housingallowancetypeChange()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](2,yr,2,1,"label",24),b["\u0275\u0275template"](3,hr,2,1,"label",24),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("value",a.id)("ngModel",i._employeeT.housingallowancetype)("disabled",!i._employeeT.hashousingallowance),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang)}}function gr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"label",26),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"input",27),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.housingallowancevalue=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,3,"housingallowancevalue")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.housingallowancevalue)("disabled",!a._employeeT.hashousingallowance)}}function fr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"label",28),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"input",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.housingallowancepercentage=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,3,"housingallowancepercentage"),"%"),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.housingallowancepercentage)("disabled",!a._employeeT.hashousingallowance)}}function Sr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",30),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.index;b["\u0275\u0275property"]("value",n+1),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n+1,"")}}function br(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",31),b["\u0275\u0275element"](1,"i",32),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var Er=function(){return[]},xr=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d){var m=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeeFinancialDataService=c,this._generalService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.Yes="",this.No="",this.MissData="",this.DataSavedsuccessfully="",this.showhousingallowancevalue=!1,this.showhousingallowancepercentage=!1,this._employeeT=new pr,this._oldEmployeeT="",this.HousingAllowanceTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(function(e){m.Cancel=e.Cancel,m.checkname=e.checkname,m.DataSavedsuccessfully=e.DataSavedsuccessfully,m.Yes=e.Yes,m.No=e.No,m.MissData=e.MissData,m.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){m.EmployeeID=e.id,m.showmood=null!=e.show&&"show"==e.show&&m.EmployeeID>0,m.GetHousingAllowanceTypes(),m.GetData()})}return l(e,[{key:"housingallowancetypeChange",value:function(){1==this._employeeT.housingallowancetype?(this.showhousingallowancevalue=!0,this.showhousingallowancepercentage=!1):(this.showhousingallowancepercentage=!0,this.showhousingallowancevalue=!1)}},{key:"handleChange",value:function(e){e.checked||(this._employeeT=new pr,this._employeeT.employeeid=this.EmployeeID)}},{key:"GetHousingAllowanceTypes",value:function(){var e=this;this._employeeFinancialDataService.GetStaticValues("HousingAllowanceType").subscribe(function(t){e.HousingAllowanceTypeList=t,e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeHousingDataById(this.EmployeeID).subscribe(function(t){e._employeeT.employeeid=e.EmployeeID,e._employeeT.hashousingallowance=t.hashousingallowance,e._employeeT.housingallowancetype=t.housingallowancetype,null==e._employeeT.housingallowancetype&&(e._employeeT.housingallowancetype=1),e._employeeT.housingallowancevalue=t.housingallowancevalue,e._employeeT.housingallowancepercentage=t.housingallowancepercentage,e._employeeT.housingallowancestartdate=t.housingallowancestartdate,e._employeeT.housingallowanceenddate=t.housingallowanceenddate,e._employeeT.housingallowancerepetition=t.housingallowancerepetition,e.housingallowancetypeChange(),e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hashousingallowance&&(this._employeeT.hashousingallowance=!1),this._employeeFinancialDataService.UpdateEmployeeHousingData(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)}))}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](ei),b["\u0275\u0275directiveInject"](E.m))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-housing-data-form"]],decls:56,vars:41,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["name","hashousingallowance",3,"ngModel","ngModelChange","onChange"],["for","hashousingallowance"],[1,"col-form-label"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["id","housingallowancestartdate",1,"col-form-label"],["type","Date","id","housingallowancestartdate","name","housingallowancestartdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","housingallowanceenddate",1,"col-form-label"],["type","Date","id","housingallowanceenddate","name","housingallowanceenddate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","housingallowancerepetition",1,"col-form-label"],["name","housingallowancerepetition",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[1,"mt-4"],["type","radio","name","housingallowancetype",3,"value","ngModel","disabled","ngModelChange","change"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["id","housingallowancevalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","housingallowancevalue",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","housingallowancepercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","housingallowancepercentage",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"p-inputSwitch",5),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hashousingallowance=e})("onChange",function(e){return t.handleChange(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](7," \xa0 "),b["\u0275\u0275elementStart"](8,"label",6),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",3),b["\u0275\u0275element"](12,"div",3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",2),b["\u0275\u0275elementStart"](14,"div",3),b["\u0275\u0275elementStart"](15,"div",4),b["\u0275\u0275elementStart"](16,"label",7),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"label",8),b["\u0275\u0275template"](20,vr,4,5,"label",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"div",3),b["\u0275\u0275template"](22,gr,5,5,"div",10),b["\u0275\u0275template"](23,fr,5,5,"div",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"div",3),b["\u0275\u0275elementStart"](25,"div",4),b["\u0275\u0275elementStart"](26,"label",11),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"input",12),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.housingallowancestartdate=e}),b["\u0275\u0275pipe"](30,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"div",2),b["\u0275\u0275elementStart"](32,"div",3),b["\u0275\u0275elementStart"](33,"div",4),b["\u0275\u0275elementStart"](34,"label",13),b["\u0275\u0275text"](35),b["\u0275\u0275pipe"](36,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](37,"input",14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.housingallowanceenddate=e}),b["\u0275\u0275pipe"](38,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"div",3),b["\u0275\u0275elementStart"](40,"div",4),b["\u0275\u0275elementStart"](41,"label",15),b["\u0275\u0275text"](42),b["\u0275\u0275pipe"](43,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"select",16),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.housingallowancerepetition=e}),b["\u0275\u0275elementStart"](45,"option",17),b["\u0275\u0275text"](46),b["\u0275\u0275pipe"](47,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](48,Sr,2,2,"option",18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](49,"div",3),b["\u0275\u0275elementStart"](50,"div",19),b["\u0275\u0275template"](51,br,4,4,"button",20),b["\u0275\u0275elementStart"](52,"a",21),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](53),b["\u0275\u0275pipe"](54,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](55,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngModel",t._employeeT.hashousingallowance),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,20,"hashousingallowance")),b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](18,22,"housingallowancetype")," :"),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.HousingAllowanceTypeList),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.showhousingallowancevalue),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.showhousingallowancepercentage),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](28,24,"housingallowancestartdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](30,26,t._employeeT.housingallowancestartdate,"yyyy-MM-dd"))("disabled",!t._employeeT.hashousingallowance),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](36,29,"housingallowanceenddate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](38,31,t._employeeT.housingallowanceenddate,"yyyy-MM-dd"))("disabled",!t._employeeT.hashousingallowance),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](43,34,"housingallowancerepetition")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.housingallowancerepetition)("disabled",!t._employeeT.hashousingallowance),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](47,36,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",b["\u0275\u0275pureFunction0"](40,Er).constructor(24)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](54,38,"Cancel")," "))},directives:[d._Y,d.JL,d.F,ur.Ql,d.JJ,d.On,o.sg,o.O5,d.Fj,d.EJ,d.YN,d.Kr,d._,ft.L],pipes:[h.X$,o.uU],styles:[""]}),e}(),Cr=function e(){i(this,e),this.hasfurnitureallowance=!1,this.furnitureallowancemaritalstatus=null,this.furnitureallowanceduedate=null,this.furnitureallowanceexchangedate=null,this.furnitureallowancevalue=null,this.nonrefundableamount=null,this.furnitureallowancedescription="",this.furnitureallowancenotes="",this.subsidaryid=null};function Dr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",28),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function _r(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",28),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Ir(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"label",25),b["\u0275\u0275elementStart"](1,"input",26),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.furnitureallowancemaritalstatus=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](2,Dr,2,1,"label",27),b["\u0275\u0275template"](3,_r,2,1,"label",27),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("value",a.id)("ngModel",i._employeeT.furnitureallowancemaritalstatus)("disabled",!i._employeeT.hasfurnitureallowance),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang)}}function wr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",29),b["\u0275\u0275element"](1,"i",30),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var kr=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d){var m=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeeFinancialDataService=c,this._generalService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new Cr,this._oldEmployeeT="",this.FurnitureAllowanceMaritalStatusList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(function(e){m.Cancel=e.Cancel,m.checkname=e.checkname,m.DataSavedsuccessfully=e.DataSavedsuccessfully,m.Yes=e.Yes,m.No=e.No,m.MissData=e.MissData,m.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){m.EmployeeID=e.id,m.showmood=null!=e.show&&"show"==e.show&&m.EmployeeID>0,m.GetFurnitureAllowanceMaritalStatus(),m.GetData()})}return l(e,[{key:"GetFurnitureAllowanceMaritalStatus",value:function(){var e=this;this._employeeFinancialDataService.GetStaticValues("FurnitureAllowanceMaritalStatus").subscribe(function(t){e.FurnitureAllowanceMaritalStatusList=t,e.cd.markForCheck()})}},{key:"handleChange",value:function(e){e.checked||(this._employeeT=new Cr,this._employeeT.employeeid=this.EmployeeID)}},{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeFurnitureDataById(this.EmployeeID).subscribe(function(t){e._employeeT.employeeid=e.EmployeeID,e._employeeT.hasfurnitureallowance=t.hasfurnitureallowance,e._employeeT.furnitureallowancemaritalstatus=t.furnitureallowancemaritalstatus,e._employeeT.furnitureallowanceduedate=t.furnitureallowanceduedate,e._employeeT.furnitureallowanceexchangedate=t.furnitureallowanceexchangedate,e._employeeT.furnitureallowancevalue=t.furnitureallowancevalue,e._employeeT.nonrefundableamount=t.nonrefundableamount,e._employeeT.furnitureallowancedescription=t.furnitureallowancedescription,e._employeeT.furnitureallowancenotes=t.furnitureallowancenotes,e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hasfurnitureallowance&&(this._employeeT.hasfurnitureallowance=!1),this._employeeFinancialDataService.UpdateEmployeeFurnitureData(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)}))}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](ei),b["\u0275\u0275directiveInject"](E.m))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-furniture-data-form"]],decls:71,vars:48,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["name","hasfurnitureallowance",3,"ngModel","ngModelChange","onChange"],["for","hasfurnitureallowance"],[1,"col-form-label"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],["id","furnitureallowanceduedate",1,"col-form-label"],["type","Date","id","furnitureallowanceduedate","name","furnitureallowanceduedate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","furnitureallowanceexchangedate",1,"col-form-label"],["type","Date","id","furnitureallowanceexchangedate","name","furnitureallowanceexchangedate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","furnitureallowancevalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","furnitureallowancevalue",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","nonrefundableamount",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","nonrefundableamount",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","furnitureallowancedescription",1,"col-form-label"],["id","furnitureallowancedescription","name","furnitureallowancedescription",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","furnitureallowancenotes",1,"col-form-label"],["id","furnitureallowancenotes","name","furnitureallowancenotes",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[1,"mt-4"],["type","radio","name","furnitureallowancemaritalstatus",3,"value","ngModel","disabled","ngModelChange"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"p-inputSwitch",5),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hasfurnitureallowance=e})("onChange",function(e){return t.handleChange(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](7," \xa0 "),b["\u0275\u0275elementStart"](8,"label",6),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",3),b["\u0275\u0275element"](12,"div",3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",2),b["\u0275\u0275elementStart"](14,"div",3),b["\u0275\u0275elementStart"](15,"div",4),b["\u0275\u0275elementStart"](16,"label",7),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"label",8),b["\u0275\u0275template"](20,Ir,4,5,"label",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"div",3),b["\u0275\u0275elementStart"](22,"div",4),b["\u0275\u0275elementStart"](23,"label",10),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"input",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.furnitureallowanceduedate=e}),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"div",3),b["\u0275\u0275elementStart"](29,"div",4),b["\u0275\u0275elementStart"](30,"label",12),b["\u0275\u0275text"](31),b["\u0275\u0275pipe"](32,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.furnitureallowanceexchangedate=e}),b["\u0275\u0275pipe"](34,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"div",2),b["\u0275\u0275elementStart"](36,"div",3),b["\u0275\u0275elementStart"](37,"div",4),b["\u0275\u0275elementStart"](38,"label",14),b["\u0275\u0275text"](39),b["\u0275\u0275pipe"](40,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"input",15),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.furnitureallowancevalue=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](42,"div",3),b["\u0275\u0275elementStart"](43,"div",4),b["\u0275\u0275elementStart"](44,"label",16),b["\u0275\u0275text"](45),b["\u0275\u0275pipe"](46,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](47,"input",17),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.nonrefundableamount=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](48,"div",3),b["\u0275\u0275elementStart"](49,"div",4),b["\u0275\u0275elementStart"](50,"label",18),b["\u0275\u0275text"](51),b["\u0275\u0275pipe"](52,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](53,"textarea",19),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.furnitureallowancedescription=e}),b["\u0275\u0275text"](54,"          "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](55,"div",2),b["\u0275\u0275elementStart"](56,"div",3),b["\u0275\u0275elementStart"](57,"div",4),b["\u0275\u0275elementStart"](58,"label",20),b["\u0275\u0275text"](59),b["\u0275\u0275pipe"](60,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](61,"textarea",21),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.furnitureallowancenotes=e}),b["\u0275\u0275text"](62,"          "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](63,"div",3),b["\u0275\u0275elementStart"](64,"div",3),b["\u0275\u0275elementStart"](65,"div",22),b["\u0275\u0275template"](66,wr,4,4,"button",23),b["\u0275\u0275elementStart"](67,"a",24),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](68),b["\u0275\u0275pipe"](69,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](70,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngModel",t._employeeT.hasfurnitureallowance),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,24,"hasfurnitureallowance")),b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](18,26,"furnitureallowancemaritalstatus")," :"),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.FurnitureAllowanceMaritalStatusList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,28,"furnitureallowanceduedate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](27,30,t._employeeT.furnitureallowanceduedate,"yyyy-MM-dd"))("disabled",!t._employeeT.hasfurnitureallowance),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](32,33,"furnitureallowanceexchangedate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](34,35,t._employeeT.furnitureallowanceexchangedate,"yyyy-MM-dd"))("disabled",!t._employeeT.hasfurnitureallowance),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](40,38,"furnitureallowancevalue")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.furnitureallowancevalue)("disabled",!t._employeeT.hasfurnitureallowance),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](46,40,"nonrefundableamount")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.nonrefundableamount)("disabled",!t._employeeT.hasfurnitureallowance),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](52,42,"furnitureallowancedescription")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.furnitureallowancedescription)("disabled",!t._employeeT.hasfurnitureallowance),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](60,44,"furnitureallowancenotes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.furnitureallowancenotes)("disabled",!t._employeeT.hasfurnitureallowance),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](69,46,"Cancel")," "))},directives:[d._Y,d.JL,d.F,ur.Ql,d.JJ,d.On,o.sg,d.Fj,ft.L,o.O5,d._],pipes:[h.X$,o.uU],styles:[""]}),e}(),Tr=function e(){i(this,e),this.hasemployeetraveltickets=!1,this.haspartnertraveltickets=!1,this.haschildtraveltickets=!1,this.minmonthsbetweenticketmoves=null,this.ischildticketsonages=!1,this.childticketsonagesvalue=null,this.maxchildnumberintickets=null,this.maxchildagetoissuetickets=null,this.maxticketsvaluespentonetime=null,this.employeetravelticketpercentage=null,this.partnertravelticketpercentage=null,this.childtravelticketpercentage=null,this.travelticketnotes="",this.subsidaryid=null};function Mr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",37),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.index;b["\u0275\u0275property"]("value",n+1),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n+1," ")}}function Br(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",37),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.index;b["\u0275\u0275property"]("value",n+1),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n+1," ")}}function Fr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",37),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.index;b["\u0275\u0275property"]("value",n+1),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n+1," ")}}function Hr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",38),b["\u0275\u0275element"](1,"i",39),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var Rr=function(){return[]},Or=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d){var m=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeeFinancialDataService=c,this._generalService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new Tr,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(function(e){m.Cancel=e.Cancel,m.checkname=e.checkname,m.DataSavedsuccessfully=e.DataSavedsuccessfully,m.Yes=e.Yes,m.No=e.No,m.MissData=e.MissData,m.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){m.EmployeeID=e.id,m.showmood=null!=e.show&&"show"==e.show&&m.EmployeeID>0,m.GetData()})}return l(e,[{key:"handleChange",value:function(e){e.checked||(this._employeeT=new Tr,this._employeeT.employeeid=this.EmployeeID)}},{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeTravelTicketsDataById(this.EmployeeID).subscribe(function(t){e._employeeT.employeeid=e.EmployeeID,e._employeeT.hasemployeetraveltickets=t.hasemployeetraveltickets,e._employeeT.haspartnertraveltickets=t.haspartnertraveltickets,e._employeeT.haschildtraveltickets=t.haschildtraveltickets,e._employeeT.minmonthsbetweenticketmoves=t.minmonthsbetweenticketmoves,e._employeeT.ischildticketsonages=t.ischildticketsonages,e._employeeT.childticketsonagesvalue=t.childticketsonagesvalue,e._employeeT.maxchildnumberintickets=t.maxchildnumberintickets,e._employeeT.maxchildagetoissuetickets=t.maxchildagetoissuetickets,e._employeeT.maxticketsvaluespentonetime=t.maxticketsvaluespentonetime,e._employeeT.employeetravelticketpercentage=t.employeetravelticketpercentage,e._employeeT.partnertravelticketpercentage=t.partnertravelticketpercentage,e._employeeT.childtravelticketpercentage=t.childtravelticketpercentage,e._employeeT.travelticketnotes=t.travelticketnotes,e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hasemployeetraveltickets&&(this._employeeT.hasemployeetraveltickets=!1),null==this._employeeT.haspartnertraveltickets&&(this._employeeT.haspartnertraveltickets=!1),null==this._employeeT.haschildtraveltickets&&(this._employeeT.haschildtraveltickets=!1),null==this._employeeT.ischildticketsonages&&(this._employeeT.ischildticketsonages=!1),this._employeeFinancialDataService.UpdateEmployeeTravelTicketsData(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)}))}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](ei),b["\u0275\u0275directiveInject"](E.m))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-travel-tickets-data-form"]],decls:111,vars:86,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["name","hasemployeetraveltickets",3,"ngModel","ngModelChange","onChange"],["for","hasemployeetraveltickets"],["name","haspartnertraveltickets",3,"ngModel","disabled","ngModelChange"],["for","haspartnertraveltickets"],["name","haschildtraveltickets",3,"ngModel","disabled","ngModelChange"],["for","haschildtraveltickets"],["id","employeetravelticketpercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","employeetravelticketpercentage",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","partnertravelticketpercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","partnertravelticketpercentage",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","childtravelticketpercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","childtravelticketpercentage",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","minmonthsbetweenticketmoves",1,"col-form-label"],["name","minmonthsbetweenticketmoves",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","maxticketsvaluespentonetime",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","maxticketsvaluespentonetime",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"form-group",2,"margin-top","40px"],["name","ischildticketsonages",3,"ngModel","disabled","ngModelChange"],["for","ischildticketsonages"],["id","childticketsonagesvalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","childticketsonagesvalue",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","maxchildnumberintickets",1,"col-form-label"],["name","maxchildnumberintickets",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","maxchildagetoissuetickets",1,"col-form-label"],["name","maxchildagetoissuetickets",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","travelticketnotes",1,"col-form-label"],["id","travelticketnotes","name","travelticketnotes",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"p-inputSwitch",5),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hasemployeetraveltickets=e})("onChange",function(e){return t.handleChange(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](7," \xa0 "),b["\u0275\u0275elementStart"](8,"label",6),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",3),b["\u0275\u0275elementStart"](12,"div",4),b["\u0275\u0275elementStart"](13,"p-inputSwitch",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.haspartnertraveltickets=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](14," \xa0 "),b["\u0275\u0275elementStart"](15,"label",8),b["\u0275\u0275text"](16),b["\u0275\u0275pipe"](17,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"div",3),b["\u0275\u0275elementStart"](19,"div",4),b["\u0275\u0275elementStart"](20,"p-inputSwitch",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.haschildtraveltickets=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](21," \xa0 "),b["\u0275\u0275elementStart"](22,"label",10),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"div",2),b["\u0275\u0275elementStart"](26,"div",3),b["\u0275\u0275elementStart"](27,"div",4),b["\u0275\u0275elementStart"](28,"label",11),b["\u0275\u0275text"](29),b["\u0275\u0275pipe"](30,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"input",12),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.employeetravelticketpercentage=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"div",3),b["\u0275\u0275elementStart"](33,"div",4),b["\u0275\u0275elementStart"](34,"label",13),b["\u0275\u0275text"](35),b["\u0275\u0275pipe"](36,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](37,"input",14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.partnertravelticketpercentage=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"div",3),b["\u0275\u0275elementStart"](39,"div",4),b["\u0275\u0275elementStart"](40,"label",15),b["\u0275\u0275text"](41),b["\u0275\u0275pipe"](42,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"input",16),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.childtravelticketpercentage=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"div",2),b["\u0275\u0275elementStart"](45,"div",3),b["\u0275\u0275elementStart"](46,"div",4),b["\u0275\u0275elementStart"](47,"label",17),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"select",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.minmonthsbetweenticketmoves=e}),b["\u0275\u0275elementStart"](51,"option",19),b["\u0275\u0275text"](52),b["\u0275\u0275pipe"](53,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](54,Mr,2,2,"option",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](55,"div",3),b["\u0275\u0275elementStart"](56,"div",4),b["\u0275\u0275elementStart"](57,"label",21),b["\u0275\u0275text"](58),b["\u0275\u0275pipe"](59,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](60,"input",22),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.maxticketsvaluespentonetime=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](61,"div",3),b["\u0275\u0275elementStart"](62,"div",23),b["\u0275\u0275elementStart"](63,"p-inputSwitch",24),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.ischildticketsonages=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](64," \xa0 "),b["\u0275\u0275elementStart"](65,"label",25),b["\u0275\u0275text"](66),b["\u0275\u0275pipe"](67,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](68,"div",2),b["\u0275\u0275elementStart"](69,"div",3),b["\u0275\u0275elementStart"](70,"div",4),b["\u0275\u0275elementStart"](71,"label",26),b["\u0275\u0275text"](72),b["\u0275\u0275pipe"](73,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](74,"input",27),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.childticketsonagesvalue=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](75,"div",3),b["\u0275\u0275elementStart"](76,"div",4),b["\u0275\u0275elementStart"](77,"label",28),b["\u0275\u0275text"](78),b["\u0275\u0275pipe"](79,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](80,"select",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.maxchildnumberintickets=e}),b["\u0275\u0275elementStart"](81,"option",19),b["\u0275\u0275text"](82),b["\u0275\u0275pipe"](83,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](84,Br,2,2,"option",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](85,"div",3),b["\u0275\u0275elementStart"](86,"div",4),b["\u0275\u0275elementStart"](87,"label",30),b["\u0275\u0275text"](88),b["\u0275\u0275pipe"](89,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](90,"select",31),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.maxchildagetoissuetickets=e}),b["\u0275\u0275elementStart"](91,"option",19),b["\u0275\u0275text"](92),b["\u0275\u0275pipe"](93,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](94,Fr,2,2,"option",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](95,"div",2),b["\u0275\u0275elementStart"](96,"div",3),b["\u0275\u0275elementStart"](97,"div",4),b["\u0275\u0275elementStart"](98,"label",32),b["\u0275\u0275text"](99),b["\u0275\u0275pipe"](100,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](101,"textarea",33),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.travelticketnotes=e}),b["\u0275\u0275text"](102,"          "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](103,"div",3),b["\u0275\u0275elementStart"](104,"div",3),b["\u0275\u0275elementStart"](105,"div",34),b["\u0275\u0275template"](106,Hr,4,4,"button",35),b["\u0275\u0275elementStart"](107,"a",36),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](108),b["\u0275\u0275pipe"](109,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](110,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngModel",t._employeeT.hasemployeetraveltickets),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,49,"hasemployeetraveltickets")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeT.haspartnertraveltickets)("disabled",!t._employeeT.hasemployeetraveltickets),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](17,51,"haspartnertraveltickets")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeT.haschildtraveltickets)("disabled",!t._employeeT.hasemployeetraveltickets),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](24,53,"haschildtraveltickets")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](30,55,"employeetravelticketpercentage")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.employeetravelticketpercentage)("disabled",!t._employeeT.hasemployeetraveltickets),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](36,57,"partnertravelticketpercentage")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.partnertravelticketpercentage)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haspartnertraveltickets),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](42,59,"childtravelticketpercentage")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.childtravelticketpercentage)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haschildtraveltickets),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,61,"minmonthsbetweenticketmoves")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.minmonthsbetweenticketmoves)("disabled",!t._employeeT.hasemployeetraveltickets),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](53,63,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",b["\u0275\u0275pureFunction0"](83,Rr).constructor(24)),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](59,65,"maxticketsvaluespentonetime")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.maxticketsvaluespentonetime)("disabled",!t._employeeT.hasemployeetraveltickets),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngModel",t._employeeT.ischildticketsonages)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haschildtraveltickets),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](67,67,"ischildticketsonages")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](73,69,"childticketsonagesvalue")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.childticketsonagesvalue)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haschildtraveltickets||!t._employeeT.ischildticketsonages),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](79,71,"maxchildnumberintickets")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.maxchildnumberintickets)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haschildtraveltickets||t._employeeT.ischildticketsonages),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](83,73,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",b["\u0275\u0275pureFunction0"](84,Rr).constructor(20)),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](89,75,"maxchildagetoissuetickets")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.maxchildagetoissuetickets)("disabled",!t._employeeT.hasemployeetraveltickets||!t._employeeT.haschildtraveltickets||t._employeeT.ischildticketsonages),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](93,77,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",b["\u0275\u0275pureFunction0"](85,Rr).constructor(20)),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](100,79,"notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.travelticketnotes)("disabled",!t._employeeT.hasemployeetraveltickets),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](109,81,"Cancel")," "))},directives:[d._Y,d.JL,d.F,ur.Ql,d.JJ,d.On,d.Fj,ft.L,d.EJ,d.YN,d.Kr,o.sg,o.O5],pipes:[h.X$],styles:[""]}),e}(),Vr=function e(){i(this,e),this.paymentmethod=0,this.banksnameid=null,this.banksbrancheid=null,this.accountnumber="",this.ibannumber="",this.isbankcommitment=!1,this.subsidaryid=null},Ar=r(51677),Nr=r(61286);function Gr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",16),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function Pr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"label",16),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function jr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"label",13),b["\u0275\u0275elementStart"](1,"input",14),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.paymentmethod=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().paymentmethodChange()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](2,Gr,2,1,"label",15),b["\u0275\u0275template"](3,Pr,2,1,"label",15),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("value",a.id)("ngModel",i._employeeT.paymentmethod),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==i.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=i.lang)}}function Ur(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Lr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Jr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",21),b["\u0275\u0275template"](1,Ur,2,1,"div",22),b["\u0275\u0275template"](2,Lr,2,1,"div",22),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function zr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"label",17),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.banksnameid=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().GetBanksBranche()}),b["\u0275\u0275elementStart"](5,"option",19),b["\u0275\u0275text"](6),b["\u0275\u0275pipe"](7,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](8,Jr,3,3,"option",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,5,"banksname")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.banksnameid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](7,7,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",a.BanksNameList)}}function $r(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Yr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function qr(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",21),b["\u0275\u0275template"](1,$r,2,1,"div",22),b["\u0275\u0275template"](2,Yr,2,1,"div",22),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Qr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"label",23),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",24),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.banksbrancheid=e}),b["\u0275\u0275elementStart"](5,"option",19),b["\u0275\u0275text"](6),b["\u0275\u0275pipe"](7,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](8,qr,3,3,"option",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,5,"banksbranche")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.banksbrancheid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](7,7,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",a.BanksBrancheList)}}function Kr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"label",25),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"input",26),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.accountnumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"accountnumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.accountnumber)}}function Wr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"label",27),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"input",28),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.ibannumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"ibannumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.ibannumber)}}var Xr=function(){return{standalone:!0}};function Zr(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",29),b["\u0275\u0275elementStart"](1,"input",30),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.isbankcommitment=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"label",31),b["\u0275\u0275elementStart"](3,"span"),b["\u0275\u0275text"](4),b["\u0275\u0275pipe"](5,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("checked",a._employeeT.isbankcommitment)("ngModelOptions",b["\u0275\u0275pureFunction0"](6,Xr))("ngModel",a._employeeT.isbankcommitment),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](5,4,"isbankcommitment"))}}function el(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",32),b["\u0275\u0275element"](1,"i",33),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var tl=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p){var u=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeeFinancialDataService=c,this._generalService=d,this._banksNamesService=m,this._banksBranchesService=p,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new Vr,this._oldEmployeeT="",this.BanksNameList=[],this.BanksBrancheList=[],this.PaymentMethodList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){u.lang=e.lang,u.dir=e.dir,u.translate.use(e.lang),u.ngTransUnsubscribe=u.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(function(e){u.Cancel=e.Cancel,u.checkname=e.checkname,u.DataSavedsuccessfully=e.DataSavedsuccessfully,u.Yes=e.Yes,u.No=e.No,u.MissData=e.MissData,u.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){u.EmployeeID=e.id,u.showmood=null!=e.show&&"show"==e.show&&u.EmployeeID>0,u.GetBanksName(),u.GetPaymentMethod(),u.GetData()})}return l(e,[{key:"GetPaymentMethod",value:function(){var e=this;this._employeeFinancialDataService.GetStaticValues("PaymentMethod").subscribe(function(t){e.PaymentMethodList=t,e.cd.markForCheck()})}},{key:"paymentmethodChange",value:function(){var e=this._employeeT.paymentmethod;2!=this._employeeT.paymentmethod&&(this._employeeT=new Vr,this._employeeT.employeeid=this.EmployeeID,this._employeeT.paymentmethod=e)}},{key:"GetBanksName",value:function(){var e=this;this._banksNamesService.GetAllForDropdown().subscribe(function(t){e.BanksNameList=t,e.cd.markForCheck()})}},{key:"GetBanksBranche",value:function(){var e=this;this._banksBranchesService.GetAllForDropdown(this._employeeT.banksnameid).subscribe(function(t){e.BanksBrancheList=t,e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeePaymentMethodDataById(this.EmployeeID).subscribe(function(t){e._employeeT.employeeid=e.EmployeeID,e._employeeT.paymentmethod=t.paymentmethod,e._employeeT.banksnameid=t.banksnameid,e._employeeT.banksbrancheid=t.banksbrancheid,e._employeeT.accountnumber=t.accountnumber,e._employeeT.ibannumber=t.ibannumber,e._employeeT.isbankcommitment=t.isbankcommitment,e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&this._employeeFinancialDataService.UpdateEmployeePaymentMethodData(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)})}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](ei),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](Ar.H),b["\u0275\u0275directiveInject"](Nr.V))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-payment-method-data-form"]],decls:32,vars:13,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],[1,"col-form-label"],[2,"margin-left","10px","margin-right","10px"],["class","mt-4",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["class","form-group","style","margin-top: 40px;",4,"ngIf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[1,"mt-4"],["type","radio","name","paymentmethod",3,"value","ngModel","ngModelChange","change"],["class","ml-2",4,"ngIf"],[1,"ml-2"],["id","banksnameid",1,"col-form-label"],["name","banksnameid",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],["id","banksbrancheid",1,"col-form-label"],["name","banksbrancheid",1,"form-control",3,"ngModel","ngModelChange"],["id","accountnumber",1,"col-form-label"],["type","text","name","accountnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","ibannumber",1,"col-form-label"],["type","text","name","ibannumber",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","40px"],["type","checkbox","id","isbankcommitment",3,"checked","ngModelOptions","ngModel","ngModelChange"],["for","isbankcommitment"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"label",6),b["\u0275\u0275template"](10,jr,4,4,"label",7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",3),b["\u0275\u0275template"](12,zr,9,9,"div",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275template"](14,Qr,9,9,"div",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"div",2),b["\u0275\u0275elementStart"](16,"div",3),b["\u0275\u0275template"](17,Kr,5,4,"div",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"div",3),b["\u0275\u0275template"](19,Wr,5,4,"div",8),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"div",3),b["\u0275\u0275template"](21,Zr,6,7,"div",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"div",2),b["\u0275\u0275element"](23,"div",3),b["\u0275\u0275element"](24,"div",3),b["\u0275\u0275elementStart"](25,"div",3),b["\u0275\u0275elementStart"](26,"div",10),b["\u0275\u0275template"](27,el,4,4,"button",11),b["\u0275\u0275elementStart"](28,"a",12),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](29),b["\u0275\u0275pipe"](30,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](31,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](8,9,"paymentmethod")," :"),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.PaymentMethodList),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",2===t._employeeT.paymentmethod),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",2===t._employeeT.paymentmethod),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",2===t._employeeT.paymentmethod),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",2===t._employeeT.paymentmethod),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",2===t._employeeT.paymentmethod),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](30,11,"Cancel")," "))},directives:[d._Y,d.JL,d.F,o.sg,o.O5,d._,d.Fj,d.JJ,d.On,d.EJ,d.YN,d.Kr,d.Wl],pipes:[h.X$],styles:[""]}),e}(),nl=function e(){i(this,e),this.hashealthinsurance=!1,this.healthinsurancestartdate=null,this.healthinsurancecardexpirydate=null,this.subsidaryid=null};function al(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",15),b["\u0275\u0275element"](1,"i",16),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var il=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d){var m=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeeFinancialDataService=c,this._generalService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new nl,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(function(e){m.Cancel=e.Cancel,m.checkname=e.checkname,m.DataSavedsuccessfully=e.DataSavedsuccessfully,m.Yes=e.Yes,m.No=e.No,m.MissData=e.MissData,m.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){m.EmployeeID=e.id,m.showmood=null!=e.show&&"show"==e.show&&m.EmployeeID>0,m.GetData()})}return l(e,[{key:"handleChange",value:function(e){e.checked||(this._employeeT=new nl,this._employeeT.employeeid=this.EmployeeID)}},{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeHealthInsuranceDataById(this.EmployeeID).subscribe(function(t){e._employeeT.employeeid=e.EmployeeID,e._employeeT.hashealthinsurance=t.hashealthinsurance,e._employeeT.healthinsurancestartdate=t.healthinsurancestartdate,e._employeeT.healthinsurancecardexpirydate=t.healthinsurancecardexpirydate,e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hashealthinsurance&&(this._employeeT.hashealthinsurance=!1),this._employeeFinancialDataService.UpdateEmployeeHealthInsuranceData(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)}))}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](ei),b["\u0275\u0275directiveInject"](E.m))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-health-insurance-data-form"]],decls:35,vars:24,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group",2,"margin-top","20px"],["name","hashealthinsurance",3,"ngModel","ngModelChange","onChange"],["for","hashealthinsurance"],[1,"form-group"],["id","healthinsurancestartdate",1,"col-form-label"],["type","Date","id","healthinsurancestartdate","name","healthinsurancestartdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","healthinsurancecardexpirydate",1,"col-form-label"],["type","Date","id","healthinsurancecardexpirydate","name","healthinsurancecardexpirydate",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"p-inputSwitch",5),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hashealthinsurance=e})("onChange",function(e){return t.handleChange(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](7," \xa0 "),b["\u0275\u0275elementStart"](8,"label",6),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",3),b["\u0275\u0275elementStart"](12,"div",7),b["\u0275\u0275elementStart"](13,"label",8),b["\u0275\u0275text"](14),b["\u0275\u0275pipe"](15,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"input",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.healthinsurancestartdate=e}),b["\u0275\u0275pipe"](17,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"div",3),b["\u0275\u0275elementStart"](19,"div",7),b["\u0275\u0275elementStart"](20,"label",10),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"input",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.healthinsurancecardexpirydate=e}),b["\u0275\u0275pipe"](24,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"div",2),b["\u0275\u0275element"](26,"div",3),b["\u0275\u0275element"](27,"div",3),b["\u0275\u0275elementStart"](28,"div",3),b["\u0275\u0275elementStart"](29,"div",12),b["\u0275\u0275template"](30,al,4,4,"button",13),b["\u0275\u0275elementStart"](31,"a",14),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](32),b["\u0275\u0275pipe"](33,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](34,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngModel",t._employeeT.hashealthinsurance),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,10,"hashealthinsurance")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](15,12,"healthinsurancestartdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](17,14,t._employeeT.healthinsurancestartdate,"yyyy-MM-dd"))("disabled",!t._employeeT.hashealthinsurance),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](22,17,"healthinsurancecardexpirydate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](24,19,t._employeeT.healthinsurancecardexpirydate,"yyyy-MM-dd"))("disabled",!t._employeeT.hashealthinsurance),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](33,22,"Cancel")," "))},directives:[d._Y,d.JL,d.F,ur.Ql,d.JJ,d.On,d.Fj,o.O5],pipes:[h.X$,o.uU],styles:[""]}),e}(),rl=function e(){i(this,e),this.hassocialsecurity=!1,this.extendingsocialsecuritydeduct=!1,this.socialsecuritystartdate=null,this.socialsecuritysalary=null,this.socialsecuritybonus=null,this.subsidaryid=null};function ll(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",19),b["\u0275\u0275element"](1,"i",20),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var ol=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d){var m=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeeFinancialDataService=c,this._generalService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new rl,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(function(e){m.Cancel=e.Cancel,m.checkname=e.checkname,m.DataSavedsuccessfully=e.DataSavedsuccessfully,m.Yes=e.Yes,m.No=e.No,m.MissData=e.MissData,m.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){m.EmployeeID=e.id,m.showmood=null!=e.show&&"show"==e.show&&m.EmployeeID>0,m.GetData()})}return l(e,[{key:"handleChange",value:function(e){e.checked||(this._employeeT=new rl,this._employeeT.employeeid=this.EmployeeID)}},{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeSocialSecurityDataById(this.EmployeeID).subscribe(function(t){e._employeeT.employeeid=e.EmployeeID,e._employeeT.hassocialsecurity=t.hassocialsecurity,e._employeeT.extendingsocialsecuritydeduct=t.extendingsocialsecuritydeduct,e._employeeT.socialsecuritystartdate=t.socialsecuritystartdate,e._employeeT.socialsecuritysalary=t.socialsecuritysalary,e._employeeT.socialsecuritybonus=t.socialsecuritybonus,e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hassocialsecurity&&(this._employeeT.hassocialsecurity=!1),null==this._employeeT.extendingsocialsecuritydeduct&&(this._employeeT.extendingsocialsecuritydeduct=!1),this._employeeFinancialDataService.UpdateEmployeeSocialSecurityData(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)}))}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](ei),b["\u0275\u0275directiveInject"](E.m))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-social-security-data-form"]],decls:45,vars:31,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group",2,"margin-top","20px"],["name","hassocialsecurity",3,"ngModel","ngModelChange","onChange"],["for","hassocialsecurity"],["name","extendingsocialsecuritydeduct",3,"ngModel","disabled","ngModelChange"],["for","extendingsocialsecuritydeduct"],[1,"form-group"],["id","socialsecuritystartdate",1,"col-form-label"],["type","Date","id","socialsecuritystartdate","name","socialsecuritystartdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","socialsecuritysalary",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","socialsecuritysalary",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","socialsecuritybonus",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","socialsecuritybonus",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"p-inputSwitch",5),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hassocialsecurity=e})("onChange",function(e){return t.handleChange(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](7," \xa0 "),b["\u0275\u0275elementStart"](8,"label",6),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",3),b["\u0275\u0275elementStart"](12,"div",4),b["\u0275\u0275elementStart"](13,"p-inputSwitch",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.extendingsocialsecuritydeduct=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](14," \xa0 "),b["\u0275\u0275elementStart"](15,"label",8),b["\u0275\u0275text"](16),b["\u0275\u0275pipe"](17,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"div",3),b["\u0275\u0275elementStart"](19,"div",9),b["\u0275\u0275elementStart"](20,"label",10),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"input",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.socialsecuritystartdate=e}),b["\u0275\u0275pipe"](24,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"div",2),b["\u0275\u0275elementStart"](26,"div",3),b["\u0275\u0275elementStart"](27,"div",9),b["\u0275\u0275elementStart"](28,"label",12),b["\u0275\u0275text"](29),b["\u0275\u0275pipe"](30,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.socialsecuritysalary=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"div",3),b["\u0275\u0275elementStart"](33,"div",9),b["\u0275\u0275elementStart"](34,"label",14),b["\u0275\u0275text"](35),b["\u0275\u0275pipe"](36,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](37,"input",15),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.socialsecuritybonus=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"div",3),b["\u0275\u0275elementStart"](39,"div",16),b["\u0275\u0275template"](40,ll,4,4,"button",17),b["\u0275\u0275elementStart"](41,"a",18),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](42),b["\u0275\u0275pipe"](43,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](44,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngModel",t._employeeT.hassocialsecurity),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,16,"hassocialsecurity")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeT.extendingsocialsecuritydeduct)("disabled",!t._employeeT.hassocialsecurity),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](17,18,"extendingsocialsecuritydeduct")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](22,20,"socialsecuritystartdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](24,22,t._employeeT.socialsecuritystartdate,"yyyy-MM-dd"))("disabled",!t._employeeT.hassocialsecurity),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](30,25,"socialsecuritysalary")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.socialsecuritysalary)("disabled",!t._employeeT.hassocialsecurity),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](36,27,"socialsecuritybonus")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.socialsecuritybonus)("disabled",!t._employeeT.hassocialsecurity),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](43,29,"Cancel")," "))},directives:[d._Y,d.JL,d.F,ur.Ql,d.JJ,d.On,d.Fj,ft.L,o.O5],pipes:[h.X$,o.uU],styles:[""]}),e}(),sl=function e(){i(this,e),this.hasendofservicegratuity=!1,this.endofservicegratuitytypeid=null,this.endofservicegratuitydate=null,this.subsidaryid=null},cl=r(3726);function dl(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function ml(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function pl(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",17),b["\u0275\u0275template"](1,dl,2,1,"div",18),b["\u0275\u0275template"](2,ml,2,1,"div",18),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function ul(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",19),b["\u0275\u0275element"](1,"i",20),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var yl=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeeFinancialDataService=c,this._generalService=d,this._endOfServiceGratuityTypesService=m,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new sl,this._oldEmployeeT="",this.EndOfServiceGratuityTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(function(e){p.Cancel=e.Cancel,p.checkname=e.checkname,p.DataSavedsuccessfully=e.DataSavedsuccessfully,p.Yes=e.Yes,p.No=e.No,p.MissData=e.MissData,p.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){p.EmployeeID=e.id,p.showmood=null!=e.show&&"show"==e.show&&p.EmployeeID>0,p.GetEndOfServiceGratuityType(),p.GetData()})}return l(e,[{key:"GetEndOfServiceGratuityType",value:function(){var e=this;this._endOfServiceGratuityTypesService.GetAllForDropdown().subscribe(function(t){e.EndOfServiceGratuityTypeList=t,e.cd.markForCheck()})}},{key:"handleChange",value:function(e){e.checked||(this._employeeT=new sl,this._employeeT.employeeid=this.EmployeeID)}},{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeEndOfServiceGratuityDataById(this.EmployeeID).subscribe(function(t){e._employeeT.employeeid=e.EmployeeID,e._employeeT.hasendofservicegratuity=t.hasendofservicegratuity,e._employeeT.endofservicegratuitytypeid=t.endofservicegratuitytypeid,e._employeeT.endofservicegratuitydate=t.endofservicegratuitydate,e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.hasendofservicegratuity&&(this._employeeT.hasendofservicegratuity=!1),this._employeeFinancialDataService.UpdateEmployeeEndOfServiceGratuityData(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)}))}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](ei),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](cl.D))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-end-of-service-gratuity-data-form"]],decls:38,vars:26,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group",2,"margin-top","20px"],["name","hasendofservicegratuity",3,"ngModel","ngModelChange","onChange"],["for","hasendofservicegratuity"],[1,"form-group"],["id","endofservicegratuitytypeid",1,"col-form-label"],["name","endofservicegratuitytypeid",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","endofservicegratuitydate",1,"col-form-label"],["type","Date","id","endofservicegratuitydate","name","endofservicegratuitydate",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"value"],[4,"ngIf"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"p-inputSwitch",5),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hasendofservicegratuity=e})("onChange",function(e){return t.handleChange(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](7," \xa0 "),b["\u0275\u0275elementStart"](8,"label",6),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",3),b["\u0275\u0275elementStart"](12,"div",7),b["\u0275\u0275elementStart"](13,"label",8),b["\u0275\u0275text"](14),b["\u0275\u0275pipe"](15,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"select",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.endofservicegratuitytypeid=e}),b["\u0275\u0275elementStart"](17,"option",10),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](20,pl,3,3,"option",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"div",3),b["\u0275\u0275elementStart"](22,"div",7),b["\u0275\u0275elementStart"](23,"label",12),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.endofservicegratuitydate=e}),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"div",2),b["\u0275\u0275element"](29,"div",3),b["\u0275\u0275element"](30,"div",3),b["\u0275\u0275elementStart"](31,"div",3),b["\u0275\u0275elementStart"](32,"div",14),b["\u0275\u0275template"](33,ul,4,4,"button",15),b["\u0275\u0275elementStart"](34,"a",16),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](35),b["\u0275\u0275pipe"](36,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](37,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngModel",t._employeeT.hasendofservicegratuity),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,13,"hasendofservicegratuity")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](15,15,"endofservicegratuitytypeid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.endofservicegratuitytypeid)("disabled",!t._employeeT.hasendofservicegratuity),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,17,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.EndOfServiceGratuityTypeList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,19,"endofservicegratuitydate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](27,21,t._employeeT.endofservicegratuitydate,"yyyy-MM-dd"))("disabled",!t._employeeT.hasendofservicegratuity),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](36,24,"Cancel")," "))},directives:[d._Y,d.JL,d.F,ur.Ql,d.JJ,d.On,d.EJ,d.YN,d.Kr,o.sg,d.Fj,o.O5],pipes:[h.X$,o.uU],styles:[""]}),e}(),hl=function e(){i(this,e),this.accountingnumber1="",this.accountingnumber2="",this.accountingnumbernotes="",this.subsidaryid=null};function vl(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",14),b["\u0275\u0275element"](1,"i",15),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var gl=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d){var m=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeeFinancialDataService=c,this._generalService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new hl,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(function(e){m.Cancel=e.Cancel,m.checkname=e.checkname,m.DataSavedsuccessfully=e.DataSavedsuccessfully,m.Yes=e.Yes,m.No=e.No,m.MissData=e.MissData,m.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){m.EmployeeID=e.id,m.showmood=null!=e.show&&"show"==e.show&&m.EmployeeID>0,m.GetData()})}return l(e,[{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeAccountingNumberDataById(this.EmployeeID).subscribe(function(t){e._employeeT.employeeid=e.EmployeeID,e._employeeT.accountingnumber1=t.accountingnumber1,e._employeeT.accountingnumber2=t.accountingnumber2,e._employeeT.accountingnumbernotes=t.accountingnumbernotes,e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&this._employeeFinancialDataService.UpdateEmployeeAccountingNumberData(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)})}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](ei),b["\u0275\u0275directiveInject"](E.m))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-accounting-number-data-form"]],decls:33,vars:16,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","accountingnumber1",1,"col-form-label"],["type","text","name","accountingnumber1",1,"form-control",3,"ngModel","ngModelChange"],["id","accountingnumber2",1,"col-form-label"],["type","text","name","accountingnumber2",1,"form-control",3,"ngModel","ngModelChange"],["id","accountingnumbernotes",1,"col-form-label"],["id","accountingnumbernotes","name","accountingnumbernotes",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"input",6),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.accountingnumber1=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",3),b["\u0275\u0275elementStart"](11,"div",4),b["\u0275\u0275elementStart"](12,"label",7),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"input",8),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.accountingnumber2=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"div",3),b["\u0275\u0275elementStart"](17,"div",4),b["\u0275\u0275elementStart"](18,"label",9),b["\u0275\u0275text"](19),b["\u0275\u0275pipe"](20,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"textarea",10),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.accountingnumbernotes=e}),b["\u0275\u0275text"](22,"          "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"div",2),b["\u0275\u0275element"](24,"div",3),b["\u0275\u0275element"](25,"div",3),b["\u0275\u0275elementStart"](26,"div",3),b["\u0275\u0275elementStart"](27,"div",11),b["\u0275\u0275template"](28,vl,4,4,"button",12),b["\u0275\u0275elementStart"](29,"a",13),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](30),b["\u0275\u0275pipe"](31,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](32,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](8,8,"accountingnumber1")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.accountingnumber1),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](14,10,"accountingnumber2")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.accountingnumber2),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](20,12,"accountingnumbernotes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.accountingnumbernotes),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](31,14,"Cancel")," "))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,o.O5],pipes:[h.X$],styles:[""]}),e}(),fl=function e(){i(this,e),this.otherinsurancesfixing=!1,this.otherinsurancesfixingdate=null,this.otherinsurancesstopping=!1,this.otherinsurancesstoppingdate=null,this.salarystoppingdate=null,this.salarymonthscount=null,this.subsidaryid=null};function Sl(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",23),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n,"")}}function bl(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",24),b["\u0275\u0275element"](1,"i",25),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var El=function(){return[12,13,14,15,16,17,18,19,20,21,22,23,24]},xl=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d){var m=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeeFinancialDataService=c,this._generalService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new fl,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(function(e){m.Cancel=e.Cancel,m.checkname=e.checkname,m.DataSavedsuccessfully=e.DataSavedsuccessfully,m.Yes=e.Yes,m.No=e.No,m.MissData=e.MissData,m.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){m.EmployeeID=e.id,m.showmood=null!=e.show&&"show"==e.show&&m.EmployeeID>0,m.GetData()})}return l(e,[{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeOtherInsuranceDataById(this.EmployeeID).subscribe(function(t){e._employeeT.employeeid=e.EmployeeID,e._employeeT.otherinsurancesfixing=t.otherinsurancesfixing,e._employeeT.otherinsurancesfixingdate=t.otherinsurancesfixingdate,e._employeeT.otherinsurancesstopping=t.otherinsurancesstopping,e._employeeT.otherinsurancesstoppingdate=t.otherinsurancesstoppingdate,e._employeeT.salarystoppingdate=t.salarystoppingdate,e._employeeT.salarymonthscount=t.salarymonthscount,e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.otherinsurancesfixing&&(this._employeeT.otherinsurancesfixing=!1),null==this._employeeT.otherinsurancesstopping&&(this._employeeT.otherinsurancesstopping=!1),this._employeeFinancialDataService.UpdateEmployeeOtherInsuranceData(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)}))}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](ei),b["\u0275\u0275directiveInject"](E.m))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-other-insurance-data-form"]],decls:60,vars:45,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group",2,"margin-top","20px"],["name","otherinsurancesfixing",3,"ngModel","ngModelChange"],["for","otherinsurancesfixing"],[1,"form-group"],["id","otherinsurancesfixingdate",1,"col-form-label"],["type","Date","id","otherinsurancesfixingdate","name","otherinsurancesfixingdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["name","otherinsurancesstopping",3,"ngModel","ngModelChange"],["for","otherinsurancesstopping"],["id","otherinsurancesstoppingdate",1,"col-form-label"],["type","Date","id","otherinsurancesstoppingdate","name","otherinsurancesstoppingdate",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","salarystoppingdate",1,"col-form-label"],["type","Date","id","salarystoppingdate","name","salarystoppingdate",1,"form-control",3,"ngModel","ngModelChange"],["id","salarymonthscount",1,"col-form-label"],["name","salarymonthscount",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],[3,"value"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"p-inputSwitch",5),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.otherinsurancesfixing=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](7," \xa0 "),b["\u0275\u0275elementStart"](8,"label",6),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",3),b["\u0275\u0275elementStart"](12,"div",7),b["\u0275\u0275elementStart"](13,"label",8),b["\u0275\u0275text"](14),b["\u0275\u0275pipe"](15,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"input",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.otherinsurancesfixingdate=e}),b["\u0275\u0275pipe"](17,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"div",3),b["\u0275\u0275elementStart"](19,"div",4),b["\u0275\u0275elementStart"](20,"p-inputSwitch",10),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.otherinsurancesstopping=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](21," \xa0 "),b["\u0275\u0275elementStart"](22,"label",11),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"div",2),b["\u0275\u0275elementStart"](26,"div",3),b["\u0275\u0275elementStart"](27,"div",7),b["\u0275\u0275elementStart"](28,"label",12),b["\u0275\u0275text"](29),b["\u0275\u0275pipe"](30,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.otherinsurancesstoppingdate=e}),b["\u0275\u0275pipe"](32,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"div",3),b["\u0275\u0275elementStart"](34,"div",7),b["\u0275\u0275elementStart"](35,"label",14),b["\u0275\u0275text"](36),b["\u0275\u0275pipe"](37,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"input",15),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.salarystoppingdate=e}),b["\u0275\u0275pipe"](39,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](40,"div",3),b["\u0275\u0275elementStart"](41,"div",7),b["\u0275\u0275elementStart"](42,"label",16),b["\u0275\u0275text"](43),b["\u0275\u0275pipe"](44,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"select",17),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.salarymonthscount=e}),b["\u0275\u0275elementStart"](46,"option",18),b["\u0275\u0275text"](47),b["\u0275\u0275pipe"](48,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](49,Sl,2,2,"option",19),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"div",2),b["\u0275\u0275element"](51,"div",3),b["\u0275\u0275element"](52,"div",3),b["\u0275\u0275elementStart"](53,"div",3),b["\u0275\u0275elementStart"](54,"div",20),b["\u0275\u0275template"](55,bl,4,4,"button",21),b["\u0275\u0275elementStart"](56,"a",22),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](57),b["\u0275\u0275pipe"](58,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](59,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngModel",t._employeeT.otherinsurancesfixing),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,19,"otherinsurancesfixing")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](15,21,"otherinsurancesfixingdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](17,23,t._employeeT.otherinsurancesfixingdate,"yyyy-MM-dd"))("disabled",!t._employeeT.otherinsurancesfixing),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeT.otherinsurancesstopping),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](24,26,"otherinsurancesstopping")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](30,28,"otherinsurancesstoppingdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](32,30,t._employeeT.otherinsurancesstoppingdate,"yyyy-MM-dd"))("disabled",!t._employeeT.otherinsurancesstopping),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](37,33,"salarystoppingdate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](39,35,t._employeeT.salarystoppingdate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](44,38,"salarymonthscount")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.salarymonthscount),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](48,40,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",b["\u0275\u0275pureFunction0"](44,El)),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](58,42,"Cancel")," "))},directives:[d._Y,d.JL,d.F,ur.Ql,d.JJ,d.On,d.Fj,d.EJ,d.YN,d.Kr,o.sg,o.O5],pipes:[h.X$,o.uU],styles:[""]}),e}(),Cl=function e(){i(this,e),this.istaxable=!1,this.haspersonalexemption=!1,this.hasfamilyexemption=!1,this.otherexemption=null,this.subsidaryid=null};function Dl(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",16),b["\u0275\u0275element"](1,"i",17),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}var _l=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d){var m=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeeFinancialDataService=c,this._generalService=d,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.DataSavedsuccessfully="",this.Yes="",this.No="",this.MissData="",this._employeeT=new Cl,this._oldEmployeeT="",this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","DataSavedsuccessfully","MissData","savedChanges","Yes","No"]).subscribe(function(e){m.Cancel=e.Cancel,m.checkname=e.checkname,m.DataSavedsuccessfully=e.DataSavedsuccessfully,m.Yes=e.Yes,m.No=e.No,m.MissData=e.MissData,m.SavedData=e.savedChanges})}),this.route.params.subscribe(function(e){m.EmployeeID=e.id,m.showmood=null!=e.show&&"show"==e.show&&m.EmployeeID>0,m.GetData()})}return l(e,[{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeeFinancialDataService.GetEmployeeTaxDataById(this.EmployeeID).subscribe(function(t){e._employeeT.employeeid=e.EmployeeID,e._employeeT.istaxable=t.istaxable,e._employeeT.haspersonalexemption=t.haspersonalexemption,e._employeeT.hasfamilyexemption=t.hasfamilyexemption,e._employeeT.otherexemption=t.otherexemption,e._oldEmployeeT=JSON.stringify(e._employeeT),e.cd.markForCheck()})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){var t=this;this._employeeT.subsidaryid=this.subsidiaryID,this._employeeT.employeeid>0&&(null==this._employeeT.istaxable&&(this._employeeT.istaxable=!1),null==this._employeeT.haspersonalexemption&&(this._employeeT.haspersonalexemption=!1),null==this._employeeT.hasfamilyexemption&&(this._employeeT.hasfamilyexemption=!1),this._employeeFinancialDataService.UpdateEmployeeTaxData(this._employeeT).subscribe(function(e){t.toastr.success(t.DataSavedsuccessfully)}))}},{key:"NotToMissData",value:function(e){var t=this;this._oldEmployeeT!==JSON.stringify(this._employeeT)?R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?t.onSave(e):t.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}):this.router.navigateByUrl("/page/hr/manageemployee/employeefinancials")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](ei),b["\u0275\u0275directiveInject"](E.m))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-tax-data-form"]],decls:40,vars:20,consts:[["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["name","istaxable",3,"ngModel","ngModelChange"],["for","istaxable"],["name","haspersonalexemption",3,"ngModel","ngModelChange"],["for","haspersonalexemption"],["name","hasfamilyexemption",3,"ngModel","ngModelChange"],["for","hasfamilyexemption"],["id","otherexemption",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","otherexemption",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],[1,"btn","btn-danger","mr-1",3,"click"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.onSave(e)}),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"p-inputSwitch",5),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.istaxable=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](7," \xa0 "),b["\u0275\u0275elementStart"](8,"label",6),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",3),b["\u0275\u0275elementStart"](12,"div",4),b["\u0275\u0275elementStart"](13,"p-inputSwitch",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.haspersonalexemption=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](14," \xa0 "),b["\u0275\u0275elementStart"](15,"label",8),b["\u0275\u0275text"](16),b["\u0275\u0275pipe"](17,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"div",3),b["\u0275\u0275elementStart"](19,"div",4),b["\u0275\u0275elementStart"](20,"p-inputSwitch",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.hasfamilyexemption=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](21," \xa0 "),b["\u0275\u0275elementStart"](22,"label",10),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"div",2),b["\u0275\u0275elementStart"](26,"div",3),b["\u0275\u0275elementStart"](27,"div",4),b["\u0275\u0275elementStart"](28,"label",11),b["\u0275\u0275text"](29),b["\u0275\u0275pipe"](30,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"input",12),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeT.otherexemption=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](32,"div",3),b["\u0275\u0275elementStart"](33,"div",3),b["\u0275\u0275elementStart"](34,"div",13),b["\u0275\u0275template"](35,Dl,4,4,"button",14),b["\u0275\u0275elementStart"](36,"a",15),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](2);return t.NotToMissData(e)}),b["\u0275\u0275text"](37),b["\u0275\u0275pipe"](38,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](39,"div",2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngModel",t._employeeT.istaxable),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,10,"istaxable")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeT.haspersonalexemption),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](17,12,"haspersonalexemption")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeT.hasfamilyexemption),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](24,14,"hasfamilyexemption")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](30,16,"otherexemption")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeT.otherexemption),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](38,18,"Cancel")," "))},directives:[d._Y,d.JL,d.F,ur.Ql,d.JJ,d.On,d.Fj,ft.L,o.O5],pipes:[h.X$],styles:[""]}),e}(),Il=function e(){i(this,e),this.code="",this.typeid=null,this.issuedate=null,this.documentnumber="",this.enddate=null,this.description="",this.subsidaryid=null,this.imagepaths=[]},wl=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAll",value:function(e,t,n){var a="/EmployeeFinancialDocuments/GetAll?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeFinancialDocument",value:function(e,t){return this.http.get(this.baseUrl+"/EmployeeFinancialDocuments/CountOfEmployeeFinancialDocument?searchValue=".concat(e,"&subsidaryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCode",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialDocuments/GetMaxCode?subsidaryid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"Delete",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialDocuments/Delete?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeFinancialDocument",value:function(e){return this.http.post("".concat(this.baseUrl,"/EmployeeFinancialDocuments/Create"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeFinancialDocument",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialDocuments/Update",e).pipe((0,ht.U)(function(e){return e}))}},{key:"UploadFile",value:function(e){return this.http.post(this.baseUrl+"/EmployeeFinancialDocuments/UploadFile",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeFinancialDocumentAttachments",value:function(e){return this.http.get(this.baseUrl+"/EmployeeFinancialDocuments/GetEmployeeFinancialDocumentAttachments?employeefinancialdocumentid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}();function kl(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Tl(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Ml(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",34),b["\u0275\u0275template"](1,kl,2,1,"div",33),b["\u0275\u0275template"](2,Tl,2,1,"div",33),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Bl(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementContainerStart"](0,3),b["\u0275\u0275element"](1,"img",35),b["\u0275\u0275elementStart"](2,"button",36),b["\u0275\u0275listener"]("click",function(){var e=b["\u0275\u0275restoreView"](n).$implicit;return b["\u0275\u0275nextContext"]().onDeleteImage(e)}),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275element"](4,"i",37),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("src",a,b["\u0275\u0275sanitizeUrl"]),b["\u0275\u0275advance"](1),b["\u0275\u0275propertyInterpolate"]("title",b["\u0275\u0275pipeBind1"](3,2,"delete"))}}function Fl(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"button",38),b["\u0275\u0275element"](1,"i",39),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==n.showmood||null),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",b["\u0275\u0275pipeBind1"](3,2,"Submit")," ")}}function Hl(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",31),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]();return e.DeleteFinancialDocument(e._documentT.id)}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275attribute"]("disabled",1==a.showmood||null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,2,"Delete")," ")}}function Rl(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",40),b["\u0275\u0275elementStart"](2,"div",41),b["\u0275\u0275elementStart"](3,"div",42),b["\u0275\u0275elementStart"](4,"h6",43),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",44),b["\u0275\u0275elementStart"](8,"div",45),b["\u0275\u0275elementStart"](9,"app-Matix-table",46),b["\u0275\u0275listener"]("OnEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnEdit(e)})("OnAdd",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnAdd()})("OnShow",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().OnShow(e)})("OnSearch",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeFinancialDocumentSearch(e)})("OnSort",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().EmployeeFinancialDocumentSort(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,5,"EmployeeFinancialDocument")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("dataList",a.EmployeeFinancialDocumentList)("headerList",a.ListHeader)("totalCount",a.totalCount)("permission",a.Permission)}}var Ol=function(){var t=function(){function t(e,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,t),this.router=e,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._employeeFinancialDocumentsService=m,this._documentTypesService=p,this._DocumentsCategoryService=u,this.EmployeeID=0,this.showmood=!1,this.subsidiaryID=0,this.checkname="",this.Cancel="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.emptyerror="",this.DeleteRelationmsg="",this.DataSavedsuccessfully="",this.totalCount=0,this.attachments=[],this._searchModel=new S.h,this.ListHeader=[{sortByAr:"code",sortByEn:"code",displayName:"code"},{sortByAr:"documenttypename_ar",sortByEn:"documenttypename_en",displayName:"documenttypeid"},{sortByAr:"issuedatestring",sortByEn:"issuedatestring",displayName:"issuedate"},{sortByAr:"enddatestring",sortByEn:"enddatestring",displayName:"documentenddate"}],this.Permission={View:407,Add:408,Edit:409,Delete:410,Print:411,PDF:412,Excel:413},this._documentT=new Il,this.EmployeeFinancialDocumentList=[],this.DocumentTypeList=[],this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","emptyerror","DeleteRelationmsg","DataSavedsuccessfully"]).subscribe(function(e){y.Cancel=e.Cancel,y.checkname=e.checkname,y.swalDeleteTitle=e.swalDeleteTitle,y.swalDetlateText=e.swalDetlateText,y.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,y.toastrSuccessDelete=e.successMsg,y.emptyerror=e.emptyerror,y.DeleteRelationmsg=e.DeleteRelationmsg,y.DataSavedsuccessfully=e.DataSavedsuccessfully})}),this.route.params.subscribe(function(e){y.EmployeeID=e.id,y.showmood=null!=e.show&&"show"==e.show&&y.EmployeeID>0,y.GetDocumentType(),y.GetData()})}return l(t,[{key:"GetDocumentType",value:function(){var e=this;this._documentTypesService.GetAllForDropdown().subscribe(function(t){e.DocumentTypeList=t,e.cd.markForCheck()})}},{key:"ngOnInit",value:function(){this.GetList()}},{key:"GetList",value:function(){var e=this;this._employeeFinancialDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(t){e.EmployeeFinancialDocumentList=t,e.cd.markForCheck()}),this._employeeFinancialDocumentsService.CountOfEmployeeFinancialDocument("",this.subsidiaryID).subscribe(function(t){e.totalCount=t[0].total,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t?this._employeeFinancialDocumentsService.GetMaxCode(this.subsidiaryID).subscribe(function(t){e._documentT.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e.cd.markForCheck()}):(this._documentT=this.EmployeeFinancialDocumentList.find(function(e){return e.id==t}),this._documentT.imagepaths=[],this._employeeFinancialDocumentsService.GetEmployeeFinancialDocumentAttachments(t).subscribe(function(t){if(t.length>0)for(var n=0;n<t.length;n++)e._documentT.imagepaths.push(t[n].imagepath),e.GetImage(t[n].imagepath);e.cd.markForCheck()}))}},{key:"EmployeeFinancialDocumentSearch",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeFinancialDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeFinancialDocumentList=e,t.cd.markForCheck()}),this._employeeFinancialDocumentsService.CountOfEmployeeFinancialDocument(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"EmployeeFinancialDocumentSort",value:function(e){var t=this;Object.assign(this._searchModel,e),this._employeeFinancialDocumentsService.GetAll(this._searchModel,this.subsidiaryID,this.EmployeeID).subscribe(function(e){t.EmployeeFinancialDocumentList=e,t.cd.markForCheck()}),this._employeeFinancialDocumentsService.CountOfEmployeeFinancialDocument(this._searchModel.searchValue,this.subsidiaryID).subscribe(function(e){t.totalCount=e[0].total})}},{key:"OnAdd",value:function(){this._documentT=new Il,this.previews=null,this.showmood=!1,this.GetData()}},{key:"OnEdit",value:function(e){this._documentT=new Il,this.previews=null,this.showmood=!1,this.GetData(e)}},{key:"OnShow",value:function(e){this._documentT=new Il,this.previews=null,this.showmood=!0,this.GetData(e)}},{key:"CancelForm",value:function(){this._documentT=new Il,this.previews=null,this.GetData()}},{key:"DeleteFinancialDocument",value:function(e){var t=this;R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed&&t._employeeFinancialDocumentsService.Delete(e).subscribe(function(e){0==e?(t.GetData(),t.toastr.success(t.toastrSuccessDelete),t._documentT=new Il,t.previews=null,t.showmood=!1,t.GetList()):t.toastr.error(t.DeleteRelationmsg)})})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(e){this.attachments.length>0?this.UploadPhoto():this.FinalSave()}},{key:"UploadPhoto",value:function(){for(var e=this,t=0;t<this.attachments.length;t++){var n=new FormData;n.append("FileSend",this.attachments[t]),this._employeeFinancialDocumentsService.UploadFile(n).subscribe(function(t){null!=t&&null!=t&&(e._documentT.imagepaths.push(t.filepath),e._documentT.imagepaths.length==e.previews.length&&(e.FinalSave(),e.cd.markForCheck()))})}}},{key:"FinalSave",value:function(){var e=this;this._documentT.employeeid=this.EmployeeID,this._documentT.subsidaryid=this.subsidiaryID,this._documentT.id>0?this._employeeFinancialDocumentsService.UpdateEmployeeFinancialDocument(this._documentT).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.CancelForm(),e.GetList()}):this._employeeFinancialDocumentsService.CreateEmployeeFinancialDocument(this._documentT).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.CancelForm(),e.GetList()})}},{key:"previewImage",value:function(e){var t=this;if(this.selectedFiles=e.target.files,this.selectedFiles&&this.selectedFiles[0])for(var n=this.selectedFiles.length,a=0;a<n;a++){var i=new FileReader;i.onload=function(e){t.previews&&t.previews.length>0||(t.previews=[]),t.previews.push(e.target.result)},i.readAsDataURL(this.selectedFiles[a])}this.cd.markForCheck()}},{key:"fileChange",value:function(t){if(t.length>0&&null!=t[0])if(this.attachments&&this.attachments.length>0)this.attachments.push(t);else{this.attachments=[];var n,a=e(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;this.attachments.push(i)}}catch(r){a.e(r)}finally{a.f()}}this.cd.markForCheck()}},{key:"onDeleteImage",value:function(e){var t=this.previews.find(function(t){return t==e}),n=this.previews.indexOf(t);this.previews.splice(n,1),this.attachments.splice(n,1),this._documentT.imagepaths.splice(n,1),this.cd.markForCheck()}},{key:"GetImage",value:function(e){var t=this;this._DocumentsCategoryService.GetImage(e).subscribe(function(e){null!=e&&(t.createImageFromBlob(e),t.cd.markForCheck())},function(e){console.log(e)})}},{key:"createImageFromBlob",value:function(e){var t=this,n=new FileReader;console.log(n),n.addEventListener("load",function(){t.previews&&t.previews.length>0||(t.previews=[]),t.previews.push(n.result),t.cd.markForCheck()},!1),e&&n.readAsDataURL(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](wl),b["\u0275\u0275directiveInject"](jn.T),b["\u0275\u0275directiveInject"](V.F))},t.\u0275cmp=b["\u0275\u0275defineComponent"]({type:t,selectors:[["app-financial-documents-form"]],decls:75,vars:45,consts:[[1,"card"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","typeid",1,"col-form-label"],["name","typeid",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","issuedate",1,"col-form-label"],["type","Date","id","issuedate","name","issuedate",1,"form-control",3,"ngModel","ngModelChange"],["id","enddate",1,"col-form-label"],["type","Date","id","enddate","name","enddate",1,"form-control",3,"ngModel","ngModelChange"],["id","documentnumber",1,"col-form-label"],["type","text","name","documentnumber",1,"form-control",3,"ngModel","ngModelChange"],["id","description",1,"col-form-label"],["id","description","name","description",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","30px"],["id","attachment",1,"col-form-label"],["type","button",1,"add-photo",3,"change"],["accept",".jpg, .png, .jpeg, .gif|image/*","id","file","multiple","multiple","name","file","type","file",2,"display","none","border","none",3,"change"],["fileupload",""],["for","file",1,"text-white","m-0"],[1,"fa","fa-camera","camera"],[1,"col-lg-8","col-md-8","col-sm-12","mb-2","mb-md-0"],["class","row",4,"ngFor","ngForOf"],[1,"col-12",2,"margin-top","20px"],["type","submit","class","btn btn-success mr-2",4,"ngIf"],["type","button",1,"btn","btn-danger","mr-2",3,"click"],["type","button","class","btn btn-danger mr-2",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],["alt","...",1,"preview",2,"height","100px","width","100px",3,"src"],[1,"col-1","delete-img",3,"title","click"],[1,"fa","fa-times","danger"],["type","submit",1,"btn","btn-success","mr-2"],[1,"ft-check-square","mr-1"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[3,"dataList","headerList","totalCount","permission","OnEdit","OnAdd","OnShow","OnSearch","OnSort"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"form",1,2),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](3);return t.onSave(e)}),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"div",5),b["\u0275\u0275elementStart"](7,"label",6),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"input",7),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](11,"div",4),b["\u0275\u0275element"](12,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"div",5),b["\u0275\u0275elementStart"](16,"label",8),b["\u0275\u0275text"](17),b["\u0275\u0275pipe"](18,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"select",9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.typeid=e}),b["\u0275\u0275elementStart"](20,"option",10),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](23,Ml,3,3,"option",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"div",4),b["\u0275\u0275elementStart"](25,"div",5),b["\u0275\u0275elementStart"](26,"label",12),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.issuedate=e}),b["\u0275\u0275pipe"](30,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"div",4),b["\u0275\u0275elementStart"](32,"div",5),b["\u0275\u0275elementStart"](33,"label",14),b["\u0275\u0275text"](34),b["\u0275\u0275pipe"](35,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"input",15),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.enddate=e}),b["\u0275\u0275pipe"](37,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"div",3),b["\u0275\u0275elementStart"](39,"div",4),b["\u0275\u0275elementStart"](40,"div",5),b["\u0275\u0275elementStart"](41,"label",16),b["\u0275\u0275text"](42),b["\u0275\u0275pipe"](43,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"input",17),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.documentnumber=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"div",4),b["\u0275\u0275elementStart"](46,"div",5),b["\u0275\u0275elementStart"](47,"label",18),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"textarea",19),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._documentT.description=e}),b["\u0275\u0275text"](51,"            "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"div",20),b["\u0275\u0275elementStart"](54,"label",21),b["\u0275\u0275text"](55),b["\u0275\u0275pipe"](56,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](57,"button",22),b["\u0275\u0275listener"]("change",function(e){return t.previewImage(e)}),b["\u0275\u0275elementStart"](58,"input",23,24),b["\u0275\u0275listener"]("change",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](59);return t.fileChange(e.files)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](60,"label",25),b["\u0275\u0275element"](61,"i",26),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](62,"div",3),b["\u0275\u0275elementStart"](63,"div",27),b["\u0275\u0275elementStart"](64,"div",5),b["\u0275\u0275template"](65,Bl,5,4,"ng-container",28),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](66,"div",4),b["\u0275\u0275elementStart"](67,"div",29),b["\u0275\u0275template"](68,Fl,4,4,"button",30),b["\u0275\u0275elementStart"](69,"button",31),b["\u0275\u0275listener"]("click",function(){return t.CancelForm()}),b["\u0275\u0275text"](70),b["\u0275\u0275pipe"](71,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](72,Hl,3,4,"button",32),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](73,"div",0),b["\u0275\u0275template"](74,Rl,10,7,"section",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](8),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,21,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._documentT.code),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](18,23,"documenttypeid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._documentT.typeid),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,25,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.DocumentTypeList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](28,27,"issuedate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](30,29,t._documentT.issuedate,"yyyy-MM-dd")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](35,32,"documentenddate"),""),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](37,34,t._documentT.enddate,"yyyy-MM-dd")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](43,37,"documentnumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._documentT.documentnumber),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,39,"description")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._documentT.description),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](56,41,"attachment")),b["\u0275\u0275advance"](10),b["\u0275\u0275property"]("ngForOf",t.previews),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(408)||t.checkRoleParms(409)),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](71,43,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",(t.checkRoleParms(408)||t.checkRoleParms(409))&&t._documentT.id>0),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(407)))},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.EJ,d.YN,d.Kr,o.sg,o.O5,k.u],pipes:[h.X$,o.uU],styles:[".add-photo[_ngcontent-%COMP%]{border:0 solid #fff;background-color:transparent}.add-photo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer}.preview[_ngcontent-%COMP%]{position:relative}.delete-img[_ngcontent-%COMP%]{background-color:#00000085;width:5%;padding:5px;left:100px;top:-30px;border:0}.camera[_ngcontent-%COMP%]{color:#999;font-size:22px}"]}),t}();function Vl(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",2),b["\u0275\u0275elementStart"](1,"h1"),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Al(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",23),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2)._employeeT.employeestatus_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("ngModel",a._employeeT.employeestatus_en)}}function Nl(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",23),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2)._employeeT.employeestatus_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("ngModel",a._employeeT.employeestatus_ar)}}function Gl(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"div",24),b["\u0275\u0275elementStart"](2,"button",25),b["\u0275\u0275elementStart"](3,"label",26),b["\u0275\u0275element"](4,"i",27),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]())}var Pl=function(e){return{color:e}};function jl(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0,2),b["\u0275\u0275element"](1,"i",29),b["\u0275\u0275element"](2,"img",30),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](3);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngStyle",b["\u0275\u0275pureFunction1"](2,Pl,1==a._employeeT.workingstatus?"#bafca6":2==a._employeeT.workingstatus?"#f1d299":3==a._employeeT.workingstatus?"#fca6b9":"#dd89f7")),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("src",n,b["\u0275\u0275sanitizeUrl"])}}function Ul(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",10),b["\u0275\u0275elementStart"](1,"div",11),b["\u0275\u0275template"](2,jl,3,4,"ng-container",28),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",n.previews)}}function Ll(e,t){1&e&&b["\u0275\u0275element"](0,"app-financial-data-form")}function Jl(e,t){1&e&&b["\u0275\u0275element"](0,"app-monthly-allowances")}function zl(e,t){1&e&&b["\u0275\u0275element"](0,"app-bonuses-form")}function $l(e,t){1&e&&b["\u0275\u0275element"](0,"app-benefits-form")}function Yl(e,t){1&e&&b["\u0275\u0275element"](0,"app-housing-data-form")}function ql(e,t){1&e&&b["\u0275\u0275element"](0,"app-furniture-data-form")}function Ql(e,t){1&e&&b["\u0275\u0275element"](0,"app-travel-tickets-data-form")}function Kl(e,t){1&e&&b["\u0275\u0275element"](0,"app-payment-method-data-form")}function Wl(e,t){1&e&&b["\u0275\u0275element"](0,"app-health-insurance-data-form")}function Xl(e,t){1&e&&b["\u0275\u0275element"](0,"app-social-security-data-form")}function Zl(e,t){1&e&&b["\u0275\u0275element"](0,"app-end-of-service-gratuity-data-form")}function eo(e,t){1&e&&b["\u0275\u0275element"](0,"app-accounting-number-data-form")}function to(e,t){1&e&&b["\u0275\u0275element"](0,"app-other-insurance-data-form")}function no(e,t){1&e&&b["\u0275\u0275element"](0,"app-tax-data-form")}function ao(e,t){1&e&&b["\u0275\u0275element"](0,"app-financial-documents-form")}function io(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"p-accordion"),b["\u0275\u0275elementStart"](1,"p-accordionTab"),b["\u0275\u0275elementStart"](2,"p-header"),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"p-accordion"),b["\u0275\u0275elementStart"](6,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).FinancialDataClick()}),b["\u0275\u0275elementStart"](7,"p-header"),b["\u0275\u0275text"](8),b["\u0275\u0275pipe"](9,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](10,Ll,1,0,"app-financial-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).MonthlyAllowancesClick()}),b["\u0275\u0275elementStart"](12,"p-header"),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](15,Jl,1,0,"app-monthly-allowances",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).BonusesClick()}),b["\u0275\u0275elementStart"](17,"p-header"),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](20,zl,1,0,"app-bonuses-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OtherBenefitsClick()}),b["\u0275\u0275elementStart"](22,"p-header"),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](25,$l,1,0,"app-benefits-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).HousingClick()}),b["\u0275\u0275elementStart"](27,"p-header"),b["\u0275\u0275text"](28),b["\u0275\u0275pipe"](29,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](30,Yl,1,0,"app-housing-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).FurnitureClick()}),b["\u0275\u0275elementStart"](32,"p-header"),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](35,ql,1,0,"app-furniture-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).TravelTicketsClick()}),b["\u0275\u0275elementStart"](37,"p-header"),b["\u0275\u0275text"](38),b["\u0275\u0275pipe"](39,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](40,Ql,1,0,"app-travel-tickets-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"p-accordionTab"),b["\u0275\u0275elementStart"](42,"p-header"),b["\u0275\u0275text"](43),b["\u0275\u0275pipe"](44,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"p-accordion"),b["\u0275\u0275elementStart"](46,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).PaymentMethodClick()}),b["\u0275\u0275elementStart"](47,"p-header"),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](50,Kl,1,0,"app-payment-method-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"p-accordionTab"),b["\u0275\u0275elementStart"](52,"p-header"),b["\u0275\u0275text"](53),b["\u0275\u0275pipe"](54,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](55,"p-accordion"),b["\u0275\u0275elementStart"](56,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).HealthInsuranceClick()}),b["\u0275\u0275elementStart"](57,"p-header"),b["\u0275\u0275text"](58),b["\u0275\u0275pipe"](59,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](60,Wl,1,0,"app-health-insurance-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](61,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).SocialSecurityClick()}),b["\u0275\u0275elementStart"](62,"p-header"),b["\u0275\u0275text"](63),b["\u0275\u0275pipe"](64,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](65,Xl,1,0,"app-social-security-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](66,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).EndOfServiceGratuityClick()}),b["\u0275\u0275elementStart"](67,"p-header"),b["\u0275\u0275text"](68),b["\u0275\u0275pipe"](69,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](70,Zl,1,0,"app-end-of-service-gratuity-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](71,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).AccountingNumberClick()}),b["\u0275\u0275elementStart"](72,"p-header"),b["\u0275\u0275text"](73),b["\u0275\u0275pipe"](74,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](75,eo,1,0,"app-accounting-number-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](76,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OtherClick()}),b["\u0275\u0275elementStart"](77,"p-header"),b["\u0275\u0275text"](78),b["\u0275\u0275pipe"](79,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](80,to,1,0,"app-other-insurance-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](81,"p-accordionTab"),b["\u0275\u0275elementStart"](82,"p-header"),b["\u0275\u0275text"](83),b["\u0275\u0275pipe"](84,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](85,"p-accordion"),b["\u0275\u0275elementStart"](86,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).TaxDataClick()}),b["\u0275\u0275elementStart"](87,"p-header"),b["\u0275\u0275text"](88),b["\u0275\u0275pipe"](89,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](90,no,1,0,"app-tax-data-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](91,"p-accordionTab"),b["\u0275\u0275elementStart"](92,"p-header"),b["\u0275\u0275text"](93),b["\u0275\u0275pipe"](94,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](95,"p-accordion"),b["\u0275\u0275elementStart"](96,"p-accordionTab",31),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).DocumentsClick()}),b["\u0275\u0275elementStart"](97,"p-header"),b["\u0275\u0275text"](98),b["\u0275\u0275pipe"](99,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](100,ao,1,0,"app-financial-documents-form",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](4,35,"FinancialPackage")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](9,37,"FinancialData")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isFinancialDataClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](14,39,"MonthlyAllowances")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isMonthlyAllowancesClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,41,"Bonuses")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isBonusesClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](24,43,"OtherBenefits")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isOtherBenefitsClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](29,45,"Housing")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isHousingClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](34,47,"Furniture")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isFurnitureClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](39,49,"TravelTickets")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isTravelTicketsClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](44,51,"Payment")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,53,"PaymentMethod")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isPaymentMethodClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](54,55,"Insurance")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](59,57,"HealthInsurance")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isHealthInsuranceClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](64,59,"SocialSecurity")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isSocialSecurityClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](69,61,"EndOfServiceGratuity")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isEndOfServiceGratuityClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](74,63,"AccountingNumber")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isAccountingNumberClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](79,65,"Other")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isOtherClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](84,67,"TaxAndDiscounts")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](89,69,"TaxData")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isTaxDataClicked),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](94,71,"FinancialDocuments")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](99,73,"Documents")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.isDocumentsClicked)}}function ro(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",3),b["\u0275\u0275elementStart"](2,"div",4),b["\u0275\u0275elementStart"](3,"div",5),b["\u0275\u0275elementStart"](4,"h6",6),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",7),b["\u0275\u0275elementStart"](8,"form",8,9),b["\u0275\u0275listener"]("ngSubmit",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275reference"](9);return b["\u0275\u0275nextContext"]().onSave(e)}),b["\u0275\u0275elementStart"](10,"div",2),b["\u0275\u0275elementStart"](11,"div",10),b["\u0275\u0275elementStart"](12,"div",11),b["\u0275\u0275elementStart"](13,"label",12),b["\u0275\u0275text"](14),b["\u0275\u0275pipe"](15,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"input",13),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"div",10),b["\u0275\u0275elementStart"](18,"div",11),b["\u0275\u0275elementStart"](19,"label",14),b["\u0275\u0275text"](20),b["\u0275\u0275pipe"](21,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"input",15),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.fullname_ar=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"div",10),b["\u0275\u0275elementStart"](24,"div",11),b["\u0275\u0275elementStart"](25,"label",16),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"input",17),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeT.fullname_en=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"div",2),b["\u0275\u0275elementStart"](30,"div",10),b["\u0275\u0275elementStart"](31,"div",11),b["\u0275\u0275elementStart"](32,"label",18),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](35,Al,1,1,"input",19),b["\u0275\u0275template"](36,Nl,1,1,"input",19),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](37,Gl,5,0,"div",20),b["\u0275\u0275template"](38,Ul,3,1,"div",20),b["\u0275\u0275elementStart"](39,"div",10),b["\u0275\u0275elementStart"](40,"div",21),b["\u0275\u0275elementStart"](41,"a",22),b["\u0275\u0275text"](42),b["\u0275\u0275pipe"](43,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](44,io,101,75,"p-accordion",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,14,"addemployee")," "),b["\u0275\u0275advance"](9),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](15,16,"Code")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](21,18,"NameAR")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.fullname_ar),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](27,20,"NameEN")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a._employeeT.fullname_en),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](34,22,"workingstatus")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.previews.length<=0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.previews.length>0),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](43,24,"Cancel")," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.EmployeeID>0)}}var lo=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._employeesService=c,this._generalService=d,this._DocumentsCategoryService=m,this.EmployeeID=0,this.subsidiaryID=0,this.showmood=!1,this.checkname="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.Cancel="",this.toastrSuccessDelete="",this.DeleteRelationmsg="",this.isFinancialDataClicked=!1,this.isMonthlyAllowancesClicked=!1,this.isBonusesClicked=!1,this.isOtherBenefitsClicked=!1,this.isHousingClicked=!1,this.isFurnitureClicked=!1,this.isTravelTicketsClicked=!1,this.isPaymentMethodClicked=!1,this.isHealthInsuranceClicked=!1,this.isSocialSecurityClicked=!1,this.isEndOfServiceGratuityClicked=!1,this.isAccountingNumberClicked=!1,this.isOtherClicked=!1,this.isTaxDataClicked=!1,this.isDocumentsClicked=!1,this.previews=[],this.attachments=[],this._employeeT=new F,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","Cancel","DeleteRelationmsg","successMsg","checkname","addemployee"]).subscribe(function(e){p.swalDeleteTitle=e.swalDeleteTitle,p.swalDetlateText=e.swalDetlateText,p.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,p.Cancel=e.Cancel,p.DeleteRelationmsg=e.DeleteRelationmsg,p.toastrSuccessDelete=e.successMsg,p.checkname=e.checkname,p.title=e.addemployee,document.title=p.title})}),this.route.params.subscribe(function(e){p.EmployeeID=e.id,p.showmood=null!=e.show&&"show"==e.show&&p.EmployeeID>0,p.GetData()})}return l(e,[{key:"ngOnInit",value:function(){}},{key:"GetData",value:function(){var e=this;0==this.EmployeeID||this._employeesService.GetEmployeeMainDataById(this.EmployeeID).subscribe(function(t){e._employeeT.id=e.EmployeeID,e._employeeT.code=t.code,e._employeeT.fullname_ar=t.fullname_ar,e._employeeT.fullname_en=t.fullname_en,e._employeeT.employeestatus_en=t.employeestatus_en,e._employeeT.employeestatus_ar=t.employeestatus_ar,e._employeeT.workingstatus=t.workingstatus,e._employeeT.imagepath=t.imagepath,null!=t.imagepath&&null!=t.imagepath&&""!=t.imagepath&&e.GetImage(t.imagepath),e.cd.markForCheck()})}},{key:"FinancialDataClick",value:function(){this.isFinancialDataClicked||(this.isFinancialDataClicked=!0)}},{key:"MonthlyAllowancesClick",value:function(){this.isMonthlyAllowancesClicked||(this.isMonthlyAllowancesClicked=!0)}},{key:"BonusesClick",value:function(){this.isBonusesClicked||(this.isBonusesClicked=!0)}},{key:"OtherBenefitsClick",value:function(){this.isOtherBenefitsClicked||(this.isOtherBenefitsClicked=!0)}},{key:"HousingClick",value:function(){this.isHousingClicked||(this.isHousingClicked=!0)}},{key:"FurnitureClick",value:function(){this.isFurnitureClicked||(this.isFurnitureClicked=!0)}},{key:"TravelTicketsClick",value:function(){this.isTravelTicketsClicked||(this.isTravelTicketsClicked=!0)}},{key:"PaymentMethodClick",value:function(){this.isPaymentMethodClicked||(this.isPaymentMethodClicked=!0)}},{key:"HealthInsuranceClick",value:function(){this.isHealthInsuranceClicked||(this.isHealthInsuranceClicked=!0)}},{key:"SocialSecurityClick",value:function(){this.isSocialSecurityClicked||(this.isSocialSecurityClicked=!0)}},{key:"EndOfServiceGratuityClick",value:function(){this.isEndOfServiceGratuityClicked||(this.isEndOfServiceGratuityClicked=!0)}},{key:"AccountingNumberClick",value:function(){this.isAccountingNumberClicked||(this.isAccountingNumberClicked=!0)}},{key:"OtherClick",value:function(){this.isOtherClicked||(this.isOtherClicked=!0)}},{key:"TaxDataClick",value:function(){this.isTaxDataClicked||(this.isTaxDataClicked=!0)}},{key:"DocumentsClick",value:function(){this.isDocumentsClicked||(this.isDocumentsClicked=!0)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}},{key:"onSave",value:function(e){}},{key:"GetImage",value:function(e){var t=this;this._DocumentsCategoryService.GetImage(e).subscribe(function(e){null!=e&&(t.createImageFromBlob(e),t.cd.markForCheck())},function(e){console.log(e)})}},{key:"createImageFromBlob",value:function(e){var t=this,n=new FileReader;console.log(n),n.addEventListener("load",function(){t.previews&&t.previews.length>0||(t.previews=[]),t.previews.push(n.result),t.cd.markForCheck()},!1),e&&n.readAsDataURL(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](V.F))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-financial-add-employee"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","ps-3","cardTitle"],[1,"card-body"],["method","POST","role","form",3,"ngSubmit"],["RForm","ngForm"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","code",1,"col-form-label"],["type","text","readonly","","name","formcode",1,"form-control",3,"ngModel","ngModelChange"],["id","NameAR",1,"col-form-label"],["type","text","readonly","","name","fullNameAR",1,"form-control",3,"ngModel","ngModelChange"],["id","NameEN",1,"col-form-label"],["type","text","readonly","","name","fullNameEN",1,"form-control",3,"ngModel","ngModelChange"],["id","workingstatus",1,"col-form-label"],["type","text","disabled","","name","workingstatus","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["class","col-lg-4 col-md-4 col-sm-12 mb-2 mb-md-0",4,"ngIf"],[1,"col-12",2,"margin-top","20px"],["routerLink","/page/hr/manageemployee/employeefinancials",1,"btn","btn-danger","mr-1"],["type","text","disabled","","name","workingstatus",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group",2,"margin-top","30px","height","50%"],["type","button",1,"add-photo",2,"border","none","height","100%","width","20%"],["for","file",1,"text-white","m-0",2,"font-size","x-large"],[1,"fa","fa-camera","camera"],["class","row",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fa","fa-circle",2,"position","absolute","margin","-4px",3,"ngStyle"],["alt","...",1,"preview",2,"height","100px","width","100px",3,"src"],[3,"click"]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,Vl,4,3,"div",0),b["\u0275\u0275template"](1,ro,45,26,"section",1)),2&e&&(b["\u0275\u0275property"]("ngIf",!t.checkRoleParms(407)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(407)))},directives:[o.O5,d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,y.yS,o.sg,o.PC,g.UQ,g.US,N.h4,hi,zi,tr,mr,xr,kr,Or,tl,il,ol,yl,gl,xl,_l,Ol],pipes:[h.X$],styles:[""]}),e}(),oo=r(64762),so=function e(){i(this,e),this.id=0,this.code="",this.startdate=null,this.branchid=null,this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0},co=["VacationRForm"];function mo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function po(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function uo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function yo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function ho(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function vo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",27),b["\u0275\u0275template"](1,yo,2,1,"div",28),b["\u0275\u0275template"](2,ho,2,1,"div",28),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function go(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function fo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function So(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeBranchHistory.editor_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeBranchHistory.editor_ar)}}function bo(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeBranchHistory.editor_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeBranchHistory.editor_en)}}var Eo=function(e,t){return{"invalid-data":e,"valid-data":t}},xo=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p){var u=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._changeEmployeeDataService=m,this._branchService=p,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeBranchHistory=new so,this._oldEmployeeBranchHistory="",this.branchList=[],this.parentGetData=new b.EventEmitter,this.dataToParent=new b.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeBranchHistoryDate=null,this.EmployeeBranchHistoryBranchID=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.BranchIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;var y=this._authService.userInfo();this.currentUser=y,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){u.lang=e.lang,u.dir=e.dir,u.translate.use(e.lang),u.ngTransUnsubscribe=u.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(function(e){u.Yes=e.Yes,u.No=e.No,u.Cancel=e.Cancel,u.checkname=e.checkname,u.MissData=e.MissData,u.SavedData=e.savedChanges,u.DataSavedsuccessfully=e.DataSavedsuccessfully,u.Erorr=e.Erorr,u.Approval=e.Approval,u.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}return l(e,[{key:"ngOnInit",value:function(){this._employeeBranchHistory.employeeid=this.employeeid,this._employeeBranchHistory.id=this.employeeBranchHistoryID,this.GetEmployeeDataForValidation(),this.GetBranchs()}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this._changeEmployeeDataService.GetEmployeeBranchHistoryDataForValidation(this.employeeid).subscribe(function(t){null!=t.data&&null!=t.data.workstartdate&&(e.EmployeeWorkStartDate=t.data.workstartdate,e.EmployeeDateOfHiring=t.data.dateofhiring,e.EmployeeBranchHistoryDate=t.data.branchhistorydate,e.EmployeeBranchHistoryBranchID=t.data.branchhistorybranchid),e.GetData()})}},{key:"GetBranchs",value:function(){var e=this;this._branchService.GetAllForDropdown().subscribe(function(t){e.branchList=t,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this;this._employeeBranchHistory=new so,0==this.employeeBranchHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeBranchHistory(this.subsidiaryID,this.employeeid).subscribe(function(t){t.data[0].code>0?e._employeeBranchHistory.code=(parseFloat(t.data[0].code)+1).toString():(e._employeeBranchHistory.code="1",e._employeeBranchHistory.startdate=null==e.EmployeeDateOfHiring?e.EmployeeWorkStartDate:e.EmployeeDateOfHiring,e.isFirstRecored=!0),e._employeeBranchHistory.editor_en=e.currentUser.name,e._employeeBranchHistory.editor_ar=e.currentUser.name_ar,e._employeeBranchHistory.editingdate=new Date,e._oldEmployeeBranchHistory=JSON.stringify(e._employeeBranchHistory),e.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeBranchHistoryById(this.employeeBranchHistoryID).subscribe(function(t){e._employeeBranchHistory.id=t.data[0].id,e._employeeBranchHistory.code=t.data[0].code,e._employeeBranchHistory.employeeid=t.data[0].employeeid,e._employeeBranchHistory.startdate=t.data[0].startdate,e._employeeBranchHistory.branchid=t.data[0].branchid,e._employeeBranchHistory.notes=t.data[0].notes,e._employeeBranchHistory.subsidaryid=t.data[0].subsidaryid,e._employeeBranchHistory.editor_en=t.data[0].editor_en,e._employeeBranchHistory.editor_ar=t.data[0].editor_ar,e._employeeBranchHistory.editingdate=t.data[0].editingdate,e._employeeBranchHistory.islastrecored=t.data[0].islastrecored,e.dataToParent.emit(e._employeeBranchHistory.islastrecored),e._oldEmployeeBranchHistory=JSON.stringify(e._employeeBranchHistory),e.cd.markForCheck()})}},{key:"getDateDifferences",value:function(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));var n=t.getFullYear()-e.getFullYear(),a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;var i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;var r=t.getDate()-e.getDate();r<0&&(r+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+r+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+r+" Day"}},{key:"CalculateTotalServicePeriodTransactionDate",value:function(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeBranchHistory.startdate))}},{key:"onStartingFromDateChange",value:function(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeBranchHistory.startdate<this.EmployeeDateOfHiring||this._employeeBranchHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeBranchHistory.startdate<=this.EmployeeBranchHistoryDate)}},{key:"onTheNewBranchChange",value:function(){this.BranchIDOtherRecoredVaild=0!=this.isFirstRecored||this._employeeBranchHistory.branchid!=this.EmployeeBranchHistoryBranchID}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(){var e=this;this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.BranchIDOtherRecoredVaild&&(this._employeeBranchHistory.employeeid=this.employeeid,this._employeeBranchHistory.subsidaryid=this.subsidiaryID,this._employeeBranchHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeBranchHistory(this._employeeBranchHistory).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeBranchHistory(this._employeeBranchHistory).subscribe(function(t){e._employeeBranchHistory.id=t.data[0].id,e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}),this.manuallySubmitted=!1)}},{key:"NotToMissData",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._oldEmployeeBranchHistory===JSON.stringify(this._employeeBranchHistory)){e.next=5;break}return e.next=3,R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});case 3:return t=e.sent,e.abrupt("return",!t.isConfirmed||1!=t.isConfirmed);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](me.b))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-branch-form"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](co,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid",employeeBranchHistoryID:"employeeBranchHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:65,vars:58,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","TheNewBranch",1,"col-form-label"],["name","TheNewBranch",1,"form-control",3,"disabled","ngModel","required","ngClass","ngModelChange","change"],["TheNewBranchID","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],[4,"ngIf"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"input",6),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeBranchHistory.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",3),b["\u0275\u0275elementStart"](11,"div",4),b["\u0275\u0275elementStart"](12,"label",7),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementStart"](15,"span",8),b["\u0275\u0275text"](16,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"input",9,10),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeBranchHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),b["\u0275\u0275pipe"](19,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](20,mo,3,3,"span",11),b["\u0275\u0275template"](21,po,3,3,"span",11),b["\u0275\u0275template"](22,uo,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"div",3),b["\u0275\u0275elementStart"](24,"div",4),b["\u0275\u0275elementStart"](25,"label",12),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"translate"),b["\u0275\u0275elementStart"](28,"span",8),b["\u0275\u0275text"](29,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"select",13,14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeBranchHistory.branchid=e})("change",function(){return t.onTheNewBranchChange()}),b["\u0275\u0275elementStart"](32,"option",15),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](35,vo,3,3,"option",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](36,go,3,3,"span",11),b["\u0275\u0275template"](37,fo,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"div",3),b["\u0275\u0275elementStart"](39,"div",4),b["\u0275\u0275elementStart"](40,"label",17),b["\u0275\u0275text"](41),b["\u0275\u0275pipe"](42,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"input",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"div",2),b["\u0275\u0275elementStart"](45,"div",19),b["\u0275\u0275elementStart"](46,"div",4),b["\u0275\u0275elementStart"](47,"label",20),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"input",21),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeBranchHistory.notes=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"div",3),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"label",22),b["\u0275\u0275text"](54),b["\u0275\u0275pipe"](55,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](56,So,1,1,"input",23),b["\u0275\u0275template"](57,bo,1,1,"input",23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"div",3),b["\u0275\u0275elementStart"](59,"div",4),b["\u0275\u0275elementStart"](60,"label",24),b["\u0275\u0275text"](61),b["\u0275\u0275pipe"](62,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](63,"input",25),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeBranchHistory.editingdate=e}),b["\u0275\u0275pipe"](64,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275reference"](18),a=b["\u0275\u0275reference"](31);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](8,30,"Serial")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeBranchHistory.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](14,32,"StartingFromDate")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeBranchHistory.islastrecored)("required",!0)("ngModel",b["\u0275\u0275pipeBind2"](19,34,t._employeeBranchHistory.startdate,"yyyy-MM-dd"))("ngClass",b["\u0275\u0275pureFunction2"](52,Eo,n.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,n.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](27,37,"TheNewBranch")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeBranchHistory.islastrecored)("ngModel",t._employeeBranchHistory.branchid)("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](55,Eo,a.invalid&&t.manuallySubmitted||!t.BranchIDOtherRecoredVaild,a.valid&&t.manuallySubmitted&&t.BranchIDOtherRecoredVaild)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](34,39,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.branchList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.BranchIDOtherRecoredVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](42,41,"TotalServicePeriodTransactionDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,43,"Notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeBranchHistory.notes)("disabled",!t._employeeBranchHistory.islastrecored),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](55,45,"Editor")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](62,47,"EditingDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](64,49,t._employeeBranchHistory.editingdate,"dd/MM/yyyy"))}},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.Q7,o.mk,o.O5,d.EJ,d.YN,d.Kr,o.sg],pipes:[h.X$,o.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e}(),Co=function e(){i(this,e),this.id=0,this.code="",this.startdate=null,this.sectionid=null,this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0},Do=["VacationRForm"];function _o(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Io(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function wo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function ko(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function To(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Mo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",27),b["\u0275\u0275template"](1,ko,2,1,"div",28),b["\u0275\u0275template"](2,To,2,1,"div",28),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Bo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Fo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function Ho(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeSectionHistory.editor_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeSectionHistory.editor_ar)}}function Ro(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeSectionHistory.editor_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeSectionHistory.editor_en)}}var Oo=function(e,t){return{"invalid-data":e,"valid-data":t}},Vo=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p){var u=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._changeEmployeeDataService=m,this._sectionsService=p,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeSectionHistory=new Co,this._oldEmployeeSectionHistory="",this.sectionList=[],this.parentGetData=new b.EventEmitter,this.dataToParent=new b.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeSectionHistoryDate=null,this.EmployeeSectionHistorySectionID=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.SectionIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;var y=this._authService.userInfo();this.currentUser=y,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){u.lang=e.lang,u.dir=e.dir,u.translate.use(e.lang),u.ngTransUnsubscribe=u.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(function(e){u.Yes=e.Yes,u.No=e.No,u.Cancel=e.Cancel,u.checkname=e.checkname,u.MissData=e.MissData,u.SavedData=e.savedChanges,u.DataSavedsuccessfully=e.DataSavedsuccessfully,u.Erorr=e.Erorr,u.Approval=e.Approval,u.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}return l(e,[{key:"ngOnInit",value:function(){this._employeeSectionHistory.employeeid=this.employeeid,this._employeeSectionHistory.id=this.employeeSectionHistoryID,this.GetEmployeeDataForValidation(),this.GetSections()}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this._changeEmployeeDataService.GetEmployeeSectionHistoryDataForValidation(this.employeeid).subscribe(function(t){null!=t.data&&null!=t.data.workstartdate&&(e.EmployeeWorkStartDate=t.data.workstartdate,e.EmployeeDateOfHiring=t.data.dateofhiring,e.EmployeeSectionHistoryDate=t.data.sectionhistorydate,e.EmployeeSectionHistorySectionID=t.data.sectionhistorysectionid),e.GetData()})}},{key:"GetSections",value:function(){var e=this;this._sectionsService.GetAllForDropdown().subscribe(function(t){e.sectionList=t,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this;this._employeeSectionHistory=new Co,0==this.employeeSectionHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeSectionHistory(this.subsidiaryID,this.employeeid).subscribe(function(t){t.data[0].code>0?e._employeeSectionHistory.code=(parseFloat(t.data[0].code)+1).toString():(e._employeeSectionHistory.code="1",e._employeeSectionHistory.startdate=null==e.EmployeeDateOfHiring?e.EmployeeWorkStartDate:e.EmployeeDateOfHiring,e.isFirstRecored=!0),e._employeeSectionHistory.editor_en=e.currentUser.name,e._employeeSectionHistory.editor_ar=e.currentUser.name_ar,e._employeeSectionHistory.editingdate=new Date,e._oldEmployeeSectionHistory=JSON.stringify(e._employeeSectionHistory),e.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeSectionHistoryById(this.employeeSectionHistoryID).subscribe(function(t){e._employeeSectionHistory.id=t.data[0].id,e._employeeSectionHistory.code=t.data[0].code,e._employeeSectionHistory.employeeid=t.data[0].employeeid,e._employeeSectionHistory.startdate=t.data[0].startdate,e._employeeSectionHistory.sectionid=t.data[0].sectionid,e._employeeSectionHistory.notes=t.data[0].notes,e._employeeSectionHistory.subsidaryid=t.data[0].subsidaryid,e._employeeSectionHistory.editor_en=t.data[0].editor_en,e._employeeSectionHistory.editor_ar=t.data[0].editor_ar,e._employeeSectionHistory.editingdate=t.data[0].editingdate,e._employeeSectionHistory.islastrecored=t.data[0].islastrecored,e.dataToParent.emit(e._employeeSectionHistory.islastrecored),e._oldEmployeeSectionHistory=JSON.stringify(e._employeeSectionHistory),e.cd.markForCheck()})}},{key:"getDateDifferences",value:function(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));var n=t.getFullYear()-e.getFullYear(),a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;var i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;var r=t.getDate()-e.getDate();r<0&&(r+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+r+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+r+" Day"}},{key:"CalculateTotalServicePeriodTransactionDate",value:function(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeSectionHistory.startdate))}},{key:"onStartingFromDateChange",value:function(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeSectionHistory.startdate<this.EmployeeDateOfHiring||this._employeeSectionHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeSectionHistory.startdate<=this.EmployeeSectionHistoryDate)}},{key:"onTheNewSectionChange",value:function(){this.SectionIDOtherRecoredVaild=0!=this.isFirstRecored||this._employeeSectionHistory.sectionid!=this.EmployeeSectionHistorySectionID}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(){var e=this;this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.SectionIDOtherRecoredVaild&&(this._employeeSectionHistory.employeeid=this.employeeid,this._employeeSectionHistory.subsidaryid=this.subsidiaryID,this._employeeSectionHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeSectionHistory(this._employeeSectionHistory).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeSectionHistory(this._employeeSectionHistory).subscribe(function(t){e._employeeSectionHistory.id=t.data[0].id,e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}),this.manuallySubmitted=!1)}},{key:"NotToMissData",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._oldEmployeeSectionHistory===JSON.stringify(this._employeeSectionHistory)){e.next=5;break}return e.next=3,R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});case 3:return t=e.sent,e.abrupt("return",!t.isConfirmed||1!=t.isConfirmed);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](se.J))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-section-form"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](Do,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid",employeeSectionHistoryID:"employeeSectionHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:65,vars:58,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","TheNewSection",1,"col-form-label"],["name","TheNewSection",1,"form-control",3,"disabled","ngModel","required","ngClass","ngModelChange","change"],["TheNewSectionID","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],[4,"ngIf"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"input",6),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSectionHistory.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",3),b["\u0275\u0275elementStart"](11,"div",4),b["\u0275\u0275elementStart"](12,"label",7),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementStart"](15,"span",8),b["\u0275\u0275text"](16,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"input",9,10),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSectionHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),b["\u0275\u0275pipe"](19,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](20,_o,3,3,"span",11),b["\u0275\u0275template"](21,Io,3,3,"span",11),b["\u0275\u0275template"](22,wo,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"div",3),b["\u0275\u0275elementStart"](24,"div",4),b["\u0275\u0275elementStart"](25,"label",12),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"translate"),b["\u0275\u0275elementStart"](28,"span",8),b["\u0275\u0275text"](29,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"select",13,14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSectionHistory.sectionid=e})("change",function(){return t.onTheNewSectionChange()}),b["\u0275\u0275elementStart"](32,"option",15),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](35,Mo,3,3,"option",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](36,Bo,3,3,"span",11),b["\u0275\u0275template"](37,Fo,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"div",3),b["\u0275\u0275elementStart"](39,"div",4),b["\u0275\u0275elementStart"](40,"label",17),b["\u0275\u0275text"](41),b["\u0275\u0275pipe"](42,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"input",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"div",2),b["\u0275\u0275elementStart"](45,"div",19),b["\u0275\u0275elementStart"](46,"div",4),b["\u0275\u0275elementStart"](47,"label",20),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"input",21),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSectionHistory.notes=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"div",3),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"label",22),b["\u0275\u0275text"](54),b["\u0275\u0275pipe"](55,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](56,Ho,1,1,"input",23),b["\u0275\u0275template"](57,Ro,1,1,"input",23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"div",3),b["\u0275\u0275elementStart"](59,"div",4),b["\u0275\u0275elementStart"](60,"label",24),b["\u0275\u0275text"](61),b["\u0275\u0275pipe"](62,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](63,"input",25),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSectionHistory.editingdate=e}),b["\u0275\u0275pipe"](64,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275reference"](18),a=b["\u0275\u0275reference"](31);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](8,30,"Serial")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeSectionHistory.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](14,32,"StartingFromDate")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeSectionHistory.islastrecored)("required",!0)("ngModel",b["\u0275\u0275pipeBind2"](19,34,t._employeeSectionHistory.startdate,"yyyy-MM-dd"))("ngClass",b["\u0275\u0275pureFunction2"](52,Oo,n.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,n.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](27,37,"TheNewSection")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeSectionHistory.islastrecored)("ngModel",t._employeeSectionHistory.sectionid)("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](55,Oo,a.invalid&&t.manuallySubmitted||!t.SectionIDOtherRecoredVaild,a.valid&&t.manuallySubmitted&&t.SectionIDOtherRecoredVaild)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](34,39,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.sectionList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.SectionIDOtherRecoredVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](42,41,"TotalServicePeriodTransactionDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,43,"Notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeSectionHistory.notes)("disabled",!t._employeeSectionHistory.islastrecored),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](55,45,"Editor")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](62,47,"EditingDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](64,49,t._employeeSectionHistory.editingdate,"dd/MM/yyyy"))}},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.Q7,o.mk,o.O5,d.EJ,d.YN,d.Kr,o.sg],pipes:[h.X$,o.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e}(),Ao=function e(){i(this,e),this.id=0,this.code="",this.startdate=null,this.departmentid=null,this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0},No=["VacationRForm"];function Go(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Po(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function jo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function Uo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Lo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Jo(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",27),b["\u0275\u0275template"](1,Uo,2,1,"div",28),b["\u0275\u0275template"](2,Lo,2,1,"div",28),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function zo(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function $o(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",26),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function Yo(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeDepartmentHistory.editor_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeDepartmentHistory.editor_ar)}}function qo(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeDepartmentHistory.editor_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeDepartmentHistory.editor_en)}}var Qo=function(e,t){return{"invalid-data":e,"valid-data":t}},Ko=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p){var u=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._changeEmployeeDataService=m,this._departmentService=p,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeDepartmentHistory=new Ao,this._oldEmployeeDepartmentHistory="",this.departmentList=[],this.parentGetData=new b.EventEmitter,this.dataToParent=new b.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeDepartmentHistoryDate=null,this.EmployeeDepartmentHistoryDepartmentID=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.DepartmentIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;var y=this._authService.userInfo();this.currentUser=y,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){u.lang=e.lang,u.dir=e.dir,u.translate.use(e.lang),u.ngTransUnsubscribe=u.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(function(e){u.Yes=e.Yes,u.No=e.No,u.Cancel=e.Cancel,u.checkname=e.checkname,u.MissData=e.MissData,u.SavedData=e.savedChanges,u.DataSavedsuccessfully=e.DataSavedsuccessfully,u.Erorr=e.Erorr,u.Approval=e.Approval,u.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}return l(e,[{key:"ngOnInit",value:function(){this._employeeDepartmentHistory.employeeid=this.employeeid,this._employeeDepartmentHistory.id=this.employeeDepartmentHistoryID,this.GetEmployeeDataForValidation(),this.GetDepartments()}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this._changeEmployeeDataService.GetEmployeeDepartmentHistoryDataForValidation(this.employeeid).subscribe(function(t){null!=t.data&&null!=t.data.workstartdate&&(e.EmployeeWorkStartDate=t.data.workstartdate,e.EmployeeDateOfHiring=t.data.dateofhiring,e.EmployeeDepartmentHistoryDate=t.data.departmenthistorydate,e.EmployeeDepartmentHistoryDepartmentID=t.data.departmenthistorydepartmentid),e.GetData()})}},{key:"GetDepartments",value:function(){var e=this;this._departmentService.GetAllForDropdown().subscribe(function(t){e.departmentList=t,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this;this._employeeDepartmentHistory=new Ao,0==this.employeeDepartmentHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeDepartmentHistory(this.subsidiaryID,this.employeeid).subscribe(function(t){t.data[0].code>0?e._employeeDepartmentHistory.code=(parseFloat(t.data[0].code)+1).toString():(e._employeeDepartmentHistory.code="1",e._employeeDepartmentHistory.startdate=null==e.EmployeeDateOfHiring?e.EmployeeWorkStartDate:e.EmployeeDateOfHiring,e.isFirstRecored=!0),e._employeeDepartmentHistory.editor_en=e.currentUser.name,e._employeeDepartmentHistory.editor_ar=e.currentUser.name_ar,e._employeeDepartmentHistory.editingdate=new Date,e._oldEmployeeDepartmentHistory=JSON.stringify(e._employeeDepartmentHistory),e.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeDepartmentHistoryById(this.employeeDepartmentHistoryID).subscribe(function(t){e._employeeDepartmentHistory.id=t.data[0].id,e._employeeDepartmentHistory.code=t.data[0].code,e._employeeDepartmentHistory.employeeid=t.data[0].employeeid,e._employeeDepartmentHistory.startdate=t.data[0].startdate,e._employeeDepartmentHistory.departmentid=t.data[0].departmentid,e._employeeDepartmentHistory.notes=t.data[0].notes,e._employeeDepartmentHistory.subsidaryid=t.data[0].subsidaryid,e._employeeDepartmentHistory.editor_en=t.data[0].editor_en,e._employeeDepartmentHistory.editor_ar=t.data[0].editor_ar,e._employeeDepartmentHistory.editingdate=t.data[0].editingdate,e._employeeDepartmentHistory.islastrecored=t.data[0].islastrecored,e.dataToParent.emit(e._employeeDepartmentHistory.islastrecored),e._oldEmployeeDepartmentHistory=JSON.stringify(e._employeeDepartmentHistory),e.cd.markForCheck()})}},{key:"getDateDifferences",value:function(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));var n=t.getFullYear()-e.getFullYear(),a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;var i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;var r=t.getDate()-e.getDate();r<0&&(r+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+r+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+r+" Day"}},{key:"CalculateTotalServicePeriodTransactionDate",value:function(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeDepartmentHistory.startdate))}},{key:"onStartingFromDateChange",value:function(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeDepartmentHistory.startdate<this.EmployeeDateOfHiring||this._employeeDepartmentHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeDepartmentHistory.startdate<=this.EmployeeDepartmentHistoryDate)}},{key:"onTheNewDepartmentChange",value:function(){this.DepartmentIDOtherRecoredVaild=0!=this.isFirstRecored||this._employeeDepartmentHistory.departmentid!=this.EmployeeDepartmentHistoryDepartmentID}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(){var e=this;this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.DepartmentIDOtherRecoredVaild&&(this._employeeDepartmentHistory.employeeid=this.employeeid,this._employeeDepartmentHistory.subsidaryid=this.subsidiaryID,this._employeeDepartmentHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeDepartmentHistory(this._employeeDepartmentHistory).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeDepartmentHistory(this._employeeDepartmentHistory).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e._employeeDepartmentHistory.id=t.data[0].id,e.parentGetData.emit()}),this.manuallySubmitted=!1)}},{key:"NotToMissData",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._oldEmployeeDepartmentHistory===JSON.stringify(this._employeeDepartmentHistory)){e.next=5;break}return e.next=3,R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});case 3:return t=e.sent,e.abrupt("return",!t.isConfirmed||1!=t.isConfirmed);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](pe.n))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-department-form"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](No,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid",employeeDepartmentHistoryID:"employeeDepartmentHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:65,vars:58,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","TheNewDepartment",1,"col-form-label"],["name","TheNewDepartment",1,"form-control",3,"disabled","ngModel","required","ngClass","ngModelChange","change"],["TheNewDepartmentID","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],[4,"ngIf"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"input",6),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeDepartmentHistory.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",3),b["\u0275\u0275elementStart"](11,"div",4),b["\u0275\u0275elementStart"](12,"label",7),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementStart"](15,"span",8),b["\u0275\u0275text"](16,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"input",9,10),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeDepartmentHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),b["\u0275\u0275pipe"](19,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](20,Go,3,3,"span",11),b["\u0275\u0275template"](21,Po,3,3,"span",11),b["\u0275\u0275template"](22,jo,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"div",3),b["\u0275\u0275elementStart"](24,"div",4),b["\u0275\u0275elementStart"](25,"label",12),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"translate"),b["\u0275\u0275elementStart"](28,"span",8),b["\u0275\u0275text"](29,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"select",13,14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeDepartmentHistory.departmentid=e})("change",function(){return t.onTheNewDepartmentChange()}),b["\u0275\u0275elementStart"](32,"option",15),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](35,Jo,3,3,"option",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](36,zo,3,3,"span",11),b["\u0275\u0275template"](37,$o,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"div",3),b["\u0275\u0275elementStart"](39,"div",4),b["\u0275\u0275elementStart"](40,"label",17),b["\u0275\u0275text"](41),b["\u0275\u0275pipe"](42,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"input",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"div",2),b["\u0275\u0275elementStart"](45,"div",19),b["\u0275\u0275elementStart"](46,"div",4),b["\u0275\u0275elementStart"](47,"label",20),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"input",21),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeDepartmentHistory.notes=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"div",3),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"label",22),b["\u0275\u0275text"](54),b["\u0275\u0275pipe"](55,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](56,Yo,1,1,"input",23),b["\u0275\u0275template"](57,qo,1,1,"input",23),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"div",3),b["\u0275\u0275elementStart"](59,"div",4),b["\u0275\u0275elementStart"](60,"label",24),b["\u0275\u0275text"](61),b["\u0275\u0275pipe"](62,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](63,"input",25),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeDepartmentHistory.editingdate=e}),b["\u0275\u0275pipe"](64,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275reference"](18),a=b["\u0275\u0275reference"](31);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](8,30,"Serial")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeDepartmentHistory.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](14,32,"StartingFromDate")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeDepartmentHistory.islastrecored)("required",!0)("ngModel",b["\u0275\u0275pipeBind2"](19,34,t._employeeDepartmentHistory.startdate,"yyyy-MM-dd"))("ngClass",b["\u0275\u0275pureFunction2"](52,Qo,n.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,n.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](27,37,"TheNewDepartment")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeDepartmentHistory.islastrecored)("ngModel",t._employeeDepartmentHistory.departmentid)("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](55,Qo,a.invalid&&t.manuallySubmitted||!t.DepartmentIDOtherRecoredVaild,a.valid&&t.manuallySubmitted&&t.DepartmentIDOtherRecoredVaild)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](34,39,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.departmentList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.DepartmentIDOtherRecoredVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](42,41,"TotalServicePeriodTransactionDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,43,"Notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeDepartmentHistory.notes)("disabled",!t._employeeDepartmentHistory.islastrecored),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](55,45,"Editor")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](62,47,"EditingDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](64,49,t._employeeDepartmentHistory.editingdate,"dd/MM/yyyy"))}},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.Q7,o.mk,o.O5,d.EJ,d.YN,d.Kr,o.sg],pipes:[h.X$,o.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e}(),Wo=function e(){i(this,e),this.id=0,this.code="",this.startdate=null,this.costcenterid=null,this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0},Xo=["autocostcenter"],Zo=["VacationRForm"];function es(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",25),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function ts(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",25),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function ns(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",25),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function as(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.sugar)}}function is(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.sug)}}function rs(e,t){if(1&e&&(b["\u0275\u0275template"](0,as,2,1,"div",26),b["\u0275\u0275template"](1,is,2,1,"div",26)),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngIf","ar"==n.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function ls(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",25),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function os(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",25),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function ss(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",27),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeCostcenterHistory.editor_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeCostcenterHistory.editor_ar)}}function cs(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",27),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeCostcenterHistory.editor_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeCostcenterHistory.editor_en)}}var ds=function(e,t){return{"invalid-data":e,"valid-data":t}},ms=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._changeEmployeeDataService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumNotExist="",this._employeeCostcenterHistory=new Wo,this._oldEmployeeCostcenterHistory="",this.costcenterList=[],this.selectedCostcenter={},this.parentGetData=new b.EventEmitter,this.dataToParent=new b.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeCostcenterHistoryDate=null,this.EmployeeCostcenterHistoryCostcenterID=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.CostcenterIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;var u=this._authService.userInfo();this.currentUser=u,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumNotExist"]).subscribe(function(e){p.Yes=e.Yes,p.No=e.No,p.Cancel=e.Cancel,p.checkname=e.checkname,p.MissData=e.MissData,p.SavedData=e.savedChanges,p.DataSavedsuccessfully=e.DataSavedsuccessfully,p.Erorr=e.Erorr,p.Approval=e.Approval,p.PersonalDataNotComply=e.PersonalDataNotComply,p.NumNotExist=e.NumNotExist})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}return l(e,[{key:"ngOnInit",value:function(){this._employeeCostcenterHistory.employeeid=this.employeeid,this._employeeCostcenterHistory.id=this.employeeCostcenterHistoryID,this.Getcostcenter({originalEvent:FocusEvent,query:""})}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this._changeEmployeeDataService.GetEmployeeCostcenterHistoryDataForValidation(this.employeeid).subscribe(function(t){null!=t.data&&null!=t.data.workstartdate&&(e.EmployeeWorkStartDate=t.data.workstartdate,e.EmployeeDateOfHiring=t.data.dateofhiring,e.EmployeeCostcenterHistoryDate=t.data.costcenterhistorydate,e.EmployeeCostcenterHistoryCostcenterID=t.data.costcenterhistorycostcenterid),e.GetData()})}},{key:"Getcostcenter",value:function(e){var n=this;this._employeesService.Getcostcenter(this.subsidiaryID,e.query.trim(),this.lang).subscribe(function(e){n.costcenterList=[],n.costcenterList=[].concat(t(n.costcenterList),t(e)),0==n.costcenterList.length&&n.toastr.success(n.NumNotExist),n.GetEmployeeDataForValidation(),n.cd.markForCheck()})}},{key:"onSelectcostcenter",value:function(e){this._employeeCostcenterHistory.costcenterid=e.id;var t=e.id;null!=t&&null!=t&&""!=t||(this._employeeCostcenterHistory.costcenterid=null),this.onTheNewCostcenterChange(),this.cd.markForCheck()}},{key:"onFocusInAutoComplete",value:function(e){var t=e.target.value;null!=t&&null!=t&&""!=t||(this._employeeCostcenterHistory.costcenterid=null,this.autocostcenter.completeMethod.emit({originalEvent:e,query:""}))}},{key:"GetData",value:function(){var e=this;this._employeeCostcenterHistory=new Wo,0==this.employeeCostcenterHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeCostcenterHistory(this.subsidiaryID,this.employeeid).subscribe(function(t){t.data[0].code>0?e._employeeCostcenterHistory.code=(parseFloat(t.data[0].code)+1).toString():(e._employeeCostcenterHistory.code="1",e._employeeCostcenterHistory.startdate=null==e.EmployeeDateOfHiring?e.EmployeeWorkStartDate:e.EmployeeDateOfHiring,e.isFirstRecored=!0),e._employeeCostcenterHistory.editor_en=e.currentUser.name,e._employeeCostcenterHistory.editor_ar=e.currentUser.name_ar,e._employeeCostcenterHistory.editingdate=new Date,e._oldEmployeeCostcenterHistory=JSON.stringify(e._employeeCostcenterHistory),e.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeCostcenterHistoryById(this.employeeCostcenterHistoryID).subscribe(function(t){e._employeeCostcenterHistory.id=t.data[0].id,e._employeeCostcenterHistory.code=t.data[0].code,e._employeeCostcenterHistory.employeeid=t.data[0].employeeid,e._employeeCostcenterHistory.startdate=t.data[0].startdate,e._employeeCostcenterHistory.costcenterid=t.data[0].costcenterid,e.selectedCostcenter=e.costcenterList.filter(function(e){return e.id==t.data[0].costcenterid})[0],e._employeeCostcenterHistory.notes=t.data[0].notes,e._employeeCostcenterHistory.subsidaryid=t.data[0].subsidaryid,e._employeeCostcenterHistory.editor_en=t.data[0].editor_en,e._employeeCostcenterHistory.editor_ar=t.data[0].editor_ar,e._employeeCostcenterHistory.editingdate=t.data[0].editingdate,e._employeeCostcenterHistory.islastrecored=t.data[0].islastrecored,e.dataToParent.emit(e._employeeCostcenterHistory.islastrecored),e._oldEmployeeCostcenterHistory=JSON.stringify(e._employeeCostcenterHistory),e.cd.markForCheck()})}},{key:"getDateDifferences",value:function(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));var n=t.getFullYear()-e.getFullYear(),a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;var i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;var r=t.getDate()-e.getDate();r<0&&(r+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+r+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+r+" Day"}},{key:"CalculateTotalServicePeriodTransactionDate",value:function(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeCostcenterHistory.startdate))}},{key:"onStartingFromDateChange",value:function(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeCostcenterHistory.startdate<this.EmployeeDateOfHiring||this._employeeCostcenterHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeCostcenterHistory.startdate<=this.EmployeeCostcenterHistoryDate)}},{key:"onTheNewCostcenterChange",value:function(){this.CostcenterIDOtherRecoredVaild=0!=this.isFirstRecored||this._employeeCostcenterHistory.costcenterid!=this.EmployeeCostcenterHistoryCostcenterID}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(){var e=this;this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.CostcenterIDOtherRecoredVaild&&(this._employeeCostcenterHistory.employeeid=this.employeeid,this._employeeCostcenterHistory.subsidaryid=this.subsidiaryID,this._employeeCostcenterHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeCostcenterHistory(this._employeeCostcenterHistory).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeCostcenterHistory(this._employeeCostcenterHistory).subscribe(function(t){e._employeeCostcenterHistory.id=t.data[0].id,e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}),this.manuallySubmitted=!1)}},{key:"NotToMissData",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._oldEmployeeCostcenterHistory===JSON.stringify(this._employeeCostcenterHistory)){e.next=5;break}return e.next=3,R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});case 3:return t=e.sent,e.abrupt("return",!t.isConfirmed||1!=t.isConfirmed);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](gi))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-costcenter-form"]],viewQuery:function(e,t){var n;(1&e&&(b["\u0275\u0275viewQuery"](Xo,5),b["\u0275\u0275viewQuery"](Zo,5)),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.autocostcenter=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid",employeeCostcenterHistoryID:"employeeCostcenterHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:63,vars:56,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","TheNewCostcenter",1,"col-form-label"],["id","TheNewCostcenter","name","TheNewCostcenter",1,"inline-flex",3,"ngModel","suggestions","dataKey","field","disabled","required","ngClass","completeMethod","onFocus","onSelect","ngModelChange"],["autocostcenter","","TheNewCostcenterID","ngModel"],["pTemplate","item"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[4,"ngIf"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"input",6),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeCostcenterHistory.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",3),b["\u0275\u0275elementStart"](11,"div",4),b["\u0275\u0275elementStart"](12,"label",7),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementStart"](15,"span",8),b["\u0275\u0275text"](16,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"input",9,10),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeCostcenterHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),b["\u0275\u0275pipe"](19,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](20,es,3,3,"span",11),b["\u0275\u0275template"](21,ts,3,3,"span",11),b["\u0275\u0275template"](22,ns,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"div",3),b["\u0275\u0275elementStart"](24,"div",4),b["\u0275\u0275elementStart"](25,"label",12),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"translate"),b["\u0275\u0275elementStart"](28,"span",8),b["\u0275\u0275text"](29,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"p-autoComplete",13,14),b["\u0275\u0275listener"]("completeMethod",function(e){return t.Getcostcenter(e)})("onFocus",function(e){b["\u0275\u0275restoreView"](n);var a=b["\u0275\u0275reference"](31);return t.onFocusInAutoComplete(e),a.show()})("onSelect",function(e){return t.onSelectcostcenter(e)})("ngModelChange",function(e){return t.selectedCostcenter=e}),b["\u0275\u0275template"](33,rs,2,2,"ng-template",15),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](34,ls,3,3,"span",11),b["\u0275\u0275template"](35,os,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"div",3),b["\u0275\u0275elementStart"](37,"div",4),b["\u0275\u0275elementStart"](38,"label",16),b["\u0275\u0275text"](39),b["\u0275\u0275pipe"](40,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"input",17),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](42,"div",2),b["\u0275\u0275elementStart"](43,"div",18),b["\u0275\u0275elementStart"](44,"div",4),b["\u0275\u0275elementStart"](45,"label",19),b["\u0275\u0275text"](46),b["\u0275\u0275pipe"](47,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](48,"input",20),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeCostcenterHistory.notes=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](49,"div",3),b["\u0275\u0275elementStart"](50,"div",4),b["\u0275\u0275elementStart"](51,"label",21),b["\u0275\u0275text"](52),b["\u0275\u0275pipe"](53,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](54,ss,1,1,"input",22),b["\u0275\u0275template"](55,cs,1,1,"input",22),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](56,"div",3),b["\u0275\u0275elementStart"](57,"div",4),b["\u0275\u0275elementStart"](58,"label",23),b["\u0275\u0275text"](59),b["\u0275\u0275pipe"](60,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](61,"input",24),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeCostcenterHistory.editingdate=e}),b["\u0275\u0275pipe"](62,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275reference"](18),i=b["\u0275\u0275reference"](32);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](8,30,"Serial")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeCostcenterHistory.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](14,32,"StartingFromDate")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeCostcenterHistory.islastrecored)("required",!0)("ngModel",b["\u0275\u0275pipeBind2"](19,34,t._employeeCostcenterHistory.startdate,"yyyy-MM-dd"))("ngClass",b["\u0275\u0275pureFunction2"](50,ds,a.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,a.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](27,37,"TheNewCostcenter")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t.selectedCostcenter)("suggestions",t.costcenterList)("dataKey","ar"==t.lang?"sugar":"sug")("field","ar"==t.lang?"sugar":"sug")("disabled",!t._employeeCostcenterHistory.islastrecored)("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](53,ds,i.invalid&&t.manuallySubmitted||!t.CostcenterIDOtherRecoredVaild,i.valid&&t.manuallySubmitted&&t.CostcenterIDOtherRecoredVaild)),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",i.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.CostcenterIDOtherRecoredVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](40,39,"TotalServicePeriodTransactionDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](47,41,"Notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeCostcenterHistory.notes)("disabled",!t._employeeCostcenterHistory.islastrecored),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](53,43,"Editor")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](60,45,"EditingDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](62,47,t._employeeCostcenterHistory.editingdate,"dd/MM/yyyy"))}},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.Q7,o.mk,o.O5,p.Qc,N.jx],pipes:[h.X$,o.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e}(),ps=function e(){i(this,e),this.id=0,this.code="",this.startdate=null,this.professionsjobid=null,this.contracttypeid=null,this.category="",this.degree="",this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0},us=["VacationRForm"];function ys(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",33),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function hs(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",33),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function vs(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",33),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function gs(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function fs(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Ss(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",34),b["\u0275\u0275template"](1,gs,2,1,"div",35),b["\u0275\u0275template"](2,fs,2,1,"div",35),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function bs(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",33),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Es(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",33),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function xs(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Cs(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Ds(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",34),b["\u0275\u0275template"](1,xs,2,1,"div",35),b["\u0275\u0275template"](2,Cs,2,1,"div",35),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function _s(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",33),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Is(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",33),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function ws(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",33),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function ks(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",33),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function Ts(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",36),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeJobHistory.editor_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeJobHistory.editor_ar)}}function Ms(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",36),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeJobHistory.editor_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeJobHistory.editor_en)}}var Bs=function(e,t){return{"invalid-data":e,"valid-data":t}},Fs=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._changeEmployeeDataService=m,this._contractTypesService=p,this._professionsJobsService=u,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeJobHistory=new ps,this._oldEmployeeJobHistory="",this.ProfessionsJobList=[],this.contractTypeList=[],this.parentGetData=new b.EventEmitter,this.dataToParent=new b.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeJobHistoryDate=null,this.JobHistoryProfessionsJobID=null,this.EmployeeJobHistoryContractTypeID=null,this.EmployeeJobHistoryCategory=null,this.EmployeeJobHistoryDegree=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.JobIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;var h=this._authService.userInfo();this.currentUser=h,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}return l(e,[{key:"ngOnInit",value:function(){this._employeeJobHistory.employeeid=this.employeeid,this._employeeJobHistory.id=this.employeeJobHistoryID,this.GetEmployeeDataForValidation(),this.GetProfessionsJobs(),this.GetContractTypes()}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this._changeEmployeeDataService.GetEmployeeJobHistoryDataForValidation(this.employeeid).subscribe(function(t){null!=t.data&&null!=t.data.workstartdate&&(e.EmployeeWorkStartDate=t.data.workstartdate,e.EmployeeDateOfHiring=t.data.dateofhiring,e.EmployeeJobHistoryDate=t.data.jobhistorydate,e.JobHistoryProfessionsJobID=t.data.jobhistoryprofessionsjobid,e.EmployeeJobHistoryContractTypeID=t.data.jobhistorycontracttypeid,e.EmployeeJobHistoryCategory=t.data.jobhistorycategory,e.EmployeeJobHistoryDegree=t.data.jobhistorydegree),e.GetData()})}},{key:"GetContractTypes",value:function(){var e=this;this._contractTypesService.GetAllForDropdown().subscribe(function(t){e.contractTypeList=t,e.cd.markForCheck()})}},{key:"GetProfessionsJobs",value:function(){var e=this;this._professionsJobsService.GetAllForDropdown(this.subsidiaryID).subscribe(function(t){e.ProfessionsJobList=t,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this;this._employeeJobHistory=new ps,0==this.employeeJobHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeJobHistory(this.subsidiaryID,this.employeeid).subscribe(function(t){t.data[0].code>0?e._employeeJobHistory.code=(parseFloat(t.data[0].code)+1).toString():(e._employeeJobHistory.code="1",e._employeeJobHistory.startdate=null==e.EmployeeDateOfHiring?e.EmployeeWorkStartDate:e.EmployeeDateOfHiring,e.isFirstRecored=!0),e._employeeJobHistory.contracttypeid=e.EmployeeJobHistoryContractTypeID,e._employeeJobHistory.category=e.EmployeeJobHistoryCategory,e._employeeJobHistory.degree=e.EmployeeJobHistoryDegree,e._employeeJobHistory.editor_en=e.currentUser.name,e._employeeJobHistory.editor_ar=e.currentUser.name_ar,e._employeeJobHistory.editingdate=new Date,e._oldEmployeeJobHistory=JSON.stringify(e._employeeJobHistory),e.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeJobHistoryById(this.employeeJobHistoryID).subscribe(function(t){e._employeeJobHistory.id=t.data[0].id,e._employeeJobHistory.code=t.data[0].code,e._employeeJobHistory.employeeid=t.data[0].employeeid,e._employeeJobHistory.startdate=t.data[0].startdate,e._employeeJobHistory.professionsjobid=t.data[0].professionsjobid,e._employeeJobHistory.contracttypeid=t.data[0].contracttypeid,e._employeeJobHistory.category=t.data[0].category,e._employeeJobHistory.degree=t.data[0].degree,e._employeeJobHistory.notes=t.data[0].notes,e._employeeJobHistory.subsidaryid=t.data[0].subsidaryid,e._employeeJobHistory.editor_en=t.data[0].editor_en,e._employeeJobHistory.editor_ar=t.data[0].editor_ar,e._employeeJobHistory.editingdate=t.data[0].editingdate,e._employeeJobHistory.islastrecored=t.data[0].islastrecored,e.dataToParent.emit(e._employeeJobHistory.islastrecored),e._oldEmployeeJobHistory=JSON.stringify(e._employeeJobHistory),e.cd.markForCheck()})}},{key:"getDateDifferences",value:function(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));var n=t.getFullYear()-e.getFullYear(),a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;var i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;var r=t.getDate()-e.getDate();r<0&&(r+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+r+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+r+" Day"}},{key:"CalculateTotalServicePeriodTransactionDate",value:function(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeJobHistory.startdate))}},{key:"onStartingFromDateChange",value:function(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeJobHistory.startdate<this.EmployeeDateOfHiring||this._employeeJobHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeJobHistory.startdate<=this.EmployeeJobHistoryDate)}},{key:"onTheNewJobChange",value:function(){this.JobIDOtherRecoredVaild=0!=this.isFirstRecored||this._employeeJobHistory.professionsjobid!=this.JobHistoryProfessionsJobID||this._employeeJobHistory.contracttypeid!=this.EmployeeJobHistoryContractTypeID||this._employeeJobHistory.category!=this.EmployeeJobHistoryCategory||this._employeeJobHistory.degree!=this.EmployeeJobHistoryDegree}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(){var e=this;this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.JobIDOtherRecoredVaild&&(this._employeeJobHistory.employeeid=this.employeeid,this._employeeJobHistory.subsidaryid=this.subsidiaryID,this._employeeJobHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeJobHistory(this._employeeJobHistory).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeJobHistory(this._employeeJobHistory).subscribe(function(t){e._employeeJobHistory.id=t.data[0].id,e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}),this.manuallySubmitted=!1)}},{key:"NotToMissData",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._oldEmployeeJobHistory===JSON.stringify(this._employeeJobHistory)){e.next=5;break}return e.next=3,R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});case 3:return t=e.sent,e.abrupt("return",!t.isConfirmed||1!=t.isConfirmed);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](ce.x),b["\u0275\u0275directiveInject"](de._))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-job-form"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](us,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid",employeeJobHistoryID:"employeeJobHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:95,vars:95,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","TheNewJob",1,"col-form-label"],["name","TheNewJob",1,"form-control",3,"disabled","ngModel","required","ngClass","ngModelChange","change"],["TheNewJobID","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","TheNewContractType",1,"col-form-label"],["name","TheNewContractType",1,"form-control",3,"disabled","ngModel","required","ngClass","ngModelChange","change"],["TheNewContractTypeID","ngModel"],["id","TheNewCategory",1,"col-form-label"],["type","text","name","TheNewCategory",1,"form-control",3,"ngModel","disabled","ngClass","ngModelChange","change"],["id","TheNewDegree",1,"col-form-label"],["type","text","name","TheNewDegree",1,"form-control",3,"ngModel","disabled","ngClass","ngModelChange","change"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],[4,"ngIf"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"input",6),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",3),b["\u0275\u0275elementStart"](11,"div",4),b["\u0275\u0275elementStart"](12,"label",7),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementStart"](15,"span",8),b["\u0275\u0275text"](16,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"input",9,10),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),b["\u0275\u0275pipe"](19,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](20,ys,3,3,"span",11),b["\u0275\u0275template"](21,hs,3,3,"span",11),b["\u0275\u0275template"](22,vs,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"div",3),b["\u0275\u0275elementStart"](24,"div",4),b["\u0275\u0275elementStart"](25,"label",12),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"translate"),b["\u0275\u0275elementStart"](28,"span",8),b["\u0275\u0275text"](29,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"select",13,14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.professionsjobid=e})("change",function(){return t.onTheNewJobChange()}),b["\u0275\u0275elementStart"](32,"option",15),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](35,Ss,3,3,"option",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](36,bs,3,3,"span",11),b["\u0275\u0275template"](37,Es,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"div",3),b["\u0275\u0275elementStart"](39,"div",4),b["\u0275\u0275elementStart"](40,"label",17),b["\u0275\u0275text"](41),b["\u0275\u0275pipe"](42,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"input",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"div",2),b["\u0275\u0275elementStart"](45,"div",3),b["\u0275\u0275elementStart"](46,"div",4),b["\u0275\u0275elementStart"](47,"label",19),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementStart"](50,"span",8),b["\u0275\u0275text"](51,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](52,"select",20,21),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.contracttypeid=e})("change",function(){return t.onTheNewJobChange()}),b["\u0275\u0275elementStart"](54,"option",15),b["\u0275\u0275text"](55),b["\u0275\u0275pipe"](56,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](57,Ds,3,3,"option",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](58,_s,3,3,"span",11),b["\u0275\u0275template"](59,Is,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](60,"div",3),b["\u0275\u0275elementStart"](61,"div",4),b["\u0275\u0275elementStart"](62,"label",22),b["\u0275\u0275text"](63),b["\u0275\u0275pipe"](64,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](65,"input",23),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.category=e})("change",function(){return t.onTheNewJobChange()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](66,ws,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](67,"div",3),b["\u0275\u0275elementStart"](68,"div",4),b["\u0275\u0275elementStart"](69,"label",24),b["\u0275\u0275text"](70),b["\u0275\u0275pipe"](71,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](72,"input",25),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.degree=e})("change",function(){return t.onTheNewJobChange()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](73,ks,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](74,"div",2),b["\u0275\u0275elementStart"](75,"div",26),b["\u0275\u0275elementStart"](76,"div",4),b["\u0275\u0275elementStart"](77,"label",27),b["\u0275\u0275text"](78),b["\u0275\u0275pipe"](79,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](80,"input",28),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.notes=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](81,"div",3),b["\u0275\u0275elementStart"](82,"div",4),b["\u0275\u0275elementStart"](83,"label",29),b["\u0275\u0275text"](84),b["\u0275\u0275pipe"](85,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](86,Ts,1,1,"input",30),b["\u0275\u0275template"](87,Ms,1,1,"input",30),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](88,"div",3),b["\u0275\u0275elementStart"](89,"div",4),b["\u0275\u0275elementStart"](90,"label",31),b["\u0275\u0275text"](91),b["\u0275\u0275pipe"](92,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](93,"input",32),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeJobHistory.editingdate=e}),b["\u0275\u0275pipe"](94,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275reference"](18),a=b["\u0275\u0275reference"](31),i=b["\u0275\u0275reference"](53);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](8,50,"Serial")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeJobHistory.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](14,52,"StartingFromDate")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeJobHistory.islastrecored)("required",!0)("ngModel",b["\u0275\u0275pipeBind2"](19,54,t._employeeJobHistory.startdate,"yyyy-MM-dd"))("ngClass",b["\u0275\u0275pureFunction2"](80,Bs,n.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,n.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](27,57,"TheNewJob")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeJobHistory.islastrecored)("ngModel",t._employeeJobHistory.professionsjobid)("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](83,Bs,a.invalid&&t.manuallySubmitted||!t.JobIDOtherRecoredVaild,a.valid&&t.manuallySubmitted&&t.JobIDOtherRecoredVaild)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](34,59,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.ProfessionsJobList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.JobIDOtherRecoredVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](42,61,"TotalServicePeriodTransactionDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](49,63,"TheNewContractType")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeJobHistory.islastrecored)("ngModel",t._employeeJobHistory.contracttypeid)("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](86,Bs,i.invalid&&t.manuallySubmitted||!t.JobIDOtherRecoredVaild,i.valid&&t.manuallySubmitted&&t.JobIDOtherRecoredVaild)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](56,65,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.contractTypeList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.JobIDOtherRecoredVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](64,67,"TheNewCategory")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeJobHistory.category)("disabled",!t._employeeJobHistory.islastrecored)("ngClass",b["\u0275\u0275pureFunction2"](89,Bs,!t.JobIDOtherRecoredVaild,t.manuallySubmitted&&t.JobIDOtherRecoredVaild)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.JobIDOtherRecoredVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](71,69,"TheNewDegree")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeJobHistory.degree)("disabled",!t._employeeJobHistory.islastrecored)("ngClass",b["\u0275\u0275pureFunction2"](92,Bs,!t.JobIDOtherRecoredVaild,t.manuallySubmitted&&t.JobIDOtherRecoredVaild)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.JobIDOtherRecoredVaild),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](79,71,"Notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeJobHistory.notes)("disabled",!t._employeeJobHistory.islastrecored),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](85,73,"Editor")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](92,75,"EditingDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](94,77,t._employeeJobHistory.editingdate,"dd/MM/yyyy"))}},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.Q7,o.mk,o.O5,d.EJ,d.YN,d.Kr,o.sg],pipes:[h.X$,o.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e}(),Hs=function e(){i(this,e),this.id=0,this.code="",this.startdate=null,this.salarytype=0,this.overtimestatus=0,this.overtimetype=0,this.overtimevalue=0,this.overtimepercentage=0,this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0},Rs=["VacationRForm"];function Os(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Vs(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"RegisteredDateNotMatchEmploymentData")," "))}function As(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function Ns(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Gs(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function Ps(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function js(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Us(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",35),b["\u0275\u0275template"](1,Ps,2,1,"div",36),b["\u0275\u0275template"](2,js,2,1,"div",36),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Ls(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function Js(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function zs(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function $s(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",35),b["\u0275\u0275template"](1,Js,2,1,"div",36),b["\u0275\u0275template"](2,zs,2,1,"div",36),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Ys(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function qs(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Qs(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Ks(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",35),b["\u0275\u0275template"](1,qs,2,1,"div",36),b["\u0275\u0275template"](2,Qs,2,1,"div",36),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Ws(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Xs(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function Zs(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function ec(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}var tc=function(e,t){return{"invalid-data":e,"valid-data":t}};function nc(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"label",37),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementStart"](4,"span",23),b["\u0275\u0275text"](5,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"input",38,39),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeSalaryHistory.overtimevalue=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](8,Zs,3,3,"span",11),b["\u0275\u0275template"](9,ec,3,3,"span",11),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275reference"](7),i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,7,"OvertimeValueRate")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",i._employeeSalaryHistory.overtimevalue)("disabled",1==i._employeeSalaryHistory.overtimetype||null==i._employeeSalaryHistory.overtimetype||!i._employeeSalaryHistory.islastrecored)("required",1!=i._employeeSalaryHistory.overtimetype||null!=i._employeeSalaryHistory.overtimetype)("ngClass",b["\u0275\u0275pureFunction2"](9,tc,a.invalid&&i.manuallySubmitted||!i.SalaryIDOtherRecoredVaild,a.valid&&i.manuallySubmitted&&i.SalaryIDOtherRecoredVaild)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.invalid&&i.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!i.SalaryIDOtherRecoredVaild)}}function ac(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function ic(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"NoChangeOnOldData")," "))}function rc(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",4),b["\u0275\u0275elementStart"](1,"label",40),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementStart"](4,"span",23),b["\u0275\u0275text"](5,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"input",41,42),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeSalaryHistory.overtimepercentage=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](8,ac,3,3,"span",11),b["\u0275\u0275template"](9,ic,3,3,"span",11),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275reference"](7),i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,7,"OvertimeValueRate")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",i._employeeSalaryHistory.overtimepercentage)("disabled",1==i._employeeSalaryHistory.overtimetype||null==i._employeeSalaryHistory.overtimetype||!i._employeeSalaryHistory.islastrecored)("required",1!=i._employeeSalaryHistory.overtimetype||null!=i._employeeSalaryHistory.overtimetype)("ngClass",b["\u0275\u0275pureFunction2"](9,tc,a.invalid&&i.manuallySubmitted||!i.SalaryIDOtherRecoredVaild,a.valid&&i.manuallySubmitted&&i.SalaryIDOtherRecoredVaild)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.invalid&&i.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!i.SalaryIDOtherRecoredVaild)}}function lc(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",43),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeSalaryHistory.editor_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeSalaryHistory.editor_ar)}}function oc(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",43),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeSalaryHistory.editor_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeSalaryHistory.editor_en)}}var sc=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p){var u=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._changeEmployeeDataService=m,this._employeeFinancialDataService=p,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeSalaryHistory=new Hs,this._oldEmployeeSalaryHistory="",this.SalaryTypeList=[],this.OverTimeList=[],this.OverTimeTypeList=[],this.parentGetData=new b.EventEmitter,this.dataToParent=new b.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeSalaryHistoryDate=null,this.EmployeeSalaryHistorySalary=null,this.EmployeeSalaryHistorySalaryType=null,this.EmployeeSalaryHistoryOvertimeStatus=null,this.EmployeeSalaryHistoryOvertimeType=null,this.EmployeeSalaryHistoryOvertimeValue=null,this.EmployeeSalaryHistoryOvertimePercentage=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.SalaryIDOtherRecoredVaild=!0,this.showovertimevalue=!0,this.showovertimepercentage=!1,this.subsidiaryID=this._generalService.SubsidiaryID;var y=this._authService.userInfo();this.currentUser=y,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){u.lang=e.lang,u.dir=e.dir,u.translate.use(e.lang),u.ngTransUnsubscribe=u.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(function(e){u.Yes=e.Yes,u.No=e.No,u.Cancel=e.Cancel,u.checkname=e.checkname,u.MissData=e.MissData,u.SavedData=e.savedChanges,u.DataSavedsuccessfully=e.DataSavedsuccessfully,u.Erorr=e.Erorr,u.Approval=e.Approval,u.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}return l(e,[{key:"ngOnInit",value:function(){this._employeeSalaryHistory.employeeid=this.employeeid,this._employeeSalaryHistory.id=this.employeeSalaryHistoryID,this.GetEmployeeDataForValidation(),this.GetSalaryTypes(),this.GetOverTime(),this.GetOverTimeTypes()}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this._changeEmployeeDataService.GetEmployeeSalaryHistoryDataForValidation(this.employeeid).subscribe(function(t){null!=t.data&&null!=t.data.workstartdate&&(e.EmployeeWorkStartDate=t.data.workstartdate,e.EmployeeDateOfHiring=t.data.dateofhiring,e.EmployeeSalaryHistoryDate=t.data.salaryhistorydate,e.EmployeeSalaryHistorySalary=t.data.salaryhistorysalary,e.EmployeeSalaryHistorySalaryType=t.data.salaryhistorysalarytype,e.EmployeeSalaryHistoryOvertimeStatus=t.data.salaryhistoryovertimestatus,e.EmployeeSalaryHistoryOvertimeType=t.data.salaryhistoryovertimetype,e.EmployeeSalaryHistoryOvertimeValue=t.data.salaryhistoryovertimevalue,e.EmployeeSalaryHistoryOvertimePercentage=t.data.salaryhistoryovertimepercentage),e.GetData()})}},{key:"GetSalaryTypes",value:function(){var e=this;this._employeeFinancialDataService.GetStaticValues("SalaryType").subscribe(function(t){e.SalaryTypeList=t,e.cd.markForCheck()})}},{key:"GetOverTime",value:function(){var e=this;this._employeeFinancialDataService.GetStaticValues("OverTime").subscribe(function(t){e.OverTimeList=t,e.cd.markForCheck()})}},{key:"GetOverTimeTypes",value:function(){var e=this;this._employeeFinancialDataService.GetStaticValues("OverTimeType").subscribe(function(t){e.OverTimeTypeList=t,e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this;this._employeeSalaryHistory=new Hs,0==this.employeeSalaryHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeSalaryHistory(this.subsidiaryID,this.employeeid).subscribe(function(t){t.data[0].code>0?e._employeeSalaryHistory.code=(parseFloat(t.data[0].code)+1).toString():(e._employeeSalaryHistory.code="1",e._employeeSalaryHistory.startdate=null==e.EmployeeDateOfHiring?e.EmployeeWorkStartDate:e.EmployeeDateOfHiring,e.isFirstRecored=!0),e._employeeSalaryHistory.salarytype=null==e.EmployeeSalaryHistorySalaryType?e.SalaryTypeList.filter(function(e){return 1==e.isdefaultselection})[0].id:e.EmployeeSalaryHistorySalaryType,e._employeeSalaryHistory.overtimestatus=null==e.EmployeeSalaryHistoryOvertimeStatus?e.OverTimeList.filter(function(e){return 1==e.isdefaultselection})[0].id:e.EmployeeSalaryHistoryOvertimeStatus,e._employeeSalaryHistory.overtimetype=e.EmployeeSalaryHistoryOvertimeType,e._employeeSalaryHistory.overtimevalue=e.EmployeeSalaryHistoryOvertimeValue,e._employeeSalaryHistory.overtimepercentage=e.EmployeeSalaryHistoryOvertimePercentage,e._employeeSalaryHistory.editor_en=e.currentUser.name,e._employeeSalaryHistory.editor_ar=e.currentUser.name_ar,e._employeeSalaryHistory.editingdate=new Date,e._oldEmployeeSalaryHistory=JSON.stringify(e._employeeSalaryHistory),e.overtimetypeChange(),e.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeSalaryHistoryById(this.employeeSalaryHistoryID).subscribe(function(t){e._employeeSalaryHistory.id=t.data[0].id,e._employeeSalaryHistory.code=t.data[0].code,e._employeeSalaryHistory.employeeid=t.data[0].employeeid,e._employeeSalaryHistory.startdate=t.data[0].startdate,e._employeeSalaryHistory.salary=t.data[0].salary,e._employeeSalaryHistory.salarytype=t.data[0].salarytype,e._employeeSalaryHistory.overtimestatus=t.data[0].overtimestatus,e._employeeSalaryHistory.overtimetype=t.data[0].overtimetype,e._employeeSalaryHistory.overtimevalue=t.data[0].overtimevalue,e._employeeSalaryHistory.overtimepercentage=t.data[0].overtimepercentage,e._employeeSalaryHistory.notes=t.data[0].notes,e._employeeSalaryHistory.subsidaryid=t.data[0].subsidaryid,e._employeeSalaryHistory.editor_en=t.data[0].editor_en,e._employeeSalaryHistory.editor_ar=t.data[0].editor_ar,e._employeeSalaryHistory.editingdate=t.data[0].editingdate,e._employeeSalaryHistory.islastrecored=t.data[0].islastrecored,e.dataToParent.emit(e._employeeSalaryHistory.islastrecored),e._oldEmployeeSalaryHistory=JSON.stringify(e._employeeSalaryHistory),e.overtimetypeChange(),e.cd.markForCheck()})}},{key:"overtimetypeChange",value:function(){2==this._employeeSalaryHistory.overtimetype?(this.showovertimevalue=!0,this.showovertimepercentage=!1):3==this._employeeSalaryHistory.overtimetype?(this.showovertimepercentage=!0,this.showovertimevalue=!1):(this.showovertimevalue=!0,this.showovertimepercentage=!1,this._employeeSalaryHistory.overtimevalue=null,this._employeeSalaryHistory.overtimepercentage=null)}},{key:"getDateDifferences",value:function(e,t){Math.round(Math.abs((t.getTime()-e.getTime())/864e5));var n=t.getFullYear()-e.getFullYear(),a=12*n+t.getMonth()-e.getMonth();n=Math.floor(a/12),t.getMonth()===e.getMonth()&&t.getDate()<e.getDate()&&n--;var i=Math.abs(a%12);t.getDate()<e.getDate()&&i--;var r=t.getDate()-e.getDate();r<0&&(r+=new Date(t.getFullYear(),t.getMonth(),0).getDate()),this.TotalServicePeriodTransactionDate="ar"==this.lang?n+" \u0633\u0646\u0629 \u0648 "+i+" \u0634\u0647\u0631 \u0648 "+r+" \u064a\u0648\u0645":n+" Year , "+i+" Month , "+r+" Day"}},{key:"CalculateTotalServicePeriodTransactionDate",value:function(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeSalaryHistory.startdate))}},{key:"onStartingFromDateChange",value:function(){this.CalculateTotalServicePeriodTransactionDate(),this.StartDateFirstRecoredRangeVaild=1!=this.isFirstRecored||!(this._employeeSalaryHistory.startdate<this.EmployeeDateOfHiring||this._employeeSalaryHistory.startdate>this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeSalaryHistory.startdate<=this.EmployeeSalaryHistoryDate)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(){var e=this;this.manuallySubmitted=!0,0==this.isFirstRecored&&this._employeeSalaryHistory.salary==this.EmployeeSalaryHistorySalary&&this._employeeSalaryHistory.salarytype==this.EmployeeSalaryHistorySalaryType&&this._employeeSalaryHistory.overtimestatus==this.EmployeeSalaryHistoryOvertimeStatus&&this._employeeSalaryHistory.overtimetype==this.EmployeeSalaryHistoryOvertimeType&&this._employeeSalaryHistory.overtimevalue==this.EmployeeSalaryHistoryOvertimeValue&&this._employeeSalaryHistory.overtimepercentage==this.EmployeeSalaryHistoryOvertimePercentage?this.SalaryIDOtherRecoredVaild=!1:(this.SalaryIDOtherRecoredVaild=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.SalaryIDOtherRecoredVaild&&(this._employeeSalaryHistory.employeeid=this.employeeid,this._employeeSalaryHistory.subsidaryid=this.subsidiaryID,this._employeeSalaryHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeSalaryHistory(this._employeeSalaryHistory).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}):this._changeEmployeeDataService.CreateEmployeeSalaryHistory(this._employeeSalaryHistory).subscribe(function(t){e._employeeSalaryHistory.id=t.data[0].id,e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}),this.manuallySubmitted=!1))}},{key:"NotToMissData",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._oldEmployeeSalaryHistory===JSON.stringify(this._employeeSalaryHistory)){e.next=5;break}return e.next=3,R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});case 3:return t=e.sent,e.abrupt("return",!t.isConfirmed||1!=t.isConfirmed);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](ei))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-salary-form"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](Rs,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid",employeeSalaryHistoryID:"employeeSalaryHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:94,vars:89,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","Serial",1,"col-form-label"],["type","text","name","Serial","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","month","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","salary",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","salary","required","",1,"form-control",2,"text-align","right",3,"disabled","ngModel","ngClass","ngModelChange"],["TheNewSalaryID","ngModel"],["id","TotalServicePeriodTransactionDate",1,"col-form-label"],["type","text","name","TotalServicePeriodTransactionDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","salarytype",1,"col-form-label"],["name","salarytype",1,"form-control",3,"ngModel","disabled","ngClass","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","overtimestatus",1,"col-form-label"],["name","overtimestatus",1,"form-control",3,"ngModel","disabled","ngClass","ngModelChange","change"],["id","overtimetype",1,"col-form-label"],[2,"color","blue","font-weight","bold"],["name","overtimetype",1,"form-control",3,"ngModel","disabled","required","ngClass","ngModelChange","change"],["TheNewOvertimeType","ngModel"],["class","form-group",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],[4,"ngIf"],["id","overtimevalue",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","overtimevalue",1,"form-control",3,"ngModel","disabled","required","ngClass","ngModelChange"],["OvertimeValueRate","ngModel"],["id","overtimepercentage",1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","overtimepercentage",1,"form-control",3,"ngModel","disabled","required","ngClass","ngModelChange"],["OvertimePercentageRate","ngModel"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"input",6),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.code=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](10,"div",3),b["\u0275\u0275elementStart"](11,"div",4),b["\u0275\u0275elementStart"](12,"label",7),b["\u0275\u0275text"](13),b["\u0275\u0275pipe"](14,"translate"),b["\u0275\u0275elementStart"](15,"span",8),b["\u0275\u0275text"](16,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"input",9,10),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),b["\u0275\u0275pipe"](19,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](20,Os,3,3,"span",11),b["\u0275\u0275template"](21,Vs,3,3,"span",11),b["\u0275\u0275template"](22,As,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"div",3),b["\u0275\u0275elementStart"](24,"div",4),b["\u0275\u0275elementStart"](25,"div",4),b["\u0275\u0275elementStart"](26,"label",12),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementStart"](29,"span",8),b["\u0275\u0275text"](30,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"input",13,14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.salary=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](33,Ns,3,3,"span",11),b["\u0275\u0275template"](34,Gs,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"div",3),b["\u0275\u0275elementStart"](36,"div",4),b["\u0275\u0275elementStart"](37,"label",15),b["\u0275\u0275text"](38),b["\u0275\u0275pipe"](39,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](40,"input",16),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.TotalServicePeriodTransactionDate=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"div",2),b["\u0275\u0275elementStart"](42,"div",3),b["\u0275\u0275elementStart"](43,"div",4),b["\u0275\u0275elementStart"](44,"label",17),b["\u0275\u0275text"](45),b["\u0275\u0275pipe"](46,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](47,"select",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.salarytype=e}),b["\u0275\u0275template"](48,Us,3,3,"option",19),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](49,Ls,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"div",3),b["\u0275\u0275elementStart"](51,"div",4),b["\u0275\u0275elementStart"](52,"label",20),b["\u0275\u0275text"](53),b["\u0275\u0275pipe"](54,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](55,"select",21),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.overtimestatus=e})("change",function(){return t._employeeSalaryHistory.overtimetype=null,t.overtimetypeChange()}),b["\u0275\u0275template"](56,$s,3,3,"option",19),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](57,Ys,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"div",3),b["\u0275\u0275elementStart"](59,"div",4),b["\u0275\u0275elementStart"](60,"label",22),b["\u0275\u0275text"](61),b["\u0275\u0275pipe"](62,"translate"),b["\u0275\u0275elementStart"](63,"span",23),b["\u0275\u0275text"](64,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](65,"select",24,25),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.overtimetype=e})("change",function(){return t.overtimetypeChange()}),b["\u0275\u0275template"](67,Ks,3,3,"option",19),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](68,Ws,3,3,"span",11),b["\u0275\u0275template"](69,Xs,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](70,"div",3),b["\u0275\u0275template"](71,nc,10,12,"div",26),b["\u0275\u0275template"](72,rc,10,12,"div",26),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](73,"div",2),b["\u0275\u0275elementStart"](74,"div",27),b["\u0275\u0275elementStart"](75,"div",4),b["\u0275\u0275elementStart"](76,"label",28),b["\u0275\u0275text"](77),b["\u0275\u0275pipe"](78,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](79,"input",29),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.notes=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](80,"div",3),b["\u0275\u0275elementStart"](81,"div",4),b["\u0275\u0275elementStart"](82,"label",30),b["\u0275\u0275text"](83),b["\u0275\u0275pipe"](84,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](85,lc,1,1,"input",31),b["\u0275\u0275template"](86,oc,1,1,"input",31),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](87,"div",3),b["\u0275\u0275elementStart"](88,"div",4),b["\u0275\u0275elementStart"](89,"label",32),b["\u0275\u0275text"](90),b["\u0275\u0275pipe"](91,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](92,"input",33),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSalaryHistory.editingdate=e}),b["\u0275\u0275pipe"](93,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275reference"](18),a=b["\u0275\u0275reference"](32),i=b["\u0275\u0275reference"](66);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](8,48,"Serial")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](14,50,"StartingFromDate")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeSalaryHistory.islastrecored)("required",!0)("ngModel",b["\u0275\u0275pipeBind2"](19,52,t._employeeSalaryHistory.startdate,"yyyy-MM"))("ngClass",b["\u0275\u0275pureFunction2"](74,tc,n.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,n.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](28,55,"TheNewSalary")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeSalaryHistory.islastrecored)("ngModel",t._employeeSalaryHistory.salary)("ngClass",b["\u0275\u0275pureFunction2"](77,tc,a.invalid&&t.manuallySubmitted||!t.SalaryIDOtherRecoredVaild,a.valid&&t.manuallySubmitted&&t.SalaryIDOtherRecoredVaild)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.SalaryIDOtherRecoredVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](39,57,"TotalServicePeriodTransactionDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t.TotalServicePeriodTransactionDate),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](46,59,"TheNewSalaryType")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.salarytype)("disabled",!t._employeeSalaryHistory.islastrecored)("ngClass",b["\u0275\u0275pureFunction2"](80,tc,!t.SalaryIDOtherRecoredVaild,t.SalaryIDOtherRecoredVaild)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.SalaryTypeList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.SalaryIDOtherRecoredVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](54,61,"TheNewStatusOvertimeAccrual")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.overtimestatus)("disabled",!t._employeeSalaryHistory.islastrecored)("ngClass",b["\u0275\u0275pureFunction2"](83,tc,!t.SalaryIDOtherRecoredVaild,t.SalaryIDOtherRecoredVaild)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.OverTimeList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.SalaryIDOtherRecoredVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](62,63,"TheNewOvertimeType")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.overtimetype)("disabled",2==t._employeeSalaryHistory.overtimestatus||!t._employeeSalaryHistory.islastrecored)("required",3==t._employeeSalaryHistory.overtimestatus)("ngClass",b["\u0275\u0275pureFunction2"](86,tc,i.invalid&&t.manuallySubmitted||!t.SalaryIDOtherRecoredVaild,i.valid&&t.manuallySubmitted&&t.SalaryIDOtherRecoredVaild)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.OverTimeTypeList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.SalaryIDOtherRecoredVaild),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",t.showovertimevalue),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.showovertimepercentage),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](78,65,"Notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeSalaryHistory.notes)("disabled",!t._employeeSalaryHistory.islastrecored),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](84,67,"Editor")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](91,69,"EditingDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](93,71,t._employeeSalaryHistory.editingdate,"dd/MM/yyyy"))}},directives:[d._Y,d.JL,d.F,d.Fj,d.JJ,d.On,d.Q7,o.mk,o.O5,ft.L,d.EJ,o.sg,d.YN,d.Kr],pipes:[h.X$,o.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e}(),cc=function e(){i(this,e),this.id=0,this.code="",this.allowancetypeid=null,this.startdate=null,this.amountofallowance=null,this.allowancestatus=1,this.deductibility=null,this.overtime=!1,this.rewards=!1,this.absences=!1,this.penalties=!1,this.paidvacations=!1,this.vacationpay=!1,this.sickleave=!1,this.termination=!1,this.subjecttotaxes=!1,this.subjecttoinsurances=!1,this.appearanceonpayroll=null,this.notes="",this.dateofsuspensionorresumption=null,this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.allowancestatus_en="",this.allowancestatus_ar="",this.islastrecored=!0},dc=["VacationRForm"];function mc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function pc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function uc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",48),b["\u0275\u0275template"](1,mc,2,1,"div",49),b["\u0275\u0275template"](2,pc,2,1,"div",49),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function yc(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",50),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function hc(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",50),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function vc(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",50),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"AllowanceRegisteredDateNotMatchEmploymentData")," "))}function gc(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",50),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"AllowanceStartDateGreaterThanLastRecord")," "))}function fc(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",50),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Sc(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",51),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeAllowanceHistory.allowancestatus_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeAllowanceHistory.allowancestatus_ar)}}function bc(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",51),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeAllowanceHistory.allowancestatus_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeAllowanceHistory.allowancestatus_en)}}function Ec(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function xc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Cc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",48),b["\u0275\u0275template"](1,Ec,2,1,"div",49),b["\u0275\u0275template"](2,xc,2,1,"div",49),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Dc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function _c(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Ic(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",48),b["\u0275\u0275template"](1,Dc,2,1,"div",49),b["\u0275\u0275template"](2,_c,2,1,"div",49),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function wc(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",52),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeAllowanceHistory.editor_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeAllowanceHistory.editor_ar)}}function kc(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",52),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeAllowanceHistory.editor_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeAllowanceHistory.editor_en)}}var Tc=function(e,t){return{"invalid-data":e,"valid-data":t}},Mc=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._changeEmployeeDataService=m,this._allowancesTypesService=p,this._employeeFinancialDataService=u,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NoChangeOnOldData="",this.SelectAll=!1,this._employeeAllowanceHistory=new cc,this._oldEmployeeAllowanceHistory="",this.AllowancesTypeList=[],this.DeductibilityList=[],this.AppearanceOnPayrollList=[],this.parentGetData=new b.EventEmitter,this.dataToParent=new b.EventEmitter,this.dataToParentCanDelete=new b.EventEmitter,this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeAllowanceHistoryDate=null,this.EmployeeAllowanceHistoryAmount=null,this.EmployeeAllowanceHistoryDeductibility=null,this.EmployeeAllowanceHistoryOvertime=null,this.EmployeeAllowanceHistoryRewards=null,this.EmployeeAllowanceHistoryAbsences=null,this.EmployeeAllowanceHistoryPenalties=null,this.EmployeeAllowanceHistoryPaidVacations=null,this.EmployeeAllowanceHistoryVacationPay=null,this.EmployeeAllowanceHistorySickLeave=null,this.EmployeeAllowanceHistoryTermination=null,this.EmployeeAllowanceHistorySubjectToTaxes=null,this.EmployeeAllowanceHistorySubjectToInsurances=null,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.AllowanceIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;var h=this._authService.userInfo();this.currentUser=h,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NoChangeOnOldData"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply,y.NoChangeOnOldData=e.NoChangeOnOldData})})}return l(e,[{key:"ngOnInit",value:function(){this._employeeAllowanceHistory.employeeid=this.employeeid,this._employeeAllowanceHistory.id=this.employeeAllowanceHistoryID,this.GetAllowancesType()}},{key:"GetAllowancesType",value:function(){var e=this;this._allowancesTypesService.GetAllForDropdown().subscribe(function(t){e.AllowancesTypeList=t,e.GetDeductibility(),e.cd.markForCheck()})}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this.EmployeeWorkStartDate=null,this.EmployeeDateOfHiring=null,this.EmployeeAllowanceHistoryDate=null,this.EmployeeAllowanceHistoryAmount=null,this.EmployeeAllowanceHistoryDeductibility=null,this.EmployeeAllowanceHistoryOvertime=null,this.EmployeeAllowanceHistoryRewards=null,this.EmployeeAllowanceHistoryAbsences=null,this.EmployeeAllowanceHistoryPenalties=null,this.EmployeeAllowanceHistoryPaidVacations=null,this.EmployeeAllowanceHistoryVacationPay=null,this.EmployeeAllowanceHistorySickLeave=null,this.EmployeeAllowanceHistoryTermination=null,this.EmployeeAllowanceHistorySubjectToTaxes=null,this.EmployeeAllowanceHistorySubjectToInsurances=null,this._changeEmployeeDataService.GetEmployeeAllowanceHistoryDataForValidation(this.employeeid,this._employeeAllowanceHistory.allowancetypeid).subscribe(function(t){null!=t.data&&null!=t.data.workstartdate&&(e.EmployeeWorkStartDate=t.data.workstartdate,e.EmployeeDateOfHiring=t.data.dateofhiring,e.EmployeeAllowanceHistoryDate=t.data.allowancehistorydate,e.EmployeeAllowanceHistoryAmount=t.data.allowancehistoryamount,e.EmployeeAllowanceHistoryDeductibility=t.data.allowancehistorydeductibility,e.EmployeeAllowanceHistoryOvertime=t.data.allowancehistoryovertime,e.EmployeeAllowanceHistoryRewards=t.data.allowancehistoryrewards,e.EmployeeAllowanceHistoryAbsences=t.data.allowancehistoryabsences,e.EmployeeAllowanceHistoryPenalties=t.data.allowancehistorypenalties,e.EmployeeAllowanceHistoryPaidVacations=t.data.allowancehistorypaidvacations,e.EmployeeAllowanceHistoryVacationPay=t.data.allowancehistoryvacationpay,e.EmployeeAllowanceHistorySickLeave=t.data.allowancehistorysickleave,e.EmployeeAllowanceHistoryTermination=t.data.allowancehistorytermination,e.EmployeeAllowanceHistorySubjectToTaxes=t.data.allowancehistorysubjecttotaxes,e.EmployeeAllowanceHistorySubjectToInsurances=t.data.allowancehistorysubjecttoinsurances,e.onStartingFromDateChange())})}},{key:"GetDeductibility",value:function(){var e=this;this._employeeFinancialDataService.GetStaticValues("Deductibility").subscribe(function(t){e.DeductibilityList=t,e.GetAppearanceOnPayroll(),e.cd.markForCheck()})}},{key:"GetAppearanceOnPayroll",value:function(){var e=this;this._employeeFinancialDataService.GetStaticValues("AppearanceOnPayroll").subscribe(function(t){e.AppearanceOnPayrollList=t,e.GetData(),e.cd.markForCheck()})}},{key:"GetData",value:function(){var e=this;this._employeeAllowanceHistory=new cc,0==this.employeeAllowanceHistoryID?this._changeEmployeeDataService.GetMaxCodeEmployeeAllowanceHistory(this.subsidiaryID,this.employeeid).subscribe(function(t){e._employeeAllowanceHistory.code=t.data[0].code>0?(parseFloat(t.data[0].code)+1).toString():"1",e._employeeAllowanceHistory.deductibility=e.DeductibilityList.filter(function(e){return 1==e.isdefaultselection})[0].id,e._employeeAllowanceHistory.appearanceonpayroll=e.AppearanceOnPayrollList.filter(function(e){return 1==e.isdefaultselection})[0].id,e._employeeAllowanceHistory.editor_en=e.currentUser.name,e._employeeAllowanceHistory.editor_ar=e.currentUser.name_ar,e._employeeAllowanceHistory.editingdate=new Date,e.onDeductibilityChange(),e._oldEmployeeAllowanceHistory=JSON.stringify(e._employeeAllowanceHistory),e.cd.markForCheck()}):this._changeEmployeeDataService.GetEmployeeAllowanceHistoryById(this.employeeAllowanceHistoryID).subscribe(function(t){e._employeeAllowanceHistory.id=t.data[0].id,e._employeeAllowanceHistory.code=t.data[0].code,e._employeeAllowanceHistory.employeeid=t.data[0].employeeid,e._employeeAllowanceHistory.allowancetypeid=t.data[0].allowancetypeid,e._employeeAllowanceHistory.startdate=t.data[0].startdate,e._employeeAllowanceHistory.amountofallowance=t.data[0].amountofallowance,e._employeeAllowanceHistory.allowancestatus=t.data[0].allowancestatus,e._employeeAllowanceHistory.deductibility=t.data[0].deductibility,e._employeeAllowanceHistory.overtime=t.data[0].overtime,e._employeeAllowanceHistory.rewards=t.data[0].rewards,e._employeeAllowanceHistory.absences=t.data[0].absences,e._employeeAllowanceHistory.penalties=t.data[0].penalties,e._employeeAllowanceHistory.paidvacations=t.data[0].paidvacations,e._employeeAllowanceHistory.vacationpay=t.data[0].vacationpay,e._employeeAllowanceHistory.sickleave=t.data[0].sickleave,e._employeeAllowanceHistory.termination=t.data[0].termination,e._employeeAllowanceHistory.subjecttotaxes=t.data[0].subjecttotaxes,e._employeeAllowanceHistory.subjecttoinsurances=t.data[0].subjecttoinsurances,e._employeeAllowanceHistory.appearanceonpayroll=t.data[0].appearanceonpayroll,e._employeeAllowanceHistory.notes=t.data[0].notes,e._employeeAllowanceHistory.dateofsuspensionorresumption=t.data[0].dateofsuspensionorresumption,e._employeeAllowanceHistory.subsidaryid=t.data[0].subsidaryid,e._employeeAllowanceHistory.editor_en=t.data[0].editor_en,e._employeeAllowanceHistory.editor_ar=t.data[0].editor_ar,e._employeeAllowanceHistory.editingdate=t.data[0].editingdate,e._employeeAllowanceHistory.allowancestatus_en=t.data[0].allowancestatus_en,e._employeeAllowanceHistory.allowancestatus_ar=t.data[0].allowancestatus_ar,e._employeeAllowanceHistory.islastrecored=t.data[0].islastrecored,e.dataToParent.emit(e._employeeAllowanceHistory.islastrecored),e.dataToParentCanDelete.emit(1==e._employeeAllowanceHistory.islastrecored&&null==e._employeeAllowanceHistory.dateofsuspensionorresumption&&1==e._employeeAllowanceHistory.allowancestatus),e._oldEmployeeAllowanceHistory=JSON.stringify(e._employeeAllowanceHistory),e.cd.markForCheck()})}},{key:"onAllowanceTypeChange",value:function(){var e=this;this.GetEmployeeDataForValidation();var t=this.AllowancesTypeList.filter(function(t){return t.id==e._employeeAllowanceHistory.allowancetypeid})[0];this._employeeAllowanceHistory.overtime=t.overtime,this._employeeAllowanceHistory.rewards=t.rewards,this._employeeAllowanceHistory.absences=t.absences,this._employeeAllowanceHistory.penalties=t.penalties,this._employeeAllowanceHistory.paidvacations=t.vacations,this._employeeAllowanceHistory.vacationpay=t.vacationpay,this._employeeAllowanceHistory.sickleave=t.sickleave,this._employeeAllowanceHistory.termination=t.termination,this._employeeAllowanceHistory.subjecttotaxes=t.subjecttotaxes,this._employeeAllowanceHistory.subjecttoinsurances=t.subjecttoinsurances,this.onDeductibilityChange()}},{key:"onDeductibilityChange",value:function(){var e=this;if(1==this._employeeAllowanceHistory.deductibility&&(this._employeeAllowanceHistory.absences=!0,this._employeeAllowanceHistory.penalties=!0,this._employeeAllowanceHistory.sickleave=!0),2==this._employeeAllowanceHistory.deductibility&&(this._employeeAllowanceHistory.absences=!1,this._employeeAllowanceHistory.penalties=!1,this._employeeAllowanceHistory.sickleave=!1),3==this._employeeAllowanceHistory.deductibility&&0==this.SelectAll){var t=this.AllowancesTypeList.filter(function(t){return t.id==e._employeeAllowanceHistory.allowancetypeid})[0];this._employeeAllowanceHistory.absences=t.absences,this._employeeAllowanceHistory.penalties=t.penalties,this._employeeAllowanceHistory.sickleave=t.sickleave}}},{key:"OnSelectAllChange",value:function(){1==this.SelectAll?(this._employeeAllowanceHistory.overtime=!0,this._employeeAllowanceHistory.rewards=!0,this._employeeAllowanceHistory.absences=!0,this._employeeAllowanceHistory.penalties=!0,this._employeeAllowanceHistory.paidvacations=!0,this._employeeAllowanceHistory.vacationpay=!0,this._employeeAllowanceHistory.sickleave=!0,this._employeeAllowanceHistory.termination=!0,this._employeeAllowanceHistory.subjecttotaxes=!0,this._employeeAllowanceHistory.subjecttoinsurances=!0):(this._employeeAllowanceHistory.overtime=!1,this._employeeAllowanceHistory.rewards=!1,this._employeeAllowanceHistory.absences=!1,this._employeeAllowanceHistory.penalties=!1,this._employeeAllowanceHistory.paidvacations=!1,this._employeeAllowanceHistory.vacationpay=!1,this._employeeAllowanceHistory.sickleave=!1,this._employeeAllowanceHistory.termination=!1,this._employeeAllowanceHistory.subjecttotaxes=!1,this._employeeAllowanceHistory.subjecttoinsurances=!1),this.onDeductibilityChange()}},{key:"onStartingFromDateChange",value:function(){null==this._employeeAllowanceHistory.startdate&&null==this._employeeAllowanceHistory.startdate||(null!=this.EmployeeAllowanceHistoryDate&&null!=this.EmployeeAllowanceHistoryDate||(this.StartDateFirstRecoredRangeVaild=!(null==this.EmployeeDateOfHiring&&this._employeeAllowanceHistory.startdate<this.EmployeeWorkStartDate||null!=this.EmployeeDateOfHiring&&this._employeeAllowanceHistory.startdate<this.EmployeeDateOfHiring)),this.StartDateOtherRecoredRangeVaild=!(null!=this.EmployeeAllowanceHistoryDate&&this._employeeAllowanceHistory.startdate<=this.EmployeeAllowanceHistoryDate))}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(){var e=this;this.manuallySubmitted=!0,this._employeeAllowanceHistory.amountofallowance==this.EmployeeAllowanceHistoryAmount&&this._employeeAllowanceHistory.deductibility==this.EmployeeAllowanceHistoryDeductibility&&this._employeeAllowanceHistory.overtime==this.EmployeeAllowanceHistoryOvertime&&this._employeeAllowanceHistory.rewards==this.EmployeeAllowanceHistoryRewards&&this._employeeAllowanceHistory.absences==this.EmployeeAllowanceHistoryAbsences&&this._employeeAllowanceHistory.penalties==this.EmployeeAllowanceHistoryPenalties&&this._employeeAllowanceHistory.paidvacations==this.EmployeeAllowanceHistoryPaidVacations&&this._employeeAllowanceHistory.vacationpay==this.EmployeeAllowanceHistoryVacationPay&&this._employeeAllowanceHistory.sickleave==this.EmployeeAllowanceHistorySickLeave&&this._employeeAllowanceHistory.termination==this.EmployeeAllowanceHistoryTermination&&this._employeeAllowanceHistory.subjecttotaxes==this.EmployeeAllowanceHistorySubjectToTaxes&&this._employeeAllowanceHistory.subjecttoinsurances==this.EmployeeAllowanceHistorySubjectToInsurances?(this.AllowanceIDOtherRecoredVaild=!1,this.toastr.error(this.NoChangeOnOldData)):(this.AllowanceIDOtherRecoredVaild=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.AllowanceIDOtherRecoredVaild&&(this._employeeAllowanceHistory.employeeid=this.employeeid,this._employeeAllowanceHistory.subsidaryid=this.subsidiaryID,this._employeeAllowanceHistory.id>0?this._changeEmployeeDataService.UpdateEmployeeAllowanceHistory(this._employeeAllowanceHistory).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}):(this._employeeAllowanceHistory.allowancestatus=1,this._changeEmployeeDataService.CreateEmployeeAllowanceHistory(this._employeeAllowanceHistory).subscribe(function(t){e._employeeAllowanceHistory.id=t.data[0].id,e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()})),this.manuallySubmitted=!1))}},{key:"NotToMissData",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._oldEmployeeAllowanceHistory===JSON.stringify(this._employeeAllowanceHistory)){e.next=5;break}return e.next=3,R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});case 3:return t=e.sent,e.abrupt("return",!t.isConfirmed||1!=t.isConfirmed);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](ir.w),b["\u0275\u0275directiveInject"](ei))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-allowance-form"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](dc,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid",employeeAllowanceHistoryID:"employeeAllowanceHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent",dataToParentCanDelete:"dataToParentCanDelete"},decls:170,vars:141,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","allowancetypeid",1,"col-form-label"],[2,"color","red","font-weight","bold"],["name","allowancetypeid",1,"form-control",3,"ngModel","required","ngClass","disabled","ngModelChange","change"],["AllowanceTypeId","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["style","color: red",4,"ngIf"],["id","StartingFromDate",1,"col-form-label"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"required","ngModel","ngClass","disabled","ngModelChange","change"],["DateStartDate","ngModel"],[1,"col-form-label"],["PositiveNumbersOrDecimalOnly","","type","text","name","AmountOfAllowance","required","",1,"form-control",2,"text-align","right",3,"ngModel","ngClass","disabled","ngModelChange"],["AmountOfAllowance","ngModel"],["id","AllowanceStatus",1,"col-form-label"],["type","text","name","AllowanceStatus","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],[1,"col-md-12"],["id","deductibility",1,"col-form-label"],["name","deductibility",1,"form-control",3,"ngModel","disabled","ngModelChange","change"],["id","appearanceonpayroll",1,"col-form-label"],["name","appearanceonpayroll",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-lg-2","col-md-2","col-sm-12","mb-2","mb-md-0"],["type","checkbox","name","SelectAll",3,"ngModel","disabled","ngModelChange","change"],["for","sort",1,"col-form-label"],[1,"col-lg-7","col-md-7","col-sm-12","mb-2","mb-md-0",2,"border","1px ridge"],[1,"row",2,"margin-top","20px"],["type","checkbox","name","Overtime",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","Absences",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","PaidVacations",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","SickLeave",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","SubjectToTaxes",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","Rewards",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","Penalties",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","VacationPay",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","Termination",3,"ngModel","disabled","ngModelChange"],["type","checkbox","name","SubjectToInsurances",3,"ngModel","disabled","ngModelChange"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","DateOfSuspensionOrResumption",1,"col-form-label"],["type","text","name","DateOfSuspensionOrResumption","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],[4,"ngIf"],[2,"color","red"],["type","text","name","AllowanceStatus","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementStart"](9,"span",6),b["\u0275\u0275text"](10,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"select",7,8),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.allowancetypeid=e})("change",function(){return t.onAllowanceTypeChange()}),b["\u0275\u0275elementStart"](13,"option",9),b["\u0275\u0275text"](14),b["\u0275\u0275pipe"](15,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](16,uc,3,3,"option",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](17,yc,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"div",3),b["\u0275\u0275elementStart"](19,"div",4),b["\u0275\u0275elementStart"](20,"label",12),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementStart"](23,"span",6),b["\u0275\u0275text"](24,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"input",13,14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](28,hc,3,3,"span",11),b["\u0275\u0275template"](29,vc,3,3,"span",11),b["\u0275\u0275template"](30,gc,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"div",3),b["\u0275\u0275elementStart"](32,"div",4),b["\u0275\u0275elementStart"](33,"label",15),b["\u0275\u0275text"](34),b["\u0275\u0275pipe"](35,"translate"),b["\u0275\u0275elementStart"](36,"span",6),b["\u0275\u0275text"](37,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"input",16,17),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.amountofallowance=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](40,fc,3,3,"span",11),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"div",3),b["\u0275\u0275elementStart"](42,"div",4),b["\u0275\u0275elementStart"](43,"label",18),b["\u0275\u0275text"](44),b["\u0275\u0275pipe"](45,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](46,Sc,1,1,"input",19),b["\u0275\u0275template"](47,bc,1,1,"input",19),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](48,"div",2),b["\u0275\u0275elementStart"](49,"div",3),b["\u0275\u0275elementStart"](50,"div",2),b["\u0275\u0275elementStart"](51,"div",20),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"label",21),b["\u0275\u0275text"](54),b["\u0275\u0275pipe"](55,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](56,"select",22),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.deductibility=e})("change",function(){return t.onDeductibilityChange()}),b["\u0275\u0275template"](57,Cc,3,3,"option",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](58,"div",20),b["\u0275\u0275elementStart"](59,"div",4),b["\u0275\u0275elementStart"](60,"label",23),b["\u0275\u0275text"](61),b["\u0275\u0275pipe"](62,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](63,"select",24),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.appearanceonpayroll=e}),b["\u0275\u0275template"](64,Ic,3,3,"option",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](65,"div",25),b["\u0275\u0275elementStart"](66,"div",2),b["\u0275\u0275elementStart"](67,"div",20),b["\u0275\u0275elementStart"](68,"div",4),b["\u0275\u0275elementStart"](69,"label",15),b["\u0275\u0275text"](70),b["\u0275\u0275pipe"](71,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](72,"div",2),b["\u0275\u0275elementStart"](73,"div",20),b["\u0275\u0275elementStart"](74,"div",4),b["\u0275\u0275elementStart"](75,"input",26),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.SelectAll=e})("change",function(){return t.OnSelectAllChange()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](76,"label",27),b["\u0275\u0275text"](77),b["\u0275\u0275pipe"](78,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](79,"div",28),b["\u0275\u0275elementStart"](80,"div",29),b["\u0275\u0275elementStart"](81,"div",25),b["\u0275\u0275elementStart"](82,"div",4),b["\u0275\u0275elementStart"](83,"input",30),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.overtime=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](84,"label",27),b["\u0275\u0275text"](85),b["\u0275\u0275pipe"](86,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](87,"div",25),b["\u0275\u0275elementStart"](88,"div",4),b["\u0275\u0275elementStart"](89,"input",31),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.absences=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](90,"label",27),b["\u0275\u0275text"](91),b["\u0275\u0275pipe"](92,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](93,"div",3),b["\u0275\u0275elementStart"](94,"div",4),b["\u0275\u0275elementStart"](95,"input",32),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.paidvacations=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](96,"label",27),b["\u0275\u0275text"](97),b["\u0275\u0275pipe"](98,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](99,"div",25),b["\u0275\u0275elementStart"](100,"div",4),b["\u0275\u0275elementStart"](101,"input",33),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.sickleave=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](102,"label",27),b["\u0275\u0275text"](103),b["\u0275\u0275pipe"](104,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](105,"div",3),b["\u0275\u0275elementStart"](106,"div",4),b["\u0275\u0275elementStart"](107,"input",34),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.subjecttotaxes=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](108,"label",27),b["\u0275\u0275text"](109),b["\u0275\u0275pipe"](110,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](111,"div",29),b["\u0275\u0275elementStart"](112,"div",25),b["\u0275\u0275elementStart"](113,"div",4),b["\u0275\u0275elementStart"](114,"input",35),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.rewards=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](115,"label",27),b["\u0275\u0275text"](116),b["\u0275\u0275pipe"](117,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](118,"div",25),b["\u0275\u0275elementStart"](119,"div",4),b["\u0275\u0275elementStart"](120,"input",36),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.penalties=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](121,"label",27),b["\u0275\u0275text"](122),b["\u0275\u0275pipe"](123,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](124,"div",3),b["\u0275\u0275elementStart"](125,"div",4),b["\u0275\u0275elementStart"](126,"input",37),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.vacationpay=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](127,"label",27),b["\u0275\u0275text"](128),b["\u0275\u0275pipe"](129,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](130,"div",25),b["\u0275\u0275elementStart"](131,"div",4),b["\u0275\u0275elementStart"](132,"input",38),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.termination=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](133,"label",27),b["\u0275\u0275text"](134),b["\u0275\u0275pipe"](135,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](136,"div",3),b["\u0275\u0275elementStart"](137,"div",4),b["\u0275\u0275elementStart"](138,"input",39),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.subjecttoinsurances=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](139,"label",27),b["\u0275\u0275text"](140),b["\u0275\u0275pipe"](141,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](142,"div",2),b["\u0275\u0275elementStart"](143,"div",3),b["\u0275\u0275elementStart"](144,"div",4),b["\u0275\u0275elementStart"](145,"label",40),b["\u0275\u0275text"](146),b["\u0275\u0275pipe"](147,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](148,"input",41),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.notes=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](149,"div",3),b["\u0275\u0275elementStart"](150,"div",4),b["\u0275\u0275elementStart"](151,"label",42),b["\u0275\u0275text"](152),b["\u0275\u0275pipe"](153,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](154,wc,1,1,"input",43),b["\u0275\u0275template"](155,kc,1,1,"input",43),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](156,"div",3),b["\u0275\u0275elementStart"](157,"div",4),b["\u0275\u0275elementStart"](158,"label",44),b["\u0275\u0275text"](159),b["\u0275\u0275pipe"](160,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](161,"input",45),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.editingdate=e}),b["\u0275\u0275pipe"](162,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](163,"div",3),b["\u0275\u0275elementStart"](164,"div",4),b["\u0275\u0275elementStart"](165,"label",46),b["\u0275\u0275text"](166),b["\u0275\u0275pipe"](167,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](168,"input",47),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceHistory.dateofsuspensionorresumption=e}),b["\u0275\u0275pipe"](169,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275reference"](12),a=b["\u0275\u0275reference"](26),i=b["\u0275\u0275reference"](39);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](8,77,"AllowanceType")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.allowancetypeid)("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](132,Tc,n.invalid&&t.manuallySubmitted,n.valid&&t.manuallySubmitted))("disabled",1!=t._employeeAllowanceHistory.allowancestatus||1==t._employeeAllowanceHistory.allowancestatus&&null!=t._employeeAllowanceHistory.dateofsuspensionorresumption),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](15,79,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",t.AllowancesTypeList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](22,81,"StartingFromDate")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("required",!0)("ngModel",b["\u0275\u0275pipeBind2"](27,83,t._employeeAllowanceHistory.startdate,"yyyy-MM-dd"))("ngClass",b["\u0275\u0275pureFunction2"](135,Tc,a.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,a.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild))("disabled",1!=t._employeeAllowanceHistory.allowancestatus||1==t._employeeAllowanceHistory.allowancestatus&&null!=t._employeeAllowanceHistory.dateofsuspensionorresumption),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](35,86,"AmountOfAllowance")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.amountofallowance)("ngClass",b["\u0275\u0275pureFunction2"](138,Tc,i.invalid&&t.manuallySubmitted,i.valid&&t.manuallySubmitted))("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",i.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](45,88,"AllowanceStatus")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](55,90,"Deductibility")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.deductibility)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.DeductibilityList),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](62,92,"AppearanceOnPayroll")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.appearanceonpayroll)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.AppearanceOnPayrollList),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](71,94,"AddedWhenCalculatingValue")),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngModel",t.SelectAll)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](78,96,"SelectAll")),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.overtime)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](86,98,"Overtime")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.absences)("disabled",3!=t._employeeAllowanceHistory.deductibility||1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](92,100,"Absences")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.paidvacations)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](98,102,"PaidVacations")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.sickleave)("disabled",3!=t._employeeAllowanceHistory.deductibility||1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](104,104,"SickLeave")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.subjecttotaxes)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](110,106,"SubjectToTaxes")),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.rewards)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](117,108,"Rewards")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.penalties)("disabled",3!=t._employeeAllowanceHistory.deductibility||1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](123,110,"Penalties")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.vacationpay)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](129,112,"VacationPay")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.termination)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](135,114,"Termination")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.subjecttoinsurances)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](141,116,"SubjectToInsurances")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](147,118,"Notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceHistory.notes)("disabled",1!=t._employeeAllowanceHistory.allowancestatus),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](153,120,"Editor")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](160,122,"EditingDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](162,124,t._employeeAllowanceHistory.editingdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](167,127,"DateOfSuspensionOrResumption")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](169,129,t._employeeAllowanceHistory.dateofsuspensionorresumption,"dd/MM/yyyy"))}},directives:[d._Y,d.JL,d.F,d.EJ,d.JJ,d.On,d.Q7,o.mk,d.YN,d.Kr,o.sg,o.O5,d.Fj,ft.L,d.Wl],pipes:[h.X$,o.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e}(),Bc=["VacationRForm"];function Fc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.branchname_ar)}}function Hc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.branchname_en)}}function Rc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_ar)}}function Oc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_en)}}function Vc(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275elementStart"](1,"button",9),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"](2).onEditClick(e.id,e.rowno)}),b["\u0275\u0275element"](2,"i",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Ac(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"tr",8),b["\u0275\u0275elementStart"](2,"td"),b["\u0275\u0275elementStart"](3,"div"),b["\u0275\u0275elementStart"](4,"span"),b["\u0275\u0275text"](5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"div"),b["\u0275\u0275elementStart"](8,"span"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"div"),b["\u0275\u0275template"](13,Fc,2,1,"span",5),b["\u0275\u0275template"](14,Hc,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"td"),b["\u0275\u0275elementStart"](16,"div"),b["\u0275\u0275elementStart"](17,"span"),b["\u0275\u0275text"](18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"td"),b["\u0275\u0275elementStart"](20,"div"),b["\u0275\u0275template"](21,Rc,2,1,"span",5),b["\u0275\u0275template"](22,Oc,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"td"),b["\u0275\u0275elementStart"](24,"div"),b["\u0275\u0275elementStart"](25,"span"),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"td"),b["\u0275\u0275elementStart"](29,"div"),b["\u0275\u0275template"](30,Vc,3,0,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](null==n?null:n.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](10,9,null==n?null:n.startdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.notes),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](27,12,null==n?null:n.editingdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(438))}}function Nc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,Ac,31,15,"ng-container",7),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.EmployeeBranchHistoryList)}}function Gc(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",11),b["\u0275\u0275elementStart"](1,"ngb-pagination",12),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNoChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",13),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageSize=e}),b["\u0275\u0275elementStart"](5,"option",14),b["\u0275\u0275text"](6,"10 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",15),b["\u0275\u0275text"](8,"20 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",16),b["\u0275\u0275text"](10,"50 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"option",17),b["\u0275\u0275text"](12,"100 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](13,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",a.PageSize)}}var Pc=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cdr=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=m,this._changeEmployeeDataService=p,this._printService=u,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeBranchHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new b.EventEmitter,this.parentEdit=new b.EventEmitter,this._searchModel=new S.h,this._filterAttribute=new vi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply,y.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}return l(e,[{key:"ngOnInit",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;setTimeout(function(){e._changeEmployeeDataService.GetAllEmployeeBranchHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.EmployeeBranchHistoryList=t.data,e.cdr.markForCheck()}),e._changeEmployeeDataService.CountOfEmployeeBranchHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.totalCount=t.employees,e.cdr.markForCheck()})},0)}},{key:"onEditClick",value:function(e,t){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.parentEdit.emit({id:e,rowno:t});case 1:case"end":return n.stop()}},n,this)}))}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"Print",value:function(e){var t=this,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",r="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",l="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0641\u0631\u0639":"Branch change movements",s="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",c="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0641\u0631\u0639 \u0627\u0644\u062c\u062f\u064a\u062f":"The new branch",m="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",p="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",u="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeBranchHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(function(y){t.cdr.markForCheck(),n='\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir='.concat(a,">").concat(i,'</div>\n        <br>\n        <div class="text-center"   dir=').concat(a,">").concat(r," : ").concat(e,'</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=').concat(a,">").concat(l,"</div>\n      <br>\n      <div dir=").concat(a,'>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>').concat(s,"</th>              \n            <th>").concat(c,"</th>\n            <th>").concat(d,"</th>              \n            <th>").concat(m,"</th>\n            <th>").concat(p,"</th>\n            <th>").concat(u,"</th>\n            </tr>\n           </thead>\n           <tbody>\n      ");var h=new o.uU("en-US");y.data.map(function(e){n+="\n          <tr>\n            <td>".concat(e.code,"</td>\n            <td>").concat(h.transform(e.startdate,"dd/MM/yyyy"),"</td>\n            <td>").concat("ar"==t.lang?e.branchname_ar:e.branchname_en,"</td>\n            <td>").concat(e.notes,"</td>\n            <td>").concat("ar"==t.lang?e.editor_ar:e.editor_en,"</td>\n            <td>").concat(h.transform(e.editingdate,"dd/MM/yyyy"),"</td>\n          </tr>\n        ")}),n+="</tbody></table></div>",t._printService.OnPrintContent(n)})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](D.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-branch-list"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](Bc,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:29,vars:23,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275elementStart"](2,"h6",2),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div"),b["\u0275\u0275elementStart"](6,"table",3),b["\u0275\u0275elementStart"](7,"thead"),b["\u0275\u0275elementStart"](8,"th"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"th"),b["\u0275\u0275text"](12),b["\u0275\u0275pipe"](13,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"th"),b["\u0275\u0275text"](15),b["\u0275\u0275pipe"](16,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"th"),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"th"),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"th"),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](26,"th",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](27,Nc,2,1,"tbody",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](28,Gc,14,7,"div",6)),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](4,9,"BranchChangeMovements")," "),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,11,"Serial")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](13,13,"StartingFromDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](16,15,"TheNewBranch")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,17,"Notes")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,19,"Editor")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](25,21,"EditingDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.EmployeeBranchHistoryList.length>0&&t.employeeid>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[o.O5,o.sg,fi.N9,d.EJ,d.JJ,d.On,d.YN,d.Kr],pipes:[h.X$,o.uU],styles:[""]}),e}(),jc=["VacationRForm"];function Uc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.sectionname_ar)}}function Lc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.sectionname_en)}}function Jc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_ar)}}function zc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_en)}}function $c(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275elementStart"](1,"button",9),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"](2).onEditClick(e.id,e.rowno)}),b["\u0275\u0275element"](2,"i",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function Yc(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"tr",8),b["\u0275\u0275elementStart"](2,"td"),b["\u0275\u0275elementStart"](3,"div"),b["\u0275\u0275elementStart"](4,"span"),b["\u0275\u0275text"](5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"div"),b["\u0275\u0275elementStart"](8,"span"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"div"),b["\u0275\u0275template"](13,Uc,2,1,"span",5),b["\u0275\u0275template"](14,Lc,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"td"),b["\u0275\u0275elementStart"](16,"div"),b["\u0275\u0275elementStart"](17,"span"),b["\u0275\u0275text"](18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"td"),b["\u0275\u0275elementStart"](20,"div"),b["\u0275\u0275template"](21,Jc,2,1,"span",5),b["\u0275\u0275template"](22,zc,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"td"),b["\u0275\u0275elementStart"](24,"div"),b["\u0275\u0275elementStart"](25,"span"),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"td"),b["\u0275\u0275elementStart"](29,"div"),b["\u0275\u0275template"](30,$c,3,0,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](null==n?null:n.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](10,9,null==n?null:n.startdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.notes),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](27,12,null==n?null:n.editingdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(438))}}function qc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,Yc,31,15,"ng-container",7),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.EmployeeSectionHistoryList)}}function Qc(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",11),b["\u0275\u0275elementStart"](1,"ngb-pagination",12),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNoChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",13),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageSize=e}),b["\u0275\u0275elementStart"](5,"option",14),b["\u0275\u0275text"](6,"10 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",15),b["\u0275\u0275text"](8,"20 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",16),b["\u0275\u0275text"](10,"50 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"option",17),b["\u0275\u0275text"](12,"100 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](13,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",a.PageSize)}}var Kc=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cdr=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=m,this._changeEmployeeDataService=p,this._printService=u,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeSectionHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new b.EventEmitter,this.parentEdit=new b.EventEmitter,this._searchModel=new S.h,this._filterAttribute=new vi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply,y.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}return l(e,[{key:"ngOnInit",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;setTimeout(function(){e._changeEmployeeDataService.GetAllEmployeeSectionHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.EmployeeSectionHistoryList=t.data,e.cdr.markForCheck()}),e._changeEmployeeDataService.CountOfEmployeeSectionHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.totalCount=t.employees,e.cdr.markForCheck()})},0)}},{key:"onEditClick",value:function(e,t){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.parentEdit.emit({id:e,rowno:t});case 1:case"end":return n.stop()}},n,this)}))}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"Print",value:function(e){var t=this,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",r="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",l="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0625\u062f\u0627\u0631\u0629":"Section change movements",s="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",c="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629":"The new Section",m="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",p="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",u="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeSectionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(function(y){t.cdr.markForCheck(),n='\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir='.concat(a,">").concat(i,'</div>\n        <br>\n        <div class="text-center"   dir=').concat(a,">").concat(r," : ").concat(e,'</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=').concat(a,">").concat(l,"</div>\n      <br>\n      <div dir=").concat(a,'>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>').concat(s,"</th>              \n            <th>").concat(c,"</th>\n            <th>").concat(d,"</th>              \n            <th>").concat(m,"</th>\n            <th>").concat(p,"</th>\n            <th>").concat(u,"</th>\n            </tr>\n           </thead>\n           <tbody>\n      ");var h=new o.uU("en-US");y.data.map(function(e){n+="\n          <tr>\n            <td>".concat(e.code,"</td>\n            <td>").concat(h.transform(e.startdate,"dd/MM/yyyy"),"</td>\n            <td>").concat("ar"==t.lang?e.sectionname_ar:e.sectionname_en,"</td>\n            <td>").concat(e.notes,"</td>\n            <td>").concat("ar"==t.lang?e.editor_ar:e.editor_en,"</td>\n            <td>").concat(h.transform(e.editingdate,"dd/MM/yyyy"),"</td>\n          </tr>\n        ")}),n+="</tbody></table></div>",t._printService.OnPrintContent(n)})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](D.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-section-list"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](jc,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:29,vars:23,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275elementStart"](2,"h6",2),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div"),b["\u0275\u0275elementStart"](6,"table",3),b["\u0275\u0275elementStart"](7,"thead"),b["\u0275\u0275elementStart"](8,"th"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"th"),b["\u0275\u0275text"](12),b["\u0275\u0275pipe"](13,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"th"),b["\u0275\u0275text"](15),b["\u0275\u0275pipe"](16,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"th"),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"th"),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"th"),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](26,"th",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](27,qc,2,1,"tbody",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](28,Qc,14,7,"div",6)),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](4,9,"SectionChangeMovements")," "),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,11,"Serial")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](13,13,"StartingFromDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](16,15,"TheNewSection")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,17,"Notes")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,19,"Editor")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](25,21,"EditingDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.EmployeeSectionHistoryList.length>0&&t.employeeid>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[o.O5,o.sg,fi.N9,d.EJ,d.JJ,d.On,d.YN,d.Kr],pipes:[h.X$,o.uU],styles:[""]}),e}(),Wc=["VacationRForm"];function Xc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.departmentname_ar)}}function Zc(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.departmentname_en)}}function ed(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_ar)}}function td(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_en)}}function nd(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275elementStart"](1,"button",9),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"](2).onEditClick(e.id,e.rowno)}),b["\u0275\u0275element"](2,"i",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function ad(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"tr",8),b["\u0275\u0275elementStart"](2,"td"),b["\u0275\u0275elementStart"](3,"div"),b["\u0275\u0275elementStart"](4,"span"),b["\u0275\u0275text"](5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"div"),b["\u0275\u0275elementStart"](8,"span"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"div"),b["\u0275\u0275template"](13,Xc,2,1,"span",5),b["\u0275\u0275template"](14,Zc,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"td"),b["\u0275\u0275elementStart"](16,"div"),b["\u0275\u0275elementStart"](17,"span"),b["\u0275\u0275text"](18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"td"),b["\u0275\u0275elementStart"](20,"div"),b["\u0275\u0275template"](21,ed,2,1,"span",5),b["\u0275\u0275template"](22,td,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"td"),b["\u0275\u0275elementStart"](24,"div"),b["\u0275\u0275elementStart"](25,"span"),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"td"),b["\u0275\u0275elementStart"](29,"div"),b["\u0275\u0275template"](30,nd,3,0,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](null==n?null:n.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](10,9,null==n?null:n.startdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.notes),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](27,12,null==n?null:n.editingdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(438))}}function id(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,ad,31,15,"ng-container",7),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.EmployeeDepartmentHistoryList)}}function rd(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",11),b["\u0275\u0275elementStart"](1,"ngb-pagination",12),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNoChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",13),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageSize=e}),b["\u0275\u0275elementStart"](5,"option",14),b["\u0275\u0275text"](6,"10 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",15),b["\u0275\u0275text"](8,"20 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",16),b["\u0275\u0275text"](10,"50 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"option",17),b["\u0275\u0275text"](12,"100 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](13,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",a.PageSize)}}var ld=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cdr=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=m,this._changeEmployeeDataService=p,this._printService=u,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeDepartmentHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new b.EventEmitter,this.parentEdit=new b.EventEmitter,this._searchModel=new S.h,this._filterAttribute=new vi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply,y.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}return l(e,[{key:"ngOnInit",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;setTimeout(function(){e._changeEmployeeDataService.GetAllEmployeeDepartmentHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.EmployeeDepartmentHistoryList=t.data,e.cdr.markForCheck()}),e._changeEmployeeDataService.CountOfEmployeeDepartmentHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.totalCount=t.employees,e.cdr.markForCheck()})},0)}},{key:"onEditClick",value:function(e,t){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.parentEdit.emit({id:e,rowno:t});case 1:case"end":return n.stop()}},n,this)}))}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"Print",value:function(e){var t=this,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",r="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",l="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0642\u0633\u0645":"Department change movements",s="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",c="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u062c\u062f\u064a\u062f":"The new Department",m="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",p="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",u="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeDepartmentHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(function(y){t.cdr.markForCheck(),n='\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir='.concat(a,">").concat(i,'</div>\n        <br>\n        <div class="text-center"   dir=').concat(a,">").concat(r," : ").concat(e,'</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=').concat(a,">").concat(l,"</div>\n      <br>\n      <div dir=").concat(a,'>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>').concat(s,"</th>              \n            <th>").concat(c,"</th>\n            <th>").concat(d,"</th>              \n            <th>").concat(m,"</th>\n            <th>").concat(p,"</th>\n            <th>").concat(u,"</th>\n            </tr>\n           </thead>\n           <tbody>\n      ");var h=new o.uU("en-US");y.data.map(function(e){n+="\n          <tr>\n            <td>".concat(e.code,"</td>\n            <td>").concat(h.transform(e.startdate,"dd/MM/yyyy"),"</td>\n            <td>").concat("ar"==t.lang?e.departmentname_ar:e.departmentname_en,"</td>\n            <td>").concat(e.notes,"</td>\n            <td>").concat("ar"==t.lang?e.editor_ar:e.editor_en,"</td>\n            <td>").concat(h.transform(e.editingdate,"dd/MM/yyyy"),"</td>\n          </tr>\n        ")}),n+="</tbody></table></div>",t._printService.OnPrintContent(n)})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](D.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-department-list"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](Wc,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:29,vars:23,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275elementStart"](2,"h6",2),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div"),b["\u0275\u0275elementStart"](6,"table",3),b["\u0275\u0275elementStart"](7,"thead"),b["\u0275\u0275elementStart"](8,"th"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"th"),b["\u0275\u0275text"](12),b["\u0275\u0275pipe"](13,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"th"),b["\u0275\u0275text"](15),b["\u0275\u0275pipe"](16,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"th"),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"th"),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"th"),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](26,"th",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](27,id,2,1,"tbody",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](28,rd,14,7,"div",6)),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](4,9,"DepartmentChangeMovements")," "),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,11,"Serial")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](13,13,"StartingFromDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](16,15,"TheNewDepartment")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,17,"Notes")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,19,"Editor")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](25,21,"EditingDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.EmployeeDepartmentHistoryList.length>0&&t.employeeid>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[o.O5,o.sg,fi.N9,d.EJ,d.JJ,d.On,d.YN,d.Kr],pipes:[h.X$,o.uU],styles:[""]}),e}(),od=["VacationRForm"];function sd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.costcentername_ar)}}function cd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.costcentername_en)}}function dd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_ar)}}function md(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_en)}}function pd(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275elementStart"](1,"button",9),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"](2).onEditClick(e.id,e.rowno)}),b["\u0275\u0275element"](2,"i",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function ud(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"tr",8),b["\u0275\u0275elementStart"](2,"td"),b["\u0275\u0275elementStart"](3,"div"),b["\u0275\u0275elementStart"](4,"span"),b["\u0275\u0275text"](5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"div"),b["\u0275\u0275elementStart"](8,"span"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"div"),b["\u0275\u0275template"](13,sd,2,1,"span",5),b["\u0275\u0275template"](14,cd,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"td"),b["\u0275\u0275elementStart"](16,"div"),b["\u0275\u0275elementStart"](17,"span"),b["\u0275\u0275text"](18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"td"),b["\u0275\u0275elementStart"](20,"div"),b["\u0275\u0275template"](21,dd,2,1,"span",5),b["\u0275\u0275template"](22,md,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"td"),b["\u0275\u0275elementStart"](24,"div"),b["\u0275\u0275elementStart"](25,"span"),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"td"),b["\u0275\u0275elementStart"](29,"div"),b["\u0275\u0275template"](30,pd,3,0,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](null==n?null:n.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](10,9,null==n?null:n.startdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.notes),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](27,12,null==n?null:n.editingdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(438))}}function yd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,ud,31,15,"ng-container",7),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.EmployeeCostcenterHistoryList)}}function hd(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",11),b["\u0275\u0275elementStart"](1,"ngb-pagination",12),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNoChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",13),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageSize=e}),b["\u0275\u0275elementStart"](5,"option",14),b["\u0275\u0275text"](6,"10 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",15),b["\u0275\u0275text"](8,"20 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",16),b["\u0275\u0275text"](10,"50 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"option",17),b["\u0275\u0275text"](12,"100 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](13,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",a.PageSize)}}var vd=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cdr=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=m,this._changeEmployeeDataService=p,this._printService=u,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeCostcenterHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new b.EventEmitter,this.parentEdit=new b.EventEmitter,this._searchModel=new S.h,this._filterAttribute=new vi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply,y.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}return l(e,[{key:"ngOnInit",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;setTimeout(function(){e._changeEmployeeDataService.GetAllEmployeeCostcenterHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.EmployeeCostcenterHistoryList=t.data,e.cdr.markForCheck()}),e._changeEmployeeDataService.CountOfEmployeeCostcenterHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.totalCount=t.employees,e.cdr.markForCheck()})},0)}},{key:"onEditClick",value:function(e,t){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.parentEdit.emit({id:e,rowno:t});case 1:case"end":return n.stop()}},n,this)}))}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"Print",value:function(e){var t=this,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",r="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",l="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0645\u0631\u0643\u0632 \u0627\u0644\u062a\u0643\u0644\u0641\u0629":"Cost center change movements",s="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",c="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0645\u0631\u0643\u0632 \u0627\u0644\u062a\u0643\u0644\u0641\u0629 \u0627\u0644\u062c\u062f\u064a\u062f":"The new Cost center",m="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",p="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",u="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeCostcenterHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(function(y){t.cdr.markForCheck(),n='\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir='.concat(a,">").concat(i,'</div>\n        <br>\n        <div class="text-center"   dir=').concat(a,">").concat(r," : ").concat(e,'</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=').concat(a,">").concat(l,"</div>\n      <br>\n        <div dir=").concat(a,'>\n             <table class="table text-center m-0 table table-striped"  border="1px"  >\n             <thead>\n              <tr style="background: #e9f1f5;color: cornflowerblue;">\n              <th>').concat(s,"</th>              \n              <th>").concat(c,"</th>\n              <th>").concat(d,"</th>              \n              <th>").concat(m,"</th>\n              <th>").concat(p,"</th>\n              <th>").concat(u,"</th>\n              </tr>\n             </thead>\n             <tbody>\n        ");var h=new o.uU("en-US");y.data.map(function(e){n+="\n            <tr>\n              <td>".concat(e.code,"</td>\n              <td>").concat(h.transform(e.startdate,"dd/MM/yyyy"),"</td>\n              <td>").concat("ar"==t.lang?e.costcentername_ar:e.costcentername_en,"</td>\n              <td>").concat(e.notes,"</td>\n              <td>").concat("ar"==t.lang?e.editor_ar:e.editor_en,"</td>\n              <td>").concat(h.transform(e.editingdate,"dd/MM/yyyy"),"</td>\n            </tr>\n          ")}),n+="</tbody></table></div>",t._printService.OnPrintContent(n)})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](D.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-costcenter-list"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](od,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:29,vars:23,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275elementStart"](2,"h6",2),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div"),b["\u0275\u0275elementStart"](6,"table",3),b["\u0275\u0275elementStart"](7,"thead"),b["\u0275\u0275elementStart"](8,"th"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"th"),b["\u0275\u0275text"](12),b["\u0275\u0275pipe"](13,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"th"),b["\u0275\u0275text"](15),b["\u0275\u0275pipe"](16,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"th"),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"th"),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"th"),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](26,"th",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](27,yd,2,1,"tbody",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](28,hd,14,7,"div",6)),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](4,9,"CostcenterChangeMovements")," "),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,11,"Serial")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](13,13,"StartingFromDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](16,15,"TheNewCostcenter")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,17,"Notes")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,19,"Editor")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](25,21,"EditingDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.EmployeeCostcenterHistoryList.length>0&&t.employeeid>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[o.O5,o.sg,fi.N9,d.EJ,d.JJ,d.On,d.YN,d.Kr],pipes:[h.X$,o.uU],styles:[""]}),e}(),gd=["VacationRForm"];function fd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.professionsjobname_ar)}}function Sd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.professionsjobname_en)}}function bd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.contracttypename_ar)}}function Ed(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.contracttypename_en)}}function xd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_ar)}}function Cd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_en)}}function Dd(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275elementStart"](1,"button",9),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"](2).onEditClick(e.id,e.rowno)}),b["\u0275\u0275element"](2,"i",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function _d(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"tr",8),b["\u0275\u0275elementStart"](2,"td"),b["\u0275\u0275elementStart"](3,"div"),b["\u0275\u0275elementStart"](4,"span"),b["\u0275\u0275text"](5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"div"),b["\u0275\u0275elementStart"](8,"span"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"div"),b["\u0275\u0275template"](13,fd,2,1,"span",5),b["\u0275\u0275template"](14,Sd,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"td"),b["\u0275\u0275elementStart"](16,"div"),b["\u0275\u0275template"](17,bd,2,1,"span",5),b["\u0275\u0275template"](18,Ed,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"td"),b["\u0275\u0275elementStart"](20,"div"),b["\u0275\u0275elementStart"](21,"span"),b["\u0275\u0275text"](22),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"td"),b["\u0275\u0275elementStart"](24,"div"),b["\u0275\u0275elementStart"](25,"span"),b["\u0275\u0275text"](26),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"td"),b["\u0275\u0275elementStart"](28,"div"),b["\u0275\u0275elementStart"](29,"span"),b["\u0275\u0275text"](30),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"td"),b["\u0275\u0275elementStart"](32,"div"),b["\u0275\u0275template"](33,xd,2,1,"span",5),b["\u0275\u0275template"](34,Cd,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"td"),b["\u0275\u0275elementStart"](36,"div"),b["\u0275\u0275elementStart"](37,"span"),b["\u0275\u0275text"](38),b["\u0275\u0275pipe"](39,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](40,"td"),b["\u0275\u0275elementStart"](41,"div"),b["\u0275\u0275template"](42,Dd,3,0,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](null==n?null:n.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](10,13,null==n?null:n.startdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.category),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.degree),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.notes),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](39,16,null==n?null:n.editingdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(438))}}function Id(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,_d,43,19,"ng-container",7),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.EmployeeJobHistoryList)}}function wd(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",11),b["\u0275\u0275elementStart"](1,"ngb-pagination",12),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNoChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",13),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageSize=e}),b["\u0275\u0275elementStart"](5,"option",14),b["\u0275\u0275text"](6,"10 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",15),b["\u0275\u0275text"](8,"20 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",16),b["\u0275\u0275text"](10,"50 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"option",17),b["\u0275\u0275text"](12,"100 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](13,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",a.PageSize)}}var kd=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cdr=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=m,this._changeEmployeeDataService=p,this._printService=u,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeJobHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new b.EventEmitter,this.parentEdit=new b.EventEmitter,this._searchModel=new S.h,this._filterAttribute=new vi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply,y.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}return l(e,[{key:"ngOnInit",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;setTimeout(function(){e._changeEmployeeDataService.GetAllEmployeeJobHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.EmployeeJobHistoryList=t.data,e.cdr.markForCheck()}),e._changeEmployeeDataService.CountOfEmployeeJobHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.totalCount=t.employees,e.cdr.markForCheck()})},0)}},{key:"onEditClick",value:function(e,t){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.parentEdit.emit({id:e,rowno:t});case 1:case"end":return n.stop()}},n,this)}))}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"Print",value:function(e){var t=this,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",r="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",l="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0648\u0638\u064a\u0641\u0629":"Job change movements",s="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",c="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629":"The new Job",m="ar"==this.lang?"\u0646\u0648\u0639 \u0627\u0644\u0639\u0642\u062f \u0627\u0644\u062c\u062f\u064a\u062f":"The new contract type",p="ar"==this.lang?"\u0627\u0644\u0641\u0626\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629":"The new category",u="ar"==this.lang?"\u0627\u0644\u062f\u0631\u062c\u0629 \u0627\u0644\u062c\u062f\u064a\u062f\u0629":"The new degree",y="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",h="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",v="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeJobHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(function(g){t.cdr.markForCheck(),n='\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir='.concat(a,">").concat(i,'</div>\n        <br>\n        <div class="text-center"   dir=').concat(a,">").concat(r," : ").concat(e,'</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=').concat(a,">").concat(l,"</div>\n      <br>\n      <div dir=").concat(a,'>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>').concat(s,"</th>              \n            <th>").concat(c,"</th>\n            <th>").concat(d,"</th>     \n            <th>").concat(m,"</th>     \n            <th>").concat(p,"</th>     \n            <th>").concat(u,"</th>              \n            <th>").concat(y,"</th>\n            <th>").concat(h,"</th>\n            <th>").concat(v,"</th>\n            </tr>\n           </thead>\n           <tbody>\n      ");var f=new o.uU("en-US");g.data.map(function(e){n+="\n          <tr>\n            <td>".concat(e.code,"</td>\n            <td>").concat(f.transform(e.startdate,"dd/MM/yyyy"),"</td>\n            <td>").concat("ar"==t.lang?e.jobtitlename_ar:e.jobtitlename_en,"</td>\n            <td>").concat("ar"==t.lang?e.contracttypename_ar:e.contracttypename_en,"</td>\n            <td>").concat(e.category,"</td>\n            <td>").concat(e.degree,"</td>\n            <td>").concat(e.notes,"</td>\n            <td>").concat("ar"==t.lang?e.editor_ar:e.editor_en,"</td>\n            <td>").concat(f.transform(e.editingdate,"dd/MM/yyyy"),"</td>\n          </tr>\n        ")}),n+="</tbody></table></div>",t._printService.OnPrintContent(n)})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](D.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-job-list"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](gd,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:38,vars:32,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275elementStart"](2,"h6",2),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div"),b["\u0275\u0275elementStart"](6,"table",3),b["\u0275\u0275elementStart"](7,"thead"),b["\u0275\u0275elementStart"](8,"th"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"th"),b["\u0275\u0275text"](12),b["\u0275\u0275pipe"](13,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"th"),b["\u0275\u0275text"](15),b["\u0275\u0275pipe"](16,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"th"),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"th"),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"th"),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"th"),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"th"),b["\u0275\u0275text"](30),b["\u0275\u0275pipe"](31,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"th"),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](35,"th",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](36,Id,2,1,"tbody",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](37,wd,14,7,"div",6)),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](4,12,"JobChangeMovements")," "),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,14,"Serial")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](13,16,"StartingFromDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](16,18,"TheNewJob")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,20,"TheNewContractType")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,22,"TheNewCategory")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](25,24,"TheNewDegree")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](28,26,"Notes")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](31,28,"Editor")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](34,30,"EditingDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.EmployeeJobHistoryList.length>0&&t.employeeid>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[o.O5,o.sg,fi.N9,d.EJ,d.JJ,d.On,d.YN,d.Kr],pipes:[h.X$,o.uU],styles:[""]}),e}(),Td=["VacationRForm"];function Md(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.salarytype_ar)}}function Bd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.salarytype_en)}}function Fd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.overtimestatus_ar)}}function Hd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.overtimestatus_en)}}function Rd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.overtimetype_ar)}}function Od(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.overtimetype_en)}}function Vd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.overtimevalue)}}function Ad(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.overtimepercentage)}}function Nd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_ar)}}function Gd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_en)}}function Pd(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275elementStart"](1,"button",9),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"](2).onEditClick(e.id,e.rowno)}),b["\u0275\u0275element"](2,"i",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function jd(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"tr",8),b["\u0275\u0275elementStart"](2,"td"),b["\u0275\u0275elementStart"](3,"div"),b["\u0275\u0275elementStart"](4,"span"),b["\u0275\u0275text"](5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"div"),b["\u0275\u0275elementStart"](8,"span"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"span"),b["\u0275\u0275text"](13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"td"),b["\u0275\u0275elementStart"](15,"div"),b["\u0275\u0275template"](16,Md,2,1,"span",5),b["\u0275\u0275template"](17,Bd,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"td"),b["\u0275\u0275elementStart"](19,"div"),b["\u0275\u0275template"](20,Fd,2,1,"span",5),b["\u0275\u0275template"](21,Hd,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"td"),b["\u0275\u0275elementStart"](23,"div"),b["\u0275\u0275template"](24,Rd,2,1,"span",5),b["\u0275\u0275template"](25,Od,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"td"),b["\u0275\u0275elementStart"](27,"div"),b["\u0275\u0275template"](28,Vd,2,1,"span",5),b["\u0275\u0275template"](29,Ad,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"td"),b["\u0275\u0275elementStart"](31,"div"),b["\u0275\u0275elementStart"](32,"span"),b["\u0275\u0275text"](33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](34,"td"),b["\u0275\u0275elementStart"](35,"div"),b["\u0275\u0275template"](36,Nd,2,1,"span",5),b["\u0275\u0275template"](37,Gd,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"td"),b["\u0275\u0275elementStart"](39,"div"),b["\u0275\u0275elementStart"](40,"span"),b["\u0275\u0275text"](41),b["\u0275\u0275pipe"](42,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](43,"td"),b["\u0275\u0275elementStart"](44,"div"),b["\u0275\u0275template"](45,Pd,3,0,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](null==n?null:n.code),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](10,16,null==n?null:n.startdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.salary),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",2==(null==n?null:n.overtimetype)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",3==(null==n?null:n.overtimetype)),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.notes),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](42,19,null==n?null:n.editingdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(438))}}function Ud(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,jd,46,22,"ng-container",7),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.EmployeeSalaryHistoryList)}}function Ld(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",11),b["\u0275\u0275elementStart"](1,"ngb-pagination",12),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNoChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",13),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageSize=e}),b["\u0275\u0275elementStart"](5,"option",14),b["\u0275\u0275text"](6,"10 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",15),b["\u0275\u0275text"](8,"20 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",16),b["\u0275\u0275text"](10,"50 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"option",17),b["\u0275\u0275text"](12,"100 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](13,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",a.PageSize)}}var Jd=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cdr=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=m,this._changeEmployeeDataService=p,this._printService=u,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeSalaryHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new b.EventEmitter,this.parentEdit=new b.EventEmitter,this._searchModel=new S.h,this._filterAttribute=new vi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply,y.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}return l(e,[{key:"ngOnInit",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;setTimeout(function(){e._changeEmployeeDataService.GetAllEmployeeSalaryHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.EmployeeSalaryHistoryList=t.data,e.cdr.markForCheck()}),e._changeEmployeeDataService.CountOfEmployeeSalaryHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.totalCount=t.employees,e.cdr.markForCheck()})},0)}},{key:"onEditClick",value:function(e,t){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.parentEdit.emit({id:e,rowno:t});case 1:case"end":return n.stop()}},n,this)}))}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"Print",value:function(e){var t=this,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",r="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",l="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0631\u0627\u062a\u0628":"Salary change movements",s="ar"==this.lang?"\u0645\u0633\u0644\u0633\u0644":"Serial",c="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0631\u0627\u062a\u0628":"Salary",m="ar"==this.lang?"\u0646\u0648\u0639 \u0627\u0644\u0631\u0627\u062a\u0628":"Salary type",p="ar"==this.lang?"\u064a\u0633\u062a\u062d\u0642 \u0625\u0636\u0627\u0641\u0649":"Has overtime",u="ar"==this.lang?"\u0646\u0648\u0639 \u0627\u0644\u0625\u0636\u0627\u0641\u0649":"Overtime type",y="ar"==this.lang?"\u0627\u0644\u0645\u0639\u062f\u0644":"Rate",h="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",v="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",g="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeSalaryHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(function(f){t.cdr.markForCheck(),n='\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir='.concat(a,">").concat(i,'</div>\n        <br>\n        <div class="text-center"   dir=').concat(a,">").concat(r," : ").concat(e,'</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=').concat(a,">").concat(l,"</div>\n      <br>\n      <div dir=").concat(a,'>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>').concat(s,"</th>              \n            <th>").concat(c,"</th>\n            <th>").concat(d,"</th>     \n            <th>").concat(m,"</th>     \n            <th>").concat(p,"</th>     \n            <th>").concat(u,"</th>              \n            <th>").concat(y,"</th>\n            <th>").concat(h,"</th>\n            <th>").concat(v,"</th>\n            <th>").concat(g,"</th>\n            </tr>\n           </thead>\n           <tbody>\n      ");var S=new o.uU("en-US");f.data.map(function(e){n+="\n          <tr>\n            <td>".concat(e.code,"</td>\n            <td>").concat(S.transform(e.startdate,"dd/MM/yyyy"),"</td>\n            <td>").concat(e.salary,"</td>\n            <td>").concat("ar"==t.lang?e.salarytype_ar:e.salarytype_en,"</td>\n            <td>").concat("ar"==t.lang?e.overtimestatus_ar:e.overtimestatus_en,"</td>\n            <td>").concat(1==e.overtimestatus?"ar"==t.lang?e.overtimetype_ar:e.overtimetype_en:"","</td>\n            <td>").concat(2==e.overtimetype?e.overtimevalue:3==e.overtimetype?e.overtimepercentage:"","</td>\n            <td>").concat(e.notes,"</td>\n            <td>").concat("ar"==t.lang?e.editor_ar:e.editor_en,"</td>\n            <td>").concat(S.transform(e.editingdate,"dd/MM/yyyy"),"</td>\n          </tr>\n        ")}),n+="</tbody></table></div>",t._printService.OnPrintContent(n)})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](D.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-salary-list"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](Td,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:41,vars:35,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275elementStart"](2,"h6",2),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div"),b["\u0275\u0275elementStart"](6,"table",3),b["\u0275\u0275elementStart"](7,"thead"),b["\u0275\u0275elementStart"](8,"th"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"th"),b["\u0275\u0275text"](12),b["\u0275\u0275pipe"](13,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"th"),b["\u0275\u0275text"](15),b["\u0275\u0275pipe"](16,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"th"),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"th"),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"th"),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"th"),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"th"),b["\u0275\u0275text"](30),b["\u0275\u0275pipe"](31,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"th"),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"th"),b["\u0275\u0275text"](36),b["\u0275\u0275pipe"](37,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](38,"th",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](39,Ud,2,1,"tbody",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](40,Ld,14,7,"div",6)),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](4,13,"SalaryChangeMovements")," "),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,15,"Serial")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](13,17,"StartingFromDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](16,19,"Salary")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,21,"SalaryType")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,23,"HasOvertime")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](25,25,"OvertimeType")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](28,27,"Rate")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](31,29,"Notes")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](34,31,"Editor")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](37,33,"EditingDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.EmployeeSalaryHistoryList.length>0&&t.employeeid>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[o.O5,o.sg,fi.N9,d.EJ,d.JJ,d.On,d.YN,d.Kr],pipes:[h.X$,o.uU],styles:[""]}),e}(),zd=["VacationRForm"];function $d(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.allowancestypename_ar)}}function Yd(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.allowancestypename_en)}}function qd(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function Qd(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function Kd(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function Wd(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function Xd(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function Zd(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function em(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function tm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function nm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function am(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function im(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function rm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function lm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function om(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function sm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function cm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function dm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function mm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function pm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2713 "),b["\u0275\u0275elementEnd"]())}function um(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1," \u2718 "),b["\u0275\u0275elementEnd"]())}function ym(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.allowancestatus_ar)}}function hm(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.allowancestatus_en)}}function vm(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275elementStart"](1,"button",20),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"](2).onEditClick(e.id,e.rowno)}),b["\u0275\u0275element"](2,"i",21),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](3);b["\u0275\u0275styleMap"]("ar"==a.lang?"margin-left: 50px;":"margin-right: 50px;")}}var gm=function(e){return{color:e}};function fm(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"tr",17),b["\u0275\u0275elementStart"](2,"td"),b["\u0275\u0275elementStart"](3,"div"),b["\u0275\u0275template"](4,$d,2,1,"span",14),b["\u0275\u0275template"](5,Yd,2,1,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"div"),b["\u0275\u0275elementStart"](8,"span"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"div"),b["\u0275\u0275elementStart"](13,"span"),b["\u0275\u0275text"](14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"td"),b["\u0275\u0275template"](16,qd,2,0,"span",14),b["\u0275\u0275template"](17,Qd,2,0,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"td"),b["\u0275\u0275template"](19,Kd,2,0,"span",14),b["\u0275\u0275template"](20,Wd,2,0,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](21,"td",18),b["\u0275\u0275template"](22,Xd,2,0,"span",14),b["\u0275\u0275template"](23,Zd,2,0,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](24,"td",18),b["\u0275\u0275template"](25,em,2,0,"span",14),b["\u0275\u0275template"](26,tm,2,0,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"td"),b["\u0275\u0275template"](28,nm,2,0,"span",14),b["\u0275\u0275template"](29,am,2,0,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](30,"td"),b["\u0275\u0275template"](31,im,2,0,"span",14),b["\u0275\u0275template"](32,rm,2,0,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](33,"td",18),b["\u0275\u0275template"](34,lm,2,0,"span",14),b["\u0275\u0275template"](35,om,2,0,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](36,"td"),b["\u0275\u0275template"](37,sm,2,0,"span",14),b["\u0275\u0275template"](38,cm,2,0,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](39,"td"),b["\u0275\u0275template"](40,dm,2,0,"span",14),b["\u0275\u0275template"](41,mm,2,0,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](42,"td"),b["\u0275\u0275template"](43,pm,2,0,"span",14),b["\u0275\u0275template"](44,um,2,0,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"td"),b["\u0275\u0275elementStart"](46,"div"),b["\u0275\u0275template"](47,ym,2,1,"span",14),b["\u0275\u0275template"](48,hm,2,1,"span",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](49,"td",13),b["\u0275\u0275elementStart"](50,"div"),b["\u0275\u0275template"](51,vm,3,2,"span",19),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](10,30,null==n?null:n.startdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](null==n?null:n.amountofallowance),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.overtime)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.overtime)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.rewards)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.rewards)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngStyle",b["\u0275\u0275pureFunction1"](33,gm,3==n.deductibility?"black":"gray")),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.absences)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.absences)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngStyle",b["\u0275\u0275pureFunction1"](35,gm,3==n.deductibility?"black":"gray")),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.penalties)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.penalties)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.paidvacations)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.paidvacations)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.vacationpay)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.vacationpay)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngStyle",b["\u0275\u0275pureFunction1"](37,gm,3==n.deductibility?"black":"gray")),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.sickleave)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.sickleave)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.termination)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.termination)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.subjecttotaxes)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.subjecttotaxes)),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",1==(null==n?null:n.subjecttoinsurances)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",0==(null==n?null:n.subjecttoinsurances)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(438))}}function Sm(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,fm,52,39,"ng-container",16),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.EmployeeAllowanceHistoryList)}}function bm(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",22),b["\u0275\u0275elementStart"](1,"ngb-pagination",23),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNoChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",24),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageSize=e}),b["\u0275\u0275elementStart"](5,"option",25),b["\u0275\u0275text"](6,"10 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",26),b["\u0275\u0275text"](8,"20 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",27),b["\u0275\u0275text"](10,"50 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"option",28),b["\u0275\u0275text"](12,"100 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](13,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",a.PageSize)}}var Em=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cdr=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=m,this._changeEmployeeDataService=p,this._printService=u,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeAllowanceHistoryList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.ViewOnlyValidAllowances=!1,this.parentGetData=new b.EventEmitter,this.parentEdit=new b.EventEmitter,this._searchModel=new S.h,this._filterAttribute=new vi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply,y.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}return l(e,[{key:"ngOnInit",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;setTimeout(function(){e._changeEmployeeDataService.GetAllEmployeeAllowanceHistory(e._searchModel,e.subsidaryid,e.employeeid,e.ViewOnlyValidAllowances).subscribe(function(t){e.EmployeeAllowanceHistoryList=t.data,e.cdr.markForCheck()}),e._changeEmployeeDataService.CountOfEmployeeAllowanceHistory(e._searchModel,e.subsidaryid,e.employeeid,e.ViewOnlyValidAllowances).subscribe(function(t){e.totalCount=t.employees,e.cdr.markForCheck()})},0)}},{key:"onEditClick",value:function(e,t){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.parentEdit.emit({id:e,rowno:t});case 1:case"end":return n.stop()}},n,this)}))}},{key:"OnViewOnlyValidAllowancesChange",value:function(){this.GetData()}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"Print",value:function(e){var t=this,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062a\u063a\u064a\u064a\u0631 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646":"Change Employee Data",r="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",l="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0628\u062f\u0644\u0627\u062a":"Allowance change movements",s="ar"==this.lang?"\u0646\u0648\u0639 \u0627\u0644\u0628\u062f\u0644":"Allowance Type",c="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u0645\u0628\u0644\u063a":"The Amount",m="ar"==this.lang?"\u0625\u0636\u0627\u0641\u064a":"Overtime",p="ar"==this.lang?"\u0645\u0643\u0627\u0641\u0622\u062a":"Rewards",u="ar"==this.lang?"\u063a\u064a\u0627\u0628":"Absences",y="ar"==this.lang?"\u062c\u0632\u0627\u0621\u0627\u062a":"Penalties",h="ar"==this.lang?"\u0627\u062c\u0627\u0632\u0627\u062a \u0645\u062f\u0641\u0648\u0639\u0629":"Paid Vacations",v="ar"==this.lang?"\u0628\u062f\u0644 \u0627\u062c\u0627\u0632\u0629 \u0646\u0642\u062f\u064a":"Vacation Pay",g="ar"==this.lang?"\u0627\u062c\u0627\u0632\u0629 \u0645\u0631\u0636\u064a":"Sick Leave",f="ar"==this.lang?"\u0646\u0647\u0627\u064a\u0629 \u062e\u062f\u0645\u0629":"Termination",S="ar"==this.lang?"\u062e\u0627\u0636\u0639 \u0644\u0644\u0636\u0631\u0627\u0626\u0628":"Subject To Taxes",b="ar"==this.lang?"\u062e\u0627\u0636\u0639 \u0644\u0644\u062a\u0623\u0645\u064a\u0646\u0627\u062a":"Subject To Insurances",E="ar"==this.lang?"\u062d\u0627\u0644\u0629 \u0627\u0644\u0628\u062f\u0644":"Allowance Status";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._changeEmployeeDataService.GetAllEmployeeAllowanceHistory(this._searchModel,this.subsidaryid,this.employeeid,this.ViewOnlyValidAllowances).subscribe(function(x){t.cdr.markForCheck(),n='\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir='.concat(a,">").concat(i,'</div>\n        <br>\n        <div class="text-center"   dir=').concat(a,">").concat(r," : ").concat(e,'</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=').concat(a,">").concat(l,"</div>\n      <br>\n      <div dir=").concat(a,'>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">\n            <th>').concat(s,"</th>  \n            <th>").concat(c,"</th>  \n            <th>").concat(d,"</th>\n            <th>").concat(m,"</th>             \n            <th>").concat(p,"</th>\n            <th>").concat(u,"</th>\n            <th>").concat(y,"</th>\n            <th>").concat(h,"</th>\n            <th>").concat(v,"</th>\n            <th>").concat(g,"</th>\n            <th>").concat(f,"</th>\n            <th>").concat(S,"</th>\n            <th>").concat(b,"</th>\n            <th>").concat(E,"</th>\n            </tr>\n           </thead>\n           <tbody>\n      ");var C=new o.uU("en-US");x.data.map(function(e){n+="\n          <tr>\n          <td>".concat("ar"==t.lang?e.allowancestypename_ar:e.allowancestypename_en,"</td>\n            <td>").concat(C.transform(e.startdate,"dd/MM/yyyy"),"</td>\n            <td>").concat(e.amountofallowance,"</td>\n            <td>").concat(1==e.overtime?"\u2713":"\u2718","</td>\n            <td>").concat(1==e.rewards?"\u2713":"\u2718","</td>\n            <td>").concat(1==e.absences?"\u2713":"\u2718","</td>\n            <td>").concat(1==e.penalties?"\u2713":"\u2718","</td>\n            <td>").concat(1==e.paidvacations?"\u2713":"\u2718","</td>\n            <td>").concat(1==e.vacationpay?"\u2713":"\u2718","</td>\n            <td>").concat(1==e.sickleave?"\u2713":"\u2718","</td>\n            <td>").concat(1==e.termination?"\u2713":"\u2718","</td>\n            <td>").concat(1==e.subjecttotaxes?"\u2713":"\u2718","</td>\n            <td>").concat(1==e.subjecttoinsurances?"\u2713":"\u2718","</td>\n            <td>").concat("ar"==t.lang?e.allowancestatus_ar:e.allowancestatus_en,"</td>\n          </tr>\n        ")}),n+="</tbody></table></div>",t._printService.OnPrintContent(n)})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](gi),b["\u0275\u0275directiveInject"](D.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-allowance-list"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](zd,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:59,vars:51,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0",2,"margin-top","20px","margin-bottom","0px !important"],[1,"form-group"],["type","checkbox","name","ViewOnlyValidAllowances",3,"ngModel","ngModelChange","change"],["for","sort",1,"col-form-label"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[1,"text-center"],[1,"text-center",2,"width","6%","text-wrap","wrap"],[1,"text-center",2,"width","4%","text-wrap","wrap"],[1,"text-center",2,"width","7%","text-wrap","wrap"],[1,"text-center",2,"width","5%","text-wrap","wrap"],[2,"width","7%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[3,"ngStyle"],[3,"style",4,"ngIf"],[1,"btn","btn-trash","success","btn","btn-link","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275elementStart"](2,"h6",2),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div",3),b["\u0275\u0275elementStart"](6,"div",4),b["\u0275\u0275elementStart"](7,"input",5),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.ViewOnlyValidAllowances=e})("change",function(){return t.OnViewOnlyValidAllowancesChange()}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](8,"label",6),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div"),b["\u0275\u0275elementStart"](12,"table",7),b["\u0275\u0275elementStart"](13,"thead"),b["\u0275\u0275elementStart"](14,"th",8),b["\u0275\u0275text"](15),b["\u0275\u0275pipe"](16,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"th",8),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"th",8),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"th",9),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"th",9),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"th",9),b["\u0275\u0275text"](30),b["\u0275\u0275pipe"](31,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"th",9),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](35,"th",9),b["\u0275\u0275text"](36),b["\u0275\u0275pipe"](37,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](38,"th",9),b["\u0275\u0275text"](39),b["\u0275\u0275pipe"](40,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](41,"th",10),b["\u0275\u0275text"](42),b["\u0275\u0275pipe"](43,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"th",11),b["\u0275\u0275text"](45),b["\u0275\u0275pipe"](46,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](47,"th",12),b["\u0275\u0275text"](48),b["\u0275\u0275pipe"](49,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](50,"th",11),b["\u0275\u0275text"](51),b["\u0275\u0275pipe"](52,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](53,"th",8),b["\u0275\u0275text"](54),b["\u0275\u0275pipe"](55,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](56,"th",13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](57,Sm,2,1,"tbody",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](58,bm,14,7,"div",15)),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](4,19,"AllowanceChangeMovements")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",t.ViewOnlyValidAllowances),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,21,"ViewOnlyValidAllowances")),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](16,23,"AllowanceType")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,25,"StartingFromDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,27,"TheAmount")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](25,29,"Overtime")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](28,31,"Rewards")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](31,33,"Absences")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](34,35,"Penalties")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](37,37,"PaidVacations")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](40,39,"VacationPay")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](43,41,"SickLeave")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](46,43,"Termination")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](49,45,"SubjectToTaxes")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](52,47,"SubjectToInsurances")," "),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](55,49,"AllowanceStatus")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.EmployeeAllowanceHistoryList.length>0&&t.employeeid>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[d.Wl,d.JJ,d.On,o.O5,o.sg,o.PC,fi.N9,d.EJ,d.YN,d.Kr],pipes:[h.X$,o.uU],styles:[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem .5rem;text-transform:capitalize;letter-spacing:0;border-bottom:1px solid #f0f2f5!important}"]}),e}(),xm=["changeBranchForm"],Cm=["changeBranchList"],Dm=["changeSectionForm"],_m=["changeSectionList"],Im=["changeDepartmentForm"],wm=["changeDepartmentList"],km=["changeCostcenterForm"],Tm=["changeCostcenterList"],Mm=["changeJobForm"],Bm=["changeJobList"],Fm=["changeSalaryForm"],Hm=["changeSalaryList"],Rm=["changeAllowanceForm"],Om=["changeAllowanceList"];function Vm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",2),b["\u0275\u0275elementStart"](1,"h1"),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Am(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function Nm(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Gm(e,t){if(1&e&&(b["\u0275\u0275template"](0,Am,2,1,"div",1),b["\u0275\u0275template"](1,Nm,2,1,"div",1)),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("ngIf","ar"==n.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Pm(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",21),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OnSave()}),b["\u0275\u0275element"](1,"i",22),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("disabled",!a.isLastRecored),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,2,"Save")," ")}}function jm(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",23),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onAddClick()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Add")," "))}function Um(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",24),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onDeleteClick()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Delete")," "))}function Lm(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",25),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OnPrint()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Print")," "))}var Jm=function(e,t){return{"invalid-data":e,"valid-data":t}};function zm(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",3),b["\u0275\u0275elementStart"](2,"div",4),b["\u0275\u0275elementStart"](3,"div",5),b["\u0275\u0275elementStart"](4,"h6",6),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",7),b["\u0275\u0275elementStart"](8,"div",8),b["\u0275\u0275elementStart"](9,"div",9),b["\u0275\u0275elementStart"](10,"div",10),b["\u0275\u0275elementStart"](11,"label",11),b["\u0275\u0275text"](12),b["\u0275\u0275pipe"](13,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"p-autoComplete",12,13),b["\u0275\u0275listener"]("completeMethod",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onCompleteEmployeeAuto(e)})("onFocus",function(e){b["\u0275\u0275restoreView"](n);var t=b["\u0275\u0275reference"](15);return b["\u0275\u0275nextContext"]().onFocusInAutoEmployeeComplete(e),t.show()})("onSelect",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onSelectEmployeeAuto(e)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().selectedEmployee=e}),b["\u0275\u0275template"](16,Gm,2,2,"ng-template",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](17,"div",15),b["\u0275\u0275elementStart"](18,"div",16),b["\u0275\u0275template"](19,Pm,4,4,"button",17),b["\u0275\u0275template"](20,jm,3,3,"button",18),b["\u0275\u0275template"](21,Um,3,3,"button",19),b["\u0275\u0275template"](22,Lm,3,3,"button",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,13,"ChangeEmployeeData")," "),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](13,15,"employeeid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a.selectedEmployee)("suggestions",a.employeeList)("dataKey","ar"==a.lang?"name_ar":"name")("field","ar"==a.lang?"name_ar":"name")("ngClass",b["\u0275\u0275pureFunction2"](17,Jm,a.employeeTextboxInvalid,!a.employeeTextboxInvalid)),b["\u0275\u0275advance"](4),b["\u0275\u0275styleMap"]("ar"==a.lang?"text-align: left;":"text-align: right;"),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(437)||a.checkRoleParms(438)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(437)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(439)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(440))}}function $m(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-branch-form",34,35),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).setIsLastRecored(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)("employeeBranchHistoryID",a.employeeBranchHistoryID)}}function Ym(e,t){if(1&e&&b["\u0275\u0275template"](0,$m,3,2,"div",1),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("ngIf",n.isAddMode||n.isEditMode)}}function qm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"li",31),b["\u0275\u0275elementStart"](1,"a",32),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,Ym,1,1,"ng-template",33),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngbNavItem",1),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"ChangeBranch")))}function Qm(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-section-form",36,37),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).setIsLastRecored(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)("employeeSectionHistoryID",a.employeeSectionHistoryID)}}function Km(e,t){if(1&e&&b["\u0275\u0275template"](0,Qm,3,2,"div",1),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("ngIf",n.isAddMode||n.isEditMode)}}function Wm(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"li",31),b["\u0275\u0275elementStart"](1,"a",32),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,Km,1,1,"ng-template",33),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngbNavItem",2),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"ChangeSection")))}function Xm(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-department-form",38,39),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).setIsLastRecored(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)("employeeDepartmentHistoryID",a.employeeDepartmentHistoryID)}}function Zm(e,t){if(1&e&&b["\u0275\u0275template"](0,Xm,3,2,"div",1),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("ngIf",n.isAddMode||n.isEditMode)}}function ep(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"li",31),b["\u0275\u0275elementStart"](1,"a",32),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,Zm,1,1,"ng-template",33),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngbNavItem",3),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"ChangeDepartment")))}function tp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-costcenter-form",40,41),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).setIsLastRecored(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)("employeeCostcenterHistoryID",a.employeeCostcenterHistoryID)}}function np(e,t){if(1&e&&b["\u0275\u0275template"](0,tp,3,2,"div",1),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("ngIf",n.isAddMode||n.isEditMode)}}function ap(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"li",31),b["\u0275\u0275elementStart"](1,"a",32),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,np,1,1,"ng-template",33),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngbNavItem",4),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"ChangeCostCenter")))}function ip(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-job-form",42,43),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).setIsLastRecored(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)("employeeJobHistoryID",a.employeeJobHistoryID)}}function rp(e,t){if(1&e&&b["\u0275\u0275template"](0,ip,3,2,"div",1),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("ngIf",n.isAddMode||n.isEditMode)}}function lp(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"li",31),b["\u0275\u0275elementStart"](1,"a",32),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,rp,1,1,"ng-template",33),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngbNavItem",5),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"ChangeJob")))}function op(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-salary-form",44,45),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).setIsLastRecored(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)("employeeSalaryHistoryID",a.employeeSalaryHistoryID)}}function sp(e,t){if(1&e&&b["\u0275\u0275template"](0,op,3,2,"div",1),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("ngIf",n.isAddMode||n.isEditMode)}}function cp(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"li",31),b["\u0275\u0275elementStart"](1,"a",32),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,sp,1,1,"ng-template",33),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngbNavItem",6),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"ChangeSalary")))}function dp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-allowance-form",46,47),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).setIsLastRecored(e)})("dataToParentCanDelete",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).setCanDelete(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)("employeeAllowanceHistoryID",a.employeeAllowanceHistoryID)}}function mp(e,t){if(1&e&&b["\u0275\u0275template"](0,dp,3,2,"div",1),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("ngIf",n.isAddMode||n.isEditMode)}}function pp(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"li",31),b["\u0275\u0275elementStart"](1,"a",32),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,mp,1,1,"ng-template",33),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngbNavItem",7),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"ChangeAllowances")))}function up(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-branch-list",48,49),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onEditClick(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)}}function yp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-section-list",48,50),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onEditClick(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)}}function hp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-department-list",48,51),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onEditClick(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)}}function vp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-costcenter-list",48,52),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onEditClick(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)}}function gp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-job-list",48,53),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onEditClick(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)}}function fp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-salary-list",48,54),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onEditClick(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)}}function Sp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-change-allowance-list",48,55),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onEditClick(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)}}function bp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",26),b["\u0275\u0275elementStart"](2,"div",8),b["\u0275\u0275elementStart"](3,"ul",27,28),b["\u0275\u0275listener"]("activeIdChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().activeId=e})("navChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onNavChange(e)}),b["\u0275\u0275template"](5,qm,5,4,"li",29),b["\u0275\u0275template"](6,Wm,5,4,"li",29),b["\u0275\u0275template"](7,ep,5,4,"li",29),b["\u0275\u0275template"](8,ap,5,4,"li",29),b["\u0275\u0275template"](9,lp,5,4,"li",29),b["\u0275\u0275template"](10,cp,5,4,"li",29),b["\u0275\u0275template"](11,pp,5,4,"li",29),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](12,"div",30),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](13,up,3,1,"div",1),b["\u0275\u0275template"](14,yp,3,1,"div",1),b["\u0275\u0275template"](15,hp,3,1,"div",1),b["\u0275\u0275template"](16,vp,3,1,"div",1),b["\u0275\u0275template"](17,gp,3,1,"div",1),b["\u0275\u0275template"](18,fp,3,1,"div",1),b["\u0275\u0275template"](19,Sp,3,1,"div",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275reference"](4),i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("activeId",i.activeId),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(430)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(431)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(432)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(433)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(434)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(435)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(436)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngbNavOutlet",a),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==i.activeId),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",2==i.activeId),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",3==i.activeId),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",4==i.activeId),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",5==i.activeId),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",6==i.activeId),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",7==i.activeId)}}var Ep=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u,y,h){var v=this;i(this,e),this._generalService=t,this.router=n,this.route=a,this.toastr=r,this.cdr=l,this._printService=o,this._Excel=s,this._convertToPDF=c,this._authService=d,this._TranslateGlobalService=m,this.translate=p,this._employeesService=u,this._employeeVacationsService=y,this._changeEmployeeDataService=h,this.subsidaryid=0,this.ID=0,this.errormsg="",this.Cancel="",this.DataSavedsuccessfully="",this.ChooseEmployeeFirst="",this.ChooseRecordFirst="",this.EmploymentDataIncomplete="",this.NoDataToSave="",this.Yes="",this.No="",this.MissData="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.SubsequentRecordsDeletedFirst="",this.RecordLinkedToOtherData="",this.selectedEmployee={},this.previousSelectedEmployee={},this.employeeid=0,this.previousEmployeeID=0,this.employeeList=[],this.activeId=1,this.subActiveId=1,this.isEditMode=!1,this.isAddMode=!1,this.employeeBranchHistoryID=0,this.employeeSectionHistoryID=0,this.employeeDepartmentHistoryID=0,this.employeeCostcenterHistoryID=0,this.employeeJobHistoryID=0,this.employeeSalaryHistoryID=0,this.employeeAllowanceHistoryID=0,this.annualVacationTypeId=0,this.calculatingduesdays=!1,this.WorkStartDate=null,this.employeeTextboxInvalid=!1,this.isLastRecored=!0,this.CanDelete=!0,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang)}),this.ngTransUnsubscribe=this.translate.get(["Cancel","SaveMsg","checkname","DataSavedsuccessfully","NoDataToSave","No","MissData","savedChanges","Yes","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","ChooseEmployeeFirst","ChooseRecordFirst","EmploymentDataIncomplete","VacationsAfterDateDelete","SubsequentRecordsDeletedFirst","RecordLinkedToOtherData"]).subscribe(function(e){v.DataSavedsuccessfully=e.DataSavedsuccessfully,v.NoDataToSave=e.NoDataToSave,v.Cancel=e.Cancel,v.SaveMsg=e.SaveMsg,v.errormsg=e.checkname,v.Yes=e.Yes,v.No=e.No,v.MissData=e.MissData,v.SavedData=e.savedChanges,v.swalDeleteTitle=e.swalDeleteTitle,v.swalDetlateText=e.swalDetlateText,v.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,v.toastrSuccessDelete=e.successMsg,v.ChooseEmployeeFirst=e.ChooseEmployeeFirst,v.ChooseRecordFirst=e.ChooseRecordFirst,v.EmploymentDataIncomplete=e.EmploymentDataIncomplete,v.SubsequentRecordsDeletedFirst=e.SubsequentRecordsDeletedFirst,v.RecordLinkedToOtherData=e.RecordLinkedToOtherData}),this.subsidaryid=this._generalService.SubsidiaryID,this.route.params.subscribe(function(e){v.employeeid=null==e.employeeid?0:parseFloat(e.employeeid)}),this.ngUnsubscribe=t.proadCastSubsidiaryID.subscribe(function(e){0==v.subsidaryid&&(v.subsidaryid=v._generalService.SubsidiaryID,v.cdr.markForCheck()),v.subsidaryid!=v._generalService.SubsidiaryID&&v.subsidaryid>0&&(v.subsidaryid=v._generalService.SubsidiaryID,v.cdr.markForCheck())})}return l(e,[{key:"GetEmployeeDataForValidation",value:function(){var e=this;this.WorkStartDate=null,this._employeeVacationsService.GetEmployeeDataForValidation(this.employeeid).subscribe(function(t){null!=t&&null!=t.workstartdate&&(e.WorkStartDate=t.workstartdate)})}},{key:"onCompleteEmployeeAuto",value:function(e){var n,a=this;n=e.query?e.query.trim():"",this._employeesService.getHrEmployees(this.subsidaryid,n).subscribe(function(e){a.employeeList=[],a.employeeList=[].concat(t(a.employeeList),t(e)),a.employeeid>0&&(a.selectedEmployee=a.employeeList.filter(function(e){return e.id==a.employeeid})[0]),a.cdr.markForCheck()})}},{key:"onFocusInAutoEmployeeComplete",value:function(e){var t=e.target.value;null!=t&&""!=t||this.onCompleteEmployeeAuto(e),this.onCompleteEmployeeAuto(e)}},{key:"onSelectEmployeeAuto",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=(this.employeeTextboxInvalid=!1,this.activeId),t.next=1===t.t0?3:2===t.t0?5:3===t.t0?7:4===t.t0?9:5===t.t0?11:6===t.t0?13:7===t.t0?15:17;break;case 3:return n=this.changeBranchForm,t.abrupt("break",18);case 5:return n=this.changeSectionForm,t.abrupt("break",18);case 7:return n=this.changeDepartmentForm,t.abrupt("break",18);case 9:return n=this.changeCostcenterForm,t.abrupt("break",18);case 11:return n=this.changeJobForm,t.abrupt("break",18);case 13:return n=this.changeSalaryForm,t.abrupt("break",18);case 15:return n=this.changeAllowanceForm,t.abrupt("break",18);case 17:n=this.changeBranchForm;case 18:if(!n){t.next=28;break}return t.next=21,n.NotToMissData("Change Employee");case 21:if(!t.sent){t.next=25;break}this.DestroyForms(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData(),t.next=26;break;case 25:this.employeeid=this.previousEmployeeID,this.selectedEmployee=this.previousSelectedEmployee;case 26:t.next=29;break;case 28:this.DestroyForms(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData();case 29:case"end":return t.stop()}},t,this)}))}},{key:"onNavChange",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=(e.preventDefault(),this.activeId),t.next=1===t.t0?3:2===t.t0?5:3===t.t0?7:4===t.t0?9:5===t.t0?11:6===t.t0?13:7===t.t0?15:17;break;case 3:return n=this.changeBranchForm,t.abrupt("break",18);case 5:return n=this.changeSectionForm,t.abrupt("break",18);case 7:return n=this.changeDepartmentForm,t.abrupt("break",18);case 9:return n=this.changeCostcenterForm,t.abrupt("break",18);case 11:return n=this.changeJobForm,t.abrupt("break",18);case 13:return n=this.changeSalaryForm,t.abrupt("break",18);case 15:return n=this.changeAllowanceForm,t.abrupt("break",18);case 17:n=this.changeBranchForm;case 18:if(!n){t.next=26;break}return t.next=21,n.NotToMissData("Change tab");case 21:if(t.t1=t.sent,!t.t1){t.next=24;break}this.DestroyForms(),this.activeId=e.nextId,this.GetData();case 24:t.next=27;break;case 26:this.DestroyForms(),this.activeId=e.nextId,this.GetData();case 27:case"end":return t.stop()}},t,this)}))}},{key:"onNavSubChange",value:function(e){3===e.nextId&&e.preventDefault()}},{key:"ngOnInit",value:function(){this.employeeid>0&&(this.onCompleteEmployeeAuto({originalEvent:FocusEvent,query:""}),this.previousEmployeeID=this.employeeid,this.previousSelectedEmployee=this.employeeid,this.GetEmployeeDataForValidation(),this.GetData())}},{key:"DestroyForms",value:function(){this.isAddMode=!1,this.isEditMode=!1}},{key:"onAddClick",value:function(){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.activeId,e.next=1===e.t0?3:2===e.t0?5:3===e.t0?7:4===e.t0?9:5===e.t0?11:6===e.t0?13:7===e.t0?15:17;break;case 3:return t=this.changeBranchForm,e.abrupt("break",18);case 5:return t=this.changeSectionForm,e.abrupt("break",18);case 7:return t=this.changeDepartmentForm,e.abrupt("break",18);case 9:return t=this.changeCostcenterForm,e.abrupt("break",18);case 11:return t=this.changeJobForm,e.abrupt("break",18);case 13:return t=this.changeSalaryForm,e.abrupt("break",18);case 15:return t=this.changeAllowanceForm,e.abrupt("break",18);case 17:t=this.changeBranchForm;case 18:if(!t){e.next=26;break}return e.next=21,t.NotToMissData("Add click");case 21:if(e.t1=e.sent,!e.t1){e.next=24;break}this.DestroyForms(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(function(){n.isAddMode=!0,n.isEditMode=!1,n.employeeBranchHistoryID=0,n.employeeSectionHistoryID=0,n.employeeDepartmentHistoryID=0,n.employeeCostcenterHistoryID=0,n.employeeJobHistoryID=0,n.employeeSalaryHistoryID=0,n.employeeAllowanceHistoryID=0,n.cdr.markForCheck()},0));case 24:e.next=27;break;case 26:this.DestroyForms(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(function(){n.isAddMode=!0,n.isEditMode=!1,n.employeeBranchHistoryID=0,n.employeeSectionHistoryID=0,n.employeeDepartmentHistoryID=0,n.employeeCostcenterHistoryID=0,n.employeeJobHistoryID=0,n.employeeSalaryHistoryID=0,n.employeeAllowanceHistoryID=0,n.cdr.markForCheck()},0));case 27:case"end":return e.stop()}},e,this)}))}},{key:"onEditClick",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.activeId,t.next=1===t.t0?3:2===t.t0?5:3===t.t0?7:4===t.t0?9:5===t.t0?11:6===t.t0?13:7===t.t0?15:17;break;case 3:return n=this.changeBranchForm,t.abrupt("break",18);case 5:return n=this.changeSectionForm,t.abrupt("break",18);case 7:return n=this.changeDepartmentForm,t.abrupt("break",18);case 9:return n=this.changeCostcenterForm,t.abrupt("break",18);case 11:return n=this.changeJobForm,t.abrupt("break",18);case 13:return n=this.changeSalaryForm,t.abrupt("break",18);case 15:return n=this.changeAllowanceForm,t.abrupt("break",18);case 17:n=this.changeBranchForm;case 18:if(!n){t.next=26;break}return t.next=21,n.NotToMissData("Edit click");case 21:if(t.t1=t.sent,!t.t1){t.next=24;break}this.DestroyForms(),setTimeout(function(){switch(a.isAddMode=!1,a.isEditMode=!0,a.activeId){case 1:a.employeeBranchHistoryID=e.id;break;case 2:a.employeeSectionHistoryID=e.id;break;case 3:a.employeeDepartmentHistoryID=e.id;break;case 4:a.employeeCostcenterHistoryID=e.id;break;case 5:a.employeeJobHistoryID=e.id;break;case 6:a.employeeSalaryHistoryID=e.id;break;case 7:a.employeeAllowanceHistoryID=e.id;break;default:a.employeeBranchHistoryID=e.id}a.cdr.markForCheck()},0);case 24:t.next=27;break;case 26:this.DestroyForms(),setTimeout(function(){switch(a.isAddMode=!1,a.isEditMode=!0,a.activeId){case 1:a.employeeBranchHistoryID=e.id;break;case 2:a.employeeSectionHistoryID=e.id;break;case 3:a.employeeDepartmentHistoryID=e.id;break;case 4:a.employeeCostcenterHistoryID=e.id;break;case 5:a.employeeJobHistoryID=e.id;break;case 6:a.employeeSalaryHistoryID=e.id;break;case 7:a.employeeAllowanceHistoryID=e.id;break;default:a.employeeBranchHistoryID=e.id}a.cdr.markForCheck()},0);case 27:case"end":return t.stop()}},t,this)}))}},{key:"onDeleteClick",value:function(){var e,t=this;switch(this.activeId){case 1:e=this.employeeBranchHistoryID;break;case 2:e=this.employeeSectionHistoryID;break;case 3:e=this.employeeDepartmentHistoryID;break;case 4:e=this.employeeCostcenterHistoryID;break;case 5:e=this.employeeJobHistoryID;break;case 6:e=this.employeeSalaryHistoryID;break;case 7:e=this.employeeAllowanceHistoryID;break;default:e=this.employeeBranchHistoryID}0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):0==e?this.toastr.error(this.ChooseRecordFirst):this.isLastRecored?7==this.activeId&&0==this.CanDelete?this.toastr.error(this.RecordLinkedToOtherData):(this.employeeTextboxInvalid=!1,R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){if(e.isConfirmed&&1==e.isConfirmed)switch(t.activeId){case 1:t._changeEmployeeDataService.DeleteEmployeeBranchHistory(t.employeeBranchHistoryID).subscribe(function(e){t.toastr.success(t.toastrSuccessDelete),t.isAddMode=!1,t.isEditMode=!1,t.employeeBranchHistoryID=0,t.GetData()});break;case 2:t._changeEmployeeDataService.DeleteEmployeeSectionHistory(t.employeeSectionHistoryID).subscribe(function(e){t.toastr.success(t.toastrSuccessDelete),t.isAddMode=!1,t.isEditMode=!1,t.employeeSectionHistoryID=0,t.GetData()});break;case 3:t._changeEmployeeDataService.DeleteEmployeeDepartmentHistory(t.employeeDepartmentHistoryID).subscribe(function(e){t.toastr.success(t.toastrSuccessDelete),t.isAddMode=!1,t.isEditMode=!1,t.employeeDepartmentHistoryID=0,t.GetData()});break;case 4:t._changeEmployeeDataService.DeleteEmployeeCostcenterHistory(t.employeeCostcenterHistoryID).subscribe(function(e){t.toastr.success(t.toastrSuccessDelete),t.isAddMode=!1,t.isEditMode=!1,t.employeeCostcenterHistoryID=0,t.GetData()});break;case 5:t._changeEmployeeDataService.DeleteEmployeeJobHistory(t.employeeJobHistoryID).subscribe(function(e){t.toastr.success(t.toastrSuccessDelete),t.isAddMode=!1,t.isEditMode=!1,t.employeeJobHistoryID=0,t.GetData()});break;case 6:t._changeEmployeeDataService.DeleteEmployeeSalaryHistory(t.employeeSalaryHistoryID).subscribe(function(e){t.toastr.success(t.toastrSuccessDelete),t.isAddMode=!1,t.isEditMode=!1,t.employeeSalaryHistoryID=0,t.GetData()});break;case 7:t._changeEmployeeDataService.DeleteEmployeeAllowanceHistory(t.employeeAllowanceHistoryID).subscribe(function(e){t.toastr.success(t.toastrSuccessDelete),t.isAddMode=!1,t.isEditMode=!1,t.employeeAllowanceHistoryID=0,t.GetData()});break;default:t._changeEmployeeDataService.DeleteEmployeeBranchHistory(t.employeeBranchHistoryID).subscribe(function(e){t.toastr.success(t.toastrSuccessDelete),t.isAddMode=!1,t.isEditMode=!1,t.employeeBranchHistoryID=0,t.GetData()})}})):this.toastr.error(this.SubsequentRecordsDeletedFirst)}},{key:"setIsLastRecored",value:function(e){this.isLastRecored=e}},{key:"setCanDelete",value:function(e){this.CanDelete=e}},{key:"GetData",value:function(){switch(this.activeId){case 1:this.changeBranchList.GetData();break;case 2:this.changeSectionList.GetData();break;case 3:this.changeDepartmentList.GetData();break;case 4:this.changeCostcenterList.GetData();break;case 5:this.changeJobList.GetData();break;case 6:this.changeSalaryList.GetData();break;case 7:this.changeAllowanceList.GetData();break;default:this.changeBranchList.GetData()}}},{key:"OnSave",value:function(){if(0==this.employeeid)this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0;else{var e;switch(this.employeeTextboxInvalid=!1,this.activeId){case 1:e=this.changeBranchForm;break;case 2:e=this.changeSectionForm;break;case 3:e=this.changeDepartmentForm;break;case 4:e=this.changeCostcenterForm;break;case 5:e=this.changeJobForm;break;case 6:e=this.changeSalaryForm;break;case 7:e=this.changeAllowanceForm;break;default:e=this.changeBranchForm}e.onSave()}}},{key:"OnPrint",value:function(){if(0==this.employeeid)this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0;else switch(this.activeId){case 1:this.changeBranchList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 2:this.changeSectionList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 3:this.changeDepartmentList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 4:this.changeCostcenterList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 5:this.changeJobList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 6:this.changeSalaryList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 7:this.changeAllowanceList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;default:this.changeBranchList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name)}}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](D.$),b["\u0275\u0275directiveInject"](_.x),b["\u0275\u0275directiveInject"](w.z),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](gi))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-employee-data"]],viewQuery:function(e,t){var n;(1&e&&(b["\u0275\u0275viewQuery"](xm,5),b["\u0275\u0275viewQuery"](Cm,5),b["\u0275\u0275viewQuery"](Dm,5),b["\u0275\u0275viewQuery"](_m,5),b["\u0275\u0275viewQuery"](Im,5),b["\u0275\u0275viewQuery"](wm,5),b["\u0275\u0275viewQuery"](km,5),b["\u0275\u0275viewQuery"](Tm,5),b["\u0275\u0275viewQuery"](Mm,5),b["\u0275\u0275viewQuery"](Bm,5),b["\u0275\u0275viewQuery"](Fm,5),b["\u0275\u0275viewQuery"](Hm,5),b["\u0275\u0275viewQuery"](Rm,5),b["\u0275\u0275viewQuery"](Om,5)),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeBranchForm=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeBranchList=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeSectionForm=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeSectionList=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeDepartmentForm=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeDepartmentList=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeCostcenterForm=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeCostcenterList=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeJobForm=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeJobList=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeSalaryForm=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeSalaryList=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeAllowanceForm=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.changeAllowanceList=n.first))},features:[b["\u0275\u0275ProvidersFeature"]([])],decls:3,vars:3,consts:[["class","row","style","text-align: center",4,"ngIf"],[4,"ngIf"],[1,"row",2,"text-align","center"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","employeeid",1,"col-form-label"],["id","Employee","name","Employee",1,"inline-flex",3,"ngModel","suggestions","dataKey","field","ngClass","completeMethod","onFocus","onSelect","ngModelChange"],["autoEmployee",""],["pTemplate","item"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"col-lg-5","col-md-5","col-sm-12","mb-2","mb-md-0",2,"margin-top","30px"],["type","submit","class","btn btn-success mb-0 me-3 btn-md",3,"disabled","click",4,"ngIf"],["class","btn btn-success mb-0 me-3 btn-md",3,"click",4,"ngIf"],["class","btn btn-danger mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success","mb-0","me-3","btn-md",3,"disabled","click"],[1,"ft-check-square","mr-1"],[1,"btn","btn-success","mb-0","me-3","btn-md",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"card"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"employeeid","employeeBranchHistoryID","parentGetData","dataToParent"],["changeBranchForm",""],[3,"employeeid","employeeSectionHistoryID","parentGetData","dataToParent"],["changeSectionForm",""],[3,"employeeid","employeeDepartmentHistoryID","parentGetData","dataToParent"],["changeDepartmentForm",""],[3,"employeeid","employeeCostcenterHistoryID","parentGetData","dataToParent"],["changeCostcenterForm",""],[3,"employeeid","employeeJobHistoryID","parentGetData","dataToParent"],["changeJobForm",""],[3,"employeeid","employeeSalaryHistoryID","parentGetData","dataToParent"],["changeSalaryForm",""],[3,"employeeid","employeeAllowanceHistoryID","parentGetData","dataToParent","dataToParentCanDelete"],["changeAllowanceForm",""],[3,"employeeid","parentGetData","parentEdit"],["changeBranchList",""],["changeSectionList",""],["changeDepartmentList",""],["changeCostcenterList",""],["changeJobList",""],["changeSalaryList",""],["changeAllowanceList",""]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,Vm,4,3,"div",0),b["\u0275\u0275template"](1,zm,23,20,"section",1),b["\u0275\u0275template"](2,bp,20,16,"section",1)),2&e&&(b["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(430)||t.checkRoleParms(431)||t.checkRoleParms(432)||t.checkRoleParms(433)||t.checkRoleParms(434)||t.checkRoleParms(435)||t.checkRoleParms(436))),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(430)||t.checkRoleParms(431)||t.checkRoleParms(432)||t.checkRoleParms(433)||t.checkRoleParms(434)||t.checkRoleParms(435)||t.checkRoleParms(436)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(430)||t.checkRoleParms(431)||t.checkRoleParms(432)||t.checkRoleParms(433)||t.checkRoleParms(434)||t.checkRoleParms(435)||t.checkRoleParms(436)))},directives:[o.O5,p.Qc,d.JJ,d.On,o.mk,N.jx,fi.Pz,fi.tO,fi.nv,fi.Vx,fi.uN,xo,Vo,Ko,ms,Fs,sc,Mc,Pc,Kc,ld,vd,kd,Jd,Em],pipes:[h.X$],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff!important;background-color:gray!important}.tab-content[_ngcontent-%COMP%]{border:1px ridge #000;margin-top:0!important;padding:0}.nav.nav-pills.nav-fill[_ngcontent-%COMP%], .tab-content[_ngcontent-%COMP%]{width:97.5%;margin-right:15px;margin-left:15px}"]}),e}(),xp=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=yt.N.apiUrl}return l(e,[{key:"GetAllEmployeeSuspensionResumptionHistory",value:function(e,t,n){var a="/SuspensionResumptionTransaction/GetAllEmployeeSuspensionResumptionHistory?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeSuspensionResumptionHistory",value:function(e,t,n){return this.http.get(this.baseUrl+"/SuspensionResumptionTransaction/CountOfEmployeeSuspensionResumptionHistory?searchValue=".concat(e,"&subsidaryid=").concat(t,"&employeeid=").concat(n)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeSuspensionResumptionHistoryById",value:function(e){return this.http.get(this.baseUrl+"/SuspensionResumptionTransaction/GetEmployeeSuspensionResumptionHistoryById?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeSuspensionResumptionHistory",value:function(e){return this.http.post("".concat(this.baseUrl,"/SuspensionResumptionTransaction/CreateEmployeeSuspensionResumptionHistory"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeSuspensionResumptionHistory",value:function(e){return this.http.post(this.baseUrl+"/SuspensionResumptionTransaction/UpdateEmployeeSuspensionResumptionHistory",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCodeEmployeeSuspensionResumptionHistory",value:function(e,t){return this.http.get(this.baseUrl+"/SuspensionResumptionTransaction/GetMaxCodeEmployeeSuspensionResumptionHistory?subsidaryid=".concat(e,"&employeeid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"DeleteEmployeeSuspensionResumptionHistory",value:function(e){return this.http.get(this.baseUrl+"/SuspensionResumptionTransaction/DeleteEmployeeSuspensionResumptionHistory?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeSuspensionResumptionHistoryDataForValidation",value:function(e){return this.http.get(this.baseUrl+"/SuspensionResumptionTransaction/GetEmployeeSuspensionResumptionHistoryDataForValidation?employeeid=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetAllEmployeeAllowanceSuspensionResumptionHistory",value:function(e,t,n){var a="/SuspensionResumptionTransaction/GetAllEmployeeAllowanceSuspensionResumptionHistory?PageNo=".concat(e.pageNo,"&PageSize=").concat(e.pageSize,"&orderby=").concat(e.orderby,"&subsidaryid=").concat(t,"&employeeid=").concat(n);return e.searchValue&&(a+="&SearchValue=".concat(e.searchValue)),this.http.get(this.baseUrl+a).pipe((0,ht.U)(function(e){return e}))}},{key:"CountOfEmployeeAllowanceSuspensionResumptionHistory",value:function(e,t,n){return this.http.get(this.baseUrl+"/SuspensionResumptionTransaction/CountOfEmployeeAllowanceSuspensionResumptionHistory?searchValue=".concat(e,"&subsidaryid=").concat(t,"&employeeid=").concat(n)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeAllowanceSuspensionResumptionHistoryById",value:function(e){return this.http.get(this.baseUrl+"/SuspensionResumptionTransaction/GetEmployeeAllowanceSuspensionResumptionHistoryById?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"CreateEmployeeAllowanceSuspensionResumptionHistory",value:function(e){return this.http.post("".concat(this.baseUrl,"/SuspensionResumptionTransaction/CreateEmployeeAllowanceSuspensionResumptionHistory"),e).pipe((0,ht.U)(function(e){return e}))}},{key:"UpdateEmployeeAllowanceSuspensionResumptionHistory",value:function(e){return this.http.post(this.baseUrl+"/SuspensionResumptionTransaction/UpdateEmployeeAllowanceSuspensionResumptionHistory",e).pipe((0,ht.U)(function(e){return e}))}},{key:"GetMaxCodeEmployeeAllowanceSuspensionResumptionHistory",value:function(e,t){return this.http.get(this.baseUrl+"/SuspensionResumptionTransaction/GetMaxCodeEmployeeAllowanceSuspensionResumptionHistory?subsidaryid=".concat(e,"&employeeid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"DeleteEmployeeAllowanceSuspensionResumptionHistory",value:function(e){return this.http.get(this.baseUrl+"/SuspensionResumptionTransaction/DeleteEmployeeAllowanceSuspensionResumptionHistory?id=".concat(e)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeAllowanceSuspensionResumptionHistoryDataForValidation",value:function(e,t){return this.http.get(this.baseUrl+"/SuspensionResumptionTransaction/GetEmployeeAllowanceSuspensionResumptionHistoryDataForValidation?employeeid=".concat(e,"&employeeallowancehistoryid=").concat(t)).pipe((0,ht.U)(function(e){return e}))}},{key:"GetEmployeeAllowanceList",value:function(e,t){return this.http.get(this.baseUrl+"/SuspensionResumptionTransaction/GetEmployeeAllowanceList?subsidaryid=".concat(t,"&employeeid=").concat(e)).pipe((0,ht.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275inject"](m.eN))},e.\u0275prov=b["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),Cp=function e(){i(this,e),this.id=0,this.code="",this.startdate=null,this.reason="",this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0,this.transactiontype_en="",this.transactiontype_ar=""},Dp=["VacationRForm"];function _p(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",23),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Ip(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",23),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanWorkStartDate")," "))}function wp(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",23),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecord")," "))}function kp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",24),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeSuspensionResumptionHistory.transactiontype_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeSuspensionResumptionHistory.transactiontype_ar)}}function Tp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",24),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeSuspensionResumptionHistory.transactiontype_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeSuspensionResumptionHistory.transactiontype_en)}}function Mp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",25),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeSuspensionResumptionHistory.editor_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeSuspensionResumptionHistory.editor_ar)}}function Bp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",25),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeSuspensionResumptionHistory.editor_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeSuspensionResumptionHistory.editor_en)}}var Fp=function(e,t){return{"invalid-data":e,"valid-data":t}},Hp=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._suspensionResumptionTransactionService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeSuspensionResumptionHistory=new Cp,this._oldEmployeeSuspensionResumptionHistory="",this.parentGetData=new b.EventEmitter,this.dataToParent=new b.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeSuspensionResumptionHistoryDate=null,this.EmployeeSuspensionResumptionHistoryTransactionType=null,this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.SuspensionResumptionIDOtherRecoredVaild=!0,this.subsidiaryID=this._generalService.SubsidiaryID;var u=this._authService.userInfo();this.currentUser=u,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(function(e){p.Yes=e.Yes,p.No=e.No,p.Cancel=e.Cancel,p.checkname=e.checkname,p.MissData=e.MissData,p.SavedData=e.savedChanges,p.DataSavedsuccessfully=e.DataSavedsuccessfully,p.Erorr=e.Erorr,p.Approval=e.Approval,p.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}return l(e,[{key:"ngOnInit",value:function(){this._employeeSuspensionResumptionHistory.employeeid=this.employeeid,this._employeeSuspensionResumptionHistory.id=this.employeeSuspensionResumptionHistoryID,this.GetEmployeeDataForValidation()}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this._suspensionResumptionTransactionService.GetEmployeeSuspensionResumptionHistoryDataForValidation(this.employeeid).subscribe(function(t){null!=t.data&&null!=t.data.workstartdate&&(e.EmployeeWorkStartDate=t.data.workstartdate,e.EmployeeSuspensionResumptionHistoryDate=t.data.suspensionresumptionhistorydate,e.EmployeeSuspensionResumptionHistoryTransactionType=t.data.suspensionresumptionhistorytransactiontype),e.GetData()})}},{key:"GetData",value:function(){var e=this;this._employeeSuspensionResumptionHistory=new Cp,0==this.employeeSuspensionResumptionHistoryID?this._suspensionResumptionTransactionService.GetMaxCodeEmployeeSuspensionResumptionHistory(this.subsidiaryID,this.employeeid).subscribe(function(t){t.data[0].code>0?(e._employeeSuspensionResumptionHistory.code=(parseFloat(t.data[0].code)+1).toString(),1==e.EmployeeSuspensionResumptionHistoryTransactionType?(e._employeeSuspensionResumptionHistory.transactiontype=2,e._employeeSuspensionResumptionHistory.transactiontype_en="Resumption",e._employeeSuspensionResumptionHistory.transactiontype_ar="\u0627\u0633\u062a\u0626\u0646\u0627\u0641"):(e._employeeSuspensionResumptionHistory.transactiontype=1,e._employeeSuspensionResumptionHistory.transactiontype_en="Suspension",e._employeeSuspensionResumptionHistory.transactiontype_ar="\u0625\u064a\u0642\u0627\u0641")):(e._employeeSuspensionResumptionHistory.code="1",e.isFirstRecored=!0,e._employeeSuspensionResumptionHistory.transactiontype=1,e._employeeSuspensionResumptionHistory.transactiontype_en="Suspension",e._employeeSuspensionResumptionHistory.transactiontype_ar="\u0625\u064a\u0642\u0627\u0641"),e._employeeSuspensionResumptionHistory.editor_en=e.currentUser.name,e._employeeSuspensionResumptionHistory.editor_ar=e.currentUser.name_ar,e._employeeSuspensionResumptionHistory.editingdate=new Date,e._oldEmployeeSuspensionResumptionHistory=JSON.stringify(e._employeeSuspensionResumptionHistory),e.cd.markForCheck()}):this._suspensionResumptionTransactionService.GetEmployeeSuspensionResumptionHistoryById(this.employeeSuspensionResumptionHistoryID).subscribe(function(t){e._employeeSuspensionResumptionHistory.id=t.data[0].id,e._employeeSuspensionResumptionHistory.code=t.data[0].code,e._employeeSuspensionResumptionHistory.employeeid=t.data[0].employeeid,e._employeeSuspensionResumptionHistory.startdate=t.data[0].startdate,e._employeeSuspensionResumptionHistory.reason=t.data[0].reason,e._employeeSuspensionResumptionHistory.notes=t.data[0].notes,e._employeeSuspensionResumptionHistory.transactiontype=t.data[0].transactiontype,e._employeeSuspensionResumptionHistory.transactiontype_en=t.data[0].transactiontype_en,e._employeeSuspensionResumptionHistory.transactiontype_ar=t.data[0].transactiontype_ar,e._employeeSuspensionResumptionHistory.subsidaryid=t.data[0].subsidaryid,e._employeeSuspensionResumptionHistory.editor_en=t.data[0].editor_en,e._employeeSuspensionResumptionHistory.editor_ar=t.data[0].editor_ar,e._employeeSuspensionResumptionHistory.editingdate=t.data[0].editingdate,e._employeeSuspensionResumptionHistory.islastrecored=t.data[0].islastrecored,e.dataToParent.emit(e._employeeSuspensionResumptionHistory.islastrecored),e._oldEmployeeSuspensionResumptionHistory=JSON.stringify(e._employeeSuspensionResumptionHistory),e.cd.markForCheck()})}},{key:"onStartingFromDateChange",value:function(){this.StartDateFirstRecoredRangeVaild=!(1==this.isFirstRecored&&this._employeeSuspensionResumptionHistory.startdate<this.EmployeeWorkStartDate),this.StartDateOtherRecoredRangeVaild=!(0==this.isFirstRecored&&this._employeeSuspensionResumptionHistory.startdate<=this.EmployeeSuspensionResumptionHistoryDate)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(){var e=this;this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.SuspensionResumptionIDOtherRecoredVaild&&(this._employeeSuspensionResumptionHistory.employeeid=this.employeeid,this._employeeSuspensionResumptionHistory.subsidaryid=this.subsidiaryID,this._employeeSuspensionResumptionHistory.id>0?this._suspensionResumptionTransactionService.UpdateEmployeeSuspensionResumptionHistory(this._employeeSuspensionResumptionHistory).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}):this._suspensionResumptionTransactionService.CreateEmployeeSuspensionResumptionHistory(this._employeeSuspensionResumptionHistory).subscribe(function(t){e._employeeSuspensionResumptionHistory.id=t.data[0].id,e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}),this.manuallySubmitted=!1)}},{key:"NotToMissData",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._oldEmployeeSuspensionResumptionHistory===JSON.stringify(this._employeeSuspensionResumptionHistory)){e.next=5;break}return e.next=3,R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});case 3:return t=e.sent,e.abrupt("return",!t.isConfirmed||1!=t.isConfirmed);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](xp))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employee-suspension-resumption-form"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](Dp,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid",employeeSuspensionResumptionHistoryID:"employeeSuspensionResumptionHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent"},decls:58,vars:50,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","Reason",1,"col-form-label"],["type","text","name","Reason",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","TransactionType",1,"col-form-label"],["type","text","name","TransactionType","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","workstartdate",1,"col-form-label"],["type","text","name","workstartdate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],["type","text","name","TransactionType","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275elementStart"](5,"div",4),b["\u0275\u0275elementStart"](6,"label",5),b["\u0275\u0275text"](7),b["\u0275\u0275pipe"](8,"translate"),b["\u0275\u0275elementStart"](9,"span",6),b["\u0275\u0275text"](10,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"input",7,8),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSuspensionResumptionHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),b["\u0275\u0275pipe"](13,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](14,_p,3,3,"span",9),b["\u0275\u0275template"](15,Ip,3,3,"span",9),b["\u0275\u0275template"](16,wp,3,3,"span",9),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"div",3),b["\u0275\u0275elementStart"](18,"div",4),b["\u0275\u0275elementStart"](19,"label",10),b["\u0275\u0275text"](20),b["\u0275\u0275pipe"](21,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](22,"input",11),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSuspensionResumptionHistory.reason=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"div",12),b["\u0275\u0275elementStart"](24,"div",4),b["\u0275\u0275elementStart"](25,"label",13),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"input",14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSuspensionResumptionHistory.notes=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](29,"div",2),b["\u0275\u0275elementStart"](30,"div",3),b["\u0275\u0275elementStart"](31,"div",4),b["\u0275\u0275elementStart"](32,"label",15),b["\u0275\u0275text"](33),b["\u0275\u0275pipe"](34,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](35,kp,1,1,"input",16),b["\u0275\u0275template"](36,Tp,1,1,"input",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](37,"div",3),b["\u0275\u0275elementStart"](38,"div",4),b["\u0275\u0275elementStart"](39,"label",17),b["\u0275\u0275text"](40),b["\u0275\u0275pipe"](41,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](42,"input",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.EmployeeWorkStartDate=e}),b["\u0275\u0275pipe"](43,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](44,"div",3),b["\u0275\u0275elementStart"](45,"div",4),b["\u0275\u0275elementStart"](46,"label",19),b["\u0275\u0275text"](47),b["\u0275\u0275pipe"](48,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](49,Mp,1,1,"input",20),b["\u0275\u0275template"](50,Bp,1,1,"input",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](51,"div",3),b["\u0275\u0275elementStart"](52,"div",4),b["\u0275\u0275elementStart"](53,"label",21),b["\u0275\u0275text"](54),b["\u0275\u0275pipe"](55,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](56,"input",22),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeSuspensionResumptionHistory.editingdate=e}),b["\u0275\u0275pipe"](57,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275reference"](12);b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](8,24,"StartingFromDate")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeSuspensionResumptionHistory.islastrecored)("required",!0)("ngModel",b["\u0275\u0275pipeBind2"](13,26,t._employeeSuspensionResumptionHistory.startdate,"yyyy-MM-dd"))("ngClass",b["\u0275\u0275pureFunction2"](47,Fp,n.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,n.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](21,29,"Reason")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeSuspensionResumptionHistory.reason)("disabled",!t._employeeSuspensionResumptionHistory.islastrecored),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](27,31,"Notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeSuspensionResumptionHistory.notes)("disabled",!t._employeeSuspensionResumptionHistory.islastrecored),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](34,33,"TransactionType")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](41,35,"workstartdate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](43,37,t.EmployeeWorkStartDate,"dd/MM/yyyy")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](48,40,"Editor")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](55,42,"EditingDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](57,44,t._employeeSuspensionResumptionHistory.editingdate,"dd/MM/yyyy"))}},directives:[d._Y,d.JL,d.F,d.Fj,d.Q7,d.JJ,d.On,o.mk,o.O5],pipes:[h.X$,o.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e}(),Rp=function e(){i(this,e),this.id=0,this.code="",this.startdate=null,this.reason="",this.notes="",this.subsidaryid=null,this.editor_en="",this.editor_ar="",this.editingdate=null,this.islastrecored=!0,this.transactiontype_en="",this.transactiontype_ar="",this.employeeallowancehistory_en="",this.employeeallowancehistory_ar=""},Op=["VacationRForm"];function Vp(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name_ar)}}function Ap(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.name)}}function Np(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",27),b["\u0275\u0275template"](1,Vp,2,1,"div",28),b["\u0275\u0275template"](2,Ap,2,1,"div",28),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("value",n.id),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Gp(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",29),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}var Pp=function(e,t){return{"invalid-data":e,"valid-data":t}};function jp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",5),b["\u0275\u0275elementStart"](1,"label",15),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementStart"](4,"span",7),b["\u0275\u0275text"](5,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"select",23,24),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid=e})("change",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onEmployeeAllowanceChange()}),b["\u0275\u0275elementStart"](8,"option",25),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,Np,3,3,"option",26),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](12,Gp,3,3,"span",10),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275reference"](7),i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,9,"EmployeeAllowance")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngModel",i._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid)("required",!0)("ngClass",b["\u0275\u0275pureFunction2"](13,Pp,a.invalid&&i.manuallySubmitted,a.valid&&i.manuallySubmitted))("disabled",!i._employeeAllowanceSuspensionResumptionHistory.islastrecored||2==i.employeeallowancestatus),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngValue",null),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,11,"Select")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",i.EmployeeAllowanceList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.invalid&&i.manuallySubmitted)}}function Up(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",32),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).employeeallowancehistory_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("ngModel",a.employeeallowancehistory_ar)}}function Lp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",33),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).employeeallowancehistory_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("ngModel",a.employeeallowancehistory_en)}}function Jp(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",5),b["\u0275\u0275elementStart"](1,"label",30),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,Up,1,1,"input",31),b["\u0275\u0275template"](5,Lp,1,1,"input",16),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,3,"EmployeeAllowance")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==n.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function zp(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",29),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function $p(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",29),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanAllowanceGrantDate")," "))}function Yp(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",29),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterThanLastRecordEmployeeAllowance")," "))}function qp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",33),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar)}}function Qp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",33),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeAllowanceSuspensionResumptionHistory.transactiontype_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeAllowanceSuspensionResumptionHistory.transactiontype_en)}}function Kp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",34),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeAllowanceSuspensionResumptionHistory.editor_ar=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeAllowanceSuspensionResumptionHistory.editor_ar)}}function Wp(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"input",34),b["\u0275\u0275listener"]("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]()._employeeAllowanceSuspensionResumptionHistory.editor_en=e}),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("ngModel",a._employeeAllowanceSuspensionResumptionHistory.editor_en)}}var Xp=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m){var p=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cd=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._suspensionResumptionTransactionService=m,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this._employeeAllowanceSuspensionResumptionHistory=new Rp,this._oldEmployeeAllowanceSuspensionResumptionHistory="",this.parentGetData=new b.EventEmitter,this.dataToParent=new b.EventEmitter,this.dataToParentCanDelete=new b.EventEmitter,this.TotalServicePeriodTransactionDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.AllowanceGrantDate=null,this.EmployeeSuspensionResumptionHistoryDate=null,this.employeeallowancestatus=0,this.employeeallowancehistory_en="",this.employeeallowancehistory_ar="",this.isFirstRecored=!1,this.StartDateFirstRecoredRangeVaild=!0,this.StartDateOtherRecoredRangeVaild=!0,this.SuspensionResumptionIDOtherRecoredVaild=!0,this.EmployeeAllowanceList=[],this.subsidiaryID=this._generalService.SubsidiaryID;var u=this._authService.userInfo();this.currentUser=u,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){p.lang=e.lang,p.dir=e.dir,p.translate.use(e.lang),p.ngTransUnsubscribe=p.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply"]).subscribe(function(e){p.Yes=e.Yes,p.No=e.No,p.Cancel=e.Cancel,p.checkname=e.checkname,p.MissData=e.MissData,p.SavedData=e.savedChanges,p.DataSavedsuccessfully=e.DataSavedsuccessfully,p.Erorr=e.Erorr,p.Approval=e.Approval,p.PersonalDataNotComply=e.PersonalDataNotComply})}),this.TotalServicePeriodTransactionDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}return l(e,[{key:"ngOnInit",value:function(){this._employeeAllowanceSuspensionResumptionHistory.employeeid=this.employeeid,this._employeeAllowanceSuspensionResumptionHistory.id=this.employeeAllowanceSuspensionResumptionHistoryID,this.GetEmployeeAllowance(),this.GetData()}},{key:"GetEmployeeAllowance",value:function(){var e=this;this._suspensionResumptionTransactionService.GetEmployeeAllowanceList(this.employeeid,this.subsidiaryID).subscribe(function(t){e.EmployeeAllowanceList=t.data,e.cd.markForCheck()})}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this._suspensionResumptionTransactionService.GetEmployeeAllowanceSuspensionResumptionHistoryDataForValidation(this.employeeid,this._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid).subscribe(function(t){null!=t.data&&null!=t.data.workstartdate&&(e.EmployeeWorkStartDate=t.data.workstartdate,e.EmployeeSuspensionResumptionHistoryDate=t.data.suspensionresumptionhistorydate)})}},{key:"GetData",value:function(){var e=this;this._employeeAllowanceSuspensionResumptionHistory=new Rp,0==this.employeeAllowanceSuspensionResumptionHistoryID?this._suspensionResumptionTransactionService.GetMaxCodeEmployeeAllowanceSuspensionResumptionHistory(this.subsidiaryID,this.employeeid).subscribe(function(t){t.data[0].code>0?e._employeeAllowanceSuspensionResumptionHistory.code=(parseFloat(t.data[0].code)+1).toString():(e._employeeAllowanceSuspensionResumptionHistory.code="1",e.isFirstRecored=!0),e._employeeAllowanceSuspensionResumptionHistory.editor_en=e.currentUser.name,e._employeeAllowanceSuspensionResumptionHistory.editor_ar=e.currentUser.name_ar,e._employeeAllowanceSuspensionResumptionHistory.editingdate=new Date,e._oldEmployeeAllowanceSuspensionResumptionHistory=JSON.stringify(e._employeeAllowanceSuspensionResumptionHistory),e.cd.markForCheck()}):this._suspensionResumptionTransactionService.GetEmployeeAllowanceSuspensionResumptionHistoryById(this.employeeAllowanceSuspensionResumptionHistoryID).subscribe(function(t){e._employeeAllowanceSuspensionResumptionHistory.id=t.data[0].id,e._employeeAllowanceSuspensionResumptionHistory.code=t.data[0].code,e._employeeAllowanceSuspensionResumptionHistory.employeeid=t.data[0].employeeid,e._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid=t.data[0].employeeallowancehistoryid,e._employeeAllowanceSuspensionResumptionHistory.startdate=t.data[0].startdate,e._employeeAllowanceSuspensionResumptionHistory.reason=t.data[0].reason,e._employeeAllowanceSuspensionResumptionHistory.notes=t.data[0].notes,e._employeeAllowanceSuspensionResumptionHistory.transactiontype=t.data[0].transactiontype,e._employeeAllowanceSuspensionResumptionHistory.transactiontype_en=t.data[0].transactiontype_en,e._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar=t.data[0].transactiontype_ar,e._employeeAllowanceSuspensionResumptionHistory.subsidaryid=t.data[0].subsidaryid,e._employeeAllowanceSuspensionResumptionHistory.editor_en=t.data[0].editor_en,e._employeeAllowanceSuspensionResumptionHistory.editor_ar=t.data[0].editor_ar,e._employeeAllowanceSuspensionResumptionHistory.editingdate=t.data[0].editingdate,e._employeeAllowanceSuspensionResumptionHistory.islastrecored=t.data[0].islastrecored,e.AllowanceGrantDate=t.data[0].employeeallowancestartdate,e.dataToParent.emit(e._employeeAllowanceSuspensionResumptionHistory.islastrecored),e.employeeallowancestatus=t.data[0].employeeallowancestatus,e.employeeallowancehistory_en=t.data[0].employeeallowancehistory_en,e.employeeallowancehistory_ar=t.data[0].employeeallowancehistory_ar,e.dataToParentCanDelete.emit(2!=t.data[0].employeeallowancestatus),e._oldEmployeeAllowanceSuspensionResumptionHistory=JSON.stringify(e._employeeAllowanceSuspensionResumptionHistory),e.cd.markForCheck()})}},{key:"onEmployeeAllowanceChange",value:function(){var e=this;if(this.GetEmployeeDataForValidation(),null==this._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid)this.AllowanceGrantDate="",this._employeeAllowanceSuspensionResumptionHistory.transactiontype=0,this._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar="",this._employeeAllowanceSuspensionResumptionHistory.transactiontype_en="";else{var t=this.EmployeeAllowanceList.filter(function(t){return t.id==e._employeeAllowanceSuspensionResumptionHistory.employeeallowancehistoryid})[0];this.AllowanceGrantDate=t.startdate,1==t.allowancestatus?(this._employeeAllowanceSuspensionResumptionHistory.transactiontype=1,this._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar="\u0625\u064a\u0642\u0627\u0641",this._employeeAllowanceSuspensionResumptionHistory.transactiontype_en="Suspension"):3==t.allowancestatus&&(this._employeeAllowanceSuspensionResumptionHistory.transactiontype=2,this._employeeAllowanceSuspensionResumptionHistory.transactiontype_ar="\u0627\u0633\u062a\u0626\u0646\u0627\u0641",this._employeeAllowanceSuspensionResumptionHistory.transactiontype_en="Resumption")}}},{key:"onStartingFromDateChange",value:function(){this.StartDateFirstRecoredRangeVaild=!(null==this.EmployeeSuspensionResumptionHistoryDate&&this._employeeAllowanceSuspensionResumptionHistory.startdate<this.AllowanceGrantDate),this.StartDateOtherRecoredRangeVaild=!(null!=this.EmployeeSuspensionResumptionHistoryDate&&this._employeeAllowanceSuspensionResumptionHistory.startdate<=this.EmployeeSuspensionResumptionHistoryDate)}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(){var e=this;this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.StartDateFirstRecoredRangeVaild&&this.StartDateOtherRecoredRangeVaild&&this.SuspensionResumptionIDOtherRecoredVaild&&(this._employeeAllowanceSuspensionResumptionHistory.employeeid=this.employeeid,this._employeeAllowanceSuspensionResumptionHistory.subsidaryid=this.subsidiaryID,this._employeeAllowanceSuspensionResumptionHistory.id>0?this._suspensionResumptionTransactionService.UpdateEmployeeAllowanceSuspensionResumptionHistory(this._employeeAllowanceSuspensionResumptionHistory).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}):this._suspensionResumptionTransactionService.CreateEmployeeAllowanceSuspensionResumptionHistory(this._employeeAllowanceSuspensionResumptionHistory).subscribe(function(t){e._employeeAllowanceSuspensionResumptionHistory.id=t.data[0].id,e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}),this.manuallySubmitted=!1)}},{key:"NotToMissData",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._oldEmployeeAllowanceSuspensionResumptionHistory===JSON.stringify(this._employeeAllowanceSuspensionResumptionHistory)){e.next=5;break}return e.next=3,R().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});case 3:return t=e.sent,e.abrupt("return",!t.isConfirmed||1!=t.isConfirmed);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](xp))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employee-allowance-suspension-resumption-form"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](Op,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid",employeeAllowanceSuspensionResumptionHistoryID:"employeeAllowanceSuspensionResumptionHistoryID"},outputs:{parentGetData:"parentGetData",dataToParent:"dataToParent",dataToParentCanDelete:"dataToParentCanDelete"},decls:61,vars:52,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],["class","form-group",4,"ngIf"],[1,"form-group"],["id","StartingFromDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","StartingFromDate","name","StartingFromDate",1,"form-control",3,"disabled","required","ngModel","ngClass","ngModelChange","change"],["DateStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","Reason",1,"col-form-label"],["type","text","name","Reason",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","TransactionType",1,"col-form-label"],["type","text","name","TransactionType","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","allowancegrantdate",1,"col-form-label"],["type","text","name","allowancegrantdate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","Editor",1,"col-form-label"],["type","text","name","Editor","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["id","EditingDate",1,"col-form-label"],["type","text","name","EditingDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["name","EmployeeAllowanceid",1,"form-control",3,"ngModel","required","ngClass","disabled","ngModelChange","change"],["EmployeeAllowanceHistorySelectedId","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],[2,"color","red"],["id","EmployeeAllowance",1,"col-form-label"],["type","text","name","EmployeeAllowance","class","form-control","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","name","EmployeeAllowance","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","TransactionType","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","Editor","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"form",0,1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"div",3),b["\u0275\u0275template"](5,jp,13,16,"div",4),b["\u0275\u0275template"](6,Jp,6,5,"div",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",3),b["\u0275\u0275elementStart"](8,"div",5),b["\u0275\u0275elementStart"](9,"label",6),b["\u0275\u0275text"](10),b["\u0275\u0275pipe"](11,"translate"),b["\u0275\u0275elementStart"](12,"span",7),b["\u0275\u0275text"](13,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"input",8,9),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceSuspensionResumptionHistory.startdate=e})("change",function(){return t.onStartingFromDateChange()}),b["\u0275\u0275pipe"](16,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](17,zp,3,3,"span",10),b["\u0275\u0275template"](18,$p,3,3,"span",10),b["\u0275\u0275template"](19,Yp,3,3,"span",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"div",3),b["\u0275\u0275elementStart"](21,"div",5),b["\u0275\u0275elementStart"](22,"label",11),b["\u0275\u0275text"](23),b["\u0275\u0275pipe"](24,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"input",12),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceSuspensionResumptionHistory.reason=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"div",3),b["\u0275\u0275elementStart"](27,"div",5),b["\u0275\u0275elementStart"](28,"label",13),b["\u0275\u0275text"](29),b["\u0275\u0275pipe"](30,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](31,"input",14),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceSuspensionResumptionHistory.notes=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"div",2),b["\u0275\u0275elementStart"](33,"div",3),b["\u0275\u0275elementStart"](34,"div",5),b["\u0275\u0275elementStart"](35,"label",15),b["\u0275\u0275text"](36),b["\u0275\u0275pipe"](37,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](38,qp,1,1,"input",16),b["\u0275\u0275template"](39,Qp,1,1,"input",16),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](40,"div",3),b["\u0275\u0275elementStart"](41,"div",5),b["\u0275\u0275elementStart"](42,"label",17),b["\u0275\u0275text"](43),b["\u0275\u0275pipe"](44,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](45,"input",18),b["\u0275\u0275listener"]("ngModelChange",function(e){return t.AllowanceGrantDate=e}),b["\u0275\u0275pipe"](46,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](47,"div",3),b["\u0275\u0275elementStart"](48,"div",5),b["\u0275\u0275elementStart"](49,"label",19),b["\u0275\u0275text"](50),b["\u0275\u0275pipe"](51,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](52,Kp,1,1,"input",20),b["\u0275\u0275template"](53,Wp,1,1,"input",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](54,"div",3),b["\u0275\u0275elementStart"](55,"div",5),b["\u0275\u0275elementStart"](56,"label",21),b["\u0275\u0275text"](57),b["\u0275\u0275pipe"](58,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](59,"input",22),b["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeAllowanceSuspensionResumptionHistory.editingdate=e}),b["\u0275\u0275pipe"](60,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275reference"](15);b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",2!=t.employeeallowancestatus),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",2==t.employeeallowancestatus),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](11,26,"StartingFromDate")," "),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("disabled",!t._employeeAllowanceSuspensionResumptionHistory.islastrecored||2==t.employeeallowancestatus)("required",!0)("ngModel",b["\u0275\u0275pipeBind2"](16,28,t._employeeAllowanceSuspensionResumptionHistory.startdate,"yyyy-MM-dd"))("ngClass",b["\u0275\u0275pureFunction2"](49,Pp,n.invalid&&t.manuallySubmitted||!t.StartDateFirstRecoredRangeVaild||!t.StartDateOtherRecoredRangeVaild,n.valid&&t.manuallySubmitted&&t.StartDateFirstRecoredRangeVaild&&t.StartDateOtherRecoredRangeVaild)),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateFirstRecoredRangeVaild),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!t.StartDateOtherRecoredRangeVaild),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](24,31,"Reason")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceSuspensionResumptionHistory.reason)("disabled",!t._employeeAllowanceSuspensionResumptionHistory.islastrecored||2==t.employeeallowancestatus),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](30,33,"Notes")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",t._employeeAllowanceSuspensionResumptionHistory.notes)("disabled",!t._employeeAllowanceSuspensionResumptionHistory.islastrecored||2==t.employeeallowancestatus),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](37,35,"TransactionType")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](44,37,"allowancegrantdate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](46,39,t.AllowanceGrantDate,"dd/MM/yyyy")),b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](51,42,"Editor")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf","ar"==t.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=t.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](58,44,"EditingDate")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",b["\u0275\u0275pipeBind2"](60,46,t._employeeAllowanceSuspensionResumptionHistory.editingdate,"dd/MM/yyyy"))}},directives:[d._Y,d.JL,d.F,o.O5,d.Fj,d.Q7,d.JJ,d.On,o.mk,d.EJ,d.YN,d.Kr,o.sg],pipes:[h.X$,o.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e}(),Zp=["VacationRForm"];function eu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.transactiontype_ar)}}function tu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.transactiontype_en)}}function nu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_ar)}}function au(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_en)}}function iu(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275elementStart"](1,"button",9),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"](2).onEditClick(e.id,e.rowno)}),b["\u0275\u0275element"](2,"i",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function ru(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"tr",8),b["\u0275\u0275elementStart"](2,"td"),b["\u0275\u0275elementStart"](3,"div"),b["\u0275\u0275elementStart"](4,"span"),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"td"),b["\u0275\u0275elementStart"](8,"div"),b["\u0275\u0275template"](9,eu,2,1,"span",5),b["\u0275\u0275template"](10,tu,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"div"),b["\u0275\u0275elementStart"](13,"span"),b["\u0275\u0275text"](14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"td"),b["\u0275\u0275elementStart"](16,"div"),b["\u0275\u0275elementStart"](17,"span"),b["\u0275\u0275text"](18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"td"),b["\u0275\u0275elementStart"](20,"div"),b["\u0275\u0275template"](21,nu,2,1,"span",5),b["\u0275\u0275template"](22,au,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"td"),b["\u0275\u0275elementStart"](24,"div"),b["\u0275\u0275elementStart"](25,"span"),b["\u0275\u0275text"](26),b["\u0275\u0275pipe"](27,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](28,"td"),b["\u0275\u0275elementStart"](29,"div"),b["\u0275\u0275template"](30,iu,3,0,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](6,9,null==n?null:n.startdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.reason),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.notes),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](27,12,null==n?null:n.editingdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(444))}}function lu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,ru,31,15,"ng-container",7),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.EmployeeSuspensionResumptionList)}}function ou(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",11),b["\u0275\u0275elementStart"](1,"ngb-pagination",12),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNoChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",13),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageSize=e}),b["\u0275\u0275elementStart"](5,"option",14),b["\u0275\u0275text"](6,"10 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",15),b["\u0275\u0275text"](8,"20 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",16),b["\u0275\u0275text"](10,"50 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"option",17),b["\u0275\u0275text"](12,"100 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](13,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",a.PageSize)}}var su=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cdr=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=m,this._suspensionResumptionTransactionService=p,this._printService=u,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeSuspensionResumptionList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new b.EventEmitter,this.parentEdit=new b.EventEmitter,this._searchModel=new S.h,this._filterAttribute=new vi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply,y.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}return l(e,[{key:"ngOnInit",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;setTimeout(function(){e._suspensionResumptionTransactionService.GetAllEmployeeSuspensionResumptionHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.EmployeeSuspensionResumptionList=t.data,e.cdr.markForCheck()}),e._suspensionResumptionTransactionService.CountOfEmployeeSuspensionResumptionHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.totalCount=t.employees,e.cdr.markForCheck()})},0)}},{key:"onEditClick",value:function(e,t){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.parentEdit.emit({id:e,rowno:t});case 1:case"end":return n.stop()}},n,this)}))}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"Print",value:function(e){var t=this,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0625\u064a\u0642\u0627\u0641 \u0648\u0627\u0644\u0627\u0633\u062a\u0626\u0646\u0627\u0641":"Suspension & Resumption Transactions",r="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",l="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0625\u064a\u0642\u0627\u0641 \u0648\u0627\u0644\u0627\u0633\u062a\u0626\u0646\u0627\u0641 \u0644\u0644\u0645\u0648\u0638\u0641":"Employee Suspension Resumption Movements",s="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",c="ar"==this.lang?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status",d="ar"==this.lang?"\u0627\u0644\u0633\u0628\u0628":"Reason",m="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",p="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",u="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._suspensionResumptionTransactionService.GetAllEmployeeSuspensionResumptionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(function(y){t.cdr.markForCheck(),n='\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir='.concat(a,">").concat(i,'</div>\n        <br>\n        <div class="text-center"   dir=').concat(a,">").concat(r," : ").concat(e,'</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=').concat(a,">").concat(l,"</div>\n      <br>\n      <div dir=").concat(a,'>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">                   \n            <th>').concat(s,"</th>    \n            <th>").concat(c,"</th>       \n            <th>").concat(d,"</th>             \n            <th>").concat(m,"</th>\n            <th>").concat(p,"</th>\n            <th>").concat(u,"</th>\n            </tr>\n           </thead>\n           <tbody>\n      ");var h=new o.uU("en-US");y.data.map(function(e){n+="\n          <tr>            \n            <td>".concat(h.transform(e.startdate,"dd/MM/yyyy"),"</td>\n            <td>").concat("ar"==t.lang?e.transactiontype_ar:e.transactiontype_en,"</td>\n            <td>").concat(e.reason,"</td>\n            <td>").concat(e.notes,"</td>\n            <td>").concat("ar"==t.lang?e.editor_ar:e.editor_en,"</td>\n            <td>").concat(h.transform(e.editingdate,"dd/MM/yyyy"),"</td>\n          </tr>\n        ")}),n+="</tbody></table></div>",t._printService.OnPrintContent(n)})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](xp),b["\u0275\u0275directiveInject"](D.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employee-suspension-resumption-list"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](Zp,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:29,vars:23,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275elementStart"](2,"h6",2),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div"),b["\u0275\u0275elementStart"](6,"table",3),b["\u0275\u0275elementStart"](7,"thead"),b["\u0275\u0275elementStart"](8,"th"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"th"),b["\u0275\u0275text"](12),b["\u0275\u0275pipe"](13,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"th"),b["\u0275\u0275text"](15),b["\u0275\u0275pipe"](16,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"th"),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"th"),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"th"),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](26,"th",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](27,lu,2,1,"tbody",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](28,ou,14,7,"div",6)),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](4,9,"EmployeeSuspensionResumptionMovements")," "),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,11,"StartingFromDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](13,13,"status")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](16,15,"Reason")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,17,"Notes")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,19,"Editor")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](25,21,"EditingDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.EmployeeSuspensionResumptionList.length>0&&t.employeeid>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[o.O5,o.sg,fi.N9,d.EJ,d.JJ,d.On,d.YN,d.Kr],pipes:[h.X$,o.uU],styles:[""]}),e}(),cu=["VacationRForm"];function du(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.employeeallowancehistory_ar)}}function mu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.employeeallowancehistory_en)}}function pu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.transactiontype_ar)}}function uu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.transactiontype_en)}}function yu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_ar)}}function hu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](null==n?null:n.editor_en)}}function vu(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"span"),b["\u0275\u0275elementStart"](1,"button",9),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"](2).onEditClick(e.id,e.rowno)}),b["\u0275\u0275element"](2,"i",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}}function gu(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"tr",8),b["\u0275\u0275elementStart"](2,"td"),b["\u0275\u0275elementStart"](3,"div"),b["\u0275\u0275template"](4,du,2,1,"span",5),b["\u0275\u0275template"](5,mu,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"td"),b["\u0275\u0275elementStart"](7,"div"),b["\u0275\u0275elementStart"](8,"span"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"td"),b["\u0275\u0275elementStart"](12,"div"),b["\u0275\u0275template"](13,pu,2,1,"span",5),b["\u0275\u0275template"](14,uu,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](15,"td"),b["\u0275\u0275elementStart"](16,"div"),b["\u0275\u0275elementStart"](17,"span"),b["\u0275\u0275text"](18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](19,"td"),b["\u0275\u0275elementStart"](20,"div"),b["\u0275\u0275elementStart"](21,"span"),b["\u0275\u0275text"](22),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"td"),b["\u0275\u0275elementStart"](24,"div"),b["\u0275\u0275template"](25,yu,2,1,"span",5),b["\u0275\u0275template"](26,hu,2,1,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](27,"td"),b["\u0275\u0275elementStart"](28,"div"),b["\u0275\u0275elementStart"](29,"span"),b["\u0275\u0275text"](30),b["\u0275\u0275pipe"](31,"date"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](32,"td"),b["\u0275\u0275elementStart"](33,"div"),b["\u0275\u0275template"](34,vu,3,0,"span",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](10,11,null==n?null:n.startdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.reason),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](null==n?null:n.notes),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf","ar"==a.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=a.lang),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind2"](31,14,null==n?null:n.editingdate,"dd/MM/yyyy")),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(444))}}function fu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tbody"),b["\u0275\u0275template"](1,gu,35,17,"ng-container",7),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.EmployeeAllowanceSuspensionResumptionList)}}function Su(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div",11),b["\u0275\u0275elementStart"](1,"ngb-pagination",12),b["\u0275\u0275listener"]("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNoChange(e)})("pageChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageNo=e}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"p"),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"select",13),b["\u0275\u0275listener"]("change",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onPageSizeChange(e.target.value)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().PageSize=e}),b["\u0275\u0275elementStart"](5,"option",14),b["\u0275\u0275text"](6,"10 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"option",15),b["\u0275\u0275text"](8,"20 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](9,"option",16),b["\u0275\u0275text"](10,"50 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"option",17),b["\u0275\u0275text"](12,"100 items per page"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](13,"br"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngModel",a.PageSize)}}var bu=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u){var y=this;i(this,e),this.router=t,this.route=n,this._TranslateGlobalService=a,this.translate=r,this.cdr=l,this._authService=o,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=m,this._suspensionResumptionTransactionService=p,this._printService=u,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this.subsidaryid=0,this.EmployeeAllowanceSuspensionResumptionList=[],this.totalCount=0,this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this.parentGetData=new b.EventEmitter,this.parentEdit=new b.EventEmitter,this._searchModel=new S.h,this._filterAttribute=new vi.M,this.subsidaryid=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){y.lang=e.lang,y.dir=e.dir,y.translate.use(e.lang),y.ngTransUnsubscribe=y.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){y.Yes=e.Yes,y.No=e.No,y.Cancel=e.Cancel,y.checkname=e.checkname,y.MissData=e.MissData,y.SavedData=e.savedChanges,y.DataSavedsuccessfully=e.DataSavedsuccessfully,y.Erorr=e.Erorr,y.Approval=e.Approval,y.PersonalDataNotComply=e.PersonalDataNotComply,y.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})})}return l(e,[{key:"ngOnInit",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this;setTimeout(function(){e._suspensionResumptionTransactionService.GetAllEmployeeAllowanceSuspensionResumptionHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.EmployeeAllowanceSuspensionResumptionList=t.data,e.cdr.markForCheck()}),e._suspensionResumptionTransactionService.CountOfEmployeeAllowanceSuspensionResumptionHistory(e._searchModel,e.subsidaryid,e.employeeid).subscribe(function(t){e.totalCount=t.employees,e.cdr.markForCheck()})},0)}},{key:"onEditClick",value:function(e,t){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.parentEdit.emit({id:e,rowno:t});case 1:case"end":return n.stop()}},n,this)}))}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"Print",value:function(e){var t=this,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0625\u064a\u0642\u0627\u0641 \u0648\u0627\u0644\u0627\u0633\u062a\u0626\u0646\u0627\u0641":"Suspension & Resumption Transactions",r="ar"==this.lang?"\u0627\u0644\u0645\u0648\u0638\u0641":"The Employee",l="ar"==this.lang?"\u062d\u0631\u0643\u0627\u062a \u0627\u0644\u0625\u064a\u0642\u0627\u0641 \u0648\u0627\u0644\u0627\u0633\u062a\u0626\u0646\u0627\u0641 \u0644\u0644\u0628\u062f\u0644\u0627\u062a":"Allowance Suspension Resumption Movements",s="ar"==this.lang?"\u0628\u062f\u0644 \u0627\u0644\u0645\u0648\u0638\u0641":"Employee Allowance",c="ar"==this.lang?"\u0627\u0628\u062a\u062f\u0627\u0621 \u0645\u0646 \u062a\u0627\u0631\u064a\u062e":"Starting from date",d="ar"==this.lang?"\u0627\u0644\u062d\u0627\u0644\u0629":"Status",m="ar"==this.lang?"\u0627\u0644\u0633\u0628\u0628":"Reason",p="ar"==this.lang?"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a":"Notes",u="ar"==this.lang?"\u0627\u0644\u0642\u0627\u0626\u0645 \u0628\u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editor",y="ar"==this.lang?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0631\u064a\u0631":"Editing date";this._searchModel.pageNo=1,this._searchModel.pageSize=1e3,this._suspensionResumptionTransactionService.GetAllEmployeeAllowanceSuspensionResumptionHistory(this._searchModel,this.subsidaryid,this.employeeid).subscribe(function(h){t.cdr.markForCheck(),n='\n        <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir='.concat(a,">").concat(i,'</div>\n        <br>\n        <div class="text-center"   dir=').concat(a,">").concat(r," : ").concat(e,'</div>\n        <br>\n      <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;"  dir=').concat(a,">").concat(l,"</div>\n      <br>\n      <div dir=").concat(a,'>\n           <table class="table text-center m-0 table table-striped"  border="1px"  >\n           <thead>\n            <tr style="background: #e9f1f5;color: cornflowerblue;">                   \n            <th>').concat(s,"</th>    \n            <th>").concat(c,"</th>    \n            <th>").concat(d,"</th>       \n            <th>").concat(m,"</th>             \n            <th>").concat(p,"</th>\n            <th>").concat(u,"</th>\n            <th>").concat(y,"</th>\n            </tr>\n           </thead>\n           <tbody>\n      ");var v=new o.uU("en-US");h.data.map(function(e){n+="\n          <tr>           \n          <td>".concat("ar"==t.lang?e.employeeallowancehistory_ar:e.employeeallowancehistory_en,"</td> \n            <td>").concat(v.transform(e.startdate,"dd/MM/yyyy"),"</td>\n            <td>").concat("ar"==t.lang?e.transactiontype_ar:e.transactiontype_en,"</td>\n            <td>").concat(e.reason,"</td>\n            <td>").concat(e.notes,"</td>\n            <td>").concat("ar"==t.lang?e.editor_ar:e.editor_en,"</td>\n            <td>").concat(v.transform(e.editingdate,"dd/MM/yyyy"),"</td>\n          </tr>\n        ")}),n+="</tbody></table></div>",t._printService.OnPrintContent(n)})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](xp),b["\u0275\u0275directiveInject"](D.$))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employee-allowance-suspension-resumption-list"]],viewQuery:function(e,t){var n;(1&e&&b["\u0275\u0275viewQuery"](cu,5),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid"},outputs:{parentGetData:"parentGetData",parentEdit:"parentEdit"},decls:32,vars:26,consts:[[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","12%"],[4,"ngIf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275elementStart"](2,"h6",2),b["\u0275\u0275text"](3),b["\u0275\u0275pipe"](4,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div"),b["\u0275\u0275elementStart"](6,"table",3),b["\u0275\u0275elementStart"](7,"thead"),b["\u0275\u0275elementStart"](8,"th"),b["\u0275\u0275text"](9),b["\u0275\u0275pipe"](10,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"th"),b["\u0275\u0275text"](12),b["\u0275\u0275pipe"](13,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"th"),b["\u0275\u0275text"](15),b["\u0275\u0275pipe"](16,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"th"),b["\u0275\u0275text"](18),b["\u0275\u0275pipe"](19,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](20,"th"),b["\u0275\u0275text"](21),b["\u0275\u0275pipe"](22,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"th"),b["\u0275\u0275text"](24),b["\u0275\u0275pipe"](25,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](26,"th"),b["\u0275\u0275text"](27),b["\u0275\u0275pipe"](28,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](29,"th",4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](30,fu,2,1,"tbody",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](31,Su,14,7,"div",6)),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](4,10,"AllowanceSuspensionResumptionMovements")," "),b["\u0275\u0275advance"](6),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](10,12,"EmployeeAllowance")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](13,14,"StartingFromDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](16,16,"status")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](19,18,"Reason")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](22,20,"Notes")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](25,22,"Editor")),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](28,24,"EditingDate")),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",t.EmployeeAllowanceSuspensionResumptionList.length>0&&t.employeeid>0),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.totalCount>0))},directives:[o.O5,o.sg,fi.N9,d.EJ,d.JJ,d.On,d.YN,d.Kr],pipes:[h.X$,o.uU],styles:[""]}),e}(),Eu=["employeeSuspensionResumptionForm"],xu=["EmployeeSuspensionResumptionList"],Cu=["employeeAllowanceSuspensionResumptionForm"],Du=["EmployeeAllowanceSuspensionResumptionList"];function _u(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",2),b["\u0275\u0275elementStart"](1,"h1"),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Iu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function wu(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function ku(e,t){if(1&e&&(b["\u0275\u0275template"](0,Iu,2,1,"div",1),b["\u0275\u0275template"](1,wu,2,1,"div",1)),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("ngIf","ar"==n.lang),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function Tu(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",21),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OnSave()}),b["\u0275\u0275element"](1,"i",22),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275property"]("disabled",!a.isLastRecored),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](3,2,"Save")," ")}}function Mu(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",23),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onAddClick()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Add")," "))}function Bu(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",24),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onDeleteClick()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Delete")," "))}function Fu(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",25),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).OnPrint()}),b["\u0275\u0275text"](1),b["\u0275\u0275pipe"](2,"translate"),b["\u0275\u0275elementEnd"]()}2&e&&(b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](2,1,"Print")," "))}var Hu=function(e,t){return{"invalid-data":e,"valid-data":t}};function Ru(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",3),b["\u0275\u0275elementStart"](2,"div",4),b["\u0275\u0275elementStart"](3,"div",5),b["\u0275\u0275elementStart"](4,"h6",6),b["\u0275\u0275text"](5),b["\u0275\u0275pipe"](6,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",7),b["\u0275\u0275elementStart"](8,"div",8),b["\u0275\u0275elementStart"](9,"div",9),b["\u0275\u0275elementStart"](10,"div",10),b["\u0275\u0275elementStart"](11,"label",11),b["\u0275\u0275text"](12),b["\u0275\u0275pipe"](13,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](14,"p-autoComplete",12,13),b["\u0275\u0275listener"]("completeMethod",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onCompleteEmployeeAuto(e)})("onFocus",function(e){b["\u0275\u0275restoreView"](n);var t=b["\u0275\u0275reference"](15);return b["\u0275\u0275nextContext"]().onFocusInAutoEmployeeComplete(e),t.show()})("onSelect",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onSelectEmployeeAuto(e)})("ngModelChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().selectedEmployee=e}),b["\u0275\u0275template"](16,ku,2,2,"ng-template",14),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](17,"div",15),b["\u0275\u0275elementStart"](18,"div",16),b["\u0275\u0275template"](19,Tu,4,4,"button",17),b["\u0275\u0275template"](20,Mu,3,3,"button",18),b["\u0275\u0275template"](21,Bu,3,3,"button",19),b["\u0275\u0275template"](22,Fu,3,3,"button",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](5),b["\u0275\u0275textInterpolate1"](" ",b["\u0275\u0275pipeBind1"](6,13,"suspensionresumptiontransaction")," "),b["\u0275\u0275advance"](7),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](13,15,"employeeid")),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngModel",a.selectedEmployee)("suggestions",a.employeeList)("dataKey","ar"==a.lang?"name_ar":"name")("field","ar"==a.lang?"name_ar":"name")("ngClass",b["\u0275\u0275pureFunction2"](17,Hu,a.employeeTextboxInvalid,!a.employeeTextboxInvalid)),b["\u0275\u0275advance"](4),b["\u0275\u0275styleMap"]("ar"==a.lang?"text-align: left;":"text-align: right;"),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(443)||a.checkRoleParms(444)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(443)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(445)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.checkRoleParms(446))}}function Ou(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-employee-suspension-resumption-form",34,35),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).setIsLastRecored(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)("employeeSuspensionResumptionHistoryID",a.employeeSuspensionResumptionHistoryID)}}function Vu(e,t){if(1&e&&b["\u0275\u0275template"](0,Ou,3,2,"div",1),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("ngIf",n.isAddMode||n.isEditMode)}}function Au(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"li",31),b["\u0275\u0275elementStart"](1,"a",32),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,Vu,1,1,"ng-template",33),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngbNavItem",1),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"SuspendEmployee")))}function Nu(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-employee-allowance-suspension-resumption-form",36,37),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).GetData()})("dataToParent",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).setIsLastRecored(e)})("dataToParentCanDelete",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](4).setCanDelete(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](4);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)("employeeAllowanceSuspensionResumptionHistoryID",a.employeeAllowanceSuspensionResumptionHistoryID)}}function Gu(e,t){if(1&e&&b["\u0275\u0275template"](0,Nu,3,2,"div",1),2&e){var n=b["\u0275\u0275nextContext"](3);b["\u0275\u0275property"]("ngIf",n.isAddMode||n.isEditMode)}}function Pu(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"li",31),b["\u0275\u0275elementStart"](1,"a",32),b["\u0275\u0275text"](2),b["\u0275\u0275pipe"](3,"translate"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](4,Gu,1,1,"ng-template",33),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("ngbNavItem",2),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](b["\u0275\u0275pipeBind1"](3,2,"SuspendAllowance")))}function ju(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-employee-suspension-resumption-list",38,39),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onEditClick(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)}}function Uu(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275elementStart"](1,"app-employee-allowance-suspension-resumption-list",38,40),b["\u0275\u0275listener"]("parentGetData",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).GetData()})("parentEdit",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](2).onEditClick(e)}),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("employeeid",a.employeeid)}}function Lu(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"section"),b["\u0275\u0275elementStart"](1,"div",26),b["\u0275\u0275elementStart"](2,"div",8),b["\u0275\u0275elementStart"](3,"ul",27,28),b["\u0275\u0275listener"]("activeIdChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().activeId=e})("navChange",function(e){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onNavChange(e)}),b["\u0275\u0275template"](5,Au,5,4,"li",29),b["\u0275\u0275template"](6,Pu,5,4,"li",29),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](7,"div",30),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](8,ju,3,1,"div",1),b["\u0275\u0275template"](9,Uu,3,1,"div",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275reference"](4),i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("activeId",i.activeId),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(441)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",i.checkRoleParms(442)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngbNavOutlet",a),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==i.activeId),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",2==i.activeId)}}var Ju=function(){var e=function(){function e(t,n,a,r,l,o,s,c,d,m,p,u,y,h){var v=this;i(this,e),this._generalService=t,this.router=n,this.route=a,this.toastr=r,this.cdr=l,this._printService=o,this._Excel=s,this._convertToPDF=c,this._authService=d,this._TranslateGlobalService=m,this.translate=p,this._employeesService=u,this._employeeVacationsService=y,this._suspensionResumptionTransactionService=h,this.subsidaryid=0,this.ID=0,this.errormsg="",this.Cancel="",this.DataSavedsuccessfully="",this.ChooseEmployeeFirst="",this.ChooseRecordFirst="",this.EmploymentDataIncomplete="",this.NoDataToSave="",this.Yes="",this.No="",this.MissData="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.SubsequentRecordsDeletedFirst="",this.AllowanceNoLongerValid="",this.RecordLinkedToOtherData="",this.selectedEmployee={},this.previousSelectedEmployee={},this.employeeid=0,this.previousEmployeeID=0,this.employeeList=[],this.activeId=1,this.subActiveId=1,this.isEditMode=!1,this.isAddMode=!1,this.employeeSuspensionResumptionHistoryID=0,this.employeeAllowanceSuspensionResumptionHistoryID=0,this.WorkStartDate=null,this.employeeTextboxInvalid=!1,this.isLastRecored=!0,this.CanDelete=!0,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){v.lang=e.lang,v.dir=e.dir,v.translate.use(e.lang)}),this.ngTransUnsubscribe=this.translate.get(["Cancel","SaveMsg","checkname","DataSavedsuccessfully","NoDataToSave","No","MissData","savedChanges","Yes","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","ChooseEmployeeFirst","ChooseRecordFirst","EmploymentDataIncomplete","VacationsAfterDateDelete","SubsequentRecordsDeletedFirst","RecordLinkedToOtherData","AllowanceNoLongerValid"]).subscribe(function(e){v.DataSavedsuccessfully=e.DataSavedsuccessfully,v.NoDataToSave=e.NoDataToSave,v.Cancel=e.Cancel,v.SaveMsg=e.SaveMsg,v.errormsg=e.checkname,v.Yes=e.Yes,v.No=e.No,v.MissData=e.MissData,v.SavedData=e.savedChanges,v.swalDeleteTitle=e.swalDeleteTitle,v.swalDetlateText=e.swalDetlateText,v.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,v.toastrSuccessDelete=e.successMsg,v.ChooseEmployeeFirst=e.ChooseEmployeeFirst,v.ChooseRecordFirst=e.ChooseRecordFirst,v.EmploymentDataIncomplete=e.EmploymentDataIncomplete,v.SubsequentRecordsDeletedFirst=e.SubsequentRecordsDeletedFirst,v.RecordLinkedToOtherData=e.RecordLinkedToOtherData,v.AllowanceNoLongerValid=e.AllowanceNoLongerValid}),this.subsidaryid=this._generalService.SubsidiaryID,this.route.params.subscribe(function(e){v.employeeid=null==e.employeeid?0:parseFloat(e.employeeid)}),this.ngUnsubscribe=t.proadCastSubsidiaryID.subscribe(function(e){0==v.subsidaryid&&(v.subsidaryid=v._generalService.SubsidiaryID,v.cdr.markForCheck()),v.subsidaryid!=v._generalService.SubsidiaryID&&v.subsidaryid>0&&(v.subsidaryid=v._generalService.SubsidiaryID,v.cdr.markForCheck())})}return l(e,[{key:"GetEmployeeDataForValidation",value:function(){var e=this;this.WorkStartDate=null,this._employeeVacationsService.GetEmployeeDataForValidation(this.employeeid).subscribe(function(t){null!=t&&null!=t.workstartdate&&(e.WorkStartDate=t.workstartdate)})}},{key:"onCompleteEmployeeAuto",value:function(e){var n,a=this;n=e.query?e.query.trim():"",this._employeesService.getHrEmployees(this.subsidaryid,n).subscribe(function(e){a.employeeList=[],a.employeeList=[].concat(t(a.employeeList),t(e)),a.employeeid>0&&(a.selectedEmployee=a.employeeList.filter(function(e){return e.id==a.employeeid})[0]),a.cdr.markForCheck()})}},{key:"onFocusInAutoEmployeeComplete",value:function(e){var t=e.target.value;null!=t&&""!=t||this.onCompleteEmployeeAuto(e),this.onCompleteEmployeeAuto(e)}},{key:"onSelectEmployeeAuto",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=(this.employeeTextboxInvalid=!1,this.activeId),t.next=1===t.t0?3:2===t.t0?5:7;break;case 3:return n=this.employeeSuspensionResumptionForm,t.abrupt("break",8);case 5:return n=this.employeeAllowanceSuspensionResumptionForm,t.abrupt("break",8);case 7:n=this.employeeSuspensionResumptionForm;case 8:if(!n){t.next=18;break}return t.next=11,n.NotToMissData("Change Employee");case 11:if(!t.sent){t.next=15;break}this.DestroyForms(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData(),t.next=16;break;case 15:this.employeeid=this.previousEmployeeID,this.selectedEmployee=this.previousSelectedEmployee;case 16:t.next=19;break;case 18:this.DestroyForms(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData();case 19:case"end":return t.stop()}},t,this)}))}},{key:"onNavChange",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=(e.preventDefault(),this.activeId),t.next=1===t.t0?3:2===t.t0?5:7;break;case 3:return n=this.employeeSuspensionResumptionForm,t.abrupt("break",8);case 5:return n=this.employeeAllowanceSuspensionResumptionForm,t.abrupt("break",8);case 7:n=this.employeeSuspensionResumptionForm;case 8:if(!n){t.next=16;break}return t.next=11,n.NotToMissData("Change tab");case 11:if(t.t1=t.sent,!t.t1){t.next=14;break}this.DestroyForms(),this.activeId=e.nextId,this.GetData();case 14:t.next=17;break;case 16:this.DestroyForms(),this.activeId=e.nextId,this.GetData();case 17:case"end":return t.stop()}},t,this)}))}},{key:"onNavSubChange",value:function(e){3===e.nextId&&e.preventDefault()}},{key:"ngOnInit",value:function(){this.employeeid>0&&(this.onCompleteEmployeeAuto({originalEvent:FocusEvent,query:""}),this.previousEmployeeID=this.employeeid,this.previousSelectedEmployee=this.employeeid,this.GetEmployeeDataForValidation(),this.GetData())}},{key:"DestroyForms",value:function(){this.isAddMode=!1,this.isEditMode=!1}},{key:"onAddClick",value:function(){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.activeId,e.next=1===e.t0?3:2===e.t0?5:7;break;case 3:return t=this.employeeSuspensionResumptionForm,e.abrupt("break",8);case 5:return t=this.employeeAllowanceSuspensionResumptionForm,e.abrupt("break",8);case 7:t=this.employeeSuspensionResumptionForm;case 8:if(!t){e.next=16;break}return e.next=11,t.NotToMissData("Add click");case 11:if(e.t1=e.sent,!e.t1){e.next=14;break}this.DestroyForms(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(function(){n.isAddMode=!0,n.isEditMode=!1,n.employeeSuspensionResumptionHistoryID=0,n.employeeAllowanceSuspensionResumptionHistoryID=0,n.cdr.markForCheck()},0));case 14:e.next=17;break;case 16:this.DestroyForms(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(function(){n.isAddMode=!0,n.isEditMode=!1,n.employeeSuspensionResumptionHistoryID=0,n.employeeAllowanceSuspensionResumptionHistoryID=0,n.cdr.markForCheck()},0));case 17:case"end":return e.stop()}},e,this)}))}},{key:"onEditClick",value:function(e){return(0,oo.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.activeId,t.next=1===t.t0?3:2===t.t0?5:7;break;case 3:return n=this.employeeSuspensionResumptionForm,t.abrupt("break",8);case 5:return n=this.employeeAllowanceSuspensionResumptionForm,t.abrupt("break",8);case 7:n=this.employeeSuspensionResumptionForm;case 8:if(!n){t.next=16;break}return t.next=11,n.NotToMissData("Edit click");case 11:if(t.t1=t.sent,!t.t1){t.next=14;break}this.DestroyForms(),setTimeout(function(){switch(a.isAddMode=!1,a.isEditMode=!0,a.activeId){case 1:a.employeeSuspensionResumptionHistoryID=e.id;break;case 2:a.employeeAllowanceSuspensionResumptionHistoryID=e.id;break;default:a.employeeSuspensionResumptionHistoryID=e.id}a.cdr.markForCheck()},0);case 14:t.next=17;break;case 16:this.DestroyForms(),setTimeout(function(){switch(a.isAddMode=!1,a.isEditMode=!0,a.activeId){case 1:a.employeeSuspensionResumptionHistoryID=e.id;break;case 2:a.employeeAllowanceSuspensionResumptionHistoryID=e.id;break;default:a.employeeSuspensionResumptionHistoryID=e.id}a.cdr.markForCheck()},0);case 17:case"end":return t.stop()}},t,this)}))}},{key:"onDeleteClick",value:function(){var e,t=this;switch(this.activeId){case 1:e=this.employeeSuspensionResumptionHistoryID;break;case 2:e=this.employeeAllowanceSuspensionResumptionHistoryID;break;default:e=this.employeeSuspensionResumptionHistoryID}0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):0==e?this.toastr.error(this.ChooseRecordFirst):this.isLastRecored?2==this.activeId&&0==this.CanDelete?this.toastr.error(this.AllowanceNoLongerValid):(this.employeeTextboxInvalid=!1,R().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(e){if(e.isConfirmed&&1==e.isConfirmed)switch(t.activeId){case 1:t._suspensionResumptionTransactionService.DeleteEmployeeSuspensionResumptionHistory(t.employeeSuspensionResumptionHistoryID).subscribe(function(e){t.toastr.success(t.toastrSuccessDelete),t.isAddMode=!1,t.isEditMode=!1,t.employeeSuspensionResumptionHistoryID=0,t.GetData()});break;case 2:t._suspensionResumptionTransactionService.DeleteEmployeeAllowanceSuspensionResumptionHistory(t.employeeAllowanceSuspensionResumptionHistoryID).subscribe(function(e){t.toastr.success(t.toastrSuccessDelete),t.isAddMode=!1,t.isEditMode=!1,t.employeeAllowanceSuspensionResumptionHistoryID=0,t.GetData()});break;default:t._suspensionResumptionTransactionService.DeleteEmployeeSuspensionResumptionHistory(t.employeeSuspensionResumptionHistoryID).subscribe(function(e){t.toastr.success(t.toastrSuccessDelete),t.isAddMode=!1,t.isEditMode=!1,t.employeeSuspensionResumptionHistoryID=0,t.GetData()})}})):this.toastr.error(this.SubsequentRecordsDeletedFirst)}},{key:"setIsLastRecored",value:function(e){this.isLastRecored=e}},{key:"setCanDelete",value:function(e){this.CanDelete=e}},{key:"GetData",value:function(){switch(this.activeId){case 1:this.EmployeeSuspensionResumptionList.GetData();break;case 2:this.EmployeeAllowanceSuspensionResumptionList.GetData();break;default:this.EmployeeSuspensionResumptionList.GetData()}}},{key:"OnSave",value:function(){if(0==this.employeeid)this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0;else{var e;switch(this.employeeTextboxInvalid=!1,this.activeId){case 1:e=this.employeeSuspensionResumptionForm;break;case 2:e=this.employeeAllowanceSuspensionResumptionForm;break;default:e=this.employeeSuspensionResumptionForm}e.onSave()}}},{key:"OnPrint",value:function(){if(0==this.employeeid)this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0;else switch(this.activeId){case 1:this.EmployeeSuspensionResumptionList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;case 2:this.EmployeeAllowanceSuspensionResumptionList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name);break;default:this.EmployeeSuspensionResumptionList.Print("ar"==this.lang?this.selectedEmployee.name_ar:this.selectedEmployee.name)}}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](E.m),b["\u0275\u0275directiveInject"](y.F0),b["\u0275\u0275directiveInject"](y.gz),b["\u0275\u0275directiveInject"](O._W),b["\u0275\u0275directiveInject"](b.ChangeDetectorRef),b["\u0275\u0275directiveInject"](D.$),b["\u0275\u0275directiveInject"](_.x),b["\u0275\u0275directiveInject"](w.z),b["\u0275\u0275directiveInject"](I.e),b["\u0275\u0275directiveInject"](C.K),b["\u0275\u0275directiveInject"](h.sK),b["\u0275\u0275directiveInject"](x.M),b["\u0275\u0275directiveInject"](ue.C),b["\u0275\u0275directiveInject"](xp))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-suspension-resumption-transaction"]],viewQuery:function(e,t){var n;(1&e&&(b["\u0275\u0275viewQuery"](Eu,5),b["\u0275\u0275viewQuery"](xu,5),b["\u0275\u0275viewQuery"](Cu,5),b["\u0275\u0275viewQuery"](Du,5)),2&e)&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.employeeSuspensionResumptionForm=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.EmployeeSuspensionResumptionList=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.employeeAllowanceSuspensionResumptionForm=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.EmployeeAllowanceSuspensionResumptionList=n.first))},features:[b["\u0275\u0275ProvidersFeature"]([])],decls:3,vars:3,consts:[["class","row","style","text-align: center",4,"ngIf"],[4,"ngIf"],[1,"row",2,"text-align","center"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","employeeid",1,"col-form-label"],["id","Employee","name","Employee",1,"inline-flex",3,"ngModel","suggestions","dataKey","field","ngClass","completeMethod","onFocus","onSelect","ngModelChange"],["autoEmployee",""],["pTemplate","item"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"col-lg-5","col-md-5","col-sm-12","mb-2","mb-md-0",2,"margin-top","30px"],["type","submit","class","btn btn-success mb-0 me-3 btn-md",3,"disabled","click",4,"ngIf"],["class","btn btn-success mb-0 me-3 btn-md",3,"click",4,"ngIf"],["class","btn btn-danger mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success","mb-0","me-3","btn-md",3,"disabled","click"],[1,"ft-check-square","mr-1"],[1,"btn","btn-success","mb-0","me-3","btn-md",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"card"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"employeeid","employeeSuspensionResumptionHistoryID","parentGetData","dataToParent"],["employeeSuspensionResumptionForm",""],[3,"employeeid","employeeAllowanceSuspensionResumptionHistoryID","parentGetData","dataToParent","dataToParentCanDelete"],["employeeAllowanceSuspensionResumptionForm",""],[3,"employeeid","parentGetData","parentEdit"],["EmployeeSuspensionResumptionList",""],["EmployeeAllowanceSuspensionResumptionList",""]],template:function(e,t){1&e&&(b["\u0275\u0275template"](0,_u,4,3,"div",0),b["\u0275\u0275template"](1,Ru,23,20,"section",1),b["\u0275\u0275template"](2,Lu,10,6,"section",1)),2&e&&(b["\u0275\u0275property"]("ngIf",!t.checkRoleParms(441)&&!t.checkRoleParms(442)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(441)||t.checkRoleParms(442)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.checkRoleParms(441)||t.checkRoleParms(442)))},directives:[o.O5,p.Qc,d.JJ,d.On,o.mk,N.jx,fi.Pz,fi.tO,fi.nv,fi.Vx,fi.uN,Hp,Xp,su,bu],pipes:[h.X$],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff!important;background-color:gray!important}.tab-content[_ngcontent-%COMP%]{border:1px ridge #000;margin-top:0!important;padding-top:0}.nav.nav-pills.nav-fill[_ngcontent-%COMP%], .tab-content[_ngcontent-%COMP%]{width:97.5%;margin-right:15px;margin-left:15px}"]}),e}(),zu=r(93559),$u=r(7593);function Yu(e){return new v.z(e,[{prefix:"assets/i18n/HR/",suffix:".json"},{prefix:"assets/i18n/shared/",suffix:".json"},{prefix:"assets/i18n/app/",suffix:".json"}])}var qu,Qu,Ku=[{path:"",component:(qu=function(){function e(){i(this,e)}return l(e,[{key:"ngOnInit",value:function(){}}]),e}(),qu.\u0275fac=function(e){return new(e||qu)},qu.\u0275cmp=b["\u0275\u0275defineComponent"]({type:qu,selectors:[["app-employee-home"]],decls:3,vars:0,consts:[[1,"sub-home-page-cont"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275element"](1,"br"),b["\u0275\u0275element"](2,"br"),b["\u0275\u0275elementEnd"]())},styles:[""]}),qu)},{path:"employees",component:B},{path:"employees/:id",component:Qa},{path:"employees/:id/:show",component:Qa},{path:"employeefinancials",component:Xa},{path:"employeefinancials/:id",component:lo},{path:"employeefinancials/:id/:show",component:lo},{path:"changeemployeedata",component:Ep},{path:"changeemployeedata/:employeeid",component:Ep},{path:"suspensionresumptiontransaction",component:Ju}],Wu=((Qu=function e(){i(this,e)}).\u0275fac=function(e){return new(e||Qu)},Qu.\u0275mod=b["\u0275\u0275defineNgModule"]({type:Qu}),Qu.\u0275inj=b["\u0275\u0275defineInjector"]({providers:[h.gM,h.sK,x.M,$u.R,pe.n,me.b,vt,Ht,en,on,Bn,Wn,sa,Pn,V.F,ei,Yi,ar,wl,ue.C,gi,xp],imports:[[d.u5,o.ez,s.m,u.$,zu.kW,d.UX,y.Bz.forChild(Ku),p.WN,c.xc,g.fx,h.aw.forChild({loader:{provide:h.Zw,useFactory:Yu,deps:[m.eN]},extend:!0}),f.xC,ur.Iu]]}),Qu)},7593:function(e,t,n){"use strict";n.d(t,{R:function(){return c}});var a=n(79996),r=n(529),o=n(31572),s=n(29063),c=function(){var e=function(){function e(t){i(this,e),this.http=t,this.baseUrl=r.N.apiUrl}return l(e,[{key:"NationalityCreate",value:function(e){return this.http.post(this.baseUrl+"/Nationality/NationalityCreate",e).pipe((0,a.U)(function(e){return e}))}},{key:"GetNationalityByID",value:function(e){return this.http.get("".concat(this.baseUrl,"/Nationality/GetNationalityByID?id=").concat(e)).pipe((0,a.U)(function(e){return e}))}},{key:"NationalityUpdate",value:function(e){return this.http.post(this.baseUrl+"/Nationality/NationalityUpdate",e).pipe((0,a.U)(function(e){return e}))}},{key:"DeleteNationality",value:function(e){return this.http.post(this.baseUrl+"/Nationality/DeleteNationality",e).pipe((0,a.U)(function(e){return e}))}},{key:"NationalityList",value:function(e,t,n,i){return this.http.get("".concat(this.baseUrl,"/Nationality/ALLNationalityList?PageNo=").concat(e,"&PageSize=").concat(t,"&SearchValue=").concat(n,"&orderby=").concat(i)).pipe((0,a.U)(function(e){return e}))}},{key:"getNationalityDDL",value:function(){return this.http.get("".concat(this.baseUrl,"/Nationality/getNationalityDDL")).pipe((0,a.U)(function(e){return e}))}},{key:"NationalityListCount",value:function(e){return""==e?this.http.get("".concat(this.baseUrl,"/Nationality/NationalityListCount")).pipe((0,a.U)(function(e){return e})):this.http.get("".concat(this.baseUrl,"/Nationality/NationalityListCount?SearchValue=").concat(e)).pipe((0,a.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](s.eN))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}()},35248:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var a=n(31572),r=function(){var e=function(){function e(t){i(this,e),this.el=t,this.regex=new RegExp(/^\+?(0|[0-9]\d*)$/g),this.specialKeys=["Backspace","Tab","ArrowLeft","ArrowRight"]}return l(e,[{key:"onKeyDown",value:function(e){if(-1===this.specialKeys.indexOf(e.key)&&!(86===e.keyCode&&(e.ctrlKey||e.metaKey)||67===e.keyCode&&(e.ctrlKey||e.metaKey))){var t=this.el.nativeElement.value.concat(e.key);t&&!String(t).match(this.regex)&&e.preventDefault()}}},{key:"onPaste",value:function(e){var t=e.clipboardData.getData("text"),n=this.el.nativeElement.value.concat(t);n&&!String(n).match(this.regex)&&e.preventDefault()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](a.ElementRef))},e.\u0275dir=a["\u0275\u0275defineDirective"]({type:e,selectors:[["","PositiveNumbersWithoutDecimal",""]],hostBindings:function(e,t){1&e&&a["\u0275\u0275listener"]("keydown",function(e){return t.onKeyDown(e)})("paste",function(e){return t.onPaste(e)})}}),e}()}}])}();
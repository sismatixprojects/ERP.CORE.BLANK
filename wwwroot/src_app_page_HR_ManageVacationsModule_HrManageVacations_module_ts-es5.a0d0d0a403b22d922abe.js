!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkapex_admin=self.webpackChunkapex_admin||[]).push([["src_app_page_HR_ManageVacationsModule_HrManageVacations_module_ts"],{64093:function(t,a,l){"use strict";l.r(a),l.d(a,{HrManageVacationsModule:function(){return Jn},childLoaderFactory:function(){return zn}});var o=l(61511),r=l(59218),s=l(45593),c=l(16073),d=l(29063),p=l(53544),m=l(88402),u=l(96898),y=l(48160),h=l(20180),f=l(64802),v=l(33398),g=l(93559),S=l(25122),D=l(31572),b=function(){var e=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=D["\u0275\u0275defineComponent"]({type:e,selectors:[["app-vacations-home"]],decls:3,vars:0,consts:[[1,"sub-home-page-cont"]],template:function(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"div",0),D["\u0275\u0275element"](1,"br"),D["\u0275\u0275element"](2,"br"),D["\u0275\u0275elementEnd"]())},styles:[""]}),e}(),x=l(529),V=l(79996),E=function(){var e=function(){function e(t){n(this,e),this.http=t,this.baseUrl=x.N.apiUrl}return i(e,[{key:"GetAll",value:function(e){return this.http.post(this.baseUrl+"/StartUpVacationsBalances/GetAll",e).pipe((0,V.U)(function(e){return e}))}},{key:"CountOfStartUpVacationsBalances",value:function(e){return this.http.post(this.baseUrl+"/StartUpVacationsBalances/CountOfStartUpVacationsBalances",e).pipe((0,V.U)(function(e){return e}))}},{key:"GetStaticValues",value:function(e){return this.http.get(this.baseUrl+"/StartUpVacationsBalances/GetStaticValues?listDescription=".concat(e)).pipe((0,V.U)(function(e){return e}))}},{key:"Update",value:function(e){return this.http.post(this.baseUrl+"/StartUpVacationsBalances/Update",e).pipe((0,V.U)(function(e){return e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(D["\u0275\u0275inject"](d.eN))},e.\u0275prov=D["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),I=l(97441),C=l(78216),B=l(30445),O=l(57897),_=l(40925),k=function e(){n(this,e),this.workingstatuss=[],this.jobsites=[],this.sections=[],this.departments=[],this.contracttypes=[],this.employees=[],this.subsidaryid=null,this.pagenum=null,this.pagesize=null,this.searchvalue="",this.orderby=""},M=l(66687),P=l(22501),w=l.n(P),T=l(7427),N=l(25181),F=l(71825),A=l(76757),L=l(77915),R=l(72796),G=l(62120),U=l(16395),j=l(4705),Y=l(63567),W=l(5851);function $(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"div",2),D["\u0275\u0275elementStart"](1,"h1"),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function z(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"button",39),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).OnSave()}),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()}2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"Save")," "))}function q(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"button",40),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).OnPrint()}),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()}2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"Print")," "))}function H(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"button",41),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).OnPrint(1)}),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()}2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"pdf")," "))}function K(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"button",42),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).OnExcel()}),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()}2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"Excel")," "))}function J(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function Q(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function X(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,J,1,0,"i",44),D["\u0275\u0275template"](3,Q,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.Code),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.Code&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.Code&&"desc"==n.sortDirection)}}function Z(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function ee(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function te(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,Z,1,0,"i",44),D["\u0275\u0275template"](3,ee,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.Code),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.Code&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.Code&&"desc"==n.sortDirection)}}function ne(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function ae(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function ie(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,ne,1,0,"i",44),D["\u0275\u0275template"](3,ae,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.FullName_ar),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.FullName_ar&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.FullName_ar&&"desc"==n.sortDirection)}}function le(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function oe(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function re(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,le,1,0,"i",44),D["\u0275\u0275template"](3,oe,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.FullName_ar),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.FullName_ar&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.FullName_ar&&"desc"==n.sortDirection)}}function se(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function ce(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function de(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,se,1,0,"i",44),D["\u0275\u0275template"](3,ce,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.VacationDaysBalance),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationDaysBalance&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationDaysBalance&&"desc"==n.sortDirection)}}function pe(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function me(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function ue(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,pe,1,0,"i",44),D["\u0275\u0275template"](3,me,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.VacationDaysBalance),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationDaysBalance&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationDaysBalance&&"desc"==n.sortDirection)}}function ye(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function he(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function fe(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,ye,1,0,"i",44),D["\u0275\u0275template"](3,he,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.VacationSalary),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationSalary&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationSalary&&"desc"==n.sortDirection)}}function ve(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function ge(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function Se(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,ve,1,0,"i",44),D["\u0275\u0275template"](3,ge,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.VacationSalary),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationSalary&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationSalary&&"desc"==n.sortDirection)}}function De(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function be(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function xe(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,De,1,0,"i",44),D["\u0275\u0275template"](3,be,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.BalanceAmounts),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.BalanceAmounts&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.BalanceAmounts&&"desc"==n.sortDirection)}}function Ve(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function Ee(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function Ie(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,Ve,1,0,"i",44),D["\u0275\u0275template"](3,Ee,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.BalanceAmounts),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.BalanceAmounts&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.BalanceAmounts&&"desc"==n.sortDirection)}}function Ce(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function Be(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function Oe(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,Ce,1,0,"i",44),D["\u0275\u0275template"](3,Be,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.VacationSTPDaysSubtracted),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationSTPDaysSubtracted&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationSTPDaysSubtracted&&"desc"==n.sortDirection)}}function _e(e,t){1&e&&D["\u0275\u0275element"](0,"i",46)}function ke(e,t){1&e&&D["\u0275\u0275element"](0,"i",47)}function Me(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275element"](1,"i",43),D["\u0275\u0275template"](2,_e,1,0,"i",44),D["\u0275\u0275template"](3,ke,1,0,"i",45),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("hidden",n.sortColumn==n.VacationSTPDaysSubtracted),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationSTPDaysSubtracted&&"asc"==n.sortDirection),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.sortColumn==n.VacationSTPDaysSubtracted&&"desc"==n.sortDirection)}}function Pe(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](null==n?null:n.fullname_ar)}}function we(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](null==n?null:n.fullname_en)}}function Te(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275elementStart"](1,"tr",48),D["\u0275\u0275elementStart"](2,"td"),D["\u0275\u0275elementStart"](3,"div"),D["\u0275\u0275elementStart"](4,"span"),D["\u0275\u0275text"](5),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](6,"td"),D["\u0275\u0275elementStart"](7,"div"),D["\u0275\u0275template"](8,Pe,2,1,"span",1),D["\u0275\u0275template"](9,we,2,1,"span",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](10,"td"),D["\u0275\u0275elementStart"](11,"div"),D["\u0275\u0275elementStart"](12,"input",49),D["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.vacationdaysbalance=e})("change",function(){var e=D["\u0275\u0275restoreView"](n).$implicit;return D["\u0275\u0275nextContext"](2).clculateBalanceAmounts(e)}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](13,"td"),D["\u0275\u0275elementStart"](14,"div"),D["\u0275\u0275elementStart"](15,"input",50),D["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.vacationsalary=e})("change",function(){var e=D["\u0275\u0275restoreView"](n).$implicit;return D["\u0275\u0275nextContext"](2).clculateBalanceAmounts(e)}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](16,"td"),D["\u0275\u0275elementStart"](17,"div",51),D["\u0275\u0275elementStart"](18,"span"),D["\u0275\u0275text"](19),D["\u0275\u0275pipe"](20,"number"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](21,"td"),D["\u0275\u0275elementStart"](22,"div"),D["\u0275\u0275elementStart"](23,"input",52),D["\u0275\u0275listener"]("ngModelChange",function(e){return t.$implicit.vacationstpdayssubtracted=e})("change",function(){var e=D["\u0275\u0275restoreView"](n).$implicit;return D["\u0275\u0275nextContext"](2).formateVacationstpDaysSubtracted(e)}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=t.$implicit,i=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate"](null==a?null:a.code),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngIf","ar"==i.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=i.lang),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngModel",a.vacationdaysbalance),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngModel",a.vacationsalary),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind2"](20,7,null==a?null:a.balanceamounts,"1.3-3")),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("ngModel",a.vacationstpdayssubtracted)}}function Ne(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",53),D["\u0275\u0275elementStart"](1,"ngb-pagination",54),D["\u0275\u0275listener"]("pageChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).PageNoChange(e)})("pageChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).PageNo=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](2,"p"),D["\u0275\u0275text"](3),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](4,"select",55),D["\u0275\u0275listener"]("change",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).PageSize=e}),D["\u0275\u0275elementStart"](5,"option",56),D["\u0275\u0275text"](6,"10 items per page"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](7,"option",57),D["\u0275\u0275text"](8,"20 items per page"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](9,"option",58),D["\u0275\u0275text"](10,"50 items per page"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](11,"option",59),D["\u0275\u0275text"](12,"100 items per page"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](13,"br"),D["\u0275\u0275elementEnd"]()}if(2&e){var a=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngModel",a.PageSize)}}var Fe=function(){return{minWidth:"100%",maxWidth:"100%"}};function Ae(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"section"),D["\u0275\u0275elementStart"](1,"div",3),D["\u0275\u0275elementStart"](2,"div",4),D["\u0275\u0275elementStart"](3,"div",5),D["\u0275\u0275elementStart"](4,"h6",6),D["\u0275\u0275text"](5),D["\u0275\u0275pipe"](6,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](7,"div",7),D["\u0275\u0275elementStart"](8,"div",8),D["\u0275\u0275elementStart"](9,"div",9),D["\u0275\u0275elementStart"](10,"div",10),D["\u0275\u0275elementStart"](11,"div",11),D["\u0275\u0275elementStart"](12,"label",12),D["\u0275\u0275text"](13),D["\u0275\u0275pipe"](14,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](15,"p-multiSelect",13),D["\u0275\u0275listener"]("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().workingstatuss=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](16,"div",10),D["\u0275\u0275elementStart"](17,"div",11),D["\u0275\u0275elementStart"](18,"label",14),D["\u0275\u0275text"](19),D["\u0275\u0275pipe"](20,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](21,"p-multiSelect",15),D["\u0275\u0275listener"]("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().jobsites=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](22,"div",10),D["\u0275\u0275elementStart"](23,"div",11),D["\u0275\u0275elementStart"](24,"label",16),D["\u0275\u0275text"](25),D["\u0275\u0275pipe"](26,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](27,"p-multiSelect",17),D["\u0275\u0275listener"]("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().sections=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](28,"div",10),D["\u0275\u0275elementStart"](29,"div",11),D["\u0275\u0275elementStart"](30,"label",18),D["\u0275\u0275text"](31),D["\u0275\u0275pipe"](32,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](33,"p-multiSelect",19),D["\u0275\u0275listener"]("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().departments=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](34,"div",10),D["\u0275\u0275elementStart"](35,"div",11),D["\u0275\u0275elementStart"](36,"label",20),D["\u0275\u0275text"](37),D["\u0275\u0275pipe"](38,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](39,"p-multiSelect",21),D["\u0275\u0275listener"]("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().contracttypes=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](40,"div",10),D["\u0275\u0275elementStart"](41,"div",11),D["\u0275\u0275elementStart"](42,"label",22),D["\u0275\u0275text"](43),D["\u0275\u0275pipe"](44,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](45,"p-multiSelect",23),D["\u0275\u0275listener"]("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().employees=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](46,"div",24),D["\u0275\u0275elementStart"](47,"button",25),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().NotToMissData("search")}),D["\u0275\u0275text"](48),D["\u0275\u0275pipe"](49,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](50,"button",25),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().NotToMissData("reset")}),D["\u0275\u0275text"](51),D["\u0275\u0275pipe"](52,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](53,z,3,3,"button",26),D["\u0275\u0275template"](54,q,3,3,"button",27),D["\u0275\u0275template"](55,H,3,3,"button",28),D["\u0275\u0275template"](56,K,3,3,"button",29),D["\u0275\u0275elementStart"](57,"div",30),D["\u0275\u0275elementStart"](58,"div",31),D["\u0275\u0275elementStart"](59,"label",32),D["\u0275\u0275text"](60),D["\u0275\u0275pipe"](61,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](62,"input",33,34),D["\u0275\u0275listener"]("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().searchValue=e})("keyup",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().OnKeyupFinish()}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](64,"table",35),D["\u0275\u0275elementStart"](65,"thead"),D["\u0275\u0275elementStart"](66,"th",36),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().SortBy("Code")}),D["\u0275\u0275text"](67),D["\u0275\u0275pipe"](68,"translate"),D["\u0275\u0275template"](69,X,4,3,"ng-container",1),D["\u0275\u0275template"](70,te,4,3,"ng-container",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](71,"th",36),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().SortBy("FullName_ar")}),D["\u0275\u0275text"](72),D["\u0275\u0275pipe"](73,"translate"),D["\u0275\u0275template"](74,ie,4,3,"ng-container",1),D["\u0275\u0275template"](75,re,4,3,"ng-container",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](76,"th",36),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().SortBy("VacationDaysBalance")}),D["\u0275\u0275text"](77),D["\u0275\u0275pipe"](78,"translate"),D["\u0275\u0275template"](79,de,4,3,"ng-container",1),D["\u0275\u0275template"](80,ue,4,3,"ng-container",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](81,"th",36),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().SortBy("VacationSalary")}),D["\u0275\u0275text"](82),D["\u0275\u0275pipe"](83,"translate"),D["\u0275\u0275template"](84,fe,4,3,"ng-container",1),D["\u0275\u0275template"](85,Se,4,3,"ng-container",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](86,"th",36),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().SortBy("BalanceAmounts")}),D["\u0275\u0275text"](87),D["\u0275\u0275pipe"](88,"translate"),D["\u0275\u0275template"](89,xe,4,3,"ng-container",1),D["\u0275\u0275template"](90,Ie,4,3,"ng-container",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](91,"th",36),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().SortBy("VacationSTPDaysSubtracted")}),D["\u0275\u0275text"](92),D["\u0275\u0275pipe"](93,"translate"),D["\u0275\u0275template"](94,Oe,4,3,"ng-container",1),D["\u0275\u0275template"](95,Me,4,3,"ng-container",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](96,"tbody"),D["\u0275\u0275template"](97,Te,24,10,"ng-container",37),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](98,Ne,14,7,"div",38),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){var a=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](6,70,"StartUpVacationsBalances")," "),D["\u0275\u0275advance"](8),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](14,72,"workingstatus")),D["\u0275\u0275advance"](2),D["\u0275\u0275styleMap"](D["\u0275\u0275pureFunction0"](102,Fe)),D["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==a.lang?"name_ar":"name"),D["\u0275\u0275property"]("ngModel",a.workingstatuss)("options",a.EmployeeStatusList)("filter",!1),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](20,74,"BanksBranch")),D["\u0275\u0275advance"](2),D["\u0275\u0275styleMap"](D["\u0275\u0275pureFunction0"](103,Fe)),D["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==a.lang?"name_ar":"name"),D["\u0275\u0275property"]("ngModel",a.jobsites)("options",a.jobSiteList)("filter",!1),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](26,76,"sectionid")),D["\u0275\u0275advance"](2),D["\u0275\u0275styleMap"](D["\u0275\u0275pureFunction0"](104,Fe)),D["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==a.lang?"name_ar":"name"),D["\u0275\u0275property"]("ngModel",a.sections)("options",a.sectionList)("filter",!1),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](32,78,"department")),D["\u0275\u0275advance"](2),D["\u0275\u0275styleMap"](D["\u0275\u0275pureFunction0"](105,Fe)),D["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==a.lang?"name_ar":"name"),D["\u0275\u0275property"]("ngModel",a.departments)("options",a.departmentList)("filter",!1),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](38,80,"contracttypeid")),D["\u0275\u0275advance"](2),D["\u0275\u0275styleMap"](D["\u0275\u0275pureFunction0"](106,Fe)),D["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==a.lang?"name_ar":"name"),D["\u0275\u0275property"]("ngModel",a.contracttypes)("options",a.contractTypeList)("filter",!1),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](44,82,"employeeid")),D["\u0275\u0275advance"](2),D["\u0275\u0275styleMap"](D["\u0275\u0275pureFunction0"](107,Fe)),D["\u0275\u0275propertyInterpolate"]("optionLabel","ar"==a.lang?"name_ar":"name"),D["\u0275\u0275property"]("ngModel",a.employees)("options",a.employeeList),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](49,84,"Search")," "),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](52,86,"Reset")," "),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",a.checkRoleParms(416)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",a.checkRoleParms(417)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",a.checkRoleParms(418)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",a.checkRoleParms(419)),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](61,88,"Search")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",a.searchValue),D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](68,90,"code")," "),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf","ar"!=a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](73,92,"name")," "),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf","ar"!=a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](78,94,"VacationDaysBalance")," "),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf","ar"!=a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](83,96,"VacationSalary")," "),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf","ar"!=a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](88,98,"BalanceAmounts")," "),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf","ar"!=a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](93,100,"VacationSTPDaysSubtracted")," "),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf","ar"!=a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngForOf",a.StartUpBalanceList),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",a.totalCount>0)}}var Le=function(){var e=function(){function e(t,a,i,l,o,r,s,c,d,p,m,u,y,h,f,v,g){var S=this;n(this,e),this._startUpVacationsBalancesService=t,this._generalService=a,this.router=i,this.route=l,this.toastr=o,this.cdr=r,this._printService=s,this._Excel=c,this._convertToPDF=d,this._authService=p,this._TranslateGlobalService=m,this.translate=u,this._sectionsService=y,this._contractTypesService=h,this._branchService=f,this._departmentService=v,this._employeesService=g,this.totalCount=0,this.subsidaryid=0,this.ID=0,this.errormsg="",this.Cancel="",this.DataSavedsuccessfully="",this.NoDataToSave="",this.Yes="",this.No="",this.MissData="",this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this._StartUpVacationsBalanceSearchParameters=new k,this._searchModel=new _.h,this._filterAttribute=new M.M,this.StartUpBalanceList=[],this.OldStartUpBalanceList="[]",this.workingstatuss=[],this.jobsites=[],this.sections=[],this.departments=[],this.contracttypes=[],this.employees=[],this.EmployeeStatusList=[],this.jobSiteList=[],this.departmentList=[],this.sectionList=[],this.contractTypeList=[],this.employeeList=[],this.timeout=null,this._filterAttribute.totalCount=this.totalCount,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){S.lang=e.lang,S.dir=e.dir,S.translate.use(e.lang)}),this.ngTransUnsubscribe=this.translate.get(["Cancel","SaveMsg","checkname","DataSavedsuccessfully","NoDataToSave","No","MissData","savedChanges","Yes"]).subscribe(function(e){S.DataSavedsuccessfully=e.DataSavedsuccessfully,S.NoDataToSave=e.NoDataToSave,S.Cancel=e.Cancel,S.SaveMsg=e.SaveMsg,S.errormsg=e.checkname,S.Yes=e.Yes,S.No=e.No,S.MissData=e.MissData,S.SavedData=e.savedChanges}),this.subsidaryid=this._generalService.SubsidiaryID,this.GetEmployeeStatus(),this.GetJobSites(),this.GetDepartments(),this.GetSections(),this.GetContractTypes(),this.GetEmployees(),this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){0==S.subsidaryid&&(S.subsidaryid=S._generalService.SubsidiaryID,S.cdr.markForCheck()),S.subsidaryid!=S._generalService.SubsidiaryID&&S.subsidaryid>0&&(S.subsidaryid=S._generalService.SubsidiaryID,S.cdr.markForCheck())})}return i(e,[{key:"GetEmployeeStatus",value:function(){var e=this;this._startUpVacationsBalancesService.GetStaticValues("EmployeeStatus").subscribe(function(t){e.EmployeeStatusList=t,e.EmployeeStatusList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),t.length>0&&e.workingstatuss.push(e.EmployeeStatusList.filter(function(e){return 1==e.isdefaultselection})[0].id),e.cdr.markForCheck()})}},{key:"GetJobSites",value:function(){var e=this;this._branchService.GetAllForDropdown().subscribe(function(t){e.jobSiteList=t,e.jobSiteList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),e.jobsites.push(0),e.cdr.markForCheck()})}},{key:"GetDepartments",value:function(){var e=this;this._departmentService.GetAllForDropdown().subscribe(function(t){e.departmentList=t,e.departmentList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),e.departments.push(0),e.cdr.markForCheck()})}},{key:"GetSections",value:function(){var e=this;this._sectionsService.GetAllForDropdown().subscribe(function(t){e.sectionList=t,e.sectionList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),e.sections.push(0),e.cdr.markForCheck()})}},{key:"GetContractTypes",value:function(){var e=this;this._contractTypesService.GetAllForDropdown().subscribe(function(t){e.contractTypeList=t,e.contractTypeList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),e.contracttypes.push(0),e.cdr.markForCheck()})}},{key:"GetEmployees",value:function(){var e=this;this._employeesService.getHrEmployees(this.subsidaryid).subscribe(function(t){e.employeeList=t,e.employeeList.unshift({id:0,name:"All",name_ar:"\u0627\u0644\u0643\u0644"}),e.employees.push(0),e.cdr.markForCheck()})}},{key:"ngOnInit",value:function(){}},{key:"SearchClick",value:function(){this.GetData()}},{key:"Reset",value:function(){this.workingstatuss=[],this.workingstatuss.push(0),this.jobsites=[],this.jobsites.push(0),this.departments=[],this.departments.push(0),this.sections=[],this.sections.push(0),this.contracttypes=[],this.contracttypes.push(0),this.employees=[],this.employees.push(0),this._searchModel.searchValue="",this._searchModel.orderby="",this.StartUpBalanceList=[],this.OldStartUpBalanceList="[]",this.totalCount=0}},{key:"PrepareSearchObject",value:function(){this._StartUpVacationsBalanceSearchParameters.workingstatuss=this.workingstatuss,this._StartUpVacationsBalanceSearchParameters.jobsites=this.jobsites,this._StartUpVacationsBalanceSearchParameters.sections=this.sections,this._StartUpVacationsBalanceSearchParameters.departments=this.departments,this._StartUpVacationsBalanceSearchParameters.contracttypes=this.contracttypes,this._StartUpVacationsBalanceSearchParameters.employees=this.employees,this._StartUpVacationsBalanceSearchParameters.subsidaryid=this.subsidaryid,this._StartUpVacationsBalanceSearchParameters.pagenum=this._searchModel.pageNo,this._StartUpVacationsBalanceSearchParameters.pagesize=this._searchModel.pageSize,this._StartUpVacationsBalanceSearchParameters.searchvalue=this._searchModel.searchValue,this._StartUpVacationsBalanceSearchParameters.orderby=this._searchModel.orderby}},{key:"GetData",value:function(){var e=this;this.PrepareSearchObject(),this._startUpVacationsBalancesService.GetAll(this._StartUpVacationsBalanceSearchParameters).subscribe(function(t){e.StartUpBalanceList=t,e.OldStartUpBalanceList=JSON.stringify(e.StartUpBalanceList);for(var n=0;n<e.StartUpBalanceList.length;n++)e.clculateBalanceAmounts(e.StartUpBalanceList[n]),e.formateVacationstpDaysSubtracted(e.StartUpBalanceList[n]);e.cdr.markForCheck()}),this._startUpVacationsBalancesService.CountOfStartUpVacationsBalances(this._StartUpVacationsBalanceSearchParameters).subscribe(function(t){e.totalCount=t[0].total})}},{key:"clculateBalanceAmounts",value:function(e){e.balanceamounts=0==e.daysofmonthvacation?0:e.vacationsalary/e.daysofmonthvacation*e.vacationdaysbalance,e.vacationdaysbalance=e.vacationdaysbalance.toFixed(3),e.vacationsalary=e.vacationsalary.toFixed(3)}},{key:"formateVacationstpDaysSubtracted",value:function(e){e.vacationstpdayssubtracted=e.vacationstpdayssubtracted.toFixed(3)}},{key:"OnSave",value:function(){var e=this;this.StartUpBalanceList.length>0?this._startUpVacationsBalancesService.Update(this.StartUpBalanceList).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.cdr.markForCheck()}):this.toastr.success(this.NoDataToSave)}},{key:"NotToMissData",value:function(e){var t=this;this.OldStartUpBalanceList!==JSON.stringify(this.StartUpBalanceList)?w().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(n){n.isConfirmed&&1==n.isConfirmed?(t.OnSave(),"search"==e?t.SearchClick():t.Reset()):"search"==e?t.SearchClick():t.Reset()}):"search"==e?this.SearchClick():this.Reset()}},{key:"OnKeyupFinish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.timeout=null,e._filterAttribute.searchValue=e.searchValue,e.Search()},1e3*t)}},{key:"Search",value:function(){this._filterAttribute.pageNo=1,this.PageNo=1,Object.assign(this._searchModel,this._filterAttribute),this.GetData()}},{key:"SortBy",value:function(e){this.sortDirection="asc"==this.sortDirection?"desc":"asc",this._filterAttribute.sortDirection=this.sortDirection,this._filterAttribute.filterCoulmn=e,this._filterAttribute.orderby=e+"."+this.sortDirection,this._filterAttribute.pageNo=1,this.PageNo=1,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"OnPrint",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=" ",a="ar"==this.lang?"rtl":"ltr",i="ar"==this.lang?"\u0623\u0631\u0635\u062f\u0629 \u0627\u062c\u0627\u0632\u0627\u062a \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u062a\u0634\u063a\u064a\u0644":"Start-up Vacations Balances",l="ar"==this.lang?"\u0643\u0648\u062f \u0627\u0644\u0645\u0648\u0638\u0641":"Employee Code",o="ar"==this.lang?"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641":"Employee Name",r="ar"==this.lang?"\u0627\u0644\u0631\u0635\u064a\u062f \u0628\u0627\u0644\u0623\u064a\u0627\u0645":"Days Balance",s="ar"==this.lang?" \u0627\u0644\u0631\u0627\u062a\u0628":"The Salary",c="ar"==this.lang?"\u0627\u0644\u0631\u0635\u064a\u062f \u0645\u0628\u0627\u0644\u063a":"Balance Amounts",d="ar"==this.lang?"\u0623\u064a\u0627\u0645 \u062a\u064f\u0637\u0631\u062d \u0645\u0646 \u0645\u062f\u0629 \u0627\u0644\u062e\u062f\u0645\u0629":"Days are subtracted from the service period";this.PrepareSearchObject(),this._startUpVacationsBalancesService.GetAll(this._StartUpVacationsBalanceSearchParameters).subscribe(function(p){e.cdr.markForCheck(),n='\n       <div class="text-center" style="background: #e9f1f5;color: cornflowerblue;" >'.concat(i,'</div>\n            <table class="table text-center m-0 table table-striped"  border="1px"  dir=').concat(a,'>\n            <thead>\n             <tr style="background: #e9f1f5;color: cornflowerblue;">\n               <th>').concat(l,"</th>\n               <th>").concat(o,"</th>\n               <th>").concat(r,"</th>\n               <th>").concat(s,"</th>\n               <th>").concat(c,"</th>\n               <th>").concat(d,"</th>\n             </tr>\n            </thead>\n            <tbody>\n       "),p.map(function(t){n+="\n           <tr>\n           <td>".concat(t.code,"</td>\n             <td>").concat("ar"==e.lang?t.fullname_ar:t.fullname_en,"</td>\n             <td>").concat(t.vacationdaysbalance,"</td>             \n             <td>").concat(t.vacationsalary,"</td>\n             <td>").concat(t.balanceamounts,"</td>             \n             <td>").concat(t.vacationstpdayssubtracted,"</td>\n           </tr>\n         ")}),n+="</tbody></table>",1==t?e._convertToPDF.by_html2pdf(n,"ar"==e.lang?"\u0623\u0631\u0635\u062f\u0629 \u0627\u062c\u0627\u0632\u0627\u062a \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u062a\u0634\u063a\u064a\u0644":"Start-up Vacations Balances"):e._printService.OnPrintContent(n)})}},{key:"OnExcel",value:function(){var e=this,t=[];this.PrepareSearchObject(),this._startUpVacationsBalancesService.GetAll(this._StartUpVacationsBalanceSearchParameters).subscribe(function(n){n.forEach(function(n){t.push("ar"==e.lang?{"\u0643\u0648\u062f \u0627\u0644\u0645\u0648\u0638\u0641":n.code,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641":n.fullname_ar,"\u0627\u0644\u0631\u0635\u064a\u062f \u0628\u0627\u0644\u0623\u064a\u0627\u0645":n.vacationdaysbalance," \u0627\u0644\u0631\u0627\u062a\u0628":n.VacationSalary,"\u0627\u0644\u0631\u0635\u064a\u062f \u0645\u0628\u0627\u0644\u063a":n.balanceamounts,"\u0623\u064a\u0627\u0645 \u062a\u064f\u0637\u0631\u062d \u0645\u0646 \u0645\u062f\u0629 \u0627\u0644\u062e\u062f\u0645\u0629":n.vacationstpdayssubtracted}:{"Employee Code":n.code,"Employee Name":n.fullname_ar,"Days Balance":n.vacationdaysbalance,"The Salary":n.VacationSalary,"Balance Amounts":n.balanceamounts,"Days are subtracted from the service period":n.vacationstpdayssubtracted})}),e._Excel.exportAsExcelFile(t,"ar"==e.lang?"\u0623\u0631\u0635\u062f\u0629 \u0627\u062c\u0627\u0632\u0627\u062a \u0628\u062f\u0627\u064a\u0629 \u0627\u0644\u062a\u0634\u063a\u064a\u0644":"Start-up Vacations Balances")})}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){this.ngTransUnsubscribe.next(),this.ngTransUnsubscribe.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(D["\u0275\u0275directiveInject"](E),D["\u0275\u0275directiveInject"](T.m),D["\u0275\u0275directiveInject"](u.F0),D["\u0275\u0275directiveInject"](u.gz),D["\u0275\u0275directiveInject"](N._W),D["\u0275\u0275directiveInject"](D.ChangeDetectorRef),D["\u0275\u0275directiveInject"](F.$),D["\u0275\u0275directiveInject"](A.x),D["\u0275\u0275directiveInject"](L.z),D["\u0275\u0275directiveInject"](R.e),D["\u0275\u0275directiveInject"](G.K),D["\u0275\u0275directiveInject"](y.sK),D["\u0275\u0275directiveInject"](I.J),D["\u0275\u0275directiveInject"](C.x),D["\u0275\u0275directiveInject"](B.b),D["\u0275\u0275directiveInject"](O.n),D["\u0275\u0275directiveInject"](U.M))},e.\u0275cmp=D["\u0275\u0275defineComponent"]({type:e,selectors:[["app-start-up-vacations-balance"]],features:[D["\u0275\u0275ProvidersFeature"]([])],decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"col-12"],[1,"row","mt-3"],[1,"col-lg-2","col-md-2","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","workingstatus",1,"col-form-label"],["name","workingstatuss","optionValue","id",3,"ngModel","options","optionLabel","filter","ngModelChange"],["id","jobsite",1,"col-form-label"],["name","jobsites","optionValue","id",3,"ngModel","options","optionLabel","filter","ngModelChange"],["id","sectionid",1,"col-form-label"],["name","sections","optionValue","id",3,"ngModel","options","optionLabel","filter","ngModelChange"],["id","department",1,"col-form-label"],["name","departments","optionValue","id",3,"ngModel","options","optionLabel","filter","ngModelChange"],["id","contracttypeid",1,"col-form-label"],["name","contracttypes","optionValue","id",3,"ngModel","options","optionLabel","filter","ngModelChange"],["id","employeeid",1,"col-form-label"],["name","employees","optionValue","id",3,"ngModel","options","optionLabel","ngModelChange"],[1,"mt-3"],[1,"btn","btn-primary","mb-0","me-3","ng-star-inserted",3,"click"],["type","submit","class","btn btn-success mb-0 me-3 btn-md",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-danger mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-success mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],[1,"col-lg-6","col-md-6","col-sm-12","pull-right"],[1,"form-group","d-flex","justify-content-end"],["for","SearchValue",1,"pt-1","pl-1","pr-1","form-label"],["type","text","id","SearchValue","name","SearchValue",1,"form-control","col-md-6",3,"ngModel","ngModelChange","keyup"],["SearchValue","ngModel"],[1,"mt-4","table"],[1,"",3,"click"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],["type","submit",1,"btn","btn-success","mb-0","me-3","btn-md",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-success","mb-0","me-3","ng-star-inserted",3,"click"],[1,"fa","fa-fw","fa-sort",3,"hidden"],["class","fa fa-fw fa-sort-desc",4,"ngIf"],["class","fa fa-fw fa-sort-asc",4,"ngIf"],[1,"fa","fa-fw","fa-sort-desc"],[1,"fa","fa-fw","fa-sort-asc"],[1,"pl-4",2,"height","50px"],["PositiveNumbersOrDecimalOnly","","type","number","name","vacationdaysbalance",1,"form-control",2,"text-align","right",3,"ngModel","ngModelChange","change"],["PositiveNumbersOrDecimalOnly","","type","number","name","vacationsalary",1,"form-control",2,"text-align","right",3,"ngModel","ngModelChange","change"],[2,"text-align","right"],["PositiveNumbersOrDecimalOnly","","type","text","name","vacationstpdayssubtracted",1,"form-control",2,"text-align","right",3,"ngModel","ngModelChange","change"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(D["\u0275\u0275template"](0,$,4,3,"div",0),D["\u0275\u0275template"](1,Ae,99,108,"section",1)),2&e&&(D["\u0275\u0275property"]("ngIf",!t.checkRoleParms(415)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.checkRoleParms(415)))},directives:[o.O5,j.NU,c.JJ,c.On,c.Fj,o.sg,c.wV,Y.L,W.N9,c.EJ,c.YN,c.Kr],pipes:[y.X$,o.JJ],styles:[""]}),e}(),Re=l(64762),Ge=l(37516),Ue=l(29743),je=function e(){n(this,e),this.id=0,this.code="",this.startdate=null,this.enddate=null,this.typeid=null,this.methodofpayingdues=null,this.immediatepaymentinclusions=null,this.workingdaysvaluebeforevacation=null,this.vacationsbalancededucteddays=null,this.fridayseffectonvacationsbalance=null,this.officialholidayseffectonvacationdues=null,this.monthofduespayment=null,this.referenceno="",this.vacationreason="",this.phonenumberduringvacation="",this.notes="",this.classificationid=1,this.subsidaryid=null},Ye=l(98794),We=["VacationRForm"];function $e(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function ze(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterWorkStartDate")," "))}function qe(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"StartDateGreaterLastEndDate")," "))}function He(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Ke(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"EndDateGreaterStartDate")," "))}function Je(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name_ar)}}function Qe(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name)}}function Xe(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"option",52),D["\u0275\u0275template"](1,Je,2,1,"div",45),D["\u0275\u0275template"](2,Qe,2,1,"div",45),D["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=D["\u0275\u0275nextContext"]();D["\u0275\u0275property"]("value",n.id),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Ze(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function et(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"PeriodNotCompleted")," "))}function tt(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"TimesTakenYearlyExceed")," "))}var nt=function(e){return{param:e}};function at(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind2"](2,1,"AnnualUpperLimitExceed",D["\u0275\u0275pureFunction1"](4,nt,n.AnnualUpperLimitAllowedPeriod))," ")}}function it(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name_ar)}}function lt(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name)}}function ot(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"option",52),D["\u0275\u0275template"](1,it,2,1,"div",45),D["\u0275\u0275template"](2,lt,2,1,"div",45),D["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=D["\u0275\u0275nextContext"]();D["\u0275\u0275property"]("value",n.id),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function rt(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function st(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name_ar)}}function ct(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name)}}function dt(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"option",52),D["\u0275\u0275template"](1,st,2,1,"div",45),D["\u0275\u0275template"](2,ct,2,1,"div",45),D["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=D["\u0275\u0275nextContext"]();D["\u0275\u0275property"]("value",n.id),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function pt(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function mt(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name_ar)}}function ut(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name)}}function yt(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"option",52),D["\u0275\u0275template"](1,mt,2,1,"div",45),D["\u0275\u0275template"](2,ut,2,1,"div",45),D["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=D["\u0275\u0275nextContext"](2);D["\u0275\u0275property"]("value",n.id),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function ht(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}var ft=function(e,t){return{"invalid-data":e,"valid-data":t}};function vt(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",4),D["\u0275\u0275elementStart"](1,"label",53),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementStart"](4,"span",27),D["\u0275\u0275text"](5,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](6,"select",54,55),D["\u0275\u0275listener"]("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]()._employeeVacationDependingOnBalance.workingdaysvaluebeforevacation=e}),D["\u0275\u0275elementStart"](8,"option",25),D["\u0275\u0275text"](9),D["\u0275\u0275pipe"](10,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](11,yt,3,3,"option",21),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](12,ht,3,3,"span",11),D["\u0275\u0275elementEnd"]()}if(2&e){var a=D["\u0275\u0275reference"](7),i=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](3,9,"ValueWorkingDaysBeforeVacation")),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("ngModel",i._employeeVacationDependingOnBalance.workingdaysvaluebeforevacation)("ngClass",D["\u0275\u0275pureFunction2"](13,ft,a.invalid&&i.manuallySubmitted,a.valid&&i.manuallySubmitted))("required",1==i._employeeVacationDependingOnBalance.methodofpayingdues)("disabled",1!=i._employeeVacationDependingOnBalance.methodofpayingdues),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngValue",null),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](10,11,"Select")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngForOf",i.WorkingDaysValueBeforeVacationList),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",a.invalid&&i.manuallySubmitted)}}function gt(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name_ar)}}function St(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name)}}function Dt(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"option",52),D["\u0275\u0275template"](1,gt,2,1,"div",45),D["\u0275\u0275template"](2,St,2,1,"div",45),D["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=D["\u0275\u0275nextContext"]();D["\u0275\u0275property"]("value",n.id),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function bt(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name_ar)}}function xt(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name)}}function Vt(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"option",52),D["\u0275\u0275template"](1,bt,2,1,"div",45),D["\u0275\u0275template"](2,xt,2,1,"div",45),D["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=D["\u0275\u0275nextContext"]();D["\u0275\u0275property"]("value",n.id),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Et(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name_ar)}}function It(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name)}}function Ct(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"option",52),D["\u0275\u0275template"](1,Et,2,1,"div",45),D["\u0275\u0275template"](2,It,2,1,"div",45),D["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=D["\u0275\u0275nextContext"]();D["\u0275\u0275property"]("value",n.id),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function Bt(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Ot(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"MonthOfDuesPaymentGreaterWorkStartDate")," "))}function _t(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"MonthDuesPaymentDateRangeExceed")," "))}function kt(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Mt(e,t){1&e&&D["\u0275\u0275element"](0,"br")}function Pt(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"FieldMinNumber")," 4 "))}function wt(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"ValueIsRequired")," "))}function Tt(e,t){1&e&&D["\u0275\u0275element"](0,"br")}function Nt(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"span",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"FieldMinNumber")," 8 "))}var Ft=function(){var e=function(){function e(t,a,i,l,o,r,s,c,d,p){var m=this;n(this,e),this.router=t,this.route=a,this._TranslateGlobalService=i,this.translate=l,this.cd=o,this._authService=r,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=p,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this._employeeVacationDependingOnBalance=new je,this._oldEmployeeVacationDependingOnBalance="",this.VactionTypeList=[],this.MethodOfPayingDuesList=[],this.ImmediatePaymentInclusionsList=[],this.WorkingDaysValueBeforeVacationList=[],this.VacationsBalanceDeductedDaysList=[],this.FridaysEffectOnVacationsBalanceList=[],this.OfficialHolidaysEffectOnVacationDuesList=[],this.parentGetData=new D.EventEmitter,this.NetServicePeriodAtVacationStartDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeVacationSTPDaysSubtracted=null,this.EmployeeReligionId=null,this.EmployeeGender=null,this.EmployeeVacationDependingOnBalanceDate=null,this.isVacationStartDateValid=!0,this.isVacationStartDateValidWithLastDate=!0,this.isVacationEndDateValid=!0,this.isPeriodNotCompleted=!1,this.isTimesTakenYearlyExceed=!1,this.ReasonIsMandatory=!1,this.PhoneNumberIsMandatory=!1,this.isAnnualUpperLimitExceed=!1,this.AnnualUpperLimitAllowedPeriod=0,this.isMonthOfDuesPaymentValid=!0,this.isMonthDuesPaymentDateRangeExceed=!1,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){m.Yes=e.Yes,m.No=e.No,m.Cancel=e.Cancel,m.checkname=e.checkname,m.MissData=e.MissData,m.SavedData=e.savedChanges,m.DataSavedsuccessfully=e.DataSavedsuccessfully,m.Erorr=e.Erorr,m.Approval=e.Approval,m.PersonalDataNotComply=e.PersonalDataNotComply,m.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})}),this.NetServicePeriodAtVacationStartDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}return i(e,[{key:"ngOnInit",value:function(){this._employeeVacationDependingOnBalance.employeeid=this.employeeid,this._employeeVacationDependingOnBalance.id=this.employeeVacationID,this.GetVacationsBalanceDeductedDays(),this.GetEmployeeDataForValidation(),this.GetVactionTypes(),this.GetMethodOfPayingDues(),this.GetImmediatePaymentInclusions(),this.GetWorkingDaysValueBeforeVacations()}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this._employeeVacationsService.GetEmployeeDataForValidation(this.employeeid).subscribe(function(t){null!=t&&(null!=t.workstartdate&&(e.EmployeeWorkStartDate=t.workstartdate,e.EmployeeVacationSTPDaysSubtracted=t.vacationstpdayssubtracted,e.EmployeeReligionId=t.religionid,e.EmployeeGender=t.gender),null!=t.dependingonbalancedate&&(e.EmployeeVacationDependingOnBalanceDate=t.dependingonbalancedate))})}},{key:"GetVactionTypes",value:function(){var e=this;this._employeeVacationsService.GetVacationsTypesDependingOnBalanceForDropdown(this.subsidiaryID).subscribe(function(t){e.VactionTypeList=t,e.cd.markForCheck()})}},{key:"GetMethodOfPayingDues",value:function(){var e=this;this._employeesService.GetStaticValues("MethodOfPayingDues").subscribe(function(t){e.MethodOfPayingDuesList=t,e.cd.markForCheck()})}},{key:"GetImmediatePaymentInclusions",value:function(){var e=this;this._employeesService.GetStaticValues("ImmediatePaymentInclusions").subscribe(function(t){e.ImmediatePaymentInclusionsList=t,e.cd.markForCheck()})}},{key:"GetWorkingDaysValueBeforeVacations",value:function(){var e=this;this._employeesService.GetStaticValues("WorkingDaysValueBeforeVacation").subscribe(function(t){e.WorkingDaysValueBeforeVacationList=t,e.cd.markForCheck()})}},{key:"GetVacationsBalanceDeductedDays",value:function(){var e=this;this._employeesService.GetStaticValues("VacationsBalanceDeductedDays").subscribe(function(t){e.VacationsBalanceDeductedDaysList=t,e._employeeVacationDependingOnBalance.vacationsbalancededucteddays=e.VacationsBalanceDeductedDaysList.filter(function(e){return 1==e.isdefaultselection})[0].id,e.cd.markForCheck(),e._employeesService.GetStaticValues("FridaysEffectOnVacationsBalance").subscribe(function(t){e.FridaysEffectOnVacationsBalanceList=t,e._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance=e.FridaysEffectOnVacationsBalanceList.filter(function(e){return 1==e.isdefaultselection})[0].id,e.cd.markForCheck(),e._employeesService.GetStaticValues("OfficialHolidaysEffectOnVacationDues").subscribe(function(t){e.OfficialHolidaysEffectOnVacationDuesList=t,e._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues=e.OfficialHolidaysEffectOnVacationDuesList.filter(function(e){return 1==e.isdefaultselection})[0].id,e.cd.markForCheck(),e.GetData()})})})}},{key:"GetEmployeeVacationTypeCountServicePeriod",value:function(){var e=this,t=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].timestaken,n=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].timestakentype;null!=t&&null!=n&&1==n&&this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypeCountServicePeriod(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid).subscribe(function(n){n.vacationcount>=t&&w().fire({icon:"error",title:e.Erorr,text:e.NumberOfTimesAllocatedVacation,confirmButtonText:e.Approval}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&(e._employeeVacationDependingOnBalance.typeid=null)})})}},{key:"GetEmployeeVacationTypeCountYearly",value:function(){var e=this;if(this.isTimesTakenYearlyExceed=!1,null!=this._employeeVacationDependingOnBalance.typeid&&null!=this._employeeVacationDependingOnBalance.startdate&&this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var t=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].timestaken,n=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].timestakentype;if(null!=t&&null!=n&&2==n){var a=new Date(this.EmployeeWorkStartDate),i=new Date(a);do{if(a=new Date(i),i.setFullYear(i.getFullYear()+1),new Date(this._employeeVacationDependingOnBalance.startdate)>=a&&new Date(this._employeeVacationDependingOnBalance.startdate)<=i)break}while(new Date(this._employeeVacationDependingOnBalance.startdate)<a||new Date(this._employeeVacationDependingOnBalance.startdate)>i);this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypeCountYearly(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid,a.toISOString(),i.toISOString()).subscribe(function(n){e.isTimesTakenYearlyExceed=n.vacationcount>=t})}}}},{key:"GetEmployeeVacationTypePeriod",value:function(){var e=this;if(this.isAnnualUpperLimitExceed=!1,null!=this._employeeVacationDependingOnBalance.typeid&&null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.enddate&&this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var t=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].annualupperlimit,n=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].timestakentype,a=new Date(this._employeeVacationDependingOnBalance.enddate).getDate()-new Date(this._employeeVacationDependingOnBalance.startdate).getDate()+1;if(null!=t&&null!=n)if(2==n){var i=new Date(this.EmployeeWorkStartDate),l=new Date(i);do{if(i=new Date(l),l.setFullYear(l.getFullYear()+1),new Date(this._employeeVacationDependingOnBalance.startdate)>=i&&new Date(this._employeeVacationDependingOnBalance.startdate)<=l)break}while(new Date(this._employeeVacationDependingOnBalance.startdate)<i||new Date(this._employeeVacationDependingOnBalance.startdate)>l);this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypePeriodYearly(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid,i.toISOString(),l.toISOString()).subscribe(function(n){n.vacationperiod+a>=t?(e.isAnnualUpperLimitExceed=!0,e.AnnualUpperLimitAllowedPeriod=t-n.vacationperiod):e.isAnnualUpperLimitExceed=!1})}else 1==n&&this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypePeriodServicePeriod(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid).subscribe(function(n){n.vacationperiod+a>=t?(e.isAnnualUpperLimitExceed=!0,e.AnnualUpperLimitAllowedPeriod=t-n.vacationperiod):e.isAnnualUpperLimitExceed=!1})}}},{key:"GetData",value:function(){var e=this;0==this.employeeVacationID?this._employeeVacationsService.GetMaxCodeDependingOnBalance(this.subsidiaryID).subscribe(function(t){e._employeeVacationDependingOnBalance.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e._oldEmployeeVacationDependingOnBalance=JSON.stringify(e._employeeVacationDependingOnBalance),e.cd.markForCheck()}):this._employeeVacationsService.GetDependingOnBalanceById(this.employeeVacationID).subscribe(function(t){e._employeeVacationDependingOnBalance.id=t.id,e._employeeVacationDependingOnBalance.code=t.code,e._employeeVacationDependingOnBalance.employeeid=t.employeeid,e._employeeVacationDependingOnBalance.startdate=t.startdate,e._employeeVacationDependingOnBalance.enddate=t.enddate,e._employeeVacationDependingOnBalance.typeid=t.typeid,e._employeeVacationDependingOnBalance.methodofpayingdues=t.methodofpayingdues,e._employeeVacationDependingOnBalance.immediatepaymentinclusions=t.immediatepaymentinclusions,e._employeeVacationDependingOnBalance.workingdaysvaluebeforevacation=t.workingdaysvaluebeforevacation,e._employeeVacationDependingOnBalance.vacationsbalancededucteddays=t.vacationsbalancededucteddays,e._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance=t.fridayseffectonvacationsbalance,e._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues=t.officialholidayseffectonvacationdues,e._employeeVacationDependingOnBalance.monthofduespayment=t.monthofduespayment,e._employeeVacationDependingOnBalance.referenceno=t.referenceno,e._employeeVacationDependingOnBalance.vacationreason=t.vacationreason,e._employeeVacationDependingOnBalance.phonenumberduringvacation=t.phonenumberduringvacation,e._employeeVacationDependingOnBalance.notes=t.notes,e._employeeVacationDependingOnBalance.classificationid=t.classificationid,e._employeeVacationDependingOnBalance.subsidaryid=t.subsidaryid,e._oldEmployeeVacationDependingOnBalance=JSON.stringify(e._employeeVacationDependingOnBalance),e.cd.markForCheck()})}},{key:"getDateDifferences",value:function(e,t,n){var a=new Date(t);a.setDate(a.getDate()-Math.ceil(n));var i=Math.round(Math.abs((a.getTime()-e.getTime())/864e5)),l=a.getFullYear()-e.getFullYear(),o=12*l+a.getMonth()-e.getMonth();l=Math.floor(o/12),a.getMonth()===e.getMonth()&&a.getDate()<e.getDate()&&l--;var r=Math.abs(o%12);a.getDate()<e.getDate()&&r--;var s=a.getDate()-e.getDate();if(s<0&&(s+=new Date(a.getFullYear(),a.getMonth(),0).getDate()),n>0){var c=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();i>c&&(i=c)}this.NetServicePeriodAtVacationStartDate="ar"==this.lang?l+" \u0633\u0646\u0629 \u0648 "+r+" \u0634\u0647\u0631 \u0648 "+s+" \u064a\u0648\u0645":l+" Year , "+r+" Month , "+s+" Day"}},{key:"CalculateNetServicePeriodAtVacationStartDate",value:function(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeVacationDependingOnBalance.startdate),this.EmployeeVacationSTPDaysSubtracted)}},{key:"validateMonthDuesPaymentDateRange",value:function(){if(this.isMonthDuesPaymentDateRangeExceed=!1,null!=this._employeeVacationDependingOnBalance.monthofduespayment&&null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.enddate){var e=new Date(this._employeeVacationDependingOnBalance.startdate);e.setMonth(new Date(this._employeeVacationDependingOnBalance.startdate).getMonth()-3),e.setDate(1),e.setHours(1);var t=new Date(this._employeeVacationDependingOnBalance.enddate);t.setMonth(new Date(this._employeeVacationDependingOnBalance.enddate).getMonth()+3),t.setDate(1),t.setHours(1);var n=new Date(this._employeeVacationDependingOnBalance.monthofduespayment);n.setHours(1),this.isMonthDuesPaymentDateRangeExceed=!(n>=e&&n<=t)}}},{key:"onVacationStartDateChange",value:function(){null==this.EmployeeVacationDependingOnBalanceDate?this.isVacationStartDateValid=!(this.EmployeeWorkStartDate>this._employeeVacationDependingOnBalance.startdate):this.isVacationStartDateValidWithLastDate=!(this.EmployeeVacationDependingOnBalanceDate>this._employeeVacationDependingOnBalance.startdate),this.onVacationEndDateChange(),this.CalculateNetServicePeriodAtVacationStartDate(),this.checkOnVacationEarnedAfterDate(),this.GetEmployeeVacationTypeCountYearly(),this.GetEmployeeVacationTypePeriod(),this.validateMonthDuesPaymentDateRange()}},{key:"onVacationEndDateChange",value:function(){this.isVacationEndDateValid=!(this._employeeVacationDependingOnBalance.enddate<this._employeeVacationDependingOnBalance.startdate),this.GetEmployeeVacationTypePeriod(),this.validateMonthDuesPaymentDateRange()}},{key:"onVacationTypeChange",value:function(){var e=this;if(this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var t=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].genderid,n=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].religionid;(null!==t&&t!==this.EmployeeGender||null!==n&&n!==this.EmployeeReligionId)&&w().fire({icon:"error",title:this.Erorr,text:this.PersonalDataNotComply,confirmButtonText:this.Approval}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&(e._employeeVacationDependingOnBalance.typeid=null)}),this.GetEmployeeVacationTypeCountServicePeriod()}this.checkOnVacationEarnedAfterDate(),this.GetEmployeeVacationTypeCountYearly(),this.GetEmployeeVacationTypePeriod(),this.ReasonIsMandatory=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].reasonismandatory,this.PhoneNumberIsMandatory=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].phonenumberismandatory}},{key:"checkOnVacationEarnedAfterDate",value:function(){var e=this;if(null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.typeid){var t=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].earnedafter,n=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].earnedaftertype;if(null!=t&&null!=n){var a=new Date(this.EmployeeWorkStartDate);1==n?a.setMonth(a.getMonth()+t):a.setDate(a.getDate()+t),this.isPeriodNotCompleted=a>new Date(this._employeeVacationDependingOnBalance.startdate)}}}},{key:"onMonthOfDuesPaymentChange",value:function(){this.isMonthOfDuesPaymentValid=!(this.EmployeeWorkStartDate>this._employeeVacationDependingOnBalance.monthofduespayment),this.validateMonthDuesPaymentDateRange()}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(){var e=this;this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.isVacationStartDateValid&&this.isVacationStartDateValidWithLastDate&&!this.isPeriodNotCompleted&&!this.isTimesTakenYearlyExceed&&!this.isAnnualUpperLimitExceed&&this.isVacationEndDateValid&&this.isMonthOfDuesPaymentValid&&!this.isMonthDuesPaymentDateRangeExceed&&(!this.ReasonIsMandatory||this._employeeVacationDependingOnBalance.vacationreason.length>=4&&this.ReasonIsMandatory)&&(!this.PhoneNumberIsMandatory||this._employeeVacationDependingOnBalance.phonenumberduringvacation.length>=4&&this.PhoneNumberIsMandatory)&&(this._employeeVacationDependingOnBalance.employeeid=this.employeeid,this._employeeVacationDependingOnBalance.subsidaryid=this.subsidiaryID,this._employeeVacationDependingOnBalance.id>0?this._employeeVacationsService.UpdateDependingOnBalance(this._employeeVacationDependingOnBalance).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}):this._employeeVacationsService.CreateDependingOnBalance(this._employeeVacationDependingOnBalance).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}),this.manuallySubmitted=!1)}},{key:"NotToMissData",value:function(e){return(0,Re.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._oldEmployeeVacationDependingOnBalance===JSON.stringify(this._employeeVacationDependingOnBalance)){e.next=5;break}return e.next=3,w().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});case 3:return t=e.sent,e.abrupt("return",!t.isConfirmed||1!=t.isConfirmed);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(D["\u0275\u0275directiveInject"](u.F0),D["\u0275\u0275directiveInject"](u.gz),D["\u0275\u0275directiveInject"](G.K),D["\u0275\u0275directiveInject"](y.sK),D["\u0275\u0275directiveInject"](D.ChangeDetectorRef),D["\u0275\u0275directiveInject"](R.e),D["\u0275\u0275directiveInject"](N._W),D["\u0275\u0275directiveInject"](T.m),D["\u0275\u0275directiveInject"](U.M),D["\u0275\u0275directiveInject"](Ge.C))},e.\u0275cmp=D["\u0275\u0275defineComponent"]({type:e,selectors:[["app-depending-on-balance-form"]],viewQuery:function(e,t){var n;(1&e&&D["\u0275\u0275viewQuery"](We,5),2&e)&&(D["\u0275\u0275queryRefresh"](n=D["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid",employeeVacationID:"employeeVacationID",annualVacationTypeId:"annualVacationTypeId",calculatingDuesDays:"calculatingDuesDays"},outputs:{parentGetData:"parentGetData"},decls:161,vars:149,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","TransactionNo",1,"col-form-label"],["type","text","name","TransactionNo","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","VacationStartDate",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","Date","id","VacationStartDate","name","VacationStartDate",1,"form-control",3,"required","ngModel","ngClass","ngModelChange","change"],["DateVacationStartDate","ngModel"],["style","color: red",4,"ngIf"],["id","VacationEndDate",1,"col-form-label"],["type","Date","id","VacationEndDate","name","VacationEndDate",1,"form-control",3,"required","ngModel","ngClass","ngModelChange","change"],["DateVacationEndDate","ngModel"],["id","NetServicePeriodAtVacationStartDate",1,"col-form-label"],["type","text","name","NetServicePeriodAtVacationStartDate","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["id","VacationType",1,"col-form-label"],["name","VacationType",1,"form-control",3,"ngModel","required","ngClass","ngModelChange","change"],["VacationTypeID","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","MethodPayingDues",1,"col-form-label"],["name","MethodPayingDues",1,"form-control",3,"ngModel","required","ngClass","ngModelChange","change"],["MethodPayingDuesID","ngModel"],["disabled","",3,"ngValue"],["id","ImmediatePaymentInclusions",1,"col-form-label"],[2,"color","blue","font-weight","bold"],["name","ImmediatePaymentInclusions",1,"form-control",3,"ngModel","ngClass","required","disabled","ngModelChange"],["ImmediatePaymentInclusionsID","ngModel"],["class","form-group",4,"ngIf"],["id","DaysDeductedFromVacationsBalance",1,"col-form-label"],["name","DaysDeductedFromVacationsBalance",1,"form-control",3,"ngModel","ngModelChange"],["id","EffectofFridaysonvacationperiod",1,"col-form-label"],["name","EffectofFridaysonvacationperiod",1,"form-control",3,"ngModel","ngModelChange"],["id","EffectOfficialHolidaysVacationDues",1,"col-form-label"],["name","EffectOfficialHolidaysVacationDues",1,"form-control",3,"ngModel","ngModelChange"],["id","MonthDuesPayment",1,"col-form-label"],["type","month","id","MonthDuesPayment","name","MonthDuesPayment",1,"form-control",3,"required","ngModel","ngClass","ngModelChange","change"],["MonthDuesPaymentDate","ngModel"],["id","ReferenceNo",1,"col-form-label"],["type","text","name","ReferenceNo",1,"form-control",3,"ngModel","ngModelChange"],["id","VacationReason",1,"col-form-label"],["type","text","name","VacationReason",1,"form-control",3,"ngModel","required","ngClass","ngModelChange"],["VacationReasonText","ngModel"],[4,"ngIf"],["id","PhoneNumberDuringVacation",1,"col-form-label"],["type","text","name","PhoneNumberDuringVacation","NumbersWithSpacialChars","",1,"form-control",3,"ngModel","required","ngClass","ngModelChange"],["PhoneNumberDuringVacationText","ngModel"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],[3,"value"],["id","ValueWorkingDaysBeforeVacation",1,"col-form-label"],["name","ValueWorkingDaysBeforeVacation",1,"form-control",3,"ngModel","ngClass","required","disabled","ngModelChange"],["ValueWorkingDaysBeforeVacationID","ngModel"]],template:function(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"section"),D["\u0275\u0275elementStart"](1,"form",0,1),D["\u0275\u0275elementStart"](3,"div",2),D["\u0275\u0275elementStart"](4,"div",3),D["\u0275\u0275elementStart"](5,"div",4),D["\u0275\u0275elementStart"](6,"label",5),D["\u0275\u0275text"](7),D["\u0275\u0275pipe"](8,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](9,"input",6),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.code=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](10,"div",3),D["\u0275\u0275elementStart"](11,"div",4),D["\u0275\u0275elementStart"](12,"label",7),D["\u0275\u0275text"](13),D["\u0275\u0275pipe"](14,"translate"),D["\u0275\u0275elementStart"](15,"span",8),D["\u0275\u0275text"](16,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](17,"input",9,10),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.startdate=e})("change",function(){return t.onVacationStartDateChange()}),D["\u0275\u0275pipe"](19,"date"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](20,$e,3,3,"span",11),D["\u0275\u0275template"](21,ze,3,3,"span",11),D["\u0275\u0275template"](22,qe,3,3,"span",11),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](23,"div",3),D["\u0275\u0275elementStart"](24,"div",4),D["\u0275\u0275elementStart"](25,"label",12),D["\u0275\u0275text"](26),D["\u0275\u0275pipe"](27,"translate"),D["\u0275\u0275elementStart"](28,"span",8),D["\u0275\u0275text"](29,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](30,"input",13,14),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.enddate=e})("change",function(){return t.onVacationEndDateChange()}),D["\u0275\u0275pipe"](32,"date"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](33,He,3,3,"span",11),D["\u0275\u0275template"](34,Ke,3,3,"span",11),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](35,"div",3),D["\u0275\u0275elementStart"](36,"div",4),D["\u0275\u0275elementStart"](37,"label",15),D["\u0275\u0275text"](38),D["\u0275\u0275pipe"](39,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](40,"input",16),D["\u0275\u0275listener"]("ngModelChange",function(e){return t.NetServicePeriodAtVacationStartDate=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](41,"div",2),D["\u0275\u0275elementStart"](42,"div",3),D["\u0275\u0275elementStart"](43,"div",4),D["\u0275\u0275elementStart"](44,"label",17),D["\u0275\u0275text"](45),D["\u0275\u0275pipe"](46,"translate"),D["\u0275\u0275elementStart"](47,"span",8),D["\u0275\u0275text"](48,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](49,"select",18,19),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.typeid=e})("change",function(){return t.onVacationTypeChange()}),D["\u0275\u0275elementStart"](51,"option",20),D["\u0275\u0275text"](52),D["\u0275\u0275pipe"](53,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](54,Xe,3,3,"option",21),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](55,Ze,3,3,"span",11),D["\u0275\u0275template"](56,et,3,3,"span",11),D["\u0275\u0275template"](57,tt,3,3,"span",11),D["\u0275\u0275template"](58,at,3,6,"span",11),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](59,"div",3),D["\u0275\u0275elementStart"](60,"div",4),D["\u0275\u0275elementStart"](61,"label",22),D["\u0275\u0275text"](62),D["\u0275\u0275pipe"](63,"translate"),D["\u0275\u0275elementStart"](64,"span",8),D["\u0275\u0275text"](65,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](66,"select",23,24),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.methodofpayingdues=e})("change",function(){return t._employeeVacationDependingOnBalance.immediatepaymentinclusions=null,t._employeeVacationDependingOnBalance.workingdaysvaluebeforevacation=null}),D["\u0275\u0275elementStart"](68,"option",25),D["\u0275\u0275text"](69),D["\u0275\u0275pipe"](70,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](71,ot,3,3,"option",21),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](72,rt,3,3,"span",11),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](73,"div",3),D["\u0275\u0275elementStart"](74,"div",4),D["\u0275\u0275elementStart"](75,"label",26),D["\u0275\u0275text"](76),D["\u0275\u0275pipe"](77,"translate"),D["\u0275\u0275elementStart"](78,"span",27),D["\u0275\u0275text"](79,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](80,"select",28,29),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.immediatepaymentinclusions=e}),D["\u0275\u0275elementStart"](82,"option",25),D["\u0275\u0275text"](83),D["\u0275\u0275pipe"](84,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](85,dt,3,3,"option",21),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](86,pt,3,3,"span",11),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](87,"div",3),D["\u0275\u0275template"](88,vt,13,16,"div",30),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](89,"div",2),D["\u0275\u0275elementStart"](90,"div",3),D["\u0275\u0275elementStart"](91,"div",4),D["\u0275\u0275elementStart"](92,"label",31),D["\u0275\u0275text"](93),D["\u0275\u0275pipe"](94,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](95,"select",32),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.vacationsbalancededucteddays=e}),D["\u0275\u0275template"](96,Dt,3,3,"option",21),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](97,"div",3),D["\u0275\u0275elementStart"](98,"div",4),D["\u0275\u0275elementStart"](99,"label",33),D["\u0275\u0275text"](100),D["\u0275\u0275pipe"](101,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](102,"select",34),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance=e}),D["\u0275\u0275template"](103,Vt,3,3,"option",21),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](104,"div",3),D["\u0275\u0275elementStart"](105,"div",4),D["\u0275\u0275elementStart"](106,"label",35),D["\u0275\u0275text"](107),D["\u0275\u0275pipe"](108,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](109,"select",36),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues=e}),D["\u0275\u0275template"](110,Ct,3,3,"option",21),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](111,"div",3),D["\u0275\u0275elementStart"](112,"div",4),D["\u0275\u0275elementStart"](113,"label",37),D["\u0275\u0275text"](114),D["\u0275\u0275pipe"](115,"translate"),D["\u0275\u0275elementStart"](116,"span",8),D["\u0275\u0275text"](117,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](118,"input",38,39),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.monthofduespayment=e})("change",function(){return t.onMonthOfDuesPaymentChange()}),D["\u0275\u0275pipe"](120,"date"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](121,Bt,3,3,"span",11),D["\u0275\u0275template"](122,Ot,3,3,"span",11),D["\u0275\u0275template"](123,_t,3,3,"span",11),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](124,"div",2),D["\u0275\u0275elementStart"](125,"div",3),D["\u0275\u0275elementStart"](126,"div",4),D["\u0275\u0275elementStart"](127,"label",40),D["\u0275\u0275text"](128),D["\u0275\u0275pipe"](129,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](130,"input",41),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.referenceno=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](131,"div",3),D["\u0275\u0275elementStart"](132,"div",4),D["\u0275\u0275elementStart"](133,"label",42),D["\u0275\u0275text"](134),D["\u0275\u0275pipe"](135,"translate"),D["\u0275\u0275elementStart"](136,"span",27),D["\u0275\u0275text"](137,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](138,"input",43,44),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.vacationreason=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](140,kt,3,3,"span",11),D["\u0275\u0275template"](141,Mt,1,0,"br",45),D["\u0275\u0275template"](142,Pt,3,3,"span",11),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](143,"div",3),D["\u0275\u0275elementStart"](144,"div",4),D["\u0275\u0275elementStart"](145,"label",46),D["\u0275\u0275text"](146),D["\u0275\u0275pipe"](147,"translate"),D["\u0275\u0275elementStart"](148,"span",27),D["\u0275\u0275text"](149,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](150,"input",47,48),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.phonenumberduringvacation=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](152,wt,3,3,"span",11),D["\u0275\u0275template"](153,Tt,1,0,"br",45),D["\u0275\u0275template"](154,Nt,3,3,"span",11),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](155,"div",3),D["\u0275\u0275elementStart"](156,"div",4),D["\u0275\u0275elementStart"](157,"label",49),D["\u0275\u0275text"](158),D["\u0275\u0275pipe"](159,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](160,"input",50),D["\u0275\u0275listener"]("ngModelChange",function(e){return t._employeeVacationDependingOnBalance.notes=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275reference"](18),a=D["\u0275\u0275reference"](31),i=D["\u0275\u0275reference"](50),l=D["\u0275\u0275reference"](67),o=D["\u0275\u0275reference"](81),r=D["\u0275\u0275reference"](119),s=D["\u0275\u0275reference"](139),c=D["\u0275\u0275reference"](151);D["\u0275\u0275advance"](7),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](8,80,"TransactionNo")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.code),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](14,82,"VacationStartDate")," "),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("required",!0)("ngModel",D["\u0275\u0275pipeBind2"](19,84,t._employeeVacationDependingOnBalance.startdate,"yyyy-MM-dd"))("ngClass",D["\u0275\u0275pureFunction2"](125,ft,n.invalid&&t.manuallySubmitted||!t.isVacationStartDateValid||t.isPeriodNotCompleted||t.isTimesTakenYearlyExceed||t.isAnnualUpperLimitExceed||!t.isVacationStartDateValidWithLastDate,n.valid&&t.manuallySubmitted&&t.isVacationStartDateValid&&!t.isPeriodNotCompleted&&!t.isTimesTakenYearlyExceed&&!t.isAnnualUpperLimitExceed&&t.isVacationStartDateValidWithLastDate)),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngIf",n.invalid&&t.manuallySubmitted),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!t.isVacationStartDateValid),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!t.isVacationStartDateValidWithLastDate),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](27,87,"VacationEndDate")," "),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("required",!0)("ngModel",D["\u0275\u0275pipeBind2"](32,89,t._employeeVacationDependingOnBalance.enddate,"yyyy-MM-dd"))("ngClass",D["\u0275\u0275pureFunction2"](128,ft,a.invalid&&t.manuallySubmitted||!t.isVacationEndDateValid||t.isAnnualUpperLimitExceed,a.valid&&t.manuallySubmitted&&t.isVacationEndDateValid&&!t.isAnnualUpperLimitExceed)),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngIf",a.invalid&&t.manuallySubmitted),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!t.isVacationEndDateValid),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](39,92,"NetServicePeriodAtVacationStartDate")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",t.NetServicePeriodAtVacationStartDate),D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](46,94,"VacationType")),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.typeid)("required",!0)("ngClass",D["\u0275\u0275pureFunction2"](131,ft,i.invalid&&t.manuallySubmitted||t.isPeriodNotCompleted||t.isTimesTakenYearlyExceed||t.isAnnualUpperLimitExceed,i.valid&&t.manuallySubmitted&&!t.isPeriodNotCompleted&&!t.isTimesTakenYearlyExceed&&!t.isAnnualUpperLimitExceed)),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngValue",null),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](53,96,"Select")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngForOf",t.VactionTypeList),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",i.invalid&&t.manuallySubmitted),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.isPeriodNotCompleted),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.isTimesTakenYearlyExceed),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.isAnnualUpperLimitExceed),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](63,98,"MethodPayingDues")),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.methodofpayingdues)("required",!0)("ngClass",D["\u0275\u0275pureFunction2"](134,ft,l.invalid&&t.manuallySubmitted,l.valid&&t.manuallySubmitted)),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngValue",null),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](70,100,"Select")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngForOf",t.MethodOfPayingDuesList),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",l.invalid&&t.manuallySubmitted),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](77,102,"ImmediatePaymentInclusions")),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.immediatepaymentinclusions)("ngClass",D["\u0275\u0275pureFunction2"](137,ft,o.invalid&&t.manuallySubmitted,o.valid&&t.manuallySubmitted))("required",1==t._employeeVacationDependingOnBalance.methodofpayingdues)("disabled",1!=t._employeeVacationDependingOnBalance.methodofpayingdues),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngValue",null),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](84,104,"Select")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngForOf",t.ImmediatePaymentInclusionsList),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",o.invalid&&t.manuallySubmitted),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",!t.calculatingDuesDays),D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](94,106,"DaysDeductedFromVacationsBalance")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.vacationsbalancededucteddays),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngForOf",t.VacationsBalanceDeductedDaysList),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](101,108,"EffectofFridaysonvacationperiod")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngForOf",t.FridaysEffectOnVacationsBalanceList),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](108,110,"EffectOfficialHolidaysVacationDues")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngForOf",t.OfficialHolidaysEffectOnVacationDuesList),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](115,112,"MonthDuesPayment"),""),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("required",!0)("ngModel",D["\u0275\u0275pipeBind2"](120,114,t._employeeVacationDependingOnBalance.monthofduespayment,"yyyy-MM"))("ngClass",D["\u0275\u0275pureFunction2"](140,ft,r.invalid&&t.manuallySubmitted||!t.isMonthOfDuesPaymentValid||t.isMonthDuesPaymentDateRangeExceed,r.valid&&t.manuallySubmitted&&t.isMonthOfDuesPaymentValid&&!t.isMonthDuesPaymentDateRangeExceed)),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngIf",r.invalid&&t.manuallySubmitted),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!t.isMonthOfDuesPaymentValid),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.isMonthDuesPaymentDateRangeExceed),D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](129,117,"ReferenceNo")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.referenceno),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](135,119,"VacationReason")),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.vacationreason)("required",t.ReasonIsMandatory)("ngClass",D["\u0275\u0275pureFunction2"](143,ft,s.invalid&&t.manuallySubmitted||t._employeeVacationDependingOnBalance.vacationreason.length<4&&t.manuallySubmitted&&t.ReasonIsMandatory,s.valid&&t.manuallySubmitted&&(!t.ReasonIsMandatory||t._employeeVacationDependingOnBalance.vacationreason.length>=4&&t.manuallySubmitted&&t.ReasonIsMandatory))),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",s.invalid&&t.manuallySubmitted),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",s.invalid&&t.manuallySubmitted),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t._employeeVacationDependingOnBalance.vacationreason.length<4&&t.manuallySubmitted&&t.ReasonIsMandatory),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](147,121,"PhoneNumberDuringVacation")),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.phonenumberduringvacation)("required",t.PhoneNumberIsMandatory)("ngClass",D["\u0275\u0275pureFunction2"](146,ft,c.invalid&&t.manuallySubmitted||t._employeeVacationDependingOnBalance.phonenumberduringvacation.length<8&&t.manuallySubmitted&&t.PhoneNumberIsMandatory,c.valid&&t.manuallySubmitted&&(!t.PhoneNumberIsMandatory||t._employeeVacationDependingOnBalance.phonenumberduringvacation.length>=4&&t.manuallySubmitted&&t.PhoneNumberIsMandatory))),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",c.invalid&&t.manuallySubmitted),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",c.invalid&&t.manuallySubmitted),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t._employeeVacationDependingOnBalance.phonenumberduringvacation.length<8&&t.manuallySubmitted&&t.PhoneNumberIsMandatory),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](159,123,"Notes")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",t._employeeVacationDependingOnBalance.notes)}},directives:[c._Y,c.JL,c.F,c.Fj,c.JJ,c.On,c.Q7,o.mk,o.O5,c.EJ,c.YN,c.Kr,o.sg,Ye.f],pipes:[y.X$,o.uU],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e}(),At=["VacationRForm"],Lt=function(){var e=function(){function e(t,a,i,l,o,r,s,c,d,p){var m=this;n(this,e),this.router=t,this.route=a,this._TranslateGlobalService=i,this.translate=l,this.cd=o,this._authService=r,this.toastr=s,this._generalService=c,this._employeesService=d,this._employeeVacationsService=p,this.subsidiaryID=0,this.checkname="",this.Yes="",this.No="",this.Cancel="",this.MissData="",this.DataSavedsuccessfully="",this.Erorr="",this.Approval="",this.PersonalDataNotComply="",this.NumberOfTimesAllocatedVacation="",this._employeeVacationDependingOnBalance=new je,this._oldEmployeeVacationDependingOnBalance="",this.VactionTypeList=[],this.MethodOfPayingDuesList=[],this.ImmediatePaymentInclusionsList=[],this.WorkingDaysValueBeforeVacationList=[],this.VacationsBalanceDeductedDaysList=[],this.FridaysEffectOnVacationsBalanceList=[],this.OfficialHolidaysEffectOnVacationDuesList=[],this.parentGetData=new D.EventEmitter,this.NetServicePeriodAtVacationStartDate="",this.manuallySubmitted=!1,this.EmployeeWorkStartDate=null,this.EmployeeVacationSTPDaysSubtracted=null,this.EmployeeReligionId=null,this.EmployeeGender=null,this.EmployeeVacationDependingOnBalanceDate=null,this.isVacationStartDateValid=!0,this.isVacationStartDateValidWithLastDate=!0,this.isVacationEndDateValid=!0,this.isPeriodNotCompleted=!1,this.isTimesTakenYearlyExceed=!1,this.ReasonIsMandatory=!1,this.PhoneNumberIsMandatory=!1,this.isAnnualUpperLimitExceed=!1,this.AnnualUpperLimitAllowedPeriod=0,this.isMonthOfDuesPaymentValid=!0,this.isMonthDuesPaymentDateRangeExceed=!1,this.subsidiaryID=this._generalService.SubsidiaryID,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){m.lang=e.lang,m.dir=e.dir,m.translate.use(e.lang),m.ngTransUnsubscribe=m.translate.get(["Cancel","checkname","MissData","savedChanges","Yes","No","DataSavedsuccessfully","Erorr","Approval","PersonalDataNotComply","NumberOfTimesAllocatedVacation"]).subscribe(function(e){m.Yes=e.Yes,m.No=e.No,m.Cancel=e.Cancel,m.checkname=e.checkname,m.MissData=e.MissData,m.SavedData=e.savedChanges,m.DataSavedsuccessfully=e.DataSavedsuccessfully,m.Erorr=e.Erorr,m.Approval=e.Approval,m.PersonalDataNotComply=e.PersonalDataNotComply,m.NumberOfTimesAllocatedVacation=e.NumberOfTimesAllocatedVacation})}),this.NetServicePeriodAtVacationStartDate="ar"==this.lang?" 0 \u0633\u0646\u0629 \u0648 0 \u0634\u0647\u0631 \u0648 0 \u064a\u0648\u0645":"0 Year , 0 Month , 0 Day"}return i(e,[{key:"ngOnInit",value:function(){this._employeeVacationDependingOnBalance.employeeid=this.employeeid,this._employeeVacationDependingOnBalance.id=this.employeeVacationID,this.GetVacationsBalanceDeductedDays(),this.GetEmployeeDataForValidation(),this.GetVactionTypes(),this.GetMethodOfPayingDues(),this.GetImmediatePaymentInclusions(),this.GetWorkingDaysValueBeforeVacations()}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this._employeeVacationsService.GetEmployeeDataForValidation(this.employeeid).subscribe(function(t){null!=t&&(null!=t.workstartdate&&(e.EmployeeWorkStartDate=t.workstartdate,e.EmployeeVacationSTPDaysSubtracted=t.vacationstpdayssubtracted,e.EmployeeReligionId=t.religionid,e.EmployeeGender=t.gender),null!=t.dependingonbalancedate&&(e.EmployeeVacationDependingOnBalanceDate=t.dependingonbalancedate))})}},{key:"GetVactionTypes",value:function(){var e=this;this._employeeVacationsService.GetVacationsTypesDependingOnBalanceForDropdown(this.subsidiaryID).subscribe(function(t){e.VactionTypeList=t,e.cd.markForCheck()})}},{key:"GetMethodOfPayingDues",value:function(){var e=this;this._employeesService.GetStaticValues("MethodOfPayingDues").subscribe(function(t){e.MethodOfPayingDuesList=t,e.cd.markForCheck()})}},{key:"GetImmediatePaymentInclusions",value:function(){var e=this;this._employeesService.GetStaticValues("ImmediatePaymentInclusions").subscribe(function(t){e.ImmediatePaymentInclusionsList=t,e.cd.markForCheck()})}},{key:"GetWorkingDaysValueBeforeVacations",value:function(){var e=this;this._employeesService.GetStaticValues("WorkingDaysValueBeforeVacation").subscribe(function(t){e.WorkingDaysValueBeforeVacationList=t,e.cd.markForCheck()})}},{key:"GetVacationsBalanceDeductedDays",value:function(){var e=this;this._employeesService.GetStaticValues("VacationsBalanceDeductedDays").subscribe(function(t){e.VacationsBalanceDeductedDaysList=t,e._employeeVacationDependingOnBalance.vacationsbalancededucteddays=e.VacationsBalanceDeductedDaysList.filter(function(e){return 1==e.isdefaultselection})[0].id,e.cd.markForCheck(),e._employeesService.GetStaticValues("FridaysEffectOnVacationsBalance").subscribe(function(t){e.FridaysEffectOnVacationsBalanceList=t,e._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance=e.FridaysEffectOnVacationsBalanceList.filter(function(e){return 1==e.isdefaultselection})[0].id,e.cd.markForCheck(),e._employeesService.GetStaticValues("OfficialHolidaysEffectOnVacationDues").subscribe(function(t){e.OfficialHolidaysEffectOnVacationDuesList=t,e._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues=e.OfficialHolidaysEffectOnVacationDuesList.filter(function(e){return 1==e.isdefaultselection})[0].id,e.cd.markForCheck(),e.GetData()})})})}},{key:"GetEmployeeVacationTypeCountServicePeriod",value:function(){var e=this,t=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].timestaken,n=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].timestakentype;null!=t&&null!=n&&1==n&&this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypeCountServicePeriod(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid).subscribe(function(n){n.vacationcount>=t&&w().fire({icon:"error",title:e.Erorr,text:e.NumberOfTimesAllocatedVacation,confirmButtonText:e.Approval}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&(e._employeeVacationDependingOnBalance.typeid=null)})})}},{key:"GetEmployeeVacationTypeCountYearly",value:function(){var e=this;if(this.isTimesTakenYearlyExceed=!1,null!=this._employeeVacationDependingOnBalance.typeid&&null!=this._employeeVacationDependingOnBalance.startdate&&this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var t=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].timestaken,n=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].timestakentype;if(null!=t&&null!=n&&2==n){var a=new Date(this.EmployeeWorkStartDate),i=new Date(a);do{if(a=new Date(i),i.setFullYear(i.getFullYear()+1),new Date(this._employeeVacationDependingOnBalance.startdate)>=a&&new Date(this._employeeVacationDependingOnBalance.startdate)<=i)break}while(new Date(this._employeeVacationDependingOnBalance.startdate)<a||new Date(this._employeeVacationDependingOnBalance.startdate)>i);this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypeCountYearly(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid,a.toISOString(),i.toISOString()).subscribe(function(n){e.isTimesTakenYearlyExceed=n.vacationcount>=t})}}}},{key:"GetEmployeeVacationTypePeriod",value:function(){var e=this;if(this.isAnnualUpperLimitExceed=!1,null!=this._employeeVacationDependingOnBalance.typeid&&null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.enddate&&this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var t=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].annualupperlimit,n=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].timestakentype,a=new Date(this._employeeVacationDependingOnBalance.enddate).getDate()-new Date(this._employeeVacationDependingOnBalance.startdate).getDate()+1;if(null!=t&&null!=n)if(2==n){var i=new Date(this.EmployeeWorkStartDate),l=new Date(i);do{if(i=new Date(l),l.setFullYear(l.getFullYear()+1),new Date(this._employeeVacationDependingOnBalance.startdate)>=i&&new Date(this._employeeVacationDependingOnBalance.startdate)<=l)break}while(new Date(this._employeeVacationDependingOnBalance.startdate)<i||new Date(this._employeeVacationDependingOnBalance.startdate)>l);this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypePeriodYearly(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid,i.toISOString(),l.toISOString()).subscribe(function(n){n.vacationperiod+a>=t?(e.isAnnualUpperLimitExceed=!0,e.AnnualUpperLimitAllowedPeriod=t-n.vacationperiod):e.isAnnualUpperLimitExceed=!1})}else 1==n&&this._employeeVacationsService.GetEmployeeVacationDependingOnBalanceTypePeriodServicePeriod(this.employeeid,this.subsidiaryID,this._employeeVacationDependingOnBalance.typeid).subscribe(function(n){n.vacationperiod+a>=t?(e.isAnnualUpperLimitExceed=!0,e.AnnualUpperLimitAllowedPeriod=t-n.vacationperiod):e.isAnnualUpperLimitExceed=!1})}}},{key:"GetData",value:function(){var e=this;0==this.employeeVacationID?this._employeeVacationsService.GetMaxCodeDependingOnBalance(this.subsidiaryID).subscribe(function(t){e._employeeVacationDependingOnBalance.code=t.length>0?(parseFloat(t[0].code)+1).toString():"1",e._oldEmployeeVacationDependingOnBalance=JSON.stringify(e._employeeVacationDependingOnBalance),e.cd.markForCheck()}):this._employeeVacationsService.GetDependingOnBalanceById(this.employeeVacationID).subscribe(function(t){e._employeeVacationDependingOnBalance.id=t.id,e._employeeVacationDependingOnBalance.code=t.code,e._employeeVacationDependingOnBalance.employeeid=t.employeeid,e._employeeVacationDependingOnBalance.startdate=t.startdate,e._employeeVacationDependingOnBalance.enddate=t.enddate,e._employeeVacationDependingOnBalance.typeid=t.typeid,e._employeeVacationDependingOnBalance.methodofpayingdues=t.methodofpayingdues,e._employeeVacationDependingOnBalance.immediatepaymentinclusions=t.immediatepaymentinclusions,e._employeeVacationDependingOnBalance.workingdaysvaluebeforevacation=t.workingdaysvaluebeforevacation,e._employeeVacationDependingOnBalance.vacationsbalancededucteddays=t.vacationsbalancededucteddays,e._employeeVacationDependingOnBalance.fridayseffectonvacationsbalance=t.fridayseffectonvacationsbalance,e._employeeVacationDependingOnBalance.officialholidayseffectonvacationdues=t.officialholidayseffectonvacationdues,e._employeeVacationDependingOnBalance.monthofduespayment=t.monthofduespayment,e._employeeVacationDependingOnBalance.referenceno=t.referenceno,e._employeeVacationDependingOnBalance.vacationreason=t.vacationreason,e._employeeVacationDependingOnBalance.phonenumberduringvacation=t.phonenumberduringvacation,e._employeeVacationDependingOnBalance.notes=t.notes,e._employeeVacationDependingOnBalance.classificationid=t.classificationid,e._employeeVacationDependingOnBalance.subsidaryid=t.subsidaryid,e._oldEmployeeVacationDependingOnBalance=JSON.stringify(e._employeeVacationDependingOnBalance),e.cd.markForCheck()})}},{key:"getDateDifferences",value:function(e,t,n){var a=new Date(t);a.setDate(a.getDate()-Math.ceil(n));var i=Math.round(Math.abs((a.getTime()-e.getTime())/864e5)),l=a.getFullYear()-e.getFullYear(),o=12*l+a.getMonth()-e.getMonth();l=Math.floor(o/12),a.getMonth()===e.getMonth()&&a.getDate()<e.getDate()&&l--;var r=Math.abs(o%12);a.getDate()<e.getDate()&&r--;var s=a.getDate()-e.getDate();if(s<0&&(s+=new Date(a.getFullYear(),a.getMonth(),0).getDate()),n>0){var c=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();i>c&&(i=c)}this.NetServicePeriodAtVacationStartDate="ar"==this.lang?l+" \u0633\u0646\u0629 \u0648 "+r+" \u0634\u0647\u0631 \u0648 "+s+" \u064a\u0648\u0645":l+" Year , "+r+" Month , "+s+" Day"}},{key:"CalculateNetServicePeriodAtVacationStartDate",value:function(){this.getDateDifferences(new Date(this.EmployeeWorkStartDate),new Date(this._employeeVacationDependingOnBalance.startdate),this.EmployeeVacationSTPDaysSubtracted)}},{key:"validateMonthDuesPaymentDateRange",value:function(){if(this.isMonthDuesPaymentDateRangeExceed=!1,null!=this._employeeVacationDependingOnBalance.monthofduespayment&&null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.enddate){var e=new Date(this._employeeVacationDependingOnBalance.startdate);e.setMonth(new Date(this._employeeVacationDependingOnBalance.startdate).getMonth()-3),e.setDate(1),e.setHours(1);var t=new Date(this._employeeVacationDependingOnBalance.enddate);t.setMonth(new Date(this._employeeVacationDependingOnBalance.enddate).getMonth()+3),t.setDate(1),t.setHours(1);var n=new Date(this._employeeVacationDependingOnBalance.monthofduespayment);n.setHours(1),this.isMonthDuesPaymentDateRangeExceed=!(n>=e&&n<=t)}}},{key:"onVacationStartDateChange",value:function(){null==this.EmployeeVacationDependingOnBalanceDate?this.isVacationStartDateValid=!(this.EmployeeWorkStartDate>this._employeeVacationDependingOnBalance.startdate):this.isVacationStartDateValidWithLastDate=!(this.EmployeeVacationDependingOnBalanceDate>this._employeeVacationDependingOnBalance.startdate),this.onVacationEndDateChange(),this.CalculateNetServicePeriodAtVacationStartDate(),this.checkOnVacationEarnedAfterDate(),this.GetEmployeeVacationTypeCountYearly(),this.GetEmployeeVacationTypePeriod(),this.validateMonthDuesPaymentDateRange()}},{key:"onVacationEndDateChange",value:function(){this.isVacationEndDateValid=!(this._employeeVacationDependingOnBalance.enddate<this._employeeVacationDependingOnBalance.startdate),this.GetEmployeeVacationTypePeriod(),this.validateMonthDuesPaymentDateRange()}},{key:"onVacationTypeChange",value:function(){var e=this;if(this._employeeVacationDependingOnBalance.typeid!=this.annualVacationTypeId){var t=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].genderid,n=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].religionid;(null!==t&&t!==this.EmployeeGender||null!==n&&n!==this.EmployeeReligionId)&&w().fire({icon:"error",title:this.Erorr,text:this.PersonalDataNotComply,confirmButtonText:this.Approval}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&(e._employeeVacationDependingOnBalance.typeid=null)}),this.GetEmployeeVacationTypeCountServicePeriod()}this.checkOnVacationEarnedAfterDate(),this.GetEmployeeVacationTypeCountYearly(),this.GetEmployeeVacationTypePeriod(),this.ReasonIsMandatory=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].reasonismandatory,this.PhoneNumberIsMandatory=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].phonenumberismandatory}},{key:"checkOnVacationEarnedAfterDate",value:function(){var e=this;if(null!=this._employeeVacationDependingOnBalance.startdate&&null!=this._employeeVacationDependingOnBalance.typeid){var t=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].earnedafter,n=this.VactionTypeList.filter(function(t){return t.id==e._employeeVacationDependingOnBalance.typeid})[0].earnedaftertype;if(null!=t&&null!=n){var a=new Date(this.EmployeeWorkStartDate);1==n?a.setMonth(a.getMonth()+t):a.setDate(a.getDate()+t),this.isPeriodNotCompleted=a>new Date(this._employeeVacationDependingOnBalance.startdate)}}}},{key:"onMonthOfDuesPaymentChange",value:function(){this.isMonthOfDuesPaymentValid=!(this.EmployeeWorkStartDate>this._employeeVacationDependingOnBalance.monthofduespayment),this.validateMonthDuesPaymentDateRange()}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}},{key:"onSave",value:function(){var e=this;this.manuallySubmitted=!0,this.VacationRForm.form.valid&&this.isVacationStartDateValid&&this.isVacationStartDateValidWithLastDate&&!this.isPeriodNotCompleted&&!this.isTimesTakenYearlyExceed&&!this.isAnnualUpperLimitExceed&&this.isVacationEndDateValid&&this.isMonthOfDuesPaymentValid&&!this.isMonthDuesPaymentDateRangeExceed&&(!this.ReasonIsMandatory||this._employeeVacationDependingOnBalance.vacationreason.length>=4&&this.ReasonIsMandatory)&&(!this.PhoneNumberIsMandatory||this._employeeVacationDependingOnBalance.phonenumberduringvacation.length>=4&&this.PhoneNumberIsMandatory)&&(this._employeeVacationDependingOnBalance.employeeid=this.employeeid,this._employeeVacationDependingOnBalance.subsidaryid=this.subsidiaryID,this._employeeVacationDependingOnBalance.id>0?this._employeeVacationsService.UpdateDependingOnBalance(this._employeeVacationDependingOnBalance).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}):this._employeeVacationsService.CreateDependingOnBalance(this._employeeVacationDependingOnBalance).subscribe(function(t){e.toastr.success(e.DataSavedsuccessfully),e.parentGetData.emit()}),this.manuallySubmitted=!1)}},{key:"NotToMissData",value:function(e){return(0,Re.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._oldEmployeeVacationDependingOnBalance===JSON.stringify(this._employeeVacationDependingOnBalance)){e.next=5;break}return e.next=3,w().fire({title:this.SavedData,text:this.MissData,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.Yes,cancelButtonText:this.No,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1});case 3:return t=e.sent,e.abrupt("return",!t.isConfirmed||1!=t.isConfirmed);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(D["\u0275\u0275directiveInject"](u.F0),D["\u0275\u0275directiveInject"](u.gz),D["\u0275\u0275directiveInject"](G.K),D["\u0275\u0275directiveInject"](y.sK),D["\u0275\u0275directiveInject"](D.ChangeDetectorRef),D["\u0275\u0275directiveInject"](R.e),D["\u0275\u0275directiveInject"](N._W),D["\u0275\u0275directiveInject"](T.m),D["\u0275\u0275directiveInject"](U.M),D["\u0275\u0275directiveInject"](Ge.C))},e.\u0275cmp=D["\u0275\u0275defineComponent"]({type:e,selectors:[["app-data-summary-form"]],viewQuery:function(e,t){var n;(1&e&&D["\u0275\u0275viewQuery"](At,5),2&e)&&(D["\u0275\u0275queryRefresh"](n=D["\u0275\u0275loadQuery"]())&&(t.VacationRForm=n.first))},inputs:{employeeid:"employeeid",employeeVacationID:"employeeVacationID",annualVacationTypeId:"annualVacationTypeId",calculatingDuesDays:"calculatingDuesDays"},outputs:{parentGetData:"parentGetData"},decls:109,vars:48,consts:[["method","POST","role","form"],["VacationRForm","ngForm"],[1,"row",2,"background-color","aliceblue"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","BalanceDue",1,"col-form-label"],["type","text","name","BalanceDue","disabled","",1,"form-control"],["id","ActualVacationPeriod",1,"col-form-label"],["type","text","name","ActualVacationPeriod","disabled","",1,"form-control"],["id","Fridays",1,"col-form-label"],["type","text","name","Fridays","disabled","",1,"form-control"],["id","OfficialHolidays",1,"col-form-label"],["type","text","name","OfficialHolidays","disabled","",1,"form-control"],["id","NetVacationDays",1,"col-form-label"],["type","text","name","NetVacationDays","disabled","",1,"form-control"],["id","DeductedFromBalance",1,"col-form-label"],["type","text","name","DeductedFromBalance","disabled","",1,"form-control"],["id","DaysWithoutPay",1,"col-form-label"],["type","text","name","DaysWithoutPay","disabled","",1,"form-control"],["id","RemainingBalance",1,"col-form-label"],["type","text","name","RemainingBalance","disabled","",1,"form-control"],["id","GrantDaysNonDeductible",1,"col-form-label"],["type","text","name","GrantDaysNonDeductible","disabled","",1,"form-control"],["id","WorkdaysBeforeLeave",1,"col-form-label"],["type","text","name","WorkdaysBeforeLeave","disabled","",1,"form-control"],["id","PaidPeriodUntil",1,"col-form-label"],["type","text","name","PaidPeriodUntil","disabled","",1,"form-control"],["id","SalaryAndAllowances",1,"col-form-label"],["type","text","name","SalaryAndAllowances","disabled","",1,"form-control"],["id","NetReceivable",1,"col-form-label"],["type","text","name","NetReceivable","disabled","",1,"form-control"],["id","ReturnStatus",1,"col-form-label"],["type","text","name","ReturnStatus","disabled","",1,"form-control"],["id","Plannedenddate",1,"col-form-label"],["type","text","name","Plannedenddate","disabled","",1,"form-control"],["id","ReturnDaysDifference",1,"col-form-label"],["type","text","name","ReturnDaysDifference","disabled","",1,"form-control"]],template:function(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"section"),D["\u0275\u0275elementStart"](1,"form",0,1),D["\u0275\u0275elementStart"](3,"div",2),D["\u0275\u0275elementStart"](4,"div",3),D["\u0275\u0275elementStart"](5,"div",4),D["\u0275\u0275elementStart"](6,"div",5),D["\u0275\u0275elementStart"](7,"div",6),D["\u0275\u0275elementStart"](8,"label",7),D["\u0275\u0275text"](9),D["\u0275\u0275pipe"](10,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](11,"input",8),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](12,"div",5),D["\u0275\u0275elementStart"](13,"div",6),D["\u0275\u0275elementStart"](14,"label",9),D["\u0275\u0275text"](15),D["\u0275\u0275pipe"](16,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](17,"input",10),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](18,"div",5),D["\u0275\u0275elementStart"](19,"div",6),D["\u0275\u0275elementStart"](20,"label",11),D["\u0275\u0275text"](21),D["\u0275\u0275pipe"](22,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](23,"input",12),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](24,"div",5),D["\u0275\u0275elementStart"](25,"div",6),D["\u0275\u0275elementStart"](26,"label",13),D["\u0275\u0275text"](27),D["\u0275\u0275pipe"](28,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](29,"input",14),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](30,"div",3),D["\u0275\u0275elementStart"](31,"div",4),D["\u0275\u0275elementStart"](32,"div",5),D["\u0275\u0275elementStart"](33,"div",6),D["\u0275\u0275elementStart"](34,"label",15),D["\u0275\u0275text"](35),D["\u0275\u0275pipe"](36,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](37,"input",16),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](38,"div",5),D["\u0275\u0275elementStart"](39,"div",6),D["\u0275\u0275elementStart"](40,"label",17),D["\u0275\u0275text"](41),D["\u0275\u0275pipe"](42,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](43,"input",18),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](44,"div",5),D["\u0275\u0275elementStart"](45,"div",6),D["\u0275\u0275elementStart"](46,"label",19),D["\u0275\u0275text"](47),D["\u0275\u0275pipe"](48,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](49,"input",20),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](50,"div",5),D["\u0275\u0275elementStart"](51,"div",6),D["\u0275\u0275elementStart"](52,"label",21),D["\u0275\u0275text"](53),D["\u0275\u0275pipe"](54,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](55,"input",22),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](56,"div",2),D["\u0275\u0275elementStart"](57,"div",3),D["\u0275\u0275elementStart"](58,"div",4),D["\u0275\u0275elementStart"](59,"div",5),D["\u0275\u0275elementStart"](60,"div",6),D["\u0275\u0275elementStart"](61,"label",23),D["\u0275\u0275text"](62),D["\u0275\u0275pipe"](63,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](64,"input",24),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](65,"div",5),D["\u0275\u0275elementStart"](66,"div",6),D["\u0275\u0275elementStart"](67,"label",25),D["\u0275\u0275text"](68),D["\u0275\u0275pipe"](69,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](70,"input",26),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](71,"div",5),D["\u0275\u0275elementStart"](72,"div",6),D["\u0275\u0275elementStart"](73,"label",27),D["\u0275\u0275text"](74),D["\u0275\u0275pipe"](75,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](76,"input",28),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](77,"div",5),D["\u0275\u0275elementStart"](78,"div",6),D["\u0275\u0275elementStart"](79,"label",29),D["\u0275\u0275text"](80),D["\u0275\u0275pipe"](81,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](82,"input",30),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](83,"div",3),D["\u0275\u0275elementStart"](84,"div",4),D["\u0275\u0275elementStart"](85,"div",5),D["\u0275\u0275elementStart"](86,"div",6),D["\u0275\u0275elementStart"](87,"label",31),D["\u0275\u0275text"](88),D["\u0275\u0275pipe"](89,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](90,"input",32),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](91,"div",5),D["\u0275\u0275elementStart"](92,"div",6),D["\u0275\u0275elementStart"](93,"label",33),D["\u0275\u0275text"](94),D["\u0275\u0275pipe"](95,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](96,"input",34),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](97,"div",5),D["\u0275\u0275elementStart"](98,"div",6),D["\u0275\u0275elementStart"](99,"label",35),D["\u0275\u0275text"](100),D["\u0275\u0275pipe"](101,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](102,"input",36),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](103,"div",5),D["\u0275\u0275elementStart"](104,"div",6),D["\u0275\u0275elementStart"](105,"label",37),D["\u0275\u0275text"](106),D["\u0275\u0275pipe"](107,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](108,"input",38),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](9),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](10,16,"BalanceDue")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](16,18,"ActualVacationPeriod")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](22,20,"Fridays")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](28,22,"OfficialHolidays")),D["\u0275\u0275advance"](8),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](36,24,"NetVacationDays")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](42,26,"DeductedFromBalance")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](48,28,"DaysWithoutPay")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](54,30,"RemainingBalance")),D["\u0275\u0275advance"](9),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](63,32,"GrantDaysNonDeductible")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](69,34,"WorkdaysBeforeLeave")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](75,36,"PaidPeriodUntil")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](81,38,"SalaryAndAllowances")),D["\u0275\u0275advance"](8),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](89,40,"NetReceivable")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](95,42,"ReturnStatus")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](101,44,"Plannedenddate")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](107,46,"ReturnDaysDifference")))},directives:[c._Y,c.JL,c.F],pipes:[y.X$],styles:[".invalid-data[_ngcontent-%COMP%]{border:2px solid red}"]}),e}(),Rt=["dependingOnBalance"];function Gt(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"div",2),D["\u0275\u0275elementStart"](1,"h1"),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Ut(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"div",2),D["\u0275\u0275elementStart"](1,"h1"),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,1,"NecessarySettingsMissing")," "))}function jt(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function Yt(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Wt(e,t){if(1&e&&(D["\u0275\u0275template"](0,jt,2,1,"div",1),D["\u0275\u0275template"](1,Yt,2,1,"div",1)),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275property"]("ngIf","ar"==n.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function $t(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"button",21),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).OnSave()}),D["\u0275\u0275element"](1,"i",22),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"]()}2&e&&(D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,1,"Save")," "))}function zt(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"button",23),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).onAddClick()}),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()}2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"Add")," "))}function qt(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"button",24),D["\u0275\u0275listener"]("click",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).onDeleteClick()}),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()}2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"Delete")," "))}function Ht(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"button",25),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"Print")," "))}var Kt=function(e,t){return{"invalid-data":e,"valid-data":t}};function Jt(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"section"),D["\u0275\u0275elementStart"](1,"div",3),D["\u0275\u0275elementStart"](2,"div",4),D["\u0275\u0275elementStart"](3,"div",5),D["\u0275\u0275elementStart"](4,"h6",6),D["\u0275\u0275text"](5),D["\u0275\u0275pipe"](6,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](7,"div",7),D["\u0275\u0275elementStart"](8,"div",8),D["\u0275\u0275elementStart"](9,"div",9),D["\u0275\u0275elementStart"](10,"div",10),D["\u0275\u0275elementStart"](11,"label",11),D["\u0275\u0275text"](12),D["\u0275\u0275pipe"](13,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](14,"p-autoComplete",12,13),D["\u0275\u0275listener"]("completeMethod",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().onCompleteEmployeeAuto(e)})("onFocus",function(e){D["\u0275\u0275restoreView"](n);var t=D["\u0275\u0275reference"](15);return D["\u0275\u0275nextContext"]().onFocusInAutoEmployeeComplete(e),t.show()})("onSelect",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().onSelectEmployeeAuto(e)})("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().selectedEmployee=e}),D["\u0275\u0275template"](16,Wt,2,2,"ng-template",14),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](17,"div",15),D["\u0275\u0275elementStart"](18,"div",16),D["\u0275\u0275template"](19,$t,4,3,"button",17),D["\u0275\u0275template"](20,zt,3,3,"button",18),D["\u0275\u0275template"](21,qt,3,3,"button",19),D["\u0275\u0275template"](22,Ht,3,3,"button",20),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){var a=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](6,13,"VacationRegistration")," "),D["\u0275\u0275advance"](7),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](13,15,"employeeid")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",a.selectedEmployee)("suggestions",a.employeeList)("dataKey","ar"==a.lang?"name_ar":"name")("field","ar"==a.lang?"name_ar":"name")("ngClass",D["\u0275\u0275pureFunction2"](17,Kt,a.employeeTextboxInvalid,!a.employeeTextboxInvalid)),D["\u0275\u0275advance"](4),D["\u0275\u0275styleMap"]("ar"==a.lang?"text-align: left;":"text-align: right;"),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",a.checkRoleParms(425)||a.checkRoleParms(426)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",a.checkRoleParms(425)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",a.checkRoleParms(428)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",a.checkRoleParms(429))}}function Qt(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275elementStart"](1,"app-depending-on-balance-form",45,46),D["\u0275\u0275listener"]("parentGetData",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](4).GetData()}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){var a=D["\u0275\u0275nextContext"](4);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("employeeid",a.employeeid)("employeeVacationID",a.employeeVacationID)("annualVacationTypeId",a.annualVacationTypeId)("calculatingDuesDays",a.calculatingduesdays)}}function Xt(e,t){if(1&e&&D["\u0275\u0275template"](0,Qt,3,4,"div",1),2&e){var n=D["\u0275\u0275nextContext"](3);D["\u0275\u0275property"]("ngIf",(n.isAddMode||n.isEditMode)&&1==n.employeeVacationIDClassificationID)}}function Zt(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"li",42),D["\u0275\u0275elementStart"](1,"a",43),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](4,Xt,1,1,"ng-template",44),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275property"]("ngbNavItem",1),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](3,2,"DependingOnBalance")))}function en(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1," 2 "),D["\u0275\u0275elementEnd"]())}function tn(e,t){if(1&e&&D["\u0275\u0275template"](0,en,2,0,"div",1),2&e){var n=D["\u0275\u0275nextContext"](3);D["\u0275\u0275property"]("ngIf",(n.isAddMode||n.isEditMode)&&2==n.employeeVacationIDClassificationID)}}function nn(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"li",42),D["\u0275\u0275elementStart"](1,"a",43),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](4,tn,1,1,"ng-template",44),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275property"]("ngbNavItem",2),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](3,2,"Notaffectbalance")))}function an(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1," 4 "),D["\u0275\u0275elementEnd"]())}function ln(e,t){if(1&e&&D["\u0275\u0275template"](0,an,2,0,"div",1),2&e){var n=D["\u0275\u0275nextContext"](3);D["\u0275\u0275property"]("ngIf",(n.isAddMode||n.isEditMode)&&4==n.employeeVacationIDClassificationID)}}function on(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"li",42),D["\u0275\u0275elementStart"](1,"a",43),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](4,ln,1,1,"ng-template",44),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275property"]("ngbNavItem",4),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](3,2,"SickVacation")))}function rn(e,t){1&e&&D["\u0275\u0275element"](0,"app-data-summary-form")}function sn(e,t){1&e&&D["\u0275\u0275text"](0," 2 ")}function cn(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"button",51),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"RecalculateValues")," "))}function dn(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275elementStart"](1,"ul",27,48),D["\u0275\u0275listener"]("activeIdChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](3).subActiveId=e})("navChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](3).onNavSubChange(e)}),D["\u0275\u0275elementStart"](3,"li",42),D["\u0275\u0275elementStart"](4,"a",43),D["\u0275\u0275text"](5),D["\u0275\u0275pipe"](6,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](7,rn,1,0,"ng-template",44),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](8,"li",42),D["\u0275\u0275elementStart"](9,"a",43),D["\u0275\u0275text"](10),D["\u0275\u0275pipe"](11,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](12,sn,1,0,"ng-template",44),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](13,"li",49),D["\u0275\u0275template"](14,cn,3,3,"button",50),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](15,"div",30),D["\u0275\u0275elementEnd"]()}if(2&e){var a=D["\u0275\u0275reference"](2),i=D["\u0275\u0275nextContext"](3);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("activeId",i.subActiveId),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngbNavItem",1),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](6,10,"DataSummary")),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngbNavItem",2),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](11,12,"DuesDetails")),D["\u0275\u0275advance"](3),D["\u0275\u0275styleMap"]("ar"==i.lang?"text-align: left;":"text-align: right;"),D["\u0275\u0275property"]("ngbNavItem",3),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",i.checkRoleParms(427)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngbNavOutlet",a)}}function pn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div",47),D["\u0275\u0275template"](1,dn,16,14,"div",1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",n.isAddMode||n.isEditMode)}}function mn(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"div",52),D["\u0275\u0275elementStart"](1,"div",53),D["\u0275\u0275elementStart"](2,"div",8),D["\u0275\u0275elementStart"](3,"div",15),D["\u0275\u0275elementStart"](4,"div",10),D["\u0275\u0275elementStart"](5,"label",54),D["\u0275\u0275text"](6),D["\u0275\u0275pipe"](7,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](8,"input",55),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](9,"div",15),D["\u0275\u0275elementStart"](10,"div",10),D["\u0275\u0275elementStart"](11,"label",56),D["\u0275\u0275text"](12),D["\u0275\u0275pipe"](13,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](14,"input",57),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](15,"div",15),D["\u0275\u0275elementStart"](16,"div",10),D["\u0275\u0275elementStart"](17,"label",58),D["\u0275\u0275text"](18),D["\u0275\u0275pipe"](19,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](20,"input",59),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](21,"div",15),D["\u0275\u0275elementStart"](22,"div",10),D["\u0275\u0275elementStart"](23,"label",60),D["\u0275\u0275text"](24),D["\u0275\u0275pipe"](25,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](26,"input",61),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](27,"div",53),D["\u0275\u0275elementStart"](28,"div",8),D["\u0275\u0275elementStart"](29,"div",15),D["\u0275\u0275elementStart"](30,"div",10),D["\u0275\u0275elementStart"](31,"label",62),D["\u0275\u0275text"](32),D["\u0275\u0275pipe"](33,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](34,"input",63),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](35,"div",15),D["\u0275\u0275elementStart"](36,"div",10),D["\u0275\u0275elementStart"](37,"label",64),D["\u0275\u0275text"](38),D["\u0275\u0275pipe"](39,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](40,"input",65),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](41,"div",15),D["\u0275\u0275elementStart"](42,"div",10),D["\u0275\u0275elementStart"](43,"label",66),D["\u0275\u0275text"](44),D["\u0275\u0275pipe"](45,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](46,"input",67),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](47,"div",15),D["\u0275\u0275elementStart"](48,"div",10),D["\u0275\u0275elementStart"](49,"label",68),D["\u0275\u0275text"](50),D["\u0275\u0275pipe"](51,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](52,"input",69),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](7,8,"WorkStartDate")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](13,10,"VacationTo")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](19,12,"VacationAfterThat")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](25,14,"CurrentBasicSalary")),D["\u0275\u0275advance"](8),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](33,16,"LeaveRelatedAllowances")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](39,18,"StartDateOfLastLeave")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](45,20,"LastReturnDate")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](51,22,"DepletedBalance")))}function un(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",70),D["\u0275\u0275elementStart"](1,"div",71),D["\u0275\u0275elementStart"](2,"div",10),D["\u0275\u0275elementStart"](3,"input",72),D["\u0275\u0275listener"]("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).ViewVacationsAllClassifications=e})("change",function(){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).OnViewVacationsAllClassificationsChange()}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](4,"label",73),D["\u0275\u0275text"](5),D["\u0275\u0275pipe"](6,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){var a=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngModel",a.ViewVacationsAllClassifications),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](6,2,"ViewVacationsAllClassifications"))}}function yn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](null==n?null:n.classificationname_ar)}}function hn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](null==n?null:n.classificationname_en)}}function fn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](null==n?null:n.vacationstypename_ar)}}function vn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](null==n?null:n.vacationstypename_en)}}function gn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](null==n?null:n.methodofpayingdues_ar)}}function Sn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"span"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](null==n?null:n.methodofpayingdues_en)}}function Dn(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"span"),D["\u0275\u0275elementStart"](1,"button",75),D["\u0275\u0275listener"]("click",function(){D["\u0275\u0275restoreView"](n);var e=D["\u0275\u0275nextContext"]().$implicit;return D["\u0275\u0275nextContext"](2).onEditClick(e.id,e.classificationid,e.classificationrowno)}),D["\u0275\u0275element"](2,"i",76),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}}function bn(e,t){if(1&e&&(D["\u0275\u0275elementContainerStart"](0),D["\u0275\u0275elementStart"](1,"tr",74),D["\u0275\u0275elementStart"](2,"td",36),D["\u0275\u0275elementStart"](3,"div"),D["\u0275\u0275elementStart"](4,"span"),D["\u0275\u0275text"](5),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](6,"td"),D["\u0275\u0275elementStart"](7,"div"),D["\u0275\u0275template"](8,yn,2,1,"span",1),D["\u0275\u0275template"](9,hn,2,1,"span",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](10,"td"),D["\u0275\u0275elementStart"](11,"div"),D["\u0275\u0275template"](12,fn,2,1,"span",1),D["\u0275\u0275template"](13,vn,2,1,"span",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](14,"td"),D["\u0275\u0275elementStart"](15,"div"),D["\u0275\u0275elementStart"](16,"span"),D["\u0275\u0275text"](17),D["\u0275\u0275pipe"](18,"date"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](19,"td"),D["\u0275\u0275elementStart"](20,"div"),D["\u0275\u0275elementStart"](21,"span"),D["\u0275\u0275text"](22),D["\u0275\u0275pipe"](23,"date"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](24,"td"),D["\u0275\u0275elementStart"](25,"div"),D["\u0275\u0275element"](26,"span"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](27,"td"),D["\u0275\u0275elementStart"](28,"div"),D["\u0275\u0275element"](29,"span"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](30,"td",37),D["\u0275\u0275elementStart"](31,"div"),D["\u0275\u0275elementStart"](32,"span"),D["\u0275\u0275text"](33),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](34,"td",37),D["\u0275\u0275elementStart"](35,"div"),D["\u0275\u0275element"](36,"span"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](37,"td",38),D["\u0275\u0275elementStart"](38,"div"),D["\u0275\u0275element"](39,"span"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](40,"td",38),D["\u0275\u0275elementStart"](41,"div"),D["\u0275\u0275element"](42,"span"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](43,"td"),D["\u0275\u0275elementStart"](44,"div"),D["\u0275\u0275elementStart"](45,"div"),D["\u0275\u0275template"](46,gn,2,1,"span",1),D["\u0275\u0275template"](47,Sn,2,1,"span",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](48,"td",39),D["\u0275\u0275elementStart"](49,"div"),D["\u0275\u0275template"](50,Dn,3,0,"span",1),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit,a=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate"](null==n?null:n.rowno),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind2"](18,11,null==n?null:n.startdate,"dd/MM/yyyy")),D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind2"](23,14,null==n?null:n.enddate,"dd/MM/yyyy")),D["\u0275\u0275advance"](11),D["\u0275\u0275textInterpolate"](null==n?null:n.vacationperiod),D["\u0275\u0275advance"](13),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngIf",a.checkRoleParms(426))}}function xn(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"div",77),D["\u0275\u0275elementStart"](1,"ngb-pagination",78),D["\u0275\u0275listener"]("pageChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).PageNoChange(e)})("pageChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).PageNo=e}),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](2,"p"),D["\u0275\u0275text"](3),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](4,"select",79),D["\u0275\u0275listener"]("change",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).onPageSizeChange(e.target.value)})("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"](2).PageSize=e}),D["\u0275\u0275elementStart"](5,"option",80),D["\u0275\u0275text"](6,"10 items per page"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](7,"option",81),D["\u0275\u0275text"](8,"20 items per page"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](9,"option",82),D["\u0275\u0275text"](10,"50 items per page"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](11,"option",83),D["\u0275\u0275text"](12,"100 items per page"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](13,"br"),D["\u0275\u0275elementEnd"]()}if(2&e){var a=D["\u0275\u0275nextContext"](2);D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("collectionSize",a.totalCount)("page",a.PageNo)("pageSize",a.PageSize)("maxSize",5)("boundaryLinks",!0),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",a._generalService.TotalDetailsTextShow(a.PageNo,a.PageSize,a.totalCount,a.lang)," "),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngModel",a.PageSize)}}function Vn(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"section"),D["\u0275\u0275elementStart"](1,"div",26),D["\u0275\u0275elementStart"](2,"div",8),D["\u0275\u0275elementStart"](3,"ul",27,28),D["\u0275\u0275listener"]("activeIdChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().activeId=e})("navChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().onNavChange(e)}),D["\u0275\u0275template"](5,Zt,5,4,"li",29),D["\u0275\u0275template"](6,nn,5,4,"li",29),D["\u0275\u0275template"](7,on,5,4,"li",29),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](8,"div",30),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](9,pn,2,1,"div",31),D["\u0275\u0275elementStart"](10,"div",32),D["\u0275\u0275elementStart"](11,"div",5),D["\u0275\u0275elementStart"](12,"h6",6),D["\u0275\u0275text"](13),D["\u0275\u0275pipe"](14,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](15,mn,53,24,"div",33),D["\u0275\u0275template"](16,un,7,4,"div",34),D["\u0275\u0275elementStart"](17,"div"),D["\u0275\u0275elementStart"](18,"table",35),D["\u0275\u0275elementStart"](19,"thead"),D["\u0275\u0275elementStart"](20,"th",36),D["\u0275\u0275text"](21),D["\u0275\u0275pipe"](22,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](23,"th"),D["\u0275\u0275text"](24),D["\u0275\u0275pipe"](25,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](26,"th"),D["\u0275\u0275text"](27),D["\u0275\u0275pipe"](28,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](29,"th"),D["\u0275\u0275text"](30),D["\u0275\u0275pipe"](31,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](32,"th"),D["\u0275\u0275text"](33),D["\u0275\u0275pipe"](34,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](35,"th"),D["\u0275\u0275text"](36),D["\u0275\u0275pipe"](37,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](38,"th"),D["\u0275\u0275text"](39),D["\u0275\u0275pipe"](40,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](41,"th",37),D["\u0275\u0275text"](42),D["\u0275\u0275pipe"](43,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](44,"th",37),D["\u0275\u0275text"](45),D["\u0275\u0275pipe"](46,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](47,"th",38),D["\u0275\u0275text"](48),D["\u0275\u0275pipe"](49,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](50,"th",38),D["\u0275\u0275text"](51),D["\u0275\u0275pipe"](52,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](53,"th"),D["\u0275\u0275text"](54),D["\u0275\u0275pipe"](55,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](56,"th",39),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](57,"tbody"),D["\u0275\u0275template"](58,bn,51,17,"ng-container",40),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](59,xn,14,7,"div",41),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){var a=D["\u0275\u0275reference"](4),i=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("activeId",i.activeId),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",i.checkRoleParms(421)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",i.checkRoleParms(422)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",i.checkRoleParms(424)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngbNavOutlet",a),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",i.checkRoleParms(421)||i.checkRoleParms(422)||i.checkRoleParms(423)||i.checkRoleParms(424)),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](14,23,"EmployeeVacations")," "),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",i.employeeid>0),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",i.employeeid>0),D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](22,25,"SerialShort")),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](25,27,"VacationClassification")),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](28,29,"VacationType")),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](31,31,"StartDate")),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](34,33,"EndDate")),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](37,35,"ReturnDate")),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](40,37,"ReturnStatus")),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](43,39,"VacationPeriod")),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](46,41,"NetPeriod")),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](49,43,"Paiddays")),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](52,45,"DaysWithoutPay")),D["\u0275\u0275advance"](3),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](55,47,"MethodOfPayingDues")),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("ngForOf",i.EmployeeVacationsList),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",i.totalCount>0)}}var En=function(){var t=function(){function t(e,a,i,l,o,r,s,c,d,p,m,u,y){var h=this;n(this,t),this._generalService=e,this.router=a,this.route=i,this.toastr=l,this.cdr=o,this._printService=r,this._Excel=s,this._convertToPDF=c,this._authService=d,this._TranslateGlobalService=p,this.translate=m,this._employeesService=u,this._employeeVacationsService=y,this.totalCount=0,this.subsidaryid=0,this.ID=0,this.errormsg="",this.Cancel="",this.DataSavedsuccessfully="",this.ChooseEmployeeFirst="",this.ChooseVacationFirst="",this.EmploymentDataIncomplete="",this.VacationsAfterDateDelete="",this.ClassificationHasNotPermission="",this.NoDataToSave="",this.Yes="",this.No="",this.MissData="",this.swalDeleteTitle="",this.swalDetlateText="",this.swalDetlateConfirmButtonText="",this.toastrSuccessDelete="",this.search="",this.searchValue="",this.PageNo=1,this.PageSize=10,this.sortColumn="",this.sortDirection="asc",this._searchModel=new _.h,this._filterAttribute=new M.M,this.selectedEmployee={},this.previousSelectedEmployee={},this.employeeid=0,this.previousEmployeeID=0,this.employeeList=[],this.activeId=1,this.subActiveId=1,this.isEditMode=!1,this.isAddMode=!1,this.ViewVacationsAllClassifications=!0,this.employeeVacationID=0,this.employeeVacationIDClassificationID=0,this.employeeVacationIDClassificationRowNo=0,this.MissingSystemSettingData=!0,this.annualVacationTypeId=0,this.calculatingduesdays=!1,this.WorkStartDate=null,this.EmployeeVacationsList=[],this.employeeTextboxInvalid=!1,this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){h.lang=e.lang,h.dir=e.dir,h.translate.use(e.lang)}),this.ngTransUnsubscribe=this.translate.get(["Cancel","SaveMsg","checkname","DataSavedsuccessfully","NoDataToSave","No","MissData","savedChanges","Yes","swalDeleteTitle","swalDetlateText","swalDetlateConfirmButtonText","successMsg","ChooseEmployeeFirst","ChooseVacationFirst","EmploymentDataIncomplete","VacationsAfterDateDelete","ClassificationHasNotPermission"]).subscribe(function(e){h.DataSavedsuccessfully=e.DataSavedsuccessfully,h.NoDataToSave=e.NoDataToSave,h.Cancel=e.Cancel,h.SaveMsg=e.SaveMsg,h.errormsg=e.checkname,h.Yes=e.Yes,h.No=e.No,h.MissData=e.MissData,h.SavedData=e.savedChanges,h.swalDeleteTitle=e.swalDeleteTitle,h.swalDetlateText=e.swalDetlateText,h.swalDetlateConfirmButtonText=e.swalDetlateConfirmButtonText,h.toastrSuccessDelete=e.successMsg,h.ChooseEmployeeFirst=e.ChooseEmployeeFirst,h.ChooseVacationFirst=e.ChooseVacationFirst,h.EmploymentDataIncomplete=e.EmploymentDataIncomplete,h.VacationsAfterDateDelete=e.VacationsAfterDateDelete,h.ClassificationHasNotPermission=e.ClassificationHasNotPermission}),this.subsidaryid=this._generalService.SubsidiaryID,this.ngUnsubscribe=e.proadCastSubsidiaryID.subscribe(function(e){0==h.subsidaryid&&(h.subsidaryid=h._generalService.SubsidiaryID,h.cdr.markForCheck()),h.subsidaryid!=h._generalService.SubsidiaryID&&h.subsidaryid>0&&(h.subsidaryid=h._generalService.SubsidiaryID,h.cdr.markForCheck())}),this.GetSystemSettingDataForValidation()}return i(t,[{key:"GetSystemSettingDataForValidation",value:function(){var e=this;this._employeeVacationsService.GetSystemSettingDataForValidation(this.subsidaryid).subscribe(function(t){null!=t&&(t.annualvacationtypeid>0&&null!=t.datebeginningbalances&&(e.MissingSystemSettingData=!1,e.annualVacationTypeId=t.annualvacationtypeid),e.calculatingduesdays=null!=t.calculatingduesdays&&t.calculatingduesdays),e.cdr.markForCheck()})}},{key:"GetEmployeeDataForValidation",value:function(){var e=this;this.WorkStartDate=null,this._employeeVacationsService.GetEmployeeDataForValidation(this.employeeid).subscribe(function(t){null!=t&&null!=t.workstartdate&&(e.WorkStartDate=t.workstartdate)})}},{key:"onCompleteEmployeeAuto",value:function(t){var n,a=this;n=t.query?t.query.trim():"",this._employeesService.getHrEmployees(this.subsidaryid,n).subscribe(function(t){a.employeeList=[],a.employeeList=[].concat(e(a.employeeList),e(t)),a.cdr.markForCheck()})}},{key:"onFocusInAutoEmployeeComplete",value:function(e){var t=e.target.value;null!=t&&""!=t||this.onCompleteEmployeeAuto(e),this.onCompleteEmployeeAuto(e)}},{key:"onSelectEmployeeAuto",value:function(e){return(0,Re.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.employeeTextboxInvalid=!1,!this.dependingOnBalance){t.next=11;break}return t.next=4,this.dependingOnBalance.NotToMissData("Change Employee");case 4:if(!t.sent){t.next=8;break}this.DestroyDependingOnBalance(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData(),t.next=9;break;case 8:this.employeeid=this.previousEmployeeID,this.selectedEmployee=this.previousSelectedEmployee;case 9:t.next=12;break;case 11:this.DestroyDependingOnBalance(),this.employeeid=e.id,this.previousEmployeeID=e.id,this.previousSelectedEmployee=this.selectedEmployee,this.GetEmployeeDataForValidation(),this.GetData();case 12:case"end":return t.stop()}},t,this)}))}},{key:"onNavChange",value:function(e){return(0,Re.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!this.dependingOnBalance){t.next=9;break}return t.next=4,this.dependingOnBalance.NotToMissData("Change tab");case 4:if(t.t0=t.sent,!t.t0){t.next=7;break}this.activeId=e.nextId,this.GetData();case 7:t.next=10;break;case 9:this.activeId=e.nextId,this.GetData();case 10:case"end":return t.stop()}},t,this)}))}},{key:"onNavSubChange",value:function(e){3===e.nextId&&e.preventDefault()}},{key:"ngOnInit",value:function(){}},{key:"DestroyDependingOnBalance",value:function(){this.isAddMode=!1,this.isEditMode=!1}},{key:"onAddClick",value:function(){return(0,Re.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.dependingOnBalance){e.next=8;break}return e.next=3,this.dependingOnBalance.NotToMissData("Add click");case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.DestroyDependingOnBalance(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(function(){t.isAddMode=!0,t.isEditMode=!1,t.employeeVacationID=0,t.employeeVacationIDClassificationID=t.activeId,t.employeeVacationIDClassificationRowNo=0,t.cdr.markForCheck()},0));case 6:e.next=9;break;case 8:this.DestroyDependingOnBalance(),0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):null==this.WorkStartDate?(this.toastr.error(this.EmploymentDataIncomplete),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,setTimeout(function(){t.isAddMode=!0,t.isEditMode=!1,t.employeeVacationID=0,t.employeeVacationIDClassificationID=t.activeId,t.employeeVacationIDClassificationRowNo=0,t.cdr.markForCheck()},0));case 9:case"end":return e.stop()}},e,this)}))}},{key:"onEditClick",value:function(e,t,n){return(0,Re.mG)(this,void 0,void 0,regeneratorRuntime.mark(function a(){var i,l,o,r,s=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=this.checkRoleParms(421),l=this.checkRoleParms(422),o=this.checkRoleParms(423),r=this.checkRoleParms(424),!(1==t&&!i||2==t&&!l||3==t&&!o||4==t&&!r)){a.next=5;break}this.toastr.error(this.ClassificationHasNotPermission),a.next=14;break;case 5:if(!this.dependingOnBalance){a.next=13;break}return a.next=8,this.dependingOnBalance.NotToMissData("Edit click");case 8:if(a.t0=a.sent,!a.t0){a.next=11;break}this.DestroyDependingOnBalance(),setTimeout(function(){s.isAddMode=!1,s.isEditMode=!0,s.employeeVacationID=e,s.employeeVacationIDClassificationID=t,s.employeeVacationIDClassificationRowNo=n,s.activeId=t,s.cdr.markForCheck()},0);case 11:a.next=14;break;case 13:this.DestroyDependingOnBalance(),setTimeout(function(){s.isAddMode=!1,s.isEditMode=!0,s.employeeVacationID=e,s.employeeVacationIDClassificationID=t,s.employeeVacationIDClassificationRowNo=n,s.activeId=t,s.cdr.markForCheck()},0);case 14:case"end":return a.stop()}},a,this)}))}},{key:"onDeleteClick",value:function(){var e=this;0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):0==this.employeeVacationID?this.toastr.error(this.ChooseVacationFirst):1!=this.employeeVacationIDClassificationRowNo?this.toastr.error(this.VacationsAfterDateDelete):(this.employeeTextboxInvalid=!1,w().fire({title:this.swalDeleteTitle,text:this.swalDetlateText,icon:"warning",showCancelButton:!0,confirmButtonColor:"#2F8BE6",cancelButtonColor:"#F55252",confirmButtonText:this.swalDetlateConfirmButtonText,cancelButtonText:this.Cancel,customClass:{confirmButton:"btn btn-warning",cancelButton:"btn btn-danger ml-1"},buttonsStyling:!1}).then(function(t){t.isConfirmed&&1==t.isConfirmed&&e._employeeVacationsService.DeleteDependingOnBalance(e.employeeVacationID).subscribe(function(t){e.toastr.success(e.toastrSuccessDelete),e.isAddMode=!1,e.isEditMode=!1,e.employeeVacationID=0,e.employeeVacationIDClassificationID=e.activeId,e.employeeVacationIDClassificationRowNo=0,e.GetData()})}))}},{key:"PageNoChange",value:function(e){this.PageNo=e,this._filterAttribute.pageNo=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"onPageSizeChange",value:function(e){this.PageSize=e,this._filterAttribute.pageSize=e,Object.assign(this._searchModel,this._filterAttribute),this.GetData(),this._filterAttribute.totalCount=this.totalCount}},{key:"OnViewVacationsAllClassificationsChange",value:function(){this.GetData()}},{key:"GetData",value:function(){var e=this,t=0;0==this.ViewVacationsAllClassifications&&(t=this.activeId),this._employeeVacationsService.GetAllEmployeeVacationsBy(this._searchModel,this.subsidaryid,this.employeeid,t).subscribe(function(t){e.EmployeeVacationsList=t,e.cdr.markForCheck()}),this._employeeVacationsService.CountOfEmployeeVacationBy(this._searchModel,this.subsidaryid,this.employeeid,t).subscribe(function(t){e.totalCount=t.employees,e.cdr.markForCheck()})}},{key:"OnSave",value:function(){0==this.employeeid?(this.toastr.error(this.ChooseEmployeeFirst),this.employeeTextboxInvalid=!0):(this.employeeTextboxInvalid=!1,this.dependingOnBalance.onSave())}},{key:"OnPrint",value:function(){}},{key:"OnExcel",value:function(){}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}},{key:"ngOnDestroy",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(D["\u0275\u0275directiveInject"](T.m),D["\u0275\u0275directiveInject"](u.F0),D["\u0275\u0275directiveInject"](u.gz),D["\u0275\u0275directiveInject"](N._W),D["\u0275\u0275directiveInject"](D.ChangeDetectorRef),D["\u0275\u0275directiveInject"](F.$),D["\u0275\u0275directiveInject"](A.x),D["\u0275\u0275directiveInject"](L.z),D["\u0275\u0275directiveInject"](R.e),D["\u0275\u0275directiveInject"](G.K),D["\u0275\u0275directiveInject"](y.sK),D["\u0275\u0275directiveInject"](U.M),D["\u0275\u0275directiveInject"](Ge.C))},t.\u0275cmp=D["\u0275\u0275defineComponent"]({type:t,selectors:[["app-vacation-registration"]],viewQuery:function(e,t){var n;(1&e&&D["\u0275\u0275viewQuery"](Rt,5),2&e)&&(D["\u0275\u0275queryRefresh"](n=D["\u0275\u0275loadQuery"]())&&(t.dependingOnBalance=n.first))},features:[D["\u0275\u0275ProvidersFeature"]([])],decls:4,vars:4,consts:[["class","row","style","text-align: center",4,"ngIf"],[4,"ngIf"],[1,"row",2,"text-align","center"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","employeeid",1,"col-form-label"],["id","Employee","name","Employee",1,"inline-flex",3,"ngModel","suggestions","dataKey","field","ngClass","completeMethod","onFocus","onSelect","ngModelChange"],["autoEmployee",""],["pTemplate","item"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"col-lg-5","col-md-5","col-sm-12","mb-2","mb-md-0",2,"margin-top","30px"],["type","submit","class","btn btn-success mb-0 me-3 btn-md",3,"click",4,"ngIf"],["class","btn btn-success mb-0 me-3 btn-md",3,"click",4,"ngIf"],["class","btn btn-danger mb-0 me-3 ng-star-inserted",3,"click",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",4,"ngIf"],["type","submit",1,"btn","btn-success","mb-0","me-3","btn-md",3,"click"],[1,"ft-check-square","mr-1"],[1,"btn","btn-success","mb-0","me-3","btn-md",3,"click"],[1,"btn","btn-danger","mb-0","me-3","ng-star-inserted",3,"click"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted"],[1,"card"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],["style","margin-top: 20px","class","row",4,"ngIf"],[1,"card-header","p-0","mx-3","z-index-2",2,"margin-top","30px"],["class","row","style","\n        border: 1px ridge black;\n        width: 97.5%;\n        margin-top: 10px !important;\n        margin-right: 15px;\n        margin-left: 15px;\n        background-color: aliceblue;\n      ",4,"ngIf"],["class","row","style","\n        margin-right: 15px;\n        margin-left: 15px;\n        margin-bottom: 0px !important;\n      ",4,"ngIf"],[1,"mt-4","table",2,"table-layout","fixed","text-align","center","margin-top","0px !important"],[2,"width","4%"],[2,"width","6%"],[2,"width","7%"],[2,"width","12%"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between flex-wrap p-2 pagination-display-block",4,"ngIf"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"employeeid","employeeVacationID","annualVacationTypeId","calculatingDuesDays","parentGetData"],["dependingOnBalance",""],[1,"row",2,"margin-top","20px"],["navSub","ngbNav"],[1,"mr-auto",3,"ngbNavItem"],["ngbNavLink","","class","btn btn-primary mb-0 me-3 ng-star-inserted",4,"ngIf"],["ngbNavLink","",1,"btn","btn-primary","mb-0","me-3","ng-star-inserted"],[1,"row",2,"border","1px ridge black","width","97.5%","margin-top","10px !important","margin-right","15px","margin-left","15px","background-color","aliceblue"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0"],["id","WorkStartDate",1,"col-form-label"],["type","text","name","WorkStartDate","disabled","",1,"form-control"],["id","VacationTo",1,"col-form-label"],["type","text","name","VacationTo","disabled","",1,"form-control"],["id","VacationAfterThat",1,"col-form-label"],["type","text","name","VacationAfterThat","disabled","",1,"form-control"],["id","CurrentBasicSalary",1,"col-form-label"],["type","text","name","CurrentBasicSalary","disabled","",1,"form-control"],["id","LeaveRelatedAllowances",1,"col-form-label"],["type","text","name","LeaveRelatedAllowances","disabled","",1,"form-control"],["id","StartDateOfLastLeave",1,"col-form-label"],["type","text","name","StartDateOfLastLeave","disabled","",1,"form-control"],["id","LastReturnDate",1,"col-form-label"],["type","text","name","LastReturnDate","disabled","",1,"form-control"],["id","DepletedBalance",1,"col-form-label"],["type","text","name","DepletedBalance","disabled","",1,"form-control"],[1,"row",2,"margin-right","15px","margin-left","15px","margin-bottom","0px !important"],[1,"col-lg-6","col-md-6","col-sm-12","mb-2","mb-md-0",2,"margin-top","20px","margin-bottom","0px !important"],["type","checkbox","name","ViewVacationsAllClassifications",3,"ngModel","ngModelChange","change"],["for","sort",1,"col-form-label"],[1,"pl-4"],[1,"btn","btn-trash","success","btn","btn-link","pe-3","ps-0","mb-0","ms-auto","w-25","w-md-auto",3,"click"],[1,"ft-edit","font-medium-1"],[1,"d-flex","justify-content-between","flex-wrap","p-2","pagination-display-block"],[1,"d-flex","justify-content-center","flex-wrap",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],["name","PageSize",1,"custom-select",2,"width","auto",3,"ngModel","change","ngModelChange"],["Value","10"],["Value","20"],["Value","50"],["Value","100"]],template:function(e,t){1&e&&(D["\u0275\u0275template"](0,Gt,4,3,"div",0),D["\u0275\u0275template"](1,Ut,4,3,"div",0),D["\u0275\u0275template"](2,Jt,23,20,"section",1),D["\u0275\u0275template"](3,Vn,60,49,"section",1)),2&e&&(D["\u0275\u0275property"]("ngIf",!(t.checkRoleParms(421)||t.checkRoleParms(422)||t.checkRoleParms(423)||t.checkRoleParms(424))),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.MissingSystemSettingData),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!t.MissingSystemSettingData&&(t.checkRoleParms(421)||t.checkRoleParms(422)||t.checkRoleParms(423)||t.checkRoleParms(424))),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",!t.MissingSystemSettingData&&(t.checkRoleParms(421)||t.checkRoleParms(422)||t.checkRoleParms(423)||t.checkRoleParms(424))))},directives:[o.O5,p.Qc,c.JJ,c.On,o.mk,Ue.jx,W.Pz,W.tO,o.sg,W.nv,W.Vx,W.uN,Ft,Lt,c.Wl,W.N9,c.EJ,c.YN,c.Kr],pipes:[y.X$,o.uU],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff!important;background-color:gray!important}.tab-content[_ngcontent-%COMP%]{border:1px ridge #000;margin-top:0!important;padding-top:0}.nav.nav-pills.nav-fill[_ngcontent-%COMP%], .tab-content[_ngcontent-%COMP%]{width:97.5%;margin-right:15px;margin-left:15px}"]}),t}();function In(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name_ar)}}function Cn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name)}}function Bn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"option",22),D["\u0275\u0275template"](1,In,2,1,"div",23),D["\u0275\u0275template"](2,Cn,2,1,"div",23),D["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=D["\u0275\u0275nextContext"]();D["\u0275\u0275property"]("value",n.id),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}function On(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name_ar)}}function _n(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](n.name)}}function kn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"option",22),D["\u0275\u0275template"](1,On,2,1,"div",23),D["\u0275\u0275template"](2,_n,2,1,"div",23),D["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=D["\u0275\u0275nextContext"]();D["\u0275\u0275property"]("value",n.id),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"==a.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=a.lang)}}var Mn=function(){var e=function(){function e(t,a,i,l){n(this,e),this._generalService=t,this.cd=a,this._employeesService=i,this._employeeVacationsService=l,this.subsidiaryID=0,this.VactionTypeList=[],this.MethodOfPayingDuesList=[],this.subsidiaryID=this._generalService.SubsidiaryID}return i(e,[{key:"ngOnInit",value:function(){this.GetVactionTypes(),this.GetMethodOfPayingDues()}},{key:"GetVactionTypes",value:function(){var e=this;this._employeeVacationsService.GetVacationsTypesDependingOnBalanceForDropdown(this.subsidiaryID).subscribe(function(t){e.VactionTypeList=t,e.cd.markForCheck()})}},{key:"GetMethodOfPayingDues",value:function(){var e=this;this._employeesService.GetStaticValues("MethodOfPayingDues").subscribe(function(t){e.MethodOfPayingDuesList=t,e.cd.markForCheck()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(D["\u0275\u0275directiveInject"](T.m),D["\u0275\u0275directiveInject"](D.ChangeDetectorRef),D["\u0275\u0275directiveInject"](U.M),D["\u0275\u0275directiveInject"](Ge.C))},e.\u0275cmp=D["\u0275\u0275defineComponent"]({type:e,selectors:[["app-return-from-vacation"]],decls:66,vars:37,consts:[["method","POST","role","form"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","TransactionNo",1,"col-form-label"],[2,"color","red","font-weight","bold"],["type","text","name","TransactionNo","disabled","",1,"form-control",3,"required"],["id","VacationStartDate",1,"col-form-label"],["type","Date","id","VacationStartDate","name","VacationStartDate","disabled","",1,"form-control"],["id","Plannedenddate",1,"col-form-label"],["type","Date","name","Plannedenddate","disabled","",1,"form-control"],["id","ActualEndDate",1,"col-form-label"],["type","Date","name","ActualEndDate",1,"form-control",3,"required"],["id","VacationType",1,"col-form-label"],["name","VacationType",1,"form-control"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["id","MethodPayingDues",1,"col-form-label"],["name","MethodPayingDues",1,"form-control"],["id","Dateoffirstsalary",1,"col-form-label"],["id","Notes",1,"col-form-label"],["type","text","name","Notes",1,"form-control"],[3,"value"],[4,"ngIf"]],template:function(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"section"),D["\u0275\u0275elementStart"](1,"form",0),D["\u0275\u0275elementStart"](2,"div",1),D["\u0275\u0275elementStart"](3,"div",2),D["\u0275\u0275elementStart"](4,"div",3),D["\u0275\u0275elementStart"](5,"label",4),D["\u0275\u0275text"](6),D["\u0275\u0275pipe"](7,"translate"),D["\u0275\u0275elementStart"](8,"span",5),D["\u0275\u0275text"](9,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](10,"input",6),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](11,"div",2),D["\u0275\u0275elementStart"](12,"div",3),D["\u0275\u0275elementStart"](13,"label",7),D["\u0275\u0275text"](14),D["\u0275\u0275pipe"](15,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](16,"input",8),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](17,"div",2),D["\u0275\u0275elementStart"](18,"div",3),D["\u0275\u0275elementStart"](19,"label",9),D["\u0275\u0275text"](20),D["\u0275\u0275pipe"](21,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](22,"input",10),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](23,"div",2),D["\u0275\u0275elementStart"](24,"div",3),D["\u0275\u0275elementStart"](25,"label",11),D["\u0275\u0275text"](26),D["\u0275\u0275pipe"](27,"translate"),D["\u0275\u0275elementStart"](28,"span",5),D["\u0275\u0275text"](29,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](30,"input",12),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](31,"div",1),D["\u0275\u0275elementStart"](32,"div",2),D["\u0275\u0275elementStart"](33,"div",3),D["\u0275\u0275elementStart"](34,"label",13),D["\u0275\u0275text"](35),D["\u0275\u0275pipe"](36,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](37,"select",14),D["\u0275\u0275elementStart"](38,"option",15),D["\u0275\u0275text"](39),D["\u0275\u0275pipe"](40,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](41,Bn,3,3,"option",16),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](42,"div",2),D["\u0275\u0275elementStart"](43,"div",3),D["\u0275\u0275elementStart"](44,"label",17),D["\u0275\u0275text"](45),D["\u0275\u0275pipe"](46,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](47,"select",18),D["\u0275\u0275elementStart"](48,"option",15),D["\u0275\u0275text"](49),D["\u0275\u0275pipe"](50,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](51,kn,3,3,"option",16),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](52,"div",2),D["\u0275\u0275elementStart"](53,"div",3),D["\u0275\u0275elementStart"](54,"label",19),D["\u0275\u0275text"](55),D["\u0275\u0275pipe"](56,"translate"),D["\u0275\u0275elementStart"](57,"span",5),D["\u0275\u0275text"](58,"*"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](59,"input",12),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](60,"div",2),D["\u0275\u0275elementStart"](61,"div",3),D["\u0275\u0275elementStart"](62,"label",20),D["\u0275\u0275text"](63),D["\u0275\u0275pipe"](64,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](65,"input",21),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](7,17,"TransactionNo")),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("required",!0),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](15,19,"VacationStartDate")," "),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](21,21,"Plannedenddate")),D["\u0275\u0275advance"](6),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](27,23,"ActualEndDate")),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("required",!0),D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](36,25,"VacationType")),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngValue",null),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](40,27,"Select")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngForOf",t.VactionTypeList),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](46,29,"MethodPayingDues")),D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("ngValue",null),D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](50,31,"Select")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngForOf",t.MethodOfPayingDuesList),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](56,33,"Dateoffirstsalary")),D["\u0275\u0275advance"](4),D["\u0275\u0275property"]("required",!0),D["\u0275\u0275advance"](4),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](64,35,"Notes")))},directives:[c._Y,c.JL,c.F,c.YN,c.Kr,o.sg,o.O5],pipes:[y.X$],styles:[""]}),e}(),Pn=["dependingOnBalance"];function wn(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"div",2),D["\u0275\u0275elementStart"](1,"h1"),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,1,"HasNotPermission")," "))}function Tn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",n.name_ar," ")}}function Nn(e,t){if(1&e&&(D["\u0275\u0275elementStart"](0,"div"),D["\u0275\u0275text"](1),D["\u0275\u0275elementEnd"]()),2&e){var n=D["\u0275\u0275nextContext"]().$implicit;D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function Fn(e,t){if(1&e&&(D["\u0275\u0275template"](0,Tn,2,1,"div",1),D["\u0275\u0275template"](1,Nn,2,1,"div",1)),2&e){var n=D["\u0275\u0275nextContext"](2);D["\u0275\u0275property"]("ngIf","ar"==n.lang),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf","ar"!=n.lang)}}function An(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"button",19),D["\u0275\u0275element"](1,"i",20),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](3,1,"Save")," "))}function Ln(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"button",21),D["\u0275\u0275text"](1),D["\u0275\u0275pipe"](2,"translate"),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275advance"](1),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](2,1,"Print")," "))}var Rn=function(e,t){return{"invalid-data":e,"valid-data":t}};function Gn(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"section"),D["\u0275\u0275elementStart"](1,"div",3),D["\u0275\u0275elementStart"](2,"div",4),D["\u0275\u0275elementStart"](3,"div",5),D["\u0275\u0275elementStart"](4,"h6",6),D["\u0275\u0275text"](5),D["\u0275\u0275pipe"](6,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](7,"div",7),D["\u0275\u0275elementStart"](8,"div",8),D["\u0275\u0275elementStart"](9,"div",9),D["\u0275\u0275elementStart"](10,"div",10),D["\u0275\u0275elementStart"](11,"label",11),D["\u0275\u0275text"](12),D["\u0275\u0275pipe"](13,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementStart"](14,"p-autoComplete",12,13),D["\u0275\u0275listener"]("completeMethod",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().onCompleteEmployeeAuto(e)})("onFocus",function(e){D["\u0275\u0275restoreView"](n);var t=D["\u0275\u0275reference"](15);return D["\u0275\u0275nextContext"]().onFocusInAutoEmployeeComplete(e),t.show()})("onSelect",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().onSelectEmployeeAuto(e)})("ngModelChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().selectedEmployee=e}),D["\u0275\u0275template"](16,Fn,2,2,"ng-template",14),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](17,"div",15),D["\u0275\u0275elementStart"](18,"div",16),D["\u0275\u0275template"](19,An,4,3,"button",17),D["\u0275\u0275template"](20,Ln,3,3,"button",18),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){var a=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](5),D["\u0275\u0275textInterpolate1"](" ",D["\u0275\u0275pipeBind1"](6,11,"ReturnRegistration")," "),D["\u0275\u0275advance"](7),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](13,13,"employeeid")),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngModel",a.selectedEmployee)("suggestions",a.employeeList)("dataKey","ar"==a.lang?"name_ar":"name")("field","ar"==a.lang?"name_ar":"name")("ngClass",D["\u0275\u0275pureFunction2"](15,Rn,a.employeeTextboxInvalid,!a.employeeTextboxInvalid)),D["\u0275\u0275advance"](4),D["\u0275\u0275styleMap"]("ar"==a.lang?"text-align: left;":"text-align: right;"),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",a.checkRoleParms(23003)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",a.checkRoleParms(23004))}}function Un(e,t){1&e&&D["\u0275\u0275element"](0,"app-return-from-vacation")}function jn(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"li",27),D["\u0275\u0275elementStart"](1,"a",28),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](4,Un,1,0,"ng-template",29),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275property"]("ngbNavItem",1),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](3,2,"ReturnFromVacation")))}function Yn(e,t){1&e&&D["\u0275\u0275text"](0," test 2 ")}function Wn(e,t){1&e&&(D["\u0275\u0275elementStart"](0,"li",27),D["\u0275\u0275elementStart"](1,"a",28),D["\u0275\u0275text"](2),D["\u0275\u0275pipe"](3,"translate"),D["\u0275\u0275elementEnd"](),D["\u0275\u0275template"](4,Yn,1,0,"ng-template",29),D["\u0275\u0275elementEnd"]()),2&e&&(D["\u0275\u0275property"]("ngbNavItem",2),D["\u0275\u0275advance"](2),D["\u0275\u0275textInterpolate"](D["\u0275\u0275pipeBind1"](3,2,"EditPreviousReturn")))}function $n(e,t){if(1&e){var n=D["\u0275\u0275getCurrentView"]();D["\u0275\u0275elementStart"](0,"section"),D["\u0275\u0275elementStart"](1,"div",22),D["\u0275\u0275elementStart"](2,"div",8),D["\u0275\u0275elementStart"](3,"ul",23,24),D["\u0275\u0275listener"]("activeIdChange",function(e){return D["\u0275\u0275restoreView"](n),D["\u0275\u0275nextContext"]().activeId=e}),D["\u0275\u0275template"](5,jn,5,4,"li",25),D["\u0275\u0275template"](6,Wn,5,4,"li",25),D["\u0275\u0275elementEnd"](),D["\u0275\u0275element"](7,"div",26),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"](),D["\u0275\u0275elementEnd"]()}if(2&e){var a=D["\u0275\u0275reference"](4),i=D["\u0275\u0275nextContext"]();D["\u0275\u0275advance"](3),D["\u0275\u0275property"]("activeId",i.activeId),D["\u0275\u0275advance"](2),D["\u0275\u0275property"]("ngIf",i.checkRoleParms(23001)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",i.checkRoleParms(23002)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngbNavOutlet",a)}}function zn(e){return new h.z(e,[{prefix:"assets/i18n/HR/",suffix:".json"},{prefix:"assets/i18n/shared/",suffix:".json"},{prefix:"assets/i18n/app/",suffix:".json"}])}var qn,Hn,Kn=[{path:"",component:b},{path:"startupbalance",component:Le},{path:"vacationregistration",component:En},{path:"returnregistration",component:(qn=function(){function t(e,a,i,l,o,r){var s=this;n(this,t),this._employeesService=e,this._generalService=a,this.cdr=i,this._TranslateGlobalService=l,this.translate=o,this._authService=r,this.subsidaryid=0,this.employeeList=[],this.selectedEmployee={},this.previousSelectedEmployee={},this.employeeTextboxInvalid=!1,this.employeeid=0,this.previousEmployeeID=0,this.isEditMode=!1,this.isAddMode=!1,this.activeId=1,this.Cancel="",this.ngTransUnsubscribe=this._TranslateGlobalService.currentLang.subscribe(function(e){s.lang=e.lang,s.dir=e.dir,s.translate.use(e.lang)}),this.ngTransUnsubscribe=this.translate.get(["Cancel"]).subscribe(function(e){s.Cancel=e.Cancel}),this.subsidaryid=this._generalService.SubsidiaryID,this.ngUnsubscribe=a.proadCastSubsidiaryID.subscribe(function(e){0==s.subsidaryid&&(s.subsidaryid=s._generalService.SubsidiaryID,s.cdr.markForCheck()),s.subsidaryid!=s._generalService.SubsidiaryID&&s.subsidaryid>0&&(s.subsidaryid=s._generalService.SubsidiaryID,s.cdr.markForCheck())})}return i(t,[{key:"ngOnInit",value:function(){}},{key:"onCompleteEmployeeAuto",value:function(t){var n,a=this;n=t.query?t.query.trim():"",this._employeesService.getHrEmployees(this.subsidaryid,n).subscribe(function(t){a.employeeList=[],a.employeeList=[].concat(e(a.employeeList),e(t)),a.cdr.markForCheck()})}},{key:"onFocusInAutoEmployeeComplete",value:function(e){var t=e.target.value;null!=t&&""!=t||this.onCompleteEmployeeAuto(e),this.onCompleteEmployeeAuto(e)}},{key:"onSelectEmployeeAuto",value:function(e){return(0,Re.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))}},{key:"DestroyDependingOnBalance",value:function(){this.isAddMode=!1,this.isEditMode=!1}},{key:"checkRoleParms",value:function(e){var t=!0;return this._authService.isHasRole([e])||(t=!1),t}}]),t}(),qn.\u0275fac=function(e){return new(e||qn)(D["\u0275\u0275directiveInject"](U.M),D["\u0275\u0275directiveInject"](T.m),D["\u0275\u0275directiveInject"](D.ChangeDetectorRef),D["\u0275\u0275directiveInject"](G.K),D["\u0275\u0275directiveInject"](y.sK),D["\u0275\u0275directiveInject"](R.e))},qn.\u0275cmp=D["\u0275\u0275defineComponent"]({type:qn,selectors:[["app-return-registration"]],viewQuery:function(e,t){var n;1&e&&D["\u0275\u0275viewQuery"](Pn,5),2&e&&D["\u0275\u0275queryRefresh"](n=D["\u0275\u0275loadQuery"]())&&(t.dependingOnBalance=n.first)},decls:3,vars:3,consts:[["class","row","style","text-align: center",4,"ngIf"],[4,"ngIf"],[1,"row",2,"text-align","center"],[1,"card","my-4","mx-2","px-3"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2"],[1,"bg-gradient-secondary","border-radius-lg","pt-2","pl-2","pr-2","pb-2","mb-2"],[1,"text-white","text-capitalize","cardTitle"],[1,"card-body"],[1,"row"],[1,"col-lg-4","col-md-4","col-sm-12","mb-2","mb-md-0"],[1,"form-group"],["id","employeeid",1,"col-form-label"],["id","Employee","name","Employee",1,"inline-flex",3,"ngModel","suggestions","dataKey","field","ngClass","completeMethod","onFocus","onSelect","ngModelChange"],["autoEmployee",""],["pTemplate","item"],[1,"col-lg-3","col-md-3","col-sm-12","mb-2","mb-md-0"],[1,"col-lg-5","col-md-5","col-sm-12","mb-2","mb-md-0",2,"margin-top","30px"],["type","submit","class","btn btn-success mb-0 me-3 btn-md",4,"ngIf"],["class","btn btn-warning mb-0 me-3 ng-star-inserted",4,"ngIf"],["type","submit",1,"btn","btn-success","mb-0","me-3","btn-md"],[1,"ft-check-square","mr-1"],[1,"btn","btn-warning","mb-0","me-3","ng-star-inserted"],[1,"card"],["ngbNav","",1,"nav","nav-pills","nav-fill","p-1",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""]],template:function(e,t){1&e&&(D["\u0275\u0275template"](0,wn,4,3,"div",0),D["\u0275\u0275template"](1,Gn,21,18,"section",1),D["\u0275\u0275template"](2,$n,8,4,"section",1)),2&e&&(D["\u0275\u0275property"]("ngIf",!t.checkRoleParms(23001)&&!t.checkRoleParms(23002)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.checkRoleParms(23001)||t.checkRoleParms(23002)),D["\u0275\u0275advance"](1),D["\u0275\u0275property"]("ngIf",t.checkRoleParms(23001)||t.checkRoleParms(23002)))},directives:[o.O5,p.Qc,c.JJ,c.On,o.mk,Ue.jx,W.Pz,W.tO,W.nv,W.Vx,W.uN,Mn],pipes:[y.X$],styles:[".nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff!important;background-color:gray!important}.tab-content[_ngcontent-%COMP%]{border:1px ridge #000;margin-top:0!important;padding-top:0}.nav.nav-pills.nav-fill[_ngcontent-%COMP%], .tab-content[_ngcontent-%COMP%]{width:97.5%;margin-right:15px;margin-left:15px}"]}),qn)}],Jn=((Hn=function e(){n(this,e)}).\u0275fac=function(e){return new(e||Hn)},Hn.\u0275mod=D["\u0275\u0275defineNgModule"]({type:Hn}),Hn.\u0275inj=D["\u0275\u0275defineInjector"]({providers:[y.gM,y.sK,E,I.J,C.x,B.b,O.n,U.M,Ge.C],imports:[[c.u5,o.ez,r.m,m.$,g.kW,c.UX,u.Bz.forChild(Kn),p.WN,j.q4,W.Oz,s.xc,f.fx,y.aw.forChild({loader:{provide:y.Zw,useFactory:zn,deps:[d.eN]},extend:!0}),v.xC,S.Iu]]}),Hn)},98794:function(e,t,a){"use strict";a.d(t,{f:function(){return o}});var l=a(31572),o=function(){var e=function(){function e(t){n(this,e),this.el=t,this.regex=new RegExp(/^[0-9-+()]*$/g),this.specialKeys=["Backspace","Tab","ArrowLeft","ArrowRight","-","+","(",")"]}return i(e,[{key:"onKeyDown",value:function(e){if(-1===this.specialKeys.indexOf(e.key)&&!(86===e.keyCode&&(e.ctrlKey||e.metaKey)||67===e.keyCode&&(e.ctrlKey||e.metaKey))){var t=this.el.nativeElement.value.concat(e.key);t&&!String(t).match(this.regex)&&e.preventDefault()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](l.ElementRef))},e.\u0275dir=l["\u0275\u0275defineDirective"]({type:e,selectors:[["","NumbersWithSpacialChars",""]],hostBindings:function(e,t){1&e&&l["\u0275\u0275listener"]("keydown",function(e){return t.onKeyDown(e)})}}),e}()}}])}();